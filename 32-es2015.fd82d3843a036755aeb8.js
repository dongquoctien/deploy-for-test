(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"7G9D":function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var o=i("tk/3"),n=i("IzEk"),a=i("LvDl"),s=i("fXoL"),c=i("tpT/"),r=i("EsKh");let l=(()=>{class e{constructor(e,t){this.api=e,this.alertService=t}imageCheck(e){if(0===e.target.files.length)return!1;const t=e.target.files[0];if(t.size>2e6)return this.alertService.alert("\ud30c\uc77c \uc0ac\uc774\uc988\ub294 2MB\ub97c \ub118\uae38 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"),!1;let i=this.parseFileName(t.name);const o=i.toLowerCase(),n=o.lastIndexOf("."),a=o.substring(n+1);if(n<0)i+=".jpg";else if("jpg"!==a&&"png"!==a&&"jpeg"!==a)return this.alertService.alert("\uc774\ubbf8\uc9c0 \ud30c\uc77c\uc774 \uc544\ub2d9\ub2c8\ub2e4. \ub2e4\uc2dc \ud655\uc778\ud574 \uc8fc\uc138\uc694."),!1;return t}pdfCheck(e){if(0===e.target.files.length)return!1;const t=e.target.files[0];let i=this.parseFileName(t.name);const o=i.toLowerCase(),n=o.lastIndexOf("."),a=o.substring(n+1);if(n<0)i+=".pdf";else if("pdf"!==a)return this.alertService.alert("PDF \ud30c\uc77c\uc774 \uc544\ub2d9\ub2c8\ub2e4. \ub2e4\uc2dc \ud655\uc778\ud574 \uc8fc\uc138\uc694."),!1;return t}excelCheck(e){if(0===e.target.files.length)return!1;const t=e.target.files[0];let i=this.parseFileName(t.name);const o=i.toLowerCase(),n=o.lastIndexOf("."),a=o.substring(n+1);if(n<0)i+=".xls";else if("xls"!==a&&"xlsx"!==a)return this.alertService.alert("\uc5d1\uc140 \ud30c\uc77c\uc774 \uc544\ub2d9\ub2c8\ub2e4. \ub2e4\uc2dc \ud655\uc778\ud574 \uc8fc\uc138\uc694."),!1;return t}imageUpload(e,t){const i=new FormData;for(const n in t)if(t.hasOwnProperty(n))try{i.set(n,t[n])}catch(o){i.append(n,t[n])}return this.api.post(e,i)}fileUpload(e,t){const i=new FormData;for(const n in t)if(t.hasOwnProperty(n))try{i.set(n,t[n])}catch(o){i.append(n,t[n])}return this.api.put(e,i)}fileDelete(e,t){const i=Object.assign({},this.api.defaultParams,{condition:t});return this.api.delete(e,i)}fileDownload(e){let t,i;switch(e.params||(e=Object.assign(e,{params:""})),e.type||(e.type="excel"),e.type){case"excel":t=".xls",i="application/vnd.ms-excel";break;case"pdf":t=".pdf",i="application/pdf"}const s=o=>{const n=document.createElement("a"),a=new Blob([o],{type:i});n.href=URL.createObjectURL(a),n.download=e.filename+t,n.click()};if("post"===e.requestMethod){const t=a.assign({},this.api.defaultParams,{condition:e.params});return this.api.postBlob(e.url,t).pipe(Object(n.a)(1)).subscribe(e=>{"application/json"===e.type?this.alertService.alert("You must wait a minute before making another request."):s(e)})}return this.api.get(e.url,e.params,{responseType:"blob",headers:new o.e({"Content-Type":"application/json",Accept:"application/json"})}).pipe(Object(n.a)(1)).subscribe(e=>{s(e)})}parseFileName(e){const t=/[\{\}\[\]\/?,;:|\)*~`!^\-_+<>@\#$%&\\\=\(\'\"' ']/gi,i=e;return t.test(i)?i.replace(t,""):i}}return e.\u0275fac=function(t){return new(t||e)(s.bc(c.a),s.bc(r.a))},e.\u0275prov=s.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"BA+4":function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var o=i("fXoL"),n=i("gwvt"),a=i("jhN1"),s=i("ofXK");const c=["basicfileinput"];function r(e,t){if(1&e){const e=o.Xb();o.Wb(0,"label"),o.Wb(1,"input",4,5),o.fc("change",(function(t){return o.Fc(e),o.hc().onFileSelect(t)}))("focus",(function(){return o.Fc(e),o.hc().onFocus()}))("blur",(function(){return o.Fc(e),o.hc().onBlur()})),o.Vb(),o.Vb()}if(2&e){const e=o.hc();o.Cb(1),o.pc("accept",e.accept)("multiple",e.multiple)("disabled",e.disabled)}}function l(e,t){if(1&e){const e=o.Xb();o.Wb(0,"label",6),o.nc(1),o.Wb(2,"input",4,5),o.fc("change",(function(t){return o.Fc(e),o.hc().onFileSelect(t)}))("focus",(function(){return o.Fc(e),o.hc().onFocus()}))("blur",(function(){return o.Fc(e),o.hc().onBlur()})),o.Vb(),o.Vb()}if(2&e){const e=o.hc();o.Gb("disabled",e.disabled),o.Cb(2),o.pc("accept",e.accept)("multiple",e.multiple)("disabled",e.disabled)}}function d(e,t){if(1&e){const e=o.Xb();o.Wb(0,"label",7),o.Wb(1,"span",8),o.Wb(2,"em"),o.Pc(3),o.Vb(),o.Vb(),o.Rb(4,"span",9),o.Wb(5,"input",10,5),o.fc("change",(function(t){return o.Fc(e),o.hc().onFileSelect(t)}))("focus",(function(){return o.Fc(e),o.hc().onFocus()}))("blur",(function(){return o.Fc(e),o.hc().onBlur()})),o.Vb(),o.Vb()}if(2&e){const e=o.hc();o.Cb(1),o.pc("title",e.displayName),o.Cb(2),o.Qc(e.displayName),o.Cb(2),o.pc("accept",e.accept)("multiple",e.multiple)("disabled",e.disabled)}}const p=["*"];let u=(()=>{class e{constructor(e,t,i){this.el=e,this.sanitizer=t,this.zone=i,this.method="POST",this.invalidFileSizeMessageSummary="\uc5c5\ub85c\ub4dc \uac00\ub2a5\ud55c \ucd5c\ub300 \uc0ac\uc774\uc988\ub97c \ucd08\uacfc\ud588\uc2b5\ub2c8\ub2e4.",this.invalidFileTypeMessageSummary="\ud30c\uc77c \ud0c0\uc785\uc774 \uc815\ud655\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.",this.invalidFileLimitMessageSummary="\uc5c5\ub85c\ub4dc \uac00\ub2a5\ud55c \ud30c\uc77c \ucd5c\ub300 \uac1c\uc218\ub97c \ucd08\uacfc\ud588\uc2b5\ub2c8\ub2e4.",this.previewWidth=50,this.chooseLabel="Choose a file...",this.mode="basic",this.labelType="default",this.onBeforeUpload=new o.n,this.onSend=new o.n,this.onUpload=new o.n,this.onError=new o.n,this.onClear=new o.n,this.onRemove=new o.n,this.onSelect=new o.n,this.onProgress=new o.n,this.uploadHandler=new o.n,this._files=[],this.progress=0,this.uploadedFileCount=0}get invalid(){return this.isInvalid}set files(e){this._files=[];for(const t of e)this.validate(t)&&(this.isImage(t)&&(t.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(t))),this._files.push(t))}get files(){return this._files}get displayName(){return this.displayValue?this.displayValue:this.hasFiles()?this.files[0].name:this.chooseLabel}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"file":this.fileTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"toolbar":this.toolbarTemplate=e.template;break;default:this.fileTemplate=e.template}})}onFileSelect(e){if("drop"!==e.type&&this.isIE11()&&this.duplicateIEEvent)return void(this.duplicateIEEvent=!1);this.isInvalidFlag=!1,this.multiple||(this.files=[]);const t=e.dataTransfer?e.dataTransfer.files:e.target.files;for(const i of t)this.isFileSelected(i)||(this.validate(i)?(this.isImage(i)&&(i.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(i))),this.files.push(i)):this.isInvalidFlag=!0);this.onSelect.emit({originalEvent:e,files:t,isInvalid:this.isInvalidFlag}),this.fileLimit&&"advanced"===this.mode&&this.checkFileLimit(),!this.hasFiles()||!this.auto||"advanced"===this.mode&&this.isFileLimitExceeded()||this.upload(),"drop"!==e.type&&this.isIE11()?this.clearIEInput():this.clearInputElement()}isFileSelected(e){for(const t of this.files)if(t.name+t.type+t.size===e.name+e.type+e.size)return!0;return!1}isIE11(){return!!window.MSInputMethodContext&&!!document.documentMode}validate(e){return this.accept&&!this.isFileTypeValid(e)?(this.onError.emit(this.invalidFileLimitMessageSummary),!1):!(this.maxFileSize&&e.size>this.maxFileSize&&(this.onError.emit(this.invalidFileSizeMessageSummary),1))}isFileTypeValid(e){const t=this.accept.split(",").map(e=>e.trim());for(const i of t)if(this.isWildcard(i)?this.getTypeClass(e.type)===this.getTypeClass(i):e.type===i||this.getFileExtension(e).toLowerCase()===i.toLowerCase())return!0;return!1}getTypeClass(e){return e.substring(0,e.indexOf("/"))}isWildcard(e){return-1!==e.indexOf("*")}getFileExtension(e){return"."+e.name.split(".").pop()}isImage(e){return/^image\//.test(e.type)}onImageLoad(e){window.URL.revokeObjectURL(e.src)}upload(){}clear(){this.files=[],this.onClear.emit(),this.clearInputElement()}remove(e,t){this.clearInputElement(),this.onRemove.emit({originalEvent:e,file:this.files[t]}),this.files.splice(t,1)}isFileLimitExceeded(){return this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount&&this.focus&&(this.focus=!1),this.fileLimit&&this.fileLimit<this.files.length+this.uploadedFileCount}isChooseDisabled(){return this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount}checkFileLimit(){this.isFileLimitExceeded()}clearInputElement(){this.basicFileInput&&this.basicFileInput.nativeElement&&(this.basicFileInput.nativeElement.value="")}clearIEInput(){}hasFiles(){return this.files&&this.files.length>0}onDragEnter(e){this.disabled||(e.stopPropagation(),e.preventDefault())}onDragOver(e){this.disabled||(this.dragHighlight=!0,e.stopPropagation(),e.preventDefault())}onDragLeave(e){}onDrop(e){if(!this.disabled){e.stopPropagation(),e.preventDefault();const t=e.dataTransfer?e.dataTransfer.files:e.target.files;(this.multiple||t&&1===t.length)&&this.onFileSelect(e)}}onFocus(){this.focus=!0}onBlur(){this.focus=!1}formatSize(e){if(0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1e3));return parseFloat((e/Math.pow(1e3,t)).toFixed(3))+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][t]}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(o.l),o.Qb(a.b),o.Qb(o.z))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-file-upload"]],contentQueries:function(e,t,i){var a;1&e&&o.Ib(i,n.a,!1),2&e&&o.Dc(a=o.gc())&&(t.templates=a)},viewQuery:function(e,t){var i;1&e&&o.Xc(c,!0),2&e&&o.Dc(i=o.gc())&&(t.basicFileInput=i.first)},hostAttrs:[1,"input-file"],hostVars:2,hostBindings:function(e,t){2&e&&o.Gb("valid-error",t.invalid)},inputs:{name:"name",url:"url",method:"method",multiple:"multiple",accept:"accept",disabled:"disabled",auto:"auto",withCredentials:"withCredentials",maxFileSize:"maxFileSize",invalidFileSizeMessageSummary:"invalidFileSizeMessageSummary",invalidFileTypeMessageSummary:"invalidFileTypeMessageSummary",invalidFileLimitMessageSummary:"invalidFileLimitMessageSummary",styleClass:"styleClass",previewWidth:"previewWidth",displayValue:"displayValue",chooseLabel:"chooseLabel",mode:"mode",customUpload:"customUpload",fileLimit:"fileLimit",labelType:"labelType",isInvalid:"isInvalid",files:"files"},outputs:{onBeforeUpload:"onBeforeUpload",onSend:"onSend",onUpload:"onUpload",onError:"onError",onClear:"onClear",onRemove:"onRemove",onSelect:"onSelect",onProgress:"onProgress",uploadHandler:"uploadHandler"},ngContentSelectors:p,decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],["class","btn btn-outline-dark sm",3,"disabled",4,"ngSwitchCase"],["class","file-label",4,"ngSwitchDefault"],["type","file",3,"accept","multiple","disabled","change","focus","blur"],["basicfileinput",""],[1,"btn","btn-outline-dark","sm"],[1,"file-label"],[1,"file-name",3,"title"],["data-name","Select",1,"upload"],["type","file",1,"file",3,"accept","multiple","disabled","change","focus","blur"]],template:function(e,t){1&e&&(o.oc(),o.Ub(0,0),o.Nc(1,r,3,3,"label",1),o.Nc(2,l,4,5,"label",2),o.Nc(3,d,7,5,"label",3),o.Tb()),2&e&&(o.pc("ngSwitch",t.labelType),o.Cb(1),o.pc("ngSwitchCase","photoList"),o.Cb(1),o.pc("ngSwitchCase","button"))},directives:[s.q,s.r,s.s],encapsulation:2}),e})()},LVFn:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var o=i("3qRM"),n=i("W1wq"),a=i("fXoL");let s=(()=>{class e extends o.b{}return e.\u0275fac=function(t){return c(t||e)},e.\u0275cmp=a.Kb({type:e,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[a.Bb([n.b]),a.zb],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),e})();const c=a.Yb(s)},Onn4:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var o=i("fXoL"),n=i("3Pt+"),a=i("ofXK");const s=["rb"],c=function(){return{radio:!0}},r={provide:n.p,useExisting:Object(o.U)(()=>l),multi:!0};let l=(()=>{class e{constructor(e){this.cd=e,this.onClick=new o.n,this.onFocus=new o.n,this.onBlur=new o.n,this.onModelChange=()=>{},this.onModelTouched=()=>{}}handleClick(e,t,i){e.preventDefault(),this.disabled||(this.select(e),i&&t.focus())}select(e){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.onClick.emit(e))}writeValue(e){this.checked=e===this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onModelTouched(),this.onBlur.emit(e)}onChange(e){this.select(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(o.h))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-radio"]],viewQuery:function(e,t){var i;1&e&&o.Kc(s,!0),2&e&&o.Dc(i=o.gc())&&(t.inputViewChild=i.first)},inputs:{value:"value",name:"name",disabled:"disabled",label:"label",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",checked:"checked"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[o.Bb([r])],decls:5,vars:11,consts:[[3,"ngClass","click"],["type","radio",1,"radio-control-input",3,"checked","disabled","change","focus","blur"],["rb",""],[1,"radio-control-text"]],template:function(e,t){1&e&&(o.Wb(0,"label",0),o.fc("click",(function(e){return t.select(e)})),o.Wb(1,"input",1,2),o.fc("change",(function(e){return t.onChange(e)}))("focus",(function(e){return t.onInputFocus(e)}))("blur",(function(e){return t.onInputBlur(e)})),o.Vb(),o.Wb(3,"span",3),o.Pc(4),o.Vb(),o.Vb()),2&e&&(o.Eb(t.styleClass),o.pc("ngClass",o.tc(10,c)),o.Cb(1),o.pc("checked",t.checked)("disabled",t.disabled),o.Db("id",t.inputId)("name",t.name)("value",t.value)("tabindex",t.tabindex),o.Cb(3),o.Qc(t.label))},directives:[a.l],encapsulation:2}),e})()},Vwqj:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));class o{static csv(){return".csv"}static excel(){return"application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}static txt(){return"text/plain"}static image(){return"image/*"}static html(){return"text/html"}static video(){return"video/*"}static audio(){return"audio/*"}static pdf(){return".pdf"}}},YH7L:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var o=i("ofXK"),n=i("3Pt+"),a=i("fXoL");let s=(()=>{class e{}return e.\u0275mod=a.Ob({type:e}),e.\u0275inj=a.Nb({factory:function(t){return new(t||e)},imports:[[o.c,n.m,n.w]]}),e})()},"kd+X":function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var o=i("fXoL"),n=i("3Pt+"),a=i("baeO"),s=i("8LU1"),c=i("FtGj"),r=i("quSY"),l=i("95bG");class d{constructor(e,t){this.target=e,this.targetElement=t,this.value=this.target.value}}let p=(()=>{class e{constructor(e,t,i){if(this._elementRef=e,this._dateAdapter=t,this._dateFormats=i,this.dateChange=new o.n,this.dateInput=new o.n,this._valueChange=new o.n,this._disabledChange=new o.n,this._valueChangesSubscription=r.a.EMPTY,this._localeSubscription=r.a.EMPTY,this._lastValueValid=!1,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=e=>{const t=this._getValidDateOrNull(this._dateAdapter.deserialize(e.value)),i=this._getDateFilter();return i&&t&&!i(t)?{matDatepickerFilter:!0}:null},this._minValidator=e=>{const t=this._getValidDateOrNull(this._dateAdapter.deserialize(e.value)),i=this._getMinDate();return!i||!t||this._dateAdapter.compareDate(i,t)<=0?null:{matDatepickerMin:{min:i,actual:t}}},this._maxValidator=e=>{const t=this._getValidDateOrNull(this._dateAdapter.deserialize(e.value)),i=this._getMaxDate();return!i||!t||this._dateAdapter.compareDate(i,t)>=0?null:{matDatepickerMax:{max:i,actual:t}}},!this._dateAdapter)throw Object(l.a)("DateAdapter");if(!this._dateFormats)throw Object(l.a)("MAT_DATE_FORMATS");this._localeSubscription=t.localeChanges.subscribe(()=>{this.value=this.value})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=!e||this._dateAdapter.isValid(e),e=this._getValidDateOrNull(e);const t=this.value;this._assignValue(e),this._formatValue(e),this._dateAdapter.sameDate(t,e)||this._valueChange.emit(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const t=Object(s.c)(e),i=this._elementRef.nativeElement;this._disabled!==t&&(this._disabled=t,this._disabledChange.emit(t)),t&&this._isInitialized&&i.blur&&i.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(e=>{if(e.source!==this){const t=this._getValueFromModel(e.selection);this._cvaOnChange(this._dateAdapter.format(t,this._dateFormats.display.dateInput)),this._onTouched(),this._formatValue(t),this.dateInput.emit(new d(this,this._elementRef.nativeElement)),this.dateChange.emit(new d(this,this._elementRef.nativeElement)),this._outsideValueChanged&&this._outsideValueChanged()}})}ngAfterViewInit(){this._isInitialized=!0}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this._valueChange.complete(),this._disabledChange.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this.value=e}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&e.keyCode===c.b&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const t=this._lastValueValid;let i=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=!i||this._dateAdapter.isValid(i),i=this._getValidDateOrNull(i),this._dateAdapter.sameDate(i,this.value)?t!==this._lastValueValid&&this._validatorOnChange():(this._assignValue(i),this._cvaOnChange(i?this._dateAdapter.format(i,this._dateFormats.display.dateInput):null),this._valueChange.emit(i),this.dateInput.emit(new d(this,this._elementRef.nativeElement)));const o=this._convertDateInput(e);this._elementRef.nativeElement.value=o}_onChange(){this.dateChange.emit(new d(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_getValidDateOrNull(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_parentDisabled(){return!1}_convertDateInput(e){if(e.length>10)return e.substr(0,10);let t=e.replace(/[^\d]/g,"");return t=t.length<7?t.replace(/(\d{4})(\d{1,2})/g,"$1-$2"):t.replace(/(\d{4})(\d{2})(\d{1,2})/g,"$1-$2-$3"),t}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(o.l),o.Qb(a.a,8),o.Qb(a.c,8))},e.\u0275dir=o.Lb({type:e,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"}}),e})();const u={provide:n.p,useExisting:Object(o.U)(()=>m),multi:!0},b={provide:n.o,useExisting:Object(o.U)(()=>m),multi:!0};let m=(()=>{class e extends p{constructor(e,t,i){super(e,t,i),this._validator=n.z.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._registerModel(e._registerInput(this)))}get min(){return this._min}set min(e){this._min=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._validatorOnChange()}get max(){return this._max}set max(e){this._max=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._validatorOnChange()}get dateFilter(){return this._dateFilter}set dateFilter(e){this._dateFilter=e,this._validatorOnChange()}getConnectedOverlayOrigin(){return this._elementRef}getThemePalette(){}getStartValue(){return this.value}getPopupConnectionElementRef(){return this.getConnectedOverlayOrigin()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(o.l),o.Qb(a.a,8),o.Qb(a.c,8))},e.\u0275dir=o.Lb({type:e,selectors:[["input","matDatepicker",""]],hostVars:5,hostBindings:function(e,t){1&e&&o.fc("input",(function(e){return t._onInput(e.target.value)}))("change",(function(){return t._onChange()}))("blur",(function(){return t._onBlur()}))("keydown",(function(e){return t._onKeydown(e)})),2&e&&(o.Zb("disabled",t.disabled),o.Db("aria-haspopup",t._datepicker?"dialog":null)("aria-owns",(null==t._datepicker?null:t._datepicker.opened)&&t._datepicker.id||null)("min",t.min?t._dateAdapter.toIso8601(t.min):null)("max",t.max?t._dateAdapter.toIso8601(t.max):null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[o.Bb([u,b]),o.zb]}),e})()},nMd8:function(e,t,i){"use strict";i.d(t,"a",(function(){return C}));var o=i("fXoL"),n=i("3Pt+"),a=i("LvDl"),s=i("XNiG"),c=i("itXk"),r=i("1G5W"),l=i("pLZG"),d=i("YY+H"),p=i("kt0X"),u=i("ofXK");function b(e,t){if(1&e&&(o.Wb(0,"option",3),o.Pc(1),o.Vb()),2&e){const e=o.hc();o.pc("ngValue",null),o.Cb(1),o.Qc(e.useAllOptionName)}}function m(e,t){if(1&e&&(o.Wb(0,"option",3),o.Pc(1),o.Vb()),2&e){const e=t.$implicit,i=o.hc();o.pc("ngValue",e),o.Cb(1),o.Qc(i.displayKey?e[i.displayKey]:e)}}const h={provide:n.p,useExisting:Object(o.U)(()=>C),multi:!0};let C=(()=>{class e{constructor(e,t){this._store=e,this._cdr=t,this.useAllOptionYn=!0,this.useAllOptionName="All",this.dataKey="detailCode",this.onChange=new o.n,this._unsubscribe$=new s.a,this._options$=new s.a,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.selectedLanguage$=this._store.select(d.f)}get invalid(){return this.isInvalid}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get options(){return this._options}set options(e){this._options=e,this._options$.next(e),this.updateSelectedOption(this.value)}ngOnInit(){this.updateSelectedOption(null),this._initSubscription()}ngAfterViewInit(){this.options&&this._options$.next(this.options)}ngOnDestroy(){this._options$.next(null),this._options$.complete(),this._unsubscribe$.next(),this._unsubscribe$.complete()}writeValue(e){this.value=e,this.updateSelectedOption(e)}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}compareFn(e,t){return this.dataKey?e[this.dataKey]===t[this.dataKey]:e===t}selectItem(e){this.selectedOption=e,this.value=this._getValue(e),this.onModelChange(this.value),this.onChange.emit({value:this.value,option:e})}updateSelectedOption(e){this.selectedOption=this._findOption(e,this.options)}_findOption(e,t){return this.dataKey?a.find(t,t=>t[this.dataKey]===e)||null:e}_getValue(e){return a.isNil(e)?null:e[this.dataKey]}_initSubscription(){if(this.displayKey)return;let e=null;Object(c.a)([this.selectedLanguage$,this._options$]).pipe(Object(r.a)(this._unsubscribe$),Object(l.a)(([e,t])=>t&&t.length>0)).subscribe(([t,i])=>{let o;if(a.isNil(t)&&(t="EN"),!e&&i&&(e=t),e===t&&(this.displayKey=this.displayWord+"Ln",Object.keys(i[0]).includes(this.displayKey)))this._cdr.detectChanges();else{switch(t){case"EN":o=this._findDisplayKey(i,this.displayWord,["En"]);break;case"KO":o=this._findDisplayKey(i,this.displayWord,["Ko","Kr"]);break;case"JA":o=this._findDisplayKey(i,this.displayWord,["Ja","Jp"]);break;case"ZH":o=this._findDisplayKey(i,this.displayWord,["Zh","Cn"]);break;case"VI":o=this._findDisplayKey(i,this.displayWord,["Vi","Vn"])}this.displayKey=o||this.displayWord+"En",this._cdr.detectChanges()}})}_findDisplayKey(e,t,i){if(!e||0===e.length)return null;if(console.log(t,"displayWord"),!t)return null;const o=Object.keys(e[0]);for(const n of i){const e=t+n;if(o.includes(e))return e;if(o.includes(t))return e}return null}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(p.h),o.Qb(o.h))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-selectbox-detailcode"]],hostAttrs:[1,"select-box"],hostVars:2,hostBindings:function(e,t){2&e&&o.Gb("valid-error",t.invalid)},inputs:{name:"name",useAllOptionYn:"useAllOptionYn",useAllOptionName:"useAllOptionName",dataKey:"dataKey",displayKey:"displayKey",displayWord:"displayWord",isInvalid:"isInvalid",disabled:"disabled",options:"options"},outputs:{onChange:"onChange"},features:[o.Bb([h])],decls:3,vars:6,consts:[[3,"compareWith","ngModel","disabled","ngModelChange"],[3,"ngValue",4,"ngIf"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(e,t){1&e&&(o.Wb(0,"select",0),o.fc("ngModelChange",(function(e){return t.selectItem(e)})),o.Nc(1,b,2,2,"option",1),o.Nc(2,m,2,2,"option",2),o.Vb()),2&e&&(o.pc("compareWith",t.compareFn)("ngModel",t.selectedOption)("disabled",t.disabled),o.Db("name",t.name),o.Cb(1),o.pc("ngIf",t.useAllOptionYn),o.Cb(1),o.pc("ngForOf",t.options))},directives:[n.y,n.r,n.u,u.o,u.n,n.v,n.A],encapsulation:2}),e})()},og4o:function(e,t,i){"use strict";i.r(t),i.d(t,"CONTAINERS",(function(){return Yc})),i.d(t,"COMPONENTS",(function(){return Bc})),i.d(t,"UsCompModule",(function(){return Hc}));var o={};i.r(o),i.d(o,"initStateAction",(function(){return D})),i.d(o,"loadCompTypeList",(function(){return N})),i.d(o,"getCompTypeListSuccess",(function(){return M})),i.d(o,"getCompTypeListFailure",(function(){return x})),i.d(o,"loadTradeStatusList",(function(){return R})),i.d(o,"getTradeStatusListSuccess",(function(){return A})),i.d(o,"getTradeStatusListFailure",(function(){return E})),i.d(o,"loadPicTypeCodeList",(function(){return $})),i.d(o,"getPicTypeCodeListSuccess",(function(){return U})),i.d(o,"getPicTypeCodeListFailure",(function(){return w})),i.d(o,"loadSellerBranchTypeList",(function(){return Y})),i.d(o,"getSellerBranchTypeListSuccess",(function(){return B})),i.d(o,"getSellerBranchTypeListFailure",(function(){return H})),i.d(o,"loadLanguageCodeList",(function(){return q})),i.d(o,"getLanguageCodeListSuccess",(function(){return G})),i.d(o,"getLanguageCodeListFailure",(function(){return z})),i.d(o,"loadCurrencyList",(function(){return K})),i.d(o,"getCurrencyListSuccess",(function(){return Q})),i.d(o,"getCurrencyListFailure",(function(){return X})),i.d(o,"loadMarkupMasterList",(function(){return Z})),i.d(o,"getMarkupMasterListSuccess",(function(){return J})),i.d(o,"getMarkupMasterListFailure",(function(){return ee})),i.d(o,"loadActivityMarkupMasterList",(function(){return te})),i.d(o,"getActivityMarkupMasterListSuccess",(function(){return ie})),i.d(o,"loadTaxPayerTypeList",(function(){return oe})),i.d(o,"getTaxPayerTypeListSuccess",(function(){return ne})),i.d(o,"getTaxPayerTypeListFailure",(function(){return ae})),i.d(o,"loadRegisterPathList",(function(){return se})),i.d(o,"getRegisterPathListSuccess",(function(){return ce})),i.d(o,"getRegisterPathListFailure",(function(){return re})),i.d(o,"loadAccountTypeList",(function(){return le})),i.d(o,"getAccountTypeListSuccess",(function(){return de})),i.d(o,"getAccountTypeListFailure",(function(){return pe})),i.d(o,"loadAccountTransferTypeList",(function(){return ue})),i.d(o,"getAccountTransferTypeListSuccess",(function(){return be})),i.d(o,"getAccountTransferTypeListFailure",(function(){return me})),i.d(o,"loadFlightApprovalStatusList",(function(){return he})),i.d(o,"getFlightApprovalStatusListSuccess",(function(){return Ce})),i.d(o,"getFlightApprovalStatusListFailure",(function(){return fe})),i.d(o,"loadHotelApprovalStatusList",(function(){return ye})),i.d(o,"getHotelApprovalStatusListSuccess",(function(){return ge})),i.d(o,"getHotelApprovalStatusListFailure",(function(){return ve})),i.d(o,"loadRentApprovalStatusList",(function(){return Oe})),i.d(o,"getRentApprovalStatusListSuccess",(function(){return Ve})),i.d(o,"getRentApprovalStatusListFailure",(function(){return Le})),i.d(o,"loadActivityApprovalStatusList",(function(){return je})),i.d(o,"getActivityApprovalStatusListSuccess",(function(){return Pe})),i.d(o,"getActivityApprovalStatusListFailure",(function(){return Se})),i.d(o,"loadVendorPayTypeList",(function(){return Ie})),i.d(o,"getVendorPayTypeListSuccess",(function(){return Fe})),i.d(o,"getVendorPayTypeListFailure",(function(){return ke})),i.d(o,"loadPaymentPeriodList",(function(){return We})),i.d(o,"getPaymentPeriodListSuccess",(function(){return Te})),i.d(o,"getPaymentPeriodListFailure",(function(){return _e})),i.d(o,"loadActivityVendorGradeList",(function(){return De})),i.d(o,"getActivityVendorGradeListSuccess",(function(){return Ne})),i.d(o,"getActivityVendorGradeListFailure",(function(){return Me})),i.d(o,"loadActivityGradeCommList",(function(){return xe})),i.d(o,"getActivityGradeCommListSuccess",(function(){return Re})),i.d(o,"getActivityGradeCommListFailure",(function(){return Ae})),i.d(o,"loadActivityGradeCommCategoryList",(function(){return Ee})),i.d(o,"getActivityGradeCommCategoryListSuccess",(function(){return $e})),i.d(o,"loadRefundDeductTypeList",(function(){return Ue})),i.d(o,"getRefundDeductTypeListSuccess",(function(){return we})),i.d(o,"loadRefundRangeTypeList",(function(){return Ye})),i.d(o,"getRefundRangeTypeListSuccess",(function(){return Be})),i.d(o,"loadUserTypeList",(function(){return He})),i.d(o,"getUserTypeListSuccess",(function(){return qe})),i.d(o,"loadUserStatusCodeList",(function(){return Ge})),i.d(o,"getUserStatusCodeListSuccess",(function(){return ze})),i.d(o,"loadSellerGradeList",(function(){return Ke})),i.d(o,"getSellerGradeListSuccess",(function(){return Qe})),i.d(o,"loadBankMasterList",(function(){return Xe})),i.d(o,"getBankMasterListSuccess",(function(){return Ze})),i.d(o,"getBankMasterListFailure",(function(){return Je})),i.d(o,"loadDepositTpyeList",(function(){return et})),i.d(o,"getDepositTpyeListSuccessAction",(function(){return tt})),i.d(o,"changeSearchCondition",(function(){return it})),i.d(o,"reloadMasterListAction",(function(){return ot})),i.d(o,"loadCompMasterList",(function(){return nt})),i.d(o,"getCompMasterListSuccess",(function(){return at})),i.d(o,"getCompMasterListFailure",(function(){return st})),i.d(o,"setGridStateAction",(function(){return ct})),i.d(o,"setGridCheckedStateAction",(function(){return rt})),i.d(o,"changePageIndex",(function(){return lt})),i.d(o,"changePageSize",(function(){return dt})),i.d(o,"openDetailPopup",(function(){return pt})),i.d(o,"closeDetailPopup",(function(){return ut})),i.d(o,"addSelectedDetailRowInfo",(function(){return bt})),i.d(o,"delSelectedDetailRowInfo",(function(){return mt})),i.d(o,"upsertList",(function(){return ht})),i.d(o,"upsertDeposit",(function(){return Ct})),i.d(o,"loadDepositResult",(function(){return ft})),i.d(o,"deleteDeposit",(function(){return yt})),i.d(o,"deleteDepositSuccess",(function(){return gt}));var n={};i.r(n),i.d(n,"upsertMaster",(function(){return vt})),i.d(n,"upsertMasterFailure",(function(){return Ot})),i.d(n,"initStateAction",(function(){return Vt})),i.d(n,"deleteVendor",(function(){return Lt})),i.d(n,"deleteVendorSuccess",(function(){return jt})),i.d(n,"loadCompAccountList",(function(){return Pt})),i.d(n,"getCompAccountListSuccess",(function(){return St})),i.d(n,"getCompAccountListFailure",(function(){return It})),i.d(n,"upsertCompAccount",(function(){return Ft})),i.d(n,"loadCompVendorInfo",(function(){return kt})),i.d(n,"getCompVendorInfoSuccess",(function(){return Wt})),i.d(n,"getCompVendorInfoFailure",(function(){return Tt})),i.d(n,"loadCompVendorPaymentCondition",(function(){return _t})),i.d(n,"loadCompVendorPaymentConditionSuccess",(function(){return Dt})),i.d(n,"loadCompVendorPaymentConditionFailure",(function(){return Nt})),i.d(n,"upsertCompVendorPaymentCondition",(function(){return Mt})),i.d(n,"upsertCompVendorPaymentConditionSuccess",(function(){return xt})),i.d(n,"upsertCompVendorPaymentConditionFailure",(function(){return Rt})),i.d(n,"reloadCompVendorPaymentCondition",(function(){return At})),i.d(n,"deleteCompVendorPaymentCondition",(function(){return Et})),i.d(n,"deleteCompVendorPaymentConditionSuccess",(function(){return $t})),i.d(n,"deleteCompVendorPaymentConditionFailure",(function(){return Ut})),i.d(n,"insertCompVendorPaymentConditionVcc",(function(){return wt})),i.d(n,"insertCompVendorPaymentConditionVccSuccess",(function(){return Yt})),i.d(n,"insertCompVendorPaymentConditionVccFailure",(function(){return Bt})),i.d(n,"updateCompVendorPaymentConditionVcc",(function(){return Ht})),i.d(n,"updateCompVendorPaymentConditionVccSuccess",(function(){return qt})),i.d(n,"updateCompVendorPaymentConditionVccFailure",(function(){return Gt})),i.d(n,"deleteCompVendorPaymentConditionVcc",(function(){return zt})),i.d(n,"deleteCompVendorPaymentConditionVccSuccess",(function(){return Kt})),i.d(n,"deleteCompVendorPaymentConditionVccFailure",(function(){return Qt})),i.d(n,"upsertCompVendorMainInfo",(function(){return Xt})),i.d(n,"upsertCompVendorFloatingDeposit",(function(){return Zt})),i.d(n,"openCompVendorFloatingDepositModal",(function(){return Jt})),i.d(n,"closeCompVendorFloatingDepositModal",(function(){return ei})),i.d(n,"openCompVendorPaymentConditionFormModal",(function(){return ti})),i.d(n,"closeCompVendorPaymentConditionFormModal",(function(){return ii})),i.d(n,"selectPaymentConditionItem",(function(){return oi})),i.d(n,"showCompVendorVccPaymentForm",(function(){return ni})),i.d(n,"hideCompVendorVccPaymentForm",(function(){return ai})),i.d(n,"selectVccPaymentItem",(function(){return si})),i.d(n,"openCompVendorVccPaymentFormModal",(function(){return ci})),i.d(n,"closeCompVendorVccPaymentFormModal",(function(){return ri})),i.d(n,"loadCompSellerInfo",(function(){return li})),i.d(n,"getCompSellerInfoSuccess",(function(){return di})),i.d(n,"getCompSellerInfoFailure",(function(){return pi})),i.d(n,"upsertCompSeller",(function(){return ui})),i.d(n,"upsertExclude",(function(){return bi})),i.d(n,"upsertCurrency",(function(){return mi})),i.d(n,"postCurrency",(function(){return hi})),i.d(n,"postCurrencySuccess",(function(){return Ci})),i.d(n,"deleteCurrency",(function(){return fi})),i.d(n,"deleteCurrencySuccess",(function(){return yi})),i.d(n,"getExclude",(function(){return gi})),i.d(n,"getExcludeSuccess",(function(){return vi})),i.d(n,"getPicListByType",(function(){return Oi})),i.d(n,"getPicListByTypeSuccess",(function(){return Vi})),i.d(n,"upsertPicTypeListByType",(function(){return Li})),i.d(n,"upsertPicTypeListByTypeSuccess",(function(){return ji})),i.d(n,"removePicTypeListByType",(function(){return Pi})),i.d(n,"removePicTypeListByTypeSuccess",(function(){return Si})),i.d(n,"loadCompStaffList",(function(){return Ii})),i.d(n,"loadCompStaffListSuccess",(function(){return Fi})),i.d(n,"loadCompStaffListFailure",(function(){return ki})),i.d(n,"sendbill",(function(){return Wi})),i.d(n,"fileUpload",(function(){return Ti})),i.d(n,"fileUploadSuccess",(function(){return _i})),i.d(n,"loadHotelMappingList",(function(){return Di})),i.d(n,"loadHotelMappingListSuccess",(function(){return Ni})),i.d(n,"upsertHotelMappingToVendor",(function(){return Mi})),i.d(n,"upsertHotelMappingToVendorSuccess",(function(){return xi})),i.d(n,"deleteMappingList",(function(){return Ri})),i.d(n,"deleteMappingSuccess",(function(){return Ai})),i.d(n,"upsertVendorContract",(function(){return Ei})),i.d(n,"submitChildPolicy",(function(){return $i})),i.d(n,"fileDelete",(function(){return Ui})),i.d(n,"loadRateTypeList",(function(){return wi})),i.d(n,"loadRateTypeListSuccess",(function(){return Yi})),i.d(n,"loadContractStatusCodeList",(function(){return Bi})),i.d(n,"loadContractStatusCodeListSuccess",(function(){return Hi})),i.d(n,"loadMappingStatusCodeList",(function(){return qi})),i.d(n,"loadMappingStatusCodeListSuccess",(function(){return Gi})),i.d(n,"loadCompVendorPaymentPeriodList",(function(){return zi})),i.d(n,"loadCompVendorPaymentPeriodListSuccess",(function(){return Ki})),i.d(n,"loadCompVendorPaymentPeriodListFailure",(function(){return Qi})),i.d(n,"loadCompSellerPaymentPeriodList",(function(){return Xi})),i.d(n,"loadCompSellerPaymentPeriodListSuccess",(function(){return Zi})),i.d(n,"loadCompSellerPaymentPeriodListFailure",(function(){return Ji})),i.d(n,"loadVccInfoByCountryList",(function(){return eo})),i.d(n,"loadVccInfoByCountryListSuccess",(function(){return to})),i.d(n,"loadVccInfoByCountryListFailure",(function(){return io})),i.d(n,"putCompStaffs",(function(){return oo})),i.d(n,"loadFileList",(function(){return no})),i.d(n,"loadFileListSuccess",(function(){return ao})),i.d(n,"loadCompList",(function(){return so})),i.d(n,"loadCompListSuccess",(function(){return co})),i.d(n,"loadSalesCountryCode",(function(){return ro})),i.d(n,"loadSalesCountryCodeSuccess",(function(){return lo})),i.d(n,"loadFloatingDeposit",(function(){return po})),i.d(n,"loadFloatingDepositSuccess",(function(){return uo})),i.d(n,"loadPaymentTypeList",(function(){return bo})),i.d(n,"loadPaymentTypeListSuccess",(function(){return mo})),i.d(n,"loadPaymentMethodList",(function(){return ho})),i.d(n,"loadPaymentMethodListSuccess",(function(){return Co})),i.d(n,"loadChildPolicy",(function(){return fo})),i.d(n,"loadChildPolicySuccess",(function(){return yo})),i.d(n,"loadVendorContractList",(function(){return go})),i.d(n,"loadVendorContractListSuccess",(function(){return vo})),i.d(n,"clearVendorContractList",(function(){return Oo})),i.d(n,"loadContractFileList",(function(){return Vo})),i.d(n,"loadContractFileListSuccess",(function(){return Lo})),i.d(n,"loadHotelContractTypeCodeList",(function(){return jo})),i.d(n,"loadHotelContractTypeCodeListSuccess",(function(){return Po})),i.d(n,"sendPasswordByEmail",(function(){return So})),i.d(n,"getCommonCountry",(function(){return Io})),i.d(n,"getCountryPhoneListSuccess",(function(){return Fo}));var a=i("ofXK"),s=i("3Pt+"),c=i("snw9"),r=i("kt0X"),l=i("WG3B"),d=i("xoAz"),p=i("wPo9"),u=i("7rOj"),b=i("+NQf"),m=i("6LsY"),h=i("l1P7"),C=i("v7zA"),f=i("7UZF"),y=i("hHe4"),g=i("1OXJ"),v=i("5hwk"),O=i("lxvf"),V=i("kKjH"),L=i("w8np"),j=i("vu/V"),P=i("tyNb"),S=i("XNiG"),I=i("itXk"),F=i("zP0r"),k=i("1G5W"),W=i("Kj3r"),T=i("pLZG"),_=i("LvDl");const D=Object(r.o)("[UsComp/List] init state"),N=Object(r.o)("[UsComp/List] load comp type list",Object(r.t)()),M=Object(r.o)("[UsComp/List] get comp type list success",Object(r.t)()),x=Object(r.o)("[UsComp/List] get comp type list failure",Object(r.t)()),R=Object(r.o)("[UsComp/List] load trade status list",Object(r.t)()),A=Object(r.o)("[UsComp/List] get trade status list success",Object(r.t)()),E=Object(r.o)("[UsComp/List] get trade status list failure",Object(r.t)()),$=Object(r.o)("[UsComp/List] load pic type code list",Object(r.t)()),U=Object(r.o)("[UsComp/List] get pic type code list success",Object(r.t)()),w=Object(r.o)("[UsComp/List] get pic type code list failure",Object(r.t)()),Y=Object(r.o)("[UsComp/List] load seller branch type list",Object(r.t)()),B=Object(r.o)("[UsComp/List] get seller branch type list success",Object(r.t)()),H=Object(r.o)("[UsComp/List] get seller branch type list failure",Object(r.t)()),q=Object(r.o)("[UsComp/List] load language code list",Object(r.t)()),G=Object(r.o)("[UsComp/List] get language code list success",Object(r.t)()),z=Object(r.o)("[UsComp/List] get language code list failure",Object(r.t)()),K=Object(r.o)("[UsComp/List] load currency list",Object(r.t)()),Q=Object(r.o)("[UsComp/List] get currency list success",Object(r.t)()),X=Object(r.o)("[UsComp/List] get currency list failure",Object(r.t)()),Z=Object(r.o)("[UsComp/List] load markup master list",Object(r.t)()),J=Object(r.o)("[UsComp/List] get markup master list success",Object(r.t)()),ee=Object(r.o)("[UsComp/List] get markup master list failure",Object(r.t)()),te=Object(r.o)("[UsComp/List] load activity markup master list",Object(r.t)()),ie=Object(r.o)("[UsComp/List] get activity markup master list success",Object(r.t)()),oe=Object(r.o)("[UsComp/List] load tax payer type list",Object(r.t)()),ne=Object(r.o)("[UsComp/List] get tax payer type list success",Object(r.t)()),ae=Object(r.o)("[UsComp/List] get tax payer type list failure",Object(r.t)()),se=Object(r.o)("[UsComp/List] load register path list",Object(r.t)()),ce=Object(r.o)("[UsComp/List] get register path list success",Object(r.t)()),re=Object(r.o)("[UsComp/List] get register path list failure",Object(r.t)()),le=Object(r.o)("[UsComp/List] load account type list",Object(r.t)()),de=Object(r.o)("[UsComp/List] get account type list success",Object(r.t)()),pe=Object(r.o)("[UsComp/List] get account type list failure",Object(r.t)()),ue=Object(r.o)("[UsComp/List] load account transfer type list",Object(r.t)()),be=Object(r.o)("[UsComp/List] get account transfer type list success",Object(r.t)()),me=Object(r.o)("[UsComp/List] get account transfer type list failure",Object(r.t)()),he=Object(r.o)("[UsComp/List] load flight approval status list",Object(r.t)()),Ce=Object(r.o)("[UsComp/List] get flight approval status list success",Object(r.t)()),fe=Object(r.o)("[UsComp/List] get flight approval status list failure",Object(r.t)()),ye=Object(r.o)("[UsComp/List] load hotel approval status list",Object(r.t)()),ge=Object(r.o)("[UsComp/List] get hotel approval status list success",Object(r.t)()),ve=Object(r.o)("[UsComp/List] get hotel approval status list failure",Object(r.t)()),Oe=Object(r.o)("[UsComp/List] load rent approval status list",Object(r.t)()),Ve=Object(r.o)("[UsComp/List] get rent approval status list success",Object(r.t)()),Le=Object(r.o)("[UsComp/List] get rent approval status list failure",Object(r.t)()),je=Object(r.o)("[UsComp/List] load activity approval status list",Object(r.t)()),Pe=Object(r.o)("[UsComp/List] get activity approval status list success",Object(r.t)()),Se=Object(r.o)("[UsComp/List] get activity approval status list failure",Object(r.t)()),Ie=Object(r.o)("[UsComp/List] load vendor pay type list",Object(r.t)()),Fe=Object(r.o)("[UsComp/List] get vendor pay type list success",Object(r.t)()),ke=Object(r.o)("[UsComp/List] get vendor pay type list failure",Object(r.t)()),We=Object(r.o)("[UsComp/List] load payment period list",Object(r.t)()),Te=Object(r.o)("[UsComp/List] get payment period list success",Object(r.t)()),_e=Object(r.o)("[UsComp/List] get payment period list failure",Object(r.t)()),De=Object(r.o)("[UsComp/List] load activity vendor grade list",Object(r.t)()),Ne=Object(r.o)("[UsComp/List] get activity vendor grade list success",Object(r.t)()),Me=Object(r.o)("[UsComp/List] get activity vendor grade list failure",Object(r.t)()),xe=Object(r.o)("[UsComp/List] load activity grade comm list",Object(r.t)()),Re=Object(r.o)("[UsComp/List] get activity grade comm list success",Object(r.t)()),Ae=Object(r.o)("[UsComp/List] get activity grade comm list failure",Object(r.t)()),Ee=Object(r.o)("[UsComp/List] load activity grade comm category list",Object(r.t)()),$e=Object(r.o)("[UsComp/List] get activity grade comm category list success",Object(r.t)()),Ue=Object(r.o)("[UsComp/List] load refund deduct type list",Object(r.t)()),we=Object(r.o)("[UsComp/List] get refund deduct type list success",Object(r.t)()),Ye=Object(r.o)("[UsComp/List] load refund range type list",Object(r.t)()),Be=Object(r.o)("[UsComp/List] get refund range type list success",Object(r.t)()),He=Object(r.o)("[UsComp/List] load user type list",Object(r.t)()),qe=Object(r.o)("[UsComp/List] get user type list success",Object(r.t)()),Ge=Object(r.o)("[UsComp/List] load user status code list",Object(r.t)()),ze=Object(r.o)("[UsComp/List] get user status code list success",Object(r.t)()),Ke=Object(r.o)("[UsComp/List] load seller grade list",Object(r.t)()),Qe=Object(r.o)("[UsComp/List] get seller grade list success",Object(r.t)()),Xe=Object(r.o)("[UsComp/List] load BankMaster list",Object(r.t)()),Ze=Object(r.o)("[UsComp/List] get BankMaster list success",Object(r.t)()),Je=Object(r.o)("[UsComp/List] get BankMaster list failure",Object(r.t)()),et=Object(r.o)("[UsComp/List] load deposit list",Object(r.t)()),tt=Object(r.o)("[UsComp/List] get deposit list failure",Object(r.t)()),it=Object(r.o)("[UsComp/List] change search condition",Object(r.t)()),ot=Object(r.o)("[UsComp/List] reload master list"),nt=Object(r.o)("[UsComp/List] load user comp master grid data list",Object(r.t)()),at=Object(r.o)("[UsComp/List] get list success",Object(r.t)()),st=Object(r.o)("[UsComp/List] get list failure",Object(r.t)()),ct=Object(r.o)("[UsComp/List] set grid state",Object(r.t)()),rt=Object(r.o)("[UsComp/List] set grid checked state",Object(r.t)()),lt=Object(r.o)("[UsComp/List] change page index",Object(r.t)()),dt=Object(r.o)("[UsComp/List] change page size",Object(r.t)()),pt=Object(r.o)("[UsComp/Detail] \uc0c1\uc138\ud31d\uc5c5 \uc5f4\uae30"),ut=Object(r.o)("[UsComp/Detail] \uc0c1\uc138\ud31d\uc5c5 \ub2eb\uae30"),bt=Object(r.o)("[UsComp/Detail] \uc0c1\uc138\ud31d\uc5c5\uc5d0\uc11c \ubcf4\uc5ec\uc9c8 \ud56d\ubaa9 \uc120\ud0dd",Object(r.t)()),mt=Object(r.o)("[UsComp/Detail] \uc0c1\uc138\ud31d\uc5c5\uc5d0\uc11c \ubcf4\uc5ec\uc9c8 \ud56d\ubaa9 \uc81c\uac70"),ht=Object(r.o)("[UsComp/List] upsert grid data list",Object(r.t)()),Ct=Object(r.o)("[UsComp/List] upsert deposit list",Object(r.t)()),ft=Object(r.o)("[UsComp/List] deposit list result",Object(r.t)()),yt=Object(r.o)("[UsComp/List] deposit list result",Object(r.t)()),gt=Object(r.o)("[UsComp/List] deposit list result",Object(r.t)()),vt=Object(r.o)("[UsComp/Detail/Master] upsert user comp master",Object(r.t)()),Ot=Object(r.o)("[UsComp/Detail/Master] upsert user comp master failure",Object(r.t)()),Vt=Object(r.o)("[UsComp/Detail/Master] init data"),Lt=Object(r.o)("[UsComp/Detail/Account] deleteVendor",Object(r.t)()),jt=Object(r.o)("[UsComp/Detail/Account] deleteVendor success",Object(r.t)()),Pt=Object(r.o)("[UsComp/Detail/Account] load user comp account grid data list"),St=Object(r.o)("[UsComp/Detail/Account] get user comp account list success",Object(r.t)()),It=Object(r.o)("[UsComp/Detail/Account] get user comp account list failure",Object(r.t)()),Ft=Object(r.o)("[UsComp/Detail/Account] upsert user comp account",Object(r.t)()),kt=Object(r.o)("[UsComp/Detail/Vendor] load user comp vendor info"),Wt=Object(r.o)("[UsComp/Detail/Vendor] get user comp vendor info success",Object(r.t)()),Tt=Object(r.o)("[UsComp/Detail/Vendor] get user comp vendor info failure",Object(r.t)()),_t=Object(r.o)("[UsComp/Detail/Vendor] load user comp vendor payment condition",Object(r.t)()),Dt=Object(r.o)("[UsComp/Detail/Vendor] load user comp vendor payment condition success",Object(r.t)()),Nt=Object(r.o)("[UsComp/Detail/Vendor] load user comp vendor payment condition failure"),Mt=Object(r.o)("[UsComp/Detail/Vendor] upsert user comp vendor payment condition",Object(r.t)()),xt=Object(r.o)("[UsComp/Detail/Vendor] upsert user comp vendor payment condition success"),Rt=Object(r.o)("[UsComp/Detail/Vendor] upsert user comp vendor payment condition failure"),At=Object(r.o)("[UsComp/Detail/Vendor] try reload user comp vendor payment condition"),Et=Object(r.o)("[UsComp/Detail/Vendor] delete user comp vendor payment condition",Object(r.t)()),$t=Object(r.o)("[UsComp/Detail/Vendor] delete user comp vendor payment condition success"),Ut=Object(r.o)("[UsComp/Detail/Vendor] delete user comp vendor payment condition failure"),wt=Object(r.o)("[UsComp/Detail/Vendor] insert user comp vendor payment condition vcc",Object(r.t)()),Yt=Object(r.o)("[UsComp/Detail/Vendor] insert user comp vendor payment condition vcc success"),Bt=Object(r.o)("[UsComp/Detail/Vendor] insert user comp vendor payment condition vcc failure"),Ht=Object(r.o)("[UsComp/Detail/Vendor] update user comp vendor payment condition vcc",Object(r.t)()),qt=Object(r.o)("[UsComp/Detail/Vendor] update user comp vendor payment condition vcc success"),Gt=Object(r.o)("[UsComp/Detail/Vendor] update user comp vendor payment condition vcc failure"),zt=Object(r.o)("[UsComp/Detail/Vendor] delete user comp vendor payment condition vcc",Object(r.t)()),Kt=Object(r.o)("[UsComp/Detail/Vendor] delete user comp vendor payment condition vcc success"),Qt=Object(r.o)("[UsComp/Detail/Vendor] delete user comp vendor payment condition vcc failure"),Xt=Object(r.o)("[UsComp/Detail/Vendor] upsert user comp vendor",Object(r.t)()),Zt=Object(r.o)("[UsComp/Detail/Vendor] upsert user comp vendor floating deposit",Object(r.t)()),Jt=Object(r.o)("[UsComp/Detail/Vendor] open floating deposit modal"),ei=Object(r.o)("[UsComp/Detail/Vendor] close floating deposit modal"),ti=Object(r.o)("[UsComp/Detail/Vendor] open payment condition form modal",Object(r.t)()),ii=Object(r.o)("[UsComp/Detail/Vendor] close payment condition form modal"),oi=Object(r.o)("[UsComp/Detail/Vendor] select payment condition item",Object(r.t)()),ni=Object(r.o)("[UsComp/Detail/Vendor] show vendor vcc payment form"),ai=Object(r.o)("[UsComp/Detail/Vendor] hide vendor vcc payment form"),si=Object(r.o)("[UsComp/Detail/Vendor] select vendor vcc payment item",Object(r.t)()),ci=Object(r.o)("[UsComp/Detail/Vendor] open vendor vcc payment form modal",Object(r.t)()),ri=Object(r.o)("[UsComp/Detail/Vendor] close vendor vcc payment form modal"),li=Object(r.o)("[UsComp/Detail/Seller] load user comp seller info"),di=Object(r.o)("[UsComp/Detail/Seller] get user comp seller info success",Object(r.t)()),pi=Object(r.o)("[UsComp/Detail/Seller] get user comp seller info failure",Object(r.t)()),ui=Object(r.o)("[UsComp/Detail/Seller] upsert user comp seller",Object(r.t)()),bi=Object(r.o)("[UsComp/Detail/Seller] upsert user comp exclude",Object(r.t)()),mi=Object(r.o)("[UsComp/Detail/Seller] upsert user comp currency",Object(r.t)()),hi=Object(r.o)("[UsComp/Detail/Seller] post user comp currency",Object(r.t)()),Ci=Object(r.o)("[UsComp/Detail/Seller] post user comp currency success",Object(r.t)()),fi=Object(r.o)("[UsComp/Detail/Seller] delete user comp currency",Object(r.t)()),yi=Object(r.o)("[UsComp/Detail/Seller] delete user comp currency success",Object(r.t)()),gi=Object(r.o)("[UsComp/Detail/Seller] get Exclude",Object(r.t)()),vi=Object(r.o)("[UsComp/Detail/Seller] get Exclude success",Object(r.t)()),Oi=Object(r.o)("[UsComp/Detail/Seller] get pic list by type",Object(r.t)()),Vi=Object(r.o)("[UsComp/Detail/Seller] get pic list by type success",Object(r.t)()),Li=Object(r.o)("[UsComp/Detail/Staff] upsert picTypeListByType",Object(r.t)()),ji=Object(r.o)("[UsComp/Detail/Staff] upsert picTypeListByType success",Object(r.t)()),Pi=Object(r.o)("[UsComp/Detail/Staff] remove picTypeListByType",Object(r.t)()),Si=Object(r.o)("[UsComp/Detail/Staff] remove picTypeListByType success",Object(r.t)()),Ii=Object(r.o)("[UsComp/Detail/Staff] load comp staff list"),Fi=Object(r.o)("[UsComp/Detail/Staff] load comp staff list success",Object(r.t)()),ki=Object(r.o)("[UsComp/Detail/Staff] load comp staff list failure"),Wi=Object(r.o)("[UsComp/Detail/Staff] sendbill",Object(r.t)()),Ti=Object(r.o)("[UsComp/Detail/Staff] fileUpload",Object(r.t)()),_i=Object(r.o)("[UsComp/Detail/Staff] fileUpload success",Object(r.t)()),Di=Object(r.o)("[UsComp/Detail/Vendor-Contract] hotel mappingList",Object(r.t)()),Ni=Object(r.o)("[UsComp/Detail/Vendor-Contract] get hotel mapping list success",Object(r.t)()),Mi=Object(r.o)("[UsComp/Detail/Vendor-Contract] upsert hotel mapping to this vendor",Object(r.t)()),xi=Object(r.o)("[UsComp/Detail/Vendor-Contract] upsert hotel mapping to this vendor success",Object(r.t)()),Ri=Object(r.o)("[UsComp/Detail/Vendor-Contract] delete MappingList",Object(r.t)()),Ai=Object(r.o)("[UsComp/Detail/Vendor] delete mapping list success",Object(r.t)()),Ei=Object(r.o)("[UsComp/Detail/Vendor] Upsert vendor contract",Object(r.t)()),$i=Object(r.o)("[UsComp/Detail/Vendor] submitChildPolicy",Object(r.t)()),Ui=Object(r.o)("[UsComp/Detail/Vendor] fileDelete",Object(r.t)()),wi=Object(r.o)("[UsComp/Detail/Vendor] loadRateTypeList"),Yi=Object(r.o)("[UsComp/Detail/Vendor] loadRateTypeList success",Object(r.t)()),Bi=Object(r.o)("[UsComp/Detail/Vendor] load contract status code list",Object(r.t)()),Hi=Object(r.o)("[UsComp/Detail/Vendor] load contract status code list success",Object(r.t)()),qi=Object(r.o)("[UsComp/Detail/Vendor] load mapping status code list",Object(r.t)()),Gi=Object(r.o)("[UsComp/Detail/Vendor] load mapping status code list success",Object(r.t)()),zi=Object(r.o)("[UsComp/Detail/Vendor] load comp vendor payment period list",Object(r.t)()),Ki=Object(r.o)("[UsComp/Detail/Vendor] load comp vendor payment period list success",Object(r.t)()),Qi=Object(r.o)("[UsComp/Detail/Vendor] load comp vendor payment period list failure"),Xi=Object(r.o)("[UsComp/Detail/seller] load comp seller payment period list",Object(r.t)()),Zi=Object(r.o)("[UsComp/Detail/seller] load comp seller payment period list success",Object(r.t)()),Ji=Object(r.o)("[UsComp/Detail/seller] load comp seller payment period list failure"),eo=Object(r.o)("[UsComp/Detail] load vcc info by country list",Object(r.t)()),to=Object(r.o)("[UsComp/Detail] load vcc info by country list success",Object(r.t)()),io=Object(r.o)("[UsComp/Detail] load vcc info by country list failure"),oo=Object(r.o)("[UsComp/Detail/Vendor] put Comp Staffs",Object(r.t)()),no=Object(r.o)("[UsComp/Detail/Vendor] loadFileList",Object(r.t)()),ao=Object(r.o)("[UsComp/Detail/Vendor] loadFileList success",Object(r.t)()),so=Object(r.o)("[UsComp/Detail/Vendor] loadCompList",Object(r.t)()),co=Object(r.o)("[UsComp/Detail/Vendor] loadCompList success",Object(r.t)()),ro=Object(r.o)("[UsComp/Detail/Vendor] loadSalesCountryCode",Object(r.t)()),lo=Object(r.o)("[UsComp/Detail/Vendor] loadSalesCountryCode success",Object(r.t)()),po=Object(r.o)("[UsComp/Detail/Vendor] loadFloatingDeposit",Object(r.t)()),uo=Object(r.o)("[UsComp/Detail/Vendor] loadFloatingDeposit success",Object(r.t)()),bo=Object(r.o)("[UsComp/Detail/Vendor] loadPaymentTypeList",Object(r.t)()),mo=Object(r.o)("[UsComp/Detail/Vendor] loadPaymentTypeList success",Object(r.t)()),ho=Object(r.o)("[UsComp/Detail/Vendor] loadPaymentMethodList",Object(r.t)()),Co=Object(r.o)("[UsComp/Detail/Vendor] loadPaymentMethodList success",Object(r.t)()),fo=Object(r.o)("[UsComp/Detail/Vendor] loadChildPolicy",Object(r.t)()),yo=Object(r.o)("[UsComp/Detail/Vendor] loadChildPolicy success",Object(r.t)()),go=Object(r.o)("[UsComp/Detail/Vendor] load vendor contract list",Object(r.t)()),vo=Object(r.o)("[UsComp/Detail/Vendor] Load contract list success",Object(r.t)()),Oo=Object(r.o)("[UsComp/Detail/Vendor] clear vendor contract list"),Vo=Object(r.o)("[UsComp/Detail/Vendor] load contract file list",Object(r.t)()),Lo=Object(r.o)("[UsComp/Detail/Vendor] Load contract file list success",Object(r.t)()),jo=Object(r.o)("[UsComp/Detail/Vendor] load hotel contract type code list"),Po=Object(r.o)("[UsComp/Detail/Vendor] Load hotel contract type code list success",Object(r.t)()),So=Object(r.o)("[UsComp/Detail/Vendor] send password email",Object(r.t)()),Io=Object(r.o)("[UsComp/Detail] get Common Country",Object(r.t)()),Fo=Object(r.o)("[UsComp/Detail] get Common Country success",Object(r.t)());var ko=i("EVqC");const Wo=Object(ko.a)({selectId:e=>e.rowid,sortComparer:!1}),To=Wo.getInitialState({compTypeList:null,tradeStatusList:null,picTypeCodeList:null,sellerBranchTypeList:null,languageCodeList:null,currencyList:null,markupMasterList:null,taxPayerTypeList:null,registerPathList:null,accountTypeList:null,accountTransferTypeList:null,flightApprovalStatusList:null,hotelApprovalStatusList:null,rentApprovalStatusList:null,activityApprovalStatusList:null,vendorPayTypeList:null,paymentPeriodList:null,activityVendorGradeList:null,activityGradeCommList:null,activityGradeCommCategoryList:null,refundDeductTypeList:null,refundRangeTypeList:null,userTypeList:null,userStatusCodeList:null,vendorPaymentPeriodCodeList:null,vccInfoByCountryList:null,sellerGradeList:null,loading:!1,reloadYn:null,searchCondition:null,otherSearchInfo:null,gridState:{pageInfo:{skip:0,take:20},sortInfo:[{field:"lastUpdateDatetime",dir:"desc"}]},gridCheckedState:null,gridDataTotal:0,isOpenDetailPopup:!1,selectedDetailRowInfo:null,compAccountListLoading:!1,compAccountList:null,compSellerLoading:!1,compSellerInfo:null,compAffiliateFlightInfo:null,compStaffListTotalCount:0,compStaffList:null,activityMarkupMasterList:null,bankMasterList:null,depositTpyeList:null,depositList:null,hotelMappingList:null,rateTypeList:null,contractStatusCodeList:null,mappingStatusCodeList:null,hotelContractTypeCodeList:null,compCodeList:null,salesCountryCodeList:null,excludeResult:null,picListByType:null,floatingDepositList:null,paymentTypeList:null,paymentMethodList:null,childPolicy:null,currencyInfo:null,contractFileList:null,compVendorLoading:!1,compVendorInfo:null,vendorContractList:null,compVendorPaymentConditionItemList:[],reloadToggleOfCompVendorPaymentCondition:!1,selectedPaymentConditionItem:null,compVendorModifyButtonWithPaymentConditionItem:null,compVendorModifyButtonWithVccPaymentConditionItem:null,selectedVccPaymentItem:null,isShowCompVendorVccPaymentForm:!1,isOpenCompVendorFloatingDepositModal:null,isOpenCompVendorPaymentConditionFormModal:!1,isOpenCompVendorVccPaymentFormModal:!1,countryPhoneList:null,sellerPaymentPeriodCodeList:null}),_o=Object(r.q)(To,Object(r.s)(o.initStateAction,e=>Object.assign(Object.assign({},e),{loading:!1,selectedDetailRowInfo:null,isOpenDetailPopup:!1})),Object(r.s)(o.getCompTypeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{compTypeList:t})),Object(r.s)(o.getTradeStatusListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{tradeStatusList:t})),Object(r.s)(o.getPicTypeCodeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{picTypeCodeList:t})),Object(r.s)(o.getSellerBranchTypeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{sellerBranchTypeList:t})),Object(r.s)(o.getLanguageCodeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{languageCodeList:t})),Object(r.s)(o.getCurrencyListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{currencyList:t})),Object(r.s)(o.getMarkupMasterListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{markupMasterList:t})),Object(r.s)(o.getActivityMarkupMasterListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{activityMarkupMasterList:t})),Object(r.s)(o.getTaxPayerTypeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{taxPayerTypeList:t})),Object(r.s)(o.getRegisterPathListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{registerPathList:t})),Object(r.s)(o.getAccountTypeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{accountTypeList:t})),Object(r.s)(o.getAccountTransferTypeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{accountTransferTypeList:t})),Object(r.s)(o.getFlightApprovalStatusListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{flightApprovalStatusList:t})),Object(r.s)(o.getHotelApprovalStatusListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{hotelApprovalStatusList:t})),Object(r.s)(o.getRentApprovalStatusListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{rentApprovalStatusList:t})),Object(r.s)(o.getActivityApprovalStatusListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{activityApprovalStatusList:t})),Object(r.s)(o.getVendorPayTypeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{vendorPayTypeList:t})),Object(r.s)(o.getPaymentPeriodListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{paymentPeriodList:t})),Object(r.s)(o.getActivityVendorGradeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{activityVendorGradeList:t})),Object(r.s)(o.getActivityGradeCommListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{activityGradeCommList:t})),Object(r.s)(o.getActivityGradeCommCategoryListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{activityGradeCommCategoryList:t})),Object(r.s)(o.getRefundDeductTypeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{refundDeductTypeList:t})),Object(r.s)(o.getRefundRangeTypeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{refundRangeTypeList:t})),Object(r.s)(o.getUserTypeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{userTypeList:t})),Object(r.s)(o.getUserStatusCodeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{userStatusCodeList:t})),Object(r.s)(o.getSellerGradeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{sellerGradeList:t})),Object(r.s)(o.getBankMasterListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{bankMasterList:t})),Object(r.s)(o.getDepositTpyeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{depositTpyeList:t})),Object(r.s)(o.loadDepositResult,(e,{result:t})=>Object.assign(Object.assign({},e),{depositList:t})),Object(r.s)(o.reloadMasterListAction,e=>Object.assign(Object.assign({},e),{reloadYn:!e.reloadYn})),Object(r.s)(o.changeSearchCondition,(e,{searchCondition:t,otherSearchInfo:i})=>Object.assign(Object.assign({},e),{searchCondition:t,otherSearchInfo:i})),Object(r.s)(o.loadCompMasterList,e=>Object.assign(Object.assign({},e),{loading:!0})),Object(r.s)(o.getCompMasterListSuccess,(e,{dataList:t,totalCount:i})=>Wo.setAll(t,Object.assign(Object.assign({},e),{loading:!1,gridDataTotal:i}))),Object(r.s)(o.getCompMasterListFailure,e=>Object.assign(Object.assign({},e),{loading:!1})),Object(r.s)(o.changePageSize,(e,{pageSize:t})=>Object.assign(Object.assign({},e),{gridState:_.set(_.cloneDeep(e.gridState),["pageInfo","take"],t)})),Object(r.s)(o.changePageIndex,(e,{pageIndex:t})=>Object.assign(Object.assign({},e),{gridState:_.set(_.cloneDeep(e.gridState),["pageInfo","skip"],t)})),Object(r.s)(o.setGridStateAction,(e,{gridState:t})=>Object.assign(Object.assign({},e),{gridState:t})),Object(r.s)(o.setGridCheckedStateAction,(e,{gridCheckedState:t})=>Object.assign(Object.assign({},e),{gridCheckedState:t})),Object(r.s)(o.openDetailPopup,e=>Object.assign(Object.assign({},e),{isOpenDetailPopup:!0})),Object(r.s)(o.closeDetailPopup,e=>Object.assign(Object.assign({},e),{isOpenDetailPopup:!1})),Object(r.s)(o.addSelectedDetailRowInfo,(e,{selectedDetailRowInfo:t})=>Object.assign(Object.assign({},e),{selectedDetailRowInfo:t})),Object(r.s)(o.delSelectedDetailRowInfo,e=>Object.assign(Object.assign({},e),{selectedDetailRowInfo:null})),Object(r.s)(o.upsertList,(e,{upsertList:t})=>Wo.upsertMany(t,Object.assign({},e))),Object(r.s)(n.initStateAction,e=>Object.assign(Object.assign({},e),{childPolicy:null,vendorContractFileList:null,picInfo:null,compSellerInfo:null,currencyInfo:null,excludeResult:null,compVendorInfo:null,compAccountList:null,contractFileList:null,mappingList:null})),Object(r.s)(n.loadCompAccountList,e=>Object.assign(Object.assign({},e),{compAccountListLoading:!0})),Object(r.s)(n.getCompAccountListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{compAccountList:t,compAccountListLoading:!1})),Object(r.s)(n.getCompAccountListFailure,e=>Object.assign(Object.assign({},e),{compAccountListLoading:!1})),Object(r.s)(n.postCurrencySuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{currencyInfo:t})),Object(r.s)(n.loadCompVendorInfo,e=>Object.assign(Object.assign({},e),{compVendorLoading:!0})),Object(r.s)(n.getCompVendorInfoSuccess,(e,{dataResult:t})=>Object.assign(Object.assign({},e),{compVendorInfo:t,compVendorLoading:!1})),Object(r.s)(n.getCompVendorInfoFailure,e=>Object.assign(Object.assign({},e),{compVendorLoading:!1})),Object(r.s)(n.loadFileListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{contractFileList:t})),Object(r.s)(n.loadFloatingDepositSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{floatingDepositList:t})),Object(r.s)(n.loadPaymentTypeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{paymentTypeList:t})),Object(r.s)(n.loadPaymentMethodListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{paymentMethodList:t})),Object(r.s)(n.loadChildPolicySuccess,(e,{childPolicy:t})=>Object.assign(Object.assign({},e),{childPolicy:t})),Object(r.s)(n.clearVendorContractList,e=>Object.assign(Object.assign({},e),{vendorContractList:null})),Object(r.s)(n.loadVendorContractListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{vendorContractList:t})),Object(r.s)(n.openCompVendorFloatingDepositModal,e=>Object.assign(Object.assign({},e),{isOpenCompVendorFloatingDepositModal:!0})),Object(r.s)(n.closeCompVendorFloatingDepositModal,e=>Object.assign(Object.assign({},e),{isOpenCompVendorFloatingDepositModal:!1})),Object(r.s)(n.upsertCompVendorFloatingDeposit,(e,{dataList:t})=>Object.assign(Object.assign({},e),{floatingDepositList:t})),Object(r.s)(n.openCompVendorPaymentConditionFormModal,(e,{item:t})=>Object.assign(Object.assign({},e),{isOpenCompVendorPaymentConditionFormModal:!0,compVendorModifyButtonWithPaymentConditionItem:t})),Object(r.s)(n.closeCompVendorPaymentConditionFormModal,e=>Object.assign(Object.assign({},e),{isOpenCompVendorPaymentConditionFormModal:!1,compVendorModifyButtonWithPaymentConditionItem:null})),Object(r.s)(n.openCompVendorVccPaymentFormModal,(e,{item:t})=>Object.assign(Object.assign({},e),{isOpenCompVendorVccPaymentFormModal:!0,compVendorModifyButtonWithVccPaymentConditionItem:t})),Object(r.s)(n.closeCompVendorVccPaymentFormModal,e=>Object.assign(Object.assign({},e),{isOpenCompVendorVccPaymentFormModal:!1,compVendorModifyButtonWithVccPaymentConditionItem:null})),Object(r.s)(n.showCompVendorVccPaymentForm,e=>Object.assign(Object.assign({},e),{isShowCompVendorVccPaymentForm:!0})),Object(r.s)(n.hideCompVendorVccPaymentForm,e=>Object.assign(Object.assign({},e),{isShowCompVendorVccPaymentForm:!1})),Object(r.s)(n.selectVccPaymentItem,(e,{item:t})=>Object.assign(Object.assign({},e),{selectedVccPaymentItem:t})),Object(r.s)(n.insertCompVendorPaymentConditionVccSuccess,e=>Object.assign(Object.assign({},e),{isOpenCompVendorVccPaymentFormModal:!1})),Object(r.s)(n.updateCompVendorPaymentConditionVccSuccess,e=>Object.assign(Object.assign({},e),{isOpenCompVendorVccPaymentFormModal:!1})),Object(r.s)(n.selectPaymentConditionItem,(e,{item:t})=>Object.assign(Object.assign({},e),{selectedPaymentConditionItem:t})),Object(r.s)(n.loadCompVendorPaymentConditionSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{compVendorPaymentConditionItemList:t})),Object(r.s)(n.reloadCompVendorPaymentCondition,e=>Object.assign(Object.assign({},e),{reloadToggleOfCompVendorPaymentCondition:!e.reloadToggleOfCompVendorPaymentCondition,isOpenCompVendorPaymentConditionFormModal:!1})),Object(r.s)(n.loadCompSellerInfo,e=>Object.assign(Object.assign({},e),{compSellerLoading:!0})),Object(r.s)(n.getCompSellerInfoSuccess,(e,{info:t})=>Object.assign(Object.assign({},e),{compSellerInfo:t,compSellerLoading:!1})),Object(r.s)(n.getCompSellerInfoFailure,e=>Object.assign(Object.assign({},e),{compSellerLoading:!1})),Object(r.s)(n.getExcludeSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{excludeResult:t})),Object(r.s)(n.getPicListByTypeSuccess,(e,{dataListByType:t})=>Object.assign(Object.assign({},e),{picListByType:t})),Object(r.s)(n.upsertPicTypeListByTypeSuccess,(e,{dataListByType:t})=>Object.assign(Object.assign({},e),{picListByType:t})),Object(r.s)(n.loadCompStaffListSuccess,(e,{totalCount:t,dataList:i})=>Object.assign(Object.assign({},e),{compStaffListTotalCount:t,compStaffList:i})),Object(r.s)(n.upsertHotelMappingToVendorSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{hotelMappingList:t})),Object(r.s)(n.loadHotelMappingListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{hotelMappingList:t})),Object(r.s)(n.loadRateTypeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{rateTypeList:t})),Object(r.s)(n.loadHotelContractTypeCodeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{hotelContractTypeCodeList:t})),Object(r.s)(n.loadContractStatusCodeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{contractStatusCodeList:t})),Object(r.s)(n.loadMappingStatusCodeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{mappingStatusCodeList:t})),Object(r.s)(n.loadSalesCountryCodeSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{salesCountryCodeList:t})),Object(r.s)(n.loadCompListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{compCodeList:t})),Object(r.s)(n.loadCompVendorPaymentPeriodListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{vendorPaymentPeriodCodeList:t})),Object(r.s)(n.loadVccInfoByCountryListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{vccInfoByCountryList:t})),Object(r.s)(n.getCountryPhoneListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{countryPhoneList:t})),Object(r.s)(n.loadCompSellerPaymentPeriodListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{sellerPaymentPeriodCodeList:t})));function Do(e,t){return Object(r.m)({usCompList:_o})(e,t)}const No=Object(r.p)("usComp"),Mo=Object(r.r)(No,e=>e.usCompList),xo=Object(r.r)(Mo,e=>e.picTypeCodeList),Ro=Object(r.r)(Mo,e=>e.sellerBranchTypeList),Ao=Object(r.r)(Mo,e=>e.tradeStatusList),Eo=Object(r.r)(Mo,e=>e.compTypeList),$o=Object(r.r)(Mo,e=>e.languageCodeList),Uo=Object(r.r)(Mo,e=>e.currencyList),wo=Object(r.r)(Mo,e=>e.markupMasterList),Yo=Object(r.r)(Mo,e=>e.activityMarkupMasterList),Bo=Object(r.r)(Mo,e=>e.bankMasterList),Ho=Object(r.r)(Mo,e=>e.depositTpyeList),qo=Object(r.r)(Mo,e=>e.depositList),Go=Object(r.r)(Mo,e=>e.hotelMappingList),zo=Object(r.r)(Mo,e=>e.rateTypeList),Ko=Object(r.r)(Mo,e=>e.contractStatusCodeList),Qo=Object(r.r)(Mo,e=>e.mappingStatusCodeList),Xo=Object(r.r)(Mo,e=>e.salesCountryCodeList),Zo=Object(r.r)(Mo,e=>e.compCodeList),Jo=Object(r.r)(Mo,e=>e.excludeResult),en=Object(r.r)(Mo,e=>e.picListByType),tn=Object(r.r)(Mo,e=>e.floatingDepositList),on=Object(r.r)(Mo,e=>e.paymentTypeList),nn=Object(r.r)(Mo,e=>e.paymentMethodList),an=Object(r.r)(Mo,e=>e.currencyInfo),sn=Object(r.r)(Mo,e=>e.vendorPaymentPeriodCodeList),cn=Object(r.r)(Mo,e=>e.vccInfoByCountryList),rn=Object(r.r)(Mo,e=>e.sellerPaymentPeriodCodeList),ln=Object(r.r)(Mo,e=>e.taxPayerTypeList),dn=Object(r.r)(Mo,e=>e.registerPathList),pn=Object(r.r)(Mo,e=>e.accountTypeList),un=Object(r.r)(Mo,e=>e.accountTransferTypeList),bn=Object(r.r)(Mo,e=>e.flightApprovalStatusList),mn=Object(r.r)(Mo,e=>e.hotelApprovalStatusList),hn=Object(r.r)(Mo,e=>e.rentApprovalStatusList),Cn=Object(r.r)(Mo,e=>e.activityApprovalStatusList),fn=Object(r.r)(Mo,e=>e.vendorPayTypeList),yn=Object(r.r)(Mo,e=>e.paymentPeriodList),gn=Object(r.r)(Mo,e=>e.activityVendorGradeList),vn=Object(r.r)(Mo,e=>e.activityGradeCommList),On=Object(r.r)(Mo,e=>e.activityGradeCommCategoryList),Vn=Object(r.r)(Mo,e=>e.refundDeductTypeList),Ln=Object(r.r)(Mo,e=>e.refundRangeTypeList),jn=Object(r.r)(Mo,e=>e.userTypeList),Pn=Object(r.r)(Mo,e=>e.userStatusCodeList),Sn=Object(r.r)(Mo,e=>e.sellerGradeList),In=Object(r.r)(Mo,e=>e.loading),Fn=Object(r.r)(Mo,e=>e.reloadYn),kn=Object(r.r)(Mo,e=>e.searchCondition),Wn=Object(r.r)(Mo,e=>e.otherSearchInfo),Tn=Wo.getSelectors(Mo).selectAll,_n=Object(r.r)(Mo,e=>e.gridDataTotal),Dn=Object(r.r)(Mo,e=>e.gridState),Nn=Object(r.r)(Mo,e=>e.gridCheckedState),Mn=Object(r.r)(Dn,e=>_.get(e,["pageInfo","take"],20)),xn=Object(r.r)(Mo,e=>e.isOpenDetailPopup),Rn=Object(r.r)(Mo,e=>e.selectedDetailRowInfo),An=Object(r.r)(Mo,e=>e.compAccountListLoading),En=Object(r.r)(Mo,e=>e.compAccountList),$n=Object(r.r)(Mo,e=>e.compVendorLoading),Un=Object(r.r)(Mo,e=>e.compVendorInfo),wn=Object(r.r)(Mo,e=>e.contractFileList),Yn=Object(r.r)(Mo,e=>e.vendorContractList),Bn=Object(r.r)(Mo,e=>e.childPolicy),Hn=Object(r.r)(Mo,e=>e.hotelContractTypeCodeList),qn=Object(r.r)(Mo,e=>e.isOpenCompVendorFloatingDepositModal),Gn=Object(r.r)(Mo,e=>e.isOpenCompVendorPaymentConditionFormModal),zn=Object(r.r)(Mo,e=>e.isOpenCompVendorVccPaymentFormModal),Kn=Object(r.r)(Mo,e=>e.isShowCompVendorVccPaymentForm),Qn=Object(r.r)(Mo,e=>e.compVendorModifyButtonWithPaymentConditionItem),Xn=Object(r.r)(Mo,e=>e.compVendorPaymentConditionItemList),Zn=Object(r.r)(Mo,e=>e.reloadToggleOfCompVendorPaymentCondition),Jn=Object(r.r)(Mo,e=>e.selectedPaymentConditionItem),ea=Object(r.r)(Mo,e=>e.compVendorModifyButtonWithVccPaymentConditionItem),ta=Object(r.r)(Mo,e=>e.selectedVccPaymentItem),ia=Object(r.r)(Mo,e=>e.compSellerLoading),oa=Object(r.r)(Mo,e=>e.compSellerInfo),na=Object(r.r)(Mo,e=>e.compStaffListTotalCount),aa=Object(r.r)(Mo,e=>e.compStaffList),sa=Object(r.r)(Mo,e=>e.countryPhoneList);var ca=i("YY+H"),ra=i("AytR");const{API_URL:la}=ra.a,da={selectCompMaster:`${la}/admin/user/comp/master`,modifyCompMaster:`${la}/admin/user/comp/master`,selectDetailCodes:`${la}/common/detail-code`,selectMarkupMasters:`${la}/admin/hotel/markup/master`,selectActivityMarkupMasters:`${la}/admin/activity/markup/master`,imageUpload:`${la}/admin/image/file/upload/AV/I`,excelDownload:`${la}/admin/basis/comp/excel`,postCompAccount:`${la}/admin/user/comp/bank`,putCompAccount:`${la}/admin/user/comp/bank`,selectCompVendor:`${la}/admin/user/comp/vendor`,putCompVendor:`${la}/admin/user/comp/vendor`,postCompVendorPaymentCondition:`${la}/admin/user/comp/vendor/payment-condition`,putCompVendorPaymentCondition:`${la}/admin/user/comp/vendor/payment-condition`,deleteCompVendorPaymentCondition:`${la}/admin/user/comp/vendor/payment-condition`,insertCompVendorPaymentConditionVcc:`${la}/admin/user/comp/vendor/payment-condition/vcc`,updateCompVendorPaymentConditionVcc:`${la}/admin/user/comp/vendor/payment-condition/vcc/update`,deleteCompVendorPaymentConditionVcc:`${la}/admin/user/comp/vendor/payment-condition/vcc`,upsertHotelMappingToVendor:`${la}/admin/user/comp/vendor/mapping`,postVendorMapping:`${la}/admin/user/comp/vendor/mapping`,deleteVendorMapping:`${la}/admin/user/comp/vendor/mapping`,postCompStaff:`${la}/admin/user/comp/staff`,putCompStaff:`${la}/admin/user/comp/staff`,postCompPicListByType:`${la}/admin/user/comp/pic`,modifyCompPicListByType:`${la}/admin/user/comp/pic`,deleteCompPicListByType:`${la}/admin/user/comp/pic`,selectCompSeller:`${la}/admin/user/comp/seller`,putCompSeller:`${la}/admin/user/comp/seller`,selectCompExclude:`${la}/admin/user/comp/seller/exclude`,selectCurrency:`${la}/admin/user/comp/seller/currency`,putSendbill:`${la}/admin/account/send-bill/register`,floatingDeposit:`${la}/admin/user/comp/vendor/floating-deposit`,contractFile:`${la}/admin/user/comp/vendor/contract-file`,fileUpload:`${la}/admin/image/file/upload/AV/I`,vendorContract:`${la}/admin/user/comp/vendor/contract`,postSalesList:`${la}/admin/basis/sales-country`,postCommonComp:`${la}/common/comp`,postSendPasswordEmail:`${la}/user/password/send`,postCommonCountry:`${la}/common/country`,childPolicy:`${la}/admin/user/comp/vendor/child-policy`},pa={ACTIVE:"A",PENDING:"P",STOP:"S"},ua={NETPPAN:840006,D_EDGE:840009},ba={VENDOR:"VENDOR",CONTROL:"CONTROL",SELLER:"SELLER"};var ma=i("fXoL"),ha=i("pfiq"),Ca=i("LRne"),fa=i("z6cu"),ya=i("eIep"),ga=i("JIr8"),va=i("tpT/"),Oa=i("VMfx");let Va=(()=>{class e{constructor(e,t){this.api=e,this.languageService=t}getDetailCodeListOnlyLabelValue(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.post(da.selectDetailCodes,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result.list.map(e=>Object.assign({},e,{label:"KO"===this.languageService.currentLanguage?e.detailCodeNameLn:e.detailCodeNameEn,value:e.detailCode}))):Object(fa.a)("api response error")))}getDetailCodeList(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.post(da.selectDetailCodes,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result.list):Object(fa.a)("api response error")))}getMarkupMasterList(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.post(da.selectMarkupMasters,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result.list.map(e=>({label:`${e.markupMasterName} (${e.markupMasterSeq})`,value:e.markupMasterSeq}))):Object(fa.a)(e||"api response error")))}getActivityMarkupMasterList(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.post(da.selectActivityMarkupMasters,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result.list.map(e=>({label:`${e.markupMasterName} (${e.markupMasterSeq})`,value:e.markupMasterSeq}))):Object(fa.a)(e||"api response error")))}getCompMasterList(e){var t=_.assign({},e);t.hotelMarkupMasterSeqs&&(t.hotelMarkupMasterSeqs=[t.hotelMarkupMasterSeqs]);const i=_.assign({},this.api.defaultParams,{condition:t});return this.api.post(da.selectCompMaster,i).pipe(Object(ya.a)(e=>{if(e.succeedYn&&e.result){const t=this._addRowid(e.result.list),i=e.result.totalCount||0;return Object(Ca.a)({list:t,totalCount:i})}return Object(fa.a)(e||"api response error")}))}upsertCompMaster(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.put(da.modifyCompMaster,t).pipe(Object(ya.a)(e=>{if(e.succeedYn){const t=this._addRowid(e.result.list);return Object(Ca.a)(t)}return Object(fa.a)(e||"api response error")}))}getCompAccountList(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.post(da.postCompAccount,t).pipe(Object(ya.a)(e=>{var t;if(e.succeedYn&&e.result){const i=(null===(t=e.result)||void 0===t?void 0:t.list)||[];return Object(Ca.a)(i)}return Object(fa.a)(e||"api response error")}))}upsertCompAccount(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.put(da.putCompAccount,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.succeedYn):Object(fa.a)(e||"api response error")))}getCompVendorInfo(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.post(da.selectCompVendor,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result):Object(fa.a)(e||"api response error")))}upsertCompVendor(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.put(da.putCompVendor,t).pipe(Object(ya.a)(e=>e.succeedYn&&e.result?Object(Ca.a)(e.result):Object(fa.a)(e||"api response error")))}getCompVendorPaymentCondition(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.post(da.postCompVendorPaymentCondition,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result):Object(fa.a)(e||"api response error")))}upsertCompVendorPaymentCondition(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.put(da.putCompVendorPaymentCondition,t).pipe(Object(ya.a)(e=>e.succeedYn&&e.result?Object(Ca.a)(e.result):Object(fa.a)(e||"api response error")))}deleteCompVendorPaymentCondition(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.delete(da.deleteCompVendorPaymentCondition,t).pipe(Object(ya.a)(e=>e.succeedYn&&e.result?Object(Ca.a)(e.result):Object(fa.a)(e||"api response error")))}insertCompVendorPaymentConditionVcc(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.put(da.insertCompVendorPaymentConditionVcc,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result):Object(fa.a)(e||"api response error")))}updateCompVendorPaymentConditionVcc(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.put(da.updateCompVendorPaymentConditionVcc,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e):Object(fa.a)(e||"api response error")))}deleteCompVendorPaymentConditionVcc(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.delete(da.deleteCompVendorPaymentConditionVcc,t).pipe(Object(ya.a)(e=>e.succeedYn&&e.result?Object(Ca.a)(e.result):Object(fa.a)(e||"api response error")))}upsertHotelMappingToVendor(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.put(da.upsertHotelMappingToVendor,t).pipe(Object(ya.a)(e=>e.succeedYn&&e.result?Object(Ca.a)(e.result):Object(fa.a)(e||"api response error")))}getCompSellerInfo(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.post(da.selectCompSeller,t).pipe(Object(ya.a)(e=>e.succeedYn&&e.result?Object(Ca.a)(e.result):Object(fa.a)(e||"api response error")))}upsertCompSeller(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.put(da.putCompSeller,t).pipe(Object(ya.a)(e=>e.succeedYn&&e.result?Object(Ca.a)(e.result):Object(fa.a)(e||"api response error")))}upsertExclude(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.put(da.selectCompExclude,t).pipe(Object(ya.a)(e=>e.succeedYn&&e.result?Object(Ca.a)(e.result):Object(fa.a)(e||"api response error")))}getExclude(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.post(da.selectCompExclude,t).pipe(Object(ya.a)(e=>e.succeedYn&&e.result?Object(Ca.a)(e.result):Object(fa.a)(e||"api response error")))}getPicListByType(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.post(da.postCompPicListByType,t).pipe(Object(ya.a)(e=>e.succeedYn&&e.result?Object(Ca.a)(e.result):Object(fa.a)(e||"api response error")))}getCompStaffList(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.post(da.postCompStaff,t).pipe(Object(ya.a)(e=>{var t,i;if(e.succeedYn){const{totalCount:o}=e.result,n=null!==(i=null===(t=e.result)||void 0===t?void 0:t.list)&&void 0!==i?i:[];return Object(Ca.a)({totalCount:o,dataList:n})}return Object(fa.a)("api response error")}),Object(ga.a)(e=>(console.error(e),Object(fa.a)("network state error"))))}removeCompMasters(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.delete(da.modifyCompMaster,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result&&e.result.counts):Object(fa.a)("api response error")),Object(ga.a)(e=>(console.error(e),Object(fa.a)("network state error"))))}upsertCurrency(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.put(da.selectCurrency,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result&&e.result.counts):Object(fa.a)("api response error")),Object(ga.a)(e=>(console.error(e),Object(fa.a)("network state error"))))}postCurrency(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.post(da.selectCurrency,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result.list):Object(fa.a)("api response error")),Object(ga.a)(e=>(console.error(e),Object(fa.a)("network state error"))))}deleteCurrency(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.delete(da.selectCurrency,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result):Object(fa.a)("api response error")),Object(ga.a)(e=>(console.error(e),Object(fa.a)("network state error"))))}upsertCompPicListByType(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.put(da.modifyCompPicListByType,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result):Object(fa.a)("api response error")),Object(ga.a)(e=>(console.error(e),Object(fa.a)("network state error"))))}removeCompPicListByType(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.delete(da.deleteCompPicListByType,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result):Object(fa.a)("api response error")),Object(ga.a)(e=>(console.error(e),Object(fa.a)("network state error"))))}sendbill(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.put(da.putSendbill,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result):Object(fa.a)("api response error")),Object(ga.a)(e=>(console.error(e),Object(fa.a)("network state error"))))}upsertDeposit(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.put(da.floatingDeposit,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result):Object(fa.a)("api response error")),Object(ga.a)(e=>Object(fa.a)("network state error")))}postDeposit(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.post(da.floatingDeposit,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result):Object(fa.a)("api response error")),Object(ga.a)(e=>Object(fa.a)("network state error")))}contractFile(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.put(da.contractFile,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result):Object(fa.a)("api response error")),Object(ga.a)(e=>Object(fa.a)("network state error")))}fileDelete(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.delete(da.contractFile,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result):Object(fa.a)("api response error")),Object(ga.a)(e=>Object(fa.a)("network state error")))}postContractFile(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.post(da.contractFile,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result):Object(fa.a)("api response error")),Object(ga.a)(e=>Object(fa.a)("network state error")))}childPolicy(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.post(da.childPolicy,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result):Object(fa.a)("api response error")),Object(ga.a)(e=>Object(fa.a)("network state error")))}mappingList(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.post(da.postVendorMapping,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result):Object(fa.a)("api response error")),Object(ga.a)(e=>Object(fa.a)("network state error")))}deleteMappingList(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.delete(da.deleteVendorMapping,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result):Object(fa.a)("api response error")),Object(ga.a)(e=>Object(fa.a)("network state error")))}upsertVendorContract(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.put(da.vendorContract,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result.list):Object(fa.a)("api response error")),Object(ga.a)(e=>Object(fa.a)("network state error")))}loadVendorContractList(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.post(da.vendorContract,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result.list):Object(fa.a)("api response error")),Object(ga.a)(e=>Object(fa.a)("network state error")))}submitChildPolicy(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.put(da.childPolicy,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result):Object(fa.a)("api response error")),Object(ga.a)(e=>Object(fa.a)("network state error")))}putCompStaffs(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.put(da.putCompStaff,t).pipe(Object(ya.a)(e=>{var t,i;if(e.succeedYn){const{totalCount:o}=e.result,n=null!==(i=null===(t=e.result)||void 0===t?void 0:t.list)&&void 0!==i?i:[];return Object(Ca.a)({totalCount:o,dataList:n})}return Object(fa.a)("api response error")}),Object(ga.a)(e=>Object(fa.a)("network state error")))}getSalesList(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.post(da.postSalesList,t).pipe(Object(ya.a)(e=>{var t;if(e.succeedYn){const i=null===(t=e.result)||void 0===t?void 0:t.list;return Object(Ca.a)(i)}return Object(fa.a)(e||"api response error")}))}getCompList(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.post(da.postCommonComp,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result.list):Object(fa.a)(e||"api response error")))}deleteDeposit(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.delete(da.floatingDeposit,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result.list):Object(fa.a)(e||"api response error")))}deleteVendor(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.delete(da.selectCompExclude,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result):Object(fa.a)(e||"api response error")))}sendPasswordEmail(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.post(da.postSendPasswordEmail,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result):Object(fa.a)(e||"api response error")))}getCommonCountry(e){const t=_.assign({},this.api.defaultParams,{condition:e});return this.api.post(da.postCommonCountry,t).pipe(Object(ya.a)(e=>e.succeedYn?Object(Ca.a)(e.result.list.map(e=>({label:`${e.countryNameEn}(+${e.countryPhoneCode})`,value:e.countryPhoneCode}))):Object(fa.a)(e||"api response error")))}_addRowid(e){return _.isNil(e)?[]:e.map((e,t)=>Object.assign(Object.assign({},e),{rowid:String(t)}))}}return e.\u0275fac=function(t){return new(t||e)(ma.bc(va.a),ma.bc(Oa.a))},e.\u0275prov=ma.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var La=i("wd/R"),ja=i("6UzV");let Pa=(()=>{class e{constructor(e){this.fb=e,this.generateGridColumns=()=>[{field:"compCode",title:"Comp Code"},{field:"compNameOfficial",title:"Comp Name : Official"},{field:"compNameOperation",title:"Comp Name : Operation"},{field:"compNameEn",title:"Comp Name : EN"},{field:"compTypeName1",title:"Comp Type 1"},{field:"compTypeName2",title:"Comp Type 2"},{field:"compTypeName3",title:"Comp Type 3"},{field:"controlCompCode",title:"Control Comp Code",style:{"text-align":"center"}},{field:"tradeStatusName",title:"Status",style:{"text-align":"center"}},{field:"hotelMarkupMasterSeq",title:"H.Mark Up Master SEQ",style:{"text-align":"center"}},{field:"hotelMarkupMasterName",title:"H.Mark Up Master Name"},{field:"tradeStartDate",title:"Start Date",style:{"text-align":"center"}},{field:"tradeEndDate",title:"End Date",style:{"text-align":"center"}},{field:"lastUpdateName",title:"Last Update User"},{field:"lastUpdateDatetime",title:"Last Update Time",style:{"text-align":"center"}}],this.generateSearchForm=()=>this.fb.group({hotelMarkupMasterSeqs:[null],compCode:[null],compTypeCode1:[null],officeCountryCode:[null],tradeStatusCode:[null],taxPayerNo:[null],userId:[null],mappingHotelCode:[null],compName:[null],hotelName:[null],registerDateRange:this.fb.array([new s.g(null),new s.g(null)],{validators:[ja.a.compareDatesValidators("rangeCompare",[[0],[1]])]})}),this.initListSearchFormData=()=>({hotelMarkupMasterSeqs:null,compCode:null,compTypeCode1:null,officeCountryCode:null,tradeStatusCode:null,taxPayerNo:null,userId:null,mappingHotelCode:null,compName:null,hotelName:null,registerDateRange:["2022-01-01",La().format("YYYY-MM-DD")]}),this.initCompMasterSearchCondition=()=>({hotelMarkupMasterSeqs:null,compCode:null,compTypeCode1:null,officeCountryCode:null,tradeStatusCode:null,taxPayerNo:null,userId:null,mappingHotelCode:null,compName:null,hotelName:null,registerDateRange:["2022-01-01",La().format("YYYY-MM-DD")],limits:null}),this.generateMasterPutForm=()=>this.fb.group({compCode:[{value:null,disabled:!0}],compNameOfficial:[null,[s.z.required]],compNameOperation:[null,[s.z.required]],compNameEn:[null],compTypeCode1:[null,[s.z.required]],compTypeCode2:[null],compTypeCode3:[null],controlCompCode:[{value:11e4}],salesCountryCode:[{value:"KR-110000"}],officeCountryCode:[null,[s.z.required]],defaultLanguageCode:[null,[s.z.required]],timeZoneName:[null,[s.z.required]],tradeStatusCode:[null,[s.z.required]],compZipCode:[null],compAddress1:[null],compAddress2:[null],repPhoneNo:[null],repEmailAddress:[null],repFaxNo:[null],logoImageUrl:[null],currencyCode:[null,[s.z.required]],bookingPrefix:[null],telephoneSalesReportNo:[null],homepageOrEmailAddress:[null],taxPayerNo:[null],representativeName:[null],businessType:[null],businessItem:[null],taxPayerRegistrationUrl:[null],compIntro:[null],tradeStartDate:[null,[s.z.required]],tradeEndDate:[null],tradeEndReason:[null],taxBillIssueYn:[!1,[s.z.required]],activityMarkupMasterSeq:[null],hotelMarkupMasterSeq:[null],vendorInfoDisplayYn:[null,[s.z.required]],amadeusOfficeId:[null],amadeusArtId:[null],sabreIpcc:[null],legacyCompCode:[null],parentCompCode:[null],controlRemark:[null],activityCategoryList:this.fb.array([new s.g(!1),new s.g(!1),new s.g(!1),new s.g(!1),new s.g(!1),new s.g(!1),new s.g(!1),new s.g(!1),new s.g(!1)])},{validators:[ja.a.compareDatesValidators("tradeDateValidator",["tradeStartDate","tradeEndDate"])]}),this.initMasterPutFormData=()=>({compCode:null,compNameOfficial:null,compNameOperation:null,compNameEn:null,compTypeCode1:null,compTypeCode2:null,compTypeCode3:null,controlCompCode:11e4,salesCountryCode:"KR-110000",officeCountryCode:null,defaultLanguageCode:null,timeZoneName:null,tradeStatusCode:null,compZipCode:null,compAddress1:null,compAddress2:null,repPhoneNo:null,repEmailAddress:null,repFaxNo:null,logoImageUrl:null,currencyCode:null,bookingPrefix:null,telephoneSalesReportNo:null,homepageOrEmailAddress:null,taxPayerNo:null,representativeName:null,businessType:null,businessItem:null,taxPayerRegistrationUrl:null,compIntro:null,tradeStartDate:null,tradeEndDate:null,tradeEndReason:null,taxBillIssueYn:!1,activityMarkupMasterSeq:null,vendorInfoDisplayYn:!1,amadeusOfficeId:null,amadeusArtId:null,sabreIpcc:null,legacyCompCode:null,parentCompCode:null,controlRemark:null,hotelMarkupMasterSeq:null}),this.generateCompAccountListPutForm=()=>this.fb.group({list:this.fb.array([])}),this.generateCompAccountItemPutForm=(e,t)=>this.fb.group({compCode:[t||null,[s.z.required]],bankAccountSeq:[(null==e?void 0:e.bankAccountSeq)||null],bankMasterCode:[(null==e?void 0:e.bankMasterCode)||null,[s.z.required]],bankAccountNo:[(null==e?void 0:e.bankAccountNo)||null,[s.z.required]],bankDepositorName:[(null==e?void 0:e.bankDepositorName)||null,[s.z.required]],useYn:[null==e?void 0:e.useYn,[s.z.required]],accountTypeCode:[(null==e?void 0:e.accountTypeCode)||null,[s.z.required]],accountTransferTypeCode:[(null==e?void 0:e.accountTransferTypeCode)||null],bankSwiftCode:[(null==e?void 0:e.bankSwiftCode)||null],currencyCode:[(null==e?void 0:e.currencyCode)||null,[s.z.required]],bankCopyUrl:[(null==e?void 0:e.bankCopyUrl)||null],controlRemark:[(null==e?void 0:e.controlRemark)||null],bankBranchName:[(null==e?void 0:e.bankBranchName)||null]}),this.initCompAccountItemPutFormData=()=>({bankAccountSeq:null,compCode:null,accountTypeCode:null,currencyCode:null,bankMasterCode:null,bankAccountNo:null,bankDepositorName:null,bankCopyUrl:null,bankSwiftCode:null,bankBranchName:null,bankAddress:null,accountTransferTypeCode:null,controlRemark:null,useYn:null}),this.generateCompVendorPutForm=()=>this.fb.group({vendorCompCode:[null],flightApprovalStatusCode:[null],hotelApprovalStatusCode:[null,[s.z.required]],rentApprovalStatusCode:[null],activityApprovalStatusCode:[null],hotelMutualContractYn:[!1,[s.z.required]],bookableDate:[null,[s.z.required]],inventoryUseYn:[null,[s.z.required]],paymentPeriodCode:[null],callCenterOperationYn:[!1],depositTypeCode:[null],maxBookableRoomCount:[null],currencyCode:[{value:null,disabled:!0}],maxBookableAdultCount:[null],maxBookableChildCount:[null],depositDate:[null],maxChildAge:[null],depositAmount:[null],quadBookableYn:[null],maxBookableDays:[null,[s.z.required]],floatingDepositMaxDate:[{value:null,disabled:!0}],floatingDepositSumAmount:[{value:null,disabled:!0}],controlRemark:[null]}),this.initCompVendorPutFormData=()=>({vendorCompCode:null,flightApprovalStatusCode:"PST99",hotelApprovalStatusCode:"PST99",rentApprovalStatusCode:"PST99",activityApprovalStatusCode:"PST99",hotelMutualContractYn:!1,bookableDate:null,callCenterOperationYn:!1,inventoryUseYn:!1,paymentPeriodCode:null,depositTypeCode:null,maxBookableRoomCount:null,currencyCode:null,maxBookableAdultCount:null,maxBookableChildCount:null,depositDate:null,maxChildAge:null,depositAmount:null,quadBookableYn:!1,maxBookableDays:null,floatingDepositSumAmount:null,floatingDepositMaxDate:null,controlRemark:null}),this.generateCompVendorPaymentConditionPutFormData=()=>this.fb.group({paymentConditionSeq:[null],vendorCompCode:[null,[s.z.required]],hotelCode:[null],appliedFromDate:[null,[s.z.required,ja.a.dateValidator]],appliedToDate:[null,[ja.a.dateValidator]],paymentTypeCode:[null,[s.z.required,ja.a.minLength(1),ja.a.maxLength(10)]],paymentPeriodCode:[null,[ja.a.minLength(1),ja.a.maxLength(10)]],depositUseYn:[null],paymentMethodCode:[null,[s.z.required,ja.a.minLength(1),ja.a.maxLength(10)]],bankAccountSeq:[null],controlRemark:[null,[ja.a.minLength(1),ja.a.maxLength(500)]],vccList:[null],bankInformationSelectBoxControl:[null]}),this.initCompVendorPaymentConditionPutFormData=()=>({paymentConditionSeq:null,vendorCompCode:null,hotelCode:null,appliedFromDate:null,appliedToDate:null,paymentTypeCode:null,paymentPeriodCode:null,depositUseYn:!1,paymentMethodCode:null,bankAccountSeq:null,controlRemark:null,vccList:null,bankInformationSelectBoxControl:null}),this.generateCompVendorVccPaymentConditionPutFormData=()=>this.fb.group({paymentVccSeq:[null],paymentConditionSeq:[null],vccTypeCode:[null,[s.z.required,ja.a.minLength(1),ja.a.maxLength(10)]],vccHotelMappingCode:[null,[s.z.required,ja.a.minLength(1),ja.a.maxLength(30)]],vccHotelMappingName:[null,[s.z.required,ja.a.minLength(1),ja.a.maxLength(200)]],vccCompCode:[null,[s.z.required]],defaultVccYn:[null,[s.z.required]],emailSendList:[null,[ja.a.minLength(1),ja.a.maxLength(1e3)]]}),this.initCompVendorVccPaymentConditionPutFormData=()=>({paymentVccSeq:null,paymentConditionSeq:null,vccTypeCode:null,vccHotelMappingCode:null,vccHotelMappingName:null,vccCompCode:null,defaultVccYn:!1,emailSendList:null}),this.generateCompSellerPutForm=()=>this.fb.group({sellerCompCode:[null,[s.z.required]],paymentTypeCode:[null,[s.z.required,ja.a.minLength(1),ja.a.maxLength(10)]],paymentDueDate:[null],directProvideYn:[!0,[s.z.required]],paymentPeriodCode:[null],"3rdPartyProvideYn":[null,[s.z.required]],depositTypeCode:[null,[ja.a.minLength(1),ja.a.maxLength(10)]],hotelMutualContractYn:[null,[s.z.required]],depositCurrencyCode:[null,[ja.a.currencyValidator]],dynamicProvideYn:[!0,[s.z.required]],depositAmount:[null],apiIpList:[null,[ja.a.minLength(1),ja.a.maxLength(1e3)]],depositDate:[null,[ja.a.dateValidator]],apiSecretDev:[null,[ja.a.minLength(1),ja.a.maxLength(20)]],apiSecretProd:[null,[ja.a.minLength(1),ja.a.maxLength(20)]],apiTokenDev:[null,[ja.a.minLength(1),ja.a.maxLength(100)]],apiTokenProd:[null,[ja.a.minLength(1),ja.a.maxLength(100)]],controlRemark:[null,[ja.a.minLength(1),ja.a.maxLength(500)]],ableQps:[null],stopSecond:[null],netProvideYn:[!0,[s.z.required]],commRate:[null],linkId:[null]}),this.initExcludePutFormData=e=>this.fb.group({sellerCompCode:null,excludeTypeCode:e.excludeTypeCode||null,excludeValue:e.hotelCode||e.vendorCompCode||null,name:e.vendorCompName||e.hotelNameEn||null}),this.generateInfoPutForm=()=>this.fb.group({sellerCompCode:[null],excludeVendorList:this.fb.array([]),excludeHotelList:this.fb.array([]),controlRemark:[null]}),this.generateItemForm=e=>this.fb.group({sellerCompCode:[null],excludeTypeCode:["EXC01"],excludeValue:[(null==e?void 0:e.compCode)||null],name:[e.compName]}),this.generateHotelItemForm=e=>this.fb.group({sellerCompCode:[null],excludeTypeCode:["EXC02"],excludeValue:[(null==e?void 0:e.hotelCode)||null],name:[e.hotelNameEn]}),this.generateCurrencyPutForm=()=>this.fb.group({currencyArray:this.fb.array([])}),this.generateCurrencyItemForm=()=>this.fb.group({countryCode:[null,[s.z.required]],currencyCode:[null,[s.z.required]]}),this.initCurrencyItemForm=e=>this.fb.group({countryCode:e.countryCode,currencyCode:e.currencyCode}),this.initCompSellerPutFormDataCondition=e=>({sellerCompCode:e,paymentTypeCode:null,paymentDueDate:null,directProvideYn:!0,paymentPeriodCode:null,"3rdPartyProvideYn":!0,depositTypeCode:null,hotelMutualContractYn:!0,depositCurrencyCode:null,dynamicProvideYn:!0,depositAmount:null,apiIpList:null,depositDate:null,apiSecretDev:null,apiSecretProd:null,apiTokenDev:null,apiTokenProd:null,controlRemark:null,netProvideYn:!0,commRate:null,linkId:null,ableQps:1e3,stopSecond:60}),this.generateHotelMappingToVendorPutForm=()=>this.fb.group({vendorCompCode:[null],hotelCode:[null],vendorHotelCode:[null]}),this.initHotelMappingToVendorPutFormDataCondition=()=>({vendorCompCode:null,hotelCode:null,cmsPmsCompCode:null,vendorHotelCode:null}),this.generateContractPutForm=()=>this.fb.group({contractArray:this.fb.array([]),hotelContractTypeCode:["HOC02"]}),this.generateContractArrayPutForm=e=>this.fb.group({hotelContractSeq:(null==e?void 0:e.hotelContractSeq)||null,ownerCompCode:[(null==e?void 0:e.ownerCompCode)||11e4,[s.z.required]],ownerCompName:(null==e?void 0:e.ownerCompName)||null,vendorCompCode:(null==e?void 0:e.vendorCompCode)||null,hotelCode:(null==e?void 0:e.hotelCode)||null,hotelContractTypeCode:[(null==e?void 0:e.hotelContractTypeCode)||null,s.z.required],hotelContractTypeName:(null==e?void 0:e.hotelContractTypeName)||null,hotelContractNo:(null==e?void 0:e.hotelContractNo)||null,currencyCode:[(null==e?void 0:e.currencyCode)||null,[s.z.required]],netProvideYn:[(null==e?void 0:e.netProvideYn)||!1,[s.z.required]],vendorCommRate:(null==e?void 0:e.vendorCommRate)||null,vendorAddCommYn:[(null==e?void 0:e.vendorAddCommYn)||!1,[s.z.required]],localPriceYn:[(null==e?void 0:e.localPriceYn)||!1,[s.z.required]],priceCmsPmsCompCode:(null==e?void 0:e.priceCmsPmsCompCode)||null,priceCmsPmsCompName:(null==e?void 0:e.priceCmsPmsCompName)||null,cmsPmsHotelCode:[(null==e?void 0:e.cmsPmsHotelCode)||null],cmsPmsPassword:(null==e?void 0:e.cmsPmsPassword)||null,localAllotmentYn:[(null==e?void 0:e.localAllotmentYn)||!1,[s.z.required]],allotmentCmsPmsCompCode:(null==e?void 0:e.allotmentCmsPmsCompCode)||null,allotmentCmsPmsCompName:(null==e?void 0:e.allotmentCmsPmsCompName)||null,sendCmsPmsCompCode:(null==e?void 0:e.sendCmsPmsCompCode)||null,sendCmsPmsCompName:(null==e?void 0:e.sendCmsPmsCompName)||null,autoRefillYn:[(null==e?void 0:e.autoRefillYn)||!1,[s.z.required]],requestAbleYn:[(null==e?void 0:e.requestAbleYn)||!1,[s.z.required]],extraTaxPaymentYn:[(null==e?void 0:e.extraTaxPaymentYn)||!1,[s.z.required]],sendAmountTypeCode:[(null==e?void 0:e.sendAmountTypeCode)||null,[s.z.required]],sendAmountTypeName:(null==e?void 0:e.sendAmountTypeName)||null,contractStatusCode:[(null==e?void 0:e.contractStatusCode)||null,[s.z.required]],contractStatusName:(null==e?void 0:e.contractStatusName)||null,cmsPmsMappingStatusCode:[(null==e?void 0:e.cmsPmsMappingStatusCode)||null],cmsPmsMappingStatusName:(null==e?void 0:e.cmsPmsMappingStatusName)||null,cmsCtaCtdUseYn:[(null==e?void 0:e.cmsCtaCtdUseYn)||!1,[s.z.required]],cmsChildPolicyUseYn:[(null==e?void 0:e.cmsChildPolicyUseYn)||!1,[s.z.required]],useAllotmentContractSeq:[(null==e?void 0:e.useAllotmentContractSeq)||null],legacyHotelCode:(null==e?void 0:e.legacyHotelCode)||null,vendorRemark:(null==e?void 0:e.vendorRemark)||null,firstInsertUno:(null==e?void 0:e.firstInsertUno)||null,firstInsertName:(null==e?void 0:e.firstInsertName)||null,firstInsertDatetime:(null==e?void 0:e.firstInsertDatetime)||null,lastUpdateUno:(null==e?void 0:e.lastUpdateUno)||null,lastUpdateName:(null==e?void 0:e.lastUpdateName)||null,lastUpdateDatetime:(null==e?void 0:e.lastUpdateDatetime)||null,bookingSendList:(null==e?void 0:e.bookingSendList)||[],checked:(null==e?void 0:e.checked)||!1,faxChecked:!1,emailChecked:(null==e?void 0:e.emailChecked)||null,countryPhoneCode:null,faxNo:null,emailAddressList:(null==e?void 0:e.emailAddressList)||null}),this.setContractPutFormDataCondition=()=>({hotelContractSeq:null,ownerCompCode:null,vendorCompCode:null,hotelCode:null,hotelContractTypeCode:null,hotelContractNo:null,currencyCode:null,netProvideYn:null,vendorCommRate:null,vendorAddCommYn:null,localPriceYn:null,priceCmsPmsCompCode:null,cmsPmsHotelCode:null,cmsPmsPassword:null,localAllotmentYn:null,allotmentCmsPmsCompCode:null,sendCmsPmsCompCode:null,autoRefillYn:null,requestAbleYn:null,extraTaxPaymentYn:null,sendAmountTypeCode:null,contractStatusCode:null,cmsPmsMappingStatusCode:null,cmsCtaCtdUseYn:null,cmsChildPolicyUseYn:null,useAllotmentContractSeq:null,legacyHotelCode:null,vendorRemark:null,bookingSendList:null}),this.generatStayPutForm=()=>this.fb.group({useYn:[null,[s.z.required]],fromAge:[null,[s.z.required]],toAge:[null,[s.z.required]]}),this.generateBreakfastPutForm=()=>this.fb.group({useYn:[null,[s.z.required]],fromAge:[null,[s.z.required]],toAge:[null,[s.z.required]]}),this.generateUsCompStaffFormGroup=()=>this.fb.group({list:this.fb.array([])}),this.generateUsCompStaffFormItem=()=>this.fb.group({checked:[!1],userNo:[null],compCode:[null,[s.z.required]],userTypeCode:[null,[s.z.required]],onlineOrOffline:[null,[s.z.required]],userStatusCode:[null,[s.z.required]],name:[null,[s.z.required]],lastName:[null],middleName:[null],firstName:[null],userId:[null,[s.z.required]],userPassword:[null],gender:[null],compPhoneNo:[null,[s.z.required]],countryPhoneCode:[null,[s.z.required]],mobileNo:[null],emailAddress:[null,[s.z.required]],smsReceiveYn:[null,[s.z.required]],emailReceiveYn:[null],lockYn:[null],lockDetail:[null],manageUserYn:[!0,[s.z.required]],controlRemark:[null],languageCode:[null]}),this.initUsCompStaffFormItem=()=>({userNo:null,compCode:null,userTypeCode:null,onlineOrOffline:null,userStatusCode:null,name:null,lastName:null,middleName:null,firstName:null,userId:null,userPassword:null,gender:null,compPhoneNo:null,countryPhoneCode:null,mobileNo:null,emailAddress:null,smsReceiveYn:null,emailReceiveYn:!1,lockYn:null,lockDetail:null,manageUserYn:null,controlRemark:null,languageCode:null}),this.generateUsCompStaffManagerFormGroup=()=>this.fb.group({compPicSeq:[null],compCode:[null,[s.z.required]],picTypeCode:[null,[s.z.required]],picUno:[null],hotelCode:[null],picName:[null],countryPhoneCode:[null],picPhoneNo:[null],picEmail:[null],controlRemark:[null]}),this.initUsCompStaffManagerFormGroup=()=>({compPicSeq:null,compCode:null,picTypeCode:null,picUno:null,hotelCode:null,picName:null,countryPhoneCode:null,picPhoneNo:null,picEmail:null,controlRemark:null}),this.generateUsCompStaffManagementFormGroup=()=>this.fb.group({compPicSeq:[null],compCode:[null,[s.z.required]],picTypeCode:[null,[s.z.required]],picUno:[null],hotelCode:[null],picName:[null],countryPhoneCode:[null],picPhoneNo:[null],picEmail:[null],controlRemark:[null]}),this.initUsCompStaffManagementFormGroup=()=>({compPicSeq:null,compCode:null,picTypeCode:null,picUno:null,hotelCode:null,picName:null,countryPhoneCode:null,picPhoneNo:null,picEmail:null,controlRemark:null}),this.generateDepositPutForm=()=>this.fb.group({depositList:this.fb.array([])}),this.generateDepositItemPutForm=e=>this.fb.group({checked:[!1],vendorCompCode:[(null==e?void 0:e.vendorCompCode)||null],depositDate:[(null==e?void 0:e.depositDate)||null],depositAmount:[(null==e?void 0:e.depositAmount)||null],firstInsertName:[(null==e?void 0:e.firstInsertName)||null],firstInsertDatetime:[(null==e?void 0:e.firstInsertDatetime)||null],floatingDepositSeq:[(null==e?void 0:e.floatingDepositSeq)||null]}),this.generateNewFileItemForm=()=>this.fb.group({vendorCompCode:[null,[s.z.required]],contractFileUrl:[null,[s.z.required]],contractFileDesc:[null]}),this.initUpdateFileItemForm=()=>({contractFileSeq:null,vendorCompCode:null,contractFileUrl:null,contractFileDesc:null}),this.generateUploadedFileListForm=()=>this.fb.group({fileList:this.fb.array([])}),this.generateUploadedFileItemForm=e=>this.fb.group({contractFileSeq:[e.contractFileSeq],contractFileUrl:[e.contractFileUrl],contractFileDesc:[e.contractFileDesc],firstInsertUno:[e.firstInsertUno],firstInsertName:[e.firstInsertName],firstInsertDatetime:[e.firstInsertDatetime],lastUpdateUno:[e.lastUpdateUno],lastUpdateName:[e.lastUpdateName],lastUpdateDatetime:[e.lastUpdateDatetime]}),this.generatePicPutForm=()=>this.fb.group({controlPicList:this.fb.array([]),vendorPicList:this.fb.array([]),sellerPicList:this.fb.array([])}),this.initPicPutForm=()=>({controlPicList:[],vendorPicList:[],sellerPicList:[]}),this.generatePicItemPutForm=e=>this.fb.group({compCode:[null],picTypeCode:[(null==e?void 0:e.picTypeCode)||null],countryPhoneCode:[null],picUno:[null],picName:[null],picPhoneNo:[null],picEmail:[null],compPicSeq:[null]}),this.initPicItemPutForm=e=>({compCode:null,picTypeCode:(null==e?void 0:e.picTypeCode)||null,countryPhoneCode:(null==e?void 0:e.countryPhoneCode)||null,picUno:(null==e?void 0:e.picUno)||null,picName:(null==e?void 0:e.picName)||null,picPhoneNo:(null==e?void 0:e.picPhoneNo)||null,picEmail:(null==e?void 0:e.picEmail)||null,compPicSeq:(null==e?void 0:e.compPicSeq)||null}),this.generateStaffPutForm=()=>this.fb.group({list:this.fb.array([])}),this.generateStaffItemPutForm=()=>this.fb.group({checked:[null],userNo:[{value:null,disabled:!0}],compCode:[null,[s.z.required]],userTypeCode:["U03"],onlineOrOffline:["F"],userStatusCode:[null,[s.z.required]],name:[null,[s.z.required]],userId:[null,[s.z.required]],userPassword:[null,[s.z.required]],compPhoneNo:[null],countryPhoneCode:[null],emailAddress:[null],smsReceiveYn:[!1],emailReceiveYn:[!1],manageUserYn:[!1],languageCode:["EN"]}),this.setStaffItemPutForm=e=>this.fb.group({checked:!1,userNo:[e.userNo],compCode:[e.compCode,[s.z.required]],userTypeCode:[e.userTypeCode],onlineOrOffline:[e.onlineOrOffline],userStatusCode:[e.userStatusCode,[s.z.required]],name:[e.name,[s.z.required]],userId:[e.userId,[s.z.required]],userPassword:[e.userPassword,[s.z.required]],compPhoneNo:[e.compPhoneNo,[s.z.required]],countryPhoneCode:[e.countryPhoneCode,[s.z.required]],emailAddress:[e.emailAddress],smsReceiveYn:[e.smsReceiveYn],emailReceiveYn:[e.emailReceiveYn],manageUserYn:[e.manageUserYn],languageCode:[e.languageCode]}),this.initStaffPutForm=()=>({checked:!1,userNo:null,compCode:null,userTypeCode:"U03",onlineOrOffline:"F",userStatusCode:null,name:null,userId:null,userPassword:null,compPhoneNo:null,countryPhoneCode:null,emailAddress:null,smsReceiveYn:!1,emailReceiveYn:!1,manageUserYn:!1,languageCode:"EN"}),this.initSendUserPassword=()=>({userTypeCode:null,name:null,userId:null}),this.initiDefaultActivityCategory=()=>[!1,!1,!1,!1,!1,!1,!1]}oneOfRequiredValidator(e){return t=>t&&e.every(e=>!1===t.get(e).value)?{oneOfRequiredInvalid:!0}:null}}return e.\u0275fac=function(t){return new(t||e)(ma.bc(s.f))},e.\u0275prov=ma.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Sa=i("+Sob"),Ia=i("rbKv"),Fa=i("kd+X"),ka=i("LVFn"),Wa=i("gbCm"),Ta=i("U6NN"),_a=i("nMd8");const Da=function(){return["CMP01","CMP02","CMP03","CMP04","CMP05","CMP06","CMP07","CMP08","CMP09","CMP10","CMP11","CMP12","CMP13","CMP14","CMP15","CMP16","CMP99"]},Na=function(e){return{compTypeCodes:e}},Ma=function(){return["compName","compCode"]},xa=function(){return{}},Ra=function(){return["countryCode","countryNameLn"]},Aa=function(){return["hotelCode","hotelNameEn","hotelNameKo"]};let Ea=(()=>{class e{constructor(e){this._dataService=e,this.clickSearchEvent=new ma.n,this.clickResetEvent=new ma.n,this.useYnOptions=[{label:"Y",value:!0},{label:"N",value:!1}],this.isShowmore=!1,this.searchForm=this._dataService.generateSearchForm()}get otherSearchInfo(){return this._otherSearchInfo}set otherSearchInfo(e){this._otherSearchInfo=e,this._setOtherSearchInfo(e)}get searchCondition(){return this._searchCondition}set searchCondition(e){this._searchCondition=e,this.searchFormData=this._setSearchFormData(e)}get dateRange(){return this.searchForm.get("registerDateRange").value}ngOnInit(){this._initThisState()}onSubmit(){if(this.searchForm.invalid)return void(this.checkValid=!0);const e=_.omitBy(this.searchForm.value,_.isNil),t=this._setOtherSearchCondition();this.clickSearchEvent.emit({searchCondition:e,otherSearchInfo:t}),this.checkValid=!1}onReset(){this.clickResetEvent.emit()}checkIsInvalid(e){return this.checkValid&&this.searchForm.get(e)&&this.searchForm.get(e).invalid}checkIsInvalidDateRange(){var e;return this.checkValid&&!0===(null===(e=this.searchForm.errors)||void 0===e?void 0:e.rangeCompare)}_setSearchFormData(e){const t=this._dataService.initListSearchFormData();return _.isEmpty(e)?t:Object.assign({},t,_.pick(e,Object.keys(t)))}_setOtherSearchInfo(e){this.traderInput=(null==e?void 0:e.traderInput)||null}_setOtherSearchCondition(){const e={};return this.autoCopmpletes.forEach(t=>{Object.assign(e,t.getInputValue())}),e}setSearchCondition(){const e=this._dataService.initCompMasterSearchCondition(),t=Object.assign({},_.pick(this.searchForm.value,Object.keys(e)));return _.omitBy(t,_.isNil)}_initThisState(){this.checkValid=!1}}return e.\u0275fac=function(t){return new(t||e)(ma.Qb(Pa))},e.\u0275cmp=ma.Kb({type:e,selectors:[["app-us-comp-search"]],viewQuery:function(e,t){var i;1&e&&ma.Xc(ha.a,!0),2&e&&ma.Dc(i=ma.gc())&&(t.autoCopmpletes=i)},inputs:{markupMasterList:"markupMasterList",compTypeList:"compTypeList",tradeStatusList:"tradeStatusList",otherSearchInfo:"otherSearchInfo",searchCondition:"searchCondition"},outputs:{clickSearchEvent:"clickSearchEvent",clickResetEvent:"clickResetEvent"},decls:64,vars:35,consts:[[1,"grid-search-box","multi",3,"formGroup","connectForm","ngSubmit"],[1,"form-option-area"],[1,"row"],[1,"col-2"],[1,"form-label"],["formArrayName","registerDateRange",1,"calendar-set","flex-fill"],[1,"input","calendar","flex-fill"],[3,"for"],["type","text","placeholder","YYYY-MM-DD",3,"matDatepicker","formControlName"],["myPickerFrom",""],[1,"dash"],["type","text","placeholder","YYYY-MM-DD",3,"matDatepicker","min","formControlName"],["myPickerTo",""],[1,"col-1"],[1,"form-label","lg"],["formControlName","compCode","apiUrl","common/comp","dataKey","compCode","inputFieldFormat","{0} - {1}","placeholder","Name",1,"d-inline-flex","flex-fill",3,"inputFieldValue","isInvalid","apiSearchTerm","apiCondition","inputFieldFormatKeyList"],["formControlName","compName",1,"d-inline-flex","flex-fill"],["formControlName","officeCountryCode","apiUrl","admin/common/country","dataKey","countryCode","inputFieldFormat","[{0}] {1}","placeholder","Name",1,"d-inline-flex","flex-fill",3,"apiCondition","apiSearchTerm","inputFieldFormatKeyList"],["formControlName","compTypeCode1",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","tradeStatusCode","displayWord","detailCodeName","dataKey","detailCode",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","mappingHotelCode","apiUrl","common/hotel/list","dataKey","hotelCode","inputFieldFormat","{0} - &{1}, &{2}","placeholder","Name or Code",1,"d-inline-flex","flex-fill",3,"apiSearchTerm","inputFieldFormatKeyList"],["formControlName","taxPayerNo",1,"d-inline-flex","flex-fill"],["formControlName","userId",1,"d-inline-flex","flex-fill"],["formControlName","hotelMarkupMasterSeqs",1,"d-inline-flex","flex-fill",3,"options"],[1,"form-button-area"],["type","submit","role","button",1,"btn","btn-primary","sm"],["type","button","role","button",1,"btn","btn-reset","sm",3,"click"],[1,"btn-searchbox-extend",3,"click"]],template:function(e,t){if(1&e&&(ma.Wb(0,"form",0),ma.fc("ngSubmit",(function(){return t.onSubmit()})),ma.Wb(1,"div",1),ma.Wb(2,"div",2),ma.Wb(3,"div",3),ma.Wb(4,"span",4),ma.Pc(5,"Register Date"),ma.Vb(),ma.Wb(6,"div",5),ma.Wb(7,"div",6),ma.Rb(8,"mat-datepicker-toggle",7),ma.Rb(9,"input",8),ma.Rb(10,"mat-datepicker",null,9),ma.Vb(),ma.Wb(12,"span",10),ma.Pc(13,"~"),ma.Vb(),ma.Wb(14,"div",6),ma.Rb(15,"mat-datepicker-toggle",7),ma.Rb(16,"input",11),ma.Rb(17,"mat-datepicker",null,12),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(19,"div",13),ma.Wb(20,"span",14),ma.Pc(21,"Company"),ma.Vb(),ma.Rb(22,"app-auto-complete",15),ma.Vb(),ma.Wb(23,"div",13),ma.Wb(24,"span",14),ma.Pc(25,"Company Name"),ma.Vb(),ma.Rb(26,"app-input-text",16),ma.Vb(),ma.Vb(),ma.Wb(27,"div",2),ma.Wb(28,"div",13),ma.Wb(29,"span",4),ma.Pc(30,"Country"),ma.Vb(),ma.Rb(31,"app-auto-complete",17),ma.Vb(),ma.Wb(32,"div",13),ma.Wb(33,"span",14),ma.Pc(34,"Company Type"),ma.Vb(),ma.Rb(35,"app-selectbox",18),ma.Vb(),ma.Wb(36,"div",13),ma.Wb(37,"span",14),ma.Pc(38,"Trade Status"),ma.Vb(),ma.Rb(39,"app-selectbox-detailcode",19),ma.Vb(),ma.Wb(40,"div",13),ma.Wb(41,"span",14),ma.Pc(42,"Mapped Hotel"),ma.Vb(),ma.Rb(43,"app-auto-complete",20),ma.Vb(),ma.Vb(),ma.Wb(44,"div",2),ma.Wb(45,"div",13),ma.Wb(46,"span",4),ma.Pc(47,"Tax Payer No."),ma.Vb(),ma.Rb(48,"app-input-text",21),ma.Vb(),ma.Wb(49,"div",13),ma.Wb(50,"span",14),ma.Pc(51,"Partner User ID"),ma.Vb(),ma.Rb(52,"app-input-text",22),ma.Vb(),ma.Wb(53,"div",13),ma.Wb(54,"span",14),ma.Pc(55,"Hotel Markup Master"),ma.Vb(),ma.Rb(56,"app-selectbox",23),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(57,"div",24),ma.Wb(58,"button",25),ma.Pc(59,"Search"),ma.Vb(),ma.Wb(60,"button",26),ma.fc("click",(function(){return t.onReset()})),ma.Pc(61,"Reset"),ma.Vb(),ma.Wb(62,"a",27),ma.fc("click",(function(){return t.isShowmore=!t.isShowmore})),ma.Pc(63,"\uac80\uc0c9 \uc635\uc158 \ub354\ubcf4\uae30"),ma.Vb(),ma.Vb(),ma.Vb()),2&e){const e=ma.Ec(11),i=ma.Ec(18);ma.pc("formGroup",t.searchForm)("connectForm",t.searchFormData),ma.Cb(6),ma.Gb("valid-error",t.checkIsInvalidDateRange()),ma.Cb(2),ma.pc("for",e),ma.Cb(1),ma.pc("matDatepicker",e)("formControlName",0),ma.Cb(6),ma.pc("for",i),ma.Cb(1),ma.pc("matDatepicker",i)("min",t.dateRange[0])("formControlName",1),ma.Cb(6),ma.pc("inputFieldValue","")("isInvalid",t.checkIsInvalid("compCode"))("apiSearchTerm","compName")("apiCondition",ma.uc(29,Na,ma.tc(28,Da)))("inputFieldFormatKeyList",ma.tc(31,Ma)),ma.Cb(9),ma.pc("apiCondition",ma.tc(32,xa))("apiSearchTerm","keyword")("inputFieldFormatKeyList",ma.tc(33,Ra)),ma.Cb(4),ma.pc("options",t.compTypeList),ma.Cb(4),ma.pc("options",t.tradeStatusList),ma.Cb(4),ma.pc("apiSearchTerm","keyword")("inputFieldFormatKeyList",ma.tc(34,Aa)),ma.Cb(1),ma.Gb("hide",!t.isShowmore),ma.Cb(12),ma.pc("options",t.markupMasterList),ma.Cb(6),ma.Gb("active",t.isShowmore)}},directives:[s.B,s.s,s.k,Sa.a,s.e,Ia.a,Fa.a,s.c,s.r,s.i,ka.a,ha.a,Wa.a,Ta.a,_a.a],styles:[""],changeDetection:0}),e})();var $a=i("EsKh");let Ua=(()=>{class e{constructor(e){this.alertService=e,this.clickAddEvent=new ma.n,this.changePageSizeEvent=new ma.n,this.clickExcelEvent=new ma.n,this.pageSizeOptions=[{label:"20",value:20},{label:"40",value:40},{label:"60",value:60},{label:"80",value:80},{label:"100",value:100}]}ngOnInit(){}onClickAdd(){this.clickAddEvent.emit()}onChangePageSize(e){this.changePageSizeEvent.emit(e.value)}onClickExcel(){this.clickExcelEvent.emit()}}return e.\u0275fac=function(t){return new(t||e)(ma.Qb($a.a))},e.\u0275cmp=ma.Kb({type:e,selectors:[["app-us-comp-control"]],inputs:{loading:"loading",currentPageSize:"currentPageSize",checkedRows:"checkedRows",totalCount:"totalCount"},outputs:{clickAddEvent:"clickAddEvent",changePageSizeEvent:"changePageSizeEvent",clickExcelEvent:"clickExcelEvent"},decls:10,vars:4,consts:[[1,"grid-control-area"],[1,"grid-count"],[1,"ml-auto","d-inline-flex","flex-glow-0"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"btn","btn-outline-dark","sm","d-inline-flex","flex-glow-0",3,"click"],[1,"select-box","sm","d-inline-flex","flex-glow-0"],[3,"options","ngModel","useAllOptionYn","onChange"]],template:function(e,t){1&e&&(ma.Wb(0,"div",0),ma.Wb(1,"strong",1),ma.Pc(2),ma.Vb(),ma.Wb(3,"div",2),ma.Wb(4,"button",3),ma.fc("click",(function(){return t.onClickAdd()})),ma.Pc(5,"New"),ma.Vb(),ma.Wb(6,"button",4),ma.fc("click",(function(){return t.onClickExcel()})),ma.Pc(7,"Excel"),ma.Vb(),ma.Wb(8,"div",5),ma.Wb(9,"app-selectbox",6),ma.fc("onChange",(function(e){return t.onChangePageSize(e)})),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb()),2&e&&(ma.Cb(2),ma.Qc(t.loading?"":t.totalCount),ma.Cb(7),ma.pc("options",t.pageSizeOptions)("ngModel",t.currentPageSize)("useAllOptionYn",!1))},directives:[Ta.a,s.r,s.u],styles:[""],changeDetection:0}),e})();var wa=i("IzEk"),Ya=i("Vwqj"),Ba=i("7G9D"),Ha=i("BA+4"),qa=i("Onn4");const Ga=function(){return["countryCode","countryNameEn"]},za=function(){return{masterCode:"BS036"}},Ka=function(){return["detailCode","detailCodeNameEn"]},Qa=function(){return["CMP01","CMP04","CMP05","CMP06","CMP11"]},Xa=function(e){return{compTypeCodes:e}},Za=function(){return["compName","compCode"]};let Ja=(()=>{class e{constructor(e,t,i){this.fileService=e,this.dataService=t,this.alertService=i,this.submitEvent=new ma.n,this.closeEvent=new ma.n,this.senbillClick=new ma.n,this.unsubscribe$=new S.a,this.activityCategoryLabels=["WIFI&SIM \uce74\ub4dc","\uc5ec\ud589\uc11c\ube44\uc2a4","\ud53d\uc5c5/\uc0cc\ub529","\ud2f0\ucf13/\ud328\uc2a4","\ud22c\uc5b4","\uccb4\ud5d8","\ub9db\uc9d1","\ud574\uc678\uace8\ud504","\uad6d\ub0b4\uace8\ud504"],this.activityCategoryValues=["AC01","AC02","AC03","AC04","AC05","AC06","AC07","AC11","AC12"],this.activityApprovalStatusCode=!1,this.upsertForm=this.dataService.generateMasterPutForm()}get dataItem(){return this._dataItem}set dataItem(e){this._dataItem=e,this.upsertFormData=this._setPutFormData(e),this._initThisState(e)}get accept(){return Ya.a.image()}get activityCategoryList(){return this.upsertForm.get("activityCategoryList")}ngOnInit(){}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}onSubmit(){if(this.upsertForm.invalid)return void(this.checkValid=!0);const e=this._setPutCondition();this.submitEvent.emit(e)}onFileError(e){alert(e)}onFileSelect({files:e,isInvalid:t},i){e.length>0&&!t?this._fileUpload({file:e[0],imageType:i}):this.alertService.alert("It is not a valid file.")}checkIsInvalid(e){return this.checkValid&&this.upsertForm.get(e)&&this.upsertForm.get(e).invalid}checkIsInvalidDateRange(){var e;return this.checkValid&&!0===(null===(e=this.upsertForm.errors)||void 0===e?void 0:e.tradeDateValidator)}openImgLink(e){_.isNil(e)?this.alertService.alert("This is not a valid image address."):window.open(e,"_blank")}_initThisState(e){this.checkValid=!1,this.logoImgUrl=(null==e?void 0:e.logoImageUrl)||null,this.registrationUrl=(null==e?void 0:e.taxPayerRegistrationUrl)||null,this.compIntroFileUrl=(null==e?void 0:e.compIntroFileUrl)||null}_setPutFormData(e){const t=this.dataService.initMasterPutFormData();if(_.isEmpty(e))return Object.assign({},t,_.pick(e,Object.keys(t)));this.countryInput=e.officeCountryCode,this.timeInput=e.timeZoneName,this.upsertForm.get("compTypeCode1").disable(),"PST02"!==e.activityApprovalStatusCode&&"PST01"!==e.activityApprovalStatusCode||(this.activityApprovalStatusCode=!0);let i=[];if(e.activityCategoryList){let t=e.activityCategoryList.split(",");for(let e=0;e<9;e++)i[e]=!!t.includes(this.activityCategoryValues[e])}return Object.assign(t,_.pick(e,Object.keys(t)),{activityCategoryList:i})}_setPutCondition(){const e=this.dataService.initMasterPutFormData(),t=this.upsertForm.value;this.dataItem&&(t.compCode=this.dataItem.compCode,t.compTypeCode1=this.dataItem.compTypeCode1);let i=Object.assign({},_.pick(t,Object.keys(e)));return _.isNil(i.parentCompCode)&&(i.parentCompCode=i.compCode),i=_.mapValues(i,e=>""===e?null:e),i}_fileUpload({file:e,imageType:t}){this.fileService.fileUpload(da.imageUpload,{file:e}).pipe(Object(wa.a)(1)).subscribe(e=>{var i,o,n;!0===e.succeedYn?(this.alertService.alert("Upload completed."),"logo"===t?(this.logoImgUrl=null===(i=e.result)||void 0===i?void 0:i.images[0],this.upsertForm.get("logoImageUrl").setValue(this.logoImgUrl)):"registration"===t?(this.registrationUrl=null===(o=e.result)||void 0===o?void 0:o.images[0],this.upsertForm.get("taxPayerRegistrationUrl").setValue(this.registrationUrl)):(this.compIntroFileUrl=null===(n=e.result)||void 0===n?void 0:n.images[0],this.upsertForm.get("compIntroFileUrl").setValue(this.compIntroFileUrl))):this.alertService.alert("A server error occurred. Please contact the administrator.")},e=>{this.alertService.alert("A server error occurred. Please contact the administrator.")})}}return e.\u0275fac=function(t){return new(t||e)(ma.Qb(Ba.a),ma.Qb(Pa),ma.Qb($a.a))},e.\u0275cmp=ma.Kb({type:e,selectors:[["app-us-comp-detail-master"]],inputs:{tradeStatusList:"tradeStatusList",currencyList:"currencyList",compTypeList:"compTypeList",languageCodeList:"languageCodeList",markupMasterList:"markupMasterList",activityMarkupMasterList:"activityMarkupMasterList",taxPayerTypeList:"taxPayerTypeList",registerPathList:"registerPathList",searchCondition:"searchCondition",compCodeList:"compCodeList",salesCountryCodeList:"salesCountryCodeList",dataItem:"dataItem"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent",senbillClick:"senbillClick"},decls:222,vars:77,consts:[[1,"modal-body"],[3,"formGroup","connectForm"],[1,"table","table-bordered"],["width","10%"],["width","40%"],["scope","row",1,"th-bg"],["formControlName","compCode"],["useAllOptionName","Select","formControlName","controlCompCode","dataKey","compCode","displayKey","compName",3,"options","isInvalid"],["formControlName","compNameOfficial",3,"isInvalid"],["useAllOptionName","Select","formControlName","salesCountryCode","dataKey","salesCountryCode","displayKey","salesCountryCode",3,"options","isInvalid"],["formControlName","compNameOperation",3,"isInvalid"],["useAllOptionName","Select","formControlName","compTypeCode1",3,"options","isInvalid"],["formControlName","compNameEn",3,"isInvalid"],["useAllOptionName","Select","formControlName","compTypeCode2",3,"options","isInvalid"],["formControlName","compAddress1",3,"isInvalid"],["useAllOptionName","Select","formControlName","compTypeCode3",3,"options","isInvalid"],["formControlName","compAddress2",3,"isInvalid"],["apiUrl","admin/common/country","formControlName","officeCountryCode","dataKey","countryCode","inputFieldFormat","[{0}] {1}","placeholder","Name",3,"inputFieldValue","apiSearchTerm","inputFieldFormatKeyList","isInvalid"],["formControlName","compZipCode",3,"isInvalid"],["formControlName","timeZoneName","apiUrl","common/detail-code","dataKey","detailCodeNameEn","inputFieldFormat","{0} - &{1}",3,"inputFieldValue","apiSearchTerm","apiCondition","inputFieldFormatKeyList","isInvalid"],["formControlName","repPhoneNo",3,"isInvalid"],["formControlName","defaultLanguageCode","displayWord","detailCodeName","dataKey","detailCode","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","repFaxNo",3,"isInvalid"],["useAllOptionName","Select","formControlName","currencyCode",3,"options","isInvalid"],["formControlName","repEmailAddress",3,"isInvalid"],["formControlName","bookingPrefix","placeholder","e.g.K(alphabetic 1 digit, control comp only)",3,"isInvalid"],[1,"form-group"],[1,"flex-fill",3,"displayValue","maxFileSize","accept","onError","onSelect"],["type","button",1,"btn","btn-secondary","sm","ml5",2,"max-width","60px",3,"click"],["useAllOptionName","Select","formControlName","hotelMarkupMasterSeq",3,"options","isInvalid"],["formControlName","taxPayerNo",3,"isInvalid"],["useAllOptionName","Select","formControlName","activityMarkupMasterSeq",3,"options","isInvalid"],["formControlName","representativeName",3,"isInvalid"],["useAllOptionName","Select","formControlName","tradeStatusCode",3,"options","isInvalid"],["formControlName","businessType",3,"isInvalid"],[1,"input","calendar","flex-fill"],[3,"for"],["type","text","placeholder","YYYY-MM-DD","formControlName","tradeStartDate",3,"matDatepicker"],["myPickerStart",""],["formControlName","businessItem",3,"isInvalid"],["type","text","placeholder","YYYY-MM-DD","formControlName","tradeEndDate",3,"matDatepicker","min"],["myPickerEnd",""],["formControlName","tradeEndReason",3,"isInvalid"],["formControlName","taxBillIssueYn","name","taxBillIssueYn","label","Y",3,"value"],["formControlName","taxBillIssueYn","name","taxBillIssueYn","label","N",3,"value"],["formControlName","legacyCompCode",3,"isInvalid"],["formControlName","telephoneSalesReportNo",3,"isInvalid"],["formControlName","parentCompCode","apiUrl","common/comp","dataKey","compCode","inputFieldFormat","{0}-{1}",1,"flex-fill",3,"apiCondition","apiSearchTerm","inputFieldFormatKeyList","isInvalid"],["formControlName","homepageOrEmailAddress",3,"isInvalid"],["formControlName","vendorInfoDisplayYn","name","vendorInfoDisplayYn","label","Y",3,"value"],["formControlName","vendorInfoDisplayYn","name","vendorInfoDisplayYn","label","N",3,"value"],["colspan","3"],["formControlName","controlRemark"],[1,"button-area","align-r","mt10"],[1,"btn","btn-secondary","sm",3,"click"]],template:function(e,t){if(1&e&&(ma.Wb(0,"div",0),ma.Wb(1,"form",1),ma.Wb(2,"div",2),ma.Wb(3,"table"),ma.Wb(4,"caption"),ma.Pc(5," Basic "),ma.Vb(),ma.Wb(6,"colgroup"),ma.Rb(7,"col",3),ma.Rb(8,"col",4),ma.Rb(9,"col",3),ma.Rb(10,"col",4),ma.Vb(),ma.Wb(11,"tbody"),ma.Wb(12,"tr"),ma.Wb(13,"th",5),ma.Pc(14,"Comp Code"),ma.Rb(15,"sup"),ma.Vb(),ma.Wb(16,"td"),ma.Rb(17,"app-input-text",6),ma.Vb(),ma.Wb(18,"th",5),ma.Pc(19,"Ownership Control Comp"),ma.Rb(20,"sup"),ma.Vb(),ma.Wb(21,"td"),ma.Rb(22,"app-selectbox",7),ma.Vb(),ma.Vb(),ma.Wb(23,"tr"),ma.Wb(24,"th",5),ma.Pc(25,"Name : Official"),ma.Rb(26,"sup"),ma.Vb(),ma.Wb(27,"td"),ma.Rb(28,"app-input-text",8),ma.Vb(),ma.Wb(29,"th",5),ma.Pc(30,"Sales Policy Country Code"),ma.Rb(31,"sup"),ma.Vb(),ma.Wb(32,"td"),ma.Rb(33,"app-selectbox",9),ma.Vb(),ma.Vb(),ma.Wb(34,"tr"),ma.Wb(35,"th",5),ma.Pc(36,"Name : Operation"),ma.Rb(37,"sup"),ma.Vb(),ma.Wb(38,"td"),ma.Rb(39,"app-input-text",10),ma.Vb(),ma.Wb(40,"th",5),ma.Pc(41,"Comp Type 1"),ma.Rb(42,"sup"),ma.Vb(),ma.Wb(43,"td"),ma.Rb(44,"app-selectbox",11),ma.Vb(),ma.Vb(),ma.Wb(45,"tr"),ma.Wb(46,"th",5),ma.Pc(47,"Name : EN"),ma.Vb(),ma.Wb(48,"td"),ma.Rb(49,"app-input-text",12),ma.Vb(),ma.Wb(50,"th",5),ma.Pc(51,"Comp Type 2"),ma.Vb(),ma.Wb(52,"td"),ma.Rb(53,"app-selectbox",13),ma.Vb(),ma.Vb(),ma.Wb(54,"tr"),ma.Wb(55,"th",5),ma.Pc(56,"Address 1"),ma.Vb(),ma.Wb(57,"td"),ma.Rb(58,"app-input-text",14),ma.Vb(),ma.Wb(59,"th",5),ma.Pc(60,"Comp Type 3"),ma.Vb(),ma.Wb(61,"td"),ma.Rb(62,"app-selectbox",15),ma.Vb(),ma.Vb(),ma.Wb(63,"tr"),ma.Wb(64,"th",5),ma.Pc(65,"Address 2"),ma.Vb(),ma.Wb(66,"td"),ma.Rb(67,"app-input-text",16),ma.Vb(),ma.Wb(68,"th",5),ma.Pc(69,"Office Country"),ma.Rb(70,"sup"),ma.Vb(),ma.Wb(71,"td"),ma.Rb(72,"app-auto-complete",17),ma.Vb(),ma.Vb(),ma.Wb(73,"tr"),ma.Wb(74,"th",5),ma.Pc(75,"Zip Code"),ma.Vb(),ma.Wb(76,"td"),ma.Rb(77,"app-input-text",18),ma.Vb(),ma.Wb(78,"th",5),ma.Pc(79,"Time Zone Name"),ma.Rb(80,"sup"),ma.Vb(),ma.Wb(81,"td"),ma.Rb(82,"app-auto-complete",19),ma.Vb(),ma.Vb(),ma.Wb(83,"tr"),ma.Wb(84,"th",5),ma.Pc(85,"Rep. Phone No"),ma.Vb(),ma.Wb(86,"td"),ma.Rb(87,"app-input-text",20),ma.Vb(),ma.Wb(88,"th",5),ma.Pc(89,"Default Language"),ma.Rb(90,"sup"),ma.Vb(),ma.Wb(91,"td"),ma.Rb(92,"app-selectbox-detailcode",21),ma.Vb(),ma.Vb(),ma.Wb(93,"tr"),ma.Wb(94,"th",5),ma.Pc(95,"Rep. Fax No."),ma.Vb(),ma.Wb(96,"td"),ma.Rb(97,"app-input-text",22),ma.Vb(),ma.Wb(98,"th",5),ma.Pc(99,"Currency Code"),ma.Rb(100,"sup"),ma.Vb(),ma.Wb(101,"td"),ma.Rb(102,"app-selectbox",23),ma.Vb(),ma.Vb(),ma.Wb(103,"tr"),ma.Wb(104,"th",5),ma.Pc(105,"Rep. Email"),ma.Vb(),ma.Wb(106,"td"),ma.Rb(107,"app-input-text",24),ma.Vb(),ma.Wb(108,"th",5),ma.Pc(109,"Booking Prefix"),ma.Vb(),ma.Wb(110,"td"),ma.Rb(111,"app-input-text",25),ma.Vb(),ma.Vb(),ma.Wb(112,"tr"),ma.Wb(113,"th",5),ma.Pc(114,"Logo Img URL"),ma.Vb(),ma.Wb(115,"td"),ma.Wb(116,"div",26),ma.Wb(117,"app-file-upload",27),ma.fc("onError",(function(e){return t.onFileError(e)}))("onSelect",(function(e){return t.onFileSelect(e,"logo")})),ma.Vb(),ma.Wb(118,"button",28),ma.fc("click",(function(){return t.openImgLink(t.logoImgUrl)})),ma.Pc(119,"View"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(120,"th",5),ma.Pc(121,"Hotel M/U Master"),ma.Vb(),ma.Wb(122,"td"),ma.Rb(123,"app-selectbox",29),ma.Vb(),ma.Vb(),ma.Wb(124,"tr"),ma.Wb(125,"th",5),ma.Pc(126,"Tax Payer No"),ma.Vb(),ma.Wb(127,"td"),ma.Rb(128,"app-input-text",30),ma.Vb(),ma.Wb(129,"th",5),ma.Pc(130,"Activity M/U Master"),ma.Vb(),ma.Wb(131,"td"),ma.Rb(132,"app-selectbox",31),ma.Vb(),ma.Vb(),ma.Wb(133,"tr"),ma.Wb(134,"th",5),ma.Pc(135,"Rep. Name"),ma.Vb(),ma.Wb(136,"td"),ma.Rb(137,"app-input-text",32),ma.Vb(),ma.Wb(138,"th",5),ma.Pc(139,"Trade Status"),ma.Rb(140,"sup"),ma.Vb(),ma.Wb(141,"td"),ma.Rb(142,"app-selectbox",33),ma.Vb(),ma.Vb(),ma.Wb(143,"tr"),ma.Wb(144,"th",5),ma.Pc(145,"Business Type"),ma.Vb(),ma.Wb(146,"td"),ma.Rb(147,"app-input-text",34),ma.Vb(),ma.Wb(148,"th",5),ma.Pc(149,"Trade Start Date"),ma.Rb(150,"sup"),ma.Vb(),ma.Wb(151,"td"),ma.Wb(152,"div",35),ma.Rb(153,"mat-datepicker-toggle",36),ma.Rb(154,"input",37),ma.Rb(155,"mat-datepicker",null,38),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(157,"tr"),ma.Wb(158,"th",5),ma.Pc(159,"Business Item"),ma.Vb(),ma.Wb(160,"td"),ma.Rb(161,"app-input-text",39),ma.Vb(),ma.Wb(162,"th",5),ma.Pc(163,"Trade End Date"),ma.Vb(),ma.Wb(164,"td"),ma.Wb(165,"div",35),ma.Rb(166,"mat-datepicker-toggle",36),ma.Rb(167,"input",40),ma.Rb(168,"mat-datepicker",null,41),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(170,"tr"),ma.Wb(171,"th",5),ma.Pc(172,"Tax Payer Registration URL"),ma.Vb(),ma.Wb(173,"td"),ma.Wb(174,"div",26),ma.Wb(175,"app-file-upload",27),ma.fc("onError",(function(e){return t.onFileError(e)}))("onSelect",(function(e){return t.onFileSelect(e,"registration")})),ma.Vb(),ma.Wb(176,"button",28),ma.fc("click",(function(){return t.openImgLink(t.registrationUrl)})),ma.Pc(177,"View"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(178,"th",5),ma.Pc(179,"Trade End Reason"),ma.Vb(),ma.Wb(180,"td"),ma.Rb(181,"app-input-text",42),ma.Vb(),ma.Vb(),ma.Wb(182,"tr"),ma.Wb(183,"th",5),ma.Pc(184,"Tax Bill Issue YN"),ma.Vb(),ma.Wb(185,"td"),ma.Wb(186,"div",26),ma.Rb(187,"app-radio",43),ma.Rb(188,"app-radio",44),ma.Vb(),ma.Vb(),ma.Wb(189,"th",5),ma.Pc(190,"Legacy Comp Code"),ma.Vb(),ma.Wb(191,"td"),ma.Rb(192,"app-input-text",45),ma.Vb(),ma.Vb(),ma.Wb(193,"tr"),ma.Wb(194,"th",5),ma.Pc(195,"Telephone Sales Report No."),ma.Vb(),ma.Wb(196,"td"),ma.Rb(197,"app-input-text",46),ma.Vb(),ma.Wb(198,"th",5),ma.Pc(199,"Parent Comp Code"),ma.Vb(),ma.Wb(200,"td"),ma.Rb(201,"app-auto-complete",47),ma.Vb(),ma.Vb(),ma.Wb(202,"tr"),ma.Wb(203,"th",5),ma.Pc(204,"Homepage or Email Info."),ma.Vb(),ma.Wb(205,"td"),ma.Rb(206,"app-input-text",48),ma.Vb(),ma.Wb(207,"th",5),ma.Wb(208,"sup"),ma.Pc(209,"Vendor Info Display YN"),ma.Vb(),ma.Vb(),ma.Wb(210,"td"),ma.Wb(211,"div",26),ma.Rb(212,"app-radio",49),ma.Rb(213,"app-radio",50),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(214,"tr"),ma.Wb(215,"th",5),ma.Pc(216,"Control Remark"),ma.Vb(),ma.Wb(217,"td",51),ma.Rb(218,"app-input-text",52),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(219,"div",53),ma.Wb(220,"button",54),ma.fc("click",(function(){return t.onSubmit()})),ma.Pc(221,"Save"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb()),2&e){const e=ma.Ec(156),i=ma.Ec(169);ma.Cb(1),ma.pc("formGroup",t.upsertForm)("connectForm",t.upsertFormData),ma.Cb(21),ma.pc("options",t.compCodeList)("isInvalid",t.checkIsInvalid("controlCompCode")),ma.Cb(6),ma.pc("isInvalid",t.checkIsInvalid("compNameOfficial")),ma.Cb(5),ma.pc("options",t.salesCountryCodeList)("isInvalid",t.checkIsInvalid("salesCountryCode")),ma.Cb(6),ma.pc("isInvalid",t.checkIsInvalid("compNameOperation")),ma.Cb(5),ma.pc("options",t.compTypeList)("isInvalid",t.checkIsInvalid("compTypeCode1")),ma.Cb(5),ma.pc("isInvalid",t.checkIsInvalid("compNameEn")),ma.Cb(4),ma.pc("options",t.compTypeList)("isInvalid",t.checkIsInvalid("compTypeCode2")),ma.Cb(5),ma.pc("isInvalid",t.checkIsInvalid("compAddress1")),ma.Cb(4),ma.pc("options",t.compTypeList)("isInvalid",t.checkIsInvalid("compTypeCode3")),ma.Cb(5),ma.pc("isInvalid",t.checkIsInvalid("compAddress2")),ma.Cb(5),ma.pc("inputFieldValue",t.countryInput)("apiSearchTerm","keyword")("inputFieldFormatKeyList",ma.tc(70,Ga))("isInvalid",t.checkIsInvalid("officeCountryCode")),ma.Cb(5),ma.pc("isInvalid",t.checkIsInvalid("compZipCode")),ma.Cb(5),ma.pc("inputFieldValue",t.timeInput)("apiSearchTerm","detailCodeName")("apiCondition",ma.tc(71,za))("inputFieldFormatKeyList",ma.tc(72,Ka))("isInvalid",t.checkIsInvalid("timeZoneName")),ma.Cb(5),ma.pc("isInvalid",t.checkIsInvalid("repPhoneNo")),ma.Cb(5),ma.pc("options",t.languageCodeList)("isInvalid",t.checkIsInvalid("defaultLanguageCode")),ma.Cb(5),ma.pc("isInvalid",t.checkIsInvalid("repFaxNo")),ma.Cb(5),ma.pc("options",t.currencyList)("isInvalid",t.checkIsInvalid("currencyCode")),ma.Cb(5),ma.pc("isInvalid",t.checkIsInvalid("repEmailAddress")),ma.Cb(4),ma.pc("isInvalid",t.checkIsInvalid("bookingPrefix")),ma.Cb(6),ma.pc("displayValue",t.logoImgUrl)("maxFileSize",2e6)("accept",t.accept),ma.Cb(6),ma.pc("options",t.markupMasterList)("isInvalid",t.checkIsInvalid("hotelMarkupMasterSeq")),ma.Cb(5),ma.pc("isInvalid",t.checkIsInvalid("taxPayerNo")),ma.Cb(4),ma.pc("options",t.activityMarkupMasterList)("isInvalid",t.checkIsInvalid("activityMarkupMasterSeq")),ma.Cb(5),ma.pc("isInvalid",t.checkIsInvalid("representativeName")),ma.Cb(5),ma.pc("options",t.tradeStatusList)("isInvalid",t.checkIsInvalid("tradeStatusCode")),ma.Cb(5),ma.pc("isInvalid",t.checkIsInvalid("businessType")),ma.Cb(5),ma.Gb("valid-error",t.checkIsInvalid("tradeStartDate")||t.checkIsInvalidDateRange()),ma.Cb(1),ma.pc("for",e),ma.Cb(1),ma.pc("matDatepicker",e),ma.Cb(7),ma.pc("isInvalid",t.checkIsInvalid("businessItem")),ma.Cb(5),ma.pc("for",i),ma.Cb(1),ma.pc("matDatepicker",i)("min",t.upsertForm.get("tradeStartDate").value),ma.Cb(8),ma.pc("displayValue",t.registrationUrl)("maxFileSize",2e6)("accept",t.accept),ma.Cb(6),ma.pc("isInvalid",t.checkIsInvalid("tradeEndReason")),ma.Cb(6),ma.pc("value",!0),ma.Cb(1),ma.pc("value",!1),ma.Cb(4),ma.pc("isInvalid",t.checkIsInvalid("legacyCompCode")),ma.Cb(5),ma.pc("isInvalid",t.checkIsInvalid("telephoneSalesReportNo")),ma.Cb(4),ma.pc("apiCondition",ma.uc(74,Xa,ma.tc(73,Qa)))("apiSearchTerm","compName")("inputFieldFormatKeyList",ma.tc(76,Za))("isInvalid",t.checkIsInvalid("parentCompCode")),ma.Cb(5),ma.pc("isInvalid",t.checkIsInvalid("homepageOrEmailAddress")),ma.Cb(6),ma.pc("value",!0),ma.Cb(1),ma.pc("value",!1)}},directives:[s.B,s.s,s.k,Sa.a,Wa.a,s.r,s.i,Ta.a,ha.a,_a.a,Ha.a,Ia.a,s.c,Fa.a,ka.a,qa.a],styles:[""],changeDetection:0}),e})();function es(e,t){if(1&e){const e=ma.Xb();ma.Ub(0),ma.Wb(1,"tr",10),ma.Wb(2,"th",6),ma.Wb(3,"app-radio",11),ma.fc("onClick",(function(){ma.Fc(e);const i=t.index;return ma.hc().onBankAccountClickEventHandler(i)})),ma.Vb(),ma.Vb(),ma.Wb(4,"td"),ma.Rb(5,"app-selectbox",12),ma.Vb(),ma.Wb(6,"td"),ma.Rb(7,"app-input-text",13),ma.Vb(),ma.Wb(8,"td"),ma.Wb(9,"div",14),ma.Rb(10,"app-selectbox",15),ma.Rb(11,"app-selectbox",16),ma.Vb(),ma.Vb(),ma.Wb(12,"td"),ma.Rb(13,"app-selectbox",17),ma.Vb(),ma.Wb(14,"td"),ma.Wb(15,"div",18),ma.Wb(16,"app-file-upload",19),ma.fc("onError",(function(t){return ma.Fc(e),ma.hc().onFileError(t)}))("onSelect",(function(i){ma.Fc(e);const o=t.index;return ma.hc().onFileSelect(i,o)})),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(17,"tr",10),ma.Wb(18,"td"),ma.Rb(19,"app-input-text",20),ma.Vb(),ma.Wb(20,"td"),ma.Rb(21,"app-input-text",21),ma.Vb(),ma.Wb(22,"td"),ma.Rb(23,"app-input-text",22),ma.Vb(),ma.Wb(24,"td"),ma.Rb(25,"app-selectbox",23),ma.Vb(),ma.Wb(26,"td"),ma.Rb(27,"app-input-text",24),ma.Vb(),ma.Vb(),ma.Tb()}if(2&e){const e=t.$implicit,i=t.index,o=ma.hc();ma.Cb(1),ma.pc("formGroupName",i),ma.Cb(2),ma.pc("checked",i===o.checkedItemFormIndex),ma.Cb(2),ma.pc("options",o.bankList)("isInvalid",o.checkIsInvalid("bankMasterCode",i)),ma.Cb(2),ma.pc("isInvalid",o.checkIsInvalid("bankAccountNo",i)),ma.Cb(3),ma.pc("options",o.currencyList)("isInvalid",o.checkIsInvalid("currencyCode",i)),ma.Cb(1),ma.pc("options",o.useYnOptions)("isInvalid",o.checkIsInvalid("useYn",i)),ma.Cb(2),ma.pc("options",o.accountTypeList)("isInvalid",o.checkIsInvalid("accountTypeCode",i)),ma.Cb(3),ma.pc("displayValue",e.value.bankCopyUrl)("maxFileSize",2e6)("accept",o.accept),ma.Cb(1),ma.pc("formGroupName",i),ma.Cb(2),ma.pc("isInvalid",o.checkIsInvalid("bankBranchName",i)),ma.Cb(2),ma.pc("isInvalid",o.checkIsInvalid("bankDepositorName",i)),ma.Cb(2),ma.pc("isInvalid",o.checkIsInvalid("bankSwiftCode",i)),ma.Cb(2),ma.pc("options",o.accountTransferTypeList)("isInvalid",o.checkIsInvalid("accountTransferTypeCode",i)),ma.Cb(2),ma.pc("isInvalid",o.checkIsInvalid("controlRemark",i))}}let ts=(()=>{class e{constructor(e,t,i){this.fileService=e,this.alertService=t,this.dataService=i,this.clickSaveEvent=new ma.n,this.useYnOptions=[{value:!0,label:"Y"},{value:!1,label:"N"}],this.checkedItemFormIndex=null,this._checkValid=!1,this._destroy$=new S.a,this.putForm=this.dataService.generateCompAccountListPutForm()}get accountList(){return this._accountList}set accountList(e){this._accountList=e,this._setPutFormArray(e)}get accept(){return Ya.a.image()}get listForm(){return this.putForm.get("list")}ngOnInit(){}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}onSubmit(){if(_.isNil(this.checkedItemFormIndex))return void this.alertService.alert("Please select at least one item.");if(this.listForm.controls[this.checkedItemFormIndex].invalid)return void(this._checkValid=!0);const e=this._setPutCondition();this.clickSaveEvent.emit(e),this._checkValid=!1,this.checkedItemFormIndex=null}onFileError(e){alert(e)}onBankAccountClickEventHandler(e){this.checkedItemFormIndex=e,this._checkValid=!1}onFileSelect({files:e,isInvalid:t},i){e.length>0&&!t?this._fileUpload({file:e[0],index:i}):this.alertService.alert("It is not a valid file.")}checkIsInvalid(e,t){return this._checkValid&&this.listForm.controls[t].get(e)&&t===this.checkedItemFormIndex&&this.listForm.controls[t].get(e).invalid}getImageUrl(e){return this.listForm.at(e).get("bankCopyUrl").value}onNew(){const e=this.dataService.generateCompAccountItemPutForm({useYn:!0},this.masterCompCode);this.listForm.push(e)}_setPutFormArray(e){this.listForm.clear(),this.modifyFlag||(e=null),_.isEmpty(e)?this.listForm.push(this.dataService.generateCompAccountItemPutForm({useYn:!0},this.masterCompCode)):e.forEach((e,t)=>{this.listForm.push(this.dataService.generateCompAccountItemPutForm(e,this.masterCompCode)),this.listForm.at(t).get("bankCopyUrl").setValue(e.bankCopyUrl)})}_setPutCondition(){const e=this.listForm.controls[this.checkedItemFormIndex].value,t=this.dataService.initCompAccountItemPutFormData();let i=_.pick(e,Object.keys(t));return i.bankAccountSeq||(i=_.omit(i,"bankAccountSeq")),{list:[i]}}_fileUpload({file:e,index:t}){this.fileService.fileUpload(da.imageUpload,{file:e}).pipe(Object(wa.a)(1)).subscribe(e=>{var i;if(!0===e.succeedYn){this.alertService.alert("Upload completed.");const o=null===(i=e.result)||void 0===i?void 0:i.images[0];this.listForm.at(t).get("bankCopyUrl").setValue(o)}else this.alertService.alert("An error occurred while uploading. Please try again later.")},e=>{this.alertService.alert("A server error occurred. Please contact the administrator")})}}return e.\u0275fac=function(t){return new(t||e)(ma.Qb(Ba.a),ma.Qb($a.a),ma.Qb(Pa))},e.\u0275cmp=ma.Kb({type:e,selectors:[["app-us-comp-detail-account"]],inputs:{loading:"loading",accountTypeList:"accountTypeList",accountTransferTypeList:"accountTransferTypeList",currencyList:"currencyList",bankList:"bankList",masterCompCode:"masterCompCode",modifyFlag:"modifyFlag",accountList:"accountList"},outputs:{clickSaveEvent:"clickSaveEvent"},decls:52,vars:2,consts:[[1,"page-item"],[1,"page-item-header"],[1,"control"],["type","button",1,"btn","btn-secondary","sm",3,"click"],[1,"modal-body"],[1,"table","table-bordered","table-responsive",3,"formGroup"],["scope","row","rowspan","2"],["scope","col",1,"align-c"],["formArrayName","list"],[4,"ngFor","ngForOf"],[3,"formGroupName"],["name","bank-radio-btn",3,"checked","onClick"],["formControlName","bankMasterCode","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","bankAccountNo",3,"isInvalid"],[1,"form-group"],["formControlName","currencyCode","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","useYn","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","accountTypeCode","useAllOptionName","Select",3,"options","isInvalid"],[1,"form-group",2,"width","300px"],["chooseLabel","",1,"flex-fill",3,"displayValue","maxFileSize","accept","onError","onSelect"],["formControlName","bankBranchName",3,"isInvalid"],["formControlName","bankDepositorName",3,"isInvalid"],["formControlName","bankSwiftCode",3,"isInvalid"],["formControlName","accountTransferTypeCode","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","controlRemark",3,"isInvalid"]],template:function(e,t){1&e&&(ma.Wb(0,"div",0),ma.Wb(1,"div",1),ma.Wb(2,"div",2),ma.Wb(3,"button",3),ma.fc("click",(function(){return t.onNew()})),ma.Pc(4,"New"),ma.Vb(),ma.Wb(5,"button",3),ma.fc("click",(function(){return t.onSubmit()})),ma.Pc(6,"Save"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(7,"div",4),ma.Wb(8,"form",5),ma.Wb(9,"table"),ma.Wb(10,"caption"),ma.Pc(11," Bank Account "),ma.Vb(),ma.Wb(12,"colgroup"),ma.Rb(13,"col"),ma.Rb(14,"col"),ma.Rb(15,"col"),ma.Rb(16,"col"),ma.Rb(17,"col"),ma.Vb(),ma.Wb(18,"thead"),ma.Wb(19,"tr"),ma.Rb(20,"th",6),ma.Wb(21,"th",7),ma.Wb(22,"sup"),ma.Pc(23,"Bank Name"),ma.Vb(),ma.Vb(),ma.Wb(24,"th",7),ma.Wb(25,"sup"),ma.Pc(26,"Account No."),ma.Vb(),ma.Vb(),ma.Wb(27,"th",7),ma.Wb(28,"sup"),ma.Pc(29,"Currency"),ma.Vb(),ma.Pc(30," / "),ma.Wb(31,"sup"),ma.Pc(32,"Use YN"),ma.Vb(),ma.Vb(),ma.Wb(33,"th",7),ma.Wb(34,"sup"),ma.Pc(35,"Account Type"),ma.Vb(),ma.Vb(),ma.Wb(36,"th",7),ma.Pc(37,"Bank Copy URL"),ma.Vb(),ma.Vb(),ma.Wb(38,"tr"),ma.Wb(39,"th",7),ma.Pc(40,"Bank Branch"),ma.Vb(),ma.Wb(41,"th",7),ma.Wb(42,"sup"),ma.Pc(43,"Depositor"),ma.Vb(),ma.Vb(),ma.Wb(44,"th",7),ma.Pc(45,"SWIFT"),ma.Vb(),ma.Wb(46,"th",7),ma.Pc(47,"Transfer Type"),ma.Vb(),ma.Wb(48,"th",7),ma.Pc(49,"Remark"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(50,"tbody",8),ma.Nc(51,es,28,21,"ng-container",9),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb()),2&e&&(ma.Cb(8),ma.pc("formGroup",t.putForm),ma.Cb(43),ma.pc("ngForOf",t.listForm.controls))},directives:[s.B,s.s,s.k,s.e,a.n,s.l,qa.a,Ta.a,s.r,s.i,Wa.a,Ha.a],styles:[""],changeDetection:0}),e})();var is=i("/uUt"),os=i("kDLv"),ns=i("pb6r");function as(e,t){if(1&e&&(ma.Wb(0,"tr",9),ma.Wb(1,"td",10),ma.Rb(2,"app-checkbox",11),ma.Vb(),ma.Wb(3,"td",12),ma.Rb(4,"app-input-text",13),ma.Vb(),ma.Wb(5,"td",12),ma.Rb(6,"app-input-text",14),ma.Vb(),ma.Wb(7,"td",15),ma.Pc(8),ma.Vb(),ma.Wb(9,"td",15),ma.Pc(10),ma.Vb(),ma.Vb()),2&e){const e=t.$implicit,i=t.index;ma.pc("formGroupName",i),ma.Cb(1),ma.pc("tabindex",i),ma.Cb(2),ma.pc("tabindex",i),ma.Cb(2),ma.pc("tabindex",i),ma.Cb(3),ma.Rc(" ",e.value.firstInsertName," "),ma.Cb(2),ma.Rc(" ",e.value.firstInsertDatetime," ")}}let ss=(()=>{class e{constructor(e,t){this.store=e,this.dataService=t,this.submitEvent=new ma.n,this.unsubscribe$=new S.a,this.upsertForm=this.dataService.generateDepositPutForm()}get info(){return this._info}set info(e){this._info=e,this.upsertFormData=this._setPutFormData(null==e?void 0:e.list)}get depositList(){var e;return null===(e=this.upsertForm)||void 0===e?void 0:e.get("depositList")}ngOnInit(){}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}onSubmit(){const e=this.setCondition();e.length>0&&this.submitEvent.emit({insertItems:e})}setCondition(){let e=[];return this.upsertForm.value.depositList.forEach(t=>{t.checked&&(t.vendorCompCode=this.vendorCompCode,t.floatingDepositSeq||e.push(_.omit(t,["checked","floatingDepositSeq","firstInsertDatetime","firstInsertName"])))}),e}onAdd(){this.depositList.push(this.dataService.generateDepositItemPutForm())}onDelete(){let e=[];this.upsertForm.value.depositList.forEach((t,i)=>{t.checked&&(e.push(t.floatingDepositSeq),this.depositList.removeAt(i))}),this.store.dispatch(o.deleteDeposit({condition:{deleteItems:e}}))}checkIsInvalid(e){return this.checkValid&&this.upsertForm.get(e)&&this.upsertForm.get(e).invalid}_setPutFormData(e){this.depositList.clear(),_.isEmpty(e)?this.depositList.push(this.dataService.generateDepositItemPutForm()):e.forEach(e=>{this.depositList.push(this.dataService.generateDepositItemPutForm(e)),this.depositList.controls.forEach(e=>{e.value.depositDate&&(e.get("depositDate").disable(),e.get("depositAmount").disable(),e.get("depositAmount").disable())})})}}return e.\u0275fac=function(t){return new(t||e)(ma.Qb(r.h),ma.Qb(Pa))},e.\u0275cmp=ma.Kb({type:e,selectors:[["app-us-comp-detail-vendor-floating-deposit-list-form"]],inputs:{vendorCompCode:"vendorCompCode",info:"info"},outputs:{submitEvent:"submitEvent"},decls:33,vars:3,consts:[[1,"modal-body","pd-all"],[1,"page-item",3,"formGroup","connectForm"],[1,"page-item-header"],[1,"control","ml-auto"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"table","table-bordered","mb10"],["scope","col",1,"align-c"],["formArrayName","depositList"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],[3,"tabindex"],["formControlName","checked"],[1,"align-c",3,"tabindex"],["formControlName","depositDate","inputFormat","date","placeholder","YYYY-MM-DD"],["formControlName","depositAmount","inputFormat","number","valueType","number"],[1,"align-c"]],template:function(e,t){1&e&&(ma.Wb(0,"div",0),ma.Wb(1,"form",1),ma.Wb(2,"div",2),ma.Wb(3,"div",3),ma.Wb(4,"a",4),ma.fc("click",(function(){return t.onAdd()})),ma.Pc(5,"Add"),ma.Vb(),ma.Wb(6,"a",4),ma.fc("click",(function(){return t.onSubmit()})),ma.Pc(7,"Save"),ma.Vb(),ma.Wb(8,"a",4),ma.fc("click",(function(){return t.onDelete()})),ma.Pc(9,"Delete"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(10,"div",5),ma.Wb(11,"table"),ma.Wb(12,"caption"),ma.Pc(13," Bank Account "),ma.Vb(),ma.Wb(14,"colgroup"),ma.Rb(15,"col"),ma.Rb(16,"col"),ma.Rb(17,"col"),ma.Rb(18,"col"),ma.Rb(19,"col"),ma.Vb(),ma.Wb(20,"thead"),ma.Wb(21,"tr"),ma.Rb(22,"th"),ma.Wb(23,"th",6),ma.Pc(24,"Deposit Date"),ma.Vb(),ma.Wb(25,"th",6),ma.Pc(26,"Deposit Amounts"),ma.Vb(),ma.Wb(27,"th",6),ma.Pc(28,"User"),ma.Vb(),ma.Wb(29,"th",6),ma.Pc(30,"First Insert Date"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(31,"tbody",7),ma.Nc(32,as,11,6,"tr",8),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb()),2&e&&(ma.Cb(1),ma.pc("formGroup",t.upsertForm)("connectForm",t.upsertFormData),ma.Cb(31),ma.pc("ngForOf",t.depositList.controls))},directives:[s.B,s.s,s.k,Sa.a,s.e,a.n,s.l,ns.a,s.r,s.i,Wa.a],encapsulation:2}),e})();function cs(e,t){if(1&e){const e=ma.Xb();ma.Wb(0,"app-us-comp-detail-vendor-floating-deposit-list-form",36),ma.fc("submitEvent",(function(t){return ma.Fc(e),ma.hc().saveFloatDepositEventHandler(t)})),ma.Vb()}if(2&e){const e=ma.hc();ma.pc("info",e.floatingDeposit)("vendorCompCode",(null==e.compVendorInfo?null:e.compVendorInfo.vendorCompCode)||e.masterCompCode)}}let rs=(()=>{class e{constructor(e,t){this._dataService=e,this._store=t,this.submitEvent=new ma.n,this.depositFlag=!1,this.upsertForm=e.generateCompVendorPutForm(),this.isFloatingDepositModalOpen$=t.pipe(Object(r.u)(qn))}get compVendorInfo(){return this._compVendorInfo}set compVendorInfo(e){this._compVendorInfo=e,this.upsertFormData=this._setPutFormData(e)}get floatingDeposit(){return this._floatingDeposit}set floatingDeposit(e){var t;this._floatingDeposit=e,this.upsertForm.get("floatingDepositMaxDate").setValue((null===(t=null==e?void 0:e.list[(null==e?void 0:e.list.length)-1])||void 0===t?void 0:t.depositDate)||null),this.upsertForm.get("floatingDepositSumAmount").setValue((null==e?void 0:e.sumAmount)||null)}ngOnInit(){}checkIsInvalid(e){return this._checkValid&&this.upsertForm.get(e)&&this.upsertForm.get(e).invalid}onSubmit(){if(this.upsertForm.invalid)return void(this._checkValid=!0);const e=this._setPutCondition();this.submitEvent.emit(e)}floatingDepositButtonEventHandler(){this._store.dispatch(n.openCompVendorFloatingDepositModal())}floatingDepositModalVisibleEventHandler(e){e||this._store.dispatch(n.closeCompVendorFloatingDepositModal())}saveFloatDepositEventHandler(e){this._store.dispatch(o.upsertDeposit({condition:e}))}_setPutCondition(){const e=this.upsertForm.value;return e.vendorCompCode=this.masterCompCode,e.currencyCode=void 0,e.floatingDepositAmount=void 0,_.omitBy(e,_.isNil)}_setPutFormData(e){const t=Object.assign(this._dataService.initCompVendorPutFormData(),{lastUpdateUser:null==e?void 0:e.lastUpdateName,lastUpdateDate:null==e?void 0:e.lastUpdateDatetime});return _.isEmpty(e)?t:_.pick(e,Object.keys(t))}}return e.\u0275fac=function(t){return new(t||e)(ma.Qb(Pa),ma.Qb(r.h))},e.\u0275cmp=ma.Kb({type:e,selectors:[["app-us-comp-detail-vendor-main-form"]],inputs:{hotelApprovalStatusList:"hotelApprovalStatusList",masterCompCode:"masterCompCode",paymentPeriodList:"paymentPeriodList",vendorPayTypeList:"vendorPayTypeList",compVendorInfo:"compVendorInfo",floatingDeposit:"floatingDeposit"},outputs:{submitEvent:"submitEvent"},decls:125,vars:23,consts:[[3,"formGroup","connectForm"],[1,"table","table-bordered"],["width","15%"],["width","35%"],["scope","row",1,"th-bg"],[1,"form-group"],["formControlName","paymentPeriodCode","useAllOptionName","Select",3,"options","isInvalid"],[1,"ml10","color-red","font-size-xss"],[1,"mr10"],["formControlName","bookableDate","valueType","number",3,"isInvalid"],[1,"ml10"],["formControlName","hotelMutualContractYn","name","hotelMutualContractYn","label","Y",3,"value"],["formControlName","hotelMutualContractYn","name","hotelMutualContractYn","label","N",3,"value"],["formControlName","maxBookableDays","valueType","number",3,"isInvalid"],["formControlName","depositTypeCode","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","maxBookableRoomCount","valueType","number"],[1,"input","calendar",2,"max-width","150px"],[3,"for"],["type","text","placeholder","YYYY-MM-DD","formControlName","depositDate",3,"matDatepicker"],["myPicker",""],["formControlName","maxBookableAdultCount","valueType","number",1,"mr10"],["formControlName","maxBookableChildCount","valueType","number"],["formControlName","depositAmount","valueType","number"],["formControlName","maxChildAge","valueType","number"],["type","text","placeholder","YYYY-MM-DD","formControlName","floatingDepositMaxDate",3,"matDatepicker"],["depositDate",""],["formControlName","floatingDepositSumAmount","inputFormat","number","valueType","number"],[1,"btn","btn-secondary","sm","ml10",3,"click"],["formControlName","quadBookableYn","name","quadBookableYn","label","Y",3,"value"],["formControlName","quadBookableYn","name","quadBookableYn","label","N",3,"value"],["colspan","3"],["formControlName","controlRemark"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm",3,"click"],["header","Floating Deposit List","modalSize","sm",3,"visible","modal","visibleChange"],[3,"info","vendorCompCode","submitEvent",4,"ngIf"],[3,"info","vendorCompCode","submitEvent"]],template:function(e,t){if(1&e&&(ma.Wb(0,"form",0),ma.Wb(1,"div",1),ma.Wb(2,"table"),ma.Wb(3,"caption"),ma.Pc(4," vendor "),ma.Vb(),ma.Wb(5,"colgroup"),ma.Rb(6,"col",2),ma.Rb(7,"col",3),ma.Rb(8,"col",2),ma.Rb(9,"col",3),ma.Vb(),ma.Wb(10,"tbody"),ma.Wb(11,"tr"),ma.Wb(12,"th",4),ma.Pc(13," Payment Period "),ma.Vb(),ma.Wb(14,"td"),ma.Wb(15,"div",5),ma.Rb(16,"app-selectbox",6),ma.Wb(17,"span",7),ma.Pc(18,"3rd parties only for use"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(19,"th",4),ma.Wb(20,"sup"),ma.Pc(21,"Bookable Date"),ma.Vb(),ma.Vb(),ma.Wb(22,"td"),ma.Wb(23,"div",5),ma.Wb(24,"span",8),ma.Pc(25,"Today + "),ma.Vb(),ma.Rb(26,"app-input-text",9),ma.Wb(27,"span",10),ma.Pc(28,"Days"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(29,"tr"),ma.Wb(30,"th",4),ma.Wb(31,"sup"),ma.Pc(32,"Mutual Contract YN"),ma.Vb(),ma.Vb(),ma.Wb(33,"td"),ma.Wb(34,"div",5),ma.Rb(35,"app-radio",11),ma.Rb(36,"app-radio",12),ma.Vb(),ma.Vb(),ma.Wb(37,"th",4),ma.Wb(38,"sup"),ma.Pc(39,"Max Bookable Days"),ma.Vb(),ma.Vb(),ma.Wb(40,"td"),ma.Wb(41,"div",5),ma.Rb(42,"app-input-text",13),ma.Wb(43,"span",10),ma.Pc(44,"Days"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(45,"tr"),ma.Wb(46,"th",4),ma.Pc(47,"Deposit Type"),ma.Vb(),ma.Wb(48,"td"),ma.Rb(49,"app-selectbox",14),ma.Vb(),ma.Wb(50,"th",4),ma.Pc(51,"Max Bookable RM Count"),ma.Vb(),ma.Wb(52,"td"),ma.Wb(53,"div",5),ma.Rb(54,"app-input-text",15),ma.Wb(55,"span",10),ma.Pc(56,"Rooms"),ma.Vb(),ma.Wb(57,"span",7),ma.Pc(58,"3rd parties only for use"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(59,"tr"),ma.Wb(60,"th",4),ma.Pc(61,"Deposit Date"),ma.Vb(),ma.Wb(62,"td"),ma.Wb(63,"div",16),ma.Rb(64,"mat-datepicker-toggle",17),ma.Rb(65,"input",18),ma.Rb(66,"mat-datepicker",null,19),ma.Vb(),ma.Vb(),ma.Wb(68,"th",4),ma.Pc(69,"Max Bookable Pax Count"),ma.Vb(),ma.Wb(70,"td"),ma.Wb(71,"div",5),ma.Wb(72,"span",8),ma.Pc(73,"ADT"),ma.Vb(),ma.Rb(74,"app-input-text",20),ma.Wb(75,"span",8),ma.Pc(76," / CHD"),ma.Vb(),ma.Rb(77,"app-input-text",21),ma.Wb(78,"span",7),ma.Pc(79,"3rd parties only for use"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(80,"tr"),ma.Wb(81,"th",4),ma.Pc(82,"Deposit Amount"),ma.Vb(),ma.Wb(83,"td"),ma.Rb(84,"app-input-text",22),ma.Vb(),ma.Wb(85,"th",4),ma.Pc(86,"Max Child Age"),ma.Vb(),ma.Wb(87,"td"),ma.Wb(88,"div",5),ma.Rb(89,"app-input-text",23),ma.Wb(90,"span",7),ma.Pc(91,"3rd parties only for use"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(92,"tr"),ma.Wb(93,"th",4),ma.Pc(94,"Floating Deposit (Date / Amounts)"),ma.Vb(),ma.Wb(95,"td"),ma.Wb(96,"div",5),ma.Wb(97,"div",16),ma.Rb(98,"mat-datepicker-toggle",17),ma.Rb(99,"input",24),ma.Rb(100,"mat-datepicker",null,25),ma.Vb(),ma.Rb(102,"app-input-text",26),ma.Wb(103,"button",27),ma.fc("click",(function(){return t.floatingDepositButtonEventHandler()})),ma.Pc(104," Floating deposit "),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(105,"th",4),ma.Pc(106,"Quad Bookable YN"),ma.Vb(),ma.Wb(107,"td"),ma.Wb(108,"div",5),ma.Rb(109,"app-radio",28),ma.Rb(110,"app-radio",29),ma.Wb(111,"span",7),ma.Pc(112,"3rd parties only for use"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(113,"tr"),ma.Wb(114,"th",4),ma.Pc(115,"Control Remark"),ma.Vb(),ma.Wb(116,"td",30),ma.Rb(117,"app-input-text",31),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(118,"div",32),ma.Wb(119,"button",33),ma.fc("click",(function(){return t.onSubmit()})),ma.Pc(120,"Save"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(121,"app-dialog",34),ma.fc("visibleChange",(function(e){return t.floatingDepositModalVisibleEventHandler(e)})),ma.ic(122,"async"),ma.Nc(123,cs,1,2,"app-us-comp-detail-vendor-floating-deposit-list-form",35),ma.ic(124,"async"),ma.Vb()),2&e){const e=ma.Ec(67),i=ma.Ec(101);ma.pc("formGroup",t.upsertForm)("connectForm",t.upsertFormData),ma.Cb(16),ma.pc("options",t.paymentPeriodList)("isInvalid",t.checkIsInvalid("paymentPeriodCode")),ma.Cb(10),ma.pc("isInvalid",t.checkIsInvalid("bookableDate")),ma.Cb(9),ma.pc("value",!0),ma.Cb(1),ma.pc("value",!1),ma.Cb(6),ma.pc("isInvalid",t.checkIsInvalid("maxBookableDays")),ma.Cb(7),ma.pc("options",t.vendorPayTypeList)("isInvalid",t.checkIsInvalid("depositTypeCode")),ma.Cb(15),ma.pc("for",e),ma.Cb(1),ma.pc("matDatepicker",e),ma.Cb(33),ma.pc("for",i),ma.Cb(1),ma.pc("matDatepicker",i),ma.Cb(10),ma.pc("value",!0),ma.Cb(1),ma.pc("value",!1),ma.Cb(11),ma.pc("visible",ma.jc(122,19,t.isFloatingDepositModalOpen$))("modal",!0),ma.Cb(2),ma.pc("ngIf",ma.jc(124,21,t.isFloatingDepositModalOpen$))}},directives:[s.B,s.s,s.k,Sa.a,Ta.a,s.r,s.i,Wa.a,qa.a,Ia.a,s.c,Fa.a,ka.a,os.a,a.o,ss],pipes:[a.b],encapsulation:2}),e})();function ls(e,t){if(1&e){const e=ma.Xb();ma.Ub(0),ma.Wb(1,"td"),ma.Wb(2,"app-file-upload",13,14),ma.fc("onError",(function(t){return ma.Fc(e),ma.hc(2).onFileError(t)}))("onSelect",(function(t){return ma.Fc(e),ma.hc(2).onFileSelect(t)})),ma.Vb(),ma.Vb(),ma.Wb(4,"td"),ma.Rb(5,"app-input-text",15),ma.Vb(),ma.Rb(6,"td"),ma.Rb(7,"td"),ma.Wb(8,"td"),ma.Wb(9,"div",16),ma.Wb(10,"a",17),ma.fc("click",(function(){return ma.Fc(e),ma.hc(2).createUploadFileItem()})),ma.Pc(11,"Save"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Tb()}if(2&e){const e=ma.hc(2);ma.Cb(2),ma.pc("displayValue",e.newFileUrl)("isInvalid",e.showNewFileFormInvalid("contractFileUrl")),ma.Cb(3),ma.pc("isInvalid",e.showNewFileFormInvalid("contractFileDesc"))}}function ds(e,t){if(1&e){const e=ma.Xb();ma.Ub(0),ma.Wb(1,"td"),ma.Wb(2,"div",18),ma.Rb(3,"app-input-text",19),ma.Wb(4,"button",20),ma.fc("click",(function(){ma.Fc(e);const t=ma.hc().$implicit;return ma.hc().openImgLink(t.value.contractFileUrl)})),ma.Pc(5,"View"),ma.Vb(),ma.Wb(6,"a",21),ma.Pc(7,"Download"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(8,"td",22),ma.Rb(9,"app-input-text",15),ma.Vb(),ma.Wb(10,"td",22),ma.Pc(11),ma.Vb(),ma.Wb(12,"td",22),ma.Pc(13),ma.Vb(),ma.Wb(14,"td",22),ma.Wb(15,"div",23),ma.Wb(16,"a",24),ma.fc("click",(function(){ma.Fc(e);const t=ma.hc().index;return ma.hc().deleteRow(t)})),ma.Pc(17,"Delete"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Tb()}if(2&e){const e=ma.hc(),t=e.index,i=e.$implicit,o=ma.hc();ma.Cb(3),ma.pc("disabled",!0)("isInvalid",o.showUploadedFileFormInvalid(t,"contractFileUrl")),ma.Cb(3),ma.pc("href",i.value.contractFileUrl,ma.Hc)("download",i.value.contractFileUrl),ma.Cb(3),ma.pc("isInvalid",o.showUploadedFileFormInvalid(t,"contractFileDesc")),ma.Cb(2),ma.Qc(i.value.lastUpdateUser),ma.Cb(2),ma.Qc(i.value.lastUpdateDate)}}function ps(e,t){if(1&e&&(ma.Wb(0,"tr",11),ma.Nc(1,ls,12,3,"ng-container",12),ma.Nc(2,ds,18,7,"ng-container",12),ma.Vb()),2&e){const e=t.index;ma.pc("formGroupName",e),ma.Cb(1),ma.pc("ngIf",0===e),ma.Cb(1),ma.pc("ngIf",0!==e)}}let us=(()=>{class e{constructor(e,t,i){this._alertService=e,this._dataService=t,this._fileService=i,this.fileSubmitEvent=new ma.n,this.fileRemoveEvent=new ma.n,this.uploadedFilename="",this._newFileFormCheckValid=!1,this._uploadedfileFormCheckValid=!1,this._unsubscribe$=new S.a,this.uploadFileFormGroup=this._dataService.generateUploadedFileListForm();const o=this._dataService.generateNewFileItemForm();this.fileList.push(o)}get contractFileListInfo(){return this._contractFileListInfo}set contractFileListInfo(e){const t=this.fileList.controls[0].value,i=this._dataService.generateNewFileItemForm();if(i.patchValue(t),this.fileList.clear(),this.fileList.push(i),!e)return;const o=e.list;o&&o.forEach(e=>{const t=this._dataService.generateUploadedFileItemForm(e);this.fileList.push(t)})}get fileList(){var e;return null===(e=this.uploadFileFormGroup)||void 0===e?void 0:e.get("fileList")}get newFileForm(){return this.fileList.controls[0]}get newFileUrl(){return this.newFileForm.get("contractFileUrl").value}get isNewFileFormInvalid(){return this.newFileForm.invalid}ngOnInit(){this.newFileForm.patchValue({vendorCompCode:this.masterCompCode})}ngOnDestroy(){this._unsubscribe$.next(),this._unsubscribe$.complete(),this.fileList.clear()}createUploadFileItem(){this.newFileForm.invalid?this._newFileFormCheckValid=!0:(this.fileSubmitEvent.emit(this.newFileForm.value),this._newFileFormCheckValid=!1)}showNewFileFormInvalid(e){return this._newFileFormCheckValid&&this.newFileForm.controls[`${e}`].invalid}showUploadedFileFormInvalid(e,t){return this._uploadedfileFormCheckValid&&this.fileList.controls[e].get(`${t}`).invalid}deleteRow(e){this.fileRemoveEvent.emit({deleteItems:[this.fileList.controls[e].value.contractFileSeq]})}updateUploadedfileItem(e){if(this.fileList.controls[e].invalid)return void(this._uploadedfileFormCheckValid=!0);let t=this.fileList.controls[e].value;const i=Object.keys(this._dataService.initUpdateFileItemForm());t=_.pick(t,i),t.vendorCompCode=this.masterCompCode,this.fileSubmitEvent.emit(t),this._uploadedfileFormCheckValid=!1}onFileError(e){alert(e)}onFileSelect({files:e,isInvalid:t}){e.length>0&&!t?this._fileService.fileUpload(da.fileUpload,{file:e[0]}).subscribe(e=>{if(!0===e.succeedYn){const t=e.result.images[0];this._alertService.alert("Upload completed.\n"+t),this.newFileForm.get("contractFileUrl").setValue(t),this.uploadedFilename=t}else this._alertService.alert("An error occurred while uploading. Please try again later.")},console.error):this._alertService.alert("It is not a valid file.")}openImgLink(e){_.isNil(e)?this._alertService.alert("This is not a valid image address."):window.open(e,"_blank")}}return e.\u0275fac=function(t){return new(t||e)(ma.Qb($a.a),ma.Qb(Pa),ma.Qb(Ba.a))},e.\u0275cmp=ma.Kb({type:e,selectors:[["app-us-comp-detail-vendor-contract-files-form"]],inputs:{masterCompCode:"masterCompCode",contractFileListInfo:"contractFileListInfo"},outputs:{fileSubmitEvent:"fileSubmitEvent",fileRemoveEvent:"fileRemoveEvent"},decls:28,vars:2,consts:[[3,"formGroup"],[1,"page-item"],[1,"page-item-header"],[1,"title"],[1,"table","table-bordered"],["width","30%"],["width","10%"],["width","150px"],["scope","col",1,"align-c"],["formArrayName","fileList"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],[4,"ngIf"],[1,"flex-fill",3,"displayValue","isInvalid","onError","onSelect"],["compFileUpload",""],["formControlName","contractFileDesc",1,"flex-fill",3,"isInvalid"],[1,"control","align-c"],[1,"btn","btn-secondary","sm","ml5",3,"click"],[1,"form-group"],["formControlName","contractFileUrl",3,"disabled","isInvalid"],["type","button",1,"btn","btn-secondary","sm","ml5",2,"max-width","60px",3,"click"],["type","button","target","_blank",1,"btn","btn-secondary","sm","ml5",2,"max-width","60px",3,"href","download"],[1,"align-c"],[1,"control"],[1,"btn","btn-outline-secondary","sm",3,"click"]],template:function(e,t){1&e&&(ma.Wb(0,"form",0),ma.Wb(1,"div",1),ma.Wb(2,"div",2),ma.Wb(3,"p",3),ma.Pc(4,"Vendor Contract Files"),ma.Vb(),ma.Vb(),ma.Wb(5,"div",4),ma.Wb(6,"table"),ma.Wb(7,"caption"),ma.Pc(8," Vendor Contract Files "),ma.Vb(),ma.Wb(9,"colgroup"),ma.Rb(10,"col",5),ma.Rb(11,"col"),ma.Rb(12,"col",6),ma.Rb(13,"col",6),ma.Rb(14,"col",7),ma.Vb(),ma.Wb(15,"thead"),ma.Wb(16,"tr"),ma.Wb(17,"th",8),ma.Pc(18,"File Name"),ma.Vb(),ma.Wb(19,"th",8),ma.Pc(20,"Remark"),ma.Vb(),ma.Wb(21,"th",8),ma.Pc(22,"Last Update User"),ma.Vb(),ma.Wb(23,"th",8),ma.Pc(24,"Last Update Date"),ma.Vb(),ma.Rb(25,"th",8),ma.Vb(),ma.Vb(),ma.Wb(26,"tbody",9),ma.Nc(27,ps,3,3,"tr",10),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb()),2&e&&(ma.pc("formGroup",t.uploadFileFormGroup),ma.Cb(27),ma.pc("ngForOf",t.fileList.controls))},directives:[s.B,s.s,s.k,s.e,a.n,s.l,a.o,Ha.a,Wa.a,s.r,s.i],encapsulation:2}),e})(),bs=(()=>{class e{constructor(){}get bankInformation(){return this._bankInformation}set bankInformation(e){e?this._bankInformation=e:console.error("bank information is wrong",e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ma.Kb({type:e,selectors:[["app-us-comp-detail-vendor-payment-condition-bank-information-table"]],inputs:{bankInformation:"bankInformation"},decls:32,vars:5,consts:[[1,"table-border-none"],["width","180px"],[1,"th-bg"]],template:function(e,t){1&e&&(ma.Wb(0,"table",0),ma.Wb(1,"caption"),ma.Pc(2," Bank Information "),ma.Vb(),ma.Wb(3,"colgroup"),ma.Rb(4,"col",1),ma.Rb(5,"col"),ma.Vb(),ma.Wb(6,"tbody"),ma.Wb(7,"tr"),ma.Wb(8,"th",2),ma.Pc(9,"Bank Name"),ma.Vb(),ma.Wb(10,"td"),ma.Pc(11),ma.Vb(),ma.Vb(),ma.Wb(12,"tr"),ma.Wb(13,"th",2),ma.Pc(14,"Account No"),ma.Vb(),ma.Wb(15,"td"),ma.Pc(16),ma.Vb(),ma.Vb(),ma.Wb(17,"tr"),ma.Wb(18,"th",2),ma.Pc(19,"Depositor Name"),ma.Vb(),ma.Wb(20,"td"),ma.Pc(21),ma.Vb(),ma.Vb(),ma.Wb(22,"tr"),ma.Wb(23,"th",2),ma.Pc(24,"Branch Name"),ma.Vb(),ma.Wb(25,"td"),ma.Pc(26),ma.Vb(),ma.Vb(),ma.Wb(27,"tr"),ma.Wb(28,"th",2),ma.Pc(29,"Swift Code"),ma.Vb(),ma.Wb(30,"td"),ma.Pc(31),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb()),2&e&&(ma.Cb(11),ma.Qc(null==t.bankInformation?null:t.bankInformation.bankName),ma.Cb(5),ma.Qc(null==t.bankInformation?null:t.bankInformation.accountNo),ma.Cb(5),ma.Qc(null==t.bankInformation?null:t.bankInformation.depositorName),ma.Cb(5),ma.Qc(null==t.bankInformation?null:t.bankInformation.branchName),ma.Cb(5),ma.Qc(null==t.bankInformation?null:t.bankInformation.swiftCode))},styles:[".table-border-none[_ngcontent-%COMP%]{width:100%;border:0;table-layout:fixed}.table-border-none[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:31px}.table-border-none[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:0;padding:5px 0;font-size:.75rem;background:#fff}.table-border-none[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:0;padding:5px 10px;font-size:.75rem;background:#fff}"]}),e})();var ms=i("NCYe");function hs(e,t){if(1&e&&(ma.Ub(0),ma.Wb(1,"tr"),ma.Wb(2,"th",2),ma.Pc(3," Payment Detail "),ma.Vb(),ma.Wb(4,"td"),ma.Rb(5,"app-us-comp-detail-vendor-payment-condition-bank-information-table",6),ma.Vb(),ma.Vb(),ma.Tb()),2&e){const e=ma.hc();ma.Cb(5),ma.pc("bankInformation",e.bankInformation)}}let Cs=(()=>{class e{constructor(){this.bankInformation=null}get compVendorPaymentConditionItem(){return this._compVendorPaymentConditionItem}set compVendorPaymentConditionItem(e){e?(this._compVendorPaymentConditionItem=e,this.bankInformation={bankName:e.bankMasterName,accountNo:e.bankAccountNo,depositorName:e.bankDepositorName,branchName:e.bankBranchName,swiftCode:e.bankSwiftCode}):console.error("comp vendor condition item is wrong",e)}get isShowBankInformation(){return"Cash"===this.compVendorPaymentConditionItem.paymentMethodCode}get isAvailableVccViewButton(){return"VCC"===this.compVendorPaymentConditionItem.paymentMethodCode}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ma.Kb({type:e,selectors:[["app-us-comp-detail-vendor-payment-condition-table"]],inputs:{compVendorPaymentConditionItem:"compVendorPaymentConditionItem"},decls:55,vars:10,consts:[[1,"table-light-gray-bordered"],["width","180px"],["scope","row"],[1,"table-border-none"],[1,"th-bg"],[4,"ngIf"],[3,"bankInformation"]],template:function(e,t){1&e&&(ma.Wb(0,"table",0),ma.Wb(1,"caption"),ma.Pc(2,"Vendor Payment Condition Table"),ma.Vb(),ma.Wb(3,"colgroup"),ma.Rb(4,"col",1),ma.Rb(5,"col"),ma.Vb(),ma.Wb(6,"tbody"),ma.Wb(7,"tr"),ma.Wb(8,"th",2),ma.Pc(9," Payment SEQ "),ma.Vb(),ma.Wb(10,"td"),ma.Pc(11),ma.Vb(),ma.Vb(),ma.Wb(12,"tr"),ma.Wb(13,"th",2),ma.Pc(14," Payment Condition "),ma.Vb(),ma.Wb(15,"td"),ma.Wb(16,"table",3),ma.Wb(17,"caption"),ma.Pc(18," payment condition "),ma.Vb(),ma.Wb(19,"colgroup"),ma.Rb(20,"col",1),ma.Rb(21,"col"),ma.Rb(22,"col",1),ma.Rb(23,"col"),ma.Vb(),ma.Wb(24,"tbody"),ma.Wb(25,"tr"),ma.Wb(26,"th",4),ma.Pc(27,"Applied From ~ To"),ma.Vb(),ma.Wb(28,"td"),ma.Wb(29,"span"),ma.Pc(30),ma.Vb(),ma.Vb(),ma.Wb(31,"th",4),ma.Pc(32,"Payment Period"),ma.Vb(),ma.Wb(33,"td"),ma.Wb(34,"span"),ma.Pc(35),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(36,"tr"),ma.Wb(37,"th",4),ma.Pc(38,"Payment Type / Method"),ma.Vb(),ma.Wb(39,"td"),ma.Wb(40,"span"),ma.Pc(41),ma.Vb(),ma.Vb(),ma.Wb(42,"th",4),ma.Pc(43,"Deposit YN"),ma.Vb(),ma.Wb(44,"td"),ma.Wb(45,"span"),ma.Pc(46),ma.ic(47,"useYnToStr"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Nc(48,hs,6,1,"ng-container",5),ma.Wb(49,"tr"),ma.Wb(50,"th",2),ma.Pc(51," Control Remark "),ma.Vb(),ma.Wb(52,"td"),ma.Wb(53,"span"),ma.Pc(54),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb()),2&e&&(ma.Cb(11),ma.Rc(" ",null==t.compVendorPaymentConditionItem?null:t.compVendorPaymentConditionItem.paymentConditionSeq," "),ma.Cb(19),ma.Qc(null==t.compVendorPaymentConditionItem?null:t.compVendorPaymentConditionItem.appliedFromDate),ma.Cb(5),ma.Qc(null==t.compVendorPaymentConditionItem?null:t.compVendorPaymentConditionItem.paymentPeriodName),ma.Cb(6),ma.Sc("",null==t.compVendorPaymentConditionItem?null:t.compVendorPaymentConditionItem.paymentTypeName," / ",null==t.compVendorPaymentConditionItem?null:t.compVendorPaymentConditionItem.paymentMethodName,""),ma.Cb(5),ma.Qc(ma.jc(47,8,null==t.compVendorPaymentConditionItem?null:t.compVendorPaymentConditionItem.depositUseYn)),ma.Cb(2),ma.pc("ngIf",t.isShowBankInformation),ma.Cb(6),ma.Qc(null==t.compVendorPaymentConditionItem?null:t.compVendorPaymentConditionItem.controlRemark))},directives:[a.o,bs],pipes:[ms.e],styles:[".table-light-gray-bordered[_ngcontent-%COMP%]{width:100%;border:1px solid #e0e0e0;font-size:13px;table-layout:fixed}.table-light-gray-bordered[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:36px}.table-light-gray-bordered[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:500;font-size:.8125rem;background:#f2f2f2}.table-light-gray-bordered[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-light-gray-bordered[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #e0e0e0;padding:5px 10px;text-align:left;vertical-align:middle;white-space:nowrap}.table-light-gray-bordered[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:400;font-size:.75rem}.table-border-none[_ngcontent-%COMP%]{width:100%;border:0;table-layout:fixed}.table-border-none[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:31px}.table-border-none[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700;padding:5px 0}.table-border-none[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-border-none[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:0;background:#fff;font-size:.75rem}"]}),e})();function fs(e,t){if(1&e&&(ma.Ub(0),ma.Wb(1,"tr"),ma.Wb(2,"td"),ma.Rb(3,"app-radio",11),ma.Vb(),ma.Wb(4,"td"),ma.Rb(5,"app-us-comp-detail-vendor-payment-condition-table",12),ma.Vb(),ma.Vb(),ma.Tb()),2&e){const e=t.$implicit,i=t.index,o=ma.hc(2);ma.Cb(3),ma.pc("formControl",o.paymentConditionItemRadioButtonControl)("value",i),ma.Cb(2),ma.pc("compVendorPaymentConditionItem",e)}}function ys(e,t){if(1&e&&(ma.Wb(0,"div",8),ma.Wb(1,"table"),ma.Wb(2,"caption"),ma.Pc(3,"Vendor Payment Condition"),ma.Vb(),ma.Wb(4,"colgroup"),ma.Rb(5,"col",9),ma.Rb(6,"col"),ma.Vb(),ma.Wb(7,"tbody"),ma.Nc(8,fs,6,3,"ng-container",10),ma.Vb(),ma.Vb(),ma.Vb()),2&e){const e=ma.hc();ma.Cb(8),ma.pc("ngForOf",e.compVendorPaymentConditionItemList)}}let gs=(()=>{class e{constructor(e,t){this._store=e,this._alertService=t,this.selectedPaymentConditionItem=null,this.hotelCodeChangeEvent=new ma.n,this.paymentConditionItemRadioButtonControl=new s.g,this.paymentConditionItemRadioButtonControlValue=null,this.hotelCodeControl=new s.g,this.hotelInput=null,this._unsubscribe$=new S.a}get compVendorPaymentConditionItemList(){return this._compVendorPaymentConditionItemList}get hotelInfo(){return this._hotelInfo}set hotelInfo(e){this._hotelInfo=e}set compVendorPaymentConditionItemList(e){e&&(this._compVendorPaymentConditionItemList=e,this.paymentConditionItemRadioButtonControlValue>-1&&this._store.dispatch(n.selectPaymentConditionItem({item:this.compVendorPaymentConditionItemList[this.paymentConditionItemRadioButtonControlValue]})))}get isFoundHotel(){return!!this.hotelCodeControl.value}ngOnInit(){this._initSubscriptions(),this.vendorCompCode&&this._store.dispatch(n.loadCompVendorPaymentCondition({condition:{vendorCompCode:this.vendorCompCode}}))}ngOnDestroy(){this._unsubscribe$.next(),this._unsubscribe$.complete()}clickNewButtonEventHandler(){this._store.dispatch(n.openCompVendorPaymentConditionFormModal({item:null}))}clickModifyButtonEventHandler(){this.selectedPaymentConditionItem?this._store.dispatch(n.openCompVendorPaymentConditionFormModal({item:this.selectedPaymentConditionItem})):this._alertService.alert("Please select payment condition first.")}clickVccButtonEventHandler(){this.selectedPaymentConditionItem?"VCC"===this.selectedPaymentConditionItem.paymentMethodCode?this._store.dispatch(n.showCompVendorVccPaymentForm()):this._alertService.alert("This item does not have VCC as payment method."):this._alertService.alert("Please select payment condition first.")}clickDeleteButtonEventHandler(){if(!this.selectedPaymentConditionItem)return void this._alertService.alert("Please select payment condition first.");const e={paymentConditionSeq:this.selectedPaymentConditionItem.paymentConditionSeq};this._alertService.confirm({message:"Are you sure to delete this vendor payment condition item?",accept:()=>{this._store.dispatch(n.deleteCompVendorPaymentCondition({deleteCondition:e})),this.paymentConditionItemRadioButtonControl.setValue(null)}})}_initSubscriptions(){this._subscribeHotelCodeControl(),this._subscribePaymentConditionItemRadioButtonControl()}_subscribeHotelCodeControl(){this.hotelCodeControl.valueChanges.pipe(Object(k.a)(this._unsubscribe$)).subscribe(e=>{this.hotelCodeChangeEvent.emit(e),this.paymentConditionItemRadioButtonControl.reset(),this._store.dispatch(n.loadCompVendorPaymentCondition({condition:{vendorCompCode:this.vendorCompCode,hotelCode:e||void 0}}))})}_subscribePaymentConditionItemRadioButtonControl(){this.paymentConditionItemRadioButtonControl.valueChanges.pipe(Object(is.a)(),Object(k.a)(this._unsubscribe$)).subscribe(e=>{this.paymentConditionItemRadioButtonControlValue=e,this._store.dispatch(n.selectPaymentConditionItem({item:this.compVendorPaymentConditionItemList[e]})),this._store.dispatch(n.hideCompVendorVccPaymentForm())})}}return e.\u0275fac=function(t){return new(t||e)(ma.Qb(r.h),ma.Qb($a.a))},e.\u0275cmp=ma.Kb({type:e,selectors:[["app-us-comp-detail-vendor-payment-condition"]],inputs:{vendorCompCode:"vendorCompCode",selectedPaymentConditionItem:"selectedPaymentConditionItem",compVendorPaymentConditionItemList:"compVendorPaymentConditionItemList",hotelInfo:"hotelInfo"},outputs:{hotelCodeChangeEvent:"hotelCodeChangeEvent"},decls:16,vars:3,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title"],["displayKey","hotelNameEn","dataKey","hotelCode",1,"d-inline-flex","flex-fill","ml20",2,"display","none !important",3,"formControl","options"],[1,"ml-auto","form-group"],[1,"btn","btn-light","sm","ml10",3,"click"],[1,"btn","btn-light","sm",3,"click"],["class","table table-bordered",4,"ngIf"],[1,"table","table-bordered"],["width","40px"],[4,"ngFor","ngForOf"],["name","paymentConditionItemRadioButton",3,"formControl","value"],[3,"compVendorPaymentConditionItem"]],template:function(e,t){1&e&&(ma.Wb(0,"form"),ma.Wb(1,"div",0),ma.Wb(2,"div",1),ma.Wb(3,"p",2),ma.Pc(4,"Vendor Payment Condition"),ma.Vb(),ma.Rb(5,"app-selectbox",3),ma.Wb(6,"div",4),ma.Wb(7,"a",5),ma.fc("click",(function(){return t.clickNewButtonEventHandler()})),ma.Pc(8,"New"),ma.Vb(),ma.Wb(9,"a",6),ma.fc("click",(function(){return t.clickModifyButtonEventHandler()})),ma.Pc(10,"Modify"),ma.Vb(),ma.Wb(11,"a",6),ma.fc("click",(function(){return t.clickVccButtonEventHandler()})),ma.Pc(12,"View VCC Detail"),ma.Vb(),ma.Wb(13,"a",6),ma.fc("click",(function(){return t.clickDeleteButtonEventHandler()})),ma.Pc(14,"Delete"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Nc(15,ys,9,1,"div",7),ma.Vb(),ma.Vb()),2&e&&(ma.Cb(5),ma.pc("formControl",t.hotelCodeControl)("options",t.hotelInfo),ma.Cb(10),ma.pc("ngIf",t.compVendorPaymentConditionItemList.length>0))},directives:[s.B,s.s,s.t,Ta.a,s.r,s.h,a.o,a.n,qa.a,Cs],encapsulation:2}),e})(),vs=(()=>{class e{constructor(){}get vccPaymentItem(){return this._vccPaymentItem}set vccPaymentItem(e){e?this._vccPaymentItem=e:console.error("vcc payment item has wrong value",e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ma.Kb({type:e,selectors:[["app-us-comp-detail-vendor-vcc-payment-table"]],inputs:{vccPaymentItem:"vccPaymentItem"},decls:54,vars:8,consts:[[1,"table","table-light-gray-bordered"],["width","180px"],["scope","row"],[1,"table-border-none"],[1,"th-bg"]],template:function(e,t){1&e&&(ma.Wb(0,"table",0),ma.Wb(1,"caption"),ma.Pc(2,"Vendor VCC Payment Nested Table"),ma.Vb(),ma.Wb(3,"colgroup"),ma.Rb(4,"col",1),ma.Rb(5,"col"),ma.Vb(),ma.Wb(6,"tbody"),ma.Wb(7,"tr"),ma.Wb(8,"th",2),ma.Pc(9," SEQ "),ma.Vb(),ma.Wb(10,"td"),ma.Pc(11),ma.Vb(),ma.Vb(),ma.Wb(12,"tr"),ma.Wb(13,"th",2),ma.Pc(14," Default VCC YN "),ma.Vb(),ma.Wb(15,"td"),ma.Wb(16,"span"),ma.Pc(17),ma.ic(18,"useYnToStr"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(19,"tr"),ma.Wb(20,"th",2),ma.Pc(21," VCC Detail "),ma.Vb(),ma.Wb(22,"td"),ma.Wb(23,"table",3),ma.Wb(24,"caption"),ma.Pc(25," VCC Detail "),ma.Vb(),ma.Wb(26,"colgroup"),ma.Rb(27,"col",1),ma.Rb(28,"col"),ma.Vb(),ma.Wb(29,"tbody"),ma.Wb(30,"tr"),ma.Wb(31,"th",4),ma.Pc(32," VCC Type "),ma.Vb(),ma.Wb(33,"td"),ma.Wb(34,"span"),ma.Pc(35),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(36,"tr"),ma.Wb(37,"th",4),ma.Pc(38," Hotel Mapping Code "),ma.Vb(),ma.Wb(39,"td"),ma.Wb(40,"span"),ma.Pc(41),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(42,"tr"),ma.Wb(43,"th",4),ma.Pc(44," Hotel Mapping Name "),ma.Vb(),ma.Wb(45,"td"),ma.Wb(46,"span"),ma.Pc(47),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(48,"tr"),ma.Wb(49,"th",4),ma.Pc(50," Email Address List "),ma.Vb(),ma.Wb(51,"td"),ma.Wb(52,"span"),ma.Pc(53),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb()),2&e&&(ma.Cb(11),ma.Rc(" ",null==t.vccPaymentItem?null:t.vccPaymentItem.paymentVccSeq," "),ma.Cb(6),ma.Qc(ma.jc(18,6,null==t.vccPaymentItem?null:t.vccPaymentItem.defaultVccYn)),ma.Cb(18),ma.Qc(null==t.vccPaymentItem?null:t.vccPaymentItem.vccTypeName),ma.Cb(6),ma.Qc(null==t.vccPaymentItem?null:t.vccPaymentItem.vccHotelMappingCode),ma.Cb(6),ma.Qc(null==t.vccPaymentItem?null:t.vccPaymentItem.vccHotelMappingName),ma.Cb(6),ma.Qc(null==t.vccPaymentItem?null:t.vccPaymentItem.emailSendList))},pipes:[ms.e],styles:[".table-light-gray-bordered[_ngcontent-%COMP%]{width:100%;border:1px solid #e0e0e0;font-size:13px;table-layout:fixed}.table-light-gray-bordered[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:36px}.table-light-gray-bordered[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:500;font-size:.8125rem;background:#f2f2f2}.table-light-gray-bordered[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-light-gray-bordered[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #e0e0e0;padding:5px 10px;text-align:left;vertical-align:middle;white-space:nowrap}.table-light-gray-bordered[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:400;font-size:.75rem}.table-border-none[_ngcontent-%COMP%]{width:100%;border:0;table-layout:fixed}.table-border-none[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:31px}.table-border-none[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px 0}.table-border-none[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-border-none[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:0;background:#fff;font-size:.75rem}"]}),e})();function Os(e,t){if(1&e&&(ma.Ub(0),ma.Wb(1,"tr"),ma.Wb(2,"td"),ma.Rb(3,"app-radio",8),ma.Vb(),ma.Wb(4,"td"),ma.Rb(5,"app-us-comp-detail-vendor-vcc-payment-table",9),ma.Vb(),ma.Vb(),ma.Tb()),2&e){const e=t.$implicit,i=t.index,o=ma.hc();ma.Cb(3),ma.pc("formControl",o.vccPaymentItemRadioButton)("value",i),ma.Cb(2),ma.pc("vccPaymentItem",e)}}let Vs=(()=>{class e{constructor(e,t){this._store=e,this._alertService=t,this.vccPaymentItemRadioButton=new s.g,this._unsubscribe$=new S.a}get selectedPaymentConditionItem(){return this._selectedPaymentConditionItem}set selectedPaymentConditionItem(e){e?this._selectedPaymentConditionItem=e:console.error("selected payment condition item is wrong",e)}get vccPaymentItemList(){var e;return(null===(e=this.selectedPaymentConditionItem)||void 0===e?void 0:e.vccList)||[]}ngOnInit(){this._initSubscription()}ngOnDestroy(){this._unsubscribe$.next(),this._unsubscribe$.complete()}clickNewButtonEventHandler(){this._store.dispatch(n.openCompVendorVccPaymentFormModal({item:null}))}clickDeleteButtonEventHandler(){if(!this.selectedVccPaymentItem)return void this._alertService.alert("Please select VCC payment item.");const e={paymentVccSeq:this.selectedVccPaymentItem.paymentVccSeq};this._alertService.confirm({message:"Are you sure to delete this VCC payment item?",accept:()=>{this._store.dispatch(n.deleteCompVendorPaymentConditionVcc({deleteCondition:e}))}})}clickModifyButtonEventHandler(){this.selectedVccPaymentItem?this._store.dispatch(n.openCompVendorVccPaymentFormModal({item:this.selectedVccPaymentItem})):this._alertService.alert("Please select VCC payment item.")}_initSubscription(){this.vccPaymentItemRadioButton.valueChanges.pipe(Object(k.a)(this._unsubscribe$),Object(is.a)()).subscribe(e=>{this._store.dispatch(n.selectVccPaymentItem({item:this.vccPaymentItemList[e]}))})}}return e.\u0275fac=function(t){return new(t||e)(ma.Qb(r.h),ma.Qb($a.a))},e.\u0275cmp=ma.Kb({type:e,selectors:[["app-us-comp-detail-vendor-vcc-payment-form"]],inputs:{selectedPaymentConditionItem:"selectedPaymentConditionItem",selectedVccPaymentItem:"selectedVccPaymentItem"},decls:21,vars:1,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title"],[1,"ml-auto","form-group"],[1,"btn","btn-light","sm",3,"click"],[1,"table","table-bordered"],["width","40px"],[4,"ngFor","ngForOf"],["name","vccPaymentItemRadioButton",3,"formControl","value"],[3,"vccPaymentItem"]],template:function(e,t){1&e&&(ma.Wb(0,"form"),ma.Wb(1,"div",0),ma.Wb(2,"div",1),ma.Wb(3,"p",2),ma.Pc(4,"Vendor VCC Payment"),ma.Vb(),ma.Wb(5,"div",3),ma.Wb(6,"a",4),ma.fc("click",(function(){return t.clickNewButtonEventHandler()})),ma.Pc(7,"New"),ma.Vb(),ma.Wb(8,"a",4),ma.fc("click",(function(){return t.clickModifyButtonEventHandler()})),ma.Pc(9,"Modify"),ma.Vb(),ma.Wb(10,"a",4),ma.fc("click",(function(){return t.clickDeleteButtonEventHandler()})),ma.Pc(11,"Delete"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(12,"div",5),ma.Wb(13,"table"),ma.Wb(14,"caption"),ma.Pc(15,"Vendor VCC Payment Form"),ma.Vb(),ma.Wb(16,"colgroup"),ma.Rb(17,"col",6),ma.Rb(18,"col"),ma.Vb(),ma.Wb(19,"tbody"),ma.Nc(20,Os,6,3,"ng-container",7),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb()),2&e&&(ma.Cb(20),ma.pc("ngForOf",t.vccPaymentItemList))},directives:[s.B,s.s,s.t,a.n,qa.a,s.r,s.h,vs],encapsulation:2}),e})();function Ls(e,t){if(1&e&&(ma.Ub(0),ma.Rb(1,"app-us-comp-detail-vendor-payment-condition-bank-information-table",25),ma.Tb()),2&e){const e=ma.hc(2);ma.Cb(1),ma.pc("bankInformation",e.bankInformation)}}function js(e,t){if(1&e&&(ma.Ub(0),ma.Wb(1,"tr"),ma.Wb(2,"th",4),ma.Pc(3," Bank Information "),ma.Vb(),ma.Wb(4,"td",18),ma.Rb(5,"app-selectbox",23),ma.Vb(),ma.Vb(),ma.Wb(6,"tr"),ma.Wb(7,"td",24),ma.Nc(8,Ls,2,1,"ng-container",17),ma.Vb(),ma.Vb(),ma.Tb()),2&e){const e=ma.hc();ma.Cb(5),ma.pc("options",e.compAccountList)("displayKey","label")("dataKey","bankAccountSeq")("useAllOptionName","Select")("isInvalid",e.checkIsInvalid("bankInformationSelectBoxControl")),ma.Cb(3),ma.pc("ngIf",e.bankInformation)}}let Ps=(()=>{class e{constructor(e){this._dataService=e,this.submitEvent=new ma.n,this.closeEvent=new ma.n,this._checkValid=!1,this._unsubscribe$=new S.a,this.putForm=this._dataService.generateCompVendorPaymentConditionPutFormData()}get vendorCompCode(){return this._vendorCompCode}set vendorCompCode(e){e||console.error("Payment Condition Modal didn't get vendorCompCode value from parent component",e),this._vendorCompCode=e}get compAccountList(){return this._compAccountList}set compAccountList(e){this._compAccountList=e.reduce((e,t)=>{if("P"===t.accountTypeCode){let i;i=_.isNil(t.bankAccountNo)?Object.assign(Object.assign({},t),{label:`${t.bankNo}. ${t.bankMasterName}`}):Object.assign(Object.assign({},t),{label:`${t.bankNo}. ${t.bankMasterName} - ${t.bankAccountNo}`}),e.push(i)}return e},[])}get compVendorPaymentConditionItem(){return this._modifyButtonWithCompVendorPaymentConditionItem}set compVendorPaymentConditionItem(e){this._modifyButtonWithCompVendorPaymentConditionItem=e,this.putFormData=this._setPutFormData(e)}get showBankInformation(){return"Cash"===this.putForm.get("paymentMethodCode").value}ngOnInit(){this._initSubscription()}ngOnDestroy(){this._unsubscribe$.next(),this._unsubscribe$.complete()}onSubmit(){if(this.putForm.invalid)return Object.keys(this.putForm.controls).forEach(e=>{this.putForm.controls[e].invalid&&console.error(e+" is invalid")}),void(this._checkValid=!0);const e=this._setPutCondition(this.putForm.value);this.submitEvent.emit(e)}clickCloseButtonEventHandler(){this.closeEvent.emit()}checkIsInvalid(e){return this._checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}_setPutFormData(e){const t=_.cloneDeep(e),i=Object.assign(this._dataService.initCompVendorPaymentConditionPutFormData()),o=this.vendorCompCode,n=this.hotelCode;if(_.isEmpty(t))return Object.assign(i,{vendorCompCode:o,hotelCode:n});const a=t.bankAccountSeq,s=["vccTypeCode","vccHotelMappingCode","vccHotelMappingName","vccCompCode","defaultVccYn","emailSendList"];return _.isEmpty(t.vccList)||(t.vccList=t.vccList.map(e=>Object.assign({},_.pick(e,s)))),Object.assign(i,_.pick(t,Object.keys(i)),{bankInformationSelectBoxControl:a,vendorCompCode:o,hotelCode:n})}_initSubscription(){this.putForm.get("bankInformationSelectBoxControl").valueChanges.pipe(Object(k.a)(this._unsubscribe$),Object(is.a)()).subscribe(e=>{const t=this.compAccountList.find(t=>t.bankAccountSeq===e);t?(this.bankInformation={bankName:t.bankMasterName?t.bankMasterName:"",accountNo:t.bankAccountNo?t.bankAccountNo:"",depositorName:t.bankDepositorName?t.bankDepositorName:"",branchName:t.bankBranchName?t.bankBranchName:"",swiftCode:t.bankSwiftCode?t.bankSwiftCode:""},this.putForm.get("bankAccountSeq").setValue(e)):this.bankInformation=null}),this.putForm.get("paymentMethodCode").valueChanges.pipe(Object(k.a)(this._unsubscribe$),Object(is.a)()).subscribe(e=>{"Cash"!==e&&this.putForm.get("bankInformationSelectBoxControl").setValue(null)})}_setPutCondition(e){const t=this._dataService.initCompVendorPaymentConditionPutFormData();return _.omitBy(_.omit(_.pick(e,Object.keys(t)),["bankInformationSelectBoxControl"]),_.isNil)}}return e.\u0275fac=function(t){return new(t||e)(ma.Qb(Pa))},e.\u0275cmp=ma.Kb({type:e,selectors:[["app-us-comp-detail-vendor-payment-condition-form-modal"]],inputs:{paymentMethodList:"paymentMethodList",paymentTypeList:"paymentTypeList",vendorPaymentPeriodCodeList:"vendorPaymentPeriodCodeList",hotelCode:"hotelCode",vendorCompCode:"vendorCompCode",compAccountList:"compAccountList",compVendorPaymentConditionItem:"compVendorPaymentConditionItem"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:63,vars:23,consts:[[2,"padding","20px",3,"formGroup","connectForm","ngSubmit"],[1,"page-item"],[1,"table","table-bordered"],["width","180px"],["scope","row",1,"th-bg"],[1,"input","calendar"],[3,"for"],["formControlName","appliedFromDate","type","text","placeholder","YYYY-MM-DD",3,"matDatepicker"],["appliedFrom",""],["formControlName","appliedToDate","type","text","placeholder","YYYY-MM-DD",3,"matDatepicker"],["appliedTo",""],["formControlName","paymentTypeCode","displayKey","detailCodeNameEn","dataKey","detailCode",3,"options","useAllOptionName","isInvalid"],["formControlName","paymentPeriodCode","displayKey","detailCodeNameEn","dataKey","detailCode",3,"options","useAllOptionName","isInvalid"],["formControlName","paymentMethodCode","displayKey","detailCodeNameEn","dataKey","detailCode",3,"options","useAllOptionName","isInvalid"],[1,"form-group"],["formControlName","depositUseYn","name","depositUseYn","label","Y",3,"value"],["formControlName","depositUseYn","name","depositUseYn","label","N",3,"value"],[4,"ngIf"],["colspan","3"],["formControlName","controlRemark",3,"isInvalid"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm",3,"click"],["formControlName","bankInformationSelectBoxControl",3,"options","displayKey","dataKey","useAllOptionName","isInvalid"],["colspan","4"],[3,"bankInformation"]],template:function(e,t){if(1&e&&(ma.Wb(0,"form",0),ma.fc("ngSubmit",(function(){return t.onSubmit()})),ma.Wb(1,"div",1),ma.Wb(2,"div",2),ma.Wb(3,"table"),ma.Wb(4,"caption"),ma.Pc(5,"Payment Condition Form Modal"),ma.Vb(),ma.Wb(6,"colgroup"),ma.Rb(7,"col",3),ma.Rb(8,"col"),ma.Rb(9,"col",3),ma.Rb(10,"col"),ma.Vb(),ma.Wb(11,"tbody"),ma.Wb(12,"tr"),ma.Wb(13,"th",4),ma.Wb(14,"sup"),ma.Pc(15,"Applied From"),ma.Vb(),ma.Vb(),ma.Wb(16,"td"),ma.Wb(17,"div",5),ma.Rb(18,"mat-datepicker-toggle",6),ma.Rb(19,"input",7),ma.Rb(20,"mat-datepicker",null,8),ma.Vb(),ma.Vb(),ma.Wb(22,"th",4),ma.Pc(23," Applied To "),ma.Vb(),ma.Wb(24,"td"),ma.Wb(25,"div",5),ma.Rb(26,"mat-datepicker-toggle",6),ma.Rb(27,"input",9),ma.Rb(28,"mat-datepicker",null,10),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(30,"tr"),ma.Wb(31,"th",4),ma.Wb(32,"sup"),ma.Pc(33,"Payment Type"),ma.Vb(),ma.Vb(),ma.Wb(34,"td"),ma.Rb(35,"app-selectbox",11),ma.Vb(),ma.Wb(36,"th",4),ma.Pc(37," Payment Period "),ma.Vb(),ma.Wb(38,"td"),ma.Rb(39,"app-selectbox",12),ma.Vb(),ma.Vb(),ma.Wb(40,"tr"),ma.Wb(41,"th",4),ma.Wb(42,"sup"),ma.Pc(43,"Payment Method"),ma.Vb(),ma.Vb(),ma.Wb(44,"td"),ma.Rb(45,"app-selectbox",13),ma.Vb(),ma.Wb(46,"th",4),ma.Pc(47," Deposit Use YN "),ma.Vb(),ma.Wb(48,"td"),ma.Wb(49,"div",14),ma.Rb(50,"app-radio",15),ma.Rb(51,"app-radio",16),ma.Vb(),ma.Vb(),ma.Vb(),ma.Nc(52,js,9,6,"ng-container",17),ma.Wb(53,"tr"),ma.Wb(54,"th",4),ma.Pc(55," Control Remark "),ma.Vb(),ma.Wb(56,"td",18),ma.Rb(57,"app-input-text",19),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(58,"div",20),ma.Wb(59,"button",21),ma.Pc(60,"Save"),ma.Vb(),ma.Wb(61,"button",22),ma.fc("click",(function(){return t.clickCloseButtonEventHandler()})),ma.Pc(62,"Close"),ma.Vb(),ma.Vb(),ma.Vb()),2&e){const e=ma.Ec(21),i=ma.Ec(29);ma.pc("formGroup",t.putForm)("connectForm",t.putFormData),ma.Cb(17),ma.Gb("valid-error",t.checkIsInvalid("appliedFromDate")),ma.Cb(1),ma.pc("for",e),ma.Cb(1),ma.pc("matDatepicker",e),ma.Cb(6),ma.Gb("valid-error",t.checkIsInvalid("appliedToDate")),ma.Cb(1),ma.pc("for",i),ma.Cb(1),ma.pc("matDatepicker",i),ma.Cb(8),ma.pc("options",t.paymentTypeList)("useAllOptionName","Select")("isInvalid",t.checkIsInvalid("paymentTypeCode")),ma.Cb(4),ma.pc("options",t.vendorPaymentPeriodCodeList)("useAllOptionName","Select")("isInvalid",t.checkIsInvalid("paymentPeriodCode")),ma.Cb(6),ma.pc("options",t.paymentMethodList)("useAllOptionName","Select")("isInvalid",t.checkIsInvalid("paymentMethodCode")),ma.Cb(5),ma.pc("value",!0),ma.Cb(1),ma.pc("value",!1),ma.Cb(1),ma.pc("ngIf",t.showBankInformation),ma.Cb(5),ma.pc("isInvalid",t.checkIsInvalid("controlRemark"))}},directives:[s.B,s.s,s.k,Sa.a,Ia.a,s.c,Fa.a,s.r,s.i,ka.a,Ta.a,qa.a,a.o,Wa.a,bs],encapsulation:2}),e})(),Ss=(()=>{class e{constructor(e){this._dataService=e,this.submitEvent=new ma.n,this.closeEvent=new ma.n,this.vccCompCodeInputFieldValue="",this._checkValid=!1,this._destroy$=new S.a,this.putForm=this._dataService.generateCompVendorVccPaymentConditionPutFormData()}get vccPaymentConditionItem(){return this._vccPaymentConditionItem}set vccPaymentConditionItem(e){this.putFormData=this._setPutFormData(e),this._vccPaymentConditionItem=e}get isModifyMode(){return!!this.vccPaymentConditionItem}ngOnInit(){this.paymentConditionSeq||console.error("VCC Detail Modal didn't get appliedFromDate value from parent component",this.paymentConditionSeq),this._initSubscription()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}onSubmit(){if(this.putForm.invalid)return Object.keys(this.putForm.controls).forEach(e=>{this.putForm.controls[e].invalid&&console.error(e+" is invalid")}),void(this._checkValid=!0);const e=this._setPutCondition(this.putForm.getRawValue());this.submitEvent.emit({condition:e,isModifyMode:this.isModifyMode})}clickCloseButtonEventHandler(){this.closeEvent.emit()}checkIsInvalid(e){return this._checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}_setPutFormData(e){const t=this._dataService.initCompVendorVccPaymentConditionPutFormData();return _.isEmpty(e)?(this.putForm.get("defaultVccYn").setValue("false"),this.putForm.get("defaultVccYn").disable(),t):(this.vccCompCodeInputFieldValue=e.vccCompCode,this.putForm.get("vccTypeCode").disable(),Object.assign(t,_.pick(e,Object.keys(t))))}_setPutCondition(e){const t=this._dataService.initCompVendorVccPaymentConditionPutFormData();return _.omitBy(Object.assign({},_.pick(e,Object.keys(t)),{paymentConditionSeq:this.paymentConditionSeq}),_.isNil)}_initSubscription(){this._subscribeVccTypeCode()}_subscribeVccTypeCode(){this.putForm.get("vccTypeCode").valueChanges.pipe(Object(k.a)(this._destroy$)).subscribe(e=>{if(e&&this.vccInfoByCountryList){const t=this.vccInfoByCountryList.find(t=>t.detailCode===e);this.putForm.get("vccCompCode").setValue(t.referNumber3)}else this.putForm.get("vccCompCode").setValue(null)})}}return e.\u0275fac=function(t){return new(t||e)(ma.Qb(Pa))},e.\u0275cmp=ma.Kb({type:e,selectors:[["app-us-comp-detail-vendor-vcc-payment-form-modal"]],inputs:{vccInfoByCountryList:"vccInfoByCountryList",paymentConditionSeq:"paymentConditionSeq",vccPaymentConditionItem:"vccPaymentConditionItem"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:52,vars:8,consts:[[2,"padding","20px",3,"formGroup","connectForm","ngSubmit"],[1,"page-item"],[1,"table","table-bordered","table-responsive-all"],["width","180px"],["scope","row",1,"th-bg"],["formControlName","vccTypeCode","displayWord","detailCodeName","dataKey","detailCode","useAllOptionName","Select",3,"options","isInvalid"],[1,"form-group"],["formControlName","defaultVccYn","name","defaultVccYn","label","Y",3,"value"],["formControlName","defaultVccYn","name","defaultVccYn","label","N",3,"value"],["formControlName","vccHotelMappingCode",3,"isInvalid"],["formControlName","vccHotelMappingName",3,"isInvalid"],["scope","rowgroup","rowspan","6",1,"th-bg"],["rowspan","6"],[1,"textarea"],["formControlName","emailSendList","rows","6","placeholder","e.g. test@gmail.com;test@ohmyhotel.com"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(e,t){1&e&&(ma.Wb(0,"form",0),ma.fc("ngSubmit",(function(){return t.onSubmit()})),ma.Wb(1,"div",1),ma.Wb(2,"div",2),ma.Wb(3,"table"),ma.Wb(4,"caption"),ma.Pc(5,"Payment Condition Form Modal"),ma.Vb(),ma.Wb(6,"colgroup"),ma.Rb(7,"col",3),ma.Rb(8,"col"),ma.Vb(),ma.Wb(9,"tbody"),ma.Wb(10,"tr"),ma.Wb(11,"th",4),ma.Wb(12,"sup"),ma.Pc(13,"VCC Type Name"),ma.Vb(),ma.Vb(),ma.Wb(14,"td"),ma.Rb(15,"app-selectbox-detailcode",5),ma.Vb(),ma.Vb(),ma.Wb(16,"tr"),ma.Wb(17,"th",4),ma.Wb(18,"sup"),ma.Pc(19,"Default VCC YN"),ma.Vb(),ma.Vb(),ma.Wb(20,"td"),ma.Wb(21,"div",6),ma.Rb(22,"app-radio",7),ma.Rb(23,"app-radio",8),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(24,"tr"),ma.Wb(25,"th",4),ma.Wb(26,"sup"),ma.Pc(27,"Hotel Mapping Code"),ma.Vb(),ma.Vb(),ma.Wb(28,"td"),ma.Rb(29,"app-input-text",9),ma.Vb(),ma.Vb(),ma.Wb(30,"tr"),ma.Wb(31,"th",4),ma.Wb(32,"sup"),ma.Pc(33,"Hotel Mapping Name"),ma.Vb(),ma.Vb(),ma.Wb(34,"td"),ma.Rb(35,"app-input-text",10),ma.Vb(),ma.Vb(),ma.Wb(36,"tr"),ma.Wb(37,"th",11),ma.Pc(38," Email Address List "),ma.Vb(),ma.Wb(39,"td",12),ma.Wb(40,"div",13),ma.Rb(41,"textarea",14),ma.Vb(),ma.Vb(),ma.Vb(),ma.Rb(42,"tr"),ma.Rb(43,"tr"),ma.Rb(44,"tr"),ma.Rb(45,"tr"),ma.Rb(46,"tr"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(47,"div",15),ma.Wb(48,"button",16),ma.Pc(49,"Save"),ma.Vb(),ma.Wb(50,"button",17),ma.fc("click",(function(){return t.clickCloseButtonEventHandler()})),ma.Pc(51,"Close"),ma.Vb(),ma.Vb(),ma.Vb()),2&e&&(ma.pc("formGroup",t.putForm)("connectForm",t.putFormData),ma.Cb(15),ma.pc("options",t.vccInfoByCountryList)("isInvalid",t.checkIsInvalid("vccTypeCode")),ma.Cb(7),ma.pc("value",!0),ma.Cb(1),ma.pc("value",!1),ma.Cb(6),ma.pc("isInvalid",t.checkIsInvalid("vccHotelMappingCode")),ma.Cb(6),ma.pc("isInvalid",t.checkIsInvalid("vccHotelMappingName")))},directives:[s.B,s.s,s.k,Sa.a,_a.a,s.r,s.i,qa.a,Wa.a,s.c],encapsulation:2}),e})();function Is(e,t){if(1&e&&(ma.Ub(0),ma.Wb(1,"div",1),ma.Rb(2,"app-us-comp-detail-vendor-vcc-payment-form",10),ma.ic(3,"async"),ma.ic(4,"async"),ma.Vb(),ma.Tb()),2&e){const e=ma.hc();ma.Cb(2),ma.pc("selectedPaymentConditionItem",ma.jc(3,2,e.selectedPaymentConditionItem$))("selectedVccPaymentItem",ma.jc(4,4,e.selectedVccPaymentItem$))}}function Fs(e,t){if(1&e){const e=ma.Xb();ma.Wb(0,"app-us-comp-detail-vendor-payment-condition-form-modal",11),ma.fc("submitEvent",(function(t){return ma.Fc(e),ma.hc().submitCompVendorPaymentConditionFormModal(t)}))("closeEvent",(function(){return ma.Fc(e),ma.hc().closeCompVendorPaymentConditionFormModal()})),ma.ic(1,"async"),ma.ic(2,"async"),ma.ic(3,"async"),ma.ic(4,"async"),ma.ic(5,"async"),ma.Vb()}if(2&e){const e=ma.hc();ma.pc("vendorCompCode",e.masterCompCode)("hotelCode",e.selectedHotelCode)("paymentMethodList",ma.jc(1,7,e.paymentMethodList$))("paymentTypeList",ma.jc(2,9,e.paymentTypeList$))("compVendorPaymentConditionItem",ma.jc(3,11,e.modifyButtonWithCompVendorPaymentConditionItem$))("vendorPaymentPeriodCodeList",ma.jc(4,13,e.vendorPaymentPeriodCodeList$))("compAccountList",ma.jc(5,15,e.compAccountList$))}}function ks(e,t){if(1&e){const e=ma.Xb();ma.Wb(0,"app-us-comp-detail-vendor-vcc-payment-form-modal",12),ma.fc("submitEvent",(function(t){return ma.Fc(e),ma.hc().submitCompVendorVccPaymentFormModal(t)}))("closeEvent",(function(){return ma.Fc(e),ma.hc().closeCompVendorVccPaymentFormModal()})),ma.ic(1,"async"),ma.ic(2,"async"),ma.Vb()}if(2&e){const e=ma.hc();ma.pc("paymentConditionSeq",e.selectedPaymentConditionItem.paymentConditionSeq)("vccPaymentConditionItem",ma.jc(1,3,e.compVendorModifyButtonWithVccPaymentConditionItem$))("vccInfoByCountryList",ma.jc(2,5,e.vccInfoByCountryList$))}}let Ws=(()=>{class e{constructor(e,t){this._store=e,this._alertService=t,this.closeEvent=new ma.n,this.fileSubmitEvent=new ma.n,this.fileRemoveEvent=new ma.n,this.fileCheckValid=!1,this.selectedHotelCode=null,this.unsubscribe$=new S.a}ngOnInit(){console.log(this.hotelInfo,"hotelInfo"),this.vendorPaymentPeriodCodeList$=this._store.pipe(Object(r.u)(sn)),this.paymentMethodList$=this._store.pipe(Object(r.u)(nn)),this.paymentTypeList$=this._store.pipe(Object(r.u)(on)),this.vccInfoByCountryList$=this._store.pipe(Object(r.u)(cn)),this.isOpenPaymentConditionFormModal$=this._store.pipe(Object(r.u)(Gn)),this.isOpenVccPaymentFormModal$=this._store.pipe(Object(r.u)(zn)),this.isShowCompVendorVccPaymentForm$=this._store.pipe(Object(r.u)(Kn)),this.compVendorPaymentConditionItemList$=this._store.pipe(Object(r.u)(Xn)),this.selectedPaymentConditionItem$=this._store.pipe(Object(r.u)(Jn)),this.compVendorModifyButtonWithVccPaymentConditionItem$=this._store.pipe(Object(r.u)(ea)),this.selectedVccPaymentItem$=this._store.pipe(Object(r.u)(ta)),this.modifyButtonWithCompVendorPaymentConditionItem$=this._store.pipe(Object(r.u)(Qn)),this.compAccountList$=this._store.pipe(Object(r.u)(En)),this.reloadToggleOfCompVendorPaymentCondition$=this._store.pipe(Object(r.u)(Zn)),this._initSubscription()}ngOnDestroy(){this._store.dispatch(n.hideCompVendorVccPaymentForm()),this.unsubscribe$.next(),this.unsubscribe$.complete()}mainFormSubmitEventHandler(e){this._store.dispatch(n.upsertCompVendorMainInfo({upsertCondition:e}))}fileSubmitEventHandler(e){this._store.dispatch(n.fileUpload({condition:e}))}fileRemoveEventHandler(e){this._store.dispatch(n.fileDelete({condition:e}))}submitCompVendorPaymentConditionFormModal(e){this._store.dispatch(n.upsertCompVendorPaymentCondition({upsertCondition:e}))}submitCompVendorVccPaymentFormModal({condition:e,isModifyMode:t}){this.selectedPaymentConditionItem.vccList?this.selectedPaymentConditionItem.vccList.reduce((t,i)=>i.vccTypeCode===e.vccTypeCode||t,!1)?t?this._store.dispatch(n.updateCompVendorPaymentConditionVcc({updateCondition:e})):this._alertService.confirm({message:"This VCC Type is already exist. Do you want to overwrite it?",accept:()=>this._store.dispatch(n.updateCompVendorPaymentConditionVcc({updateCondition:e})),reject:()=>{}}):this._store.dispatch(n.insertCompVendorPaymentConditionVcc({insertCondition:e})):console.error("vccList is not exist",this.selectedPaymentConditionItem.vccList)}closeCompVendorPaymentConditionFormModal(){this._store.dispatch(n.closeCompVendorPaymentConditionFormModal())}closeCompVendorVccPaymentFormModal(){this._store.dispatch(n.closeCompVendorVccPaymentFormModal())}handleHotelCodeChangeEvent(e){this.selectedHotelCode=e}_initSubscription(){this.selectedPaymentConditionItem$.pipe(Object(k.a)(this.unsubscribe$)).subscribe(e=>{this.selectedPaymentConditionItem=e}),this.vccInfoByCountryList$.pipe(Object(k.a)(this.unsubscribe$)).subscribe(e=>{this.vccInfoByCountryList=e}),this.reloadToggleOfCompVendorPaymentCondition$.pipe(Object(k.a)(this.unsubscribe$),Object(F.a)(1),Object(is.a)()).subscribe(e=>{setTimeout(()=>this._store.dispatch(n.loadCompVendorPaymentCondition({condition:{vendorCompCode:this.masterCompCode,hotelCode:this.selectedHotelCode||void 0}})),1e3)})}}return e.\u0275fac=function(t){return new(t||e)(ma.Qb(r.h),ma.Qb($a.a))},e.\u0275cmp=ma.Kb({type:e,selectors:[["app-us-comp-detail-vendor"]],inputs:{loading:"loading",masterCompCode:"masterCompCode",flightApprovalStatusList:"flightApprovalStatusList",hotelApprovalStatusList:"hotelApprovalStatusList",rentApprovalStatusList:"rentApprovalStatusList",activityApprovalStatusList:"activityApprovalStatusList",vendorPayTypeList:"vendorPayTypeList",paymentPeriodList:"paymentPeriodList",activityVendorGradeList:"activityVendorGradeList",activityGradeCommList:"activityGradeCommList",paymentTypeList:"paymentTypeList",paymentMethodList:"paymentMethodList",contractFileList:"contractFileList",compVendorInfo:"compVendorInfo",floatingDeposit:"floatingDeposit",hotelInfo:"hotelInfo"},outputs:{closeEvent:"closeEvent",fileSubmitEvent:"fileSubmitEvent",fileRemoveEvent:"fileRemoveEvent"},decls:20,vars:33,consts:[[1,"modal-body"],[1,"page-item","mb20"],[3,"hotelApprovalStatusList","masterCompCode","paymentPeriodList","vendorPayTypeList","compVendorInfo","floatingDeposit","submitEvent"],[3,"contractFileListInfo","masterCompCode","fileSubmitEvent","fileRemoveEvent"],[3,"vendorCompCode","compVendorPaymentConditionItemList","selectedPaymentConditionItem","hotelInfo","hotelCodeChangeEvent"],[4,"ngIf"],["modalSize","md","header","Payment Condition",3,"visible","modal","visibleChange"],[3,"vendorCompCode","hotelCode","paymentMethodList","paymentTypeList","compVendorPaymentConditionItem","vendorPaymentPeriodCodeList","compAccountList","submitEvent","closeEvent",4,"ngIf"],["modalSize","sm","header","VCC Detail",3,"visible","modal","visibleChange"],[3,"paymentConditionSeq","vccPaymentConditionItem","vccInfoByCountryList","submitEvent","closeEvent",4,"ngIf"],[3,"selectedPaymentConditionItem","selectedVccPaymentItem"],[3,"vendorCompCode","hotelCode","paymentMethodList","paymentTypeList","compVendorPaymentConditionItem","vendorPaymentPeriodCodeList","compAccountList","submitEvent","closeEvent"],[3,"paymentConditionSeq","vccPaymentConditionItem","vccInfoByCountryList","submitEvent","closeEvent"]],template:function(e,t){1&e&&(ma.Wb(0,"div",0),ma.Wb(1,"div",1),ma.Wb(2,"app-us-comp-detail-vendor-main-form",2),ma.fc("submitEvent",(function(e){return t.mainFormSubmitEventHandler(e)})),ma.Vb(),ma.Vb(),ma.Wb(3,"div",1),ma.Wb(4,"app-us-comp-detail-vendor-contract-files-form",3),ma.fc("fileSubmitEvent",(function(e){return t.fileSubmitEventHandler(e)}))("fileRemoveEvent",(function(e){return t.fileRemoveEventHandler(e)})),ma.Vb(),ma.Vb(),ma.Wb(5,"div",1),ma.Wb(6,"app-us-comp-detail-vendor-payment-condition",4),ma.fc("hotelCodeChangeEvent",(function(e){return t.handleHotelCodeChangeEvent(e)})),ma.ic(7,"async"),ma.ic(8,"async"),ma.Vb(),ma.Vb(),ma.Nc(9,Is,5,6,"ng-container",5),ma.ic(10,"async"),ma.Wb(11,"div"),ma.Wb(12,"app-dialog",6),ma.fc("visibleChange",(function(){return t.closeCompVendorPaymentConditionFormModal()})),ma.ic(13,"async"),ma.Nc(14,Fs,6,17,"app-us-comp-detail-vendor-payment-condition-form-modal",7),ma.ic(15,"async"),ma.Vb(),ma.Wb(16,"app-dialog",8),ma.fc("visibleChange",(function(){return t.closeCompVendorVccPaymentFormModal()})),ma.ic(17,"async"),ma.Nc(18,ks,3,7,"app-us-comp-detail-vendor-vcc-payment-form-modal",9),ma.ic(19,"async"),ma.Vb(),ma.Vb(),ma.Vb()),2&e&&(ma.Cb(2),ma.pc("hotelApprovalStatusList",t.hotelApprovalStatusList)("masterCompCode",t.masterCompCode)("paymentPeriodList",t.paymentPeriodList)("vendorPayTypeList",t.vendorPayTypeList)("compVendorInfo",t.compVendorInfo)("floatingDeposit",t.floatingDeposit),ma.Cb(2),ma.pc("contractFileListInfo",t.contractFileList)("masterCompCode",t.masterCompCode),ma.Cb(2),ma.pc("vendorCompCode",t.masterCompCode)("compVendorPaymentConditionItemList",ma.jc(7,19,t.compVendorPaymentConditionItemList$))("selectedPaymentConditionItem",ma.jc(8,21,t.selectedPaymentConditionItem$))("hotelInfo",t.hotelInfo),ma.Cb(3),ma.pc("ngIf",ma.jc(10,23,t.isShowCompVendorVccPaymentForm$)),ma.Cb(3),ma.pc("visible",ma.jc(13,25,t.isOpenPaymentConditionFormModal$))("modal",!0),ma.Cb(2),ma.pc("ngIf",ma.jc(15,27,t.isOpenPaymentConditionFormModal$)),ma.Cb(2),ma.pc("visible",ma.jc(17,29,t.isOpenVccPaymentFormModal$))("modal",!0),ma.Cb(2),ma.pc("ngIf",ma.jc(19,31,t.isOpenVccPaymentFormModal$)))},directives:[rs,us,gs,a.o,os.a,Vs,Ps,Ss],pipes:[a.b],encapsulation:2}),e})();function Ts(e,t){if(1&e){const e=ma.Xb();ma.Wb(0,"tr"),ma.Wb(1,"td",17),ma.Wb(2,"label",18),ma.Wb(3,"input",19),ma.fc("change",(function(){ma.Fc(e);const i=t.$implicit;return ma.hc().hotelClick(i)})),ma.Vb(),ma.Rb(4,"span",20),ma.Vb(),ma.Vb(),ma.Wb(5,"td",17),ma.Pc(6),ma.Vb(),ma.Wb(7,"td",17),ma.Pc(8),ma.Vb(),ma.Vb()}if(2&e){const e=t.$implicit,i=ma.hc();ma.Cb(3),ma.pc("checked",e.hotelCode===(null==i.selectedHotel?null:i.selectedHotel.hotelCode)),ma.Cb(3),ma.Qc(e.hotelCode),ma.Cb(2),ma.Qc(e.hotelNameEn)}}const _s=function(){return["hotelCode","hotelNameEn","hotelNameEn"]};let Ds=(()=>{class e{constructor(e,t){this.dataService=e,this.store=t,this.selectHotelEvent=new ma.n,this.upsertForm=this.dataService.generateHotelMappingToVendorPutForm()}get hotelMappingList(){return this._hotelMappingList}set hotelMappingList(e){this.upsertForm.get("hotelCode").reset(),e?(this._hotelMappingList=e,this._initThisState()):this._hotelMappingList=[]}ngOnInit(){this._initThisState()}onSubmit(){if(this.upsertForm.invalid)return void(this._checkValid=!0);const e=this._setPutCondition();this.store.dispatch(n.upsertHotelMappingToVendor({upsertCondition:e,loadCondition:{vendorCompCode:this.masterCompCode}})),this._checkValid=!1}hotelClick(e){this.store.dispatch(n.clearVendorContractList()),this.selectedHotel=e,this.selectHotelEvent.emit(e),this._loadHotelChildPolicy(e),this._loadHotelContract(e)}mapHotelToVendor(){if(this.upsertForm.invalid)return void(this._checkValid=!0);let e=this.upsertForm.value;e=Object.assign(Object.assign({},e),{vendorCompCode:this.masterCompCode}),this.store.dispatch(n.upsertHotelMappingToVendor({upsertCondition:{insertItems:[e]},loadCondition:{vendorCompCode:this.masterCompCode}}))}onMapDelete(){this.store.dispatch(n.deleteMappingList({deleteCondition:{deleteItems:[{hotelCode:this.selectedHotel.hotelCode,vendorCompCode:this.selectedHotel.vendorCompCode}]},loadCondition:{vendorCompCode:this.masterCompCode}})),this.selectedHotel=null,this.selectHotelEvent.emit(null)}checkIsInvalid(e){return this._checkValid&&this.upsertForm.get(e)&&this.upsertForm.get(e).invalid}checkDateCompareInvalid(){var e;return this._checkValid&&!0===(null===(e=this.upsertForm.errors)||void 0===e?void 0:e.contractDateValidator)}checkOneOfRequiredInvalid(){var e;return this._checkValid&&!0===(null===(e=this.upsertForm.errors)||void 0===e?void 0:e.oneOfRequiredInvalid)}_setPutCondition(){return this.upsertForm.value}_initThisState(){this._checkValid=!1}_loadHotelChildPolicy(e){this.store.dispatch(n.loadChildPolicy({condition:{vendorCompCode:e.vendorCompCode,hotelCode:e.hotelCode}}))}_loadHotelContract(e){this.store.dispatch(n.loadVendorContractList({condition:{vendorCompCode:e.vendorCompCode,hotelCode:e.hotelCode,ownerCompCode:11e4}}))}}return e.\u0275fac=function(t){return new(t||e)(ma.Qb(Pa),ma.Qb(r.h))},e.\u0275cmp=ma.Kb({type:e,selectors:[["app-us-comp-detail-affiliate-hotel-mapping-form"]],inputs:{masterCompCode:"masterCompCode",hotelContractTypeCodeList:"hotelContractTypeCodeList",hotelMappingList:"hotelMappingList"},outputs:{selectHotelEvent:"selectHotelEvent"},decls:38,vars:7,consts:[[3,"formGroup","connectForm"],[1,"list-header-option","mb10"],[1,"title"],[1,"font-size-lg","font-weight-bold"],[1,"d-flex","aling-items-center"],[1,"color-dark-color4"],[1,"control"],[1,"form-group"],[1,"input","search"],["formControlName","hotelCode","apiUrl","common/hotel/list","inputFieldFormat","{0} - &{1}, &{2}","placeholder","Name","dataKey","hotelCode",3,"apiSearchTerm","inputFieldFormatKeyList","isInvalid"],["type","button",1,"btn","btn-secondary","sm","ml10",3,"click"],["type","button",1,"btn","btn-light","sm","ml10",3,"click"],[1,"table","table-bordered","table-responsive-all",2,"max-height","250px"],["width","3%"],["width","20%"],["scope","col",1,"align-c"],[4,"ngFor","ngForOf"],[1,"align-c"],[1,"radio","only"],["name","hotelItem","type","radio",1,"radio-control-input",3,"checked","change"],[1,"radio-control-text"]],template:function(e,t){1&e&&(ma.Wb(0,"form",0),ma.Wb(1,"div",1),ma.Wb(2,"div",2),ma.Wb(3,"p"),ma.Wb(4,"sup",3),ma.Pc(5,"Hotel Mapping"),ma.Vb(),ma.Vb(),ma.Wb(6,"p",4),ma.Wb(7,"span",5),ma.Pc(8,"The added hotel will be mapped in this vendor"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(9,"div",6),ma.Wb(10,"div",7),ma.Wb(11,"div",8),ma.Rb(12,"app-auto-complete",9),ma.Vb(),ma.Wb(13,"button",10),ma.fc("click",(function(){return t.mapHotelToVendor()})),ma.Pc(14,"Save"),ma.Vb(),ma.Wb(15,"button",11),ma.fc("click",(function(){return t.onMapDelete()})),ma.Pc(16,"Delete"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(17,"div",12),ma.Wb(18,"table"),ma.Wb(19,"caption"),ma.Pc(20,"Hotel Mapping Detail"),ma.Vb(),ma.Wb(21,"colgroup"),ma.Rb(22,"col",13),ma.Rb(23,"col",14),ma.Rb(24,"col"),ma.Rb(25,"col"),ma.Rb(26,"col"),ma.Rb(27,"col"),ma.Rb(28,"col"),ma.Vb(),ma.Wb(29,"thead"),ma.Wb(30,"tr"),ma.Rb(31,"th",15),ma.Wb(32,"th",15),ma.Pc(33,"Hotel Code"),ma.Vb(),ma.Wb(34,"th",15),ma.Pc(35,"Hotel Name"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(36,"tbody"),ma.Nc(37,Ts,9,3,"tr",16),ma.Vb(),ma.Vb(),ma.Vb()),2&e&&(ma.pc("formGroup",t.upsertForm)("connectForm",t.upsertFormData),ma.Cb(12),ma.pc("apiSearchTerm","keyword")("inputFieldFormatKeyList",ma.tc(6,_s))("isInvalid",t.checkIsInvalid("hotelCode")),ma.Cb(25),ma.pc("ngForOf",t.hotelMappingList))},directives:[s.B,s.s,s.k,Sa.a,ha.a,s.r,s.i,a.n],encapsulation:2}),e})(),Ns=(()=>{class e{constructor(e,t){this.dataService=e,this.store=t,this.ageList=Array.from({length:18},(e,t)=>({value:t+1})),this._checkValid=!1,this._$unsubscribe=new S.a,this.freeStayForm=this.dataService.generatStayPutForm(),this.freeBreakfastForm=this.dataService.generateBreakfastPutForm()}get selectedHotel(){return this._selectedHotel}set selectedHotel(e){this._selectedHotel=e,this.freeStayForm.reset(),this.freeBreakfastForm.reset()}get childPolicy(){return this._childPolicy}set childPolicy(e){this._childPolicy=e,e&&this._childPolicyForm(e)}ngOnInit(){this._initSubscription()}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete()}policySubmit(){if(!this.selectedHotel)return;if(this.freeStayForm.invalid||this.freeBreakfastForm.invalid)return void(this._checkValid=!0);let e={vendorCompCode:this.selectedHotel.vendorCompCode,hotelCode:this.selectedHotel.hotelCode,freeStay:null,freeBreakfast:null};const t=this.freeStayForm.value,i=this.freeBreakfastForm.value;t.useYn?e.freeStay=_.omit(t,["useYn"]):e=_.omit(e,["freeStay"]),i.useYn?e.freeBreakfast=_.omit(i,["useYn"]):e=_.omit(e,["freeBreakfast"]),this.store.dispatch(n.submitChildPolicy({condition:e}))}checkStayInvalid(e){return this._checkValid&&this.freeStayForm.get(e)&&this.freeStayForm.get(e).invalid}checkBreakFastInvalid(e){return this._checkValid&&this.freeBreakfastForm.get(e)&&this.freeBreakfastForm.get(e).invalid}_initSubscription(){this.freeStayForm.get("useYn").valueChanges.pipe(Object(k.a)(this._$unsubscribe)).subscribe(e=>{e?(this.freeStayForm.get("fromAge").enable(),this.freeStayForm.get("toAge").enable()):(this.freeStayForm.get("fromAge").disable(),this.freeStayForm.get("toAge").disable(),this.freeStayForm.get("fromAge").setValue(null),this.freeStayForm.get("toAge").setValue(null))}),this.freeBreakfastForm.get("useYn").valueChanges.pipe(Object(k.a)(this._$unsubscribe)).subscribe(e=>{e?(this.freeBreakfastForm.get("fromAge").enable(),this.freeBreakfastForm.get("toAge").enable()):(this.freeBreakfastForm.get("fromAge").disable(),this.freeBreakfastForm.get("toAge").disable(),this.freeBreakfastForm.get("fromAge").setValue(null),this.freeBreakfastForm.get("toAge").setValue(null))})}_childPolicyForm(e){e.freeStay?(this.freeStayForm.get("fromAge").setValue(e.freeStay.fromAge),this.freeStayForm.get("toAge").setValue(e.freeStay.toAge),this.freeStayForm.get("useYn").setValue(!0)):this.freeStayForm.get("useYn").setValue(!1),e.freeBreakfast?(this.freeBreakfastForm.get("fromAge").setValue(e.freeBreakfast.fromAge),this.freeBreakfastForm.get("toAge").setValue(e.freeBreakfast.toAge),this.freeBreakfastForm.get("useYn").setValue(!0)):this.freeBreakfastForm.get("useYn").setValue(!1)}}return e.\u0275fac=function(t){return new(t||e)(ma.Qb(Pa),ma.Qb(r.h))},e.\u0275cmp=ma.Kb({type:e,selectors:[["app-us-comp-detail-affiliate-child-policy-form"]],inputs:{selectedHotel:"selectedHotel",childPolicy:"childPolicy"},decls:40,vars:18,consts:[[1,"list-header-option","mb10"],[1,"title"],[1,"font-size-lg","font-weight-bold"],[1,"color-dark-color4"],[1,"control"],["type","button",1,"btn","btn-secondary","sm","ml10",3,"click"],[1,"pd20",2,"padding","20px 0px 20px 0px"],[1,"form-group","flex-both",3,"formGroup"],["for","",1,"mr10"],[1,"form-group"],["formControlName","useYn","name","freeStayYn","label","Y",3,"value"],["formControlName","useYn","name","freeStayYn","label","N",3,"value"],["for","",1,"ml40","mr10"],[1,"select-box"],["formControlName","fromAge","useAllOptionName","Select","displayKey","value",1,"flex-fill",3,"options","isInvalid"],["for","",1,"ml10","mr10"],["formControlName","toAge","useAllOptionName","Select","displayKey","value",1,"flex-fill",3,"options","isInvalid"],[1,"form-group","flex-both","mt10",3,"formGroup"],["formControlName","useYn","name","freeBreakfastYn","label","Y",3,"value"],["formControlName","useYn","name","freeBreakfastYn","label","N",3,"value"]],template:function(e,t){1&e&&(ma.Wb(0,"div",0),ma.Wb(1,"div",1),ma.Wb(2,"p"),ma.Wb(3,"sup",2),ma.Pc(4,"Child Policy"),ma.Vb(),ma.Vb(),ma.Wb(5,"p"),ma.Wb(6,"span",3),ma.Pc(7,"This is a children's policy for each Hotel, Please select a hotel of the above hotel list first."),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(8,"div",4),ma.Wb(9,"button",5),ma.fc("click",(function(){return t.policySubmit()})),ma.Pc(10,"Save"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(11,"div",6),ma.Wb(12,"div",7),ma.Wb(13,"label",8),ma.Pc(14,"Free Stay"),ma.Vb(),ma.Wb(15,"div",9),ma.Rb(16,"app-radio",10),ma.Rb(17,"app-radio",11),ma.Vb(),ma.Wb(18,"label",12),ma.Pc(19,"Age From"),ma.Vb(),ma.Wb(20,"div",13),ma.Rb(21,"app-selectbox",14),ma.Vb(),ma.Wb(22,"label",15),ma.Pc(23,"To"),ma.Vb(),ma.Wb(24,"div",13),ma.Rb(25,"app-selectbox",16),ma.Vb(),ma.Vb(),ma.Wb(26,"div",17),ma.Wb(27,"label",8),ma.Pc(28,"Free Breakfast"),ma.Vb(),ma.Wb(29,"div",9),ma.Rb(30,"app-radio",18),ma.Rb(31,"app-radio",19),ma.Vb(),ma.Wb(32,"label",12),ma.Pc(33,"Age From"),ma.Vb(),ma.Wb(34,"div",13),ma.Rb(35,"app-selectbox",14),ma.Vb(),ma.Wb(36,"label",15),ma.Pc(37,"To"),ma.Vb(),ma.Wb(38,"div",13),ma.Rb(39,"app-selectbox",16),ma.Vb(),ma.Vb(),ma.Vb()),2&e&&(ma.Cb(12),ma.pc("formGroup",t.freeStayForm),ma.Cb(3),ma.Gb("valid-error",t.checkStayInvalid("useYn")),ma.Cb(1),ma.pc("value",!0),ma.Cb(1),ma.pc("value",!1),ma.Cb(4),ma.pc("options",t.ageList)("isInvalid",t.checkStayInvalid("fromAge")),ma.Cb(4),ma.pc("options",t.ageList)("isInvalid",t.checkStayInvalid("toAge")),ma.Cb(1),ma.pc("formGroup",t.freeBreakfastForm),ma.Cb(3),ma.Gb("valid-error",t.checkBreakFastInvalid("useYn")),ma.Cb(1),ma.pc("value",!0),ma.Cb(1),ma.pc("value",!1),ma.Cb(4),ma.pc("options",t.ageList)("isInvalid",t.checkBreakFastInvalid("fromAge")),ma.Cb(4),ma.pc("options",t.ageList)("isInvalid",t.checkBreakFastInvalid("toAge")))},directives:[s.s,s.k,qa.a,s.r,s.i,Ta.a],encapsulation:2}),e})();var Ms=i("2Vo4"),xs=i("xfNr");function Rs(e,t){if(1&e&&(ma.Ub(0),ma.Pc(1),ma.Tb()),2&e){const e=ma.hc().$implicit;ma.Cb(1),ma.Sc("",e.hotelContractSeq,":",e.hotelContractNo,"")}}function As(e,t){if(1&e){const e=ma.Xb();ma.Wb(0,"li",16),ma.ic(1,"async"),ma.Wb(2,"a",17),ma.fc("click",(function(){ma.Fc(e);const i=t.$implicit,o=t.index;return ma.hc(2).tabClick(i,o)})),ma.Pc(3),ma.Nc(4,Rs,2,2,"ng-container",11),ma.Vb(),ma.Vb()}if(2&e){const e=t.$implicit,i=ma.hc(2);ma.Gb("hide",e.contractStatusCode!==i._CONTRACT_STATUS_CODE.ACTIVE&&ma.jc(1,6,i.isShowOnlyActiveContract$)&&e.hotelContractSeq),ma.Cb(2),ma.Gb("active",e.checked),ma.Cb(1),ma.Rc(" ",e.hotelContractTypeName," "),ma.Cb(1),ma.pc("ngIf",e.hotelContractSeq)}}function Es(e,t){1&e&&(ma.Ub(0),ma.Wb(1,"sup"),ma.Pc(2,"Use Allot Contract SEQ"),ma.Vb(),ma.Tb())}function $s(e,t){1&e&&ma.Pc(0," Use Allot Contract SEQ ")}const Us=function(){return["CMP07","CMP08"]},ws=function(e){return{compTypeCodes:e}},Ys=function(){return["compName","compCode"]};function Bs(e,t){if(1&e){const e=ma.Xb();ma.Wb(0,"div",18),ma.ic(1,"async"),ma.Wb(2,"div",19),ma.Wb(3,"div",20),ma.Wb(4,"table"),ma.Wb(5,"caption"),ma.Pc(6,"Hotel Detail"),ma.Vb(),ma.Wb(7,"colgroup"),ma.Rb(8,"col",21),ma.Rb(9,"col"),ma.Rb(10,"col",21),ma.Rb(11,"col"),ma.Vb(),ma.Wb(12,"tbody"),ma.Wb(13,"tr"),ma.Wb(14,"th",22),ma.Wb(15,"sup"),ma.Pc(16,"Contract Status"),ma.Vb(),ma.Vb(),ma.Wb(17,"td"),ma.Wb(18,"div",8),ma.Wb(19,"app-selectbox",23),ma.fc("onChange",(function(t){return ma.Fc(e),ma.hc(2).onContractStatusChange(t)})),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(20,"th",22),ma.Pc(21,"CMS/PMS Mapping Status"),ma.Vb(),ma.Wb(22,"td"),ma.Wb(23,"div",8),ma.Rb(24,"app-selectbox",24),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(25,"tr"),ma.Wb(26,"th",22),ma.Nc(27,Es,3,0,"ng-container",25),ma.Nc(28,$s,1,0,"ng-template",null,26,ma.Oc),ma.Vb(),ma.Wb(30,"td"),ma.Wb(31,"div",8),ma.Rb(32,"app-selectbox",27),ma.Vb(),ma.Vb(),ma.Wb(33,"th",22),ma.Wb(34,"sup"),ma.Pc(35,"Currency"),ma.Vb(),ma.Vb(),ma.Wb(36,"td"),ma.Wb(37,"div",8),ma.Rb(38,"app-selectbox",28),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(39,"tr"),ma.Wb(40,"th",22),ma.Wb(41,"sup"),ma.Pc(42,"Local Rate YN"),ma.Vb(),ma.Vb(),ma.Wb(43,"td"),ma.Wb(44,"div",7),ma.Wb(45,"app-radio",29),ma.fc("onClick",(function(){ma.Fc(e);const i=t.index;return ma.hc(2).onLocalClick(!0,i)})),ma.Vb(),ma.Wb(46,"app-radio",30),ma.fc("onClick",(function(){ma.Fc(e);const i=t.index;return ma.hc(2).onLocalClick(!1,i)})),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(47,"th",22),ma.Pc(48,"Rate CMS/PMS"),ma.Vb(),ma.Wb(49,"td"),ma.Rb(50,"app-auto-complete",31),ma.Vb(),ma.Vb(),ma.Wb(51,"tr"),ma.Wb(52,"th",22),ma.Wb(53,"sup"),ma.Pc(54,"Local Allotment YN"),ma.Vb(),ma.Vb(),ma.Wb(55,"td"),ma.Wb(56,"div",7),ma.Wb(57,"app-radio",32),ma.fc("onClick",(function(){ma.Fc(e);const i=t.index;return ma.hc(2).onAllotmentClick(!0,i)})),ma.Vb(),ma.Wb(58,"app-radio",33),ma.fc("onClick",(function(){ma.Fc(e);const i=t.index;return ma.hc(2).onAllotmentClick(!1,i)})),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(59,"th",22),ma.Pc(60,"Allotment CMS/PMS"),ma.Vb(),ma.Wb(61,"td"),ma.Rb(62,"app-auto-complete",34),ma.Vb(),ma.Vb(),ma.Wb(63,"tr"),ma.Wb(64,"th",22),ma.Wb(65,"sup"),ma.Pc(66,"Net Provide YN"),ma.Vb(),ma.Vb(),ma.Wb(67,"td"),ma.Wb(68,"div",7),ma.Rb(69,"app-radio",35),ma.Rb(70,"app-radio",36),ma.Wb(71,"span",37),ma.Pc(72,"/"),ma.Vb(),ma.Wb(73,"span",38),ma.Pc(74,"V.Comm Rate"),ma.Vb(),ma.Rb(75,"app-input-text",39),ma.Wb(76,"span"),ma.Pc(77,"%"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(78,"th",22),ma.Pc(79,"Notify CMS/PMS"),ma.Vb(),ma.Wb(80,"td"),ma.Rb(81,"app-auto-complete",40),ma.Vb(),ma.Vb(),ma.Wb(82,"tr"),ma.Wb(83,"th",22),ma.Wb(84,"sup"),ma.Pc(85,"Vendor Add Comm YN"),ma.Vb(),ma.Vb(),ma.Wb(86,"td"),ma.Wb(87,"div",7),ma.Rb(88,"app-radio",41),ma.Rb(89,"app-radio",42),ma.Vb(),ma.Vb(),ma.Wb(90,"th",22),ma.Pc(91,"CMS/PMS Hotel Code"),ma.Vb(),ma.Wb(92,"td"),ma.Rb(93,"app-input-text",43),ma.Vb(),ma.Vb(),ma.Wb(94,"tr"),ma.Wb(95,"th",22),ma.Wb(96,"sup"),ma.Pc(97,"Extra Tax Payment YN"),ma.Vb(),ma.Vb(),ma.Wb(98,"td"),ma.Wb(99,"div",7),ma.Rb(100,"app-radio",44),ma.Rb(101,"app-radio",45),ma.Vb(),ma.Vb(),ma.Wb(102,"th",46),ma.Pc(103," CMS/PMS Hotel Password "),ma.Vb(),ma.Wb(104,"td",47),ma.Wb(105,"button",48),ma.fc("click",(function(){ma.Fc(e);const i=t.index;return ma.hc(2).makeRandomPassword(i)})),ma.Pc(106," Password Setting "),ma.Vb(),ma.Wb(107,"span",49),ma.Pc(108,"*This button is available for only NEPPAN"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(109,"tr"),ma.Wb(110,"th",22),ma.Wb(111,"sup"),ma.Pc(112,"Notify Rate Type"),ma.Vb(),ma.Vb(),ma.Wb(113,"td"),ma.Rb(114,"app-selectbox",50),ma.Vb(),ma.Wb(115,"td"),ma.Rb(116,"app-input-text",51),ma.Vb(),ma.Vb(),ma.Wb(117,"tr"),ma.Wb(118,"th",22),ma.Wb(119,"sup"),ma.Pc(120,"Auto Refill YN"),ma.Vb(),ma.Vb(),ma.Wb(121,"td"),ma.Wb(122,"div",7),ma.Rb(123,"app-radio",52),ma.Rb(124,"app-radio",53),ma.Vb(),ma.Vb(),ma.Wb(125,"th",22),ma.Wb(126,"sup"),ma.Pc(127,"CMS CTD/CTA Use YN"),ma.Vb(),ma.Vb(),ma.Wb(128,"td"),ma.Wb(129,"div",7),ma.Rb(130,"app-radio",54),ma.Rb(131,"app-radio",55),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(132,"tr"),ma.Wb(133,"th",22),ma.Wb(134,"sup"),ma.Pc(135,"Request YN"),ma.Vb(),ma.Vb(),ma.Wb(136,"td"),ma.Wb(137,"div",7),ma.Rb(138,"app-radio",56),ma.Rb(139,"app-radio",57),ma.Vb(),ma.Vb(),ma.Wb(140,"th",22),ma.Wb(141,"sup"),ma.Pc(142,"CMS Child Policy Use YN"),ma.Vb(),ma.Vb(),ma.Wb(143,"td"),ma.Wb(144,"div",7),ma.Rb(145,"app-radio",58),ma.Rb(146,"app-radio",59),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(147,"tr"),ma.Wb(148,"th",46),ma.Pc(149," Booking Send & Notify "),ma.Vb(),ma.Wb(150,"td",60),ma.Wb(151,"div",7),ma.Wb(152,"label",61),ma.Rb(153,"input",62),ma.Wb(154,"span",63),ma.Pc(155,"Fax"),ma.Vb(),ma.Vb(),ma.Rb(156,"app-selectbox",64),ma.Rb(157,"app-input-text",65),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(158,"tr"),ma.Wb(159,"td",60),ma.Wb(160,"div",7),ma.Wb(161,"label",61),ma.Rb(162,"input",66),ma.Wb(163,"span",63),ma.Pc(164,"Email"),ma.Vb(),ma.Vb(),ma.Rb(165,"app-input-text",67),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(166,"tr"),ma.Wb(167,"th",22),ma.Pc(168," Vendor Remark "),ma.Vb(),ma.Wb(169,"td",60),ma.Wb(170,"div",68),ma.Rb(171,"textarea",69),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(172,"div",70),ma.Wb(173,"a",71),ma.fc("click",(function(){ma.Fc(e);const i=t.index;return ma.hc(2).contractSubmit(i)})),ma.Pc(174,"Save"),ma.Vb(),ma.Wb(175,"a",72),ma.fc("click",(function(){return ma.Fc(e),ma.hc(2).contractDelete()})),ma.Pc(176,"Cancel"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb()}if(2&e){const e=t.$implicit,i=t.index,o=ma.Ec(29),n=ma.hc(2);ma.Gb("hide",e.value.contractStatusCode!==n._CONTRACT_STATUS_CODE.ACTIVE&&ma.jc(1,95,n.isShowOnlyActiveContract$)&&e.value.hotelContractSeq),ma.pc("formGroupName",i),ma.Cb(2),ma.Gb("active",e.value.checked),ma.Cb(17),ma.pc("options",n.contractStatusCodeList)("isInvalid",n.checkInvalid("contractStatusCode",i)),ma.Cb(5),ma.pc("options",n.mappingStatusCodeList)("isInvalid",n.checkInvalid("cmsPmsMappingStatusCode",i)),ma.Cb(3),ma.pc("ngIf",n.useAllotContractSeqOptionList&&n.useAllotContractSeqOptionList.length)("ngIfElse",o),ma.Cb(5),ma.pc("options",n.useAllotContractSeqOptionList)("isInvalid",n.checkInvalid("useAllotmentContractSeq",i)),ma.Cb(6),ma.pc("options",n.currencyList)("isInvalid",n.checkInvalid("currencyCode",i)),ma.Cb(6),ma.Gb("valid-error",n.checkInvalid("localPriceYn",i)),ma.Cb(1),ma.rc("name","localPriceYn",i,""),ma.pc("value",!0),ma.Cb(1),ma.rc("name","localPriceYn",i,""),ma.pc("value",!1),ma.Cb(4),ma.pc("inputFieldValue",e.value.priceCmsPmsCompCode?(e.value.priceCmsPmsCompName?e.value.priceCmsPmsCompName+"-":"")+e.value.priceCmsPmsCompCode:null)("apiCondition",ma.uc(98,ws,ma.tc(97,Us)))("apiSearchTerm","compName")("inputFieldFormatKeyList",ma.tc(100,Ys))("isInvalid",n.checkInvalid("priceCmsPmsCompCode",i)),ma.Cb(6),ma.Gb("valid-error",n.checkInvalid("localAllotmentYn",i)),ma.Cb(1),ma.rc("name","localAllotmentYn",i,""),ma.pc("value",!0),ma.Cb(1),ma.rc("name","localAllotmentYn",i,""),ma.pc("value",!1),ma.Cb(4),ma.pc("inputFieldValue",e.value.allotmentCmsPmsCompCode?(e.value.allotmentCmsPmsCompName?e.value.allotmentCmsPmsCompName+"-":"")+e.value.allotmentCmsPmsCompCode:null)("apiCondition",ma.uc(102,ws,ma.tc(101,Us)))("apiSearchTerm","compName")("inputFieldFormatKeyList",ma.tc(104,Ys))("isInvalid",n.checkInvalid("allotmentCmsPmsCompCode",i)),ma.Cb(6),ma.Gb("valid-error",n.checkInvalid("netProvideYn",i)),ma.Cb(1),ma.rc("name","netProvideYn",i,""),ma.pc("value",!0),ma.Cb(1),ma.rc("name","netProvideYn",i,""),ma.pc("value",!1),ma.Cb(11),ma.pc("inputFieldValue",e.value.sendCmsPmsCompCode?(e.value.sendCmsPmsCompName?e.value.sendCmsPmsCompName+"-":"")+e.value.sendCmsPmsCompCode:null)("apiCondition",ma.uc(106,ws,ma.tc(105,Us)))("apiSearchTerm","compName")("inputFieldFormatKeyList",ma.tc(108,Ys))("isInvalid",n.checkInvalid("sendCmsPmsCompCode",i)),ma.Cb(6),ma.Gb("valid-error",n.checkInvalid("vendorAddCommYn",i)),ma.Cb(1),ma.rc("name","vendorAddCommYn",i,""),ma.pc("value",!0),ma.Cb(1),ma.rc("name","vendorAddCommYn",i,""),ma.pc("value",!1),ma.Cb(4),ma.pc("isInvalid",n.checkInvalid("cmsPmsHotelCode",i)),ma.Cb(6),ma.Gb("valid-error",n.checkInvalid("extraTaxPaymentYn",i)),ma.Cb(1),ma.rc("name","extraTaxPaymentYn",i,""),ma.pc("value",!0),ma.Cb(1),ma.rc("name","extraTaxPaymentYn",i,""),ma.pc("value",!1),ma.Cb(4),ma.pc("disabled",n.isPasswordSettingButtonDisabled(i)),ma.Cb(9),ma.pc("options",n.rateTypeList)("useAllOptionName","Select")("isInvalid",n.checkInvalid("sendAmountTypeCode",i)),ma.Cb(2),ma.pc("isInvalid",n.checkInvalid("cmsPmsPassword",i)),ma.Cb(6),ma.Gb("valid-error",n.checkInvalid("autoRefillYn",i)),ma.Cb(1),ma.rc("name","autoRefillYn",i,""),ma.pc("value",!0),ma.Cb(1),ma.rc("name","autoRefillYn",i,""),ma.pc("value",!1),ma.Cb(5),ma.Gb("valid-error",n.checkInvalid("cmsCtaCtdUseYn",i)),ma.Cb(1),ma.rc("name","cmsCtaCtdUseYn",i,""),ma.pc("value",!0),ma.Cb(1),ma.rc("name","cmsCtaCtdUseYn",i,""),ma.pc("value",!1),ma.Cb(6),ma.Gb("valid-error",n.checkInvalid("requestAbleYn",i)),ma.Cb(1),ma.rc("name","requestAbleYn",i,""),ma.pc("value",!0),ma.Cb(1),ma.rc("name","requestAbleYn",i,""),ma.pc("value",!1),ma.Cb(5),ma.Gb("valid-error",n.checkInvalid("cmsChildPolicyUseYn",i)),ma.Cb(1),ma.rc("name","cmsChildPolicyUseYn",i,""),ma.pc("value",!0),ma.Cb(1),ma.rc("name","cmsChildPolicyUseYn",i,""),ma.pc("value",!1),ma.Cb(10),ma.pc("options",n.countryPhoneList)("isInvalid",n.checkInvalid("countryPhoneCode",i)),ma.Cb(9),ma.pc("isInvalid",n.checkInvalid("emailAddressList",i)),ma.Cb(5),ma.Gb("valid-error",n.checkInvalid("vendorRemark",i))}}function Hs(e,t){if(1&e&&(ma.Ub(0),ma.Ub(1,12),ma.Wb(2,"ul",13),ma.Nc(3,As,5,8,"li",14),ma.Vb(),ma.Nc(4,Bs,177,109,"div",15),ma.Tb(),ma.Tb()),2&e){const e=ma.hc();ma.Cb(3),ma.pc("ngForOf",e.contractArray.value),ma.Cb(1),ma.pc("ngForOf",e.contractArray.controls)}}let qs=(()=>{class e{constructor(e,t,i,o){this.dataService=e,this.store=t,this.alertService=i,this.commonUtilService=o,this.contractValid=!1,this.contractFlag=!1,this.isShowOnlyActiveContract$=new Ms.a(!0),this._CONTRACT_STATUS_CODE=pa,this._CMS_COMP_CODE=ua,this._tabDestroy$=new S.a,this.contractForm=this.dataService.generateContractPutForm()}get selectedHotel(){return this._selectedHotel}set selectedHotel(e){this._selectedHotel=e,this.contractFlag=!1,this.contractForm.reset()}get vendorContractList(){return this._vendorContractList}set vendorContractList(e){if(this.contractForm.reset(),e){const t=_.cloneDeep(e);this._vendorContractList=this._sortVendorContractListByHotelContractTypeCode(_.cloneDeep(t)),this._setContractForm(this._vendorContractList),this.useAllotContractSeqOptionList=this._getUseAllotContractSeqOptionListByVendorContractList(this._vendorContractList)}else this._vendorContractList=[]}get contractArray(){var e;return null===(e=this.contractForm)||void 0===e?void 0:e.get("contractArray")}get contractList(){return this.contractArray.value}ngOnInit(){}ngOnDestroy(){this._tabDestroy$.next(),this._tabDestroy$.complete(),this.store.dispatch(n.clearVendorContractList())}onLocalClick(e,t){this.contractArray.controls[t].get("priceCmsPmsCompCode").reset(),e?this.contractArray.controls[t].get("priceCmsPmsCompCode").disable():this.contractArray.controls[t].get("priceCmsPmsCompCode").enable()}onAllotmentClick(e,t){this.contractArray.controls[t].get("allotmentCmsPmsCompCode").reset(),e?this.contractArray.controls[t].get("allotmentCmsPmsCompCode").disable():this.contractArray.controls[t].get("allotmentCmsPmsCompCode").enable()}checkInvalid(e,t){return this.contractValid&&this.contractArray.controls[t].get(e)&&this.contractArray.controls[t].get(e).invalid}makeNewContract(){if(!this.selectedHotel||!this.contractForm.value.hotelContractTypeCode)return void this.alertService.alert("Please select the above hotel list and then add the contract types");const e=this.contractForm.value.hotelContractTypeCode,t=this.hotelContractTypeCodeList.find(t=>t.detailCode===e),i=this.dataService.generateContractArrayPutForm({hotelContractTypeCode:t.detailCode,hotelContractTypeName:t.detailCodeNameLn,checked:!0});this.contractArray.controls.forEach(e=>e.get("checked").patchValue(!1)),this.contractArray.push(i),this.contractFlag=!0}tabClick(e,t){this.contractArray.controls.forEach(e=>{e.get("checked").setValue(!1)}),this.contractArray.controls[t].get("checked").setValue(!0),this._currentContractTabIndex=t,this._currentContractTabItem=e,this._initSubscriptionsByTab()}contractSubmit(e){const t=this.contractArray.controls[e];if(t.invalid)return this.contractValid=!0,void Object.keys(t.controls).forEach(e=>{t.controls[e].invalid&&console.error(e+" is invalid")});let i=this.contractArray.controls[e].getRawValue();i.vendorCompCode=this.selectedHotel.vendorCompCode,i.hotelCode=this.selectedHotel.hotelCode,i.hotelContractNo||(i.hotelContractNo=void 0),i.useAllotmentContractSeq||(i.useAllotmentContractSeq=0),i.bookingSendList=[],i.faxChecked&&i.bookingSendList.push({sendTypeCode:"BSC02",useYn:!0,countryPhoneCode:"+"+i.countryPhoneCode,faxNo:i.faxNo,emailAddressList:i.emailAddressList}),i.emailChecked&&i.bookingSendList.push({sendTypeCode:"BSC01",useYn:!0,emailAddressList:i.emailAddressList}),null===i.hotelContractSeq&&(i.hotelContractSeq=void 0);const o=this.dataService.setContractPutFormDataCondition();i=_.pick(i,Object.keys(o)),this.store.dispatch(n.upsertVendorContract({condition:i}))}contractDelete(){this.contractArray.value.filter(e=>e!==this._currentContractTabItem).map((e,t)=>{e.removeAt(t)})}checkActiveContractOnly(e){this.isShowOnlyActiveContract$.next(e)}makeRandomPassword(e){const t=this.contractArray.controls[e],i=this.commonUtilService.makeRandomPassword(12,14);t.get("cmsPmsPassword").patchValue(i)}isPasswordSettingButtonDisabled(e){const t=this.contractArray.controls[e],i=t.get("priceCmsPmsCompCode").value,o=t.get("allotmentCmsPmsCompCode").value;return!(i===this._CMS_COMP_CODE.NETPPAN||o===this._CMS_COMP_CODE.NETPPAN)}onContractStatusChange(e){"A"!==e.value&&this.isShowOnlyActiveContract$.next(!1)}_setContractForm(e){this.contractArray.clear(),(null==e?void 0:e.length)>0&&(e.forEach(e=>{e.bookingSendList.forEach(t=>{"BSC01"===t.sendTypeCode&&(e.emailAddressList=t.emailAddressList,e.emailChecked=t.useYn),"BSC02"===t.sendTypeCode&&(e.faxNo=t.faxNo,e.faxChecked=t.useYn,t.countryPhoneCode&&(e.countryPhoneCode=t.countryPhoneCode.replace("+","")))}),this.contractArray.push(this.dataService.generateContractArrayPutForm(e))}),this.contractFlag=!0,this.contractArray.controls.forEach(e=>{e.value.localPriceYn&&e.get("priceCmsPmsCompCode").disable(),e.value.localAllotmentYn&&e.get("allotmentCmsPmsCompCode").disable()}))}_getUseAllotContractSeqOptionListByVendorContractList(e){return e.reduce((e,t)=>(!0===t.localAllotmentYn&&e.push({hotelContractTypeCode:t.hotelContractTypeCode,hotelContractTypeName:t.hotelContractTypeName,useAllotmentContractSeq:t.hotelContractSeq,label:t.hotelContractTypeName+"-"+t.hotelContractSeq}),e),[])}_initSubscriptionsByTab(){this._tabDestroy$.next(),this._tabDestroy$.complete(),this._tabDestroy$=new S.a,this._subscribeForCmsPmsHotelCodeControl()}_subscribeForCmsPmsHotelCodeControl(){const e=this.contractArray.controls[this._currentContractTabIndex].get("cmsPmsHotelCode"),t=this.contractArray.controls[this._currentContractTabIndex].get("localPriceYn"),i=this.contractArray.controls[this._currentContractTabIndex].get("localAllotmentYn"),o=new Ms.a(t.value),n=new Ms.a(i.value);t.valueChanges.pipe(Object(k.a)(this._tabDestroy$)).subscribe(e=>o.next(e)),i.valueChanges.pipe(Object(k.a)(this._tabDestroy$)).subscribe(e=>n.next(e));const a=this.contractArray.controls[this._currentContractTabIndex].get("priceCmsPmsCompCode"),s=this.contractArray.controls[this._currentContractTabIndex].get("allotmentCmsPmsCompCode"),c=new Ms.a(a.value),r=new Ms.a(s.value);a.valueChanges.pipe(Object(k.a)(this._tabDestroy$)).subscribe(e=>c.next(e)),s.valueChanges.pipe(Object(k.a)(this._tabDestroy$)).subscribe(e=>r.next(e)),Object(I.a)([o,n,c,r]).pipe(Object(k.a)(this._tabDestroy$)).subscribe(([t,i,o,n])=>{if(!0===t&&!0===i)e.reset(),e.disable();else if(e.enable(),o===this._CMS_COMP_CODE.D_EDGE||n===this._CMS_COMP_CODE.D_EDGE){if(null===this.selectedHotel.hotelCode)return void console.error("selectedHotel.hotelCode is null",this.selectedHotel);e.patchValue(this.selectedHotel.hotelCode.toString()),e.disable()}})}_sortVendorContractListByHotelContractTypeCode(e){if(!this.hotelContractTypeCodeList)return void console.error("hotelContractTypeCodeList is empty",this.hotelContractTypeCodeList);let t=[];for(const i of this.hotelContractTypeCodeList){const o=e.filter(e=>e.hotelContractTypeCode===i.detailCode);t=t.concat(o)}return t}}return e.\u0275fac=function(t){return new(t||e)(ma.Qb(Pa),ma.Qb(r.h),ma.Qb($a.a),ma.Qb(xs.a))},e.\u0275cmp=ma.Kb({type:e,selectors:[["app-us-comp-detail-vendor-contract-types-form"]],inputs:{selectedHotel:"selectedHotel",hotelContractTypeCodeList:"hotelContractTypeCodeList",contractStatusCodeList:"contractStatusCodeList",mappingStatusCodeList:"mappingStatusCodeList",currencyList:"currencyList",rateTypeList:"rateTypeList",countryPhoneList:"countryPhoneList",vendorContractList:"vendorContractList"},decls:18,vars:7,consts:[[3,"formGroup","connectForm"],[1,"list-header-option"],[1,"title"],[1,"font-size-lg","font-weight-bold"],[1,"color-dark-color4"],["label","Active only","binary","true",1,"ml20",3,"value","onChange"],[1,"control"],[1,"form-group"],[1,"select-box"],["formControlName","hotelContractTypeCode","useAllOptionName","Select for a Contract Type",3,"options"],["type","button",1,"btn","btn-light","sm","ml10",3,"click"],[4,"ngIf"],["formArrayName","contractArray"],[1,"tabs-nav","tabs-underline","mt10","mb10"],["class","nav-item",3,"hide",4,"ngFor","ngForOf"],["class","tab-content tabs-no-padding no-scroll",3,"formGroupName","hide",4,"ngFor","ngForOf"],[1,"nav-item"],["role","tab","aria-selected","true",1,"nav-link",3,"click"],[1,"tab-content","tabs-no-padding","no-scroll",3,"formGroupName"],[1,"tab-pane"],[1,"table","table-bordered","table-fixed"],["width","200px"],["scope","row",1,"th-bg"],["formControlName","contractStatusCode","useAllOptionName","Select",1,"flex-fill",3,"options","isInvalid","onChange"],["formControlName","cmsPmsMappingStatusCode","useAllOptionName","Select",1,"flex-fill",3,"options","isInvalid"],[4,"ngIf","ngIfElse"],["emptyUseAllotContractSeqListTableHead",""],["formControlName","useAllotmentContractSeq","useAllOptionName","Select","displayKey","label","dataKey","useAllotmentContractSeq",1,"flex-fill",3,"options","isInvalid"],["formControlName","currencyCode","useAllOptionName","Select",1,"flex-fill",3,"options","isInvalid"],["formControlName","localPriceYn","label","Y",3,"name","value","onClick"],["formControlName","localPriceYn","label","N",3,"name","value","onClick"],["apiUrl","common/comp","formControlName","priceCmsPmsCompCode","dataKey","compCode","inputFieldFormat","{0} - {1}","placeholder","Name",1,"flex-fill",3,"inputFieldValue","apiCondition","apiSearchTerm","inputFieldFormatKeyList","isInvalid"],["formControlName","localAllotmentYn","label","Y",3,"name","value","onClick"],["formControlName","localAllotmentYn","label","N",3,"name","value","onClick"],["apiUrl","common/comp","formControlName","allotmentCmsPmsCompCode","dataKey","compCode","inputFieldFormat","{0} - {1}","placeholder","Name",1,"flex-fill",3,"inputFieldValue","apiCondition","apiSearchTerm","inputFieldFormatKeyList","isInvalid"],["formControlName","netProvideYn","label","Y",3,"name","value"],["formControlName","netProvideYn","label","N",3,"name","value"],[1,"dash"],[1,"ml10"],["formControlName","vendorCommRate","valueType","number","inputFormat","numberOnly","placeholder","0.00",1,"placeholder-right","ml10"],["apiUrl","common/comp","formControlName","sendCmsPmsCompCode","dataKey","compCode","inputFieldFormat","{0} - {1}","placeholder","Name",1,"flex-fill",3,"inputFieldValue","apiCondition","apiSearchTerm","inputFieldFormatKeyList","isInvalid"],["formControlName","vendorAddCommYn","label","Y",3,"name","value"],["formControlName","vendorAddCommYn","label","N",3,"name","value"],["formControlName","cmsPmsHotelCode",3,"isInvalid"],["formControlName","extraTaxPaymentYn","label","Y",3,"name","value"],["formControlName","extraTaxPaymentYn","label","N",3,"name","value"],["scope","row","rowspan","2",1,"th-bg"],["scope","row"],[1,"btn","btn-light",3,"disabled","click"],[1,"color-red","ml20"],["formControlName","sendAmountTypeCode","displayKey","detailCodeNameEn","dataKey","detailCode",3,"options","useAllOptionName","isInvalid"],["formControlName","cmsPmsPassword",1,"flex-fill",3,"isInvalid"],["formControlName","autoRefillYn","label","Y",3,"name","value"],["formControlName","autoRefillYn","label","N",3,"name","value"],["formControlName","cmsCtaCtdUseYn","label","Y",3,"name","value"],["formControlName","cmsCtaCtdUseYn","label","N",3,"name","value"],["formControlName","requestAbleYn","label","Y",3,"name","value"],["formControlName","requestAbleYn","label","N",3,"name","value"],["formControlName","cmsChildPolicyUseYn","label","Y",3,"name","value"],["formControlName","cmsChildPolicyUseYn","label","N",3,"name","value"],["colspan","3"],[1,"checkbox","mr10",2,"flex","0 0 70px"],["formControlName","faxChecked","type","checkbox",1,"checkbox-control-input"],[1,"checkbox-control-text"],["formControlName","countryPhoneCode","useAllOptionName","Select",1,"flex-fill",3,"options","isInvalid"],["formControlName","faxNo","placeholder","Fax Number"],["formControlName","emailChecked","type","checkbox",1,"checkbox-control-input"],["formControlName","emailAddressList","placeholder","e.g test@ohmyhotel.com; test2@ohmyhotel.com; test3@ohmyhotel.com;",3,"isInvalid"],[1,"textarea"],["formControlName","vendorRemark","cols","30","rows","1"],[1,"button-area","align-r","mt10"],[1,"btn","btn-secondary","sm",3,"click"],[1,"btn","btn-light","sm",3,"click"]],template:function(e,t){1&e&&(ma.Wb(0,"form",0),ma.Wb(1,"div",1),ma.Wb(2,"div",2),ma.Wb(3,"p"),ma.Wb(4,"sup",3),ma.Pc(5,"Add to contract types in each hotel"),ma.Vb(),ma.Vb(),ma.Wb(6,"p"),ma.Wb(7,"span",4),ma.Pc(8," Please select a hotel of the above hotel list and then add the contract types. "),ma.Vb(),ma.Wb(9,"app-checkbox",5),ma.fc("onChange",(function(e){return t.checkActiveContractOnly(e)})),ma.ic(10,"async"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(11,"div",6),ma.Wb(12,"div",7),ma.Wb(13,"div",8),ma.Rb(14,"app-selectbox",9),ma.Vb(),ma.Wb(15,"button",10),ma.fc("click",(function(){return t.makeNewContract()})),ma.Pc(16,"Add"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Nc(17,Hs,5,2,"ng-container",11),ma.Vb()),2&e&&(ma.pc("formGroup",t.contractForm)("connectForm",t.contractFormData),ma.Cb(9),ma.pc("value",ma.jc(10,5,t.isShowOnlyActiveContract$)),ma.Cb(5),ma.pc("options",t.hotelContractTypeCodeList),ma.Cb(3),ma.pc("ngIf",t.contractFlag))},directives:[s.B,s.s,s.k,Sa.a,ns.a,Ta.a,s.r,s.i,a.o,s.e,a.n,s.l,qa.a,ha.a,Wa.a,s.b,s.c],pipes:[a.b],styles:["[_nghost-%COMP%]     app-input-text.placeholder-right input{text-align:right;padding-right:20px}[_nghost-%COMP%]     app-input-text.placeholder-right input::-moz-placeholder{text-align:right}[_nghost-%COMP%]     app-input-text.placeholder-right input::placeholder{text-align:right}"]}),e})(),Gs=(()=>{class e{constructor(){}selectHotelEventHandler(e){this.selectedHotel=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ma.Kb({type:e,selectors:[["app-us-comp-detail-vendor-contract"]],inputs:{loading:"loading",masterCompCode:"masterCompCode",hotelMappingList:"hotelMappingList",hotelContractTypeCodeList:"hotelContractTypeCodeList",currencyList:"currencyList",rateTypeList:"rateTypeList",contractStatusCodeList:"contractStatusCodeList",mappingStatusCodeList:"mappingStatusCodeList",childPolicy:"childPolicy",vendorContractList:"vendorContractList",countryPhoneList:"countryPhoneList"},decls:8,vars:12,consts:[[1,"page-item"],[1,"company-master","frame-wrap","both"],[1,"frame"],[3,"masterCompCode","hotelMappingList","selectHotelEvent"],[3,"selectedHotel","childPolicy"],[3,"selectedHotel","hotelContractTypeCodeList","contractStatusCodeList","mappingStatusCodeList","currencyList","rateTypeList","countryPhoneList","vendorContractList"]],template:function(e,t){1&e&&(ma.Wb(0,"div",0),ma.Wb(1,"div",1),ma.Wb(2,"div",2),ma.Wb(3,"app-us-comp-detail-affiliate-hotel-mapping-form",3),ma.fc("selectHotelEvent",(function(e){return t.selectHotelEventHandler(e)})),ma.Vb(),ma.Vb(),ma.Wb(4,"div",2),ma.Rb(5,"app-us-comp-detail-affiliate-child-policy-form",4),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(6,"div",0),ma.Rb(7,"app-us-comp-detail-vendor-contract-types-form",5),ma.Vb()),2&e&&(ma.Cb(3),ma.pc("masterCompCode",t.masterCompCode)("hotelMappingList",t.hotelMappingList),ma.Cb(2),ma.pc("selectedHotel",t.selectedHotel)("childPolicy",t.childPolicy),ma.Cb(2),ma.pc("selectedHotel",t.selectedHotel)("hotelContractTypeCodeList",t.hotelContractTypeCodeList)("contractStatusCodeList",t.contractStatusCodeList)("mappingStatusCodeList",t.mappingStatusCodeList)("currencyList",t.currencyList)("rateTypeList",t.rateTypeList)("countryPhoneList",t.countryPhoneList)("vendorContractList",t.vendorContractList))},directives:[Ds,Ns,qs],encapsulation:2}),e})(),zs=(()=>{class e{constructor(e,t){this._dataService=e,this._store=t,this._checkValid=!1,this.managerFormGroup=this._dataService.generateUsCompStaffManagerFormGroup()}get picManager(){return this._picManager}set picManager(e){e?(this._picManager=e,this._setPicManagerFormGroupData(e)):this.managerFormGroup.reset()}get isDeleteButtonDisabled(){return!this.managerFormGroup.get("compPicSeq").value}submitPicManagerForm(){return this.managerFormGroup.invalid?(this._checkValid=!0,Object.keys(this.managerFormGroup.controls).forEach(e=>{this.managerFormGroup.controls[e].invalid&&console.error(e+" is invalid",this.managerFormGroup.controls[e])}),null):(this._checkValid=!1,this._setSubmitCondition())}isCheckInValid(e){return this._checkValid&&this.managerFormGroup.get(e).invalid}deleteManagerFormInServer(){const e=this.managerFormGroup.get("compPicSeq").value;this._store.dispatch(n.removePicTypeListByType({condition:{deleteItems:[e]}}))}_setSubmitCondition(){let e=this.managerFormGroup.value;return e.compPicSeq||(e=_.omit(e,["compPicSeq"])),e}_setPicManagerFormGroupData(e){const t=Object.assign(Object.assign({},e),{compCode:this.compCode,picTypeCode:this.picManager.picTypeCode});this.managerFormGroup.reset(),this.managerFormGroup.patchValue(t)}}return e.\u0275fac=function(t){return new(t||e)(ma.Qb(Pa),ma.Qb(r.h))},e.\u0275cmp=ma.Kb({type:e,selectors:[["app-us-comp-detail-staff-assign-pic-manager-table"]],inputs:{referCode1:"referCode1",compCode:"compCode",countryPhoneList:"countryPhoneList",picManager:"picManager"},decls:30,vars:8,consts:[[3,"formGroup"],[1,"table"],["width","20%"],["width","40%"],["width","30%"],["width","100px"],["formControlName","picName","placeholder","Name",1,"flex-fill",3,"isInvalid"],["formControlName","countryPhoneCode","useAllOptionName","Select",1,"flex-fill",3,"options","isInvalid"],["formControlName","picPhoneNo","inputFormat","numberOnly","placeholder","Tel Number",1,"flex-fill",3,"isInvalid"],["colspan","3"],["formControlName","picEmail","placeholder","Email",1,"flex-fill",3,"isInvalid"],["type","button",1,"btn","btn-secondary","sm",3,"disabled","click"]],template:function(e,t){1&e&&(ma.Wb(0,"form",0),ma.Wb(1,"h4"),ma.Pc(2),ma.Vb(),ma.Wb(3,"div",1),ma.Wb(4,"table"),ma.Wb(5,"caption"),ma.Pc(6," assign-pic-manager-table "),ma.Vb(),ma.Wb(7,"colgroup"),ma.Rb(8,"col",2),ma.Rb(9,"col",3),ma.Rb(10,"col",4),ma.Rb(11,"col"),ma.Rb(12,"col",5),ma.Vb(),ma.Wb(13,"tbody"),ma.Wb(14,"tr"),ma.Wb(15,"td"),ma.Rb(16,"app-input-text",6),ma.Vb(),ma.Wb(17,"td"),ma.Rb(18,"app-selectbox",7),ma.Vb(),ma.Wb(19,"td"),ma.Rb(20,"app-input-text",8),ma.Vb(),ma.Rb(21,"td"),ma.Rb(22,"td"),ma.Vb(),ma.Wb(23,"tr"),ma.Wb(24,"td",9),ma.Rb(25,"app-input-text",10),ma.Vb(),ma.Wb(26,"td"),ma.Wb(27,"button",11),ma.fc("click",(function(){return t.deleteManagerFormInServer()})),ma.Pc(28," Delete "),ma.Vb(),ma.Vb(),ma.Rb(29,"td"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb()),2&e&&(ma.pc("formGroup",t.managerFormGroup),ma.Cb(2),ma.Qc(null==t.picManager?null:t.picManager.picTypeName),ma.Cb(14),ma.pc("isInvalid",t.isCheckInValid("picName")),ma.Cb(2),ma.pc("options",t.countryPhoneList)("isInvalid",t.isCheckInValid("countryPhoneCode")),ma.Cb(2),ma.pc("isInvalid",t.isCheckInValid("picPhoneNo")),ma.Cb(5),ma.pc("isInvalid",t.isCheckInValid("picEmail")),ma.Cb(2),ma.pc("disabled",t.isDeleteButtonDisabled))},directives:[s.B,s.s,s.k,Wa.a,s.r,s.i,Ta.a],encapsulation:2}),e})();const Ks=function(){return{userTypeCode:"U01"}},Qs=function(){return["userNo","name","deptName","positionName"]};let Xs=(()=>{class e{constructor(e,t){this._dataService=e,this._store=t,this._checkValid=!1,this.managementFormGroup=this._dataService.generateUsCompStaffManagementFormGroup()}get picManager(){return this._picManager}set picManager(e){e?(this._picManager=e,this._setPicManagementFormGroupData(e)):this.managementFormGroup.reset()}get isDeleteButtonDisabled(){return!this.managementFormGroup.get("compPicSeq").value}submitPicManagementForm(){return this.managementFormGroup.invalid?(this._checkValid=!0,void Object.keys(this.managementFormGroup.controls).forEach(e=>{this.managementFormGroup.controls[e].invalid&&console.error(e+" is invalid",this.managementFormGroup.controls[e],this.managementFormGroup.controls)})):(this._checkValid=!1,this._setSubmitCondition())}checkIsInvalid(e){return this._checkValid&&this.managementFormGroup.get(e).invalid}deleteManagerFormInServer(){const e=this.managementFormGroup.get("compPicSeq").value;this._store.dispatch(n.removePicTypeListByType({condition:{deleteItems:[e]}}))}_setSubmitCondition(){let e=this.managementFormGroup.value;return e.compPicSeq||(e=_.omit(e,["compPicSeq"])),e}_setPicManagementFormGroupData(e){const t=Object.assign(Object.assign({},e),{compCode:this.compCode,picTypeCode:this.picManager.picTypeCode});this.managementFormGroup.reset(),this.managementFormGroup.patchValue(t)}}return e.\u0275fac=function(t){return new(t||e)(ma.Qb(Pa),ma.Qb(r.h))},e.\u0275cmp=ma.Kb({type:e,selectors:[["app-us-comp-detail-staff-assign-pic-management-table"]],inputs:{referCode1:"referCode1",compCode:"compCode",picManager:"picManager"},decls:21,vars:9,consts:[[3,"formGroup"],[1,"table"],["width","20%"],["width","40%"],["width","30%"],["width","100px"],["colspan","3"],["formControlName","picUno","apiUrl","admin/common/staff","dataKey","userNo","inputFieldFormat","{0}-{1}&,{2}&,{3}","placeholder","Name",1,"flex-fill",3,"apiCondition","apiSearchTerm","inputFieldFormatKeyList","isInvalid"],["type","button",1,"btn","btn-secondary","sm",3,"disabled","click"]],template:function(e,t){1&e&&(ma.Wb(0,"form",0),ma.Wb(1,"h4"),ma.Pc(2),ma.Vb(),ma.Wb(3,"div",1),ma.Wb(4,"table"),ma.Wb(5,"caption"),ma.Pc(6," assign-pic-management-table "),ma.Vb(),ma.Wb(7,"colgroup"),ma.Rb(8,"col",2),ma.Rb(9,"col",3),ma.Rb(10,"col",4),ma.Rb(11,"col"),ma.Rb(12,"col",5),ma.Vb(),ma.Wb(13,"tbody"),ma.Wb(14,"tr"),ma.Wb(15,"td",6),ma.Rb(16,"app-auto-complete",7),ma.Vb(),ma.Wb(17,"td"),ma.Wb(18,"button",8),ma.fc("click",(function(){return t.deleteManagerFormInServer()})),ma.Pc(19," Delete "),ma.Vb(),ma.Vb(),ma.Rb(20,"td"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb()),2&e&&(ma.pc("formGroup",t.managementFormGroup),ma.Cb(2),ma.Qc(null==t.picManager?null:t.picManager.picTypeName),ma.Cb(14),ma.pc("apiCondition",ma.tc(7,Ks))("apiSearchTerm","name")("inputFieldFormatKeyList",ma.tc(8,Qs))("isInvalid",t.checkIsInvalid("picUno")),ma.Cb(2),ma.pc("disabled",t.isDeleteButtonDisabled))},directives:[s.B,s.s,s.k,ha.a,s.r,s.i],encapsulation:2}),e})();function Zs(e,t){if(1&e&&(ma.Ub(0),ma.Rb(1,"app-us-comp-detail-staff-assign-pic-management-table",16),ma.Tb()),2&e){const e=ma.hc(2).index,t=ma.hc();ma.Cb(1),ma.pc("referCode1",t._PIC_REFER_CODE.CONTROL)("compCode",t.compCode)("picManager",t.controlPicManagerList[e+1])}}function Js(e,t){if(1&e&&(ma.Ub(0),ma.Wb(1,"tr"),ma.Wb(2,"td"),ma.Wb(3,"div",14),ma.Wb(4,"table"),ma.Wb(5,"caption"),ma.Pc(6),ma.Vb(),ma.Wb(7,"colgroup"),ma.Rb(8,"col"),ma.Rb(9,"col"),ma.Vb(),ma.Wb(10,"tbody"),ma.Wb(11,"tr"),ma.Wb(12,"td",15),ma.Rb(13,"app-us-comp-detail-staff-assign-pic-management-table",16),ma.Vb(),ma.Wb(14,"td",15),ma.Nc(15,Zs,2,3,"ng-container",13),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Tb()),2&e){const e=ma.hc().index,t=ma.hc();ma.Cb(6),ma.Rc("Ohmyhotel ",e,""),ma.Cb(7),ma.pc("referCode1",t._PIC_REFER_CODE.CONTROL)("compCode",t.compCode)("picManager",t.controlPicManagerList[e]),ma.Cb(2),ma.pc("ngIf",e+1<t.controlPicManagerCount)}}function ec(e,t){if(1&e&&(ma.Ub(0),ma.Nc(1,Js,16,5,"ng-container",13),ma.Tb()),2&e){const e=t.index;ma.Cb(1),ma.pc("ngIf",e%2==0)}}function tc(e,t){if(1&e&&(ma.Ub(0),ma.Rb(1,"app-us-comp-detail-staff-assign-pic-manager-table",17),ma.Tb()),2&e){const e=ma.hc(2).index,t=ma.hc();ma.Cb(1),ma.pc("referCode1",t._PIC_REFER_CODE.SELLER)("compCode",t.compCode)("picManager",t.sellerPicManagerList[e+1])("countryPhoneList",t.countryPhoneList)}}function ic(e,t){if(1&e&&(ma.Ub(0),ma.Wb(1,"tr"),ma.Wb(2,"td"),ma.Wb(3,"div",14),ma.Wb(4,"table"),ma.Wb(5,"caption"),ma.Pc(6),ma.Vb(),ma.Wb(7,"colgroup"),ma.Rb(8,"col"),ma.Rb(9,"col"),ma.Vb(),ma.Wb(10,"tbody"),ma.Wb(11,"tr"),ma.Wb(12,"td",15),ma.Rb(13,"app-us-comp-detail-staff-assign-pic-manager-table",17),ma.Vb(),ma.Wb(14,"td",15),ma.Nc(15,tc,2,4,"ng-container",13),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Tb()),2&e){const e=ma.hc().index,t=ma.hc();ma.Cb(6),ma.Rc("Seller ",e,""),ma.Cb(7),ma.pc("referCode1",t._PIC_REFER_CODE.SELLER)("compCode",t.compCode)("picManager",t.sellerPicManagerList[e])("countryPhoneList",t.countryPhoneList),ma.Cb(2),ma.pc("ngIf",e+1<t.sellerPicManagerCount)}}function oc(e,t){if(1&e&&(ma.Ub(0),ma.Nc(1,ic,16,6,"ng-container",13),ma.Tb()),2&e){const e=t.index;ma.Cb(1),ma.pc("ngIf",e%2==0)}}function nc(e,t){if(1&e&&(ma.Ub(0),ma.Rb(1,"app-us-comp-detail-staff-assign-pic-manager-table",17),ma.Tb()),2&e){const e=ma.hc(2).index,t=ma.hc();ma.Cb(1),ma.pc("referCode1",t._PIC_REFER_CODE.VENDOR)("compCode",t.compCode)("picManager",t.selectedVendorPicManagerList[e+1])("countryPhoneList",t.countryPhoneList)}}function ac(e,t){if(1&e&&(ma.Ub(0),ma.Wb(1,"tr"),ma.Wb(2,"td"),ma.Wb(3,"div",14),ma.Wb(4,"table"),ma.Wb(5,"caption"),ma.Pc(6),ma.Vb(),ma.Wb(7,"colgroup"),ma.Rb(8,"col"),ma.Rb(9,"col"),ma.Vb(),ma.Wb(10,"tbody"),ma.Wb(11,"td",15),ma.Rb(12,"app-us-comp-detail-staff-assign-pic-manager-table",17),ma.Vb(),ma.Wb(13,"td",15),ma.Nc(14,nc,2,4,"ng-container",13),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Tb()),2&e){const e=ma.hc().index,t=ma.hc();ma.Cb(6),ma.Rc("Hotel ",e,""),ma.Cb(6),ma.pc("referCode1",t._PIC_REFER_CODE.VENDOR)("compCode",t.compCode)("picManager",t.selectedVendorPicManagerList[e])("countryPhoneList",t.countryPhoneList),ma.Cb(2),ma.pc("ngIf",e+1<t.selectedVendorPicManagerCount)}}function sc(e,t){if(1&e&&(ma.Ub(0),ma.Nc(1,ac,15,6,"ng-container",13),ma.Tb()),2&e){const e=t.index;ma.Cb(1),ma.pc("ngIf",e%2==0)}}let cc=(()=>{class e{constructor(e,t){this._store=e,this._alertService=t,this.controlPicManagerList=[],this.sellerPicManagerList=[],this.hotelMappingControl=new s.g(null),this.selectedVendorPicManagerList=[],this._PIC_REFER_CODE=ba,this._allVendorPicManagerList$=new Ms.a([]),this._destroy$=new S.a}set picListByType(e){var t;this.picTypeDetailCodeList&&(this._picListByType=null!=e?e:{},this._setPicManagerListByType(this._picListByType),this._allVendorPicManagerList$.next(null!==(t=this._picListByType.vendorPicList)&&void 0!==t?t:[]))}get selectedVendorPicManagerCount(){var e;return(null===(e=this.selectedVendorPicManagerList)||void 0===e?void 0:e.length)||0}get controlPicManagerCount(){var e;return(null===(e=this.controlPicManagerList)||void 0===e?void 0:e.length)||0}get sellerPicManagerCount(){var e;return(null===(e=this.sellerPicManagerList)||void 0===e?void 0:e.length)||0}ngOnInit(){this._initSubscriptions()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}submitToSave(e){let t=!0;const i=[];switch(e){case ba.CONTROL:this.managementFormList.forEach(e=>{if(e.referCode1===this._PIC_REFER_CODE.CONTROL){const o=e.submitPicManagementForm();o?i.push(o):t=!1}});break;case ba.SELLER:this.managerFormList.forEach(e=>{if(e.referCode1===this._PIC_REFER_CODE.SELLER){const o=e.submitPicManagerForm();o?i.push(o):t=!1}});break;case ba.VENDOR:this.managerFormList.forEach(e=>{if(e.referCode1===this._PIC_REFER_CODE.VENDOR){const o=e.submitPicManagerForm();o?i.push(o):t=!1}});break;default:console.error("submitToSave: invalid referCode1",e)}t=t&&i.length>0,0!==i.length?t&&this._store.dispatch(n.upsertPicTypeListByType({condition:{list:i}})):alert("Please fill least one pic manager or management.")}_setPicManagerListByType(e){this.controlPicManagerList=[],this.sellerPicManagerList=[],this.picTypeDetailCodeList.forEach(t=>{var i,o,n,a;switch(t.referCode1){case"VENDOR":break;case"SELLER":const s=null!==(o=null===(i=e.sellerPicList)||void 0===i?void 0:i.find(e=>e.picTypeCode===t.detailCode))&&void 0!==o?o:{picTypeCode:t.detailCode,picTypeName:t.detailCodeNameLn};this.sellerPicManagerList.push(s);break;case"CONTROL":const c=null!==(a=null===(n=e.controlPicList)||void 0===n?void 0:n.find(e=>e.picTypeCode===t.detailCode))&&void 0!==a?a:{picTypeCode:t.detailCode,picTypeName:t.detailCodeNameLn};this.controlPicManagerList.push(c);break;default:console.error(t,"referCode1 is not defined")}})}_initSubscriptions(){this._subscribeHotelMappingControl()}_subscribeHotelMappingControl(){const e=this.picTypeDetailCodeList.filter(e=>e.referCode1===this._PIC_REFER_CODE.VENDOR),t=this.hotelMappingControl.valueChanges;Object(I.a)([t,this._allVendorPicManagerList$]).pipe(Object(k.a)(this._destroy$)).subscribe(([t,i])=>{this.selectedVendorPicManagerList=[],_.isNil(t)||(_.isNil(this.hotelMappingList)?this._alertService.alert("please select hotel after loading hotel mapping api."):null==e||e.forEach(e=>{var o;const n=null!==(o=i.find(i=>i.hotelCode===t&&i.picTypeCode===e.detailCode))&&void 0!==o?o:{hotelCode:t,picTypeCode:e.detailCode,picTypeName:e.detailCodeNameLn};this.selectedVendorPicManagerList.push(n)}))})}}return e.\u0275fac=function(t){return new(t||e)(ma.Qb(r.h),ma.Qb($a.a))},e.\u0275cmp=ma.Kb({type:e,selectors:[["app-us-comp-detail-staff-assign-for-pic-form"]],viewQuery:function(e,t){var i;1&e&&(ma.Xc(zs,!0),ma.Xc(Xs,!0)),2&e&&(ma.Dc(i=ma.gc())&&(t.managerFormList=i),ma.Dc(i=ma.gc())&&(t.managementFormList=i))},inputs:{compCode:"compCode",countryPhoneList:"countryPhoneList",hotelMappingList:"hotelMappingList",picTypeDetailCodeList:"picTypeDetailCodeList",picListByType:"picListByType"},decls:70,vars:5,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title"],[1,"control"],["type","button",1,"btn","btn-secondary","sm",3,"click"],[1,"table","table-bordered"],[1,"th-bg"],[1,"d-flex","align-items-center"],[4,"ngFor","ngForOf"],[1,"ml10","color-red","font-size-xxs"],[1,"control","ml20",2,"min-width","500px"],["useAllOptionName","Select","displayKey","hotelNameLn","dataKey","hotelCode",1,"flex-fill",3,"formControl","options"],[1,"align-c","th-bg"],[4,"ngIf"],[1,"table","table-fixed"],[2,"padding","10px 0 10px 0"],[3,"referCode1","compCode","picManager"],[3,"referCode1","compCode","picManager","countryPhoneList"]],template:function(e,t){1&e&&(ma.Wb(0,"div",0),ma.Wb(1,"div",1),ma.Wb(2,"p",2),ma.Pc(3,"Ohmyhotel"),ma.Vb(),ma.Wb(4,"div",3),ma.Wb(5,"button",4),ma.fc("click",(function(){return t.submitToSave(t._PIC_REFER_CODE.CONTROL)})),ma.Pc(6,"Save"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(7,"form"),ma.Wb(8,"div",5),ma.Wb(9,"table"),ma.Wb(10,"caption"),ma.Pc(11,"Ohmyhotel"),ma.Vb(),ma.Wb(12,"colgroup"),ma.Rb(13,"col"),ma.Vb(),ma.Wb(14,"thead"),ma.Wb(15,"tr"),ma.Wb(16,"th",6),ma.Wb(17,"div",7),ma.Wb(18,"span"),ma.Pc(19," Ohmyhotel "),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(20,"tbody"),ma.Nc(21,ec,2,1,"ng-container",8),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(22,"div",0),ma.Wb(23,"div",1),ma.Wb(24,"p",2),ma.Pc(25,"Seller"),ma.Vb(),ma.Wb(26,"p",9),ma.Pc(27,"* Account manager's email address is used to send a invoice to API Seller"),ma.Vb(),ma.Wb(28,"div",3),ma.Wb(29,"button",4),ma.fc("click",(function(){return t.submitToSave(t._PIC_REFER_CODE.SELLER)})),ma.Pc(30,"Save"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(31,"form"),ma.Wb(32,"div",5),ma.Wb(33,"table"),ma.Wb(34,"caption"),ma.Pc(35,"Seller"),ma.Vb(),ma.Wb(36,"colgroup"),ma.Rb(37,"col"),ma.Vb(),ma.Wb(38,"thead"),ma.Wb(39,"tr"),ma.Wb(40,"th",6),ma.Wb(41,"div",7),ma.Wb(42,"span"),ma.Pc(43," Seller "),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(44,"tbody"),ma.Nc(45,oc,2,1,"ng-container",8),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(46,"div",0),ma.Wb(47,"div",1),ma.Wb(48,"p",2),ma.Pc(49,"Hotel PIC"),ma.Vb(),ma.Wb(50,"div",10),ma.Rb(51,"app-selectbox",11),ma.Vb(),ma.Wb(52,"div",3),ma.Wb(53,"button",4),ma.fc("click",(function(){return t.submitToSave(t._PIC_REFER_CODE.VENDOR)})),ma.Pc(54,"Save"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(55,"form"),ma.Wb(56,"div",5),ma.Wb(57,"table"),ma.Wb(58,"caption"),ma.Pc(59,"Assign for PIC"),ma.Vb(),ma.Wb(60,"colgroup"),ma.Rb(61,"col"),ma.Vb(),ma.Wb(62,"thead"),ma.Wb(63,"tr"),ma.Wb(64,"th",12),ma.Wb(65,"div",7),ma.Wb(66,"span"),ma.Pc(67," Hotel "),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(68,"tbody"),ma.Nc(69,sc,2,1,"ng-container",8),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb()),2&e&&(ma.Cb(21),ma.pc("ngForOf",t.controlPicManagerList),ma.Cb(24),ma.pc("ngForOf",t.sellerPicManagerList),ma.Cb(6),ma.pc("formControl",t.hotelMappingControl)("options",t.hotelMappingList),ma.Cb(18),ma.pc("ngForOf",t.selectedVendorPicManagerList))},directives:[s.B,s.s,s.t,a.n,Ta.a,s.r,s.h,a.o,Xs,zs],encapsulation:2}),e})(),rc=(()=>{class e{constructor(){}ngOnInit(){}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ma.Kb({type:e,selectors:[["app-us-comp-detail-pic"]],inputs:{compCode:"compCode",hotelMappingList:"hotelMappingList",countryPhoneList:"countryPhoneList",picTypeCodeList:"picTypeCodeList",picListByType:"picListByType"},decls:2,vars:5,consts:[[1,"page-item"],[3,"compCode","hotelMappingList","countryPhoneList","picTypeDetailCodeList","picListByType"]],template:function(e,t){1&e&&(ma.Wb(0,"div",0),ma.Rb(1,"app-us-comp-detail-staff-assign-for-pic-form",1),ma.Vb()),2&e&&(ma.Cb(1),ma.pc("compCode",t.compCode)("hotelMappingList",t.hotelMappingList)("countryPhoneList",t.countryPhoneList)("picTypeDetailCodeList",t.picTypeCodeList)("picListByType",t.picListByType))},directives:[cc],styles:[""],changeDetection:0}),e})();const lc=["vendorInput"],dc=["hotelInput"];function pc(e,t){if(1&e){const e=ma.Xb();ma.Wb(0,"li"),ma.Wb(1,"span"),ma.Pc(2),ma.Vb(),ma.Wb(3,"button",56),ma.fc("click",(function(){ma.Fc(e);const t=ma.hc().index;return ma.hc().onDelete(t)})),ma.Vb(),ma.Vb()}if(2&e){const e=ma.hc().$implicit;ma.Cb(2),ma.Sc("",e.value.excludeValue,"-",e.value.name,"")}}function uc(e,t){if(1&e&&(ma.Ub(0,54),ma.Nc(1,pc,4,2,"li",55),ma.Tb()),2&e){const e=t.$implicit;ma.pc("formGroupName",t.index),ma.Cb(1),ma.pc("ngIf",null!==e.value.excludeValue)}}function bc(e,t){if(1&e){const e=ma.Xb();ma.Wb(0,"li"),ma.Wb(1,"span"),ma.Pc(2),ma.Vb(),ma.Wb(3,"button",56),ma.fc("click",(function(){ma.Fc(e);const t=ma.hc().index;return ma.hc().onHotelDelete(t)})),ma.Vb(),ma.Vb()}if(2&e){const e=ma.hc().$implicit;ma.Cb(2),ma.Sc("",e.value.excludeValue,"-",e.value.name,"")}}function mc(e,t){if(1&e&&(ma.Ub(0,54),ma.Nc(1,bc,4,2,"li",55),ma.Tb()),2&e){const e=t.$implicit;ma.pc("formGroupName",t.index),ma.Cb(1),ma.pc("ngIf",null!==e.value.excludeValue)}}function hc(e,t){if(1&e){const e=ma.Xb();ma.Wb(0,"a",63),ma.fc("click",(function(){ma.Fc(e);const t=ma.hc().index;return ma.hc().deleteRow(t)})),ma.Pc(1,"Delete"),ma.Vb()}}function Cc(e,t){if(1&e){const e=ma.Xb();ma.Wb(0,"tr",54),ma.Wb(1,"td",57),ma.Rb(2,"app-input-text",58),ma.Vb(),ma.Wb(3,"td",57),ma.Rb(4,"app-selectbox",59),ma.Vb(),ma.Wb(5,"td",57),ma.Wb(6,"div",60),ma.Nc(7,hc,2,0,"a",61),ma.Wb(8,"a",62),ma.fc("click",(function(){ma.Fc(e);const i=t.index;return ma.hc().currencySubmit(i)})),ma.Pc(9,"Save"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb()}if(2&e){const e=t.index,i=ma.hc();ma.pc("formGroupName",e),ma.Cb(4),ma.pc("options",i.currencyList),ma.Cb(3),ma.pc("ngIf",0!==e)}}const fc=function(){return["CMP04","CMP05","CMP06","CMP11"]},yc=function(e){return{compTypeCodes:e}},gc=function(){return["compCode","compName"]},vc=function(){return["hotelCode","hotelNameEn"]};let Oc=(()=>{class e{constructor(e,t){this.alertService=e,this.dataService=t,this.submitExcludeHandler=new ma.n,this.submitPaymentEvent=new ma.n,this.submitCurrencyHandler=new ma.n,this.deleteCurrencyHandler=new ma.n,this.deleteVendor=new ma.n,this._$unsubscribe=new S.a,this.isSystemUser=!1,this.unsubscribe$=new S.a,this.paymentTypes=[{label:"Postpay",value:"Postpay"},{label:"Prepay",value:"Prepay"}],this.paymentDates=Array.from({length:31},(e,t)=>({value:t+1})),this.paymentForm=this.dataService.generateCompSellerPutForm(),this.infoForm=this.dataService.generateInfoPutForm(),this.currencyForm=this.dataService.generateCurrencyPutForm(),this.currencyArray.push(this.dataService.generateCurrencyItemForm())}get sellerInfo(){return this._sellerInfo}set sellerInfo(e){this._sellerInfo=e,this.paymentFormData=this._setPutFormData(e)}get excludeInfo(){return this._excludeInfo}set excludeInfo(e){this._excludeInfo=e,this.infoFormData=this._setExcludeFormData(e)}get currencyInfo(){return this._currencyInfo}set currencyInfo(e){this._currencyInfo=e,this.currencyArraySet(e)}get excludeVendorList(){var e;return null===(e=this.infoForm)||void 0===e?void 0:e.get("excludeVendorList")}get excludeHotelList(){var e;return null===(e=this.infoForm)||void 0===e?void 0:e.get("excludeHotelList")}get currencyArray(){var e;return null===(e=this.currencyForm)||void 0===e?void 0:e.get("currencyArray")}ngOnInit(){this._setIsSystemUser()}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.currencyArray.clear()}currencyArraySet(e){this.currencyArray.clear(),this.currencyArray.push(this.dataService.generateCurrencyItemForm()),e&&e.forEach(e=>{this.currencyArray.push(this.dataService.initCurrencyItemForm(e))})}_setExcludeFormData(e){const t=this.dataService.generateInfoPutForm();return this.excludeVendorList.clear(),this.excludeHotelList.clear(),e&&(e.excludeVendorList.forEach(e=>{this.excludeVendorList.push(this.dataService.initExcludePutFormData(e))}),e.excludeHotelList.forEach(e=>{this.excludeHotelList.push(this.dataService.initExcludePutFormData(e))})),Object.assign(_.pick(e,Object.keys(t)))}onSelectVendorCode(e){this.excludeVendorList.push(this.dataService.generateItemForm(e))}onClear(){this.vendorCompInput=null}onSelectHotelCode(e){this.excludeHotelList.push(this.dataService.generateHotelItemForm(e))}paymentSubmit(){if(this.paymentForm.invalid)return Object.keys(this.paymentForm.controls).forEach(e=>{this.paymentForm.controls[e].invalid&&console.error(e+" is invalid")}),void(this.checkValid=!0);const e=this._paymentPutCondition();this.submitPaymentEvent.emit(e)}infoSubmit(){if(this.infoForm.invalid)return Object.keys(this.infoForm.controls).forEach(e=>{this.infoForm.controls[e].invalid&&console.error(e+" is invalid")}),void(this.checkValid=!0);const e=this._infoPutCondition();this.submitExcludeHandler.emit(e)}currencySubmit(e){if(this.currencyArray.controls[e].invalid)return void(this.checkValid=!0);const t=this._currencyPutCondition(this.currencyArray.value[e]);this.submitCurrencyHandler.emit([t])}checkIsInvalid(e){return this.checkValid&&this.paymentForm.get(e)&&this.paymentForm.get(e).invalid}checkCurInvalid(e,t){return this.checkValid&&this.currencyArray.controls[t].get(e)&&this.currencyArray.controls[t].get(e).invalid}_setPutFormData(e){var t,i;const o=Object.assign(this.dataService.initCompSellerPutFormDataCondition(this.masterCompCode)),n=_.isEmpty(e)?null:Object.assign(Object.assign({},e),{ableQps:null!==(t=e.ableQps)&&void 0!==t?t:1e3,stopSecond:null!==(i=e.stopSecond)&&void 0!==i?i:60});return _.isEmpty(e)?o:Object.assign(_.pick(n,Object.keys(o)))}_paymentPutCondition(){const e=this.paymentForm.value;return e.sellerCompCode||(e.sellerCompCode=this.masterCompCode),_.omitBy(e,_.isNil)}_currencyPutCondition(e){const t=_.cloneDeep(e);return t.sellerCompCode=this.masterCompCode,t}_infoPutCondition(){let e=[],t=[];e=this.infoForm.value.excludeVendorList,t=this.infoForm.value.excludeHotelList;const i=e.concat(t);return i.forEach(e=>{e.sellerCompCode=this.masterCompCode}),i}onDelete(e){const t={deleteItems:[]};t.deleteItems.push({sellerCompCode:this.masterCompCode,excludeTypeCode:this.excludeVendorList.value[e].excludeTypeCode,excludeValue:this.excludeVendorList.value[e].excludeValue}),this.deleteVendor.emit(t),this.excludeVendorList.removeAt(e)}onHotelDelete(e){const t={deleteItems:[]};t.deleteItems.push({sellerCompCode:this.masterCompCode,excludeTypeCode:this.excludeHotelList.value[e].excludeTypeCode,excludeValue:this.excludeHotelList.value[e].excludeValue}),this.deleteVendor.emit(t),this.excludeHotelList.removeAt(e)}deleteRow(e){let t={deleteItems:[]};const i=this.masterCompCode;t.deleteItems.push(Object.assign(Object.assign({},this.currencyArray.value[e]),{sellerCompCode:i})),this.deleteCurrencyHandler.emit(t),this.currencyArray.removeAt(e),0===this.currencyArray.value.length&&this.currencyArray.push(this.dataService.generateCurrencyItemForm())}addRow(){this.currencyArray.push(this.dataService.generateCurrencyItemForm())}_setIsSystemUser(){const e=this.sellerBranchTypeList.find(e=>e.referNumber1===this.loginUser.userNo);e?this.isSystemUser="SYSTEM"===(null==e?void 0:e.referCode1):console.error("Cannot find user special authority info! check userNo in session and detailCode(US008)",this.loginUser.userNo,this.sellerBranchTypeList)}}return e.\u0275fac=function(t){return new(t||e)(ma.Qb($a.a),ma.Qb(Pa))},e.\u0275cmp=ma.Kb({type:e,selectors:[["app-us-comp-detail-seller"]],viewQuery:function(e,t){var i;1&e&&(ma.Xc(lc,!0),ma.Xc(dc,!0)),2&e&&(ma.Dc(i=ma.gc())&&(t.vendorInput=i.first),ma.Dc(i=ma.gc())&&(t.hotelInput=i.first))},inputs:{loading:"loading",masterCompCode:"masterCompCode",sellerGradeList:"sellerGradeList",sellerBranchTypeList:"sellerBranchTypeList",paymentPeriodList:"paymentPeriodList",depositTypeCodeList:"depositTypeCodeList",currencyList:"currencyList",loginUser:"loginUser",sellerInfo:"sellerInfo",excludeInfo:"excludeInfo",currencyInfo:"currencyInfo"},outputs:{submitExcludeHandler:"submitExcludeHandler",submitPaymentEvent:"submitPaymentEvent",submitCurrencyHandler:"submitCurrencyHandler",deleteCurrencyHandler:"deleteCurrencyHandler",deleteVendor:"deleteVendor"},decls:182,vars:61,consts:[[1,"modal-body"],[3,"formGroup","connectForm"],[1,"page-item"],[1,"table","table-bordered"],["width","190px"],["width","36%"],["scope","row",1,"th-bg"],["formControlName","paymentTypeCode","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","paymentDueDate","useAllOptionName","Select","displayKey","value",3,"options","isInvalid"],[1,"form-group"],["formControlName","directProvideYn","name","directProvideYn","label","Y",3,"value"],["formControlName","directProvideYn","name","directProvideYn","label","N",3,"value"],["formControlName","paymentPeriodCode","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","3rdPartyProvideYn","name","3rdPartyProvideYn","label","Y",3,"value"],["formControlName","3rdPartyProvideYn","name","3rdPartyProvideYn","label","N",3,"value"],["useAllOptionName","Select","formControlName","depositTypeCode",3,"options","isInvalid"],["formControlName","hotelMutualContractYn","name","hotelMutualContractYn","label","Y",3,"value"],["formControlName","hotelMutualContractYn","name","hotelMutualContractYn","label","N",3,"value"],["formControlName","depositCurrencyCode","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","dynamicProvideYn","name","dynamicProvideYn","label","Y",3,"value"],["formControlName","dynamicProvideYn","name","dynamicProvideYn","label","N",3,"value"],["formControlName","depositAmount","valueType","number","placeholder","0.00","inputFormat","numberOnly",1,"placeholder-right","flex-fill",3,"isInvalid"],[1,"dash"],[1,"input","calendar"],[3,"for"],["type","text","placeholder","YYYY-MM-DD","formControlName","depositDate",3,"matDatepicker"],["myPicker",""],[2,"font-size","13px"],[2,"flex","1"],["formControlName","linkId"],[1,"ml10",2,"width","80px"],["formControlName","commRate","valueType","number","inputFormat","numberOnly","placeholder","0.00",1,"placeholder-right","ml10",3,"isInvalid"],["formControlName","apiIpList",3,"disabled"],["formControlName","apiSecretDev",3,"isInvalid","disabled"],["formControlName","apiSecretProd",3,"isInvalid","disabled"],["formControlName","apiTokenDev",3,"isInvalid","disabled"],["formControlName","apiTokenProd",3,"isInvalid","disabled"],["colspan","3"],["formControlName","controlRemark",3,"isInvalid"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm",3,"click"],[1,"page-item-header"],[1,"title"],["formArrayName","excludeVendorList"],["apiUrl","common/comp","dataKey","compCode","inputFieldFormat","[{0}] {1}",1,"flex-fill",3,"inputFieldValue","inputId","apiCondition","apiSearchTerm","inputFieldFormatKeyList","multiple","listFlag","onSelect"],[2,"height","100px","outline","1px #e0e0e0 solid","margin","5px 1px","padding","10px","overflow-y","auto"],[1,"search-item-list"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","excludeHotelList"],["apiUrl","common/hotel/list","dataKey","hotelCode","inputFieldFormat","{0} - &{1}",1,"flex-fill",3,"inputFieldValue","inputId","apiSearchTerm","inputFieldFormatKeyList","multiple","listFlag","onSelect"],["formControlName","controlRemark"],["width","210px"],["scope","col",1,"align-c"],["formArrayName","currencyArray"],[3,"formGroupName"],[4,"ngIf"],["type","button","title","Delete",1,"fas","fa-times",3,"click"],[1,"align-c"],["formControlName","countryCode","placeholder","e.g.KR(*means all countries)"],["formControlName","currencyCode","useAllOptionName","Select",3,"options"],[1,"control"],["class","btn btn-outline-secondary sm ml5",3,"click",4,"ngIf"],[1,"btn","btn-secondary","sm","ml5",3,"click"],[1,"btn","btn-outline-secondary","sm","ml5",3,"click"]],template:function(e,t){if(1&e&&(ma.Wb(0,"div",0),ma.Wb(1,"form",1),ma.Wb(2,"div",2),ma.Wb(3,"div",3),ma.Wb(4,"table"),ma.Wb(5,"caption"),ma.Pc(6," Seller "),ma.Vb(),ma.Wb(7,"colgroup"),ma.Rb(8,"col",4),ma.Rb(9,"col",5),ma.Rb(10,"col",4),ma.Rb(11,"col",5),ma.Vb(),ma.Wb(12,"tbody"),ma.Wb(13,"tr"),ma.Wb(14,"th",6),ma.Wb(15,"sup"),ma.Pc(16,"Payment Type"),ma.Vb(),ma.Vb(),ma.Wb(17,"td"),ma.Rb(18,"app-selectbox",7),ma.Vb(),ma.Wb(19,"th",6),ma.Pc(20,"Payment Due Date"),ma.Vb(),ma.Wb(21,"td"),ma.Rb(22,"app-selectbox",8),ma.Vb(),ma.Vb(),ma.Wb(23,"tr"),ma.Wb(24,"th",6),ma.Wb(25,"sup"),ma.Pc(26,"Direct Provide YN"),ma.Vb(),ma.Vb(),ma.Wb(27,"td"),ma.Wb(28,"div",9),ma.Rb(29,"app-radio",10),ma.Rb(30,"app-radio",11),ma.Vb(),ma.Vb(),ma.Wb(31,"th",6),ma.Pc(32,"Payment Period"),ma.Vb(),ma.Wb(33,"td"),ma.Rb(34,"app-selectbox",12),ma.Vb(),ma.Vb(),ma.Wb(35,"tr"),ma.Wb(36,"th",6),ma.Wb(37,"sup"),ma.Pc(38,"3rd Party Provide YN"),ma.Vb(),ma.Vb(),ma.Wb(39,"td"),ma.Wb(40,"div",9),ma.Rb(41,"app-radio",13),ma.Rb(42,"app-radio",14),ma.Vb(),ma.Vb(),ma.Wb(43,"th",6),ma.Pc(44,"Deposit Type"),ma.Vb(),ma.Wb(45,"td"),ma.Rb(46,"app-selectbox",15),ma.Vb(),ma.Vb(),ma.Wb(47,"tr"),ma.Wb(48,"th",6),ma.Wb(49,"sup"),ma.Pc(50,"Hotel Mutual Contract YN"),ma.Vb(),ma.Vb(),ma.Wb(51,"td"),ma.Wb(52,"div",9),ma.Rb(53,"app-radio",16),ma.Rb(54,"app-radio",17),ma.Vb(),ma.Vb(),ma.Wb(55,"th",6),ma.Pc(56,"Deposit Currency"),ma.Vb(),ma.Wb(57,"td"),ma.Rb(58,"app-selectbox",18),ma.Vb(),ma.Vb(),ma.Wb(59,"tr"),ma.Wb(60,"th",6),ma.Wb(61,"sup"),ma.Pc(62,"Dynamic Provide YN"),ma.Vb(),ma.Vb(),ma.Wb(63,"td"),ma.Wb(64,"div",9),ma.Rb(65,"app-radio",19),ma.Rb(66,"app-radio",20),ma.Vb(),ma.Vb(),ma.Wb(67,"th",6),ma.Pc(68,"Deposit Amounts / Date"),ma.Vb(),ma.Wb(69,"td"),ma.Wb(70,"div",9),ma.Rb(71,"app-input-text",21),ma.Wb(72,"span",22),ma.Pc(73,"/"),ma.Vb(),ma.Wb(74,"div",23),ma.Rb(75,"mat-datepicker-toggle",24),ma.Rb(76,"input",25),ma.Rb(77,"mat-datepicker",null,26),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(79,"tr"),ma.Wb(80,"th",6),ma.Pc(81,"Link ID / Comm. Rate"),ma.Vb(),ma.Wb(82,"td"),ma.Wb(83,"div",9),ma.Wb(84,"span",27),ma.Pc(85,"https://www.ohmyhotel.com/a/"),ma.Vb(),ma.Wb(86,"div",28),ma.Rb(87,"app-input-text",29),ma.Vb(),ma.Wb(88,"div",30),ma.Rb(89,"app-input-text",31),ma.Vb(),ma.Wb(90,"span",22),ma.Pc(91,"%"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(92,"th",6),ma.Pc(93,"API IP List"),ma.Vb(),ma.Wb(94,"td"),ma.Rb(95,"app-input-text",32),ma.Vb(),ma.Vb(),ma.Wb(96,"tr"),ma.Wb(97,"th",6),ma.Pc(98,"API Secret DEV"),ma.Vb(),ma.Wb(99,"td"),ma.Rb(100,"app-input-text",33),ma.Vb(),ma.Wb(101,"th",6),ma.Pc(102,"API Secret PROD"),ma.Vb(),ma.Wb(103,"td"),ma.Rb(104,"app-input-text",34),ma.Vb(),ma.Vb(),ma.Wb(105,"tr"),ma.Wb(106,"th",6),ma.Pc(107,"API Token DEV"),ma.Vb(),ma.Wb(108,"td"),ma.Rb(109,"app-input-text",35),ma.Vb(),ma.Wb(110,"th",6),ma.Pc(111,"API Token PROD"),ma.Vb(),ma.Wb(112,"td"),ma.Rb(113,"app-input-text",36),ma.Vb(),ma.Vb(),ma.Wb(114,"tr"),ma.Wb(115,"th",6),ma.Pc(116,"Remark"),ma.Vb(),ma.Wb(117,"td",37),ma.Rb(118,"app-input-text",38),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(119,"div",39),ma.Wb(120,"button",40),ma.fc("click",(function(){return t.paymentSubmit()})),ma.Pc(121,"Save"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(122,"form",1),ma.Wb(123,"div",2),ma.Wb(124,"div",41),ma.Wb(125,"p",42),ma.Pc(126,"Seller Exclude Info"),ma.Vb(),ma.Vb(),ma.Wb(127,"div",3),ma.Wb(128,"table"),ma.Wb(129,"caption"),ma.Pc(130," Seller "),ma.Vb(),ma.Wb(131,"colgroup"),ma.Rb(132,"col",4),ma.Rb(133,"col",5),ma.Rb(134,"col",4),ma.Rb(135,"col",5),ma.Vb(),ma.Wb(136,"tbody"),ma.Wb(137,"tr"),ma.Wb(138,"th",6),ma.Pc(139,"Vendor List"),ma.Vb(),ma.Wb(140,"td",43),ma.Wb(141,"app-auto-complete",44),ma.fc("onSelect",(function(e){return t.onSelectVendorCode(e)})),ma.Vb(),ma.Wb(142,"div",45),ma.Wb(143,"ul",46),ma.Nc(144,uc,2,2,"ng-container",47),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(145,"th",6),ma.Pc(146,"Hotel List"),ma.Vb(),ma.Wb(147,"td",48),ma.Wb(148,"app-auto-complete",49),ma.fc("onSelect",(function(e){return t.onSelectHotelCode(e)})),ma.Vb(),ma.Wb(149,"div",45),ma.Wb(150,"ul",46),ma.Nc(151,mc,2,2,"ng-container",47),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(152,"tr"),ma.Wb(153,"th",6),ma.Pc(154,"Remark"),ma.Vb(),ma.Wb(155,"td",37),ma.Rb(156,"app-input-text",50),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(157,"div",39),ma.Wb(158,"button",40),ma.fc("click",(function(){return t.infoSubmit()})),ma.Pc(159,"Save"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(160,"form",1),ma.Wb(161,"div",2),ma.Wb(162,"div",41),ma.Wb(163,"p",42),ma.Pc(164,"Seller Country Currency"),ma.Vb(),ma.Vb(),ma.Wb(165,"div",3),ma.Wb(166,"table"),ma.Wb(167,"caption"),ma.Pc(168," Bank Account "),ma.Vb(),ma.Wb(169,"colgroup"),ma.Rb(170,"col"),ma.Rb(171,"col"),ma.Rb(172,"col",51),ma.Vb(),ma.Wb(173,"thead"),ma.Wb(174,"tr"),ma.Wb(175,"th",52),ma.Pc(176,"Country Code"),ma.Vb(),ma.Wb(177,"th",52),ma.Pc(178,"Currency"),ma.Vb(),ma.Rb(179,"th",52),ma.Vb(),ma.Vb(),ma.Wb(180,"tbody",53),ma.Nc(181,Cc,10,3,"tr",47),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb()),2&e){const e=ma.Ec(78);ma.Cb(1),ma.pc("formGroup",t.paymentForm)("connectForm",t.paymentFormData),ma.Cb(17),ma.pc("options",t.paymentTypes)("isInvalid",t.checkIsInvalid("paymentTypeCode")),ma.Cb(4),ma.pc("options",t.paymentDates)("isInvalid",t.checkIsInvalid("paymentDueDate")),ma.Cb(7),ma.pc("value",!0),ma.Cb(1),ma.pc("value",!1),ma.Cb(4),ma.pc("options",t.paymentPeriodList)("isInvalid",t.checkIsInvalid("paymentPeriodCode")),ma.Cb(7),ma.pc("value",!0),ma.Cb(1),ma.pc("value",!1),ma.Cb(4),ma.pc("options",t.depositTypeCodeList)("isInvalid",t.checkIsInvalid("depositTypeCode")),ma.Cb(7),ma.pc("value",!0),ma.Cb(1),ma.pc("value",!1),ma.Cb(4),ma.pc("options",t.currencyList)("isInvalid",t.checkIsInvalid("depositCurrencyCode")),ma.Cb(7),ma.pc("value",!0),ma.Cb(1),ma.pc("value",!1),ma.Cb(5),ma.pc("isInvalid",t.checkIsInvalid("depositAmount")),ma.Cb(3),ma.Gb("valid-error",t.checkIsInvalid("depositDate")),ma.Cb(1),ma.pc("for",e),ma.Cb(1),ma.pc("matDatepicker",e),ma.Cb(13),ma.pc("isInvalid",t.checkIsInvalid("commRate")),ma.Cb(6),ma.pc("disabled",!t.isSystemUser),ma.Cb(5),ma.pc("isInvalid",t.checkIsInvalid("apiSecretDev"))("disabled",!t.isSystemUser),ma.Cb(4),ma.pc("isInvalid",t.checkIsInvalid("apiSecretProd"))("disabled",!t.isSystemUser),ma.Cb(5),ma.pc("isInvalid",t.checkIsInvalid("apiTokenDev"))("disabled",!t.isSystemUser),ma.Cb(4),ma.pc("isInvalid",t.checkIsInvalid("apiTokenProd"))("disabled",!t.isSystemUser),ma.Cb(5),ma.pc("isInvalid",t.checkIsInvalid("controlRemark")),ma.Cb(4),ma.pc("formGroup",t.infoForm)("connectForm",t.infoFormData),ma.Cb(19),ma.pc("inputFieldValue",t.vendorCompInput)("inputId","vendorCompInput")("apiCondition",ma.uc(57,yc,ma.tc(56,fc)))("apiSearchTerm","compName")("inputFieldFormatKeyList",ma.tc(59,gc))("multiple",!0)("listFlag",!1),ma.Cb(3),ma.pc("ngForOf",t.excludeVendorList.controls),ma.Cb(4),ma.pc("inputFieldValue",t.hotelCompInput)("inputId","hotelCompInput")("apiSearchTerm","keyword")("inputFieldFormatKeyList",ma.tc(60,vc))("multiple",!0)("listFlag",!1),ma.Cb(3),ma.pc("ngForOf",t.excludeHotelList.controls),ma.Cb(9),ma.pc("formGroup",t.currencyForm)("connectForm",t.currencyFormData),ma.Cb(21),ma.pc("ngForOf",t.currencyArray.controls)}},directives:[s.B,s.s,s.k,Sa.a,Ta.a,s.r,s.i,qa.a,Wa.a,Ia.a,s.c,Fa.a,ka.a,s.e,ha.a,a.n,s.l,a.o],styles:["[_nghost-%COMP%]     app-input-text.placeholder-right input{text-align:right;padding-right:20px}[_nghost-%COMP%]     app-input-text.placeholder-right input::-moz-placeholder{text-align:right}[_nghost-%COMP%]     app-input-text.placeholder-right input::placeholder{text-align:right}"],changeDetection:0}),e})();function Vc(e,t){if(1&e&&(ma.Ub(0),ma.Wb(1,"div",13),ma.Rb(2,"app-input-text",24),ma.Vb(),ma.Tb()),2&e){const e=ma.hc().index,t=ma.hc();ma.Cb(2),ma.pc("isInvalid",t.checkIsInvalid(e,"userPassword"))}}function Lc(e,t){if(1&e){const e=ma.Xb();ma.Ub(0),ma.Wb(1,"button",25),ma.fc("click",(function(){ma.Fc(e);const t=ma.hc().$implicit;return ma.hc().sendPasswordByEmail(t)})),ma.Pc(2," Send Email "),ma.Vb(),ma.Tb()}}function jc(e,t){if(1&e&&(ma.Ub(0),ma.Wb(1,"tr",11),ma.Wb(2,"td",8),ma.Rb(3,"app-checkbox",12),ma.Vb(),ma.Wb(4,"td",8),ma.Pc(5),ma.Vb(),ma.Wb(6,"td"),ma.Wb(7,"div",13),ma.Rb(8,"app-input-text",14),ma.Vb(),ma.Vb(),ma.Wb(9,"td"),ma.Wb(10,"div",15),ma.Rb(11,"app-input-text",16),ma.Rb(12,"app-input-text",17),ma.Vb(),ma.Vb(),ma.Wb(13,"td"),ma.Nc(14,Vc,3,1,"ng-container",18),ma.Nc(15,Lc,3,0,"ng-container",18),ma.Vb(),ma.Wb(16,"td"),ma.Wb(17,"div",13),ma.Rb(18,"app-selectbox-detailcode",19),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(19,"tr",11),ma.Wb(20,"td"),ma.Wb(21,"div",13),ma.Rb(22,"app-input-text",20),ma.Vb(),ma.Vb(),ma.Wb(23,"td"),ma.Wb(24,"div",13),ma.Rb(25,"app-input-text",21),ma.Vb(),ma.Vb(),ma.Wb(26,"td"),ma.Wb(27,"div",13),ma.Rb(28,"app-selectbox-detailcode",22),ma.Vb(),ma.Vb(),ma.Wb(29,"td"),ma.Wb(30,"div",13),ma.Rb(31,"app-selectbox",23),ma.Vb(),ma.Vb(),ma.Vb(),ma.Tb()),2&e){const e=t.$implicit,i=t.index,o=ma.hc();ma.Cb(1),ma.pc("formGroupName",i),ma.Cb(2),ma.pc("binary",!0),ma.Cb(2),ma.Rc(" ",e.get("userNo").value," "),ma.Cb(3),ma.pc("isInvalid",o.checkIsInvalid(i,"name")),ma.Cb(3),ma.pc("isInvalid",o.checkIsInvalid(i,"countryPhoneCode")),ma.Cb(1),ma.pc("isInvalid",o.checkIsInvalid(i,"compPhoneNo")),ma.Cb(2),ma.pc("ngIf",!e.get("userNo").value),ma.Cb(1),ma.pc("ngIf",e.get("userNo").value),ma.Cb(3),ma.pc("options",o.userStatusCodeList)("isInvalid",o.checkIsInvalid(i,"userStatusCode")),ma.Cb(1),ma.pc("formGroupName",i),ma.Cb(3),ma.pc("isInvalid",o.checkIsInvalid(i,"userId")),ma.Cb(3),ma.pc("isInvalid",o.checkIsInvalid(i,"emailAddress")),ma.Cb(3),ma.pc("options",o.languageCodeList)("isInvalid",o.checkIsInvalid(i,"languageCode")),ma.Cb(3),ma.pc("options",o.manageUserYnOptionList)("isInvalid",o.checkIsInvalid(i,"manageUserYn"))}}let Pc=(()=>{class e{constructor(e,t,i){this._dataService=e,this._store=t,this._alertService=i,this.manageUserYnOptionList=[{label:"Y",value:!0},{label:"N",value:!1}],this._checkValid=!1,this.staffFromGroup=this._dataService.generateUsCompStaffFormGroup()}get staffList(){return this._staffList}set staffList(e){this._staffList=e||[],this._setStaffListToFormGroup(this._staffList)}get staffListFormArray(){return this.staffFromGroup.get("list")}submit(){if(!this._isCheckedAtLeastOne())return this._checkValid=!1,void this._alertService.alert("Please select at least one staff.");if(this._isCheckedStaffFormGroupListInvalid())return this._checkValid=!0,void this.staffListFormArray.controls.forEach((e,t)=>{e.controls.checked.value&&Object.keys(e.controls).forEach(i=>{e.controls[i].invalid&&console.error(`[${t}] ${i} is invalid.`,e.controls[i])})});const e=this._setPutCondition();this._store.dispatch(n.putCompStaffs({condition:e})),this._checkValid=!1}checkIsInvalid(e,t){return this._checkValid&&this.staffListFormArray.controls[e].get("checked").value&&this.staffListFormArray.controls[e].get(t).invalid}sendPasswordByEmail(e){const t=e.value,i=this._dataService.initSendUserPassword(),o=_.pick(t,Object.keys(i));this._store.dispatch(n.sendPasswordByEmail({condition:o}))}_setPutCondition(){const e=this.staffFromGroup.value,t=this._dataService.initUsCompStaffFormItem();return{list:e.list.reduce((e,i)=>{if(i.checked){let o=_.pick(i,Object.keys(t));i.userNo||(o=_.omit(o,["userNo"])),e.push(o)}return e},[])}}_setStaffListToFormGroup(e){this.staffListFormArray.clear();const t=this._dataService.generateUsCompStaffFormItem();t.patchValue({checked:!1,compCode:this.compCode,userTypeCode:"U03",onlineOrOffline:"O",smsReceiveYn:!1}),this.staffListFormArray.push(t),e.forEach(e=>{const t=this._dataService.generateUsCompStaffFormItem();t.patchValue(e),this.staffListFormArray.push(t)})}_isCheckedStaffFormGroupListInvalid(){for(let e=0;e<this.staffListFormArray.length;e++){const t=this.staffListFormArray.controls[e];if(t.controls.checked.value&&t.invalid)return!0}return!1}_isCheckedAtLeastOne(){for(let e=0;e<this.staffListFormArray.length;e++)if(this.staffListFormArray.controls[e].controls.checked.value)return!0;return!1}}return e.\u0275fac=function(t){return new(t||e)(ma.Qb(Pa),ma.Qb(r.h),ma.Qb($a.a))},e.\u0275cmp=ma.Kb({type:e,selectors:[["app-us-comp-detail-biz-member-member-list-of-partner-form"]],inputs:{compCode:"compCode",userStatusCodeList:"userStatusCodeList",languageCodeList:"languageCodeList",staffList:"staffList"},decls:53,vars:2,consts:[[1,"page-item-header"],[1,"title"],[1,"control"],[1,"color-danger","mr15","font-size-xs"],["type","button",1,"btn","btn-secondary","sm",3,"click"],[3,"formGroup"],[1,"table","table-bordered"],["width","50px"],["rowspan","2"],["formArrayName","list"],[4,"ngFor","ngForOf"],[3,"formGroupName"],["formControlName","checked",3,"binary"],[1,"input"],["formControlName","name","placeholder","Name of B2B User",1,"flex-fill",3,"isInvalid"],[1,"form-group"],["formControlName","countryPhoneCode","placeholder","e.g. 82",1,"flex-fill",2,"width","30%",3,"isInvalid"],["formControlName","compPhoneNo",1,"flex-fill",2,"width","70%",3,"isInvalid"],[4,"ngIf"],["formControlName","userStatusCode","displayWord","detailCodeName","dataKey","detailCode","useAllOptionName","Select",1,"flex-fill",3,"options","isInvalid"],["formControlName","userId","placeholder","Please use the Email Address",1,"flex-fill",3,"isInvalid"],["formControlName","emailAddress","placeholder","Email Address",1,"flex-fill",3,"isInvalid"],["formControlName","languageCode","useAllOptionName","Select","displayWord","detailCodeName","dataKey","detailCode",1,"flex-fill",3,"options","isInvalid"],["formControlName","manageUserYn",1,"flex-fill",3,"options","isInvalid"],["formControlName","userPassword","placeholder","Password",1,"flex-fill",3,"isInvalid"],["type","button",1,"btn","btn-light","sm",2,"width","100%",3,"click"]],template:function(e,t){1&e&&(ma.Wb(0,"div",0),ma.Wb(1,"p",1),ma.Pc(2,"Member List of Partner"),ma.Vb(),ma.Wb(3,"div",2),ma.Wb(4,"span",3),ma.Pc(5," \u203b Password : Enter 8 to 16 characters, uppercase/lowercase letters, numbers, and special characters."),ma.Vb(),ma.Wb(6,"button",4),ma.fc("click",(function(){return t.submit()})),ma.Pc(7,"Save"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(8,"form",5),ma.Wb(9,"div",6),ma.Wb(10,"table"),ma.Wb(11,"caption"),ma.Pc(12,"Member List of Partner"),ma.Vb(),ma.Wb(13,"colgroup"),ma.Rb(14,"col",7),ma.Rb(15,"col"),ma.Rb(16,"col"),ma.Rb(17,"col"),ma.Rb(18,"col"),ma.Rb(19,"col"),ma.Vb(),ma.Wb(20,"thead"),ma.Wb(21,"tr"),ma.Rb(22,"th",8),ma.Wb(23,"th",8),ma.Wb(24,"sup"),ma.Pc(25,"User No."),ma.Vb(),ma.Vb(),ma.Wb(26,"th"),ma.Wb(27,"sup"),ma.Pc(28,"Name"),ma.Vb(),ma.Vb(),ma.Wb(29,"th"),ma.Wb(30,"sup"),ma.Pc(31,"Comp Phone No."),ma.Vb(),ma.Vb(),ma.Wb(32,"th"),ma.Wb(33,"sup"),ma.Pc(34,"PW"),ma.Vb(),ma.Vb(),ma.Wb(35,"th"),ma.Wb(36,"sup"),ma.Pc(37,"Status"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(38,"tr"),ma.Wb(39,"th"),ma.Wb(40,"sup"),ma.Pc(41,"ID"),ma.Vb(),ma.Vb(),ma.Wb(42,"th"),ma.Wb(43,"sup"),ma.Pc(44,"Email"),ma.Vb(),ma.Vb(),ma.Wb(45,"th"),ma.Wb(46,"sup"),ma.Pc(47,"Language"),ma.Vb(),ma.Vb(),ma.Wb(48,"th"),ma.Wb(49,"sup"),ma.Pc(50,"Manage User"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(51,"tbody",9),ma.Nc(52,jc,32,17,"ng-container",10),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb()),2&e&&(ma.Cb(8),ma.pc("formGroup",t.staffFromGroup),ma.Cb(44),ma.pc("ngForOf",t.staffListFormArray.controls))},directives:[s.B,s.s,s.k,s.e,a.n,s.l,ns.a,s.r,s.i,Wa.a,a.o,_a.a,Ta.a],encapsulation:2}),e})(),Sc=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ma.Kb({type:e,selectors:[["app-us-comp-detail-biz-member"]],inputs:{compCode:"compCode",userStatusCodeList:"userStatusCodeList",languageCodeList:"languageCodeList",staffList:"staffList"},decls:2,vars:4,consts:[[1,"page-item"],[3,"compCode","userStatusCodeList","languageCodeList","staffList"]],template:function(e,t){1&e&&(ma.Wb(0,"div",0),ma.Rb(1,"app-us-comp-detail-biz-member-member-list-of-partner-form",1),ma.Vb()),2&e&&(ma.Cb(1),ma.pc("compCode",t.compCode)("userStatusCodeList",t.userStatusCodeList)("languageCodeList",t.languageCodeList)("staffList",t.staffList))},directives:[Pc],encapsulation:2}),e})();var Ic=i("UIHd"),Fc=i("bMKz");const kc=function(e){return{active:e}},Wc=function(e,t){return{active:e,disabled:t}};let Tc=(()=>{class e{constructor(e,t){this.store=e,this.authStore=t,this.unsubscribe$=new S.a,this.sellerTab=!1,this.vendorTab=!1,this.contractTab=!1,this.picTab=!1,this.bizMemeberTab=!1,this.selectedMasterItem$=e.pipe(Object(r.u)(Rn)),this.loginUser$=t.pipe(Object(r.u)(ca.r)),this.compTypeList$=e.pipe(Object(r.u)(Eo)),this.languageCodeList$=e.pipe(Object(r.u)($o)),this.tradeStatusList$=e.pipe(Object(r.u)(Ao)),this.currencyList$=e.pipe(Object(r.u)(Uo)),this.markupMasterList$=e.pipe(Object(r.u)(wo)),this.activityMarkupMasterList$=e.pipe(Object(r.u)(Yo)),this.taxPayerTypeList$=e.pipe(Object(r.u)(ln)),this.registerPathList$=e.pipe(Object(r.u)(dn)),this.accountTypeList$=e.pipe(Object(r.u)(pn)),this.accountTransferTypeList$=e.pipe(Object(r.u)(un)),this.flightApprovalStatusList$=e.pipe(Object(r.u)(bn)),this.hotelApprovalStatusList$=e.pipe(Object(r.u)(mn)),this.rentApprovalStatusList$=e.pipe(Object(r.u)(hn)),this.activityApprovalStatusList$=e.pipe(Object(r.u)(Cn)),this.vendorPayTypeList$=e.pipe(Object(r.u)(fn)),this.paymentPeriodList$=e.pipe(Object(r.u)(yn)),this.activityVendorGradeList$=e.pipe(Object(r.u)(gn)),this.activityGradeCommList$=e.pipe(Object(r.u)(vn)),this.activityGradeCommCategoryList$=e.pipe(Object(r.u)(On)),this.refundReductTypeList$=e.pipe(Object(r.u)(Vn)),this.refundRangeTypeList$=e.pipe(Object(r.u)(Ln)),this.userTypeList$=e.pipe(Object(r.u)(jn)),this.userStatusCodeList$=e.pipe(Object(r.u)(Pn)),this.sellerGradeList$=e.pipe(Object(r.u)(Sn)),this.picTypeCodeList$=e.pipe(Object(r.u)(xo)),this.sellerBranchTypeList$=e.pipe(Object(r.u)(Ro)),this.bankMasterList$=e.pipe(Object(r.u)(Bo)),this.depositTypeCodeList$=this.store.pipe(Object(r.u)(Ho)),this.depositResult$=e.pipe(Object(r.u)(qo)),this.hotelMappingList$=e.pipe(Object(r.u)(Go)),this.rateTypeList$=e.pipe(Object(r.u)(zo)),this.contractStatusCodeList$=e.pipe(Object(r.u)(Ko)),this.mappingStatusCodeList$=e.pipe(Object(r.u)(Qo)),this.salesCountryCodeList$=e.pipe(Object(r.u)(Xo)),this.compCodeList$=e.pipe(Object(r.u)(Zo)),this.excludeResult$=e.pipe(Object(r.u)(Jo)),this.picListByType$=e.pipe(Object(r.u)(en)),this.floatingDeposit$=e.pipe(Object(r.u)(tn)),this.paymentTypeList$=e.pipe(Object(r.u)(on)),this.paymentMethodList$=e.pipe(Object(r.u)(nn)),this.currencyInfo$=e.pipe(Object(r.u)(an)),this.vendorPaymentPeriodCodeList$=e.pipe(Object(r.u)(sn)),this.sellerPaymentPeriodCodeList$=e.pipe(Object(r.u)(rn)),this.compAccountLoading$=e.pipe(Object(r.u)(An)),this.compAccountList$=e.pipe(Object(r.u)(En)),this.compVendorLoading$=e.pipe(Object(r.u)($n)),this.compVendorInfo$=e.pipe(Object(r.u)(Un)),this.contractFileList$=e.pipe(Object(r.u)(wn)),this.loadChildPolicy$=e.pipe(Object(r.u)(Bn)),this.vendorContractList$=e.pipe(Object(r.u)(Yn)),this.hotelContractTypeCodeList$=e.pipe(Object(r.u)(Hn)),this.compSellerLoading$=e.pipe(Object(r.u)(ia)),this.compSellerInfo$=e.pipe(Object(r.u)(oa)),this.compStaffListTotalCount$=e.pipe(Object(r.u)(na)),this.compStaffList$=e.pipe(Object(r.u)(aa)),this.countryPhoneList$=e.pipe(Object(r.u)(sa)),this._initSubscription()}ngOnInit(){this.tabIndex=0}ngOnDestroy(){this.store.dispatch(n.initStateAction()),this.unsubscribe$.next(),this.unsubscribe$.complete()}onChangeTab(e,t){this.tabIndex!==e&&this.compCode&&t&&(this.tabIndex=e)}upsertMasterHandler(e){this.store.dispatch(n.upsertMaster({upsertCondition:e}))}deleteVendor(e){this.store.dispatch(n.deleteVendor({condition:e}))}upsertAccountHandler(e){this.store.dispatch(n.upsertCompAccount({upsertCondition:e}))}submitExcludeHandler(e){this.store.dispatch(n.upsertExclude({condition:{insertItems:e}}))}submitPaymentEvent(e){this.store.dispatch(n.upsertCompSeller({upsertCondition:e}))}submitCurrencyHandler(e){this.store.dispatch(n.upsertCurrency({condition:{insertItems:e}}))}deleteCurrencyHandler(e){this.store.dispatch(n.deleteCurrency({condition:e}))}senbillClick(e){this.store.dispatch(n.sendbill({condition:e}))}_initSubscription(){this.selectedMasterItem$.pipe(Object(k.a)(this.unsubscribe$)).subscribe(e=>{if(_.isEmpty(e))this.compCode=null,this.masterInfo=null;else{this.masterInfo=e,this.compCode=e.compCode,this.hotelCode=e.hotelCode;let t=["CMP01","CMP02","CMP03"],i=["CMP01","CMP04","CMP05","CMP06","CMP11"],o=["CMP04","CMP05","CMP06"],n=["CMP01","CMP02","CMP03","CMP04","CMP05","CMP06","CMP07","CMP08","CMP09","CMP10","CMP11"],a=[e.compTypeCode1,e.compTypeCode2,e.compTypeCode3];const s=a.some(e=>t.includes(e)),c=a.some(e=>i.includes(e)),r=a.some(e=>o.includes(e)),l=a.some(e=>n.includes(e));s&&(this.sellerTab=!0),c&&(this.vendorTab=!0),r&&(this.contractTab=!0),l&&(this.picTab=!0,this.bizMemeberTab=!0),this._requestCompOtherInfos()}}),this.store.dispatch(n.loadCompList({condition:{compTypeCodes:["CMP01"],limits:[0,50]}})),this.store.dispatch(n.loadSalesCountryCode({condition:{}}))}closeEvent(){}fileSubmitEvent(e){this.store.dispatch(n.fileUpload({condition:e}))}_requestCompOtherInfos(){this.store.dispatch(n.loadCompAccountList()),this.store.dispatch(n.loadCompVendorInfo()),this.store.dispatch(n.loadCompVendorPaymentPeriodList({condition:{masterCode:"BS019"}})),this.store.dispatch(n.loadCompSellerPaymentPeriodList({condition:{masterCode:"BS020"}})),this.store.dispatch(n.loadVccInfoByCountryList({condition:{masterCode:"PM013"}})),this.store.dispatch(n.loadCompStaffList()),this.store.dispatch(n.loadCompSellerInfo()),this.store.dispatch(n.loadRateTypeList()),this.store.dispatch(n.loadFileList({condition:{vendorCompCode:this.compCode}})),this.store.dispatch(n.getExclude({condition:{sellerCompCode:this.compCode}})),this.store.dispatch(n.getPicListByType({condition:{compCode:this.compCode}})),this.store.dispatch(n.loadFloatingDeposit({condition:{vendorCompCode:this.compCode}})),this._dispatchVendorMapping(),this.store.dispatch(n.postCurrency({condition:{sellerCompCode:this.compCode}})),this.store.dispatch(n.loadContractStatusCodeList({condition:{masterCode:"VD007"}})),this.store.dispatch(n.loadMappingStatusCodeList({condition:{masterCode:"VD008"}})),this.store.dispatch(n.loadPaymentTypeList({condition:{masterCode:"VD001"}})),this.store.dispatch(n.loadPaymentMethodList({condition:{masterCode:"HO010"}})),this.store.dispatch(n.getCommonCountry({condition:{countryPhoneCodeExist:!0}})),this.store.dispatch(n.loadHotelContractTypeCodeList())}_dispatchVendorMapping(){const e=[this.masterInfo.compTypeCode1,this.masterInfo.compTypeCode2,this.masterInfo.compTypeCode3];["CMP04","CMP05","CMP06","CMP07","CMP08"].some(t=>e.includes(t))&&this.store.dispatch(n.loadHotelMappingList({condition:{vendorCompCode:this.compCode}}))}}return e.\u0275fac=function(t){return new(t||e)(ma.Qb(r.h),ma.Qb(r.h))},e.\u0275cmp=ma.Kb({type:e,selectors:[["app-us-comp-detail"]],inputs:{searchCondition:"searchCondition",modifyFlag:"modifyFlag"},decls:97,vars:230,consts:[[1,"tabs-main-group","no-btn"],[1,"tabs-main-group-outer"],[1,"tabs-nav"],[1,"nav-item",3,"ngClass"],[1,"nav-link",3,"click"],[1,"tabs-content","tabs-main-contents","contents-scroll"],[1,"tab-pane",3,"ngClass"],[3,"searchCondition","tradeStatusList","compTypeList","languageCodeList","currencyList","markupMasterList","activityMarkupMasterList","taxPayerTypeList","registerPathList","compCodeList","salesCountryCodeList","dataItem","submitEvent","senbillClick"],[3,"loading","accountTypeList","accountTransferTypeList","accountList","currencyList","bankList","masterCompCode","modifyFlag","clickSaveEvent"],[3,"loading","masterCompCode","sellerGradeList","sellerBranchTypeList","loginUser","sellerInfo","excludeInfo","paymentPeriodList","depositTypeCodeList","currencyList","currencyInfo","submitExcludeHandler","submitPaymentEvent","submitCurrencyHandler","deleteCurrencyHandler","deleteVendor"],[3,"loading","masterCompCode","flightApprovalStatusList","hotelApprovalStatusList","rentApprovalStatusList","activityApprovalStatusList","vendorPayTypeList","paymentPeriodList","activityVendorGradeList","activityGradeCommList","compVendorInfo","contractFileList","floatingDeposit","paymentTypeList","paymentMethodList","hotelInfo"],[3,"masterCompCode","hotelMappingList","hotelContractTypeCodeList","currencyList","rateTypeList","contractStatusCodeList","mappingStatusCodeList","childPolicy","vendorContractList","countryPhoneList"],[3,"compCode","hotelMappingList","countryPhoneList","picTypeCodeList","picListByType"],[3,"compCode","userStatusCodeList","languageCodeList","staffList"]],template:function(e,t){if(1&e&&(ma.Wb(0,"div",0),ma.Wb(1,"div",1),ma.Wb(2,"ul",2),ma.Wb(3,"li",3),ma.Wb(4,"a",4),ma.fc("click",(function(){return t.onChangeTab(0,!0)})),ma.Pc(5,"Basic"),ma.Vb(),ma.Vb(),ma.Wb(6,"li",3),ma.Wb(7,"a",4),ma.fc("click",(function(){return t.onChangeTab(1,!0)})),ma.Pc(8,"Bank Account"),ma.Vb(),ma.Vb(),ma.Wb(9,"li",3),ma.Wb(10,"a",4),ma.fc("click",(function(){return t.onChangeTab(2,t.sellerTab)})),ma.Pc(11,"Seller"),ma.Vb(),ma.Vb(),ma.Wb(12,"li",3),ma.Wb(13,"a",4),ma.fc("click",(function(){return t.onChangeTab(3,t.vendorTab)})),ma.Pc(14,"Vendor"),ma.Vb(),ma.Vb(),ma.Wb(15,"li",3),ma.Wb(16,"a",4),ma.fc("click",(function(){return t.onChangeTab(4,t.contractTab)})),ma.Pc(17,"Vendor Contract"),ma.Vb(),ma.Vb(),ma.Wb(18,"li",3),ma.Wb(19,"a",4),ma.fc("click",(function(){return t.onChangeTab(5,t.picTab)})),ma.Pc(20,"PIC"),ma.Vb(),ma.Vb(),ma.Wb(21,"li",3),ma.Wb(22,"a",4),ma.fc("click",(function(){return t.onChangeTab(6,t.bizMemeberTab)})),ma.Pc(23,"Biz Member"),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Vb(),ma.Wb(24,"div",5),ma.Wb(25,"div",6),ma.Wb(26,"app-us-comp-detail-master",7),ma.fc("submitEvent",(function(e){return t.upsertMasterHandler(e)}))("senbillClick",(function(e){return t.senbillClick(e)})),ma.ic(27,"async"),ma.ic(28,"async"),ma.ic(29,"async"),ma.ic(30,"async"),ma.ic(31,"async"),ma.ic(32,"async"),ma.ic(33,"async"),ma.ic(34,"async"),ma.ic(35,"async"),ma.ic(36,"async"),ma.ic(37,"async"),ma.Vb(),ma.Vb(),ma.Wb(38,"div",6),ma.Wb(39,"app-us-comp-detail-account",8),ma.fc("clickSaveEvent",(function(e){return t.upsertAccountHandler(e)})),ma.ic(40,"async"),ma.ic(41,"async"),ma.ic(42,"async"),ma.ic(43,"async"),ma.ic(44,"async"),ma.ic(45,"async"),ma.Vb(),ma.Vb(),ma.Wb(46,"div",6),ma.Wb(47,"app-us-comp-detail-seller",9),ma.fc("submitExcludeHandler",(function(e){return t.submitExcludeHandler(e)}))("submitPaymentEvent",(function(e){return t.submitPaymentEvent(e)}))("submitCurrencyHandler",(function(e){return t.submitCurrencyHandler(e)}))("deleteCurrencyHandler",(function(e){return t.deleteCurrencyHandler(e)}))("deleteVendor",(function(e){return t.deleteVendor(e)})),ma.ic(48,"async"),ma.ic(49,"async"),ma.ic(50,"async"),ma.ic(51,"async"),ma.ic(52,"async"),ma.ic(53,"async"),ma.ic(54,"async"),ma.ic(55,"async"),ma.ic(56,"async"),ma.ic(57,"async"),ma.Vb(),ma.Vb(),ma.Wb(58,"div",6),ma.Rb(59,"app-us-comp-detail-vendor",10),ma.ic(60,"async"),ma.ic(61,"async"),ma.ic(62,"async"),ma.ic(63,"async"),ma.ic(64,"async"),ma.ic(65,"async"),ma.ic(66,"async"),ma.ic(67,"async"),ma.ic(68,"async"),ma.ic(69,"async"),ma.ic(70,"async"),ma.ic(71,"async"),ma.ic(72,"async"),ma.ic(73,"async"),ma.ic(74,"async"),ma.Vb(),ma.Wb(75,"div",6),ma.Rb(76,"app-us-comp-detail-vendor-contract",11),ma.ic(77,"async"),ma.ic(78,"async"),ma.ic(79,"async"),ma.ic(80,"async"),ma.ic(81,"async"),ma.ic(82,"async"),ma.ic(83,"async"),ma.ic(84,"async"),ma.ic(85,"async"),ma.Vb(),ma.Wb(86,"div",6),ma.Rb(87,"app-us-comp-detail-pic",12),ma.ic(88,"async"),ma.ic(89,"async"),ma.ic(90,"async"),ma.ic(91,"async"),ma.Vb(),ma.Wb(92,"div",6),ma.Rb(93,"app-us-comp-detail-biz-member",13),ma.ic(94,"async"),ma.ic(95,"async"),ma.ic(96,"async"),ma.Vb(),ma.Vb()),2&e){var i;const e=null==(i=ma.jc(74,162,t.hotelMappingList$))?null:i.list;var o;const a=null==(o=ma.jc(77,164,t.hotelMappingList$))?null:o.list;var n;const s=null==(n=ma.jc(88,182,t.hotelMappingList$))?null:n.list;ma.Cb(3),ma.pc("ngClass",ma.uc(196,kc,0===t.tabIndex)),ma.Cb(3),ma.pc("ngClass",ma.vc(198,Wc,1===t.tabIndex,!t.compCode)),ma.Cb(3),ma.pc("ngClass",ma.vc(201,Wc,2===t.tabIndex,!t.compCode||!t.sellerTab)),ma.Cb(3),ma.pc("ngClass",ma.vc(204,Wc,3===t.tabIndex,!t.compCode||!t.vendorTab)),ma.Cb(3),ma.pc("ngClass",ma.vc(207,Wc,4===t.tabIndex,!t.compCode||!t.contractTab)),ma.Cb(3),ma.pc("ngClass",ma.vc(210,Wc,5===t.tabIndex,!t.compCode||!t.picTab)),ma.Cb(3),ma.pc("ngClass",ma.vc(213,Wc,6===t.tabIndex,!t.compCode||!t.bizMemeberTab)),ma.Cb(4),ma.pc("ngClass",ma.uc(216,kc,0===t.tabIndex)),ma.Cb(1),ma.pc("searchCondition",t.searchCondition)("tradeStatusList",ma.jc(27,80,t.tradeStatusList$))("compTypeList",ma.jc(28,82,t.compTypeList$))("languageCodeList",ma.jc(29,84,t.languageCodeList$))("currencyList",ma.jc(30,86,t.currencyList$))("markupMasterList",ma.jc(31,88,t.markupMasterList$))("activityMarkupMasterList",ma.jc(32,90,t.activityMarkupMasterList$))("taxPayerTypeList",ma.jc(33,92,t.taxPayerTypeList$))("registerPathList",ma.jc(34,94,t.registerPathList$))("compCodeList",ma.jc(35,96,t.compCodeList$))("salesCountryCodeList",ma.jc(36,98,t.salesCountryCodeList$))("dataItem",ma.jc(37,100,t.selectedMasterItem$)),ma.Cb(12),ma.pc("ngClass",ma.uc(218,kc,1===t.tabIndex)),ma.Cb(1),ma.pc("loading",ma.jc(40,102,t.compAccountLoading$))("accountTypeList",ma.jc(41,104,t.accountTypeList$))("accountTransferTypeList",ma.jc(42,106,t.accountTransferTypeList$))("accountList",ma.jc(43,108,t.compAccountList$))("currencyList",ma.jc(44,110,t.currencyList$))("bankList",ma.jc(45,112,t.bankMasterList$))("masterCompCode",t.compCode)("modifyFlag",t.modifyFlag),ma.Cb(7),ma.pc("ngClass",ma.uc(220,kc,2===t.tabIndex)),ma.Cb(1),ma.pc("loading",ma.jc(48,114,t.compSellerLoading$))("masterCompCode",t.compCode)("sellerGradeList",ma.jc(49,116,t.sellerGradeList$))("sellerBranchTypeList",ma.jc(50,118,t.sellerBranchTypeList$))("loginUser",ma.jc(51,120,t.loginUser$))("sellerInfo",ma.jc(52,122,t.compSellerInfo$))("excludeInfo",ma.jc(53,124,t.excludeResult$))("paymentPeriodList",ma.jc(54,126,t.sellerPaymentPeriodCodeList$))("depositTypeCodeList",ma.jc(55,128,t.depositTypeCodeList$))("currencyList",ma.jc(56,130,t.currencyList$))("currencyInfo",ma.jc(57,132,t.currencyInfo$)),ma.Cb(11),ma.pc("ngClass",ma.uc(222,kc,3===t.tabIndex)),ma.Cb(1),ma.pc("loading",ma.jc(60,134,t.compVendorLoading$))("masterCompCode",t.compCode)("flightApprovalStatusList",ma.jc(61,136,t.flightApprovalStatusList$))("hotelApprovalStatusList",ma.jc(62,138,t.hotelApprovalStatusList$))("rentApprovalStatusList",ma.jc(63,140,t.rentApprovalStatusList$))("activityApprovalStatusList",ma.jc(64,142,t.activityApprovalStatusList$))("vendorPayTypeList",ma.jc(65,144,t.vendorPayTypeList$))("paymentPeriodList",ma.jc(66,146,t.paymentPeriodList$))("activityVendorGradeList",ma.jc(67,148,t.activityVendorGradeList$))("activityGradeCommList",ma.jc(68,150,t.activityGradeCommList$))("compVendorInfo",ma.jc(69,152,t.compVendorInfo$))("contractFileList",ma.jc(70,154,t.contractFileList$))("floatingDeposit",ma.jc(71,156,t.floatingDeposit$))("paymentTypeList",ma.jc(72,158,t.paymentTypeList$))("paymentMethodList",ma.jc(73,160,t.paymentMethodList$))("hotelInfo",e),ma.Cb(16),ma.pc("ngClass",ma.uc(224,kc,4===t.tabIndex)),ma.Cb(1),ma.pc("masterCompCode",t.compCode)("hotelMappingList",a)("hotelContractTypeCodeList",ma.jc(78,166,t.hotelContractTypeCodeList$))("currencyList",ma.jc(79,168,t.currencyList$))("rateTypeList",ma.jc(80,170,t.rateTypeList$))("contractStatusCodeList",ma.jc(81,172,t.contractStatusCodeList$))("mappingStatusCodeList",ma.jc(82,174,t.mappingStatusCodeList$))("childPolicy",ma.jc(83,176,t.loadChildPolicy$))("vendorContractList",ma.jc(84,178,t.vendorContractList$))("countryPhoneList",ma.jc(85,180,t.countryPhoneList$)),ma.Cb(10),ma.pc("ngClass",ma.uc(226,kc,5===t.tabIndex)),ma.Cb(1),ma.pc("compCode",t.compCode)("hotelMappingList",s)("countryPhoneList",ma.jc(89,184,t.countryPhoneList$))("picTypeCodeList",ma.jc(90,186,t.picTypeCodeList$))("picListByType",ma.jc(91,188,t.picListByType$)),ma.Cb(5),ma.pc("ngClass",ma.uc(228,kc,6===t.tabIndex)),ma.Cb(1),ma.pc("compCode",t.compCode)("userStatusCodeList",ma.jc(94,190,t.userStatusCodeList$))("languageCodeList",ma.jc(95,192,t.languageCodeList$))("staffList",ma.jc(96,194,t.compStaffList$))}},directives:[a.l,Ja,ts,Oc,Ws,Gs,rc,Sc],pipes:[a.b],encapsulation:2,changeDetection:0}),e})();function _c(e,t){if(1&e&&ma.Rb(0,"app-us-comp-detail",6),2&e){const e=ma.hc();ma.pc("modifyFlag",e.modifyFlag)("searchCondition",e.searchCondition)}}let Dc=(()=>{class e{constructor(e,t,i,o,n){this.store=e,this._dataService=t,this.UserConditionService=i,this.authStore=o,this._fileService=n,this.unsubscribe$=new S.a,this.modifyFlag=!1,this.compTypeList$=e.pipe(Object(r.u)(Eo)),this.tradeStatusList$=e.pipe(Object(r.u)(Ao)),this.picTypeCodeList$=e.pipe(Object(r.u)(xo)),this.loading$=e.pipe(Object(r.u)(In)),this.reloadYn$=e.pipe(Object(r.u)(Fn)),this.searchCondition$=e.pipe(Object(r.u)(kn)),this.otherSearchInfo$=e.pipe(Object(r.u)(Wn)),this.gridDataList$=e.pipe(Object(r.u)(Tn)),this.pageSize$=e.pipe(Object(r.u)(Mn)),this.totalCount$=e.pipe(Object(r.u)(_n)),this.gridState$=e.pipe(Object(r.u)(Dn)),this.gridCheckedState$=e.pipe(Object(r.u)(Nn)),this.selectedMasterItem$=e.pipe(Object(r.u)(Rn)),this.isOpenDetailPopup$=e.pipe(Object(r.u)(xn)),this.markupMasterList$=e.pipe(Object(r.u)(wo)),this.columns=this._dataService.generateGridColumns(),this.storeId$=o.pipe(Object(r.u)(ca.o))}ngOnInit(){this._requestCommonDetailCodes(),this.storeId$.subscribe(e=>this._storeId=e),this.initSearchCondition(),this._initSubscription()}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.store.dispatch(o.initStateAction()),this.store.dispatch(o.setGridCheckedStateAction({gridCheckedState:this.gridEl.checkedStateOutput}))}changePageSizeHandler(e){this.store.dispatch(o.changePageSize({pageSize:e}))}clickSearchHandler({searchCondition:e,otherSearchInfo:t}){this.store.dispatch(o.changeSearchCondition({searchCondition:e,otherSearchInfo:t})),this.store.dispatch(o.changePageIndex({pageIndex:0})),this.UserConditionService.setSearchSettingSessionStorage(e,this._storeId,t)}clickResetHandler(){this.store.dispatch(o.changeSearchCondition({searchCondition:{},otherSearchInfo:null}))}gridStateChangeHandler(e){this.store.dispatch(o.setGridStateAction({gridState:e}))}clickAddHandler(){this.modifyFlag=!0,this.store.dispatch(o.openDetailPopup())}closeUpsertHandler(){this.store.dispatch(o.closeDetailPopup()),this.store.dispatch(o.delSelectedDetailRowInfo())}dbClickRowHandler(e){this.modifyFlag=!1,this.store.dispatch(o.addSelectedDetailRowInfo({selectedDetailRowInfo:_.cloneDeep(e)})),this.clickAddHandler()}_initSubscription(){this.reloadYn$.pipe(Object(F.a)(1),Object(k.a)(this.unsubscribe$)).subscribe(()=>{this.searchEl.onSubmit()}),Object(I.a)([this.searchCondition$,this.gridState$]).pipe(Object(F.a)(1),Object(W.a)(200),Object(T.a)(([e,t])=>!_.isEmpty(e)),Object(k.a)(this.unsubscribe$)).subscribe(([e,{pageInfo:t}])=>{const i=this._setSearchCondition(Object.assign({},e,{limits:[t.skip,t.skip+t.take]}));this.searchCondition=i,this.store.dispatch(o.loadCompMasterList({condition:i}))})}_setSortOrder(e){return e.filter(e=>!_.isNil(e.dir)).map(e=>({keyName:e.field,sort:e.dir}))}_setSearchCondition(e){const t=Object.keys(this._dataService.initCompMasterSearchCondition());return _.pick(e,t)}clickExcelHandler(){const e=this.searchEl.setSearchCondition();this._fileService.fileDownload({url:da.excelDownload,filename:"Customer management details",type:"excel",params:e,requestMethod:"post"})}_requestCommonDetailCodes(){this.store.dispatch(o.loadCompTypeList({})),this.store.dispatch(o.loadTradeStatusList({})),this.store.dispatch(o.loadPicTypeCodeList({})),this.store.dispatch(o.loadSellerBranchTypeList({})),this.store.dispatch(o.loadLanguageCodeList({})),this.store.dispatch(o.loadCurrencyList({})),this.store.dispatch(o.loadMarkupMasterList({})),this.store.dispatch(o.loadActivityMarkupMasterList({})),this.store.dispatch(o.loadTaxPayerTypeList({})),this.store.dispatch(o.loadRegisterPathList({})),this.store.dispatch(o.loadAccountTypeList({})),this.store.dispatch(o.loadAccountTransferTypeList({})),this.store.dispatch(o.loadFlightApprovalStatusList({})),this.store.dispatch(o.loadHotelApprovalStatusList({})),this.store.dispatch(o.loadRentApprovalStatusList({})),this.store.dispatch(o.loadActivityApprovalStatusList({})),this.store.dispatch(o.loadVendorPayTypeList({})),this.store.dispatch(o.loadPaymentPeriodList({})),this.store.dispatch(o.loadActivityVendorGradeList({})),this.store.dispatch(o.loadActivityGradeCommList({})),this.store.dispatch(o.loadActivityGradeCommCategoryList({})),this.store.dispatch(o.loadRefundDeductTypeList({})),this.store.dispatch(o.loadRefundRangeTypeList({})),this.store.dispatch(o.loadUserTypeList({})),this.store.dispatch(o.loadUserStatusCodeList({})),this.store.dispatch(o.loadSellerGradeList({})),this.store.dispatch(o.loadBankMasterList({})),this.store.dispatch(o.loadDepositTpyeList({}))}initSearchCondition(){this.searchCondition$.subscribe(e=>this._searchCondition=e),this.gridDataList$.subscribe(e=>this._searchGridDataList=e),this.otherSearchInfo$.subscribe(e=>this._otherSearchInfo=e);const e=this._setSearchCondition(this._searchCondition);if(0===_.size(e)&&0===_.size(this._searchGridDataList)){const e=this._dataService.initListSearchFormData(),t=this.UserConditionService.selectSearchSetting(e,this._storeId,this._otherSearchInfo);this.store.dispatch(o.changeSearchCondition({searchCondition:t[0],otherSearchInfo:t[1]}))}}}return e.\u0275fac=function(t){return new(t||e)(ma.Qb(r.h),ma.Qb(Pa),ma.Qb(Fc.a),ma.Qb(r.h),ma.Qb(Ba.a))},e.\u0275cmp=ma.Kb({type:e,selectors:[["app-us-comp"]],viewQuery:function(e,t){var i;1&e&&(ma.Xc(Ea,!0),ma.Xc(Ic.a,!0)),2&e&&(ma.Dc(i=ma.gc())&&(t.searchEl=i.first),ma.Dc(i=ma.gc())&&(t.gridEl=i.first))},decls:20,vars:45,consts:[[3,"compTypeList","tradeStatusList","searchCondition","markupMasterList","clickSearchEvent","clickResetEvent"],[3,"loading","currentPageSize","totalCount","clickAddEvent","changePageSizeEvent","clickExcelEvent"],[3,"gridLoading","columns","gridState","checkedState","totalCount","sortable","dataList","stateChangeEvent","dbClickRowEvent"],["gridSimpleEl",""],["modalSize","lg","header","Company Master",3,"visible","modal","visibleChange"],[3,"modifyFlag","searchCondition",4,"ngIf"],[3,"modifyFlag","searchCondition"]],template:function(e,t){1&e&&(ma.Wb(0,"app-us-comp-search",0),ma.fc("clickSearchEvent",(function(e){return t.clickSearchHandler(e)}))("clickResetEvent",(function(){return t.clickResetHandler()})),ma.ic(1,"async"),ma.ic(2,"async"),ma.ic(3,"async"),ma.ic(4,"async"),ma.Vb(),ma.Wb(5,"app-us-comp-control",1),ma.fc("clickAddEvent",(function(){return t.clickAddHandler()}))("changePageSizeEvent",(function(e){return t.changePageSizeHandler(e)}))("clickExcelEvent",(function(){return t.clickExcelHandler()})),ma.ic(6,"async"),ma.ic(7,"async"),ma.ic(8,"async"),ma.Vb(),ma.Wb(9,"app-grid-simple",2,3),ma.fc("stateChangeEvent",(function(e){return t.gridStateChangeHandler(e)}))("dbClickRowEvent",(function(e){return t.dbClickRowHandler(e)})),ma.ic(11,"async"),ma.ic(12,"async"),ma.ic(13,"async"),ma.ic(14,"async"),ma.ic(15,"async"),ma.Vb(),ma.Wb(16,"app-dialog",4),ma.fc("visibleChange",(function(){return t.closeUpsertHandler()})),ma.ic(17,"async"),ma.Nc(18,_c,1,2,"app-us-comp-detail",5),ma.ic(19,"async"),ma.Vb()),2&e&&(ma.pc("compTypeList",ma.jc(1,17,t.compTypeList$))("tradeStatusList",ma.jc(2,19,t.tradeStatusList$))("searchCondition",ma.jc(3,21,t.searchCondition$))("markupMasterList",ma.jc(4,23,t.markupMasterList$)),ma.Cb(5),ma.pc("loading",ma.jc(6,25,t.loading$))("currentPageSize",ma.jc(7,27,t.pageSize$))("totalCount",ma.jc(8,29,t.totalCount$)),ma.Cb(4),ma.pc("gridLoading",ma.jc(11,31,t.loading$))("columns",t.columns)("gridState",ma.jc(12,33,t.gridState$))("checkedState",ma.jc(13,35,t.gridCheckedState$))("totalCount",ma.jc(14,37,t.totalCount$))("sortable",!1)("dataList",ma.jc(15,39,t.gridDataList$)),ma.Cb(7),ma.pc("visible",ma.jc(17,41,t.isOpenDetailPopup$))("modal",!0),ma.Cb(2),ma.pc("ngIf",ma.jc(19,43,t.isOpenDetailPopup$)))},directives:[Ea,Ua,Ic.a,os.a,a.o,Tc],pipes:[a.b],encapsulation:2,changeDetection:0}),e})();const Nc=[{path:"",component:Dc,data:{title:"\uac70\ub798\ucc98 \uad00\ub9ac"}}];let Mc=(()=>{class e{}return e.\u0275mod=ma.Ob({type:e}),e.\u0275inj=ma.Nb({factory:function(t){return new(t||e)},imports:[[P.f.forChild(Nc)],P.f]}),e})();var xc=i("bOdf"),Rc=i("zp1y"),Ac=i("lJxs"),Ec=i("vkgz"),$c=i("Xb6A");let Uc=(()=>{class e{constructor(e,t,i,a,s){this.actions$=e,this.service=t,this.store=i,this._errorService=a,this.alertService=s,this.loadCompTypeList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.loadCompTypeList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.compTypeList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)||0===t.length?this.service.getDetailCodeListOnlyLabelValue({masterCode:"US001",referCode1:"REGULAR"}).pipe(Object(Ac.a)(e=>o.getCompTypeListSuccess({dataList:e})),Object(ga.a)(e=>{const t="Failed to load base code.",i=[o.getCompTypeListFailure({error:t})];return this._catchErr(e,t,i),[]})):Object(Ca.a)(o.getCompTypeListSuccess({dataList:_.cloneDeep(t)}))))),this.loadTradeStatusList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.loadTradeStatusList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.tradeStatusList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)||0===t.length?this.service.getDetailCodeListOnlyLabelValue({masterCode:"US002"}).pipe(Object(Ac.a)(e=>o.getTradeStatusListSuccess({dataList:e})),Object(ga.a)(e=>{const t="Failed to load base code.",i=[o.getTradeStatusListFailure({error:t})];return this._catchErr(e,t,i),[]})):Object(Ca.a)(o.getTradeStatusListSuccess({dataList:_.cloneDeep(t)}))))),this.loadPicTypeCodeList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.loadPicTypeCodeList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.picTypeCodeList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)||0===t.length?this.service.getDetailCodeList({masterCode:"US003"}).pipe(Object(Ac.a)(e=>o.getPicTypeCodeListSuccess({dataList:e})),Object(ga.a)(e=>{const t="Failed to load base code.",i=[o.getPicTypeCodeListFailure({error:t})];return this._catchErr(e,t,i),[]})):Object(Ca.a)(o.getPicTypeCodeListSuccess({dataList:_.cloneDeep(t)}))))),this.loadSellerBranchTypeList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.loadSellerBranchTypeList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.sellerBranchTypeList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)||0===t.length?this.service.getDetailCodeListOnlyLabelValue({masterCode:"US008"}).pipe(Object(Ac.a)(e=>o.getSellerBranchTypeListSuccess({dataList:e})),Object(ga.a)(e=>{const t="Failed to load base code.",i=[o.getSellerBranchTypeListFailure({error:t})];return this._catchErr(e,t,i),[]})):Object(Ca.a)(o.getSellerBranchTypeListSuccess({dataList:_.cloneDeep(t)}))))),this.loadLanguageCodeList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.loadLanguageCodeList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.languageCodeList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)||0===t.length?this.service.getDetailCodeList({masterCode:"BS001"}).pipe(Object(Ac.a)(e=>o.getLanguageCodeListSuccess({dataList:e})),Object(ga.a)(e=>{const t="Failed to load base code.",i=[o.getLanguageCodeListFailure({error:t})];return this._catchErr(e,t,i),[]})):Object(Ca.a)(o.getLanguageCodeListSuccess({dataList:_.cloneDeep(t)}))))),this.loadCurrencyList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.loadCurrencyList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.currencyList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)||0===t.length?this.service.getDetailCodeListOnlyLabelValue({masterCode:"BS032"}).pipe(Object(Ac.a)(e=>o.getCurrencyListSuccess({dataList:e})),Object(ga.a)(e=>{const t="Failed to load base code.",i=[o.getCurrencyListFailure({error:t})];return this._catchErr(e,t,i),[]})):Object(Ca.a)(o.getCurrencyListSuccess({dataList:_.cloneDeep(t)}))))),this.loadBankMasterList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.loadBankMasterList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.bankMasterList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)||0===t.length?this.service.getDetailCodeListOnlyLabelValue({masterCode:"PM002"}).pipe(Object(Ac.a)(e=>o.getBankMasterListSuccess({dataList:e})),Object(ga.a)(e=>{const t="Failed to load base code.",i=[o.getBankMasterListFailure({error:t})];return this._catchErr(e,t,i),[]})):Object(Ca.a)(o.getBankMasterListSuccess({dataList:t}))))),this.loadMarkupMasterList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.loadMarkupMasterList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.markupMasterList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)?this.service.getMarkupMasterList({}).pipe(Object(Ac.a)(e=>o.getMarkupMasterListSuccess({dataList:e})),Object(ga.a)(e=>{const t="Failed to load base code.",i=[o.getMarkupMasterListFailure({error:t})];return this._catchErr(e,t,i),[]})):Object(Ca.a)(o.getMarkupMasterListSuccess({dataList:_.cloneDeep(t)}))))),this.activityMarkupMasterListSuccess$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.loadActivityMarkupMasterList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.markupMasterList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)?this.service.getActivityMarkupMasterList({}).pipe(Object(Ac.a)(e=>o.getActivityMarkupMasterListSuccess({dataList:e})),Object(ga.a)(e=>{const t="Failed to load base code.",i=[o.getMarkupMasterListFailure({error:t})];return this._catchErr(e,t,i),[]})):Object(Ca.a)(o.getMarkupMasterListSuccess({dataList:_.cloneDeep(t)}))))),this.loadTaxPayerTypeList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.loadTaxPayerTypeList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.taxPayerTypeList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)?this.service.getDetailCodeListOnlyLabelValue({masterCode:"US021"}).pipe(Object(Ac.a)(e=>o.getTaxPayerTypeListSuccess({dataList:e})),Object(ga.a)(e=>{const t="Failed to load base code.",i=[o.getTaxPayerTypeListFailure({error:t})];return this._catchErr(e,t,i),[]})):Object(Ca.a)(o.getTaxPayerTypeListSuccess({dataList:_.cloneDeep(t)}))))),this.loadRegisterPathList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.loadRegisterPathList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.registerPathList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)?this.service.getDetailCodeListOnlyLabelValue({masterCode:"US009"}).pipe(Object(Ac.a)(e=>o.getRegisterPathListSuccess({dataList:e})),Object(ga.a)(e=>{const t="Failed to load base code.",i=[o.getRegisterPathListFailure({error:t})];return this._catchErr(e,t,i),[]})):Object(Ca.a)(o.getRegisterPathListSuccess({dataList:_.cloneDeep(t)}))))),this.loadAccountTypeList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.loadAccountTypeList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.accountTypeList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)?this.service.getDetailCodeListOnlyLabelValue({masterCode:"PM001"}).pipe(Object(Ac.a)(e=>o.getAccountTypeListSuccess({dataList:e})),Object(ga.a)(e=>{const t="Failed to load base code.",i=[o.getAccountTypeListFailure({error:t})];return this._catchErr(e,t,i),[]})):Object(Ca.a)(o.getAccountTypeListSuccess({dataList:_.cloneDeep(t)}))))),this.loadAccountTransferTypeList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.loadAccountTypeList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.accountTransferTypeList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)?this.service.getDetailCodeListOnlyLabelValue({masterCode:"PM035"}).pipe(Object(Ac.a)(e=>o.getAccountTransferTypeListSuccess({dataList:e})),Object(ga.a)(e=>{const t="Failed to load base code.",i=[o.getAccountTransferTypeListFailure({error:t})];return this._catchErr(e,t,i),[]})):Object(Ca.a)(o.getAccountTransferTypeListSuccess({dataList:_.cloneDeep(t)}))))),this.loadFlightApprovalStatusList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.loadFlightApprovalStatusList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.flightApprovalStatusList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)?this.service.getDetailCodeListOnlyLabelValue({masterCode:"US020"}).pipe(Object(Ac.a)(e=>o.getFlightApprovalStatusListSuccess({dataList:e})),Object(ga.a)(e=>{const t="Failed to load base code.",i=[o.getFlightApprovalStatusListFailure({error:t})];return this._catchErr(e,t,i),[]})):[]))),this.loadHotelApprovalStatusList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.loadHotelApprovalStatusList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.hotelApprovalStatusList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)?this.service.getDetailCodeListOnlyLabelValue({masterCode:"US020"}).pipe(Object(Ac.a)(e=>o.getHotelApprovalStatusListSuccess({dataList:e})),Object(ga.a)(e=>{const t="Failed to load base code.",i=[o.getHotelApprovalStatusListFailure({error:t})];return this._catchErr(e,t,i),[]})):[]))),this.loadRentApprovalStatusList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.loadRentApprovalStatusList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.rentApprovalStatusList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)?this.service.getDetailCodeListOnlyLabelValue({masterCode:"US020"}).pipe(Object(Ac.a)(e=>o.getRentApprovalStatusListSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[]))):[]))),this.loadActivityApprovalStatusList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.loadActivityApprovalStatusList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.activityApprovalStatusList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)?this.service.getDetailCodeListOnlyLabelValue({masterCode:"US020"}).pipe(Object(Ac.a)(e=>o.getActivityApprovalStatusListSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[]))):[]))),this.loadVendorPayTypeList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.loadVendorPayTypeList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.vendorPayTypeList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)?this.service.getDetailCodeListOnlyLabelValue({masterCode:"BS024"}).pipe(Object(Ac.a)(e=>o.getVendorPayTypeListSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[]))):[]))),this.loadPaymentPeriodList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.loadPaymentPeriodList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.paymentPeriodList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)?this.service.getDetailCodeListOnlyLabelValue({masterCode:"BS019"}).pipe(Object(Ac.a)(e=>o.getPaymentPeriodListSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[]))):[]))),this.loadActivityVendorGradeList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.loadActivityVendorGradeList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.activityVendorGradeList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)?this.service.getDetailCodeListOnlyLabelValue({masterCode:"AV025"}).pipe(Object(Ac.a)(e=>o.getActivityVendorGradeListSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[]))):[]))),this.loadActivityGradeCommList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.loadActivityGradeCommList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.activityGradeCommList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)?this.service.getDetailCodeListOnlyLabelValue({masterCode:"AV026"}).pipe(Object(Ac.a)(e=>o.getActivityGradeCommListSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[]))):[]))),this.loadActivityGradeCommCategoryList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.loadActivityGradeCommCategoryList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.activityGradeCommCategoryList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)?this.service.getDetailCodeListOnlyLabelValue({masterCode:"AV003"}).pipe(Object(Ac.a)(e=>o.getActivityGradeCommCategoryListSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[]))):[]))),this.loadRefundDeductList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.loadRefundDeductTypeList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.refundDeductTypeList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)?this.service.getDetailCodeListOnlyLabelValue({masterCode:"FL043"}).pipe(Object(Ac.a)(e=>o.getRefundDeductTypeListSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[]))):[]))),this.loadRefundRangeList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.loadRefundRangeTypeList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.refundRangeTypeList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)?this.service.getDetailCodeListOnlyLabelValue({masterCode:"FL044"}).pipe(Object(Ac.a)(e=>o.getRefundRangeTypeListSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[]))):[]))),this.loadUserTypeList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.loadUserTypeList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.userTypeList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)?this.service.getDetailCodeList({masterCode:"US005"}).pipe(Object(Ac.a)(e=>o.getUserTypeListSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[]))):[]))),this.loadUserStatusCodeList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.loadUserStatusCodeList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.userStatusCodeList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)?this.service.getDetailCodeList({masterCode:"US006"}).pipe(Object(Ac.a)(e=>o.getUserStatusCodeListSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[]))):[]))),this.loadSellerGradeList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.loadSellerGradeList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.sellerGradeList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)||0===t.length?this.service.getDetailCodeListOnlyLabelValue({masterCode:"FL041"}).pipe(Object(Ac.a)(e=>o.getSellerGradeListSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[]))):Object(Ca.a)(o.getSellerGradeListSuccess({dataList:t}))))),this.loadDepositTypeList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.loadDepositTpyeList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.depositTypeCodeList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)||0===t.length?this.service.getDetailCodeListOnlyLabelValue({masterCode:"BS024"}).pipe(Object(Ac.a)(e=>o.getDepositTpyeListSuccessAction({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[]))):Object(Ca.a)(o.getDepositTpyeListSuccessAction({dataList:t}))))),this.loadRateTypeList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadRateTypeList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.rateTypeList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)||0===t.length?this.service.getDetailCodeListOnlyLabelValue({masterCode:"VD006"}).pipe(Object(Ac.a)(e=>n.loadRateTypeListSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[]))):Object(Ca.a)(n.loadRateTypeListSuccess({dataList:t}))))),this.loadContractStatusCodeList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadContractStatusCodeList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.contractStatusCodeList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([{condition:e},t])=>_.isNil(t)||0===t.length?this.service.getDetailCodeListOnlyLabelValue(e).pipe(Object(Ac.a)(e=>n.loadContractStatusCodeListSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[]))):Object(Ca.a)(n.loadContractStatusCodeListSuccess({dataList:t}))))),this.loadMappingTypeList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadMappingStatusCodeList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.mappingStatusCodeList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([{condition:e},t])=>_.isNil(t)||0===t.length?this.service.getDetailCodeListOnlyLabelValue(e).pipe(Object(Ac.a)(e=>n.loadMappingStatusCodeListSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[]))):Object(Ca.a)(n.loadMappingStatusCodeListSuccess({dataList:t}))))),this.loadVendorPaymentPeriodCodeList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadCompVendorPaymentPeriodList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.vendorPaymentPeriodCodeList$))),Object(ya.a)(([{condition:e},t])=>_.isNil(t)?this.service.getDetailCodeListOnlyLabelValue(e).pipe(Object(Ac.a)(e=>n.loadCompVendorPaymentPeriodListSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[]))):Object(Ca.a)(n.loadCompVendorPaymentPeriodListSuccess({dataList:t}))))),this.loadCompSellerPaymentPeriodList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadCompSellerPaymentPeriodList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.sellerPaymentPeriodCodeList$))),Object(ya.a)(([{condition:e},t])=>_.isNil(t)?this.service.getDetailCodeListOnlyLabelValue(e).pipe(Object(Ac.a)(e=>n.loadCompSellerPaymentPeriodListSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[]))):Object(Ca.a)(n.loadCompSellerPaymentPeriodListSuccess({dataList:t}))))),this.loadCompMasterList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.loadCompMasterList),Object(ya.a)(({condition:e})=>this.service.getCompMasterList(e).pipe(Object(ya.a)(({list:e,totalCount:t})=>[o.getCompMasterListSuccess({dataList:e,totalCount:t})]),Object(ga.a)(e=>{const t="Failed to load base code.",i=[o.getCompMasterListFailure({error:t})];return this._catchErr(e,t,i),[]}))))),this.upsertMaster$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.upsertMaster),Object(ya.a)(({upsertCondition:e})=>this.service.upsertCompMaster(e).pipe(Object(Ac.a)(e=>({succeedYn:!0,resultList:e})),Object(ga.a)(e=>Object(Ca.a)({succeedYn:!1,error:e})))),Object(Ec.a)(({succeedYn:e,resultList:t,error:i})=>{if(e&&t.length>0){const e="Customer master information has been saved.",i=[o.upsertList({upsertList:t}),o.addSelectedDetailRowInfo({selectedDetailRowInfo:_.cloneDeep(t[0])})];this._runPage(e,i)}else{const e="Modification failed.",t=[n.upsertMasterFailure({error:e})];this._catchErr(i,e,t)}})),{dispatch:!1}),this.loadVccInfoByCountryList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadVccInfoByCountryList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.vccInfoByCountryList$))),Object(ya.a)(([{condition:e},t])=>_.isNil(t)||0===t.length?this.service.getDetailCodeList(e).pipe(Object(Ac.a)(e=>n.loadVccInfoByCountryListSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[]))):Object(Ca.a)(n.loadVccInfoByCountryListSuccess({dataList:t}))))),this.loadCompAccount$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadCompAccountList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.selectedDetailRowInfo$))),Object(T.a)(([e,t])=>!_.isNil(t)||(this.alertService.alert("No account information selected."),!1)),Object(ya.a)(([e,t])=>this.service.getCompAccountList({compCode:t.compCode}).pipe(Object(Ac.a)(e=>n.getCompAccountListSuccess({dataList:e})),Object(ga.a)(e=>{const t="Account information lookup failed.",i=[n.getCompAccountListFailure({error:t})];return this._catchErr(e,t,i),[]}))))),this.upsertCompAccount$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.upsertCompAccount),Object(ya.a)(({upsertCondition:e})=>this.service.upsertCompAccount(e).pipe(Object(Ac.a)(e=>({succeedYn:!0})),Object(ga.a)(e=>Object(Ca.a)({succeedYn:!1,error:e})))),Object(Ec.a)(({succeedYn:e,error:t})=>{if(e){const e="Account information has been saved.",t=[n.loadCompAccountList()];this._runPage(e,t)}else this._catchErr(t,"Failed to save.")})),{dispatch:!1}),this.loadCompVendor$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadCompVendorInfo),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.selectedDetailRowInfo$))),Object(T.a)(([e,t])=>!_.isNil(t)||(this.alertService.alert("No account information selected."),!1)),Object(ya.a)(([e,t])=>{const i={vendorCompCode:t.compCode};return n.loadFileList({condition:i}),this.service.getCompVendorInfo(i).pipe(Object(Ac.a)(e=>n.getCompVendorInfoSuccess({dataResult:e})),Object(ga.a)(e=>{const t="Failed to query provider information.",i=[n.getCompVendorInfoFailure({error:t})];return this._catchErr(e,t,i),[]}))}))),this.upsertCompVendor$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.upsertCompVendorMainInfo),Object(ya.a)(({upsertCondition:e})=>this.service.upsertCompVendor(e).pipe(Object(Ac.a)(e=>({succeedYn:!0})),Object(ga.a)(e=>Object(Ca.a)({succeedYn:!1,error:e})))),Object(Ec.a)(({succeedYn:e,error:t})=>{if(e){const e="Saving provider information is complete.",t=[n.loadCompVendorInfo()];this._runPage(e,t)}else this._catchErr(t,"Failed to save.")})),{dispatch:!1}),this.loadCompVendorPaymentCondition$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadCompVendorPaymentCondition),Object(ya.a)(({condition:e})=>this.service.getCompVendorPaymentCondition(e).pipe(Object(Ac.a)(e=>n.loadCompVendorPaymentConditionSuccess({dataList:e})),Object(ga.a)(e=>{const t=[n.loadCompVendorPaymentConditionFailure()];return this._catchErr(e,"Failed to load company vendor payment conditions.",t),[]}))))),this.upsertCompVendorPaymentCondition$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.upsertCompVendorPaymentCondition),Object(ya.a)(({upsertCondition:e})=>this.service.upsertCompVendorPaymentCondition(e).pipe(Object(Ac.a)(e=>({succeedYn:!0})),Object(ga.a)(e=>Object(Ca.a)({succeedYn:!1,error:e})))),Object(Ec.a)(({succeedYn:e,error:t})=>{if(e){const e="Saving company vendor payment conditions is complete.",t=[n.upsertCompVendorPaymentConditionSuccess(),n.reloadCompVendorPaymentCondition()];this._runPage(e,t)}else{const e="Failed to save.",i=[n.upsertCompVendorPaymentConditionFailure()];this._catchErr(t,e,i)}})),{dispatch:!1}),this.deleteCompVendorPaymentCondition$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.deleteCompVendorPaymentCondition),Object(ya.a)(({deleteCondition:e})=>this.service.deleteCompVendorPaymentCondition(e).pipe(Object(Ac.a)(e=>({succeedYn:!0})),Object(ga.a)(e=>Object(Ca.a)({succeedYn:!1,error:e})))),Object(Ec.a)(({succeedYn:e,error:t})=>{if(e){const e="Deleting company vendor payment conditions is complete.",t=[n.deleteCompVendorPaymentConditionSuccess(),n.reloadCompVendorPaymentCondition()];this._runPage(e,t)}else{const e="Failed to delete.",i=[n.deleteCompVendorPaymentConditionFailure()];this._catchErr(t,e,i)}})),{dispatch:!1}),this.insertCompVendorPaymentConditionVCC$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.insertCompVendorPaymentConditionVcc),Object(ya.a)(({insertCondition:e})=>this.service.insertCompVendorPaymentConditionVcc(e).pipe(Object(Ac.a)(e=>({succeedYn:!0})),Object(ga.a)(e=>Object(Ca.a)({succeedYn:!1,error:e})))),Object(Ec.a)(({succeedYn:e,error:t})=>{if(e){const e="Saving company vendor payment conditions VCC is complete.",t=[n.insertCompVendorPaymentConditionVccSuccess(),n.reloadCompVendorPaymentCondition()];this._runPage(e,t)}else{const e="Failed to save.",i=[n.insertCompVendorPaymentConditionVccFailure()];this._catchErr(t,e,i)}})),{dispatch:!1}),this.udpateCompVendorPaymentConditionVCC$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.updateCompVendorPaymentConditionVcc),Object(ya.a)(({updateCondition:e})=>this.service.updateCompVendorPaymentConditionVcc(e).pipe(Object(Ac.a)(e=>({succeedYn:!0})),Object(ga.a)(e=>Object(Ca.a)({succeedYn:!1,error:e})))),Object(Ec.a)(({succeedYn:e,error:t})=>{if(e){const e="Saving company vendor payment conditions VCC is complete.",t=[n.updateCompVendorPaymentConditionVccSuccess(),n.reloadCompVendorPaymentCondition()];this._runPage(e,t)}else{const e="Failed to save.",i=[n.insertCompVendorPaymentConditionVccFailure()];this._catchErr(t,e,i)}})),{dispatch:!1}),this.deleteCompVendorPaymentConditionVCC$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.deleteCompVendorPaymentConditionVcc),Object(ya.a)(({deleteCondition:e})=>this.service.deleteCompVendorPaymentConditionVcc(e).pipe(Object(Ac.a)(e=>({succeedYn:!0})),Object(ga.a)(e=>Object(Ca.a)({succeedYn:!1,error:e})))),Object(Ec.a)(({succeedYn:e,error:t})=>{if(e){const e="Deleting company vendor payment conditions VCC is complete.",t=[n.deleteCompVendorPaymentConditionVccSuccess(),n.reloadCompVendorPaymentCondition()];this._runPage(e,t)}else{const e="Failed to delete.",i=[n.deleteCompVendorPaymentConditionVccFailure()];this._catchErr(t,e,i)}})),{dispatch:!1}),this.loadCompSeller$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadCompSellerInfo),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.selectedDetailRowInfo$))),Object(T.a)(([e,t])=>!_.isNil(t)||(this.alertService.alert("No account information selected."),!1)),Object(ya.a)(([e,t])=>this.service.getCompSellerInfo({sellerCompCode:t.compCode}).pipe(Object(Ac.a)(e=>n.getCompSellerInfoSuccess({info:e})),Object(ga.a)(e=>{const t="Seller information lookup failed.",i=[n.getCompSellerInfoFailure({error:t})];return this._catchErr(e,t,i),[]}))))),this.upsertCompSeller$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.upsertCompSeller),Object(ya.a)(({upsertCondition:e})=>this.service.upsertCompSeller(e).pipe(Object(Ac.a)(e=>({succeedYn:!0})),Object(ga.a)(e=>Object(Ca.a)({succeedYn:!1,error:e})))),Object(Ec.a)(({succeedYn:e,error:t})=>{if(e){const e="Your save is complete.",t=[n.loadCompSellerInfo()];this._runPage(e,t)}else this._catchErr(t,"Failed to save.")})),{dispatch:!1}),this.upsertExclude$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.upsertExclude),Object(ya.a)(({condition:e})=>{let t=_.cloneDeep(e);return t.insertItems.forEach(e=>{e.name=void 0}),this.service.upsertExclude(t).pipe(Object(Ac.a)(e=>({succeedYn:!0})),Object(ga.a)(e=>Object(Ca.a)({succeedYn:!1,error:e})))}),Object(Ec.a)(({succeedYn:e,error:t})=>{if(e){const e="Your save is complete.",t=[n.loadCompSellerInfo()];this._runPage(e,t)}else this._catchErr(t,"Failed to save.")})),{dispatch:!1}),this.getExclude$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.getExclude),Object(xc.a)(e=>Object(Ca.a)(e).pipe()),Object(ya.a)(({condition:e})=>this.service.getExclude(e).pipe(Object(Ac.a)(e=>n.getExcludeSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[])))))),this.getPicListByType$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.getPicListByType),Object(xc.a)(e=>Object(Ca.a)(e).pipe()),Object(ya.a)(({condition:e})=>this.service.getPicListByType(e).pipe(Object(Ac.a)(e=>n.getPicListByTypeSuccess({dataListByType:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[])))))),this.loadCompStaffList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadCompStaffList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.selectedDetailRowInfo$))),Object(T.a)(([e,t])=>(console.log(t,"selectedMasterInfo"),!_.isNil(t)||(this.alertService.alert("No account information selected."),!1))),Object(ya.a)(([e,t])=>this.service.getCompStaffList({compCode:t.compCode}).pipe(Object(Ac.a)(({totalCount:e,dataList:t})=>n.loadCompStaffListSuccess({totalCount:e,dataList:t})),Object(ga.a)(e=>(this._catchErr(e,"Customer employee lookup failed.",[]),[])))))),this.upsertPicTypeListByType$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.upsertPicTypeListByType),Object(ya.a)(({condition:e})=>this.service.upsertCompPicListByType(e).pipe(Object(Ac.a)(e=>(this.alertService.alert("Your save is complete."),n.upsertPicTypeListByTypeSuccess({dataListByType:e}))),Object(ga.a)(e=>(this._catchErr(e,"Failed to save assign for PIC.",[]),[])))))),this.removePicTypeListByType$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.removePicTypeListByType),Object(ya.a)(({condition:e})=>this.service.removeCompPicListByType(e).pipe(Object(Ac.a)(e=>(this.alertService.alert("Your delete is complete."),n.getPicListByTypeSuccess({dataListByType:e}))),Object(ga.a)(e=>(this._catchErr(e,"Failed to delete comp staff.",[]),[])))))),this.sendbill$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.sendbill),Object(ya.a)(({condition:e})=>this.service.sendbill(e).pipe(Object(Ac.a)(e=>(this.alertService.alert("I saved it."),[])),Object(ga.a)(e=>(this._catchErr(e,"Failed to send bill.",[]),[]))))),{dispatch:!1}),this.upsertCurrency$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.upsertCurrency),Object(ya.a)(({condition:e})=>this.service.upsertCurrency(e).pipe(Object(Ac.a)(t=>(this.alertService.alert("I saved it."),n.postCurrency({condition:{sellerCompCode:e.insertItems[0].sellerCompCode}}))),Object(ga.a)(e=>(this._catchErr(e,"Failed to change currency.",[]),[])))))),this.currency$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.postCurrency),Object(ya.a)(({condition:e})=>this.service.postCurrency(e).pipe(Object(Ac.a)(e=>n.postCurrencySuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[])))))),this.deleteCurrency$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.deleteCurrency),Object(xc.a)(e=>Object(Ca.a)(e).pipe()),Object(ya.a)(({condition:e})=>this.service.deleteCurrency(e).pipe(Object(Ac.a)(e=>(this.alertService.alert("Deletion complete."),n.deleteCurrencySuccess({dataList:e}),[])),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[]))))),{dispatch:!1}),this.upsertDeposit$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.upsertDeposit),Object(xc.a)(e=>Object(Ca.a)(e).pipe()),Object(ya.a)(({condition:e})=>this.service.upsertDeposit(e).pipe(Object(Ac.a)(t=>(this.alertService.alert("I saved it."),o.loadDepositResult({result:t}),this.store.dispatch(n.loadFloatingDeposit({condition:{vendorCompCode:e.insertItems[0].vendorCompCode}})),[])),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[]))))),{dispatch:!1}),this.fileUpload$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.fileUpload),Object(xc.a)(e=>Object(Ca.a)(e).pipe()),Object(ya.a)(({condition:e})=>this.service.contractFile(e).pipe(Object(Ac.a)(e=>n.loadFileListSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[])))))),this.fileDelete$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.fileDelete),Object(xc.a)(e=>Object(Ca.a)(e).pipe()),Object(ya.a)(({condition:e})=>this.service.fileDelete(e).pipe(Object(Ac.a)(e=>n.loadFileListSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[])))))),this.loadFileList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadFileList),Object(xc.a)(e=>Object(Ca.a)(e).pipe()),Object(ya.a)(({condition:e})=>this.service.postContractFile(e).pipe(Object(Ac.a)(e=>n.loadFileListSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[])))))),this.loadChildPolicy$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadChildPolicy),Object(xc.a)(e=>Object(Ca.a)(e).pipe()),Object(ya.a)(({condition:e})=>this.service.childPolicy(e).pipe(Object(Ac.a)(e=>n.loadChildPolicySuccess({childPolicy:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[])))))),this.loadVendorContractList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadVendorContractList),Object(ya.a)(({condition:e})=>this.service.loadVendorContractList(e).pipe(Object(Ac.a)(e=>n.loadVendorContractListSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[])))))),this.loadHotelMappingList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadHotelMappingList),Object(ya.a)(({condition:e})=>this.service.mappingList(e).pipe(Object(Ac.a)(e=>n.loadHotelMappingListSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load vendor's hotel mapping list"),[])))))),this.upsertHotelMappingToVendor$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.upsertHotelMappingToVendor),Object(ya.a)(({upsertCondition:e,loadCondition:t})=>this.service.upsertHotelMappingToVendor(e).pipe(Object(Ac.a)(()=>n.loadHotelMappingList({condition:t})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[])))))),this.deleteMappingList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.deleteMappingList),Object(ya.a)(({deleteCondition:e,loadCondition:t})=>this.service.deleteMappingList(e).pipe(Object(Ac.a)(e=>(this.alertService.alert("Deletion complete."),[])),Object(Ec.a)(()=>this.store.dispatch(n.loadHotelMappingList({condition:t}))),Object(ga.a)(e=>(this._catchErr(e,"Failed to delete mapping list.",[]),[]))))),{dispatch:!1}),this.loadHotelContractTypeCodeList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadHotelContractTypeCodeList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.hotelContractTypeCodeList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([e,t])=>_.isNil(t)?this.service.getDetailCodeListOnlyLabelValue({masterCode:"HO023"}).pipe(Object(Ac.a)(e=>n.loadHotelContractTypeCodeListSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load hotel contract type code list."),[]))):Object(Ca.a)(n.loadHotelContractTypeCodeListSuccess({dataList:t}))))),this.upsertVendorContractList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.upsertVendorContract),Object(ya.a)(({condition:e})=>this.service.upsertVendorContract(e).pipe(Object(Ac.a)(e=>(this.alertService.alert("Saved successfully."),n.loadVendorContractListSuccess({dataList:e}))),Object(ga.a)(e=>(this._catchErr(e,"Failed to upsert contract.",[]),[])))))),this.submitChildPolicy$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.submitChildPolicy),Object(ya.a)(({condition:e})=>this.service.submitChildPolicy(e).pipe(Object(Ac.a)(e=>(this.alertService.alert("Saved successfully."),n.loadChildPolicySuccess({childPolicy:e}))),Object(ga.a)(e=>(this._catchErr(e,"Failed",[]),[])))))),this.putCompStaffs$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.putCompStaffs),Object(ya.a)(({condition:e})=>this.service.putCompStaffs(e).pipe(Object(Ac.a)(({totalCount:e,dataList:t})=>(this.alertService.alert("Saved successfully."),n.loadCompStaffListSuccess({totalCount:e,dataList:t}))),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[])))))),this.loadCompList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadCompList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.compCodeList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([{condition:e},t])=>_.isNil(t)||0===t.length?this.service.getCompList(e).pipe(Object(Ac.a)(e=>n.loadCompListSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[]))):Object(Ca.a)(n.loadCompListSuccess({dataList:t}))))),this.loadSalesCountryCode$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadSalesCountryCode),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.salesCountryCodeList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([{condition:e},t])=>_.isNil(t)||0===t.length?this.service.getSalesList(e).pipe(Object(Ac.a)(e=>n.loadSalesCountryCodeSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[]))):Object(Ca.a)(n.loadSalesCountryCodeSuccess({dataList:t}))))),this.floatingDeposit$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadFloatingDeposit),Object(ya.a)(({condition:e})=>this.service.postDeposit(e).pipe(Object(Ac.a)(e=>n.loadFloatingDepositSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[])))))),this.loadPaymentTypeList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadPaymentTypeList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.paymentTypeList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([{condition:e},t])=>_.isNil(t)||0===t.length?this.service.getDetailCodeListOnlyLabelValue(e).pipe(Object(Ac.a)(e=>n.loadPaymentTypeListSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[]))):[]))),this.loadPaymentMethodList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadPaymentMethodList),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.paymentMethodList$.pipe(Object(wa.a)(1))))),Object(ya.a)(([{condition:e},t])=>_.isNil(t)||0===t.length?this.service.getDetailCodeListOnlyLabelValue(e).pipe(Object(Ac.a)(e=>n.loadPaymentMethodListSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[]))):Object(Ca.a)(n.loadPaymentMethodListSuccess({dataList:t}))))),this.deleteDeposit$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(o.deleteDeposit),Object(xc.a)(e=>Object(Ca.a)(e).pipe(Object(Rc.a)(this.selectedDetailRowInfo$))),Object(ya.a)(([{condition:e},t])=>this.service.deleteDeposit(e).pipe(Object(Ac.a)(e=>(this.alertService.alert("I saved it."),this.store.dispatch(n.loadFloatingDeposit({condition:{vendorCompCode:t.compCode}})),[])),Object(ga.a)(e=>(this._catchErr(e,"Failed to delete deposit.",[]),[]))))),{dispatch:!1}),this.deleteVendor$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.deleteVendor),Object(ya.a)(({condition:e})=>this.service.deleteVendor(e).pipe(Object(Ac.a)(e=>(this.alertService.alert("I deleted it."),[])),Object(ga.a)(e=>(this._catchErr(e,"Failed to delete",[]),[]))))),{dispatch:!1}),this.sendPasswordEmail$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.sendPasswordByEmail),Object(ya.a)(({condition:e})=>this.service.sendPasswordEmail(e).pipe(Object(Ac.a)(e=>(this.alertService.alert("email send"),[])),Object(ga.a)(e=>(this._catchErr(e,"Failed",[]),[])))))),this.getCommonCountry$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.getCommonCountry),Object(ya.a)(({condition:e})=>this.service.getCommonCountry(e).pipe(Object(Ac.a)(e=>n.getCountryPhoneListSuccess({dataList:e})),Object(ga.a)(e=>(this._catchErr(e,"Failed to load base code."),[])))))),this.compTypeList$=this.store.pipe(Object(r.u)(Eo)),this.tradeStatusList$=this.store.pipe(Object(r.u)(Ao)),this.picTypeCodeList$=this.store.pipe(Object(r.u)(xo)),this.sellerBranchTypeList$=this.store.pipe(Object(r.u)(Ro)),this.languageCodeList$=this.store.pipe(Object(r.u)($o)),this.currencyList$=this.store.pipe(Object(r.u)(Uo)),this.markupMasterList$=this.store.pipe(Object(r.u)(wo)),this.taxPayerTypeList$=this.store.pipe(Object(r.u)(ln)),this.registerPathList$=this.store.pipe(Object(r.u)(dn)),this.accountTypeList$=this.store.pipe(Object(r.u)(pn)),this.accountTransferTypeList$=this.store.pipe(Object(r.u)(un)),this.flightApprovalStatusList$=this.store.pipe(Object(r.u)(bn)),this.hotelApprovalStatusList$=this.store.pipe(Object(r.u)(mn)),this.rentApprovalStatusList$=this.store.pipe(Object(r.u)(hn)),this.activityApprovalStatusList$=this.store.pipe(Object(r.u)(Cn)),this.vendorPayTypeList$=this.store.pipe(Object(r.u)(fn)),this.paymentPeriodList$=this.store.pipe(Object(r.u)(yn)),this.activityVendorGradeList$=this.store.pipe(Object(r.u)(gn)),this.activityGradeCommList$=this.store.pipe(Object(r.u)(vn)),this.activityGradeCommCategoryList$=this.store.pipe(Object(r.u)(On)),this.refundDeductTypeList$=this.store.pipe(Object(r.u)(Vn)),this.refundRangeTypeList$=this.store.pipe(Object(r.u)(Ln)),this.userTypeList$=this.store.pipe(Object(r.u)(jn)),this.userStatusCodeList$=this.store.pipe(Object(r.u)(Pn)),this.sellerGradeList$=this.store.pipe(Object(r.u)(Sn)),this.vendorPaymentPeriodCodeList$=this.store.pipe(Object(r.u)(sn)),this.vccInfoByCountryList$=this.store.pipe(Object(r.u)(cn)),this.depositTypeCodeList$=this.store.pipe(Object(r.u)(Ho)),this.selectedDetailRowInfo$=this.store.pipe(Object(r.u)(Rn)),this.rateTypeList$=i.pipe(Object(r.u)(zo)),this.contractStatusCodeList$=i.pipe(Object(r.u)(Ko)),this.mappingStatusCodeList$=i.pipe(Object(r.u)(Qo)),this.bankMasterList$=i.pipe(Object(r.u)(Bo)),this.salesCountryCodeList$=i.pipe(Object(r.u)(Xo)),this.paymentTypeList$=i.pipe(Object(r.u)(on)),this.paymentMethodList$=i.pipe(Object(r.u)(nn)),this.compCodeList$=i.pipe(Object(r.u)(Zo)),this.sellerPaymentPeriodCodeList$=i.pipe(Object(r.u)(rn)),this.hotelContractTypeCodeList$=i.pipe(Object(r.u)(Hn))}_runPage(e,t){this.alertService.alert({message:e,accept:(null==t?void 0:t.length)>0?()=>{t.forEach(e=>{this.store.dispatch(e)})}:()=>{}})}_catchErr(e,t,i){const o=this._errorService.errorHandler(e,t);_.isNil(o)||(_.isNil(o.accept)&&(o.accept=(null==i?void 0:i.length)>0?()=>{i.forEach(e=>{this.store.dispatch(e)})}:()=>{}),this.alertService.alert(o))}}return e.\u0275fac=function(t){return new(t||e)(ma.bc(c.a),ma.bc(Va),ma.bc(r.h),ma.bc($c.a),ma.bc($a.a))},e.\u0275prov=ma.Mb({token:e,factory:e.\u0275fac}),e})();var wc=i("YH7L");const Yc=[Dc,Tc],Bc=[Ua,Ea,Ja,ts,Ws,rs,us,gs,ss,rc,Gs,Sc,Oc,Cs,bs,Ps,Vs,vs,Ss,Ds,qs,Ns,Xs,zs,cc,Pc];let Hc=(()=>{class e{}return e.\u0275mod=ma.Ob({type:e}),e.\u0275inj=ma.Nb({factory:function(t){return new(t||e)},imports:[[a.c,s.m,s.w,l.m,d.a,p.a,u.a,v.a,b.a,m.a,h.a,C.a,f.a,y.a,g.a,O.a,V.a,L.a,j.a,Mc,m.a,wc.a,r.j.forFeature("usComp",Do),c.b.forFeature([Uc])]]}),e})()},rbKv:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var o=i("8LU1"),n=i("quSY"),a=i("LRne"),s=i("VRyK"),c=i("fXoL"),r=i("tfFa");const l=["button"];let d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=c.Lb({type:e,selectors:[["","matDatepickerToggleIcon",""]]}),e})(),p=(()=>{class e{constructor(e,t,i){this._intl=e,this._changeDetectorRef=t,this._stateChanges=n.a.EMPTY;const o=Number(i);this.tabIndex=o||0===o?o:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=Object(o.c)(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker._disabledChange:Object(a.a)(),t=this.datepicker&&this.datepicker._datepickerInput?this.datepicker._datepickerInput._disabledChange:Object(a.a)(),i=this.datepicker?Object(s.a)(this.datepicker.openedStream,this.datepicker.closedStream):Object(a.a)();this._stateChanges.unsubscribe(),this._stateChanges=Object(s.a)(this._intl.changes,e,t,i).subscribe(()=>this._changeDetectorRef.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(c.Qb(r.a),c.Qb(c.h),c.cc("tabindex"))},e.\u0275cmp=c.Kb({type:e,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,t,i){var o;1&e&&c.Ib(i,d,!0),2&e&&c.Dc(o=c.gc())&&(t._customIcon=o.first)},viewQuery:function(e,t){var i;1&e&&c.Xc(l,!0),2&e&&c.Dc(i=c.gc())&&(t._button=i.first)},hostVars:1,hostBindings:function(e,t){1&e&&c.fc("focus",(function(){return t._button.focus()})),2&e&&c.Db("tabindex",t.disabled?null:-1)},inputs:{disabled:"disabled",datepicker:["for","datepicker"],tabIndex:"tabIndex",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[c.Ab],decls:3,vars:3,consts:[[1,"ico-calendar",3,"click"],["button",""]],template:function(e,t){1&e&&(c.Wb(0,"a",0,1),c.fc("click",(function(e){return t._open(e)})),c.Pc(2,"\uce98\ub9b0\ub354 \uc5f4\uae30"),c.Vb()),2&e&&c.Db("aria-haspopup",t.datepicker?"dialog":null)("aria-label",t._intl.openCalendarLabel)("tabindex",t.disabled?-1:t.tabIndex)},encapsulation:2,changeDetection:0}),e})()}}]);