(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{"06F7":function(t,e,i){"use strict";i.r(e),i.d(e,"CONTAINERS",(function(){return Wi})),i.d(e,"COMPONENTS",(function(){return Ti})),i.d(e,"CoInquiryModule",(function(){return Ei}));var n={};i.r(n),i.d(n,"setFunctionAuths",(function(){return D})),i.d(n,"getListSuccess",(function(){return q})),i.d(n,"getListFailure",(function(){return W})),i.d(n,"getDetailSuccess",(function(){return T})),i.d(n,"getDetailFailure",(function(){return E})),i.d(n,"getInquiryCategoryListSuccess",(function(){return U})),i.d(n,"getInquiryCategoryListFailure",(function(){return N})),i.d(n,"getStationTypeListSuccess",(function(){return R})),i.d(n,"getStationTypeListFailure",(function(){return _})),i.d(n,"getWorkTypeListSuccess",(function(){return x})),i.d(n,"getWorkTypeListFailure",(function(){return $})),i.d(n,"getProgressStatusListSuccess",(function(){return Y})),i.d(n,"getProgressStatusListFailure",(function(){return B})),i.d(n,"upsertItemSuccess",(function(){return z})),i.d(n,"upsertItemFailure",(function(){return A})),i.d(n,"bulkUpdateItemSuccess",(function(){return M})),i.d(n,"bulkUpdateItemFailure",(function(){return K})),i.d(n,"upsertCommentSuccess",(function(){return H})),i.d(n,"upsertCommentFailure",(function(){return Q})),i.d(n,"loadList",(function(){return G})),i.d(n,"loadInquiryCategoryList",(function(){return X})),i.d(n,"loadStationTypeList",(function(){return J})),i.d(n,"loadWorkTypeList",(function(){return Z})),i.d(n,"loadProgressStatusList",(function(){return tt})),i.d(n,"reloadList",(function(){return et})),i.d(n,"initList",(function(){return it})),i.d(n,"changeSearchCondition",(function(){return nt})),i.d(n,"changePageSize",(function(){return st})),i.d(n,"setGridCheckRowidsAction",(function(){return at})),i.d(n,"setGridStateAction",(function(){return ot})),i.d(n,"setGridCheckedStateAction",(function(){return rt})),i.d(n,"removeSelectedGridEntities",(function(){return ct})),i.d(n,"upsertItem",(function(){return lt})),i.d(n,"openAddPopup",(function(){return ut})),i.d(n,"closeAddPopup",(function(){return dt})),i.d(n,"bulkUpdateItem",(function(){return pt})),i.d(n,"openBulkPopup",(function(){return bt})),i.d(n,"closeBulkPopup",(function(){return ht})),i.d(n,"loadDetail",(function(){return mt})),i.d(n,"openDetailPopup",(function(){return gt})),i.d(n,"openForm",(function(){return ft})),i.d(n,"closeDetailPopup",(function(){return yt})),i.d(n,"upsertComment",(function(){return Ct})),i.d(n,"addSelectedDetailRowInfo",(function(){return St})),i.d(n,"delSelectedDetailRowInfo",(function(){return vt}));var s=i("ofXK"),a=i("3Pt+"),o=i("snw9"),r=i("kt0X"),c=i("WG3B"),l=i("xoAz"),u=i("wPo9"),d=i("7rOj"),p=i("+NQf"),b=i("6LsY"),h=i("l1P7"),m=i("v7zA"),g=i("7UZF"),f=i("hHe4"),y=i("1OXJ"),C=i("5hwk"),S=i("htEk"),v=i("kKjH"),O=i("qXPF"),I=i("eXiR"),j=i("vu/V"),k=i("tyNb"),F=i("LRne"),L=i("lJxs"),V=i("eIep"),w=i("JIr8"),P=i("LvDl");const D=Object(r.o)("[CoInquiry/List] set function auths",Object(r.t)()),q=Object(r.o)("[CoInquiry/List] get list success",Object(r.t)()),W=Object(r.o)("[CoInquiry/List] get list failure",Object(r.t)()),T=Object(r.o)("[CoInquiry/Detail] get detail success",Object(r.t)()),E=Object(r.o)("[CoInquiry/Detail] get detail failure",Object(r.t)()),U=Object(r.o)("[CoInquiry/List] get inquiry category list success",Object(r.t)()),N=Object(r.o)("[CoInquiry/List] get inquiry category list failure",Object(r.t)()),R=Object(r.o)("[CoInquiry/List] get station type list success",Object(r.t)()),_=Object(r.o)("[CoInquiry/List] get station type list failure",Object(r.t)()),x=Object(r.o)("[CoInquiry/List] get work type list success",Object(r.t)()),$=Object(r.o)("[CoInquiry/List] get work type list failure",Object(r.t)()),Y=Object(r.o)("[CoInquiry/List] get progress status list success",Object(r.t)()),B=Object(r.o)("[CoInquiry/List] get progress status list failure",Object(r.t)()),z=Object(r.o)("[CoInquiry/List] upsert item success",Object(r.t)()),A=Object(r.o)("[CoInquiry/List] upsert item failure",Object(r.t)()),M=Object(r.o)("[CoInquiry/API] bulk update item success",Object(r.t)()),K=Object(r.o)("[CoInquiry/API] bulk update item failure",Object(r.t)()),H=Object(r.o)("[CoInquiry/API] upsert comment success",Object(r.t)()),Q=Object(r.o)("[CoInquiry/API] upsert commment failure",Object(r.t)()),G=Object(r.o)("[CoInquiry/List] load grid data list",Object(r.t)()),X=Object(r.o)("[CoInquiry/List] load inquiry category list",Object(r.t)()),J=Object(r.o)("[CoInquiry/List] load station type list",Object(r.t)()),Z=Object(r.o)("[CoInquiry/List] load work type list",Object(r.t)()),tt=Object(r.o)("[CoInquiry/List] load progress status list",Object(r.t)()),et=Object(r.o)("[CoInquiry/List] reload grid data list"),it=Object(r.o)("[CoInquiry/List] init grid data list"),nt=Object(r.o)("[CoInquiry/List] change search condition",Object(r.t)()),st=Object(r.o)("[CoInquiry/List] change page size",Object(r.t)()),at=Object(r.o)("[CoInquiry/List] set grid checked rowids",Object(r.t)()),ot=Object(r.o)("[CoInquiry/List] set grid state",Object(r.t)()),rt=Object(r.o)("[CoInquiry/List] set grid checked state",Object(r.t)()),ct=Object(r.o)("[CoInquiry/List] \uc0ad\uc81c\ubc84\ud2bc \ud074\ub9ad \uc561\uc158",Object(r.t)()),lt=Object(r.o)("[CoInquiry/Detail] \uc0c1\uc138\ud31d\uc5c5\uc5d0\uc11c \uc800\uc7a5 \ubc84\ud2bc \ud074\ub9ad \uc561\uc158",Object(r.t)()),ut=Object(r.o)("[CoInquiry/List] \ucd94\uac00 \ud31d\uc5c5 \uc5f4\uae30"),dt=Object(r.o)("[CoInquiry/List] \ucd94\uac00 \ud31d\uc5c5 \ub2eb\uae30"),pt=Object(r.o)("[CoInquiry/Bulk] \ucc98\ub9ac\uc790\uc9c0\uc815 \ud31d\uc5c5\uc5d0\uc11c \uc800\uc7a5 \ubc84\ud2bc \ud074\ub9ad \uc561\uc158",Object(r.t)()),bt=Object(r.o)("[CoInquiry/Bulk] \ucc98\ub9ac\uc790\uc9c0\uc815 \ud31d\uc5c5 \uc5f4\uae30"),ht=Object(r.o)("[CoInquiry/BulkUpdate] \ucc98\ub9ac\uc790\uc9c0\uc815 \ud31d\uc5c5 \ub2eb\uae30"),mt=Object(r.o)("[CoInquiry/Detail] load detail data",Object(r.t)()),gt=Object(r.o)("[CoInquiry/Detail] \uc0c1\uc138 \ud31d\uc5c5 \uc5f4\uae30"),ft=Object(r.o)("[CoInquiry/Detail] \uc0c1\uc138 \ud31d\uc5c5 \uc218\uc815 \ud3fc \ud65c\uc131\ud654"),yt=Object(r.o)("[CoInquiry/Detail] \uc0c1\uc138 \ud31d\uc5c5 \ub2eb\uae30"),Ct=Object(r.o)("[CoInquiry/Detail] \uc0c1\uc138\ud31d\uc5c5\uc5d0\uc11c \ub313\uae00 \uc800\uc7a5 \ubc84\ud2bc \ud074\ub9ad \uc561\uc158",Object(r.t)()),St=Object(r.o)("[CoInquiry/Detail] \uc0c1\uc138 \ud31d\uc5c5\uc5d0\uc11c \ubcf4\uc5ec\uc9c8 \ud56d\ubaa9 \uc120\ud0dd",Object(r.t)()),vt=Object(r.o)("[CoInquiry/Detail] \uc0c1\uc138 \ud31d\uc5c5\uc5d0\uc11c \ubcf4\uc5ec\uc9c8 \ud56d\ubaa9 \uc81c\uac70");var Ot=i("YY+H"),It=i("fXoL"),jt=i("EsKh"),kt=i("z6cu"),Ft=i("AytR");const{API_URL:Lt}=Ft.a,Vt={selectEntities:`${Lt}/admin/content/inquiry`,modifyEntities:`${Lt}/control/co/system-inquiry-detail`,modifyHandle:`${Lt}/admin/content/inquiry/handle`,modifyComment:`${Lt}/control/co/system-inquiry-comment`,selectInquiryDetail:`${Lt}/admin/content/inquiry/detail`,selectDetailCodes:`${Lt}/common/detail-code`,selectCurrencyCodes:`${Lt}/admin/basis/currency`,fileUpload:`${Lt}/admin/image/file/upload/AV/I`,fileRemove:`${Lt}/admin/image/file/upload/AV/D`,postFunction:`${Lt}/admin/basis/function`};var wt=i("tpT/"),Pt=i("VMfx");let Dt=(()=>{class t{constructor(t,e){this.api=t,this.languageService=e}getList(t){const e=P.assign({},this.api.defaultParams,{condition:t});return this.api.post(Vt.selectEntities,e).pipe(Object(V.a)(t=>{var e,i;if(t.succeedYn&&t.result){const n=(null===(i=null===(e=t.result)||void 0===e?void 0:e.list)||void 0===i?void 0:i.length)>0?t.result.list.map(t=>Object.assign({id:t.rowid},t)):[],s=t.result.stats,a=t.result.totalCount;return Object(F.a)({list:n,stats:s,totalCount:a})}return Object(kt.a)(t||"api response error")}))}getDetail(t){const e=P.assign({},this.api.defaultParams,{condition:t});return this.api.post(Vt.selectInquiryDetail,e).pipe(Object(V.a)(t=>t.succeedYn?Object(F.a)(t.result):Object(kt.a)(t||"api response error")))}upsertItem(t){const e=new URL(Vt.selectEntities),i=P.assign({},this.api.defaultParams,{condition:Object.assign(Object.assign({},t),{redirectUrl:e.pathname})});return this.api.put(Vt.modifyEntities,i).pipe(Object(V.a)(t=>{if(t.succeedYn){const e=t.result;return Object(F.a)(Object.assign({id:e.rowid},e))}return Object(kt.a)(t||"api response error")}))}upsertComment(t){const e=P.assign({},this.api.defaultParams,{condition:Object.assign({},t)});return this.api.put(Vt.modifyComment,e).pipe(Object(V.a)(e=>e.succeedYn?Object(F.a)(t):Object(kt.a)(e||"api response error")))}bulkUpdateItem(t){const e=P.assign({},this.api.defaultParams,{condition:t});return this.api.put(Vt.modifyHandle,e).pipe(Object(V.a)(t=>t.succeedYn?Object(F.a)(t.result&&t.result.counts):Object(kt.a)(t||"api response error")))}getCommonDetailCodeList(t){const e=P.assign({},this.api.defaultParams,{condition:t});return this.api.post(Vt.selectDetailCodes,e).pipe(Object(V.a)(t=>t.succeedYn?Object(F.a)(t.result.list):Object(kt.a)(t||"api response error")))}getInquiryCategoryList(t){const e=P.assign({},this.api.defaultParams,{condition:t});return this.api.post(Vt.selectDetailCodes,e).pipe(Object(V.a)(t=>t.succeedYn?Object(F.a)(t.result.list.map(t=>({label:"KO"===this.languageService.currentLanguage?t.detailCodeNameLn:t.detailCodeNameEn,value:t.detailCode}))):Object(kt.a)(t||"api response error")))}getStationTypeList(t){const e=P.assign({},this.api.defaultParams,{condition:t});return this.api.post(Vt.selectDetailCodes,e).pipe(Object(V.a)(t=>t.succeedYn?Object(F.a)(t.result.list.map(t=>({label:"KO"===this.languageService.currentLanguage?t.detailCodeNameLn:t.detailCodeNameEn,value:t.detailCode}))):Object(kt.a)(t||"api response error")))}getWorkTypeList(t){const e=P.assign({},this.api.defaultParams,{condition:t});return this.api.post(Vt.selectDetailCodes,e).pipe(Object(V.a)(t=>t.succeedYn?Object(F.a)(t.result.list.map(t=>({label:"KO"===this.languageService.currentLanguage?t.detailCodeNameLn:t.detailCodeNameEn,value:t.detailCode}))):Object(kt.a)(t||"api response error")))}getProgressStatusList(t){const e=P.assign({},this.api.defaultParams,{condition:t});return this.api.post(Vt.selectDetailCodes,e).pipe(Object(V.a)(t=>t.succeedYn?Object(F.a)(t.result.list.map(t=>({label:"KO"===this.languageService.currentLanguage?t.detailCodeNameLn:t.detailCodeNameEn,value:t.detailCode}))):Object(kt.a)(t||"api response error")))}getBasisFunctions(t){const e=P.assign({},this.api.defaultParams,{condition:t});return this.api.post(Vt.postFunction,e).pipe(Object(V.a)(t=>t.succeedYn&&t.result?Object(F.a)(t.result.list||[]):Object(kt.a)(t||"api response error")))}}return t.\u0275fac=function(e){return new(e||t)(It.bc(wt.a),It.bc(Pt.a))},t.\u0275prov=It.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var qt=i("6UzV"),Wt=i("wd/R");let Tt=(()=>{class t{constructor(t){this.fb=t,this.generateGridColumns=()=>[{field:"systemInquirySeq",title:"No.",width:"100"},{field:"workRequestDatetime",title:"\uc694\uccad\uc77c\uc2dc",width:"150"},{field:"inquiryCategoryName",title:"\uce74\ud14c\uace0\ub9ac",width:"100"},{field:"workTypeName",title:"\uc791\uc5c5\uad6c\ubd84",width:"100"},{field:"inquiryTitle",title:"\uc81c\ubaa9",width:"300",template:"titleTpl"},{field:"writerName",title:"\uc694\uccad\uc790",width:"100"},{field:"handleName",title:"\ucc98\ub9ac\uc790",width:"100"},{field:"progressStatusName",title:"\ucc98\ub9ac\uc0c1\ud0dc",width:"100"},{field:"finishDueDate",title:"\uc644\ub8cc\uc608\uc815\uc77c",width:"100"},{field:"finishDatetime",title:"\uc644\ub8cc\uc77c\uc2dc",width:"150",template:"finishDateTimeTpl"}],this.generateListSearchForm=()=>this.fb.group({rangeType:["Requested"],searchType:["writerUno"],dateRange:this.fb.group({rangeType:[null],dates:this.fb.array([new a.g(null),new a.g(null)])},{validators:[qt.a.compareDatesValidators("rangeCompare",[["dates",0],["dates",1]])]}),inquiryCategoryCode:[null],workTypeCode:[null],emergencyInquiryYn:[null],progressStatusCode:[null],keyword:[null],writerUno:[null],handleUno:[null],systemInquirySeq:[null],inquiryCategoryCodes:[null],workTypeCodes:[null],progressStatusCodes:[null]}),this.initListSearch=()=>({dateRange:{rangeType:"Requested",dates:[Wt().add(-30,"day").format("YYYY-MM-DD"),Wt().format("YYYY-MM-DD")]},inquiryCategoryCode:null,workTypeCode:null,emergencyInquiryYn:null,progressStatusCode:null,keyword:null,writerUno:null,handleUno:null,systemInquirySeq:null,inquiryCategoryCodes:null,workTypeCodes:null,progressStatusCodes:null}),this.generatePutForm=()=>this.fb.group({rowid:[null],systemInquirySeq:[{value:null,disabled:!0}],writerUno:[null,[a.z.required]],inquiryCategoryCode:[null,[a.z.required]],workTypeCode:[null,[a.z.required]],emergencyInquiryYn:[!1,[a.z.required]],workRequestDatetime:[Wt().format("YYYY-MM-DD HH:mm:ss")],inquiryTitle:[null,[a.z.required]],inquiryDetail:[null,[a.z.required]],attachedFileUrl1:[null],attachedFileUrl2:[null],attachedFileUrl3:[null],handleUno:[null],progressStatusCode:["WKS01",[a.z.required]],pageViewCount:[0],finishDatetime:[null],finishDueDate:[null]}),this.initPutFormData=()=>({rowid:null,systemInquirySeq:null,writerUno:null,inquiryCategoryCode:null,workTypeCode:null,emergencyInquiryYn:!1,workRequestDatetime:Wt().format("YYYY-MM-DD HH:mm:ss"),inquiryTitle:null,inquiryDetail:null,attachedFileUrl1:null,attachedFileUrl2:null,attachedFileUrl3:null,handleUno:null,progressStatusCode:"WKS01",pageViewCount:0,finishDatetime:null,finishDueDate:null}),this.generateBulkUpdateForm=()=>this.fb.group({handleUno:[null,[a.z.required]]}),this.initBulkUpdate=()=>({handleUno:null,systemInquirySeqs:null}),this.generatePutCommentForm=()=>this.fb.group({systemInquirySeq:[null,[a.z.required]],inquiryCommentDetail:[null,[a.z.required]],refSystemInquiryCommentSeq:[null]}),this.initPutCommentFormData=()=>({systemInquirySeq:null,inquiryCommentDetail:null,refSystemInquiryCommentSeq:null})}}return t.\u0275fac=function(e){return new(e||t)(It.bc(a.f))},t.\u0275prov=It.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Et=(()=>{class t{constructor(t,e,i,n,s){this._router=t,this.store=e,this.alertService=i,this.api=n,this.authStore=s,this.userNo$=this.authStore.pipe(Object(r.u)(Ot.t))}canActivate(t,e){return this.userNo$.pipe(Object(L.a)(t=>({screenSeq:1000005,userNo:t})),Object(V.a)(t=>this.api.getBasisFunctions(t)),Object(L.a)(t=>{const e=P.keyBy(t,"functionSeq"),i=P.reduce(e,(t,e,i)=>(t[i.toString()]=(null==e?void 0:e.authYn)||!1,t),{});return this.store.dispatch(n.setFunctionAuths({auths:i})),!0}),Object(w.a)(t=>(this.alertService.alert("Failed to check permissions by function on the menu."),Object(F.a)(!1))))}}return t.\u0275fac=function(e){return new(e||t)(It.bc(k.c),It.bc(r.h),It.bc(jt.a),It.bc(Dt),It.bc(r.h))},t.\u0275prov=It.Mb({token:t,factory:t.\u0275fac}),t})();var Ut=i("XNiG"),Nt=i("1G5W"),Rt=i("zP0r"),_t=i("EVqC");const xt=Object(_t.a)({selectId:t=>t.id,sortComparer:!1}),$t=xt.getInitialState({auths:{},inquiryCategoryList:[],stationTypeList:[],workTypeList:[],progressStatusList:[],loading:!1,reloadToggle:!1,searchCondition:{},otherSearchInfo:null,pageSize:20,gridState:null,gridCheckedState:null,totalCount:0,summary:null,selectedDetailRowInfo:null,isOpenAddPopup:!1,isOpenDetailPopup:!1,isOpenBulkPopup:!1,isOpenDetail:!1,isOpenForm:!1,detailLoading:!1,detailInfo:null}),Yt=Object(r.q)($t,Object(r.s)(n.setFunctionAuths,(t,{auths:e})=>Object.assign(Object.assign({},t),{auths:e})),Object(r.s)(n.loadList,t=>Object.assign(Object.assign({},t),{loading:!0})),Object(r.s)(n.reloadList,t=>Object.assign(Object.assign({},t),{reloadToggle:!t.reloadToggle})),Object(r.s)(n.getInquiryCategoryListSuccess,(t,{dataList:e})=>Object.assign(Object.assign({},t),{inquiryCategoryList:e})),Object(r.s)(n.getStationTypeListSuccess,(t,{dataList:e})=>Object.assign(Object.assign({},t),{stationTypeList:e})),Object(r.s)(n.getWorkTypeListSuccess,(t,{dataList:e})=>Object.assign(Object.assign({},t),{workTypeList:e})),Object(r.s)(n.getProgressStatusListSuccess,(t,{dataList:e})=>Object.assign(Object.assign({},t),{progressStatusList:e})),Object(r.s)(n.initList,t=>Object.assign(Object.assign({},t),{loading:!1,reloadToggle:!1,selectedDetailRowInfo:null,isOpenDetailPopup:!1,isOpenAddPopup:!1,isOpenBulkPopup:!1})),Object(r.s)(n.getListSuccess,(t,{dataList:e,stats:i,totalCount:n})=>xt.setAll(e,Object.assign(Object.assign({},t),{loading:!1,gridState:null,gridCheckedRowids:null,summary:i,totalCount:n}))),Object(r.s)(n.getListFailure,t=>Object.assign(Object.assign({},t),{loading:!1})),Object(r.s)(n.changeSearchCondition,(t,{searchCondition:e,otherSearchInfo:i})=>Object.assign(Object.assign({},t),{searchCondition:e,otherSearchInfo:i})),Object(r.s)(n.changePageSize,(t,{pageSize:e})=>Object.assign(Object.assign({},t),{pageSize:e})),Object(r.s)(n.upsertItemSuccess,(t,{upsertItem:e})=>xt.upsertOne(e,Object.assign(Object.assign({},t),{detailInfo:e.volumnInfo}))),Object(r.s)(n.openAddPopup,t=>Object.assign(Object.assign({},t),{isOpenAddPopup:!0})),Object(r.s)(n.closeAddPopup,t=>Object.assign(Object.assign({},t),{isOpenAddPopup:!1})),Object(r.s)(n.openDetailPopup,t=>Object.assign(Object.assign({},t),{isOpenDetailPopup:!0})),Object(r.s)(n.closeDetailPopup,t=>Object.assign(Object.assign({},t),{isOpenDetailPopup:!1,detailInfo:null,isOpenDetail:!1,isOpenForm:!1})),Object(r.s)(n.openBulkPopup,t=>Object.assign(Object.assign({},t),{isOpenBulkPopup:!0})),Object(r.s)(n.closeBulkPopup,t=>Object.assign(Object.assign({},t),{isOpenBulkPopup:!1})),Object(r.s)(n.addSelectedDetailRowInfo,(t,{selectedDetailRowInfo:e})=>Object.assign(Object.assign({},t),{selectedDetailRowInfo:e})),Object(r.s)(n.delSelectedDetailRowInfo,t=>Object.assign(Object.assign({},t),{selectedDetailRowInfo:null})),Object(r.s)(n.setGridCheckRowidsAction,(t,{rowids:e})=>Object.assign(Object.assign({},t),{gridCheckedRowids:e})),Object(r.s)(n.setGridStateAction,(t,{gridState:e})=>Object.assign(Object.assign({},t),{gridState:e})),Object(r.s)(n.setGridCheckedStateAction,(t,{gridCheckedState:e})=>Object.assign(Object.assign({},t),{gridCheckedState:e})),Object(r.s)(n.loadDetail,t=>Object.assign(Object.assign({},t),{detailLoading:!0})),Object(r.s)(n.getDetailSuccess,(t,{dataItem:e})=>Object.assign(Object.assign({},t),{detailLoading:!1,detailInfo:e})),Object(r.s)(n.openForm,t=>Object.assign(Object.assign({},t),{isOpenDetail:!1,isOpenForm:!0}))),Bt=t=>t.loading;function zt(t,e){return Object(r.m)({coInquiryList:Yt})(t,e)}const At=Object(r.p)("coInquiry"),Mt=Object(r.r)(At,t=>t.coInquiryList),Kt=Object(r.r)(Mt,t=>t.auths),Ht=Object(r.r)(Mt,Bt),Qt=Object(r.r)(Mt,t=>t.reloadToggle),Gt=Object(r.r)(Mt,t=>t.inquiryCategoryList),Xt=Object(r.r)(Mt,t=>t.stationTypeList),Jt=Object(r.r)(Mt,t=>t.workTypeList),Zt=Object(r.r)(Mt,t=>t.progressStatusList),te=Object(r.r)(Mt,t=>t.searchCondition),ee=Object(r.r)(Mt,t=>t.pageSize),ie=Object(r.r)(Mt,t=>t.selectedDetailRowInfo),ne=Object(r.r)(Mt,t=>t.otherSearchInfo),se=xt.getSelectors(Mt).selectAll,ae=(xt.getSelectors(Mt),Object(r.r)(Mt,t=>t.gridState)),oe=Object(r.r)(Mt,t=>t.gridCheckedState),re=Object(r.r)(Mt,t=>t.totalCount),ce=Object(r.r)(Mt,t=>t.summary),le=Object(r.r)(Mt,t=>t.isOpenAddPopup),ue=Object(r.r)(Mt,t=>t.isOpenDetailPopup),de=Object(r.r)(Mt,t=>t.isOpenBulkPopup),pe=(Object(r.r)(Mt,Bt),Object(r.r)(Mt,t=>t.detailInfo));var be=i("pfiq"),he=i("+Sob"),me=i("U6NN"),ge=i("rbKv"),fe=i("kd+X"),ye=i("LVFn"),Ce=i("U2QM"),Se=i("gbCm");const ve=function(){return{userTypeCode:"U01"}},Oe=function(){return["userNo","name","deptName","positionName"]};function Ie(t,e){if(1&t&&It.Rb(0,"app-auto-complete",30),2&t){const t=It.hc();It.pc("inputFieldValue",t.writerUnoInput)("inputId","writerUnoInput")("isInvalid",t.checkIsInvalid("writerUno"))("apiCondition",It.tc(6,ve))("apiSearchTerm","name")("inputFieldFormatKeyList",It.tc(7,Oe))}}function je(t,e){if(1&t&&It.Rb(0,"app-auto-complete",31),2&t){const t=It.hc();It.pc("inputFieldValue",t.handleUnoInput)("inputId","handleUnoInput")("isInvalid",t.checkIsInvalid("handleUno"))("apiCondition",It.tc(6,ve))("apiSearchTerm","name")("inputFieldFormatKeyList",It.tc(7,Oe))}}function ke(t,e){1&t&&It.Rb(0,"app-input-text",32)}function Fe(t,e){1&t&&It.Rb(0,"app-input-text",33)}function Le(t,e){1&t&&It.Rb(0,"div")}const Ve=function(){return["dateRange","dates",0]},we=function(){return["dateRange","dates",1]},Pe=function(){return{standalone:!0}};let De=(()=>{class t{constructor(t){this._dataService=t,this.clickSearchEvent=new It.n,this.clickResetEvent=new It.n,this.changeSearchConditionEvent=new It.n,this.isShowmore=!1,this.searchTypeDropdown="writerUno",this.useYnOptions=[{label:"Y",value:!0},{label:"N",value:!1}],this.dateRangeTypeList=[{label:"\uc694\uccad\uc77c\uc2dc",value:"Requested"},{label:"\uc644\ub8cc\uc77c\uc2dc",value:"Finished"}],this.searchTypeList=[{label:"\uc694\uccad\uc790\uba85",value:"writerUno"},{label:"\ucc98\ub9ac\uc790\uba85",value:"handleUno"},{label:"\uc81c\ubaa9+\ub0b4\uc6a9",value:"keyword"},{label:"\uc694\uccad\ubc88\ud638",value:"systemInquirySeq"}],this.searchForm=this._dataService.generateListSearchForm()}get otherSearchInfo(){return this._otherSearchInfo}set otherSearchInfo(t){this._otherSearchInfo=t,this._setOtherSearchInfo(t)}get searchCondition(){return this._searchCondition}set searchCondition(t){this._searchCondition=t,this.searchFormData=this._setSearchFormData(t)}get searchFormValid(){return this.searchForm.valid}get dateRange(){return this.searchForm.get("dateRange")}get minDateRange(){const t=this.dateRange.get("dates").value;return(null==t?void 0:t.length)>0?t[0]:null}ngOnInit(){this._initThisState()}onSubmit(){if(this.searchForm.invalid)return void(this._checkValid=!0);let t=P.omitBy(this.searchForm.value,P.isNil);const e=this._setOtherSearchCondition();t=P.omit(t,["rangeType","searchType"]),this.clickSearchEvent.emit({searchCondition:t,otherSearchInfo:e}),this._checkValid=!1}onReset(){this.clickResetEvent.emit()}checkIsInvalid(t){return this._checkValid&&this.searchForm.get(t)&&this.searchForm.get(t).invalid}checkIsInvalidDateRange(){var t;return this._checkValid&&!0===(null===(t=this.dateRange.errors)||void 0===t?void 0:t.rangeCompare)}_initThisState(){}_setSearchFormData(t){const e=this._dataService.initListSearch();return Object.assign({},e,P.pick(t,Object.keys(e)))}onChangeSearchType({value:t}){const e=this.searchForm.get(this.searchTypeDropdown).value,i=this.searchTypeDropdown,n={systemInquirySeq:null,keyword:null,writerUno:null,handleUno:null};"writerUno"!==i&&"handleUno"!==i&&(n[t]=e,n.writerUno=null,n.handleUno=null),this.searchForm.patchValue(n),this.searchTypeDropdown=t}_setOtherSearchInfo(t){this.handleUnoInput=(null==t?void 0:t.handleUnoInput)||null,this.writerUnoInput=(null==t?void 0:t.writerUnoInput)||null}_setOtherSearchCondition(){const t={};return this.autoCompletes.forEach(e=>{Object.assign(t,e.getInputValue())}),t}}return t.\u0275fac=function(e){return new(e||t)(It.Qb(Tt))},t.\u0275cmp=It.Kb({type:t,selectors:[["app-co-inquiry-search"]],viewQuery:function(t,e){var i;1&t&&It.Xc(be.a,!0),2&t&&It.Dc(i=It.gc())&&(e.autoCompletes=i)},inputs:{inquiryCategoryList:"inquiryCategoryList",stationTypeList:"stationTypeList",workTypeList:"workTypeList",progressStatusList:"progressStatusList",otherSearchInfo:"otherSearchInfo",searchCondition:"searchCondition"},outputs:{clickSearchEvent:"clickSearchEvent",clickResetEvent:"clickResetEvent",changeSearchConditionEvent:"changeSearchConditionEvent"},decls:49,vars:35,consts:[[1,"grid-search-box","multi",3,"formGroup","connectForm","ngSubmit"],[1,"form-option-area"],[1,"row"],["formGroupName","dateRange",1,"col-2","flex-shrink1"],[1,"select-box","d-inline-flex","flex-shrink-0"],["formControlName","rangeType",2,"min-width","120px",3,"options","useAllOptionYn"],["formArrayName","dates",1,"calendar-set","flex-fill"],[1,"input","calendar","d-inline-flex","flex-fill"],[3,"for"],["type","text","placeholder","\ub0a0\uc9dc \uc120\ud0dd",3,"matDatepicker","formControlName"],["myPickerFrom",""],[1,"dash"],["type","text","placeholder","\ub0a0\uc9dc \uc120\ud0dd",3,"matDatepicker","min","formControlName"],["myPickerTo",""],[1,"col-1"],[1,"form-label"],["formControlName","inquiryCategoryCodes","dataKey","value","displayKey","label",1,"d-inline-flex","flex-fill",3,"options","useAllOptionYn"],["formControlName","workTypeCodes","dataKey","value","displayKey","label",1,"d-inline-flex","flex-fill",3,"options","useAllOptionYn"],[1,"select-box","d-inline-flex","flex-shrink-0","mr5",3,"options","ngModel","ngModelOptions","onChange"],[3,"ngSwitch"],["formControlName","writerUno","apiUrl","admin/common/staff","dataKey","userNo","inputFieldFormat","{0}-{1}&,{2}&,{3}","placeholder","\uac80\uc0c9\uc5b4 \uc785\ub825","class","d-inline-flex flex-fill",3,"inputFieldValue","inputId","isInvalid","apiCondition","apiSearchTerm","inputFieldFormatKeyList",4,"ngSwitchCase"],["formControlName","handleUno","apiUrl","admin/common/staff","dataKey","userNo","inputFieldFormat","{0}-{1}&,{2}&,{3}","placeholder","\uac80\uc0c9\uc5b4 \uc785\ub825","class","d-inline-flex flex-fill",3,"inputFieldValue","inputId","isInvalid","apiCondition","apiSearchTerm","inputFieldFormatKeyList",4,"ngSwitchCase"],["formControlName","keyword","class","d-inline-flex flex-fill",4,"ngSwitchCase"],["formControlName","systemInquirySeq","valueType","number","class","d-inline-flex flex-fill",4,"ngSwitchCase"],[4,"ngSwitchDefault"],["formControlName","progressStatusCodes","dataKey","value","displayKey","label",1,"d-inline-flex","flex-fill",3,"options","useAllOptionYn"],["formControlName","emergencyInquiryYn",1,"d-inline-flex","flex-fill",3,"options"],[1,"form-button-area"],["type","submit","data-function","2000053","role","button",1,"btn","btn-primary","sm"],["type","button","role","button",1,"btn","btn-reset","sm",3,"click"],["formControlName","writerUno","apiUrl","admin/common/staff","dataKey","userNo","inputFieldFormat","{0}-{1}&,{2}&,{3}","placeholder","\uac80\uc0c9\uc5b4 \uc785\ub825",1,"d-inline-flex","flex-fill",3,"inputFieldValue","inputId","isInvalid","apiCondition","apiSearchTerm","inputFieldFormatKeyList"],["formControlName","handleUno","apiUrl","admin/common/staff","dataKey","userNo","inputFieldFormat","{0}-{1}&,{2}&,{3}","placeholder","\uac80\uc0c9\uc5b4 \uc785\ub825",1,"d-inline-flex","flex-fill",3,"inputFieldValue","inputId","isInvalid","apiCondition","apiSearchTerm","inputFieldFormatKeyList"],["formControlName","keyword",1,"d-inline-flex","flex-fill"],["formControlName","systemInquirySeq","valueType","number",1,"d-inline-flex","flex-fill"]],template:function(t,e){if(1&t&&(It.Wb(0,"form",0),It.fc("ngSubmit",(function(){return e.onSubmit()})),It.Wb(1,"div",1),It.Wb(2,"div",2),It.Wb(3,"div",3),It.Wb(4,"div",4),It.Rb(5,"app-selectbox",5),It.Vb(),It.Wb(6,"div",6),It.Wb(7,"div",7),It.Rb(8,"mat-datepicker-toggle",8),It.Rb(9,"input",9),It.Rb(10,"mat-datepicker",null,10),It.Vb(),It.Wb(12,"span",11),It.Pc(13,"~"),It.Vb(),It.Wb(14,"div",7),It.Rb(15,"mat-datepicker-toggle",8),It.Rb(16,"input",12),It.Rb(17,"mat-datepicker",null,13),It.Vb(),It.Vb(),It.Vb(),It.Wb(19,"div",14),It.Wb(20,"span",15),It.Pc(21,"\uce74\ud14c\uace0\ub9ac"),It.Vb(),It.Rb(22,"app-multi-select",16),It.Vb(),It.Wb(23,"div",14),It.Wb(24,"span",15),It.Pc(25,"\uc791\uc5c5\uad6c\ubd84"),It.Vb(),It.Rb(26,"app-multi-select",17),It.Vb(),It.Vb(),It.Wb(27,"div",2),It.Wb(28,"div",14),It.Wb(29,"app-selectbox",18),It.fc("onChange",(function(t){return e.onChangeSearchType(t)})),It.Vb(),It.Ub(30,19),It.Nc(31,Ie,1,8,"app-auto-complete",20),It.Nc(32,je,1,8,"app-auto-complete",21),It.Nc(33,ke,1,0,"app-input-text",22),It.Nc(34,Fe,1,0,"app-input-text",23),It.Nc(35,Le,1,0,"div",24),It.Tb(),It.Vb(),It.Wb(36,"div",14),It.Wb(37,"span",15),It.Pc(38,"\ucc98\ub9ac\uc0c1\ud0dc"),It.Vb(),It.Rb(39,"app-multi-select",25),It.Vb(),It.Wb(40,"div",14),It.Wb(41,"span",15),It.Pc(42,"\uae34\uae09\uad6c\ubd84"),It.Vb(),It.Rb(43,"app-selectbox",26),It.Vb(),It.Vb(),It.Vb(),It.Wb(44,"div",27),It.Wb(45,"button",28),It.Pc(46,"\uac80\uc0c9"),It.Vb(),It.Wb(47,"button",29),It.fc("click",(function(){return e.onReset()})),It.Pc(48,"Reset"),It.Vb(),It.Vb(),It.Vb()),2&t){const t=It.Ec(11),i=It.Ec(18);It.pc("formGroup",e.searchForm)("connectForm",e.searchFormData),It.Cb(5),It.pc("options",e.dateRangeTypeList)("useAllOptionYn",!1),It.Cb(1),It.Gb("valid-error",e.checkIsInvalidDateRange()),It.Cb(1),It.Gb("valid-error",e.checkIsInvalid(It.tc(32,Ve))),It.Cb(1),It.pc("for",t),It.Cb(1),It.pc("matDatepicker",t)("formControlName",0),It.Cb(5),It.Gb("valid-error",e.checkIsInvalid(It.tc(33,we))),It.Cb(1),It.pc("for",i),It.Cb(1),It.pc("matDatepicker",i)("min",e.minDateRange)("formControlName",1),It.Cb(6),It.pc("options",e.inquiryCategoryList)("useAllOptionYn",!0),It.Cb(4),It.pc("options",e.workTypeList)("useAllOptionYn",!0),It.Cb(3),It.pc("options",e.searchTypeList)("ngModel",e.searchTypeDropdown)("ngModelOptions",It.tc(34,Pe)),It.Cb(1),It.pc("ngSwitch",e.searchTypeDropdown),It.Cb(1),It.pc("ngSwitchCase","writerUno"),It.Cb(1),It.pc("ngSwitchCase","handleUno"),It.Cb(1),It.pc("ngSwitchCase","keyword"),It.Cb(1),It.pc("ngSwitchCase","systemInquirySeq"),It.Cb(5),It.pc("options",e.progressStatusList)("useAllOptionYn",!0),It.Cb(4),It.pc("options",e.useYnOptions)}},directives:[a.B,a.s,a.k,he.a,a.l,me.a,a.r,a.i,a.e,ge.a,fe.a,a.c,ye.a,Ce.a,a.u,s.q,s.r,s.s,be.a,Se.a],encapsulation:2,changeDetection:0}),t})();var qe=i("G4DP"),We=i("bMKz");let Te=(()=>{class t{get summary(){return this._summary}set summary(t){this._summary=t,this.summaryInfo={},(null==t?void 0:t.length)>0&&t.forEach(t=>{this.summaryInfo[t.code]=t.count})}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=It.Kb({type:t,selectors:[["app-co-inquiry-summary"]],inputs:{totalCount:"totalCount",summary:"summary"},decls:19,vars:15,consts:[[1,"d-flex","dash-inline-list","font-size-sm","color-dark-color2"],[1,"color-red"]],template:function(t,e){1&t&&(It.Wb(0,"div"),It.Wb(1,"ul",0),It.Wb(2,"li"),It.Pc(3," Total : "),It.Wb(4,"strong",1),It.Pc(5),It.ic(6,"number"),It.Vb(),It.Vb(),It.Wb(7,"li"),It.Pc(8),It.ic(9,"number"),It.Vb(),It.Wb(10,"li"),It.Pc(11),It.ic(12,"number"),It.Vb(),It.Wb(13,"li"),It.Pc(14),It.ic(15,"number"),It.Vb(),It.Wb(16,"li"),It.Pc(17),It.ic(18,"number"),It.Vb(),It.Vb(),It.Vb()),2&t&&(It.Cb(5),It.Qc(It.jc(6,5,e.totalCount)),It.Cb(3),It.Rc("\ubbf8\ud655\uc778 : ",It.jc(9,7,null==e.summaryInfo?null:e.summaryInfo.WKS01)||"-",""),It.Cb(3),It.Rc("\uc9c4\ud589\uc911 : ",It.jc(12,9,null==e.summaryInfo?null:e.summaryInfo.WKS02)||"-",""),It.Cb(3),It.Rc("\ucc98\ub9ac\uc644\ub8cc : ",It.jc(15,11,null==e.summaryInfo?null:e.summaryInfo.WKS03)||"-",""),It.Cb(3),It.Rc("\ubc18\ub824 : ",It.jc(18,13,null==e.summaryInfo?null:e.summaryInfo.WKS04)||"-",""))},pipes:[s.f],encapsulation:2,changeDetection:0}),t})(),Ee=(()=>{class t{constructor(){this.clickAddEvent=new It.n,this.clickBulkEvent=new It.n,this.changePageSizeEvent=new It.n,this.pageSizeOptions=[{label:"20",value:20},{label:"40",value:40},{label:"60",value:60},{label:"80",value:80},{label:"100",value:100}]}ngOnInit(){}onOpenPMS(){window.open("https://pms.ybtour.co.kr","_blank")}onClickAdd(){this.clickAddEvent.emit()}onClickBulk(){this.clickBulkEvent.emit()}onChangePageSize(t){this.changePageSizeEvent.emit(t.value)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=It.Kb({type:t,selectors:[["app-co-inquiry-control"]],inputs:{loading:"loading",currentPageSize:"currentPageSize",totalCount:"totalCount"},outputs:{clickAddEvent:"clickAddEvent",clickBulkEvent:"clickBulkEvent",changePageSizeEvent:"changePageSizeEvent"},decls:12,vars:4,consts:[[1,"grid-control-area"],[1,"grid-count"],[1,"ml-auto","d-inline-flex","flex-glow-0"],["data-function","2000054",1,"btn","btn-outline-dark","sm",3,"click"],["data-function","2000055",1,"btn","btn-outline-dark","sm",3,"click"],["data-function","2000056",1,"btn","btn-outline-dark","sm",3,"click"],[1,"select-box","sm","d-inline-flex","flex-glow-0"],[3,"options","ngModel","useAllOptionYn","onChange"]],template:function(t,e){1&t&&(It.Wb(0,"div",0),It.Wb(1,"strong",1),It.Pc(2),It.Vb(),It.Wb(3,"div",2),It.Wb(4,"button",3),It.fc("click",(function(){return e.onOpenPMS()})),It.Pc(5,"PMS\uc5f0\uacb0"),It.Vb(),It.Wb(6,"button",4),It.fc("click",(function(){return e.onClickBulk()})),It.Pc(7,"\ucc98\ub9ac\uc790\uc9c0\uc815"),It.Vb(),It.Wb(8,"button",5),It.fc("click",(function(){return e.onClickAdd()})),It.Pc(9,"\ucd94\uac00"),It.Vb(),It.Wb(10,"div",6),It.Wb(11,"app-selectbox",7),It.fc("onChange",(function(t){return e.onChangePageSize(t)})),It.Vb(),It.Vb(),It.Vb(),It.Vb()),2&t&&(It.Cb(2),It.Qc(e.loading?"":e.totalCount),It.Cb(9),It.pc("options",e.pageSizeOptions)("ngModel",e.currentPageSize)("useAllOptionYn",!1))},directives:[me.a,a.r,a.u],encapsulation:2,changeDetection:0}),t})();var Ue=i("kDLv"),Ne=i("7G9D"),Re=i("BA+4"),_e=i("RfQl");const xe=function(){return{userTypeCode:"U01"}},$e=function(){return["userNo","name","deptName","positionName"]};let Ye=(()=>{class t{constructor(t,e,i,n){this._dataService=t,this.fileService=e,this.cd=i,this.alertService=n,this.submitEvent=new It.n,this.closeEvent=new It.n,this.isFileUploading=null,this._$unsubscribe=new Ut.a,this.upsertForm=this._dataService.generatePutForm()}get displayFileName(){return this.upsertForm.get("attachedFileUrl1").value}ngAfterContentInit(){this._initSubscription(),this._initThisState(),this.upsertFormData=Object.assign(this._dataService.initPutFormData(),{writerUno:this.loginUser.userNo})}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete()}onSubmit(){if(this.upsertForm.invalid)return void(this._checkValid=!0);const t=this._setPutCondition();this.submitEvent.emit(t),this._checkValid=!1}onClose(){this.closeEvent.emit()}checkIsInvalid(t){return this._checkValid&&this.upsertForm.get(t)&&this.upsertForm.get(t).invalid}onFileError(t){alert(t)}onFileSelect({files:t,isInvalid:e}){if(t.length>0&&!e){if(t.length>3)return void this.alertService.alert("3\uac1c\uc774\uc0c1 \ubd88\uac00\ud569\ub2c8\ub2e4.");new Array;for(let e=0;e<t.length;e++)this.fileService.fileUpload(Vt.fileUpload,{file:t[e]}).subscribe(t=>{!0===t.succeedYn?0==e?this.upsertForm.patchValue({attachedFileUrl1:t.result.images[0]}):1==e?this.upsertForm.patchValue({attachedFileUrl2:t.result.images[0]}):2==e&&this.upsertForm.patchValue({attachedFileUrl3:t.result.images[0]}):this.alertService.alert("An error occurred while uploading. Please try again later."),this.cd.detectChanges()},console.error),this.alertService.alert("Upload completed.")}else this.alertService.alert("It is not a valid file.")}_initThisState(){this._checkValid=!1,this.writerUnoInput=`${this.loginUser.userNo} - ${this.loginUser.name}`}_setPutFormData(t){const e=Object.assign(this._dataService.initPutFormData(),{writerUno:this.loginUser.userNo});return P.isNil(t)?e:Object.assign({},e,P.pick(t,Object.keys(e)))}_setPutCondition(){const t=this._dataService.initPutFormData(),e=this.upsertForm.getRawValue();let i=Object.assign({},P.pick(e,Object.keys(t)));return P.isNil(i.rowid)&&(i=P.omit(i,["rowid","systemInquirySeq"])),{condition:i}}_initSubscription(){}}return t.\u0275fac=function(e){return new(e||t)(It.Qb(Tt),It.Qb(Ne.a),It.Qb(It.h),It.Qb(jt.a))},t.\u0275cmp=It.Kb({type:t,selectors:[["app-co-inquiry-form"]],inputs:{loginUser:"loginUser",inquiryCategoryList:"inquiryCategoryList",stationTypeList:"stationTypeList",workTypeList:"workTypeList"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:52,vars:17,consts:[[1,"modal-body"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","15%"],["width","35%"],["scope","row",1,"th-bg"],["colspan","3"],["formControlName","inquiryTitle",3,"isInvalid"],["formControlName","inquiryCategoryCode",3,"options","isInvalid"],["formControlName","workTypeCode",3,"options","isInvalid"],["formControlName","writerUno","apiUrl","admin/common/staff","dataKey","userNo","inputFieldFormat","{0}-{1}&,{2}&,{3}","placeholder","\uc694\uccad\uc790 \uac80\uc0c9",3,"inputFieldValue","isInvalid","apiCondition","apiSearchTerm","inputFieldFormatKeyList"],[1,"mb5","pos-r"],["chooseLabel","\uc5c5\ub85c\ub4dc \ud560 \ud30c\uc77c\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694",3,"displayValue","maxFileSize","multiple","onError","onSelect"],["compFileUpload",""],["colspan","3",1,"td-editor"],["toolBarType","full","styleHeight","200px","formControlName","inquiryDetail"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(t,e){1&t&&(It.Wb(0,"div",0),It.Wb(1,"form",1),It.fc("ngSubmit",(function(){return e.onSubmit()})),It.Wb(2,"div",2),It.Wb(3,"table"),It.Wb(4,"caption"),It.Pc(5," \uc2dc\uc2a4\ud15c\ubb38\uc758 \uc815\ubcf4 "),It.Vb(),It.Wb(6,"colgroup"),It.Rb(7,"col",3),It.Rb(8,"col",4),It.Rb(9,"col",3),It.Rb(10,"col",4),It.Vb(),It.Wb(11,"tbody"),It.Wb(12,"tr"),It.Wb(13,"th",5),It.Pc(14,"\uc81c\ubaa9"),It.Rb(15,"sup"),It.Vb(),It.Wb(16,"td",6),It.Rb(17,"app-input-text",7),It.Vb(),It.Vb(),It.Wb(18,"tr"),It.Wb(19,"th",5),It.Pc(20,"\uce74\ud14c\uace0\ub9ac"),It.Rb(21,"sup"),It.Vb(),It.Wb(22,"td"),It.Rb(23,"app-selectbox",8),It.Vb(),It.Wb(24,"th",5),It.Pc(25,"\uc791\uc5c5\uad6c\ubd84"),It.Rb(26,"sup"),It.Vb(),It.Wb(27,"td"),It.Rb(28,"app-selectbox",9),It.Vb(),It.Vb(),It.Wb(29,"tr"),It.Wb(30,"th",5),It.Pc(31,"\uc694\uccad\uc790\uba85"),It.Rb(32,"sup"),It.Vb(),It.Wb(33,"td"),It.Rb(34,"app-auto-complete",10),It.Vb(),It.Wb(35,"th",5),It.Pc(36,"\ucca8\ubd80\ud30c\uc77c \ub4f1\ub85d"),It.Vb(),It.Wb(37,"td",6),It.Wb(38,"div",11),It.Wb(39,"app-file-upload",12,13),It.fc("onError",(function(t){return e.onFileError(t)}))("onSelect",(function(t){return e.onFileSelect(t)})),It.Vb(),It.Vb(),It.Vb(),It.Vb(),It.Wb(41,"tr"),It.Wb(42,"th",5),It.Pc(43,"\ub0b4\uc6a9"),It.Rb(44,"sup"),It.Vb(),It.Wb(45,"td",14),It.Rb(46,"app-editor",15),It.Vb(),It.Vb(),It.Vb(),It.Vb(),It.Vb(),It.Wb(47,"div",16),It.Wb(48,"button",17),It.Pc(49,"\uc800\uc7a5"),It.Vb(),It.Wb(50,"button",18),It.fc("click",(function(){return e.onClose()})),It.Pc(51,"\ucde8\uc18c"),It.Vb(),It.Vb(),It.Vb(),It.Vb()),2&t&&(It.Cb(1),It.pc("formGroup",e.upsertForm)("connectForm",e.upsertFormData),It.Cb(16),It.pc("isInvalid",e.checkIsInvalid("inquiryTitle")),It.Cb(6),It.pc("options",e.inquiryCategoryList)("isInvalid",e.checkIsInvalid("inquiryCategoryCode")),It.Cb(5),It.pc("options",e.workTypeList)("isInvalid",e.checkIsInvalid("workTypeCode")),It.Cb(6),It.pc("inputFieldValue",e.writerUnoInput)("isInvalid",e.checkIsInvalid("writerUno"))("apiCondition",It.tc(15,xe))("apiSearchTerm","name")("inputFieldFormatKeyList",It.tc(16,$e)),It.Cb(5),It.pc("displayValue",e.displayFileName)("maxFileSize",5e7)("multiple",!0))},directives:[a.B,a.s,a.k,he.a,Se.a,a.r,a.i,me.a,be.a,Re.a,_e.a],encapsulation:2,changeDetection:0}),t})();var Be=i("pb6r"),ze=i("NCYe");function Ae(t,e){if(1&t&&(It.Ub(0),It.Wb(1,"a",29),It.Pc(2),It.Vb(),It.Tb()),2&t){const t=It.hc();It.Cb(1),It.pc("href",null==t.detailItem?null:t.detailItem.attachedFileUrl1,It.Hc),It.Cb(1),It.Qc(null==t.detailItem?null:t.detailItem.attachedFileName1)}}function Me(t,e){if(1&t&&(It.Ub(0),It.Rb(1,"br"),It.Wb(2,"a",29),It.Pc(3),It.Vb(),It.Tb()),2&t){const t=It.hc();It.Cb(2),It.pc("href",null==t.detailItem?null:t.detailItem.attachedFileUrl2,It.Hc),It.Cb(1),It.Qc(null==t.detailItem?null:t.detailItem.attachedFileName2)}}function Ke(t,e){if(1&t&&(It.Ub(0),It.Rb(1,"br"),It.Wb(2,"a",29),It.Pc(3),It.Vb(),It.Tb()),2&t){const t=It.hc();It.Cb(2),It.pc("href",null==t.detailItem?null:t.detailItem.attachedFileUrl3,It.Hc),It.Cb(1),It.Qc(null==t.detailItem?null:t.detailItem.attachedFileName3)}}function He(t,e){if(1&t){const t=It.Xb();It.Wb(0,"div",30),It.Wb(1,"button",31),It.fc("click",(function(){return It.Fc(t),It.hc().onOpenComment()})),It.Pc(2,"\ub313\uae00\uc4f0\uae30"),It.Vb(),It.Vb()}}function Qe(t,e){if(1&t){const t=It.Xb();It.Wb(0,"tr"),It.Wb(1,"td",32),It.Wb(2,"span",38),It.Pc(3,"\u21aa"),It.Vb(),It.Pc(4),It.Vb(),It.Wb(5,"td",33),It.Wb(6,"pre",34),It.Pc(7),It.Vb(),It.Vb(),It.Wb(8,"td",35),It.Pc(9),It.Vb(),It.Wb(10,"td",36),It.Wb(11,"button",31),It.fc("click",(function(){It.Fc(t);const e=It.hc().$implicit;return It.hc().onOpenSubComment(e)})),It.Pc(12,"\ub313\uae00\uc4f0\uae30"),It.Vb(),It.Vb(),It.Vb()}if(2&t){const t=e.$implicit;It.Cb(4),It.Rc(" ",null==t?null:t.lastUpdateName,""),It.Cb(3),It.Qc(null==t?null:t.inquiryCommentDetail),It.Cb(2),It.Qc(null==t?null:t.lastUpdateDatetime)}}function Ge(t,e){if(1&t){const t=It.Xb();It.Wb(0,"tr",39),It.Wb(1,"td",32),It.Wb(2,"span",38),It.Pc(3,"\u21aa"),It.Vb(),It.Vb(),It.Wb(4,"td",40),It.Wb(5,"div",41),It.Rb(6,"textarea",42),It.Vb(),It.Vb(),It.Wb(7,"td",36),It.Wb(8,"div",43),It.Wb(9,"button",44),It.fc("click",(function(){return It.Fc(t),It.hc(2).onSaveSubComment()})),It.Pc(10,"\uc800\uc7a5"),It.Vb(),It.Wb(11,"button",31),It.fc("click",(function(){return It.Fc(t),It.hc(2).onCloseSubComment()})),It.Pc(12,"\ucde8\uc18c"),It.Vb(),It.Vb(),It.Vb(),It.Vb()}if(2&t){const t=It.hc(2);It.pc("formGroup",t.subCommentForm),It.Cb(5),It.Gb("valid-error",t.checkIsInvalidSubComment("inquiryCommentDetail"))}}function Xe(t,e){if(1&t){const t=It.Xb();It.Wb(0,"tr"),It.Wb(1,"td",32),It.Pc(2),It.Vb(),It.Wb(3,"td",33),It.Wb(4,"pre",34),It.Pc(5),It.Vb(),It.Vb(),It.Wb(6,"td",35),It.Pc(7),It.Vb(),It.Wb(8,"td",36),It.Wb(9,"button",31),It.fc("click",(function(){It.Fc(t);const i=e.$implicit;return It.hc().onOpenSubComment(i)})),It.Pc(10,"\ub313\uae00\uc4f0\uae30"),It.Vb(),It.Vb(),It.Vb(),It.Nc(11,Qe,13,3,"ng-template",28),It.Nc(12,Ge,13,3,"tr",37)}if(2&t){const t=e.$implicit,i=It.hc();It.Cb(2),It.Qc(null==t?null:t.lastUpdateName),It.Cb(3),It.Qc(null==t?null:t.inquiryCommentDetail),It.Cb(2),It.Qc(null==t?null:t.lastUpdateDatetime),It.Cb(4),It.pc("ngForOf",null==t?null:t.subCommentList),It.Cb(1),It.pc("ngIf",i.isOpenSubComment(t))}}function Je(t,e){1&t&&(It.Wb(0,"tr"),It.Wb(1,"td",45),It.Pc(2,"\uc785\ub825\ub41c \ub313\uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."),It.Vb(),It.Vb())}function Ze(t,e){if(1&t){const t=It.Xb();It.Wb(0,"button",31),It.fc("click",(function(){return It.Fc(t),It.hc(2).onCancelComment()})),It.Pc(1,"\ucde8\uc18c"),It.Vb()}}function ti(t,e){if(1&t){const t=It.Xb();It.Wb(0,"tr",46),It.Wb(1,"td",15),It.Wb(2,"div",41),It.Rb(3,"textarea",47),It.Vb(),It.Vb(),It.Wb(4,"td",36),It.Wb(5,"div",43),It.Wb(6,"button",44),It.fc("click",(function(){return It.Fc(t),It.hc().onSaveComment()})),It.Pc(7,"\uc800\uc7a5"),It.Vb(),It.Nc(8,Ze,2,0,"ng-template",14),It.Vb(),It.Vb(),It.Vb()}if(2&t){const t=It.hc();It.pc("formGroup",t.commentForm)("connectForm",t.commentFormData),It.Cb(2),It.Gb("valid-error",t.checkIsInvalidComment("inquiryCommentDetail")),It.Cb(6),It.pc("ngIf",!1)}}const ei=function(){return{}},ii=function(){return["userNo","name","deptName","positionName"]};let ni=(()=>{class t{constructor(t,e){this._dataService=t,this.fb=e,this.submitEvent=new It.n,this.closeEvent=new It.n,this.addCommentEvent=new It.n,this._$unsubscribe=new Ut.a,this.upsertForm=this._dataService.generatePutForm(),this.commentForm=this._dataService.generatePutCommentForm()}get detailItem(){return this._detailItem}set detailItem(t){this._detailItem=t&&t.handleUno&&t.handleName?t:Object.assign(Object.assign({},t),{handleUno:this.loginUser.userNo,handleName:this.loginUser.name}),this.upsertFormData=this._setPutFormData(this._detailItem),this.commentFormData=this._setPutCommentFormData(this._detailItem),this._initThisState()}get userInputModel(){return`${this.detailItem.handleName}(${this.detailItem.handleUno})`}get finishDateTime(){return"WKS03"===this.detailItem.progressStatusCode||"WKS04"===this.detailItem.progressStatusCode?this.detailItem.finishDatetime:null}ngAfterContentInit(){this._initSubscription(),this._initThisState()}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete()}onSubmit(){if(this.upsertForm.invalid)return void(this._checkValid=!0);const t=this._setPutCondition();this.submitEvent.emit(t),this._checkValid=!1}onClose(){this.closeEvent.emit()}checkIsInvalid(t){return this._checkValid&&this.upsertForm.get(t)&&this.upsertForm.get(t).invalid}checkIsInvalidComment(t){return this._checkValidComment&&this.commentForm.get(t)&&this.commentForm.get(t).invalid}checkIsInvalidSubComment(t){return this._checkValidSubComment&&this.subCommentForm.get(t)&&this.subCommentForm.get(t).invalid}_initThisState(){this._checkValid=!1}_setPutFormData(t){const e=this._dataService.initPutFormData();return P.isNil(t)?e:Object.assign({},e,P.pick(t,Object.keys(e)))}_setPutCommentFormData(t){const e=this._dataService.initPutCommentFormData();return P.isNil(t)?e:Object.assign({},e,P.pick(t,Object.keys(e)))}_setPutCondition(){var t;const e=this._dataService.initPutFormData(),i=this.upsertForm.getRawValue();let n=(null===(t=this.detailItem)||void 0===t?void 0:t.finishDatetime)||null;return"WKS03"!==i.progressStatusCode&&(n=null),"WKS03"!==i.progressStatusCode||n||(n=Wt().format("YYYY-MM-DD HH:mm:ss")),{condition:Object.assign({},P.pick(i,Object.keys(e)),{finishDatetime:n})}}onOpenComment(){this.isOpenComment=!0}onSaveComment(){if(this.commentForm.invalid)return void(this._checkValidComment=!0);let t=this.commentForm.value;P.isNil(t.refSystemInquiryCommentSeq)&&(t=P.omit(t,["refSystemInquiryCommentSeq"])),this.addCommentEvent.emit(t),this._checkValidComment=!1}onCancelComment(){this.commentForm.patchValue({inquiryCommentDetail:null}),this._checkValidComment=!1}onOpenSubComment(t){this.subCommentForm=this._dataService.generatePutCommentForm(),this.subCommentForm.patchValue({systemInquirySeq:this.detailItem.systemInquirySeq,refSystemInquiryCommentSeq:t.systemInquiryCommentSeq||null}),this._editingCommentId=t.rowid}onCloseSubComment(){this._checkValidSubComment=!1,this._editingCommentId=""}onSaveSubComment(){if(this.subCommentForm.invalid)return void(this._checkValidSubComment=!0);let t=this.subCommentForm.value;P.isNil(t.refSystemInquiryCommentSeq)&&(t=P.omit(t,["refSystemInquiryCommentSeq"])),this.addCommentEvent.emit(t),this.onCloseSubComment()}isOpenSubComment(t){return t.rowid===this._editingCommentId}_initSubscription(){this.isOpenComment=!0}}return t.\u0275fac=function(e){return new(e||t)(It.Qb(Tt),It.Qb(a.f))},t.\u0275cmp=It.Kb({type:t,selectors:[["app-co-inquiry-detail"]],inputs:{loginUser:"loginUser",progressStatusList:"progressStatusList",detailItem:"detailItem"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent",addCommentEvent:"addCommentEvent"},decls:113,vars:38,consts:[[1,"modal-body"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered","table-fixed"],["width","16.5%"],["scope","row",1,"th-bg"],["colspan","5"],[1,"cursor-default"],["colspan","2"],["formControlName","emergencyInquiryYn","binary","true","label","\uae34\uae09\ubb38\uc758"],["formControlName","handleUno","apiUrl","admin/common/staff","dataKey","userNo","inputFieldFormat","{0}-{1}&,{2}&,{3}",3,"inputFieldValue","isInvalid","apiCondition","apiSearchTerm","inputFieldFormatKeyList"],["formControlName","progressStatusCode",3,"options","isInvalid"],["colspan","5",3,"innerHTML"],[4,"ngIf"],[1,"grid-control-area"],[3,"ngIf"],["colspan","3"],[1,"input","calendar",2,"flex","2 1","min-width","155px"],[3,"for"],["type","text","formControlName","finishDueDate","placeholder","YYYY-MM-DD",3,"matDatepicker"],["finishDueDatePicker",""],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm",3,"click"],[1,"page-item"],[1,"page-item-header"],[1,"title"],["width","100px"],["width","160px"],["ngFor","",3,"ngForOf"],["target","_blank",3,"href"],[1,"ml-auto","d-inline-flex","flex-glow-0"],["type","button",1,"btn","btn-light","xs",3,"click"],[1,"border-right-none"],[1,"border-left-none","border-right-none","pl25","pr25"],[1,"pre-common"],[1,"align-c","border-left-none","border-right-none"],[1,"align-c","border-left-none"],[3,"formGroup",4,"ngIf"],[1,"ml15"],[3,"formGroup"],["colspan","2",1,"align-c","border-left-none","border-right-none"],[1,"textarea"],["cols","30","rows","2","formControlName","inquiryCommentDetail"],[1,"form-group"],["type","button",1,"btn","btn-secondary","xs",3,"click"],["colspan","4"],[3,"formGroup","connectForm"],["cols","30","rows","3","formControlName","inquiryCommentDetail"]],template:function(t,e){if(1&t&&(It.Wb(0,"div",0),It.Wb(1,"form",1),It.fc("ngSubmit",(function(){return e.onSubmit()})),It.Wb(2,"div",2),It.Wb(3,"table"),It.Wb(4,"caption"),It.Pc(5," \uc2dc\uc2a4\ud15c\ubb38\uc758 \uc815\ubcf4 "),It.Vb(),It.Wb(6,"colgroup"),It.Rb(7,"col",3),It.Rb(8,"col",3),It.Rb(9,"col",3),It.Rb(10,"col",3),It.Rb(11,"col",3),It.Rb(12,"col",3),It.Vb(),It.Wb(13,"tbody"),It.Wb(14,"tr"),It.Wb(15,"th",4),It.Pc(16,"\ubc88\ud638"),It.Vb(),It.Wb(17,"td"),It.Pc(18),It.Vb(),It.Wb(19,"th",4),It.Pc(20,"\uc870\ud68c"),It.Vb(),It.Wb(21,"td"),It.Pc(22),It.Vb(),It.Wb(23,"th",4),It.Pc(24,"\ub313\uae00"),It.Vb(),It.Wb(25,"td"),It.Pc(26),It.Vb(),It.Vb(),It.Wb(27,"tr"),It.Wb(28,"th",4),It.Pc(29,"\uc81c\ubaa9"),It.Vb(),It.Wb(30,"td",5),It.Wb(31,"a",6),It.Pc(32),It.Vb(),It.Vb(),It.Vb(),It.Wb(33,"tr"),It.Wb(34,"th",4),It.Pc(35,"\uce74\ud14c\uace0\ub9ac"),It.Vb(),It.Wb(36,"td",7),It.Pc(37),It.Vb(),It.Wb(38,"th",4),It.Pc(39,"\uc791\uc5c5\uad6c\ubd84"),It.Vb(),It.Wb(40,"td",7),It.Pc(41),It.Vb(),It.Vb(),It.Wb(42,"tr"),It.Wb(43,"th",4),It.Pc(44,"\uc694\uccad\uc790"),It.Vb(),It.Wb(45,"td",7),It.Pc(46),It.Vb(),It.Wb(47,"th",4),It.Pc(48,"\uc635\uc158"),It.Vb(),It.Wb(49,"td",7),It.Rb(50,"app-checkbox",8),It.Vb(),It.Vb(),It.Wb(51,"tr"),It.Wb(52,"th",4),It.Pc(53,"\ucc98\ub9ac\uc790"),It.Vb(),It.Wb(54,"td",7),It.Rb(55,"app-auto-complete",9),It.Vb(),It.Wb(56,"th",4),It.Pc(57,"\ucc98\ub9ac\uc0c1\ud0dc"),It.Vb(),It.Wb(58,"td",7),It.Rb(59,"app-selectbox",10),It.Vb(),It.Vb(),It.Wb(60,"tr"),It.Wb(61,"th",4),It.Pc(62,"\ub0b4\uc6a9"),It.Vb(),It.Rb(63,"td",11),It.ic(64,"sanitizeHtml"),It.Vb(),It.Wb(65,"tr"),It.Wb(66,"th",4),It.Pc(67,"\ucca8\ubd80\ud30c\uc77c"),It.Vb(),It.Wb(68,"td",5),It.Nc(69,Ae,3,2,"ng-container",12),It.Nc(70,Me,4,2,"ng-container",12),It.Nc(71,Ke,4,2,"ng-container",12),It.Vb(),It.Vb(),It.Wb(72,"tr"),It.Wb(73,"th",4),It.Pc(74,"\uc694\uccad\uc77c\uc2dc"),It.Vb(),It.Wb(75,"td",7),It.Pc(76),It.Vb(),It.Wb(77,"th",4),It.Pc(78,"\uc644\ub8cc\uc77c\uc2dc"),It.Vb(),It.Wb(79,"td",7),It.Wb(80,"div",13),It.Pc(81),It.Nc(82,He,3,0,"ng-template",14),It.Vb(),It.Vb(),It.Vb(),It.Wb(83,"tr"),It.Rb(84,"td",15),It.Wb(85,"th",4),It.Pc(86,"\uc644\ub8cc\uc608\uc815\uc77c"),It.Vb(),It.Wb(87,"td",7),It.Wb(88,"div",16),It.Rb(89,"mat-datepicker-toggle",17),It.Rb(90,"input",18),It.Rb(91,"mat-datepicker",null,19),It.Vb(),It.Vb(),It.Vb(),It.Vb(),It.Vb(),It.Vb(),It.Wb(93,"div",20),It.Wb(94,"button",21),It.Pc(95,"\uc800\uc7a5"),It.Vb(),It.Wb(96,"button",22),It.fc("click",(function(){return e.onClose()})),It.Pc(97,"\ucde8\uc18c"),It.Vb(),It.Vb(),It.Vb(),It.Wb(98,"div",23),It.Wb(99,"div",24),It.Wb(100,"p",25),It.Pc(101,"\ub313\uae00"),It.Vb(),It.Vb(),It.Wb(102,"div",2),It.Wb(103,"table"),It.Wb(104,"colgroup"),It.Rb(105,"col",26),It.Rb(106,"col"),It.Rb(107,"col",27),It.Rb(108,"col",26),It.Vb(),It.Wb(109,"tbody"),It.Nc(110,Xe,13,5,"ng-template",28),It.Nc(111,Je,3,0,"tr",12),It.Nc(112,ti,9,5,"ng-template",14),It.Vb(),It.Vb(),It.Vb(),It.Vb(),It.Vb()),2&t){const t=It.Ec(92);It.Cb(1),It.pc("formGroup",e.upsertForm)("connectForm",e.upsertFormData),It.Cb(17),It.Qc(null==e.detailItem?null:e.detailItem.systemInquirySeq),It.Cb(4),It.Qc(null==e.detailItem?null:e.detailItem.pageViewCount),It.Cb(4),It.Qc(null==e.detailItem||null==e.detailItem.commentList?null:e.detailItem.commentList.length),It.Cb(5),It.Gb("text-label",e.detailItem.emergencyInquiryYn)("type1",e.detailItem.emergencyInquiryYn),It.Cb(1),It.Qc(e.detailItem.inquiryTitle),It.Cb(5),It.Qc(null==e.detailItem?null:e.detailItem.inquiryCategoryName),It.Cb(4),It.Qc(null==e.detailItem?null:e.detailItem.workTypeName),It.Cb(5),It.Qc(null==e.detailItem?null:e.detailItem.writerName),It.Cb(9),It.pc("inputFieldValue",e.userInputModel)("isInvalid",e.checkIsInvalid("handleUno"))("apiCondition",It.tc(36,ei))("apiSearchTerm","name")("inputFieldFormatKeyList",It.tc(37,ii)),It.Cb(4),It.pc("options",e.progressStatusList)("isInvalid",e.checkIsInvalid("progressStatusCode")),It.Cb(4),It.pc("innerHTML",It.jc(64,34,null==e.detailItem?null:e.detailItem.inquiryDetail),It.Gc),It.Cb(6),It.pc("ngIf",null==e.detailItem?null:e.detailItem.attachedFileUrl1),It.Cb(1),It.pc("ngIf",null==e.detailItem?null:e.detailItem.attachedFileUrl2),It.Cb(1),It.pc("ngIf",null==e.detailItem?null:e.detailItem.attachedFileUrl3),It.Cb(5),It.Qc(null==e.detailItem?null:e.detailItem.firstInsertDatetime),It.Cb(5),It.Rc(" ",e.finishDateTime," "),It.Cb(1),It.pc("ngIf",!1),It.Cb(6),It.Gb("valid-error",e.checkIsInvalid("finishDueDate")),It.Cb(1),It.pc("for",t),It.Cb(1),It.pc("matDatepicker",t),It.Cb(20),It.pc("ngForOf",null==e.detailItem?null:e.detailItem.commentList),It.Cb(1),It.pc("ngIf",0===(null==e.detailItem||null==e.detailItem.commentList?null:e.detailItem.commentList.length)),It.Cb(1),It.pc("ngIf",e.isOpenComment)}},directives:[a.B,a.s,a.k,he.a,Be.a,a.r,a.i,be.a,me.a,s.o,ge.a,a.c,fe.a,ye.a,s.n],pipes:[ze.d],encapsulation:2,changeDetection:0}),t})();const si=function(){return{userTypeCode:"U01"}},ai=function(){return["userNo","name","deptName","positionName"]};let oi=(()=>{class t{constructor(t){this._dataService=t,this.submitEvent=new It.n,this.closeEvent=new It.n,this.updateForm=this._dataService.generateBulkUpdateForm()}get checkedDataList(){return this._checkedDataList}set checkedDataList(t){this._checkedDataList=t,this.updateFormData=this._setPutFormData(t),this._initThisState()}ngOnInit(){this._initThisState()}onSubmit(){if(this.updateForm.invalid)return void(this._checkValid=!0);const t=this._setPutCondition();this.submitEvent.emit(t),this._checkValid=!1}onClose(){this.closeEvent.emit(),this._initThisState()}checkIsInvalid(t){return this._checkValid&&this.updateForm.get(t)&&this.updateForm.get(t).invalid}_initThisState(){this._checkValid=!1}_setPutFormData(t){const e=this._dataService.initBulkUpdate();return Object.assign({},e,{})}_setPutCondition(){const t=this.checkedDataList.map(t=>t.systemInquirySeq);return{handleUno:this.updateForm.get("handleUno").value,systemInquirySeqs:t}}}return t.\u0275fac=function(e){return new(e||t)(It.Qb(Tt))},t.\u0275cmp=It.Kb({type:t,selectors:[["app-co-inquiry-bulk-update"]],inputs:{checkedDataList:"checkedDataList"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:21,vars:8,consts:[[1,"modal-body"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","130px"],["scope","row",1,"th-bg"],["inputFieldValue","","formControlName","handleUno","apiUrl","admin/common/staff","dataKey","userNo","inputFieldFormat","{0}-{1}&,{2}&,{3}","placeholder","\uc774\ub984 \uac80\uc0c9",3,"apiSearchTerm","apiCondition","inputFieldFormatKeyList","isInvalid"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(t,e){1&t&&(It.Wb(0,"div",0),It.Wb(1,"form",1),It.fc("ngSubmit",(function(){return e.onSubmit()})),It.Wb(2,"div",2),It.Wb(3,"table"),It.Wb(4,"caption"),It.Pc(5," \ucc98\ub9ac\uc790 \uc9c0\uc815 "),It.Vb(),It.Wb(6,"colgroup"),It.Rb(7,"col",3),It.Rb(8,"col"),It.Vb(),It.Wb(9,"tbody"),It.Wb(10,"tr"),It.Wb(11,"th",4),It.Pc(12,"\ucc98\ub9ac\uc790"),It.Rb(13,"sup"),It.Vb(),It.Wb(14,"td"),It.Rb(15,"app-auto-complete",5),It.Vb(),It.Vb(),It.Vb(),It.Vb(),It.Vb(),It.Wb(16,"div",6),It.Wb(17,"button",7),It.Pc(18,"\uc800\uc7a5"),It.Vb(),It.Wb(19,"button",8),It.fc("click",(function(){return e.onClose()})),It.Pc(20,"\ub2eb\uae30"),It.Vb(),It.Vb(),It.Vb(),It.Vb()),2&t&&(It.Cb(1),It.pc("formGroup",e.updateForm)("connectForm",e.updateFormData),It.Cb(14),It.pc("apiSearchTerm","name")("apiCondition",It.tc(6,si))("inputFieldFormatKeyList",It.tc(7,ai))("isInvalid",e.checkIsInvalid("handleUno")))},directives:[a.B,a.s,a.k,he.a,be.a,a.r,a.i],encapsulation:2,changeDetection:0}),t})();function ri(t,e){1&t&&(It.Wb(0,"span"),It.Pc(1,"Y"),It.Vb())}function ci(t,e){1&t&&(It.Wb(0,"span"),It.Pc(1,"N"),It.Vb())}function li(t,e){if(1&t&&(It.Nc(0,ri,2,0,"span",17),It.Nc(1,ci,2,0,"span",17)),2&t){const t=e.$implicit;It.pc("ngIf",!0===t.b2cDisplayYn),It.Cb(1),It.pc("ngIf",!1===t.b2cDisplayYn)}}function ui(t,e){1&t&&(It.Wb(0,"span"),It.Pc(1,"Y"),It.Vb())}function di(t,e){1&t&&(It.Wb(0,"span"),It.Pc(1,"N"),It.Vb())}function pi(t,e){if(1&t&&(It.Nc(0,ui,2,0,"span",17),It.Nc(1,di,2,0,"span",17)),2&t){const t=e.$implicit;It.pc("ngIf",!0===t.b2bDisplayYn),It.Cb(1),It.pc("ngIf",!1===t.b2bDisplayYn)}}function bi(t,e){1&t&&(It.Wb(0,"span"),It.Pc(1,"Y"),It.Vb())}function hi(t,e){1&t&&(It.Wb(0,"span"),It.Pc(1,"N"),It.Vb())}function mi(t,e){if(1&t&&(It.Nc(0,bi,2,0,"span",17),It.Nc(1,hi,2,0,"span",17)),2&t){const t=e.$implicit;It.pc("ngIf",!0===t.btmsDisplayYn),It.Cb(1),It.pc("ngIf",!1===t.btmsDisplayYn)}}function gi(t,e){1&t&&(It.Wb(0,"span"),It.Pc(1,"Y"),It.Vb())}function fi(t,e){1&t&&(It.Wb(0,"span"),It.Pc(1,"N"),It.Vb())}function yi(t,e){if(1&t&&(It.Nc(0,gi,2,0,"span",17),It.Nc(1,fi,2,0,"span",17)),2&t){const t=e.$implicit;It.pc("ngIf",!0===t.controlDisplayYn),It.Cb(1),It.pc("ngIf",!1===t.controlDisplayYn)}}function Ci(t,e){if(1&t&&(It.Wb(0,"span",18),It.Pc(1),It.Vb()),2&t){const t=e.$implicit;It.Gb("text-label",t.emergencyInquiryYn)("type1",t.emergencyInquiryYn),It.Cb(1),It.Qc(t.inquiryTitle)}}function Si(t,e){if(1&t&&(It.Ub(0),It.Pc(1),It.Tb()),2&t){const t=It.hc().$implicit;It.Cb(1),It.Qc(t.finishDatetime)}}function vi(t,e){if(1&t&&It.Nc(0,Si,2,1,"ng-container",17),2&t){const t=e.$implicit;It.pc("ngIf","WKS03"===t.progressStatusCode||"WKS04"===t.progressStatusCode)}}function Oi(t,e){if(1&t){const t=It.Xb();It.Wb(0,"app-co-inquiry-form",19),It.fc("submitEvent",(function(e){return It.Fc(t),It.hc().submitUpsertHandler(e)}))("closeEvent",(function(){return It.Fc(t),It.hc().closeAddPopupHandler()})),It.ic(1,"async"),It.ic(2,"async"),It.ic(3,"async"),It.Vb()}if(2&t){const t=It.hc();It.pc("loginUser",It.jc(1,3,t.loginUser$))("workTypeList",It.jc(2,5,t.workTypeList$))("inquiryCategoryList",It.jc(3,7,t.inquiryCategoryList$))}}function Ii(t,e){if(1&t){const t=It.Xb();It.Wb(0,"app-co-inquiry-detail",20),It.fc("submitEvent",(function(e){return It.Fc(t),It.hc().submitDetailUpsertHandler(e)}))("closeEvent",(function(){return It.Fc(t),It.hc().closeDetailPopupHandler()}))("addCommentEvent",(function(e){return It.Fc(t),It.hc().addCommentHandler(e)})),It.ic(1,"async"),It.ic(2,"async"),It.ic(3,"async"),It.Vb()}if(2&t){const t=It.hc();It.pc("loginUser",It.jc(1,3,t.loginUser$))("detailItem",It.jc(2,5,t.detailItem$))("progressStatusList",It.jc(3,7,t.progressStatusList$))}}function ji(t,e){if(1&t){const t=It.Xb();It.Wb(0,"app-co-inquiry-bulk-update",21),It.fc("submitEvent",(function(e){return It.Fc(t),It.hc().submitBulkUpdateHandler(e)}))("closeEvent",(function(){return It.Fc(t),It.hc().closeBulkUpdateHandler()})),It.Vb()}if(2&t){const t=It.hc();It.pc("checkedDataList",t.checkedDataList)}}const ki=function(t,e){return{titleTpl:t,finishDateTimeTpl:e}};let Fi=(()=>{class t{constructor(t,e,i,n,s){this.store=t,this.authStore=e,this._dataService=i,this.alertService=n,this.UserConditionService=s,this.unsubscribe$=new Ut.a,this.auths$=t.pipe(Object(r.u)(Kt)),this.loading$=t.pipe(Object(r.u)(Ht)),this.detailItem$=t.pipe(Object(r.u)(pe)),this.reloadToggle$=t.pipe(Object(r.u)(Qt)),this.inquiryCategoryList$=t.pipe(Object(r.u)(Gt)),this.stationTypeList$=t.pipe(Object(r.u)(Xt)),this.workTypeList$=t.pipe(Object(r.u)(Jt)),this.progressStatusList$=t.pipe(Object(r.u)(Zt)),this.searchCondition$=t.pipe(Object(r.u)(te)),this.gridDataList$=t.pipe(Object(r.u)(se)),this.listPageSize$=t.pipe(Object(r.u)(ee)),this.isOpenAddPopup$=t.pipe(Object(r.u)(le)),this.isOpenDetailPopup$=t.pipe(Object(r.u)(ue)),this.isOpenBulkPopup$=t.pipe(Object(r.u)(de)),this.selectedItem$=t.pipe(Object(r.u)(ie)),this.loginUser$=e.pipe(Object(r.u)(Ot.r)),this.otherSearchInfo$=t.pipe(Object(r.u)(ne)),this.gridState$=t.pipe(Object(r.u)(ae)),this.gridCheckedState$=t.pipe(Object(r.u)(oe)),this.storeId$=e.pipe(Object(r.u)(Ot.o)),this.totalCount$=t.pipe(Object(r.u)(re)),this.summary$=t.pipe(Object(r.u)(ce)),this.columns=this._dataService.generateGridColumns(),this._initSubscription()}ngOnInit(){this.store.dispatch(n.loadInquiryCategoryList({condition:{masterCode:"CO002"}})),this.store.dispatch(n.loadStationTypeList({condition:{masterCode:"BS002"}})),this.store.dispatch(n.loadWorkTypeList({condition:{masterCode:"CO003"}})),this.store.dispatch(n.loadProgressStatusList({condition:{masterCode:"CO004"}})),this.storeId$.subscribe(t=>this._storeId=t),this.initSearchCondition()}ngAfterViewInit(){}ngOnDestroy(){this.store.dispatch(n.initList()),this.unsubscribe$.next(),this.unsubscribe$.complete(),this.store.dispatch(n.setGridStateAction({gridState:this.gridEl.thisGridState})),this.store.dispatch(n.setGridCheckedStateAction({gridCheckedState:this.gridEl.checkedStateOutput}))}clickSearchHandler({searchCondition:t,otherSearchInfo:e}){const i=this._setSearchCondition(t);this.store.dispatch(n.loadList({condition:i})),this.store.dispatch(n.changeSearchCondition({searchCondition:t,otherSearchInfo:e})),this.UserConditionService.setSearchSettingSessionStorage(i,this._storeId,e)}clickResetHandler(){this.store.dispatch(n.changeSearchCondition({searchCondition:this._dataService.initListSearch(),otherSearchInfo:null}))}clickBulkHandler(){var t;(null===(t=this.gridEl.checkedRows)||void 0===t?void 0:t.length)>0?(this.checkedDataList=P.cloneDeep(this.gridEl.checkedDataList),this.store.dispatch(n.openBulkPopup())):this.alertService.alert("There are no items selected.")}clickAddHandler(){this.store.dispatch(n.openAddPopup())}changePageSizeHandler(t){this.store.dispatch(n.changePageSize({pageSize:t}))}dbClickRowHandler(t){const{systemInquirySeq:e}=t;this.store.dispatch(n.loadDetail({condition:{systemInquirySeq:e}})),this.store.dispatch(n.openDetailPopup())}submitUpsertHandler(t){const{condition:e}=t;this.store.dispatch(n.upsertItem({upsertCondition:e}))}closeAddPopupHandler(){this.store.dispatch(n.closeAddPopup())}submitDetailUpsertHandler(t){const{condition:e}=t;this.store.dispatch(n.upsertItem({upsertCondition:e}))}closeDetailPopupHandler(){this.store.dispatch(n.closeDetailPopup())}addCommentHandler(t){this.store.dispatch(n.upsertComment({upsertCondition:t}))}submitBulkUpdateHandler(t){const e=P.cloneDeep(t);this.store.dispatch(n.bulkUpdateItem({updateCondition:e}))}closeBulkUpdateHandler(){this.store.dispatch(n.closeBulkPopup())}_initSubscription(){this.auths$.pipe(Object(Nt.a)(this.unsubscribe$)).subscribe(t=>{this.auths=t}),this.reloadToggle$.pipe(Object(Rt.a)(1),Object(Nt.a)(this.unsubscribe$)).subscribe(()=>{this.searchFormEl.searchFormValid&&this.searchFormEl.onSubmit()})}_setSearchCondition(t){return P.omitBy(t,t=>P.isNil(t)||""===t)}initSearchCondition(){this.searchCondition$.subscribe(t=>this._searchCondition=t),this.gridDataList$.subscribe(t=>this._searchGridDataList=t),this.otherSearchInfo$.subscribe(t=>this._otherSearchInfo=t);const t=this._setSearchCondition(this._searchCondition);if(0===P.size(t)&&0===P.size(this._searchGridDataList)){const t=this._dataService.initListSearch(),e=this.UserConditionService.selectSearchSetting(t,this._storeId,this._otherSearchInfo);this.store.dispatch(n.changeSearchCondition({searchCondition:e[0],otherSearchInfo:e[1]}))}}}return t.\u0275fac=function(e){return new(e||t)(It.Qb(r.h),It.Qb(r.h),It.Qb(Tt),It.Qb(jt.a),It.Qb(We.a))},t.\u0275cmp=It.Kb({type:t,selectors:[["app-co-inquiry"]],viewQuery:function(t,e){var i;1&t&&(It.Xc(De,!0),It.Xc(qe.a,!0)),2&t&&(It.Dc(i=It.gc())&&(e.searchFormEl=i.first),It.Dc(i=It.gc())&&(e.gridEl=i.first))},decls:45,vars:75,consts:[[3,"inquiryCategoryList","stationTypeList","workTypeList","progressStatusList","searchCondition","otherSearchInfo","clickSearchEvent","clickResetEvent"],[3,"totalCount","summary"],[3,"loading","currentPageSize","totalCount","clickAddEvent","clickBulkEvent","changePageSizeEvent"],["b2cDisplayYnTpl",""],["b2bDisplayYnTpl",""],["btmsDisplayYnTpl",""],["controlDisplayYnTpl",""],["titleTpl",""],["finishDateTimeTpl",""],[3,"gridLoading","gridState","checkedState","columns","pageSize","checkboxUseYn","dataList","templates","dbClickRowEvent"],["gridBasis",""],["modalSize","md","modalContentClass","pd-all","header","\uc2dc\uc2a4\ud15c\ubb38\uc758 \ucd94\uac00",3,"visible","modal","visibleChange"],[3,"loginUser","workTypeList","inquiryCategoryList","submitEvent","closeEvent",4,"ngIf"],["modalSize","md","modalContentClass","pd-all","header","\uc2dc\uc2a4\ud15c\ubb38\uc758 \uc815\ubcf4",3,"visible","modal","visibleChange"],[3,"loginUser","detailItem","progressStatusList","submitEvent","closeEvent","addCommentEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","\ucc98\ub9ac\uc790 \uc9c0\uc815",3,"visible","modal","visibleChange"],[3,"checkedDataList","submitEvent","closeEvent",4,"ngIf"],[4,"ngIf"],[1,"cursor-default"],[3,"loginUser","workTypeList","inquiryCategoryList","submitEvent","closeEvent"],[3,"loginUser","detailItem","progressStatusList","submitEvent","closeEvent","addCommentEvent"],[3,"checkedDataList","submitEvent","closeEvent"]],template:function(t,e){if(1&t&&(It.Wb(0,"app-co-inquiry-search",0),It.fc("clickSearchEvent",(function(t){return e.clickSearchHandler(t)}))("clickResetEvent",(function(){return e.clickResetHandler()})),It.ic(1,"async"),It.ic(2,"async"),It.ic(3,"async"),It.ic(4,"async"),It.ic(5,"async"),It.ic(6,"async"),It.Vb(),It.Rb(7,"app-co-inquiry-summary",1),It.ic(8,"async"),It.ic(9,"async"),It.Wb(10,"app-co-inquiry-control",2),It.fc("clickAddEvent",(function(){return e.clickAddHandler()}))("clickBulkEvent",(function(){return e.clickBulkHandler()}))("changePageSizeEvent",(function(t){return e.changePageSizeHandler(t)})),It.ic(11,"async"),It.ic(12,"async"),It.ic(13,"async"),It.Vb(),It.Nc(14,li,2,2,"ng-template",null,3,It.Oc),It.Nc(16,pi,2,2,"ng-template",null,4,It.Oc),It.Nc(18,mi,2,2,"ng-template",null,5,It.Oc),It.Nc(20,yi,2,2,"ng-template",null,6,It.Oc),It.Nc(22,Ci,2,5,"ng-template",null,7,It.Oc),It.Nc(24,vi,1,1,"ng-template",null,8,It.Oc),It.Wb(26,"app-grid-basis",9,10),It.fc("dbClickRowEvent",(function(t){return e.dbClickRowHandler(t)})),It.ic(28,"async"),It.ic(29,"async"),It.ic(30,"async"),It.ic(31,"async"),It.ic(32,"async"),It.Vb(),It.Wb(33,"app-dialog",11),It.fc("visibleChange",(function(){return e.closeAddPopupHandler()})),It.ic(34,"async"),It.Nc(35,Oi,4,9,"app-co-inquiry-form",12),It.ic(36,"async"),It.Vb(),It.Wb(37,"app-dialog",13),It.fc("visibleChange",(function(){return e.closeDetailPopupHandler()})),It.ic(38,"async"),It.Nc(39,Ii,4,9,"app-co-inquiry-detail",14),It.ic(40,"async"),It.Vb(),It.Wb(41,"app-dialog",15),It.fc("visibleChange",(function(){return e.closeBulkUpdateHandler()})),It.ic(42,"async"),It.Nc(43,ji,1,1,"app-co-inquiry-bulk-update",16),It.ic(44,"async"),It.Vb()),2&t){const t=It.Ec(23),i=It.Ec(25);It.pc("inquiryCategoryList",It.jc(1,28,e.inquiryCategoryList$))("stationTypeList",It.jc(2,30,e.stationTypeList$))("workTypeList",It.jc(3,32,e.workTypeList$))("progressStatusList",It.jc(4,34,e.progressStatusList$))("searchCondition",It.jc(5,36,e.searchCondition$))("otherSearchInfo",It.jc(6,38,e.otherSearchInfo$)),It.Cb(7),It.pc("totalCount",It.jc(8,40,e.totalCount$))("summary",It.jc(9,42,e.summary$)),It.Cb(3),It.pc("loading",It.jc(11,44,e.loading$))("currentPageSize",It.jc(12,46,e.listPageSize$))("totalCount",It.jc(13,48,e.totalCount$)),It.Cb(16),It.pc("gridLoading",It.jc(28,50,e.loading$))("gridState",It.jc(29,52,e.gridState$))("checkedState",It.jc(30,54,e.gridCheckedState$))("columns",e.columns)("pageSize",It.jc(31,56,e.listPageSize$))("checkboxUseYn",!0)("dataList",It.jc(32,58,e.gridDataList$))("templates",It.vc(72,ki,t,i)),It.Cb(7),It.pc("visible",It.jc(34,60,e.isOpenAddPopup$))("modal",!0),It.Cb(2),It.pc("ngIf",It.jc(36,62,e.isOpenAddPopup$)),It.Cb(2),It.pc("visible",It.jc(38,64,e.isOpenDetailPopup$))("modal",!0),It.Cb(2),It.pc("ngIf",It.jc(40,66,e.isOpenDetailPopup$)),It.Cb(2),It.pc("visible",It.jc(42,68,e.isOpenBulkPopup$))("modal",!0),It.Cb(2),It.pc("ngIf",It.jc(44,70,e.isOpenBulkPopup$))}},directives:[De,Te,Ee,qe.a,Ue.a,s.o,Ye,ni,oi],pipes:[s.b],encapsulation:2,changeDetection:0}),t})();const Li=[{path:"",component:Fi,data:{title:"\uc2dc\uc2a4\ud15c\ubb38\uc758"},canActivate:[Et]}];let Vi=(()=>{class t{}return t.\u0275mod=It.Ob({type:t}),t.\u0275inj=It.Nb({factory:function(e){return new(e||t)},imports:[[k.f.forChild(Li)],k.f]}),t})();var wi=i("vkgz"),Pi=i("Xb6A"),Di=i("AtUx");let qi=(()=>{class t{constructor(t,e,i,s,a,r){this.actions$=t,this.service=e,this._errorService=i,this.loader=s,this.alertService=a,this.store=r,this.loadList$=Object(o.c)(()=>this.actions$.pipe(Object(o.d)(n.loadList),Object(V.a)(({condition:t})=>this.service.getList(t).pipe(Object(L.a)(({list:t,stats:e,totalCount:i})=>n.getListSuccess({dataList:t,stats:e,totalCount:i})),Object(w.a)(t=>{const e="List lookup failed. Please try again in a momentarily.",i=[n.getListFailure({error:e})];return this._catchErr(t,e,i),[]}))))),this.loadDetail$=Object(o.c)(()=>this.actions$.pipe(Object(o.d)(n.loadDetail),Object(V.a)(({condition:t})=>this.service.getDetail(t).pipe(Object(L.a)(t=>n.getDetailSuccess({dataItem:t})),Object(w.a)(t=>{const e="\uc0c1\uc138\uc815\ubcf4 \uc870\ud68c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.",i=[n.getDetailFailure({error:e})];return this._catchErr(t,e,i),[]}))))),this.upsertItem$=Object(o.c)(()=>this.actions$.pipe(Object(o.d)(n.upsertItem),Object(V.a)(({upsertCondition:t})=>this.service.upsertItem(t).pipe(Object(L.a)(()=>({succeedYn:!0})),Object(w.a)(t=>Object(F.a)({succeedYn:!1,error:t})))),Object(wi.a)(({succeedYn:t,error:e})=>{if(t){const t="Your data has been saved.",e=[n.reloadList(),n.closeAddPopup(),n.closeDetailPopup(),n.delSelectedDetailRowInfo()];this._runPage(t,e)}else{const t="Failed to save.",i=[n.upsertItemFailure({error:t})];this._catchErr(e,t,i)}})),{dispatch:!1}),this.upsertComment$=Object(o.c)(()=>this.actions$.pipe(Object(o.d)(n.upsertComment),Object(V.a)(({upsertCondition:t})=>this.service.upsertComment(t).pipe(Object(L.a)(t=>n.loadDetail({condition:{systemInquirySeq:t.systemInquirySeq}})),Object(w.a)(t=>{const e="Failed to save.",i=[n.upsertCommentFailure({error:e})];return this._catchErr(t,e,i),[]}))))),this.bulkUpdateItem$=Object(o.c)(()=>this.actions$.pipe(Object(o.d)(n.bulkUpdateItem),Object(V.a)(({updateCondition:t})=>this.service.bulkUpdateItem(t).pipe(Object(L.a)(()=>({succeedYn:!0})),Object(w.a)(t=>Object(F.a)({succeedYn:!1,error:t})))),Object(wi.a)(({succeedYn:t,error:e})=>{if(t){const t="Your data has been saved.",e=[n.reloadList(),n.closeBulkPopup(),n.delSelectedDetailRowInfo()];this._runPage(t,e)}else{const t="Failed to save.",i=[n.bulkUpdateItemFailure({error:t})];this._catchErr(e,t,i)}})),{dispatch:!1}),this.loadInquiryCategoryList$=Object(o.c)(()=>this.actions$.pipe(Object(o.d)(n.loadInquiryCategoryList),Object(V.a)(({condition:t})=>this.service.getInquiryCategoryList(t).pipe(Object(L.a)(t=>n.getInquiryCategoryListSuccess({dataList:t})),Object(w.a)(t=>{const e="\ubb38\uc758 \uce74\ud14c\uace0\ub9ac \uc870\ud68c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.",i=[n.getInquiryCategoryListFailure({error:e})];return this._catchErr(t,e,i),[]}))))),this.loadStationTypeList$=Object(o.c)(()=>this.actions$.pipe(Object(o.d)(n.loadStationTypeList),Object(V.a)(({condition:t})=>this.service.getStationTypeList(t).pipe(Object(L.a)(t=>n.getStationTypeListSuccess({dataList:t})),Object(w.a)(t=>{const e="Station lookup failed.",i=[n.getStationTypeListFailure({error:e})];return this._catchErr(t,e,i),[]}))))),this.loadWorkTypeList$=Object(o.c)(()=>this.actions$.pipe(Object(o.d)(n.loadWorkTypeList),Object(V.a)(({condition:t})=>this.service.getWorkTypeList(t).pipe(Object(L.a)(t=>n.getWorkTypeListSuccess({dataList:t})),Object(w.a)(t=>{const e="\uac80\uc0c9\uad6c\ubd84 \uc870\ud68c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.",i=[n.getWorkTypeListFailure({error:e})];return this._catchErr(t,e,i),[]}))))),this.loadProgressStatusList$=Object(o.c)(()=>this.actions$.pipe(Object(o.d)(n.loadProgressStatusList),Object(V.a)(({condition:t})=>this.service.getProgressStatusList(t).pipe(Object(L.a)(t=>n.getProgressStatusListSuccess({dataList:t})),Object(w.a)(t=>{const e="\uac80\uc0c9\uad6c\ubd84 \uc870\ud68c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.",i=[n.getProgressStatusListFailure({error:e})];return this._catchErr(t,e,i),[]})))))}_runPage(t,e){this.alertService.alert({message:t,accept:(null==e?void 0:e.length)>0?()=>{e.forEach(t=>{this.store.dispatch(t)})}:()=>{}})}_catchErr(t,e,i){const n=this._errorService.errorHandler(t,e);P.isNil(n)||(P.isNil(n.accept)&&(n.accept=(null==i?void 0:i.length)>0?()=>{i.forEach(t=>{this.store.dispatch(t)})}:()=>{}),this.alertService.alert(n))}}return t.\u0275fac=function(e){return new(e||t)(It.bc(o.a),It.bc(Dt),It.bc(Pi.a),It.bc(Di.a),It.bc(jt.a),It.bc(r.h))},t.\u0275prov=It.Mb({token:t,factory:t.\u0275fac}),t})();const Wi=[Fi],Ti=[Ee,Ye,ni,oi,De,Te];let Ei=(()=>{class t{}return t.\u0275mod=It.Ob({type:t}),t.\u0275inj=It.Nb({factory:function(e){return new(e||t)},providers:[Et],imports:[[s.c,a.m,a.w,c.m,l.a,u.a,d.a,C.a,p.a,b.a,h.a,m.a,g.a,f.a,y.a,v.a,S.a,j.a,O.a,I.a,Vi,r.j.forFeature("coInquiry",zt),o.b.forFeature([qi])]]}),t})()},"7G9D":function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("tk/3"),s=i("IzEk"),a=i("LvDl"),o=i("fXoL"),r=i("tpT/"),c=i("EsKh");let l=(()=>{class t{constructor(t,e){this.api=t,this.alertService=e}imageCheck(t){if(0===t.target.files.length)return!1;const e=t.target.files[0];if(e.size>2e6)return this.alertService.alert("\ud30c\uc77c \uc0ac\uc774\uc988\ub294 2MB\ub97c \ub118\uae38 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"),!1;let i=this.parseFileName(e.name);const n=i.toLowerCase(),s=n.lastIndexOf("."),a=n.substring(s+1);if(s<0)i+=".jpg";else if("jpg"!==a&&"png"!==a&&"jpeg"!==a)return this.alertService.alert("\uc774\ubbf8\uc9c0 \ud30c\uc77c\uc774 \uc544\ub2d9\ub2c8\ub2e4. \ub2e4\uc2dc \ud655\uc778\ud574 \uc8fc\uc138\uc694."),!1;return e}pdfCheck(t){if(0===t.target.files.length)return!1;const e=t.target.files[0];let i=this.parseFileName(e.name);const n=i.toLowerCase(),s=n.lastIndexOf("."),a=n.substring(s+1);if(s<0)i+=".pdf";else if("pdf"!==a)return this.alertService.alert("PDF \ud30c\uc77c\uc774 \uc544\ub2d9\ub2c8\ub2e4. \ub2e4\uc2dc \ud655\uc778\ud574 \uc8fc\uc138\uc694."),!1;return e}excelCheck(t){if(0===t.target.files.length)return!1;const e=t.target.files[0];let i=this.parseFileName(e.name);const n=i.toLowerCase(),s=n.lastIndexOf("."),a=n.substring(s+1);if(s<0)i+=".xls";else if("xls"!==a&&"xlsx"!==a)return this.alertService.alert("\uc5d1\uc140 \ud30c\uc77c\uc774 \uc544\ub2d9\ub2c8\ub2e4. \ub2e4\uc2dc \ud655\uc778\ud574 \uc8fc\uc138\uc694."),!1;return e}imageUpload(t,e){const i=new FormData;for(const s in e)if(e.hasOwnProperty(s))try{i.set(s,e[s])}catch(n){i.append(s,e[s])}return this.api.post(t,i)}fileUpload(t,e){const i=new FormData;for(const s in e)if(e.hasOwnProperty(s))try{i.set(s,e[s])}catch(n){i.append(s,e[s])}return this.api.put(t,i)}fileDelete(t,e){const i=Object.assign({},this.api.defaultParams,{condition:e});return this.api.delete(t,i)}fileDownload(t){let e,i;switch(t.params||(t=Object.assign(t,{params:""})),t.type||(t.type="excel"),t.type){case"excel":e=".xls",i="application/vnd.ms-excel";break;case"pdf":e=".pdf",i="application/pdf"}const o=n=>{const s=document.createElement("a"),a=new Blob([n],{type:i});s.href=URL.createObjectURL(a),s.download=t.filename+e,s.click()};if("post"===t.requestMethod){const e=a.assign({},this.api.defaultParams,{condition:t.params});return this.api.postBlob(t.url,e).pipe(Object(s.a)(1)).subscribe(t=>{"application/json"===t.type?this.alertService.alert("You must wait a minute before making another request."):o(t)})}return this.api.get(t.url,t.params,{responseType:"blob",headers:new n.e({"Content-Type":"application/json",Accept:"application/json"})}).pipe(Object(s.a)(1)).subscribe(t=>{o(t)})}parseFileName(t){const e=/[\{\}\[\]\/?,;:|\)*~`!^\-_+<>@\#$%&\\\=\(\'\"' ']/gi,i=t;return e.test(i)?i.replace(e,""):i}}return t.\u0275fac=function(e){return new(e||t)(o.bc(r.a),o.bc(c.a))},t.\u0275prov=o.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"BA+4":function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n=i("fXoL"),s=i("gwvt"),a=i("jhN1"),o=i("ofXK");const r=["basicfileinput"];function c(t,e){if(1&t){const t=n.Xb();n.Wb(0,"label"),n.Wb(1,"input",4,5),n.fc("change",(function(e){return n.Fc(t),n.hc().onFileSelect(e)}))("focus",(function(){return n.Fc(t),n.hc().onFocus()}))("blur",(function(){return n.Fc(t),n.hc().onBlur()})),n.Vb(),n.Vb()}if(2&t){const t=n.hc();n.Cb(1),n.pc("accept",t.accept)("multiple",t.multiple)("disabled",t.disabled)}}function l(t,e){if(1&t){const t=n.Xb();n.Wb(0,"label",6),n.nc(1),n.Wb(2,"input",4,5),n.fc("change",(function(e){return n.Fc(t),n.hc().onFileSelect(e)}))("focus",(function(){return n.Fc(t),n.hc().onFocus()}))("blur",(function(){return n.Fc(t),n.hc().onBlur()})),n.Vb(),n.Vb()}if(2&t){const t=n.hc();n.Gb("disabled",t.disabled),n.Cb(2),n.pc("accept",t.accept)("multiple",t.multiple)("disabled",t.disabled)}}function u(t,e){if(1&t){const t=n.Xb();n.Wb(0,"label",7),n.Wb(1,"span",8),n.Wb(2,"em"),n.Pc(3),n.Vb(),n.Vb(),n.Rb(4,"span",9),n.Wb(5,"input",10,5),n.fc("change",(function(e){return n.Fc(t),n.hc().onFileSelect(e)}))("focus",(function(){return n.Fc(t),n.hc().onFocus()}))("blur",(function(){return n.Fc(t),n.hc().onBlur()})),n.Vb(),n.Vb()}if(2&t){const t=n.hc();n.Cb(1),n.pc("title",t.displayName),n.Cb(2),n.Qc(t.displayName),n.Cb(2),n.pc("accept",t.accept)("multiple",t.multiple)("disabled",t.disabled)}}const d=["*"];let p=(()=>{class t{constructor(t,e,i){this.el=t,this.sanitizer=e,this.zone=i,this.method="POST",this.invalidFileSizeMessageSummary="\uc5c5\ub85c\ub4dc \uac00\ub2a5\ud55c \ucd5c\ub300 \uc0ac\uc774\uc988\ub97c \ucd08\uacfc\ud588\uc2b5\ub2c8\ub2e4.",this.invalidFileTypeMessageSummary="\ud30c\uc77c \ud0c0\uc785\uc774 \uc815\ud655\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.",this.invalidFileLimitMessageSummary="\uc5c5\ub85c\ub4dc \uac00\ub2a5\ud55c \ud30c\uc77c \ucd5c\ub300 \uac1c\uc218\ub97c \ucd08\uacfc\ud588\uc2b5\ub2c8\ub2e4.",this.previewWidth=50,this.chooseLabel="Choose a file...",this.mode="basic",this.labelType="default",this.onBeforeUpload=new n.n,this.onSend=new n.n,this.onUpload=new n.n,this.onError=new n.n,this.onClear=new n.n,this.onRemove=new n.n,this.onSelect=new n.n,this.onProgress=new n.n,this.uploadHandler=new n.n,this._files=[],this.progress=0,this.uploadedFileCount=0}get invalid(){return this.isInvalid}set files(t){this._files=[];for(const e of t)this.validate(e)&&(this.isImage(e)&&(e.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(e))),this._files.push(e))}get files(){return this._files}get displayName(){return this.displayValue?this.displayValue:this.hasFiles()?this.files[0].name:this.chooseLabel}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"file":this.fileTemplate=t.template;break;case"content":this.contentTemplate=t.template;break;case"toolbar":this.toolbarTemplate=t.template;break;default:this.fileTemplate=t.template}})}onFileSelect(t){if("drop"!==t.type&&this.isIE11()&&this.duplicateIEEvent)return void(this.duplicateIEEvent=!1);this.isInvalidFlag=!1,this.multiple||(this.files=[]);const e=t.dataTransfer?t.dataTransfer.files:t.target.files;for(const i of e)this.isFileSelected(i)||(this.validate(i)?(this.isImage(i)&&(i.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(i))),this.files.push(i)):this.isInvalidFlag=!0);this.onSelect.emit({originalEvent:t,files:e,isInvalid:this.isInvalidFlag}),this.fileLimit&&"advanced"===this.mode&&this.checkFileLimit(),!this.hasFiles()||!this.auto||"advanced"===this.mode&&this.isFileLimitExceeded()||this.upload(),"drop"!==t.type&&this.isIE11()?this.clearIEInput():this.clearInputElement()}isFileSelected(t){for(const e of this.files)if(e.name+e.type+e.size===t.name+t.type+t.size)return!0;return!1}isIE11(){return!!window.MSInputMethodContext&&!!document.documentMode}validate(t){return this.accept&&!this.isFileTypeValid(t)?(this.onError.emit(this.invalidFileLimitMessageSummary),!1):!(this.maxFileSize&&t.size>this.maxFileSize&&(this.onError.emit(this.invalidFileSizeMessageSummary),1))}isFileTypeValid(t){const e=this.accept.split(",").map(t=>t.trim());for(const i of e)if(this.isWildcard(i)?this.getTypeClass(t.type)===this.getTypeClass(i):t.type===i||this.getFileExtension(t).toLowerCase()===i.toLowerCase())return!0;return!1}getTypeClass(t){return t.substring(0,t.indexOf("/"))}isWildcard(t){return-1!==t.indexOf("*")}getFileExtension(t){return"."+t.name.split(".").pop()}isImage(t){return/^image\//.test(t.type)}onImageLoad(t){window.URL.revokeObjectURL(t.src)}upload(){}clear(){this.files=[],this.onClear.emit(),this.clearInputElement()}remove(t,e){this.clearInputElement(),this.onRemove.emit({originalEvent:t,file:this.files[e]}),this.files.splice(e,1)}isFileLimitExceeded(){return this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount&&this.focus&&(this.focus=!1),this.fileLimit&&this.fileLimit<this.files.length+this.uploadedFileCount}isChooseDisabled(){return this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount}checkFileLimit(){this.isFileLimitExceeded()}clearInputElement(){this.basicFileInput&&this.basicFileInput.nativeElement&&(this.basicFileInput.nativeElement.value="")}clearIEInput(){}hasFiles(){return this.files&&this.files.length>0}onDragEnter(t){this.disabled||(t.stopPropagation(),t.preventDefault())}onDragOver(t){this.disabled||(this.dragHighlight=!0,t.stopPropagation(),t.preventDefault())}onDragLeave(t){}onDrop(t){if(!this.disabled){t.stopPropagation(),t.preventDefault();const e=t.dataTransfer?t.dataTransfer.files:t.target.files;(this.multiple||e&&1===e.length)&&this.onFileSelect(t)}}onFocus(){this.focus=!0}onBlur(){this.focus=!1}formatSize(t){if(0===t)return"0 B";const e=Math.floor(Math.log(t)/Math.log(1e3));return parseFloat((t/Math.pow(1e3,e)).toFixed(3))+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][e]}}return t.\u0275fac=function(e){return new(e||t)(n.Qb(n.l),n.Qb(a.b),n.Qb(n.z))},t.\u0275cmp=n.Kb({type:t,selectors:[["app-file-upload"]],contentQueries:function(t,e,i){var a;1&t&&n.Ib(i,s.a,!1),2&t&&n.Dc(a=n.gc())&&(e.templates=a)},viewQuery:function(t,e){var i;1&t&&n.Xc(r,!0),2&t&&n.Dc(i=n.gc())&&(e.basicFileInput=i.first)},hostAttrs:[1,"input-file"],hostVars:2,hostBindings:function(t,e){2&t&&n.Gb("valid-error",e.invalid)},inputs:{name:"name",url:"url",method:"method",multiple:"multiple",accept:"accept",disabled:"disabled",auto:"auto",withCredentials:"withCredentials",maxFileSize:"maxFileSize",invalidFileSizeMessageSummary:"invalidFileSizeMessageSummary",invalidFileTypeMessageSummary:"invalidFileTypeMessageSummary",invalidFileLimitMessageSummary:"invalidFileLimitMessageSummary",styleClass:"styleClass",previewWidth:"previewWidth",displayValue:"displayValue",chooseLabel:"chooseLabel",mode:"mode",customUpload:"customUpload",fileLimit:"fileLimit",labelType:"labelType",isInvalid:"isInvalid",files:"files"},outputs:{onBeforeUpload:"onBeforeUpload",onSend:"onSend",onUpload:"onUpload",onError:"onError",onClear:"onClear",onRemove:"onRemove",onSelect:"onSelect",onProgress:"onProgress",uploadHandler:"uploadHandler"},ngContentSelectors:d,decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],["class","btn btn-outline-dark sm",3,"disabled",4,"ngSwitchCase"],["class","file-label",4,"ngSwitchDefault"],["type","file",3,"accept","multiple","disabled","change","focus","blur"],["basicfileinput",""],[1,"btn","btn-outline-dark","sm"],[1,"file-label"],[1,"file-name",3,"title"],["data-name","Select",1,"upload"],["type","file",1,"file",3,"accept","multiple","disabled","change","focus","blur"]],template:function(t,e){1&t&&(n.oc(),n.Ub(0,0),n.Nc(1,c,3,3,"label",1),n.Nc(2,l,4,5,"label",2),n.Nc(3,u,7,5,"label",3),n.Tb()),2&t&&(n.pc("ngSwitch",e.labelType),n.Cb(1),n.pc("ngSwitchCase","photoList"),n.Cb(1),n.pc("ngSwitchCase","button"))},directives:[o.q,o.r,o.s],encapsulation:2}),t})()},RfQl:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n=i("fXoL"),s=i("3Pt+"),a=(i("k16s"),i("ofXK"));const o=["editor"],r=["overlay"],c=function(t){return{"z-index":t}},l={provide:s.p,useExisting:Object(n.U)(()=>u),multi:!0};let u=(()=>{class t{constructor(t,e,i){this.renderer=t,this.elementRef=e,this.cd=i,this.styleHeight="100px",this.hostPosition="relative",this.hostDisplay="block",this.onModelChange=()=>{},this.onModelTouched=()=>{}}get disabled(){return this._disabled}set disabled(t){this._disabled=t}get toolBarType(){return this._toolBarType}set toolBarType(t){this._toolBarType=t,this._setToolList()}ngOnInit(){}ngOnDestroy(){kendo.destroy(this.editorEl.nativeElement),this.editorObj&&(this.editorObj.destroy(),this.editorObj=null)}ngAfterViewInit(){setTimeout(()=>{this.renderer.setStyle(this.editorEl.nativeElement,"height",this.styleHeight),kendo.jQuery(this.editorEl.nativeElement).kendoEditor({tools:this.toolList}),this.editorObj=kendo.jQuery(this.editorEl.nativeElement).data("kendoEditor"),this.editorObj.bind("change",()=>{this.onChange()}),this.editorVal&&(this.editorObj.value(this.editorVal),this.editorVal=null)},0)}onPaste(t){t.html=""}onChange(){this.onModelChange(this.editorObj.value())}writeValue(t){this.editorVal=null,this.editorObj?this.editorObj.value(t):this.editorVal=t}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t}_setToolList(){this.toolList="simple"===this.toolBarType?["insertUnorderedList","insertOrderedList","indent","outdent","insertImage"]:["bold","italic","underline","justifyLeft","justifyCenter","justifyRight","insertUnorderedList","insertOrderedList","indent","outdent","createLink","unlink","insertImage","tableWizard","createTable","addRowAbove","addRowBelow","addColumnLeft","addColumnRight","deleteRow","deleteColumn","mergeCellsHorizontally","mergeCellsVertically","splitCellHorizontally","splitCellVertically","fontName","fontSize","foreColor","backColor"]}}return t.\u0275fac=function(e){return new(e||t)(n.Qb(n.E),n.Qb(n.l),n.Qb(n.h))},t.\u0275cmp=n.Kb({type:t,selectors:[["app-editor"]],viewQuery:function(t,e){var i;1&t&&(n.Xc(o,!0),n.Xc(r,!0)),2&t&&(n.Dc(i=n.gc())&&(e.editorEl=i.first),n.Dc(i=n.gc())&&(e.overlayEl=i.first))},hostVars:4,hostBindings:function(t,e){2&t&&n.Mc("position",e.hostPosition)("display",e.hostDisplay)},inputs:{styleHeight:"styleHeight",disabled:"disabled",toolBarType:"toolBarType"},features:[n.Bb([l])],decls:4,vars:3,consts:[[1,"editor-bg",3,"ngStyle"],["overlay",""],["cols","10","rows","30"],["editor",""]],template:function(t,e){1&t&&(n.Rb(0,"div",0,1),n.Rb(2,"textarea",2,3)),2&t&&n.pc("ngStyle",n.uc(1,c,e.disabled?2:0))},directives:[a.p],styles:[".editor-bg[_ngcontent-%COMP%]{background-color:#000;opacity:.1;position:absolute;width:100%;height:100%;pointer-events:none}"]}),t})()}}]);