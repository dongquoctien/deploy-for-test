(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{"+kkC":function(e,t,i){"use strict";i.r(t),i.d(t,"CONTAINERS",(function(){return tt})),i.d(t,"COMPONENTS",(function(){return it})),i.d(t,"BsScreenModule",(function(){return st}));var s={};i.r(s),i.d(s,"initComponentStateAction",(function(){return I})),i.d(s,"loadStationTypeList",(function(){return V})),i.d(s,"getStationTypeListSuccess",(function(){return k})),i.d(s,"loadScreenTypeList",(function(){return w})),i.d(s,"getScreenTypeListSuccess",(function(){return L})),i.d(s,"reloadMasterListAction",(function(){return W})),i.d(s,"changeMasterSearchCondition",(function(){return D})),i.d(s,"loadMasterList",(function(){return M})),i.d(s,"loadMasterListSuccess",(function(){return P})),i.d(s,"loadMasterListFailure",(function(){return N})),i.d(s,"setMasterGridStateAction",(function(){return R})),i.d(s,"setMasterGridCheckStateAction",(function(){return _})),i.d(s,"changeMasterPageIndex",(function(){return E})),i.d(s,"changeMasterPageSize",(function(){return T})),i.d(s,"openMasterUpsertPopup",(function(){return Y})),i.d(s,"closeMasterUpsertPopup",(function(){return F})),i.d(s,"addSelectedMasterUpsertRowItem",(function(){return $})),i.d(s,"delSelectedMasterUpsertRowItem",(function(){return A})),i.d(s,"upsertMasterItem",(function(){return x})),i.d(s,"removeMasterItems",(function(){return U})),i.d(s,"addSelectedMasterRowItem",(function(){return K})),i.d(s,"delSelectedMasterRowItem",(function(){return B})),i.d(s,"reloadDetailListAction",(function(){return G})),i.d(s,"loadDetailList",(function(){return z})),i.d(s,"loadDetailListSuccess",(function(){return q})),i.d(s,"loadDetailListFailure",(function(){return H})),i.d(s,"setDetailGridCheckStateAction",(function(){return Q})),i.d(s,"openDetailItemPopupAction",(function(){return X})),i.d(s,"closeDetailItemPopupAction",(function(){return J})),i.d(s,"addSelectedDetailRowInfoAction",(function(){return Z})),i.d(s,"delSelectedDetailRowInfoAction",(function(){return ee})),i.d(s,"upsertDetailItemAction",(function(){return te})),i.d(s,"removeDetailItems",(function(){return ie}));var n=i("ofXK"),a=i("3Pt+"),c=i("snw9"),r=i("kt0X"),o=i("vu/V"),l=i("7rOj"),d=i("6LsY"),u=i("v7zA"),b=i("hHe4"),p=i("5hwk"),h=i("w8np"),m=i("tyNb"),g=i("XNiG"),f=i("itXk"),O=i("zP0r"),v=i("1G5W"),j=i("Kj3r"),S=i("pLZG"),y=i("lJxs"),C=i("LvDl");const I=Object(r.o)("[BsScreen] init component state"),V=Object(r.o)("[BsScreen/List] load station type list"),k=Object(r.o)("[BsScreen/List] get station type list success",Object(r.t)()),w=Object(r.o)("[BsScreen/List] load screen type list"),L=Object(r.o)("[BsScreen/List] get screen type list success",Object(r.t)()),W=Object(r.o)("[BsScreen] reload master list"),D=Object(r.o)("[BsScreen] change master search condition",Object(r.t)()),M=Object(r.o)("[BsScreen] load master list",Object(r.t)()),P=Object(r.o)("[BsScreen] load master list success",Object(r.t)()),N=Object(r.o)("[BsScreen] load master list failure",Object(r.t)()),R=Object(r.o)("[BsScreen] set master grid state",Object(r.t)()),_=Object(r.o)("[BsScreen] set master grid check state",Object(r.t)()),E=Object(r.o)("[BsScreen] change master page index",Object(r.t)()),T=Object(r.o)("[BsScreen] change master page size",Object(r.t)()),Y=Object(r.o)("[BsScreen] open master upsert popup"),F=Object(r.o)("[BsScreen] close master upsert popup"),$=Object(r.o)("[BsScreen] add selected master upsert row item",Object(r.t)()),A=Object(r.o)("[BsScreen] del selected master upsert row item"),x=Object(r.o)("[BsScreen] upsert master item",Object(r.t)()),U=Object(r.o)("[BsScreen] remove master items",Object(r.t)()),K=Object(r.o)("[BsScreen] add selected master row item",Object(r.t)()),B=Object(r.o)("[BsScreen] del selected master row item"),G=Object(r.o)("[BsScreen] reload detail list"),z=Object(r.o)("[FlAutoRi] load detail list",Object(r.t)()),q=Object(r.o)("[FlAutoRi] load detail list success",Object(r.t)()),H=Object(r.o)("[FlAutoRi] load detail list failure",Object(r.t)()),Q=Object(r.o)("[BsScreen] set detail grid check state",Object(r.t)()),X=Object(r.o)("[BsScreen] open detail item popup"),J=Object(r.o)("[BsScreen] close detail item popup"),Z=Object(r.o)("[BsScreen] add selected detail row info",Object(r.t)()),ee=Object(r.o)("[BsScreen] del selected detail row info"),te=Object(r.o)("[BsScreen] upsert detail item",Object(r.t)()),ie=Object(r.o)("[BsScreen] remove detail items",Object(r.t)());var se=i("EVqC");const ne=Object(se.a)({selectId:e=>e.rowid,sortComparer:!1}),ae=ne.getInitialState({stationTypeList:null,screenTypeList:null,loading:null,reloadToggle:null,searchCondition:null,masterGridDataTotal:null,masterGridState:{pageInfo:{skip:0,take:20},sortInfo:[]},masterGridCheckedState:null,isOpenMasterUpsertPopup:null,selectedMasterUpsertRowItem:null,selectedMasterRowItem:null,detailLoading:null,detailReloadToggle:null,detailDataList:null,detailGridCheckedState:null,isOpenDetailUpsertPopup:null,selectedDetailUpsertRowItem:null}),ce=Object(r.q)(ae,Object(r.s)(s.initComponentStateAction,e=>Object.assign(Object.assign({},e),{loading:null,reloadToggle:null,isOpenMasterUpsertPopup:null,selectedMasterUpsertRowItem:null,detailLoading:null,detailReloadToggle:null,isOpenDetailUpsertPopup:null,selectedDetailUpsertRowItem:null})),Object(r.s)(s.getScreenTypeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{screenTypeList:t})),Object(r.s)(s.getStationTypeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{stationTypeList:t})),Object(r.s)(s.reloadMasterListAction,e=>Object.assign(Object.assign({},e),{reloadToggle:!e.reloadToggle})),Object(r.s)(s.changeMasterSearchCondition,(e,{condition:t})=>Object.assign(Object.assign({},e),{searchCondition:t})),Object(r.s)(s.loadMasterList,e=>Object.assign(Object.assign({},e),{loading:!0})),Object(r.s)(s.loadMasterListSuccess,(e,{dataList:t,totalCount:i})=>ne.setAll(t,Object.assign(Object.assign({},e),{loading:!1,masterGridDataTotal:i,selectedMasterRowItem:null,detailDataList:null,detailGridCheckedState:null,selectedDetailUpsertRowItem:null}))),Object(r.s)(s.loadMasterListFailure,e=>Object.assign(Object.assign({},e),{loading:!1})),Object(r.s)(s.setMasterGridStateAction,(e,{gridState:t})=>Object.assign(Object.assign({},e),{masterGridState:t})),Object(r.s)(s.setMasterGridCheckStateAction,(e,{gridCheckedState:t})=>Object.assign(Object.assign({},e),{masterGridCheckedState:t})),Object(r.s)(s.changeMasterPageSize,(e,{pageSize:t})=>Object.assign(Object.assign({},e),{masterGridState:C.set(C.cloneDeep(e.masterGridState),["pageInfo","take"],t)})),Object(r.s)(s.changeMasterPageIndex,(e,{pageIndex:t})=>Object.assign(Object.assign({},e),{masterGridState:C.set(C.cloneDeep(e.masterGridState),["pageInfo","skip"],t)})),Object(r.s)(s.openMasterUpsertPopup,e=>Object.assign(Object.assign({},e),{isOpenMasterUpsertPopup:!0})),Object(r.s)(s.closeMasterUpsertPopup,e=>Object.assign(Object.assign({},e),{isOpenMasterUpsertPopup:!1})),Object(r.s)(s.addSelectedMasterUpsertRowItem,(e,{info:t})=>Object.assign(Object.assign({},e),{selectedMasterUpsertRowItem:t})),Object(r.s)(s.delSelectedMasterUpsertRowItem,e=>Object.assign(Object.assign({},e),{selectedMasterUpsertRowItem:null})),Object(r.s)(s.addSelectedMasterRowItem,(e,{info:t})=>Object.assign(Object.assign({},e),{selectedMasterRowItem:t})),Object(r.s)(s.delSelectedMasterRowItem,e=>Object.assign(Object.assign({},e),{selectedMasterRowItem:null})),Object(r.s)(s.reloadDetailListAction,e=>Object.assign(Object.assign({},e),{detailReloadToggle:!e.detailReloadToggle})),Object(r.s)(s.loadDetailList,e=>Object.assign(Object.assign({},e),{detailLoading:!0})),Object(r.s)(s.loadDetailListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{detailDataList:t,detailLoading:!1})),Object(r.s)(s.loadDetailListFailure,e=>Object.assign(Object.assign({},e),{detailLoading:!1})),Object(r.s)(s.setDetailGridCheckStateAction,(e,{gridCheckedState:t})=>Object.assign(Object.assign({},e),{detailGridCheckedState:t})),Object(r.s)(s.openDetailItemPopupAction,e=>Object.assign(Object.assign({},e),{isOpenDetailUpsertPopup:!0})),Object(r.s)(s.closeDetailItemPopupAction,e=>Object.assign(Object.assign({},e),{isOpenDetailUpsertPopup:!1})),Object(r.s)(s.addSelectedDetailRowInfoAction,(e,{info:t})=>Object.assign(Object.assign({},e),{selectedDetailUpsertRowItem:t})),Object(r.s)(s.delSelectedDetailRowInfoAction,e=>Object.assign(Object.assign({},e),{selectedDetailUpsertRowItem:null})));function re(e,t){return Object(r.m)({bsScreenList:ce})(e,t)}const oe=Object(r.p)("bsScreen"),le=Object(r.r)(oe,e=>e.bsScreenList),de=Object(r.r)(le,e=>e.stationTypeList),ue=Object(r.r)(le,e=>e.screenTypeList),be=Object(r.r)(le,e=>e.loading),pe=Object(r.r)(le,e=>e.reloadToggle),he=Object(r.r)(le,e=>e.searchCondition),me=ne.getSelectors(le).selectAll,ge=Object(r.r)(le,e=>e.masterGridDataTotal),fe=Object(r.r)(le,e=>e.masterGridState),Oe=Object(r.r)(le,e=>e.masterGridCheckedState),ve=Object(r.r)(fe,e=>C.get(e,["pageInfo","take"],20)),je=Object(r.r)(le,e=>e.isOpenMasterUpsertPopup),Se=Object(r.r)(le,e=>e.selectedMasterUpsertRowItem);Object(r.r)(le,e=>e.selectedMasterRowItem),Object(r.r)(le,e=>e.detailLoading),Object(r.r)(le,e=>e.detailReloadToggle),Object(r.r)(le,e=>e.detailDataList),Object(r.r)(le,e=>e.detailGridCheckedState),Object(r.r)(le,e=>e.isOpenDetailUpsertPopup),Object(r.r)(le,e=>e.selectedDetailUpsertRowItem);var ye=i("fXoL"),Ce=i("LRne"),Ie=i("z6cu"),Ve=i("eIep"),ke=i("AytR");const{API_URL:we}=ke.a,Le={selectDetailCodes:`${we}/common/detail-code`,postBasisScreen:`${we}/admin/basis/screen`,putBasisScreen:`${we}/admin/basis/screen`,postBasisFunction:`${we}/admin/basis/function`,putBasisFunction:`${we}/control/bs/function-code`};var We=i("tpT/");let De=(()=>{class e{constructor(e){this.api=e}getCommonDetailCodeList(e){const t=C.assign({},this.api.defaultParams,{condition:e});return this.api.post(Le.selectDetailCodes,t).pipe(Object(Ve.a)(e=>e.succeedYn&&e.result?Object(Ce.a)(e.result.list):Object(Ie.a)(e||"api response error")))}getMasterList(e){const t=C.assign({},this.api.defaultParams,{condition:e});return this.api.post(Le.postBasisScreen,t).pipe(Object(Ve.a)(e=>{if(e.succeedYn&&e.result){const t=this._addRowid(e.result.list),i=e.result.totalCount;return Object(Ce.a)({dataList:t,totalCount:i})}return Object(Ie.a)(e||"api response error")}))}upsertMasterItem(e){const t=C.assign({},this.api.defaultParams,{condition:e});return this.api.put(Le.putBasisScreen,t).pipe(Object(Ve.a)(e=>e.succeedYn?Object(Ce.a)(!0):Object(Ie.a)(e||"api response error")))}removeMasterItems(e){const t=C.assign({},this.api.defaultParams,{condition:e});return this.api.delete(Le.putBasisScreen,t).pipe(Object(Ve.a)(e=>e.succeedYn?Object(Ce.a)(e.result&&e.result.counts):Object(Ie.a)(e||"api response error")))}getDetailList(e){const t=C.assign({},this.api.defaultParams,{condition:e});return this.api.post(Le.postBasisFunction,t).pipe(Object(Ve.a)(e=>{if(e.succeedYn&&e.result){const t=this._addRowid(e.result.list);return Object(Ce.a)(t)}return Object(Ie.a)(e||"api response error")}))}upsertDetailItem(e){const t=C.assign({},this.api.defaultParams,{condition:e});return this.api.put(Le.putBasisFunction,t).pipe(Object(Ve.a)(e=>e.succeedYn?Object(Ce.a)(!0):Object(Ie.a)(e||"api response error")))}removeDetailItems(e){const t=C.assign({},this.api.defaultParams,{condition:e});return this.api.delete(Le.putBasisFunction,t).pipe(Object(Ve.a)(e=>e.succeedYn?Object(Ce.a)(e.result&&e.result.counts):Object(Ie.a)(e||"api response error")))}_addRowid(e){return C.isNil(e)?[]:e.map((e,t)=>Object.assign(Object.assign({},e),{rowid:String(t)}))}}return e.\u0275fac=function(t){return new(t||e)(ye.bc(We.a))},e.\u0275prov=ye.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Me=(()=>{class e{constructor(e){this.fb=e,this.generateMasterGridColumns=()=>[{field:"screenSeq",title:"SEQ",style:{"text-align":"center"}},{field:"stationTypeName",title:"Station"},{field:"screenNameEn",title:"Screen Name(EN)"},{field:"screenNameKo",title:"Screen Name(KO)"},{field:"screenUrl",title:"Screen URL"},{field:"screenTypeName",title:"Screen Type"},{field:"gridYn",title:"Grid YN",format:"yn",style:{"text-align":"center"}},{field:"useYn",title:"Use YN",format:"yn",style:{"text-align":"center"}},{field:"displayManageYn",title:"Display Manage YN",format:"yn",style:{"text-align":"center"}}],this.generateDetailGridColumns=()=>[{field:"functionNameLn",title:"\ubc84\ud2bc \uc774\ub984"},{field:"privacyInfoIncludedYn",title:"\uac1c\uc778\uc815\ubcf4\uc5ec\ubd80",format:"yn"},{field:"useYn",title:"\uc0ac\uc6a9\uc5ec\ubd80",format:"yn"},{field:"controlRemark",title:"\ube44\uace0"}],this.generateMasterListSearchForm=()=>this.fb.group({stationTypeCode:[null],screenTypeCode:[null],screenName:[null],screenUrl:[null],useYn:[null],displayManageYn:[null]}),this.initMasterListSearch=()=>({stationTypeCode:null,screenTypeCode:null,screenName:null,screenUrl:null,useYn:null,displayManageYn:null}),this.generateMasterPutForm=()=>this.fb.group({rowid:[null],stationTypeCode:[null,[a.z.required]],screenSeq:[{value:null,disabled:!0}],screenNameEn:[null,[a.z.required]],screenNameKo:[null,[a.z.required]],screenUrl:[null,[a.z.required]],screenTypeCode:[null,[a.z.required]],displayManageYn:[null,[a.z.required]],gridYn:[null,[a.z.required]],useYn:[null,[a.z.required]],controlRemark:[null]}),this.initPutMasterFormData=()=>({rowid:null,screenSeq:null,stationTypeCode:null,screenNameEn:null,screenNameKo:null,screenUrl:null,screenTypeCode:null,displayManageYn:!1,gridYn:!0,useYn:!0,controlRemark:null}),this.generateDetailListSearchForm=()=>this.fb.group({screenSeq:[null],useYn:[null]}),this.initDetailListSearch=()=>({screenSeq:null,useYn:null}),this.generateDetailPutForm=()=>this.fb.group({rowid:[null],screenSeq:[{value:null,disabled:!0},[a.z.required]],functionSeq:[{value:null,disabled:!0}],functionNameEn:[null,[a.z.required]],functionNameLn:[null,[a.z.required]],privacyInfoIncludedYn:[null,[a.z.required]],useYn:[null,[a.z.required]],controlRemark:[null]}),this.initPutDetailFormData=()=>({rowid:null,screenSeq:null,functionSeq:null,functionNameEn:null,functionNameLn:null,privacyInfoIncludedYn:!0,useYn:!0,controlRemark:null})}}return e.\u0275fac=function(t){return new(t||e)(ye.bc(a.f))},e.\u0275prov=ye.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Pe=i("+Sob"),Ne=i("gbCm"),Re=i("nMd8"),_e=i("U6NN");let Ee=(()=>{class e{constructor(e){this._dataService=e,this.clickSearchEvent=new ye.n,this.clickResetEvent=new ye.n,this.useYnOptions=[{label:"Y",value:!0},{label:"N",value:!1}],this.searchForm=this._dataService.generateMasterListSearchForm()}get searchCondition(){return this._searchCondition}set searchCondition(e){this._searchCondition=e,this.searchFormData=this._setSearchFormData(e)}ngOnInit(){}onSubmit(){this.clickSearchEvent.emit(this.searchForm.value)}onReset(){this.clickResetEvent.emit()}_setSearchFormData(e){const t=this._dataService.initMasterListSearch();return Object.assign({},t,C.pick(e,Object.keys(t)))}}return e.\u0275fac=function(t){return new(t||e)(ye.Qb(Me))},e.\u0275cmp=ye.Kb({type:e,selectors:[["app-bs-screen-master-search"]],inputs:{screenTypeList:"screenTypeList",stationTypeList:"stationTypeList",searchCondition:"searchCondition"},outputs:{clickSearchEvent:"clickSearchEvent",clickResetEvent:"clickResetEvent"},decls:29,vars:6,consts:[[1,"grid-search-box","multi",3,"formGroup","connectForm","ngSubmit"],[1,"form-option-area"],[1,"row"],[1,"col-1"],[1,"form-label"],["formControlName","screenName",1,"d-inline-flex","flex-fill"],["formControlName","stationTypeCode","dataKey","detailCode","displayWord","detailCodeName",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","screenTypeCode","dataKey","detailCode","displayWord","detailCodeName",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","useYn",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","displayManageYn",1,"d-inline-flex","flex-fill",3,"options"],[1,"form-button-area"],["type","submit","role","button",1,"btn","btn-primary","sm"],["type","button","role","button",1,"btn","btn-reset","sm",3,"click"]],template:function(e,t){1&e&&(ye.Wb(0,"form",0),ye.fc("ngSubmit",(function(){return t.onSubmit()})),ye.Wb(1,"div",1),ye.Wb(2,"div",2),ye.Wb(3,"div",3),ye.Wb(4,"span",4),ye.Pc(5,"Screen Name"),ye.Vb(),ye.Rb(6,"app-input-text",5),ye.Vb(),ye.Wb(7,"div",3),ye.Wb(8,"span",4),ye.Pc(9,"Station"),ye.Vb(),ye.Rb(10,"app-selectbox-detailcode",6),ye.Vb(),ye.Wb(11,"div",3),ye.Wb(12,"span",4),ye.Pc(13,"Screen Type"),ye.Vb(),ye.Rb(14,"app-selectbox",7),ye.Vb(),ye.Wb(15,"div",3),ye.Wb(16,"span",4),ye.Pc(17,"Use YN"),ye.Vb(),ye.Rb(18,"app-selectbox",8),ye.Vb(),ye.Vb(),ye.Wb(19,"div",2),ye.Wb(20,"div",3),ye.Wb(21,"span",4),ye.Pc(22,"Display Manage YN"),ye.Vb(),ye.Rb(23,"app-selectbox",9),ye.Vb(),ye.Vb(),ye.Vb(),ye.Wb(24,"div",10),ye.Wb(25,"button",11),ye.Pc(26,"Search"),ye.Vb(),ye.Wb(27,"button",12),ye.fc("click",(function(){return t.onReset()})),ye.Pc(28,"Reset"),ye.Vb(),ye.Vb(),ye.Vb()),2&e&&(ye.pc("formGroup",t.searchForm)("connectForm",t.searchFormData),ye.Cb(10),ye.pc("options",t.stationTypeList),ye.Cb(4),ye.pc("options",t.screenTypeList),ye.Cb(4),ye.pc("options",t.useYnOptions),ye.Cb(5),ye.pc("options",t.useYnOptions))},directives:[a.B,a.s,a.k,Pe.a,Ne.a,a.r,a.i,Re.a,_e.a],encapsulation:2,changeDetection:0}),e})(),Te=(()=>{class e{constructor(){this.clickAddEvent=new ye.n,this.clickDelEvent=new ye.n,this.changePageSizeEvent=new ye.n,this.pageSizeOptions=[{label:"20",value:20},{label:"40",value:40},{label:"60",value:60},{label:"80",value:80},{label:"100",value:100}]}onChangePageSize(e){this.changePageSizeEvent.emit(e.value)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ye.Kb({type:e,selectors:[["app-bs-screen-master-control"]],inputs:{loading:"loading",currentPageSize:"currentPageSize",totalCount:"totalCount"},outputs:{clickAddEvent:"clickAddEvent",clickDelEvent:"clickDelEvent",changePageSizeEvent:"changePageSizeEvent"},decls:10,vars:4,consts:[[1,"grid-control-area"],[1,"grid-count"],[1,"ml-auto","d-inline-flex","flex-glow-0"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"btn","btn-light","sm",3,"click"],[1,"select-box","sm","d-inline-flex","flex-glow-0"],[3,"options","ngModel","useAllOptionYn","onChange"]],template:function(e,t){1&e&&(ye.Wb(0,"div",0),ye.Wb(1,"strong",1),ye.Pc(2),ye.Vb(),ye.Wb(3,"div",2),ye.Wb(4,"button",3),ye.fc("click",(function(){return t.clickAddEvent.emit()})),ye.Pc(5,"New"),ye.Vb(),ye.Wb(6,"button",4),ye.fc("click",(function(){return t.clickDelEvent.emit()})),ye.Pc(7,"Delete"),ye.Vb(),ye.Wb(8,"div",5),ye.Wb(9,"app-selectbox",6),ye.fc("onChange",(function(e){return t.onChangePageSize(e)})),ye.Vb(),ye.Vb(),ye.Vb(),ye.Vb()),2&e&&(ye.Cb(2),ye.Qc(t.loading?"":t.totalCount),ye.Cb(7),ye.pc("options",t.pageSizeOptions)("ngModel",t.currentPageSize)("useAllOptionYn",!1))},directives:[_e.a,a.r,a.u],encapsulation:2,changeDetection:0}),e})();var Ye=i("Onn4");let Fe=(()=>{class e{constructor(e){this._dataService=e,this.submitEvent=new ye.n,this.closeEvent=new ye.n,this._$unsubscribe=new g.a,this.upsertForm=this._dataService.generateMasterPutForm()}get rowItem(){return this._rowitem}set rowItem(e){this._rowitem=e,this.upsertFormData=this._setPutFormData(e),this._initThisState(e)}ngAfterContentInit(){this._initThisState()}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete()}onSubmit(){if(this.upsertForm.invalid)return void(this._checkValid=!0);const e=this._setPutCondition();this.submitEvent.emit(e),this._checkValid=!1}onClose(){this.closeEvent.emit()}checkIsInvalid(e){return this._checkValid&&this.upsertForm.get(e)&&this.upsertForm.get(e).invalid}_initThisState(e){this._checkValid=!1}_setPutFormData(e){const t=this._dataService.initPutMasterFormData();return C.isEmpty(e)?t:C.pick(e,Object.keys(t))}_setPutCondition(){const e=this._dataService.initPutMasterFormData(),t=this.upsertForm.getRawValue();let i=Object.assign({},C.pick(t,Object.keys(e)));return C.isNil(i.rowid)&&(i=C.omit(i,["rowid","screenSeq"])),i}}return e.\u0275fac=function(t){return new(t||e)(ye.Qb(Me))},e.\u0275cmp=ye.Kb({type:e,selectors:[["app-bs-screen-master-form"]],inputs:{stationTypeList:"stationTypeList",screenTypeList:"screenTypeList",rowItem:"rowItem"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:81,vars:21,consts:[[1,"modal-body"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","150px"],["scope","row",1,"th-bg"],["formControlName","screenSeq"],["formControlName","stationTypeCode","dataKey","detailCode","displayWord","detailCodeName","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","screenNameEn",3,"isInvalid"],["formControlName","screenNameKo",3,"isInvalid"],["formControlName","screenUrl",3,"isInvalid"],["formControlName","screenTypeCode","dataKey","detailCode","displayWord","detailCodeName","useAllOptionName","Select",3,"options","isInvalid"],[1,"form-group"],["formControlName","gridYn","name","gridYn","label","Y",3,"value"],["formControlName","gridYn","name","gridYn","label","N",3,"value"],["formControlName","displayManageYn","name","displayManageYn","label","Y",3,"value"],["formControlName","displayManageYn","name","displayManageYn","label","N",3,"value"],["formControlName","useYn","name","useYn","label","Y",3,"value"],["formControlName","useYn","name","useYn","label","N",3,"value"],[1,"textarea"],["cols","30","rows","3","formControlName","controlRemark"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(e,t){1&e&&(ye.Wb(0,"div",0),ye.Wb(1,"form",1),ye.fc("ngSubmit",(function(){return t.onSubmit()})),ye.Wb(2,"div",2),ye.Wb(3,"table"),ye.Wb(4,"caption"),ye.Pc(5," Screen Code Info. "),ye.Vb(),ye.Wb(6,"colgroup"),ye.Rb(7,"col",3),ye.Rb(8,"col"),ye.Vb(),ye.Wb(9,"tbody"),ye.Wb(10,"tr"),ye.Wb(11,"th",4),ye.Wb(12,"sup"),ye.Pc(13,"Screen SEQ"),ye.Vb(),ye.Vb(),ye.Wb(14,"td"),ye.Rb(15,"app-input-text",5),ye.Vb(),ye.Vb(),ye.Wb(16,"tr"),ye.Wb(17,"th",4),ye.Pc(18,"Station"),ye.Rb(19,"sup"),ye.Vb(),ye.Wb(20,"td"),ye.Rb(21,"app-selectbox-detailcode",6),ye.Vb(),ye.Vb(),ye.Wb(22,"tr"),ye.Wb(23,"th",4),ye.Wb(24,"sup"),ye.Pc(25,"Screen Name(EN)"),ye.Vb(),ye.Vb(),ye.Wb(26,"td"),ye.Rb(27,"app-input-text",7),ye.Vb(),ye.Vb(),ye.Wb(28,"tr"),ye.Wb(29,"th",4),ye.Wb(30,"sup"),ye.Pc(31,"Screen Name(KO)"),ye.Vb(),ye.Vb(),ye.Wb(32,"td"),ye.Rb(33,"app-input-text",8),ye.Vb(),ye.Vb(),ye.Wb(34,"tr"),ye.Wb(35,"th",4),ye.Wb(36,"sup"),ye.Pc(37,"Screen URL"),ye.Vb(),ye.Vb(),ye.Wb(38,"td"),ye.Rb(39,"app-input-text",9),ye.Vb(),ye.Vb(),ye.Wb(40,"tr"),ye.Wb(41,"th",4),ye.Wb(42,"sup"),ye.Pc(43,"Screen Type"),ye.Vb(),ye.Vb(),ye.Wb(44,"td"),ye.Rb(45,"app-selectbox-detailcode",10),ye.Vb(),ye.Vb(),ye.Wb(46,"tr"),ye.Wb(47,"th",4),ye.Wb(48,"sup"),ye.Pc(49,"Grid YN"),ye.Vb(),ye.Vb(),ye.Wb(50,"td"),ye.Wb(51,"div",11),ye.Rb(52,"app-radio",12),ye.Rb(53,"app-radio",13),ye.Vb(),ye.Vb(),ye.Vb(),ye.Wb(54,"tr"),ye.Wb(55,"th",4),ye.Wb(56,"sup"),ye.Pc(57,"Display Manage YN"),ye.Vb(),ye.Vb(),ye.Wb(58,"td"),ye.Wb(59,"div",11),ye.Rb(60,"app-radio",14),ye.Rb(61,"app-radio",15),ye.Vb(),ye.Vb(),ye.Vb(),ye.Wb(62,"tr"),ye.Wb(63,"th",4),ye.Wb(64,"sup"),ye.Pc(65,"Use YN"),ye.Vb(),ye.Vb(),ye.Wb(66,"td"),ye.Wb(67,"div",11),ye.Rb(68,"app-radio",16),ye.Rb(69,"app-radio",17),ye.Vb(),ye.Vb(),ye.Vb(),ye.Wb(70,"tr"),ye.Wb(71,"th",4),ye.Pc(72,"Control Remark"),ye.Vb(),ye.Wb(73,"td"),ye.Wb(74,"div",18),ye.Rb(75,"textarea",19),ye.Vb(),ye.Vb(),ye.Vb(),ye.Vb(),ye.Vb(),ye.Vb(),ye.Wb(76,"div",20),ye.Wb(77,"button",21),ye.Pc(78,"Save"),ye.Vb(),ye.Wb(79,"button",22),ye.fc("click",(function(){return t.onClose()})),ye.Pc(80,"Close"),ye.Vb(),ye.Vb(),ye.Vb(),ye.Vb()),2&e&&(ye.Cb(1),ye.pc("formGroup",t.upsertForm)("connectForm",t.upsertFormData),ye.Cb(20),ye.pc("options",t.stationTypeList)("isInvalid",t.checkIsInvalid("stationTypeCode")),ye.Cb(6),ye.pc("isInvalid",t.checkIsInvalid("screenNameEn")),ye.Cb(6),ye.pc("isInvalid",t.checkIsInvalid("screenNameKo")),ye.Cb(6),ye.pc("isInvalid",t.checkIsInvalid("screenUrl")),ye.Cb(6),ye.pc("options",t.screenTypeList)("isInvalid",t.checkIsInvalid("screenTypeCode")),ye.Cb(6),ye.Gb("valid-error",t.checkIsInvalid("gridYn")),ye.Cb(1),ye.pc("value",!0),ye.Cb(1),ye.pc("value",!1),ye.Cb(6),ye.Gb("valid-error",t.checkIsInvalid("displayManageYn")),ye.Cb(1),ye.pc("value",!0),ye.Cb(1),ye.pc("value",!1),ye.Cb(6),ye.Gb("valid-error",t.checkIsInvalid("useYn")),ye.Cb(1),ye.pc("value",!0),ye.Cb(1),ye.pc("value",!1))},directives:[a.B,a.s,a.k,Pe.a,Ne.a,a.r,a.i,Re.a,Ye.a,a.c],encapsulation:2,changeDetection:0}),e})(),$e=(()=>{class e{constructor(e){this._dataService=e,this.submitEvent=new ye.n,this.closeEvent=new ye.n,this._$unsubscribe=new g.a,this.upsertForm=this._dataService.generateDetailPutForm()}get rowItem(){return this._rowitem}set rowItem(e){this._rowitem=e,this.upsertFormData=this._setPutFormData(e),this._initThisState(e)}ngAfterContentInit(){this._initThisState()}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete()}onSubmit(){if(this.upsertForm.invalid)return void(this._checkValid=!0);const e=this._setPutCondition();this.submitEvent.emit(e),this._checkValid=!1}onClose(){this.closeEvent.emit()}checkIsInvalid(e){return this._checkValid&&this.upsertForm.get(e)&&this.upsertForm.get(e).invalid}_initThisState(e){this._checkValid=!1}_setPutFormData(e){const t=this._dataService.initPutDetailFormData(),{screenSeq:i}=this.masterRowItem;return C.isEmpty(e)?Object.assign(t,{screenSeq:i}):Object.assign(C.pick(e,Object.keys(t)),{screenSeq:i})}_setPutCondition(){const e=this._dataService.initPutDetailFormData(),t=this.upsertForm.getRawValue();let i=Object.assign({},C.pick(t,Object.keys(e)));return C.isNil(i.rowid)&&(i=C.omit(i,["rowid","functionSeq"])),i}}return e.\u0275fac=function(t){return new(t||e)(ye.Qb(Me))},e.\u0275cmp=ye.Kb({type:e,selectors:[["app-bs-screen-detail-form"]],inputs:{masterRowItem:"masterRowItem",rowItem:"rowItem"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:61,vars:12,consts:[[1,"modal-body"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","150px"],["scope","row",1,"th-bg"],["formControlName","screenSeq"],["formControlName","functionSeq"],["formControlName","functionNameLn",3,"isInvalid"],["formControlName","functionNameEn",3,"isInvalid"],[1,"form-group"],["formControlName","privacyInfoIncludedYn","name","privacyInfoIncludedYn","label","Y",3,"value"],["formControlName","privacyInfoIncludedYn","name","privacyInfoIncludedYn","label","N",3,"value"],["formControlName","useYn","name","useYn","label","Y",3,"value"],["formControlName","useYn","name","useYn","label","N",3,"value"],[1,"textarea"],["cols","30","rows","3","formControlName","controlRemark"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(e,t){1&e&&(ye.Wb(0,"div",0),ye.Wb(1,"form",1),ye.fc("ngSubmit",(function(){return t.onSubmit()})),ye.Wb(2,"div",2),ye.Wb(3,"table"),ye.Wb(4,"caption"),ye.Pc(5," \uc0c1\uc138\ucf54\ub4dc \uc815\ubcf4 "),ye.Vb(),ye.Wb(6,"colgroup"),ye.Rb(7,"col",3),ye.Rb(8,"col"),ye.Vb(),ye.Wb(9,"tbody"),ye.Wb(10,"tr"),ye.Wb(11,"th",4),ye.Wb(12,"sup"),ye.Pc(13,"\ud654\uba74 \uc21c\ubc88"),ye.Vb(),ye.Vb(),ye.Wb(14,"td"),ye.Rb(15,"app-input-text",5),ye.Vb(),ye.Vb(),ye.Wb(16,"tr"),ye.Wb(17,"th",4),ye.Wb(18,"sup"),ye.Pc(19,"\uae30\ub2a5 \uc21c\ubc88"),ye.Vb(),ye.Vb(),ye.Wb(20,"td"),ye.Rb(21,"app-input-text",6),ye.Vb(),ye.Vb(),ye.Wb(22,"tr"),ye.Wb(23,"th",4),ye.Wb(24,"sup"),ye.Pc(25,"\uae30\ub2a5 \uc774\ub984(\ud55c\uad6d\uc5b4)"),ye.Vb(),ye.Vb(),ye.Wb(26,"td"),ye.Rb(27,"app-input-text",7),ye.Vb(),ye.Vb(),ye.Wb(28,"tr"),ye.Wb(29,"th",4),ye.Wb(30,"sup"),ye.Pc(31,"\uae30\ub2a5 \uc774\ub984(\uc601\uc5b4)"),ye.Vb(),ye.Vb(),ye.Wb(32,"td"),ye.Rb(33,"app-input-text",8),ye.Vb(),ye.Vb(),ye.Wb(34,"tr"),ye.Wb(35,"th",4),ye.Wb(36,"sup"),ye.Pc(37,"\uac1c\uc778\uc815\ubcf4 \ud3ec\ud568 \uc5ec\ubd80"),ye.Vb(),ye.Vb(),ye.Wb(38,"td"),ye.Wb(39,"div",9),ye.Rb(40,"app-radio",10),ye.Rb(41,"app-radio",11),ye.Vb(),ye.Vb(),ye.Vb(),ye.Wb(42,"tr"),ye.Wb(43,"th",4),ye.Wb(44,"sup"),ye.Pc(45,"\uc0ac\uc6a9\uc5ec\ubd80"),ye.Vb(),ye.Vb(),ye.Wb(46,"td"),ye.Wb(47,"div",9),ye.Rb(48,"app-radio",12),ye.Rb(49,"app-radio",13),ye.Vb(),ye.Vb(),ye.Vb(),ye.Wb(50,"tr"),ye.Wb(51,"th",4),ye.Pc(52,"\ube44\uace0"),ye.Vb(),ye.Wb(53,"td"),ye.Wb(54,"div",14),ye.Rb(55,"textarea",15),ye.Vb(),ye.Vb(),ye.Vb(),ye.Vb(),ye.Vb(),ye.Vb(),ye.Wb(56,"div",16),ye.Wb(57,"button",17),ye.Pc(58,"\uc800\uc7a5"),ye.Vb(),ye.Wb(59,"button",18),ye.fc("click",(function(){return t.onClose()})),ye.Pc(60,"\ucde8\uc18c"),ye.Vb(),ye.Vb(),ye.Vb(),ye.Vb()),2&e&&(ye.Cb(1),ye.pc("formGroup",t.upsertForm)("connectForm",t.upsertFormData),ye.Cb(26),ye.pc("isInvalid",t.checkIsInvalid("functionNameLn")),ye.Cb(6),ye.pc("isInvalid",t.checkIsInvalid("functionNameEn")),ye.Cb(6),ye.Gb("valid-error",t.checkIsInvalid("privacyInfoIncludedYn")),ye.Cb(1),ye.pc("value",!0),ye.Cb(1),ye.pc("value",!1),ye.Cb(6),ye.Gb("valid-error",t.checkIsInvalid("useYn")),ye.Cb(1),ye.pc("value",!0),ye.Cb(1),ye.pc("value",!1))},directives:[a.B,a.s,a.k,Pe.a,Ne.a,a.r,a.i,Ye.a,a.c],encapsulation:2,changeDetection:0}),e})();var Ae=i("UIHd"),xe=i("EsKh"),Ue=i("kDLv");function Ke(e,t){if(1&e){const e=ye.Xb();ye.Wb(0,"app-bs-screen-master-form",7),ye.fc("submitEvent",(function(t){return ye.Fc(e),ye.hc().submitUpsertHandler(t)}))("closeEvent",(function(){return ye.Fc(e),ye.hc().closeUpsertPopupHandler()})),ye.ic(1,"async"),ye.ic(2,"async"),ye.ic(3,"async"),ye.Vb()}if(2&e){const e=ye.hc();ye.pc("stationTypeList",ye.jc(1,3,e.stationTypeList$))("screenTypeList",ye.jc(2,5,e.screenTypeList$))("rowItem",ye.jc(3,7,e.selectedUpsertRowInfo$))}}let Be=(()=>{class e{constructor(e,t,i){this.store=e,this._dataService=t,this.alertService=i,this.unsubscribe$=new g.a,this.stationTypeList$=e.pipe(Object(r.u)(de)),this.screenTypeList$=e.pipe(Object(r.u)(ue)),this.loading$=e.pipe(Object(r.u)(be)),this.reloadToggle$=e.pipe(Object(r.u)(pe)),this.searchCondition$=e.pipe(Object(r.u)(he)),this.gridDataList$=e.pipe(Object(r.u)(me)),this.gridDataTotal$=e.pipe(Object(r.u)(ge)),this.pageSize$=e.pipe(Object(r.u)(ve)),this.gridState$=e.pipe(Object(r.u)(fe)),this.gridCheckedState$=e.pipe(Object(r.u)(Oe)),this.isOpenUpsertPopup$=e.pipe(Object(r.u)(je)),this.selectedUpsertRowInfo$=e.pipe(Object(r.u)(Se)),this.columns=this._dataService.generateMasterGridColumns(),this._initSubscription()}ngOnInit(){this.store.dispatch(s.loadStationTypeList()),this.store.dispatch(s.loadScreenTypeList())}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.store.dispatch(s.initComponentStateAction()),this.store.dispatch(s.setMasterGridCheckStateAction({gridCheckedState:this.gridEl.checkedStateOutput}))}changePageSizeHandler(e){this.store.dispatch(s.changeMasterPageSize({pageSize:e}))}clickSearchHandler(e){this.store.dispatch(s.changeMasterSearchCondition({condition:e})),this.store.dispatch(s.changeMasterPageIndex({pageIndex:0}))}clickResetHandler(){this.store.dispatch(s.changeMasterSearchCondition({condition:{}}))}gridStateChangeHandler(e){this.store.dispatch(s.setMasterGridStateAction({gridState:e}))}openUpserPopupHandler(){this.store.dispatch(s.openMasterUpsertPopup())}closeUpsertPopupHandler(){this.store.dispatch(s.closeMasterUpsertPopup()),this.delSelectedUpsertItem()}addSelectedUpsertItem(e){this.store.dispatch(s.addSelectedMasterUpsertRowItem({info:e}))}delSelectedUpsertItem(){this.store.dispatch(s.delSelectedMasterUpsertRowItem())}clickAddHandler(){this.delSelectedUpsertItem(),this.openUpserPopupHandler()}dbClickRowHandler(e){this.addSelectedUpsertItem(e),this.openUpserPopupHandler()}submitUpsertHandler(e){const t=C.cloneDeep(e);this.store.dispatch(s.upsertMasterItem({condition:t}))}clickDelHandler(){var e;(null===(e=this.gridEl.checkedRows)||void 0===e?void 0:e.length)>0?this.alertService.confirm({message:"Are you sure you want to delete the selected items?",accept:()=>{this.store.dispatch(s.removeMasterItems({rowids:this.gridEl.checkedRows}))},reject:()=>{}}):this.alertService.alert("There are no items selected.")}fetchDetailCodeHandler(e){this.store.dispatch(s.addSelectedMasterRowItem({info:e}))}_initSubscription(){this.reloadToggle$.pipe(Object(O.a)(1),Object(v.a)(this.unsubscribe$)).subscribe(()=>{this.searchFormEl.onSubmit()}),Object(f.a)([this.searchCondition$,this.gridState$]).pipe(Object(O.a)(1),Object(v.a)(this.unsubscribe$),Object(j.a)(200),Object(S.a)(([e,t])=>!C.isEmpty(e)),Object(y.a)(([e,{pageInfo:t}])=>this._setSearchCondition(e,t))).subscribe(e=>this.store.dispatch(s.loadMasterList({condition:e})))}_setSearchCondition(e,t){const i=Object.assign({},e,{limits:[t.skip,t.skip+t.take]});return C.omitBy(i,C.isNil)}}return e.\u0275fac=function(t){return new(t||e)(ye.Qb(r.h),ye.Qb(Me),ye.Qb(xe.a))},e.\u0275cmp=ye.Kb({type:e,selectors:[["app-bs-screen-master"]],viewQuery:function(e,t){var i;1&e&&(ye.Xc(Ee,!0),ye.Xc(Ae.a,!0)),2&e&&(ye.Dc(i=ye.gc())&&(t.searchFormEl=i.first),ye.Dc(i=ye.gc())&&(t.gridEl=i.first))},decls:21,vars:43,consts:[[1,"frame-wrap","basis-2-1"],[3,"screenTypeList","stationTypeList","searchCondition","clickResetEvent","clickSearchEvent"],[3,"loading","currentPageSize","totalCount","clickAddEvent","clickDelEvent","changePageSizeEvent"],[3,"gridLoading","columns","gridState","checkedState","totalCount","checkboxUseYn","sortable","dataList","stateChangeEvent","cellClickEvent","dbClickRowEvent"],["gridEl",""],["modalSize","sm","modalContentClass","pd-all","header","Screen Code Info.",3,"visible","modal","visibleChange"],[3,"stationTypeList","screenTypeList","rowItem","submitEvent","closeEvent",4,"ngIf"],[3,"stationTypeList","screenTypeList","rowItem","submitEvent","closeEvent"]],template:function(e,t){1&e&&(ye.Wb(0,"div",0),ye.Wb(1,"div"),ye.Wb(2,"app-bs-screen-master-search",1),ye.fc("clickResetEvent",(function(){return t.clickResetHandler()}))("clickSearchEvent",(function(e){return t.clickSearchHandler(e)})),ye.ic(3,"async"),ye.ic(4,"async"),ye.ic(5,"async"),ye.Vb(),ye.Wb(6,"app-bs-screen-master-control",2),ye.fc("clickAddEvent",(function(){return t.clickAddHandler()}))("clickDelEvent",(function(){return t.clickDelHandler()}))("changePageSizeEvent",(function(e){return t.changePageSizeHandler(e)})),ye.ic(7,"async"),ye.ic(8,"async"),ye.ic(9,"async"),ye.Vb(),ye.Wb(10,"app-grid-simple",3,4),ye.fc("stateChangeEvent",(function(e){return t.gridStateChangeHandler(e)}))("cellClickEvent",(function(e){return t.fetchDetailCodeHandler(e)}))("dbClickRowEvent",(function(e){return t.dbClickRowHandler(e)})),ye.ic(12,"async"),ye.ic(13,"async"),ye.ic(14,"async"),ye.ic(15,"async"),ye.ic(16,"async"),ye.Vb(),ye.Vb(),ye.Vb(),ye.Wb(17,"app-dialog",5),ye.fc("visibleChange",(function(){return t.closeUpsertPopupHandler()})),ye.ic(18,"async"),ye.Nc(19,Ke,4,9,"app-bs-screen-master-form",6),ye.ic(20,"async"),ye.Vb()),2&e&&(ye.Cb(2),ye.pc("screenTypeList",ye.jc(3,17,t.screenTypeList$))("stationTypeList",ye.jc(4,19,t.stationTypeList$))("searchCondition",ye.jc(5,21,t.searchCondition$)),ye.Cb(4),ye.pc("loading",ye.jc(7,23,t.loading$))("currentPageSize",ye.jc(8,25,t.pageSize$))("totalCount",ye.jc(9,27,t.gridDataTotal$)),ye.Cb(4),ye.pc("gridLoading",ye.jc(12,29,t.loading$))("columns",t.columns)("gridState",ye.jc(13,31,t.gridState$))("checkedState",ye.jc(14,33,t.gridCheckedState$))("totalCount",ye.jc(15,35,t.gridDataTotal$))("checkboxUseYn",!0)("sortable",!1)("dataList",ye.jc(16,37,t.gridDataList$)),ye.Cb(7),ye.pc("visible",ye.jc(18,39,t.isOpenUpsertPopup$))("modal",!0),ye.Cb(2),ye.pc("ngIf",ye.jc(20,41,t.isOpenUpsertPopup$)))},directives:[Ee,Te,Ae.a,Ue.a,n.o,Fe],pipes:[n.b],encapsulation:2,changeDetection:0}),e})();const Ge=[{path:"",component:Be,data:{title:"\ud654\uba74\uad00\ub9ac"}}];let ze=(()=>{class e{}return e.\u0275mod=ye.Ob({type:e}),e.\u0275inj=ye.Nb({factory:function(t){return new(t||e)},imports:[[m.f.forChild(Ge)],m.f]}),e})();var qe=i("bOdf"),He=i("zp1y"),Qe=i("JIr8"),Xe=i("vkgz"),Je=i("Xb6A");let Ze=(()=>{class e{constructor(e,t,i,n,a){this.actions$=e,this.service=t,this._errorService=i,this.alertService=n,this.store=a,this.loadStationTypeList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(s.loadStationTypeList),Object(qe.a)(e=>Object(Ce.a)(e).pipe(Object(He.a)(this.stationTypeList$))),Object(Ve.a)(([e,t])=>C.isEmpty(t)?this.service.getCommonDetailCodeList({masterCode:"BS002"}).pipe(Object(y.a)(e=>s.getStationTypeListSuccess({dataList:e})),Object(Qe.a)(e=>(this._catchErr(e,"Station type lookup failed"),[]))):[]))),this.loadScreenTypeList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(s.loadScreenTypeList),Object(qe.a)(e=>Object(Ce.a)(e).pipe(Object(He.a)(this.screenTypeList$))),Object(Ve.a)(([e,t])=>C.isEmpty(t)?this.service.getCommonDetailCodeList({masterCode:"BS033"}).pipe(Object(y.a)(e=>s.getScreenTypeListSuccess({dataList:e})),Object(Qe.a)(e=>(this._catchErr(e,"list lookup failed"),[]))):[]))),this.loadMasterList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(s.loadMasterList),Object(Ve.a)(({condition:e})=>this.service.getMasterList(e).pipe(Object(y.a)(({dataList:e,totalCount:t})=>s.loadMasterListSuccess({dataList:e,totalCount:t})),Object(Qe.a)(e=>{const t="master code information failed. Please try again in a momentarily.",i=[s.loadMasterListFailure({error:t})];return this._catchErr(e,t,i),[]}))))),this.upsertMasterItem$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(s.upsertMasterItem),Object(Ve.a)(({condition:e})=>this.service.upsertMasterItem(e).pipe(Object(y.a)(e=>({succeedYn:!0,upsertItem:e})),Object(Qe.a)(e=>Object(Ce.a)({succeedYn:!1,error:e})))),Object(Xe.a)(({succeedYn:e,error:t})=>{if(e){const e="Your save is complete.",t=[s.reloadMasterListAction(),s.closeMasterUpsertPopup(),s.delSelectedMasterUpsertRowItem()];this._runPage(e,t)}else this._catchErr(t,"Failed to save.")})),{dispatch:!1}),this.removeMasterItems$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(s.removeMasterItems),Object(Ve.a)(({rowids:e})=>this.service.removeMasterItems({rowids:e}).pipe(Object(y.a)(e=>({succeedYn:!0,counts:e})),Object(Qe.a)(e=>Object(Ce.a)({succeedYn:!1,error:e})))),Object(Xe.a)(({succeedYn:e,error:t})=>{if(e){const e=[s.reloadMasterListAction()];this._runPage("Its been deleted",e)}else this._catchErr(t,"Deletion failed.")})),{dispatch:!1}),this.loadDetailList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(s.loadDetailList),Object(Ve.a)(({condition:e})=>this.service.getDetailList(e).pipe(Object(y.a)(e=>s.loadDetailListSuccess({dataList:e})),Object(Qe.a)(e=>{const t="Detailed code information lookup failed. Please try again in a momentarily.",i=[s.loadDetailListFailure({error:t})];return this._catchErr(e,t,i),[]}))))),this.upsertDetailItem$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(s.upsertDetailItemAction),Object(Ve.a)(({condition:e})=>this.service.upsertDetailItem(e).pipe(Object(y.a)(e=>({succeedYn:!0,upsertItem:e})),Object(Qe.a)(e=>Object(Ce.a)({succeedYn:!1,error:e})))),Object(Xe.a)(({succeedYn:e,error:t})=>{if(e){const e="\uc0c1\uc138\ucf54\ub4dc Your save is complete.",t=[s.reloadDetailListAction(),s.closeDetailItemPopupAction(),s.delSelectedDetailRowInfoAction()];this._runPage(e,t)}else this._catchErr(t,"Failed to save.")})),{dispatch:!1}),this.removeDetailItems$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(s.removeDetailItems),Object(Ve.a)(({rowids:e})=>this.service.removeDetailItems({rowids:e}).pipe(Object(y.a)(e=>({succeedYn:!0,counts:e})),Object(Qe.a)(e=>Object(Ce.a)({succeedYn:!1,error:e})))),Object(Xe.a)(({succeedYn:e,error:t})=>{if(e){const e=[s.reloadDetailListAction()];this._runPage("deleted it.",e)}else this._catchErr(t,"Failed to save.")})),{dispatch:!1}),this.stationTypeList$=this.store.pipe(Object(r.u)(de)),this.screenTypeList$=this.store.pipe(Object(r.u)(ue))}_runPage(e,t){this.alertService.alert({message:e,accept:(null==t?void 0:t.length)>0?()=>{t.forEach(e=>{this.store.dispatch(e)})}:()=>{}})}_catchErr(e,t,i){const s=this._errorService.errorHandler(e,t);C.isNil(s)||(C.isNil(s.accept)&&(s.accept=(null==i?void 0:i.length)>0?()=>{i.forEach(e=>{this.store.dispatch(e)})}:()=>{}),this.alertService.alert(s))}}return e.\u0275fac=function(t){return new(t||e)(ye.bc(c.a),ye.bc(De),ye.bc(Je.a),ye.bc(xe.a),ye.bc(r.h))},e.\u0275prov=ye.Mb({token:e,factory:e.\u0275fac}),e})();var et=i("YH7L");const tt=[Be],it=[Ee,Te,Fe,$e];let st=(()=>{class e{}return e.\u0275mod=ye.Ob({type:e}),e.\u0275inj=ye.Nb({factory:function(t){return new(t||e)},imports:[[n.c,a.m,a.w,o.a,l.a,u.a,d.a,b.a,p.a,h.a,ze,et.a,r.j.forFeature("bsScreen",re),c.b.forFeature([Ze])]]}),e})()},"2QGa":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var s=i("F97/"),n=i("SeVD"),a=i("pLZG"),c=i("HDdC");function r(e,t,i){return[Object(a.a)(t,i)(new c.a(Object(n.a)(e))),Object(a.a)(Object(s.a)(t,i))(new c.a(Object(n.a)(e)))]}},Onn4:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var s=i("fXoL"),n=i("3Pt+"),a=i("ofXK");const c=["rb"],r=function(){return{radio:!0}},o={provide:n.p,useExisting:Object(s.U)(()=>l),multi:!0};let l=(()=>{class e{constructor(e){this.cd=e,this.onClick=new s.n,this.onFocus=new s.n,this.onBlur=new s.n,this.onModelChange=()=>{},this.onModelTouched=()=>{}}handleClick(e,t,i){e.preventDefault(),this.disabled||(this.select(e),i&&t.focus())}select(e){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.onClick.emit(e))}writeValue(e){this.checked=e===this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onModelTouched(),this.onBlur.emit(e)}onChange(e){this.select(e)}}return e.\u0275fac=function(t){return new(t||e)(s.Qb(s.h))},e.\u0275cmp=s.Kb({type:e,selectors:[["app-radio"]],viewQuery:function(e,t){var i;1&e&&s.Kc(c,!0),2&e&&s.Dc(i=s.gc())&&(t.inputViewChild=i.first)},inputs:{value:"value",name:"name",disabled:"disabled",label:"label",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",checked:"checked"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[s.Bb([o])],decls:5,vars:11,consts:[[3,"ngClass","click"],["type","radio",1,"radio-control-input",3,"checked","disabled","change","focus","blur"],["rb",""],[1,"radio-control-text"]],template:function(e,t){1&e&&(s.Wb(0,"label",0),s.fc("click",(function(e){return t.select(e)})),s.Wb(1,"input",1,2),s.fc("change",(function(e){return t.onChange(e)}))("focus",(function(e){return t.onInputFocus(e)}))("blur",(function(e){return t.onInputBlur(e)})),s.Vb(),s.Wb(3,"span",3),s.Pc(4),s.Vb(),s.Vb()),2&e&&(s.Eb(t.styleClass),s.pc("ngClass",s.tc(10,r)),s.Cb(1),s.pc("checked",t.checked)("disabled",t.disabled),s.Db("id",t.inputId)("name",t.name)("value",t.value)("tabindex",t.tabindex),s.Cb(3),s.Qc(t.label))},directives:[a.l],encapsulation:2}),e})()},U6NN:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var s=i("fXoL"),n=i("3Pt+"),a=i("LvDl"),c=i("ofXK");function r(e,t){if(1&e&&(s.Wb(0,"option",3),s.Pc(1),s.Vb()),2&e){const e=s.hc();s.pc("ngValue",null),s.Cb(1),s.Qc(e.useAllOptionName)}}function o(e,t){if(1&e&&(s.Wb(0,"option",3),s.Pc(1),s.Vb()),2&e){const e=t.$implicit,i=s.hc();s.pc("ngValue",e),s.Cb(1),s.Qc(i.displayKey?e[i.displayKey]:e)}}const l={provide:n.p,useExisting:Object(s.U)(()=>d),multi:!0};let d=(()=>{class e{constructor(e,t,i,n){this.el=e,this.renderer=t,this.cd=i,this.zone=n,this.dataKey="value",this.displayKey="label",this.useAllOptionYn=!0,this.useAllOptionName="All",this.onChange=new s.n,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get invalid(){return this.isInvalid}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}get options(){return this._options}set options(e){this._options=e,this.updateSelectedOption(this.value)}ngOnInit(){this.updateSelectedOption(null)}ngOnDestroy(){}compareFn(e,t){return this.dataKey?e[this.dataKey]===t[this.dataKey]:e===t}selectItem(e){this.selectedOption=e,this.value=this._getValue(e),this.onModelChange(this.value),this.onChange.emit({value:this.value,option:e})}writeValue(e){this.value=e,this.updateSelectedOption(e),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}updateSelectedOption(e){this.selectedOption=this._findOption(e,this.options)}_findOption(e,t){return this.dataKey?a.find(t,t=>t[this.dataKey]===e)||null:e}_getValue(e){return a.isNil(e)?null:e[this.dataKey]}}return e.\u0275fac=function(t){return new(t||e)(s.Qb(s.l),s.Qb(s.E),s.Qb(s.h),s.Qb(s.z))},e.\u0275cmp=s.Kb({type:e,selectors:[["app-selectbox"]],hostAttrs:[1,"select-box"],hostVars:2,hostBindings:function(e,t){2&e&&s.Gb("valid-error",t.invalid)},inputs:{name:"name",styleClass:"styleClass",required:"required",tabindex:"tabindex",dataKey:"dataKey",displayKey:"displayKey",isInvalid:"isInvalid",useAllOptionYn:"useAllOptionYn",useAllOptionName:"useAllOptionName",disabled:"disabled",options:"options"},outputs:{onChange:"onChange"},features:[s.Bb([l])],decls:3,vars:8,consts:[[3,"compareWith","ngModel","disabled","ngModelChange"],[3,"ngValue",4,"ngIf"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(e,t){1&e&&(s.Wb(0,"select",0),s.fc("ngModelChange",(function(e){return t.selectItem(e)})),s.Nc(1,r,2,2,"option",1),s.Nc(2,o,2,2,"option",2),s.Vb()),2&e&&(s.pc("compareWith",t.compareFn)("ngModel",t.selectedOption)("disabled",t.disabled),s.Db("name",t.name)("required",t.required)("tabindex",t.tabindex),s.Cb(1),s.pc("ngIf",t.useAllOptionYn),s.Cb(1),s.pc("ngForOf",t.options))},directives:[n.y,n.r,n.u,n.x,c.o,c.n,n.v,n.A],encapsulation:2}),e})()},YH7L:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var s=i("ofXK"),n=i("3Pt+"),a=i("fXoL");let c=(()=>{class e{}return e.\u0275mod=a.Ob({type:e}),e.\u0275inj=a.Nb({factory:function(t){return new(t||e)},imports:[[s.c,n.m,n.w]]}),e})()},nMd8:function(e,t,i){"use strict";i.d(t,"a",(function(){return g}));var s=i("fXoL"),n=i("3Pt+"),a=i("LvDl"),c=i("XNiG"),r=i("itXk"),o=i("1G5W"),l=i("pLZG"),d=i("YY+H"),u=i("kt0X"),b=i("ofXK");function p(e,t){if(1&e&&(s.Wb(0,"option",3),s.Pc(1),s.Vb()),2&e){const e=s.hc();s.pc("ngValue",null),s.Cb(1),s.Qc(e.useAllOptionName)}}function h(e,t){if(1&e&&(s.Wb(0,"option",3),s.Pc(1),s.Vb()),2&e){const e=t.$implicit,i=s.hc();s.pc("ngValue",e),s.Cb(1),s.Qc(i.displayKey?e[i.displayKey]:e)}}const m={provide:n.p,useExisting:Object(s.U)(()=>g),multi:!0};let g=(()=>{class e{constructor(e,t){this._store=e,this._cdr=t,this.useAllOptionYn=!0,this.useAllOptionName="All",this.dataKey="detailCode",this.onChange=new s.n,this._unsubscribe$=new c.a,this._options$=new c.a,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.selectedLanguage$=this._store.select(d.f)}get invalid(){return this.isInvalid}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get options(){return this._options}set options(e){this._options=e,this._options$.next(e),this.updateSelectedOption(this.value)}ngOnInit(){this.updateSelectedOption(null),this._initSubscription()}ngAfterViewInit(){this.options&&this._options$.next(this.options)}ngOnDestroy(){this._options$.next(null),this._options$.complete(),this._unsubscribe$.next(),this._unsubscribe$.complete()}writeValue(e){this.value=e,this.updateSelectedOption(e)}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}compareFn(e,t){return this.dataKey?e[this.dataKey]===t[this.dataKey]:e===t}selectItem(e){this.selectedOption=e,this.value=this._getValue(e),this.onModelChange(this.value),this.onChange.emit({value:this.value,option:e})}updateSelectedOption(e){this.selectedOption=this._findOption(e,this.options)}_findOption(e,t){return this.dataKey?a.find(t,t=>t[this.dataKey]===e)||null:e}_getValue(e){return a.isNil(e)?null:e[this.dataKey]}_initSubscription(){if(this.displayKey)return;let e=null;Object(r.a)([this.selectedLanguage$,this._options$]).pipe(Object(o.a)(this._unsubscribe$),Object(l.a)(([e,t])=>t&&t.length>0)).subscribe(([t,i])=>{let s;if(a.isNil(t)&&(t="EN"),!e&&i&&(e=t),e===t&&(this.displayKey=this.displayWord+"Ln",Object.keys(i[0]).includes(this.displayKey)))this._cdr.detectChanges();else{switch(t){case"EN":s=this._findDisplayKey(i,this.displayWord,["En"]);break;case"KO":s=this._findDisplayKey(i,this.displayWord,["Ko","Kr"]);break;case"JA":s=this._findDisplayKey(i,this.displayWord,["Ja","Jp"]);break;case"ZH":s=this._findDisplayKey(i,this.displayWord,["Zh","Cn"]);break;case"VI":s=this._findDisplayKey(i,this.displayWord,["Vi","Vn"])}this.displayKey=s||this.displayWord+"En",this._cdr.detectChanges()}})}_findDisplayKey(e,t,i){if(!e||0===e.length)return null;if(console.log(t,"displayWord"),!t)return null;const s=Object.keys(e[0]);for(const n of i){const e=t+n;if(s.includes(e))return e;if(s.includes(t))return e}return null}}return e.\u0275fac=function(t){return new(t||e)(s.Qb(u.h),s.Qb(s.h))},e.\u0275cmp=s.Kb({type:e,selectors:[["app-selectbox-detailcode"]],hostAttrs:[1,"select-box"],hostVars:2,hostBindings:function(e,t){2&e&&s.Gb("valid-error",t.invalid)},inputs:{name:"name",useAllOptionYn:"useAllOptionYn",useAllOptionName:"useAllOptionName",dataKey:"dataKey",displayKey:"displayKey",displayWord:"displayWord",isInvalid:"isInvalid",disabled:"disabled",options:"options"},outputs:{onChange:"onChange"},features:[s.Bb([m])],decls:3,vars:6,consts:[[3,"compareWith","ngModel","disabled","ngModelChange"],[3,"ngValue",4,"ngIf"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(e,t){1&e&&(s.Wb(0,"select",0),s.fc("ngModelChange",(function(e){return t.selectItem(e)})),s.Nc(1,p,2,2,"option",1),s.Nc(2,h,2,2,"option",2),s.Vb()),2&e&&(s.pc("compareWith",t.compareFn)("ngModel",t.selectedOption)("disabled",t.disabled),s.Db("name",t.name),s.Cb(1),s.pc("ngIf",t.useAllOptionYn),s.Cb(1),s.pc("ngForOf",t.options))},directives:[n.y,n.r,n.u,b.o,b.n,n.v,n.A],encapsulation:2}),e})()}}]);