function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,o=!1,a=void 0;try{for(var c,s=e[Symbol.iterator]();!(i=(c=s.next()).done)&&(n.push(c.value),!t||n.length!==t);i=!0);}catch(r){o=!0,a=r}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(window.webpackJsonp=window.webpackJsonp||[]).push([[126],{XxRg:function(e,t,n){"use strict";n.r(t),n.d(t,"CONTAINERS",(function(){return rn})),n.d(t,"COMPONENTS",(function(){return ln})),n.d(t,"FlReservationListB2cTicketingModule",(function(){return un}));var i={};n.r(i),n.d(i,"initComponentStateAction",(function(){return x})),n.d(i,"loadDateRangeTypeListAction",(function(){return D})),n.d(i,"loadDateRangeTypeListSuccessAction",(function(){return V})),n.d(i,"loadBookingStatusListAction",(function(){return F})),n.d(i,"loadBookingStatusListSuccessAction",(function(){return w})),n.d(i,"loadFopCodeListAction",(function(){return E})),n.d(i,"loadFopCodeListSuccessAction",(function(){return _})),n.d(i,"loadPaymentStatusCodeListAction",(function(){return W})),n.d(i,"loadPaymentStatusCodeListSuccessAction",(function(){return $})),n.d(i,"loadTicketingStatusCodeListAction",(function(){return B})),n.d(i,"loadTicketingStatusCodeListSuccessAction",(function(){return Y})),n.d(i,"changeSearchConditionAction",(function(){return U})),n.d(i,"reloadList",(function(){return H})),n.d(i,"loadListAction",(function(){return M})),n.d(i,"loadListSuccessAction",(function(){return z})),n.d(i,"loadListFailureAction",(function(){return G})),n.d(i,"setGridStateAction",(function(){return K})),n.d(i,"setGridCheckStateAction",(function(){return Q})),n.d(i,"changePageIndex",(function(){return q})),n.d(i,"changePageSize",(function(){return X})),n.d(i,"openAssignPicPopup",(function(){return J})),n.d(i,"closeAssignPicPopup",(function(){return Z})),n.d(i,"updateAssignPicItems",(function(){return ee})),n.d(i,"updateAssignPicItemsSuccess",(function(){return te})),n.d(i,"openAutoStatusPopupAction",(function(){return ne})),n.d(i,"closeAutoStatusPopupAction",(function(){return ie})),n.d(i,"saveAutoStatusAction",(function(){return oe})),n.d(i,"saveAutoStatusSuccessAction",(function(){return ae})),n.d(i,"saveAutoStatusFailureAction",(function(){return ce})),n.d(i,"openUmsPopup",(function(){return se})),n.d(i,"closeUmsPopup",(function(){return re}));var o=n("ofXK"),a=n("3Pt+"),c=n("snw9"),s=n("kt0X"),r=n("vu/V"),l=n("7rOj"),u=n("6LsY"),d=n("l1P7"),p=n("v7zA"),b=n("hHe4"),g=n("5hwk"),f=n("kKjH"),m=n("qXPF"),h=n("1OXJ"),C=n("7UZF"),v=n("w8np"),k=n("YyVL"),y=n("a7NL"),S=n("tyNb"),O=n("XNiG"),j=n("itXk"),P=n("zP0r"),L=n("Kj3r"),T=n("pLZG"),A=n("1G5W"),R=n("LvDl"),N=n("wd/R"),I=n.n(N),x=Object(s.o)("[FlReservationListB2cTicketing] init component state"),D=Object(s.o)("[FlReservationListB2cTicketing] load date range type list",Object(s.t)()),V=Object(s.o)("[FlReservationListB2cTicketing] load date range type list success",Object(s.t)()),F=Object(s.o)("[FlReservationListB2cTicketing] load booking status list",Object(s.t)()),w=Object(s.o)("[FlReservationListB2cTicketing] load booking status list success",Object(s.t)()),E=Object(s.o)("[FlReservationListB2cTicketing] load fop code list",Object(s.t)()),_=Object(s.o)("[FlReservationListB2cTicketing] load fop code list success",Object(s.t)()),W=Object(s.o)("[FlReservationListB2cTicketing] load payment status code list",Object(s.t)()),$=Object(s.o)("[FlReservationListB2cTicketing] load payment status code list success",Object(s.t)()),B=Object(s.o)("[FlReservationListB2cTicketing] load ticketing status code list",Object(s.t)()),Y=Object(s.o)("[FlReservationListB2cTicketing] load ticketing status code list success",Object(s.t)()),U=Object(s.o)("[FlReservationListB2cTicketing] change search condition",Object(s.t)()),H=Object(s.o)("[FlReservationListB2cTicketing] reload grid data list"),M=Object(s.o)("[FlReservationListB2cTicketing] load list",Object(s.t)()),z=Object(s.o)("[FlReservationListB2cTicketing] load list success",Object(s.t)()),G=Object(s.o)("[FlReservationListB2cTicketing] load list failure",Object(s.t)()),K=Object(s.o)("[FlReservationListB2cTicketing] set grid state",Object(s.t)()),Q=Object(s.o)("[FlReservationListB2cTicketing] set grid check state",Object(s.t)()),q=Object(s.o)("[FlReservationListB2cTicketing] change page index",Object(s.t)()),X=Object(s.o)("[FlReservationListB2cTicketing] change page size",Object(s.t)()),J=Object(s.o)("[FlReservationListB2cTicketing] open assign pic popup"),Z=Object(s.o)("[FlReservationListB2cTicketing] close assign pic popup"),ee=Object(s.o)("[FlReservationListB2cTicketing/AssignPicUpdate] \uc77c\uad04\ubcc0\uacbd \ud31d\uc5c5\uc5d0\uc11c \uc800\uc7a5 \ubc84\ud2bc \ud074\ub9ad \uc561\uc158",Object(s.t)()),te=Object(s.o)("[FlReservationListB2cTicketing] update items success"),ne=Object(s.o)("[FlReservationListB2cTicketing] open auto status popup"),ie=Object(s.o)("[FlReservationListB2cTicketing] close auto status popup"),oe=Object(s.o)("[FlReservationListB2cTicketing] save auto status",Object(s.t)()),ae=Object(s.o)("[FlReservationListB2cTicketing] save auto status success",Object(s.t)()),ce=Object(s.o)("[FlReservationListB2cTicketing] save auto status failure",Object(s.t)()),se=Object(s.o)("[FlReservationListB2cTicketing] open ums popup"),re=Object(s.o)("[FlReservationListB2cTicketing] close ums popup"),le=n("EVqC"),ue="flReservationListB2cTicketingMain",de=Object(le.a)({selectId:function(e){return e.rowid},sortComparer:!1}),pe=de.getInitialState({dateRangeTypeList:null,bookingStatusList:null,continentList:null,fopCodeList:null,paymentStatusCodeList:null,ticketingStatusCodeList:null,loading:!1,reloadToggle:!1,searchCondition:null,otherSearchInfo:null,selectedCorporateCompCode:null,selectedRowInfo:null,isOpenAssignPicPopup:!1,isOpenAutoStatusPopup:!1,isOpenRefundCancelPopup:!1,isOpenUmsPopup:!1,gridDataTotal:null,gridState:{pageInfo:{skip:0,take:20},sortInfo:[]},gridCheckedState:null,gridSummary:null}),be=Object(s.q)(pe,Object(s.s)(i.initComponentStateAction,(function(e){return Object.assign(Object.assign({},e),{loading:!1,subLoading:!1})})),Object(s.s)(i.loadDateRangeTypeListSuccessAction,(function(e,t){var n=t.dataList;return Object.assign(Object.assign({},e),{dateRangeTypeList:n})})),Object(s.s)(i.loadBookingStatusListSuccessAction,(function(e,t){var n=t.dataList;return Object.assign(Object.assign({},e),{bookingStatusList:n})})),Object(s.s)(i.loadFopCodeListSuccessAction,(function(e,t){var n=t.dataList;return Object.assign(Object.assign({},e),{fopCodeList:n})})),Object(s.s)(i.loadPaymentStatusCodeListSuccessAction,(function(e,t){var n=t.dataList;return Object.assign(Object.assign({},e),{paymentStatusCodeList:n})})),Object(s.s)(i.loadTicketingStatusCodeListSuccessAction,(function(e,t){var n=t.dataList;return Object.assign(Object.assign({},e),{ticketingStatusCodeList:n})})),Object(s.s)(i.changeSearchConditionAction,(function(e,t){var n=t.condition,i=t.otherSearchInfo;return Object.assign(Object.assign({},e),{searchCondition:n,otherSearchInfo:i})})),Object(s.s)(i.reloadList,(function(e){return Object.assign(Object.assign({},e),{reloadToggle:!e.reloadToggle})})),Object(s.s)(i.loadListAction,(function(e){return Object.assign(Object.assign({},e),{loading:!0,selectedRowInfo:null})})),Object(s.s)(i.loadListSuccessAction,(function(e,t){var n=t.dataList,i=t.totalCount,o=t.summary;return de.setAll(n,Object.assign(Object.assign({},e),{loading:!1,gridDataTotal:i,gridSummary:o}))})),Object(s.s)(i.loadListFailureAction,(function(e){return Object.assign(Object.assign({},e),{loading:!1})})),Object(s.s)(i.setGridStateAction,(function(e,t){var n=t.gridState;return Object.assign(Object.assign({},e),{gridState:n})})),Object(s.s)(i.setGridCheckStateAction,(function(e,t){var n=t.gridCheckedState;return Object.assign(Object.assign({},e),{gridCheckedState:n})})),Object(s.s)(i.changePageIndex,(function(e,t){var n=t.pageIndex;return Object.assign(Object.assign({},e),{gridState:R.set(R.cloneDeep(e.gridState),["pageInfo","skip"],n)})})),Object(s.s)(i.changePageSize,(function(e,t){var n=t.pageSize;return Object.assign(Object.assign({},e),{gridState:R.set(R.cloneDeep(e.gridState),["pageInfo","take"],n)})})),Object(s.s)(i.openUmsPopup,(function(e){return Object.assign(Object.assign({},e),{isOpenUmsPopup:!0})})),Object(s.s)(i.closeUmsPopup,(function(e){return Object.assign(Object.assign({},e),{isOpenUmsPopup:!1})})),Object(s.s)(i.openAssignPicPopup,(function(e){return Object.assign(Object.assign({},e),{isOpenAssignPicPopup:!0})})),Object(s.s)(i.closeAssignPicPopup,(function(e){return Object.assign(Object.assign({},e),{isOpenAssignPicPopup:!1})})),Object(s.s)(i.openAutoStatusPopupAction,(function(e){return Object.assign(Object.assign({},e),{isOpenAutoStatusPopup:!0})})),Object(s.s)(i.closeAutoStatusPopupAction,(function(e){return Object.assign(Object.assign({},e),{isOpenAutoStatusPopup:!1})})),Object(s.s)(i.updateAssignPicItemsSuccess,(function(e){return Object.assign(Object.assign({},e),{reloadToggle:!e.reloadToggle})})));function ge(e,t){return Object(s.m)(_defineProperty({},ue,be))(e,t)}var fe,me,he=Object(s.p)("flReservationListB2cTicketing"),Ce=Object(s.r)(he,(function(e){return e[ue]})),ve=Object(s.r)(Ce,(function(e){return e.dateRangeTypeList})),ke=Object(s.r)(Ce,(function(e){return e.bookingStatusList})),ye=Object(s.r)(Ce,(function(e){return e.fopCodeList})),Se=Object(s.r)(Ce,(function(e){return e.ticketingStatusCodeList})),Oe=Object(s.r)(Ce,(function(e){return e.paymentStatusCodeList})),je=Object(s.r)(Ce,(function(e){return e.loading})),Pe=Object(s.r)(Ce,(function(e){return e.reloadToggle})),Le=Object(s.r)(Ce,(function(e){return e.searchCondition})),Te=Object(s.r)(Ce,(function(e){return e.otherSearchInfo})),Ae=de.getSelectors(Ce).selectAll,Re=Object(s.r)(Ce,(function(e){return e.gridDataTotal})),Ne=Object(s.r)(Ce,(function(e){return e.gridSummary})),Ie=Object(s.r)(Ce,(function(e){return e.gridState})),xe=Object(s.r)(Ce,(function(e){return e.gridCheckedState})),De=Object(s.r)(Ce,(function(e){return e.isOpenUmsPopup})),Ve=Object(s.r)(Ce,(function(e){return e.isOpenAssignPicPopup})),Fe=Object(s.r)(Ce,(function(e){return e.isOpenAutoStatusPopup})),we=Object(s.r)(Ce,(function(e){return e.isOpenRefundCancelPopup})),Ee=Object(s.r)(Ce,(function(e){return e.selectedRowInfo})),_e=Object(s.r)(Ie,(function(e){return R.get(e,["pageInfo","take"],20)})),We=n("YY+H"),$e=n("AytR").a.API_URL,Be={postCommonDetail:"".concat($e,"/common/detail-code"),postCommonComp:"".concat($e,"/common/comp"),postBasicContinent:"".concat($e,"/admin/basis/continent"),postBookingFlightList:"".concat($e,"/admin/booking/flight/list"),putAssignPicItems:"".concat($e,"/admin/booking/pic-assign"),putAutoStatus:"".concat($e,"/admin/booking/flight/auto-status"),putBookingStatus:"".concat($e,"/admin/booking/status"),excelDownload:"".concat($e,"/admin/booking/flight/excel")},Ye=n("fXoL"),Ue=n("pfiq"),He=n("LRne"),Me=n("z6cu"),ze=n("eIep"),Ge=n("tpT/"),Ke=((fe=function(){function e(t){_classCallCheck(this,e),this.api=t}return _createClass(e,[{key:"getCommonDetailCodeList",value:function(e){var t=R.assign({},this.api.defaultParams,{condition:e});return this.api.post(Be.postCommonDetail,t).pipe(Object(ze.a)((function(e){return e.succeedYn?Object(He.a)(e.result.list):Object(Me.a)(e||"api response error")})))}},{key:"getCommonComp",value:function(e){var t=R.assign({},this.api.defaultParams,{condition:e});return this.api.post(Be.postCommonComp,t).pipe(Object(ze.a)((function(e){return e.succeedYn?Object(He.a)(e.result.list):Object(Me.a)(e||"api response error")})))}},{key:"getContinentList",value:function(e){var t=R.assign({},this.api.defaultParams,{condition:e});return this.api.post(Be.postBasicContinent,t).pipe(Object(ze.a)((function(e){return e.succeedYn?Object(He.a)(e.result.list):Object(Me.a)(e||"api response error")})))}},{key:"getList",value:function(e){var t=this,n=R.assign({},this.api.defaultParams,{condition:e});return this.api.post(Be.postBookingFlightList,n).pipe(Object(ze.a)((function(e){if(e.succeedYn&&e.result){var n=t._addRowid(e.result.list),i=e.result.totalCount,o=e.result.summary;return Object(He.a)({list:n,totalCount:i,summary:o})}return Object(Me.a)(e||"api response error")})))}},{key:"putAutoStatus",value:function(e){var t=R.assign({},this.api.defaultParams,{condition:e});return this.api.put(Be.putAutoStatus,t).pipe(Object(ze.a)((function(e){var t;if(e.succeedYn){var n=null==e?void 0:e.result,i=n.autoTicketingStatusCode,o=n.autoTicketingStatusName,a=null===(t=null==e?void 0:e.result)||void 0===t?void 0:t.bookingItemCodes.map((function(e){return{id:e,bookingItemCode:e,autoTicketingStatusCode:i,autoTicketingStatusName:o}}));return Object(He.a)(a)}return Object(Me.a)(e||"api response error")})))}},{key:"putBookingStatus",value:function(e){var t=R.assign({},this.api.defaultParams,{condition:e});return this.api.put(Be.putBookingStatus,t).pipe(Object(ze.a)((function(e){var t;if(e.succeedYn){var n=null==e?void 0:e.result,i=n.bookingStatusCode,o=n.bookingStatusName,a=null===(t=null==e?void 0:e.result)||void 0===t?void 0:t.bookingItemCodes.map((function(e){return{id:e,bookingItemCode:e,bookingStatusCode:i,bookingStatusName:o}}));return Object(He.a)(a)}return Object(Me.a)(e||"api response error")})))}},{key:"putAssignPicItems",value:function(e){var t=R.assign({},this.api.defaultParams,{condition:e});return this.api.put(Be.putAssignPicItems,t).pipe(Object(ze.a)((function(e){return e.succeedYn?Object(He.a)(!0):Object(Me.a)(e||"api response error")})))}},{key:"_addRowid",value:function(e){return R.isNil(e)?[]:e.map((function(e,t){return Object.assign(Object.assign({},e),{rowid:String(t)})}))}}]),e}()).\u0275fac=function(e){return new(e||fe)(Ye.bc(Ge.a))},fe.\u0275prov=Ye.Mb({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe),Qe=n("6UzV"),qe=((me=_createClass((function e(t){var n=this;_classCallCheck(this,e),this.fb=t,this.generateGridColumns=function(){return[{field:"requestDatetime",title:"Request Date",style:{"text-align":"center"}},{field:"bookingItemCode",title:"Booking Item Code",template:"bookingItemCodeTpl",style:{"text-align":"center"}},{field:"gdsSubPnr",title:"PNR",style:{"text-align":"center"}},{field:"bookingStatusName",title:"Booking Status",style:{"text-align":"center"}},{field:"paymentStatusName",title:"C.Payment Status",style:{"text-align":"center"}},{field:"ticketingStatusName",title:"Issued Status",style:{"text-align":"center"}},{field:"autoTicketingStatusName",title:"Auto Tickeing Status",style:{"text-align":"center"}},{field:"gdsCompName",title:"GDS"},{field:"airlineCode",title:"Airline",style:{"text-align":"center"}},{field:"itinerary",title:"Itinerary"},{field:"clientCancelDeadline",title:"Client TL",style:{"text-align":"center"}},{field:"fareCancelDeadline",title:"Fare TL",template:"fareCancelDeadlineTpl",style:{"text-align":"center"}},{field:"airlineCancelDeadline",title:"Airline TL",template:"airlineCancelDeadlineTpl",style:{"text-align":"center"}},{field:"salesNetAmount",title:"Sales Net",format:"currency",style:{"text-align":"right"}},{field:"salesTaxAmount",title:"Sales Tax",format:"currency",style:{"text-align":"right"}},{field:"fopName",title:"FOP"},{field:"departureDatetime",title:"Departure Date",format:"dateTime",style:{"text-align":"center"}},{field:"lastTicketingPicName",title:"TKT PIC"}]},this.generateListSearchForm=function(){return n.fb.group({searchTypeCode:[null],dateRange1:n.fb.group({rangeType:[null],dates:n.fb.array([new a.g(null,[a.z.required]),new a.g(null,[a.z.required])])},{validators:[Qe.a.compareDatesValidators("rangeCompare",[["dates",0],["dates",1]])]}),dateRange2:n.fb.group({rangeType:[null],dates:n.fb.array([new a.g(null),new a.g(null)])},{validators:[Qe.a.compareDatesValidators("rangeCompare",[["dates",0],["dates",1]])]}),lastTicketingPicUno:[null],bookingCode:[null],bookingItemCode:[null],gdsSubPnr:[null],airlinePnr:[null],bookerName:[null],bookerId:[null],travelerName:[null],ticketNo:[null],bookerMobileNo:[null],authCode:[null],promotionSeq:[null],deviceTypeCode:[null],bookingStatusCodes:[null],domesticYn:[null],autoTicketingStatusCodes:[null],requestStatusCodes:[null],controlBranchCode:[null],bookerCompCodes:[null],ticketingStatusCode:[null],paymentStatusCode:[null],destinationContinentCodes:[null],viaAirportCode:[null],airlineCodes:[null,[Qe.a.airlineCodesStringValidator]],fopCode:[null],paymentEvidenceAttachedYn:[null],fareEvidenceAttachedYn:[null],evidenceNeededYn:[null],beforePayTicketingYn:[null]})},this.initSearchFormData=function(){return{searchTypeCode:"BFT01",dateRange1:{rangeType:"FDA01",dates:[N().add(-1,"weeks").format("YYYY-MM-DD"),N().format("YYYY-MM-DD")]},dateRange2:{rangeType:"FDA02",dates:[null,null]},lastTicketingPicUno:null,bookingCode:null,bookingItemCode:null,gdsSubPnr:null,airlinePnr:null,bookerName:null,bookerId:null,travelerName:null,ticketNo:null,bookerMobileNo:null,authCode:null,promotionSeq:null,deviceTypeCode:null,bookingStatusCodes:null,domesticYn:null,autoTicketingStatusCodes:null,requestStatusCodes:null,ticketingStatusCode:null,paymentStatusCode:null,airlineCodes:null,fopCode:null,paymentEvidenceAttachedYn:null,fareEvidenceAttachedYn:null,evidenceNeededYn:null,beforePayTicketingYn:null}},this.initSearchCondition=function(){return{searchTypeCode:null,dateRange1:{rangeType:null,dates:null},dateRange2:{rangeType:null,dates:null},lastTicketingPicUno:null,bookingCode:null,bookingItemCode:null,gdsSubPnr:null,airlinePnr:null,bookerName:null,bookerId:null,travelerName:null,ticketNo:null,bookerMobileNo:null,authCode:null,promotionSeq:null,stationTypeCode:null,deviceTypeCode:null,bookingStatusCodes:null,domesticYn:null,autoTicketingStatusCodes:null,requestStatusCodes:null,ticketingStatusCode:null,paymentStatusCode:null,airlineCodes:null,fopCode:null,paymentEvidenceAttachedYn:null,fareEvidenceAttachedYn:null,evidenceNeededYn:null,beforePayTicketingYn:null,sortOrder:null,limits:null}},this.generateAssignPicPutForm=function(){return n.fb.group({itemCategoryCode:[null],picTypeCode:[null],picUno:[null],picName:[null]})},this.initAssignPicPutForm=function(){return{itemCategoryCode:"IC01",picTypeCode:"PIC04",picUno:null,picName:null}}}))).\u0275fac=function(e){return new(e||me)(Ye.bc(a.f))},me.\u0275prov=Ye.Mb({token:me,factory:me.\u0275fac,providedIn:"root"}),me),Xe=n("+Sob"),Je=n("nMd8"),Ze=n("rbKv"),et=n("kd+X"),tt=n("LVFn"),nt=n("U6NN"),it=n("gbCm"),ot=n("0xcq");function at(e,t){1&e&&Ye.Rb(0,"app-input-text",46)}function ct(e,t){1&e&&Ye.Rb(0,"app-input-text",47)}function st(e,t){1&e&&Ye.Rb(0,"app-input-text",48)}function rt(e,t){1&e&&Ye.Rb(0,"app-input-text",49)}function lt(e,t){1&e&&Ye.Rb(0,"app-input-text",50)}function ut(e,t){1&e&&Ye.Rb(0,"app-input-text",51)}function dt(e,t){1&e&&Ye.Rb(0,"app-input-text",52)}function pt(e,t){1&e&&Ye.Rb(0,"app-input-text",53)}function bt(e,t){1&e&&Ye.Rb(0,"app-input-text",54)}function gt(e,t){1&e&&Ye.Rb(0,"app-input-text",55)}function ft(e,t){1&e&&Ye.Rb(0,"app-input-text",56)}var mt,ht,Ct,vt,kt=function(){return{standalone:!0}},yt=function(){return{userTypeCode:"U01"}},St=function(){return["userNo","name","deptName","positionName"]},Ot=((mt=function(){function e(t,n){_classCallCheck(this,e),this.fb=t,this._dataService=n,this.clickSearchEvent=new Ye.n,this.clickResetEvent=new Ye.n,this.isShowmore=!1,this.searchForm=n.generateListSearchForm()}return _createClass(e,[{key:"dateRangeTypeList",get:function(){return this._dataRangeTypeList},set:function(e){this._dataRangeTypeList=e,this._initDateRangeList(e)}},{key:"searchCondition",get:function(){return this._searchCondition},set:function(e){this._searchCondition=e,this.searchFormData=this._setSearchFormData(e),this._initDateRangeList(this.dateRangeTypeList)}},{key:"otherSearchInfo",get:function(){return this._otherSearchInfo},set:function(e){this._otherSearchInfo=e,this._setOtherSearchInfo(e)}},{key:"searchFormValid",get:function(){return this.searchForm.valid}},{key:"dateRange1Dates",get:function(){return this.searchForm.get("dateRange1").get("dates").value}},{key:"dateRange2Dates",get:function(){return this.searchForm.get("dateRange2").get("dates").value}},{key:"formValue",get:function(){return this.searchForm&&this.searchForm.value}},{key:"ngOnInit",value:function(){this._initState()}},{key:"ngOnDestroy",value:function(){}},{key:"checkIsInvalidDateRange",value:function(e){var t;return this._checkValid&&(!0===(null===(t=e.errors)||void 0===t?void 0:t.rangeCompare)||e.invalid)}},{key:"checkIsInvalid",value:function(e){return this._checkValid&&this.searchForm.get(e)&&this.searchForm.get(e).invalid}},{key:"onSubmit",value:function(){if(this.searchForm.invalid)this._checkValid=!0;else{var e=this.setSearchCondition(),t=this._setOtherSearchCondition();this.clickSearchEvent.emit({searchCondition:e,otherSearchInfo:t}),this._checkValid=!1}}},{key:"onReset",value:function(){this.clickResetEvent.emit()}},{key:"setSearchCondition",value:function(){var e=this._dataService.initSearchCondition(),t=Object.assign({},R.pick(this.searchForm.value,Object.keys(e)));return R.omitBy(t,R.isNil)}},{key:"onChangerangeType1",value:function(e){var t=e.value;this.dateRangeTypeList2=this.dateRangeTypeList.filter((function(e){return e.detailCode!==t})),this.searchForm.get("dateRange2").get("rangeType").setValue(this.dateRangeTypeList2[0].detailCode)}},{key:"onChangeTextSearchType",value:function(e){var t=e.value,n=this.searchForm.get(this.selectedCodeTypeDropdown).value,i={bookingCode:null,bookingItemCode:null,gdsSubPnr:null,airlinePnr:null,bookerName:null,bookerId:null,travelerName:null,ticketNo:null,bookerMobileNo:null,authCode:null,promotionSeq:null};i[t]=n,this.searchForm.patchValue(i),this.selectedCodeTypeDropdown=t}},{key:"_setSearchFormData",value:function(e){var t=this._dataService.initSearchFormData();return Object.assign({},t,R.pick(e,Object.keys(t)))}},{key:"_setOtherSearchInfo",value:function(e){this.selectedCodeTypeDropdown=(null==e?void 0:e.selectedCodeTypeDropdown)||"bookingCode",this.lastTicketingPicInput=(null==e?void 0:e.lastTicketingPicInput)||null}},{key:"_setOtherSearchCondition",value:function(){var e={selectedCodeTypeDropdown:this.selectedCodeTypeDropdown};return this.autoCopmpletes.forEach((function(t){Object.assign(e,t.getInputValue())})),e}},{key:"_initDateRangeList",value:function(e){var t,n,i=null===(n=null===(t=this.searchCondition)||void 0===t?void 0:t.dateRange1)||void 0===n?void 0:n.rangeType;this.dateRangeTypeList2=null==e?void 0:e.filter((function(e){return e.detailCode!==i}))}},{key:"_initState",value:function(){this.useYnOptions=[{value:!0,label:"Y"},{value:!1,label:"N"}],this.codeTypeOptions=[{label:"Booking Code",value:"bookingCode"},{label:"Booking Item Code",value:"bookingItemCode"},{label:"GDS PNR",value:"gdsSubPnr"},{label:"Airline PNR",value:"airlinePnr"},{label:"Booker",value:"bookerName"},{label:"BookerID",value:"bookerId"},{label:"Traveler",value:"travelerName"},{label:"Ticket No.",value:"ticketNo"},{label:"Mobile No.",value:"bookerMobileNo"}],this.domesticOptions=[{value:!1,label:"International"},{value:!0,label:"Domestic"}]}}]),e}()).\u0275fac=function(e){return new(e||mt)(Ye.Qb(a.f),Ye.Qb(qe))},mt.\u0275cmp=Ye.Kb({type:mt,selectors:[["app-fl-reservation-list-b2c-ticketing-search"]],viewQuery:function(e,t){var n;1&e&&Ye.Xc(Ue.a,!0),2&e&&Ye.Dc(n=Ye.gc())&&(t.autoCopmpletes=n)},inputs:{dateRangeTypeList:"dateRangeTypeList",bookingStatusList:"bookingStatusList",fopCodeList:"fopCodeList",paymentStatusCodeList:"paymentStatusCodeList",ticketingStatusCodeList:"ticketingStatusCodeList",searchCondition:"searchCondition",otherSearchInfo:"otherSearchInfo"},outputs:{clickSearchEvent:"clickSearchEvent",clickResetEvent:"clickResetEvent"},decls:89,vars:62,consts:[[1,"grid-search-box","multi",3,"formGroup","connectForm","ngSubmit"],[1,"form-option-area"],[1,"row"],["formGroupName","dateRange1",1,"col-2","flex-shrink1"],["formControlName","rangeType","dataKey","detailCode","displayWord","detailCodeName",1,"d-inline-flex","flex-shrink-0",3,"options","useAllOptionYn","onChange"],["formArrayName","dates",1,"calendar-set","flex-fill"],[1,"input","calendar","d-inline-flex","flex-fill"],[3,"for"],["type","text",3,"matDatepicker","formControlName"],["fromDate1",""],[1,"dash"],["type","text",3,"matDatepicker","min","formControlName"],["toDate1",""],["formGroupName","dateRange2",1,"col-2","flex-shrink1"],["formControlName","rangeType","dataKey","detailCode","displayWord","detailCodeName",1,"d-inline-flex","flex-shrink-0",3,"options","useAllOptionYn"],["type","text","placeholder","yyyy-mm-dd",3,"matDatepicker","formControlName"],["fromDate2",""],["type","text","placeholder","yyyy-mm-dd",3,"matDatepicker","min","formControlName"],["toDate2",""],[1,"col-1"],[1,"d-inline-flex","flex-shrink-0","mr5",3,"options","ngModel","ngModelOptions","useAllOptionYn","onChange"],[3,"ngSwitch"],["formControlName","bookingCode","class","d-inline flex-fill","valueType","string",4,"ngSwitchCase"],["formControlName","bookingItemCode","class","d-inline flex-fill","valueType","string",4,"ngSwitchCase"],["formControlName","gdsSubPnr","class","d-inline flex-fill","valueType","string",4,"ngSwitchCase"],["formControlName","airlinePnr","class","d-inline flex-fill","valueType","string",4,"ngSwitchCase"],["formControlName","bookerName","class","d-inline flex-fill","valueType","string",4,"ngSwitchCase"],["formControlName","bookerId","class","d-inline flex-fill","placeholder","","valueType","string",4,"ngSwitchCase"],["formControlName","travelerName","class","d-inline flex-fill","valueType","string",4,"ngSwitchCase"],["formControlName","ticketNo","class","d-inline flex-fill","placeholder","","valueType","string",4,"ngSwitchCase"],["formControlName","bookerMobileNo","class","d-inline flex-fill","valueType","string",4,"ngSwitchCase"],["formControlName","authCode","class","d-inline flex-fill","valueType","string",4,"ngSwitchCase"],["formControlName","promotionSeq","class","d-inline flex-fill","valueType","number",4,"ngSwitchCase"],[1,"form-label"],["formControlName","airlineCodes","placeholder","e.g. KE","inputFormat","upperCase",1,"d-inline-flex","flex-fill",3,"isInvalid"],["formControlName","bookingStatusCodes","dataKey","detailCode","displayWord","detailCodeName",1,"d-inline-flex","flex-fill",3,"options","useAllOptionYn"],["formControlName","paymentStatusCode","dataKey","detailCode","displayWord","detailCodeName",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","ticketingStatusCode","dataKey","detailCode","displayWord","detailCodeName",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","evidenceNeededYn",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","fopCode","dataKey","detailCode","displayKey","detailCodeNameEn",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","domesticYn",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","lastTicketingPicUno","apiUrl","admin/common/staff","dataKey","userNo","inputFieldFormat","{0}-{1}&,{2}&,{3}","placeholder","Name",1,"d-inline-flex","flex-fill",3,"inputFieldValue","inputId","apiSearchTerm","apiCondition","inputFieldFormatKeyList"],[1,"form-button-area"],["type","submit","role","button",1,"btn","btn-primary","sm"],["type","button","role","button",1,"btn","btn-reset","sm",3,"click"],[1,"btn-searchbox-extend",3,"click"],["formControlName","bookingCode","valueType","string",1,"d-inline","flex-fill"],["formControlName","bookingItemCode","valueType","string",1,"d-inline","flex-fill"],["formControlName","gdsSubPnr","valueType","string",1,"d-inline","flex-fill"],["formControlName","airlinePnr","valueType","string",1,"d-inline","flex-fill"],["formControlName","bookerName","valueType","string",1,"d-inline","flex-fill"],["formControlName","bookerId","placeholder","","valueType","string",1,"d-inline","flex-fill"],["formControlName","travelerName","valueType","string",1,"d-inline","flex-fill"],["formControlName","ticketNo","placeholder","","valueType","string",1,"d-inline","flex-fill"],["formControlName","bookerMobileNo","valueType","string",1,"d-inline","flex-fill"],["formControlName","authCode","valueType","string",1,"d-inline","flex-fill"],["formControlName","promotionSeq","valueType","number",1,"d-inline","flex-fill"]],template:function(e,t){if(1&e&&(Ye.Wb(0,"form",0),Ye.fc("ngSubmit",(function(){return t.onSubmit()})),Ye.Wb(1,"div",1),Ye.Wb(2,"div",2),Ye.Wb(3,"div",3),Ye.Wb(4,"app-selectbox-detailcode",4),Ye.fc("onChange",(function(e){return t.onChangerangeType1(e)})),Ye.Vb(),Ye.Wb(5,"div",5),Ye.Wb(6,"div",6),Ye.Rb(7,"mat-datepicker-toggle",7),Ye.Rb(8,"input",8),Ye.Rb(9,"mat-datepicker",null,9),Ye.Vb(),Ye.Wb(11,"span",10),Ye.Pc(12,"~"),Ye.Vb(),Ye.Wb(13,"div",6),Ye.Rb(14,"mat-datepicker-toggle",7),Ye.Rb(15,"input",11),Ye.Rb(16,"mat-datepicker",null,12),Ye.Vb(),Ye.Vb(),Ye.Vb(),Ye.Wb(18,"div",13),Ye.Rb(19,"app-selectbox-detailcode",14),Ye.Wb(20,"div",5),Ye.Wb(21,"div",6),Ye.Rb(22,"mat-datepicker-toggle",7),Ye.Rb(23,"input",15),Ye.Rb(24,"mat-datepicker",null,16),Ye.Vb(),Ye.Wb(26,"span",10),Ye.Pc(27,"~"),Ye.Vb(),Ye.Wb(28,"div",6),Ye.Rb(29,"mat-datepicker-toggle",7),Ye.Rb(30,"input",17),Ye.Rb(31,"mat-datepicker",null,18),Ye.Vb(),Ye.Vb(),Ye.Vb(),Ye.Vb(),Ye.Wb(33,"div",2),Ye.Wb(34,"div",19),Ye.Wb(35,"app-selectbox",20),Ye.fc("onChange",(function(e){return t.onChangeTextSearchType(e)})),Ye.Vb(),Ye.Ub(36,21),Ye.Nc(37,at,1,0,"app-input-text",22),Ye.Nc(38,ct,1,0,"app-input-text",23),Ye.Nc(39,st,1,0,"app-input-text",24),Ye.Nc(40,rt,1,0,"app-input-text",25),Ye.Nc(41,lt,1,0,"app-input-text",26),Ye.Nc(42,ut,1,0,"app-input-text",27),Ye.Nc(43,dt,1,0,"app-input-text",28),Ye.Nc(44,pt,1,0,"app-input-text",29),Ye.Nc(45,bt,1,0,"app-input-text",30),Ye.Nc(46,gt,1,0,"app-input-text",31),Ye.Nc(47,ft,1,0,"app-input-text",32),Ye.Tb(),Ye.Vb(),Ye.Wb(48,"div",19),Ye.Wb(49,"span",33),Ye.Pc(50,"Airline"),Ye.Vb(),Ye.Rb(51,"app-input-text",34),Ye.Vb(),Ye.Wb(52,"div",19),Ye.Wb(53,"span",33),Ye.Pc(54,"Booking Status"),Ye.Vb(),Ye.Rb(55,"app-multi-select-detailcode",35),Ye.Vb(),Ye.Wb(56,"div",19),Ye.Wb(57,"span",33),Ye.Pc(58,"C.Payment Status"),Ye.Vb(),Ye.Rb(59,"app-selectbox-detailcode",36),Ye.Vb(),Ye.Vb(),Ye.Wb(60,"div",2),Ye.Wb(61,"div",19),Ye.Wb(62,"span",33),Ye.Pc(63,"Issued Status"),Ye.Vb(),Ye.Rb(64,"app-selectbox-detailcode",37),Ye.Vb(),Ye.Wb(65,"div",19),Ye.Wb(66,"span",33),Ye.Pc(67,"Evidence Needed YN"),Ye.Vb(),Ye.Rb(68,"app-selectbox",38),Ye.Vb(),Ye.Wb(69,"div",19),Ye.Wb(70,"span",33),Ye.Pc(71,"FOP"),Ye.Vb(),Ye.Rb(72,"app-selectbox",39),Ye.Vb(),Ye.Wb(73,"div",19),Ye.Wb(74,"span",33),Ye.Pc(75,"I/D"),Ye.Vb(),Ye.Rb(76,"app-selectbox",40),Ye.Vb(),Ye.Vb(),Ye.Wb(77,"div",2),Ye.Wb(78,"div",19),Ye.Wb(79,"span",33),Ye.Pc(80,"Ticketing PIC"),Ye.Vb(),Ye.Rb(81,"app-auto-complete",41),Ye.Vb(),Ye.Vb(),Ye.Vb(),Ye.Wb(82,"div",42),Ye.Wb(83,"button",43),Ye.Pc(84,"Search"),Ye.Vb(),Ye.Wb(85,"button",44),Ye.fc("click",(function(){return t.onReset()})),Ye.Pc(86,"Reset"),Ye.Vb(),Ye.Wb(87,"a",45),Ye.fc("click",(function(){return t.isShowmore=!t.isShowmore})),Ye.Pc(88,"\uac80\uc0c9 \uc635\uc158 \ub354\ubcf4\uae30"),Ye.Vb(),Ye.Vb(),Ye.Vb()),2&e){var n=Ye.Ec(10),i=Ye.Ec(17),o=Ye.Ec(25),a=Ye.Ec(32);Ye.pc("formGroup",t.searchForm)("connectForm",t.searchFormData),Ye.Cb(4),Ye.pc("options",t.dateRangeTypeList)("useAllOptionYn",!1),Ye.Cb(1),Ye.Gb("valid-error",t.checkIsInvalidDateRange(t.searchForm.get("dateRange1"))),Ye.Cb(2),Ye.pc("for",n),Ye.Cb(1),Ye.pc("matDatepicker",n)("formControlName",0),Ye.Cb(6),Ye.pc("for",i),Ye.Cb(1),Ye.pc("matDatepicker",i)("min",t.dateRange1Dates[0])("formControlName",1),Ye.Cb(4),Ye.pc("options",t.dateRangeTypeList2)("useAllOptionYn",!1),Ye.Cb(1),Ye.Gb("valid-error",t.checkIsInvalidDateRange(t.searchForm.get("dateRange2"))),Ye.Cb(2),Ye.pc("for",o),Ye.Cb(1),Ye.pc("matDatepicker",o)("formControlName",0),Ye.Cb(6),Ye.pc("for",a),Ye.Cb(1),Ye.pc("matDatepicker",a)("min",t.dateRange2Dates[0])("formControlName",1),Ye.Cb(5),Ye.pc("options",t.codeTypeOptions)("ngModel",t.selectedCodeTypeDropdown)("ngModelOptions",Ye.tc(59,kt))("useAllOptionYn",!1),Ye.Cb(1),Ye.pc("ngSwitch",t.selectedCodeTypeDropdown),Ye.Cb(1),Ye.pc("ngSwitchCase","bookingCode"),Ye.Cb(1),Ye.pc("ngSwitchCase","bookingItemCode"),Ye.Cb(1),Ye.pc("ngSwitchCase","gdsSubPnr"),Ye.Cb(1),Ye.pc("ngSwitchCase","airlinePnr"),Ye.Cb(1),Ye.pc("ngSwitchCase","bookerName"),Ye.Cb(1),Ye.pc("ngSwitchCase","bookerId"),Ye.Cb(1),Ye.pc("ngSwitchCase","travelerName"),Ye.Cb(1),Ye.pc("ngSwitchCase","ticketNo"),Ye.Cb(1),Ye.pc("ngSwitchCase","bookerMobileNo"),Ye.Cb(1),Ye.pc("ngSwitchCase","authCode"),Ye.Cb(1),Ye.pc("ngSwitchCase","promotionSeq"),Ye.Cb(4),Ye.pc("isInvalid",t.checkIsInvalid("airlineCodes")),Ye.Cb(4),Ye.pc("options",t.bookingStatusList)("useAllOptionYn",!0),Ye.Cb(4),Ye.pc("options",t.paymentStatusCodeList),Ye.Cb(1),Ye.Gb("hide",!t.isShowmore),Ye.Cb(4),Ye.pc("options",t.ticketingStatusCodeList),Ye.Cb(4),Ye.pc("options",t.useYnOptions),Ye.Cb(4),Ye.pc("options",t.fopCodeList),Ye.Cb(4),Ye.pc("options",t.domesticOptions),Ye.Cb(1),Ye.Gb("hide",!t.isShowmore),Ye.Cb(4),Ye.pc("inputFieldValue",t.lastTicketingPicInput)("inputId","lastTicketingPicInput")("apiSearchTerm","name")("apiCondition",Ye.tc(60,yt))("inputFieldFormatKeyList",Ye.tc(61,St)),Ye.Cb(6),Ye.Gb("active",t.isShowmore)}},directives:[a.B,a.s,a.k,Xe.a,a.l,Je.a,a.r,a.i,a.e,Ze.a,et.a,a.c,tt.a,nt.a,a.u,o.q,o.r,it.a,ot.a,Ue.a],encapsulation:2,changeDetection:0}),mt),jt=n("EsKh"),Pt=((Ct=function(){function e(t){_classCallCheck(this,e),this.alertService=t,this.changePageSizeEvent=new Ye.n,this.clickViewBookingsEvent=new Ye.n,this.clickAssignPicEvent=new Ye.n,this.clickUmsEvent=new Ye.n,this.clickAutoStatusEvent=new Ye.n,this.excelDownloadEvent=new Ye.n,this.pageSizeOptions=[{label:"20",value:20},{label:"40",value:40},{label:"60",value:60},{label:"80",value:80},{label:"100",value:100}]}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onChangePageSize",value:function(e){this.changePageSizeEvent.emit(e.value)}},{key:"onClickViewBookings",value:function(){this.clickViewBookingsEvent.emit()}},{key:"onClickAutoStatus",value:function(){this.clickAutoStatusEvent.emit()}},{key:"onClickUMS",value:function(){this.clickUmsEvent.emit()}},{key:"onClickAssignPic",value:function(){this.clickAssignPicEvent.emit()}},{key:"onClickExcel",value:function(){this.excelDownloadEvent.emit()}}]),e}()).\u0275fac=function(e){return new(e||Ct)(Ye.Qb(jt.a))},Ct.\u0275cmp=Ye.Kb({type:Ct,selectors:[["app-fl-reservation-list-b2c-ticketing-control"]],inputs:{loading:"loading",currentPageSize:"currentPageSize",totalCount:"totalCount"},outputs:{changePageSizeEvent:"changePageSizeEvent",clickViewBookingsEvent:"clickViewBookingsEvent",clickAssignPicEvent:"clickAssignPicEvent",clickUmsEvent:"clickUmsEvent",clickAutoStatusEvent:"clickAutoStatusEvent",excelDownloadEvent:"excelDownloadEvent"},decls:9,vars:4,consts:[[1,"grid-control-area"],[1,"grid-count",2,"min-width","30px"],[1,"ml-auto","d-inline-flex","flex-glow-0"],[1,"btn","btn-outline-dark","sm","d-inline-flex","flex-glow-0",3,"click"],[1,"sm","d-inline-flex","flex-glow-0","sm",3,"options","ngModel","useAllOptionYn","onChange"]],template:function(e,t){1&e&&(Ye.Wb(0,"div",0),Ye.Wb(1,"strong",1),Ye.Pc(2),Ye.Vb(),Ye.Wb(3,"div",2),Ye.Wb(4,"button",3),Ye.fc("click",(function(){return t.onClickAssignPic()})),Ye.Pc(5,"Assign Ticketing PIC"),Ye.Vb(),Ye.Wb(6,"button",3),Ye.fc("click",(function(){return t.onClickExcel()})),Ye.Pc(7,"Excel"),Ye.Vb(),Ye.Wb(8,"app-selectbox",4),Ye.fc("onChange",(function(e){return t.onChangePageSize(e)})),Ye.Vb(),Ye.Vb(),Ye.Vb()),2&e&&(Ye.Cb(2),Ye.Qc(t.loading?"":t.totalCount),Ye.Cb(6),Ye.pc("options",t.pageSizeOptions)("ngModel",t.currentPageSize)("useAllOptionYn",!1))},directives:[nt.a,a.r,a.u],encapsulation:2,changeDetection:0}),Ct),Lt=((ht=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||ht)},ht.\u0275cmp=Ye.Kb({type:ht,selectors:[["app-fl-reservation-list-b2c-ticketing-summary"]],inputs:{summary:"summary"},decls:68,vars:30,consts:[[1,"table","table-bordered","mt30"],["width","10%"],["scope","row",1,"th-bg"]],template:function(e,t){1&e&&(Ye.Wb(0,"div",0),Ye.Wb(1,"table"),Ye.Wb(2,"caption"),Ye.Pc(3," \ud56d\uacf5 \ubc1c\uad8c\uc608\uc57d\uc870\ud68c summary "),Ye.Vb(),Ye.Wb(4,"colgroup"),Ye.Rb(5,"col",1),Ye.Rb(6,"col",1),Ye.Rb(7,"col",1),Ye.Rb(8,"col",1),Ye.Rb(9,"col",1),Ye.Rb(10,"col",1),Ye.Rb(11,"col",1),Ye.Rb(12,"col",1),Ye.Rb(13,"col",1),Ye.Rb(14,"col",1),Ye.Vb(),Ye.Wb(15,"tbody"),Ye.Wb(16,"tr"),Ye.Wb(17,"th",2),Ye.Pc(18,"\ucd1d \uac74\uc218"),Ye.Vb(),Ye.Wb(19,"td"),Ye.Pc(20),Ye.ic(21,"number"),Ye.Vb(),Ye.Wb(22,"th",2),Ye.Pc(23,"\ucd1d \uc778\uc6d0"),Ye.Vb(),Ye.Wb(24,"td"),Ye.Pc(25),Ye.ic(26,"number"),Ye.Vb(),Ye.Wb(27,"th",2),Ye.Pc(28,"\ucd1d \ud310\ub9e4 \ud569\uacc4"),Ye.Vb(),Ye.Wb(29,"td"),Ye.Pc(30),Ye.ic(31,"number"),Ye.Vb(),Ye.Wb(32,"th",2),Ye.Pc(33,"\ud310\ub9e4NET"),Ye.Vb(),Ye.Wb(34,"td"),Ye.Pc(35),Ye.ic(36,"number"),Ye.Vb(),Ye.Wb(37,"th",2),Ye.Pc(38,"\ud310\ub9e4TAX"),Ye.Vb(),Ye.Wb(39,"td"),Ye.Pc(40),Ye.ic(41,"number"),Ye.Vb(),Ye.Vb(),Ye.Wb(42,"tr"),Ye.Wb(43,"th",2),Ye.Pc(44,"\ubc1c\uad8c TASF \ud569\uacc4"),Ye.Vb(),Ye.Wb(45,"td"),Ye.Pc(46),Ye.ic(47,"number"),Ye.Vb(),Ye.Wb(48,"th",2),Ye.Pc(49,"\uc218\uc785\ucef4"),Ye.Vb(),Ye.Wb(50,"td"),Ye.Pc(51),Ye.ic(52,"number"),Ye.Vb(),Ye.Wb(53,"th",2),Ye.Pc(54,"\ud560\uc778/\ud560\uc99d\uae08\uc561"),Ye.Vb(),Ye.Wb(55,"td"),Ye.Pc(56),Ye.ic(57,"number"),Ye.Vb(),Ye.Wb(58,"th",2),Ye.Pc(59,"\uc9c0\uae09\ucef4"),Ye.Vb(),Ye.Wb(60,"td"),Ye.Pc(61),Ye.ic(62,"number"),Ye.Vb(),Ye.Wb(63,"th",2),Ye.Pc(64,"\uc21c\uc218\uc775"),Ye.Vb(),Ye.Wb(65,"td"),Ye.Pc(66),Ye.ic(67,"number"),Ye.Vb(),Ye.Vb(),Ye.Vb(),Ye.Vb(),Ye.Vb()),2&e&&(Ye.Cb(20),Ye.Qc(Ye.jc(21,10,null==t.summary?null:t.summary.sumItemCount)),Ye.Cb(5),Ye.Qc(Ye.jc(26,12,null==t.summary?null:t.summary.sumPaxCount)),Ye.Cb(5),Ye.Qc(Ye.jc(31,14,null==t.summary?null:t.summary.sumAmount)),Ye.Cb(5),Ye.Qc(Ye.jc(36,16,null==t.summary?null:t.summary.sumNetAmount)),Ye.Cb(5),Ye.Qc(Ye.jc(41,18,null==t.summary?null:t.summary.sumTaxAmount)),Ye.Cb(6),Ye.Qc(Ye.jc(47,20,null==t.summary?null:t.summary.sumTasfAmount)),Ye.Cb(5),Ye.Qc(Ye.jc(52,22,null==t.summary?null:t.summary.sumAirlineCommAmount)),Ye.Cb(5),Ye.Qc(Ye.jc(57,24,null==t.summary?null:t.summary.sumDiscountUpsellAmount)),Ye.Cb(5),Ye.Qc(Ye.jc(62,26,null==t.summary?null:t.summary.sumAgencyCommAmount)),Ye.Cb(5),Ye.Qc(Ye.jc(67,28,null==t.summary?null:t.summary.sumRevenueAmount)))},pipes:[o.f],encapsulation:2,changeDetection:0}),ht),Tt=function(){return{userTypeCode:"U01"}},At=function(){return["userNo","name","deptName","positionName"]},Rt=((vt=function(){function e(t){_classCallCheck(this,e),this._dataService=t,this.submitEvent=new Ye.n,this.closeEvent=new Ye.n,this._$unsubscribe=new O.a,this.putForm=t.generateAssignPicPutForm(),this.putFormData=t.initAssignPicPutForm()}return _createClass(e,[{key:"loginUser",get:function(){return this._loginUser},set:function(e){if(e){this.picInput="".concat(e.userNo,"-").concat(e.name).concat(e.deptName?",".concat(e.deptName):"").concat(e.positionName?",".concat(e.positionName):"");var t=this._dataService.initAssignPicPutForm();this.putFormData=Object.assign(Object.assign({},t),{picUno:e.userNo,picName:e.name})}}},{key:"ngOnInit",value:function(){this._initThisState(),this._initSubscription()}},{key:"ngOnDestroy",value:function(){this._$unsubscribe.next(),this._$unsubscribe.complete()}},{key:"onSubmit",value:function(){if(this.putForm.invalid)this.checkValid=!0;else{var e=this._setPutCondition(this.putForm.getRawValue());this.submitEvent.emit(e)}}},{key:"onClose",value:function(){this.closeEvent.emit()}},{key:"checkIsInvalid",value:function(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}},{key:"onSelectBookingPicUno",value:function(e){this.putForm.get("picName").setValue(e.name)}},{key:"_initThisState",value:function(){this.checkValid=!1}},{key:"_setPutCondition",value:function(e){return{list:this.checkedList.reduce((function(t,n){var i=n.bookingItemCode;return R.isNil(n.firstTicketingPicUno)&&t.push({bookingItemCode:i,itemCategoryCode:"IC01",picTypeCode:"PIC03",picUno:e.picUno,picName:e.picName}),t.push(Object.assign(Object.assign({},e),{bookingItemCode:i})),t}),[])}}},{key:"_initSubscription",value:function(){var e=this;this.putForm.get("picUno").valueChanges.pipe(Object(A.a)(this._$unsubscribe)).subscribe((function(t){R.isNil(t)&&e.putForm.get("picName").setValue(null)}))}}]),e}()).\u0275fac=function(e){return new(e||vt)(Ye.Qb(qe))},vt.\u0275cmp=Ye.Kb({type:vt,selectors:[["app-fl-reservation-list-b2c-ticketing-assign-pic-form"]],inputs:{checkedList:"checkedList",loginUser:"loginUser"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:20,vars:9,consts:[[1,"modal-body"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","170px"],["scope","row",1,"th-bg"],["formControlName","picUno","apiUrl","admin/common/staff","dataKey","userNo","inputFieldFormat","{0}-{1}&,{2}&,{3}","placeholder","Name",3,"inputFieldValue","apiSearchTerm","apiCondition","inputFieldFormatKeyList","isInvalid","onSelect"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(e,t){1&e&&(Ye.Wb(0,"div",0),Ye.Wb(1,"form",1),Ye.fc("ngSubmit",(function(){return t.onSubmit()})),Ye.Wb(2,"div",2),Ye.Wb(3,"table"),Ye.Wb(4,"caption"),Ye.Pc(5," Ticketing PIC "),Ye.Vb(),Ye.Wb(6,"colgroup"),Ye.Rb(7,"col",3),Ye.Rb(8,"col"),Ye.Vb(),Ye.Wb(9,"tbody"),Ye.Wb(10,"tr"),Ye.Wb(11,"th",4),Ye.Pc(12,"Ticketing PIC"),Ye.Vb(),Ye.Wb(13,"td"),Ye.Wb(14,"app-auto-complete",5),Ye.fc("onSelect",(function(e){return t.onSelectBookingPicUno(e)})),Ye.Vb(),Ye.Vb(),Ye.Vb(),Ye.Vb(),Ye.Vb(),Ye.Vb(),Ye.Wb(15,"div",6),Ye.Wb(16,"button",7),Ye.Pc(17,"Save"),Ye.Vb(),Ye.Wb(18,"button",8),Ye.fc("click",(function(){return t.onClose()})),Ye.Pc(19,"Close"),Ye.Vb(),Ye.Vb(),Ye.Vb(),Ye.Vb()),2&e&&(Ye.Cb(1),Ye.pc("formGroup",t.putForm)("connectForm",t.putFormData),Ye.Cb(13),Ye.pc("inputFieldValue",t.picInput)("apiSearchTerm","name")("apiCondition",Ye.tc(7,Tt))("inputFieldFormatKeyList",Ye.tc(8,At))("isInvalid",t.checkIsInvalid("picUno")))},directives:[a.B,a.s,a.k,Xe.a,Ue.a,a.r,a.i],encapsulation:2,changeDetection:0}),vt),Nt=n("UIHd"),It=n("7G9D"),xt=n("hna1"),Dt=n("kDLv"),Vt=n("i7jD"),Ft=n("/Bmo"),wt=n("B4Xv");function Et(e,t){if(1&e){var n=Ye.Xb();Ye.Wb(0,"a",14),Ye.fc("click",(function(){Ye.Fc(n);var e=t.$implicit;return Ye.hc().clickBookingItemCode(e.bookingItemCode)})),Ye.Wb(1,"span",15),Ye.Pc(2),Ye.Vb(),Ye.Vb()}if(2&e){var i=t.$implicit;Ye.Cb(2),Ye.Qc(i.bookingItemCode)}}function _t(e,t){if(1&e&&(Ye.Wb(0,"span"),Ye.Pc(1),Ye.Vb()),2&e){var n=t.$implicit;Ye.Cb(1),Ye.Sc("",n.ticketIssuedPaxCount,"/",n.totalPaxCount,"")}}function Wt(e,t){if(1&e&&(Ye.Wb(0,"span"),Ye.Pc(1),Ye.ic(2,"formatDate"),Ye.Vb()),2&e){var n=t.$implicit,i=Ye.hc();Ye.Gb("color-red",i.isToday(n.fareCancelDeadline))("font-weight-bold",i.isToday(n.fareCancelDeadline)),Ye.Cb(1),Ye.Rc(" ",Ye.kc(2,5,n.fareCancelDeadline,"YYYY-MM-DD HH:mm")," ")}}function $t(e,t){if(1&e&&(Ye.Wb(0,"span"),Ye.Pc(1),Ye.ic(2,"formatDate"),Ye.Vb()),2&e){var n=t.$implicit,i=Ye.hc();Ye.Gb("color-red",i.isToday(n.airlineCancelDeadline))("font-weight-bold",i.isToday(n.airlineCancelDeadline)),Ye.Cb(1),Ye.Rc(" ",Ye.kc(2,5,n.airlineCancelDeadline,"YYYY-MM-DD HH:mm")," ")}}function Bt(e,t){if(1&e){var n=Ye.Xb();Ye.Wb(0,"app-auto-status",16),Ye.fc("submitEvent",(function(e){return Ye.Fc(n),Ye.hc().submitAutoStatusHandler(e)}))("closeEvent",(function(){return Ye.Fc(n),Ye.hc().closeAutoStatusHandler()})),Ye.Vb()}if(2&e){var i=Ye.hc();Ye.pc("bookingItemCodes",i.bookingItemCodes)}}function Yt(e,t){if(1&e){var n=Ye.Xb();Ye.Wb(0,"app-fl-reservation-list-b2c-ticketing-assign-pic-form",17),Ye.fc("submitEvent",(function(e){return Ye.Fc(n),Ye.hc().submitAssignPicHandler(e)}))("closeEvent",(function(){return Ye.Fc(n),Ye.hc().closeAssignPicHandler()})),Ye.ic(1,"async"),Ye.Vb()}if(2&e){var i=Ye.hc();Ye.pc("checkedList",i.checkedList)("loginUser",Ye.jc(1,2,i.loginUser$))}}function Ut(e,t){if(1&e&&(Ye.Rb(0,"app-ums",18),Ye.ic(1,"async")),2&e){var n=Ye.hc();Ye.pc("active",Ye.jc(1,3,n.isOpenUmsPopup$))("bookers",n.umsReceiver)("bookingItemCode",n.umsBookingItemCode)}}var Ht,Mt,zt,Gt,Kt=function(e,t,n,i){return{bookingItemCodeTpl:e,ticketIssuedPaxCountTpl:t,fareCancelDeadlineTpl:n,airlineCancelDeadlineTpl:i}},Qt=((Ht=function(){function e(t,n,i,o,a,c){_classCallCheck(this,e),this.store=t,this.dataService=n,this._fileService=i,this.authStore=o,this.alertService=a,this._reservationService=c,this.unsubscribe$=new O.a,this.dateRangeTypeList$=t.pipe(Object(s.u)(ve)),this.bookingStatusList$=t.pipe(Object(s.u)(ke)),this.fopCodeList$=t.pipe(Object(s.u)(ye)),this.paymentStatusCodeList$=t.pipe(Object(s.u)(Oe)),this.ticketingStatusCodeList$=t.pipe(Object(s.u)(Se)),this.loading$=t.pipe(Object(s.u)(je)),this.reloadToggle$=t.pipe(Object(s.u)(Pe)),this.searchCondition$=t.pipe(Object(s.u)(Le)),this.otherSearchInfo$=t.pipe(Object(s.u)(Te)),this.gridDataList$=t.pipe(Object(s.u)(Ae)),this.gridSummary$=t.pipe(Object(s.u)(Ne)),this.gridState$=t.pipe(Object(s.u)(Ie)),this.gridCheckedState$=t.pipe(Object(s.u)(xe)),this.gridDataTotal$=t.pipe(Object(s.u)(Re)),this.listPageSize$=t.pipe(Object(s.u)(_e)),this.isOpenUmsPopup$=t.pipe(Object(s.u)(De)),this.isOpenAssignPicPopup$=t.pipe(Object(s.u)(Ve)),this.isOpenAutoStatusPopup$=t.pipe(Object(s.u)(Fe)),this.isOpenRefundCancelPopup$=t.pipe(Object(s.u)(we)),this.selectedRowItem$=t.pipe(Object(s.u)(Ee)),this.loginUser$=o.pipe(Object(s.u)(We.r)),this.columns=this.dataService.generateGridColumns(),this._initSubscription()}return _createClass(e,[{key:"bookingItemCodes",get:function(){var e,t;return null===(t=null===(e=this.gridEl)||void 0===e?void 0:e.checkedDataList)||void 0===t?void 0:t.map((function(e){return e.bookingItemCode}))}},{key:"checkedList",get:function(){var e;return(null===(e=this.gridEl)||void 0===e?void 0:e.checkedDataList)||[]}},{key:"ngOnInit",value:function(){}},{key:"ngAfterContentInit",value:function(){this.store.dispatch(i.loadDateRangeTypeListAction({condition:{masterCode:"FL053",useYn:!0}})),this.store.dispatch(i.loadBookingStatusListAction({condition:{masterCode:"BK001",referCode1:"IC01",useYn:!0}})),this.store.dispatch(i.loadFopCodeListAction({condition:{masterCode:"PM015",useYn:!0}})),this.store.dispatch(i.loadPaymentStatusCodeListAction({condition:{masterCode:"BK002",referCode1:"IC01"}})),this.store.dispatch(i.loadTicketingStatusCodeListAction({condition:{masterCode:"FL002"}}))}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.store.dispatch(i.initComponentStateAction()),this.store.dispatch(i.setGridCheckStateAction({gridCheckedState:this.gridEl.checkedStateOutput}))}},{key:"changePageSizeHandler",value:function(e){this.store.dispatch(i.changePageSize({pageSize:e}))}},{key:"clickSearchHandler",value:function(e){var t=e.searchCondition,n=e.otherSearchInfo;this.store.dispatch(i.changeSearchConditionAction({condition:t,otherSearchInfo:n})),this.store.dispatch(i.changePageIndex({pageIndex:0}))}},{key:"clickResetHandler",value:function(){this.store.dispatch(i.changeSearchConditionAction({condition:{},otherSearchInfo:null}))}},{key:"gridStateChangeHandler",value:function(e){this.store.dispatch(i.setGridStateAction({gridState:e}))}},{key:"clickViewBookingsHandler",value:function(){this.gridEl.checkedDataList.length<1?this.alertService.alert("There are no items selected."):this._reservationService.openDetailWindow(this.gridEl.checkedDataList)}},{key:"clickAssignPicHandler",value:function(){this.gridEl.checkedDataList.length<1?this.alertService.alert("There are no items selected."):this.store.dispatch(i.openAssignPicPopup())}},{key:"closeAssignPicHandler",value:function(){this.store.dispatch(i.closeAssignPicPopup())}},{key:"submitAssignPicHandler",value:function(e){var t=R.cloneDeep(e);this.store.dispatch(i.updateAssignPicItems({updateCondition:t}))}},{key:"clickUmsHandler",value:function(){var e=this.gridEl.checkedDataList;e.length<1?this.alertService.alert("There are no items selected."):e.length>1?this.alertService.alert("UMS \uba54\uc2dc\uc9c0\ub97c \uc5ec\ub7ec \uc0ac\ub78c\uc5d0\uac8c \ubcf4\ub0bc \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."):(this.umsReceiver=e.map((function(e){return{name:e.bookerName,phoneNo:e.bookerMobileNo,emailAddress:e.bookerEmailAddress}})),this.umsBookingItemCode=1===e.length?e[0].bookingItemCode:void 0,this.store.dispatch(i.openUmsPopup()))}},{key:"closeUmsHandler",value:function(){this.umsBookingItemCode=void 0,this.store.dispatch(i.closeUmsPopup())}},{key:"clickAutoStatusHandler",value:function(){this.store.dispatch(i.openAutoStatusPopupAction())}},{key:"closeAutoStatusHandler",value:function(){this.store.dispatch(i.closeAutoStatusPopupAction())}},{key:"submitAutoStatusHandler",value:function(e){this.store.dispatch(i.saveAutoStatusAction({condition:e}))}},{key:"clickExcelHandler",value:function(){var e=this._changeConditionType(this.searchFormEl.formValue),t=this._setSearchCondition(e);this._fileService.fileDownload({url:Be.excelDownload,filename:"\ubc1c\uad8c\uc608\uc57d\uc870\ud68c\ub9ac\uc2a4\ud2b8(B2C)",type:"excel",params:t,requestMethod:"post"})}},{key:"clickBookingItemCode",value:function(e){window.open("".concat(window.location.origin,"/reservation/flight/").concat(e,"?tabName=PRICE"),"_blank","height=950,width=1800,left=0,top=0,toolbar=no,menubar=no,scrollbars=no,resizable=yes,location=no,status=no")}},{key:"isToday",value:function(e){return!!e&&I()().format("YYYY-MM-DD")===I()(e).format("YYYY-MM-DD")}},{key:"_initSubscription",value:function(){var e=this;Object(j.a)([this.searchCondition$,this.gridState$]).pipe(Object(P.a)(1),Object(L.a)(200),Object(T.a)((function(e){var t=_slicedToArray(e,2),n=t[0];return t[1],!R.isEmpty(n)})),Object(A.a)(this.unsubscribe$)).subscribe((function(t){var n=_slicedToArray(t,2),o=n[0],a=n[1],c=a.pageInfo,s=a.sortInfo,r=e._setSortOrder(s),l=[c.skip,c.skip+c.take],u=Object.assign({},e._setSearchCondition(o),{limits:l,sortOrder:r});e.store.dispatch(i.loadListAction({condition:e._changeConditionType(u)}))})),this.reloadToggle$.pipe(Object(P.a)(1),Object(A.a)(this.unsubscribe$)).subscribe((function(){e.searchFormEl.searchFormValid&&e.searchFormEl.onSubmit()}))}},{key:"_setSortOrder",value:function(e){return e.filter((function(e){return!R.isNil(e.dir)})).map((function(e){return{keyName:e.field,sort:e.dir}}))}},{key:"_setSearchCondition",value:function(e){var t=e.dateRange2.dates.some((function(e){return R.isNil(e)}))?null:e.dateRange2.dates,n=Object.assign({},e,{dateRange2:t&&e.dateRange2});return R.omitBy(n,R.isNil)}},{key:"_changeConditionType",value:function(e){var t=R.isNil(e.airlineCodes)?null:e.airlineCodes.replace(/\s+/g,"").split(",").filter((function(e){return e})),n=Object.assign({},e,{airlineCodes:t});return R.omitBy(n,R.isNil)}}]),e}()).\u0275fac=function(e){return new(e||Ht)(Ye.Qb(s.h),Ye.Qb(qe),Ye.Qb(It.a),Ye.Qb(s.h),Ye.Qb(jt.a),Ye.Qb(xt.a))},Ht.\u0275cmp=Ye.Kb({type:Ht,selectors:[["app-fl-reservation-list-b2c-ticketing"]],viewQuery:function(e,t){var n;1&e&&(Ye.Xc(Ot,!0),Ye.Xc(Nt.a,!0)),2&e&&(Ye.Dc(n=Ye.gc())&&(t.searchFormEl=n.first),Ye.Dc(n=Ye.gc())&&(t.gridEl=n.first))},decls:39,vars:77,consts:[[3,"otherSearchInfo","searchCondition","dateRangeTypeList","bookingStatusList","fopCodeList","paymentStatusCodeList","ticketingStatusCodeList","clickSearchEvent","clickResetEvent"],[3,"loading","currentPageSize","totalCount","changePageSizeEvent","clickViewBookingsEvent","clickAssignPicEvent","clickUmsEvent","clickAutoStatusEvent","excelDownloadEvent"],["bookingItemCodeTpl",""],["ticketIssuedPaxCountTpl",""],["fareCancelDeadlineTpl",""],["airlineCancelDeadlineTpl",""],[3,"gridLoading","columns","gridState","checkedState","totalCount","checkboxUseYn","sortable","dataList","templates","stateChangeEvent"],["gridEl",""],["modalSize","sm","modalContentClass","pd-all","header","\uc790\ub3d9\uc0c1\ud0dc \ubcc0\uacbd",3,"visible","modal","visibleChange"],[3,"bookingItemCodes","submitEvent","closeEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","Assign Tickeing PIC",3,"visible","modal","hasScroll","visibleChange"],[3,"checkedList","loginUser","submitEvent","closeEvent",4,"ngIf"],["header","UMS \ubc1c\uc1a1 \uc815\ubcf4","modalSize","md","modalContentClass","pd-all",3,"visible","modal","visibleChange"],["itemCategoryCode","IC01",3,"active","bookers","bookingItemCode",4,"ngIf"],[3,"click"],[1,"text-underline","color-dark"],[3,"bookingItemCodes","submitEvent","closeEvent"],[3,"checkedList","loginUser","submitEvent","closeEvent"],["itemCategoryCode","IC01",3,"active","bookers","bookingItemCode"]],template:function(e,t){if(1&e&&(Ye.Wb(0,"app-fl-reservation-list-b2c-ticketing-search",0),Ye.fc("clickSearchEvent",(function(e){return t.clickSearchHandler(e)}))("clickResetEvent",(function(){return t.clickResetHandler()})),Ye.ic(1,"async"),Ye.ic(2,"async"),Ye.ic(3,"async"),Ye.ic(4,"async"),Ye.ic(5,"async"),Ye.ic(6,"async"),Ye.ic(7,"async"),Ye.Vb(),Ye.Wb(8,"app-fl-reservation-list-b2c-ticketing-control",1),Ye.fc("changePageSizeEvent",(function(e){return t.changePageSizeHandler(e)}))("clickViewBookingsEvent",(function(){return t.clickViewBookingsHandler()}))("clickAssignPicEvent",(function(){return t.clickAssignPicHandler()}))("clickUmsEvent",(function(){return t.clickUmsHandler()}))("clickAutoStatusEvent",(function(){return t.clickAutoStatusHandler()}))("excelDownloadEvent",(function(){return t.clickExcelHandler()})),Ye.ic(9,"async"),Ye.ic(10,"async"),Ye.ic(11,"async"),Ye.Vb(),Ye.Nc(12,Et,3,1,"ng-template",null,2,Ye.Oc),Ye.Nc(14,_t,2,2,"ng-template",null,3,Ye.Oc),Ye.Nc(16,Wt,3,8,"ng-template",null,4,Ye.Oc),Ye.Nc(18,$t,3,8,"ng-template",null,5,Ye.Oc),Ye.Wb(20,"app-grid-simple",6,7),Ye.fc("stateChangeEvent",(function(e){return t.gridStateChangeHandler(e)})),Ye.ic(22,"async"),Ye.ic(23,"async"),Ye.ic(24,"async"),Ye.ic(25,"async"),Ye.ic(26,"async"),Ye.Vb(),Ye.Wb(27,"app-dialog",8),Ye.fc("visibleChange",(function(){return t.closeAutoStatusHandler()})),Ye.ic(28,"async"),Ye.Nc(29,Bt,1,1,"app-auto-status",9),Ye.ic(30,"async"),Ye.Vb(),Ye.Wb(31,"app-dialog",10),Ye.fc("visibleChange",(function(){return t.closeAssignPicHandler()})),Ye.ic(32,"async"),Ye.Nc(33,Yt,2,4,"app-fl-reservation-list-b2c-ticketing-assign-pic-form",11),Ye.ic(34,"async"),Ye.Vb(),Ye.Wb(35,"app-dialog",12),Ye.fc("visibleChange",(function(){return t.closeUmsHandler()})),Ye.ic(36,"async"),Ye.Nc(37,Ut,2,5,"app-ums",13),Ye.ic(38,"async"),Ye.Vb()),2&e){var n=Ye.Ec(13),i=Ye.Ec(15),o=Ye.Ec(17),a=Ye.Ec(19);Ye.pc("otherSearchInfo",Ye.jc(1,30,t.otherSearchInfo$))("searchCondition",Ye.jc(2,32,t.searchCondition$))("dateRangeTypeList",Ye.jc(3,34,t.dateRangeTypeList$))("bookingStatusList",Ye.jc(4,36,t.bookingStatusList$))("fopCodeList",Ye.jc(5,38,t.fopCodeList$))("paymentStatusCodeList",Ye.jc(6,40,t.paymentStatusCodeList$))("ticketingStatusCodeList",Ye.jc(7,42,t.ticketingStatusCodeList$)),Ye.Cb(8),Ye.pc("loading",Ye.jc(9,44,t.loading$))("currentPageSize",Ye.jc(10,46,t.listPageSize$))("totalCount",Ye.jc(11,48,t.gridDataTotal$)),Ye.Cb(12),Ye.pc("gridLoading",Ye.jc(22,50,t.loading$))("columns",t.columns)("gridState",Ye.jc(23,52,t.gridState$))("checkedState",Ye.jc(24,54,t.gridCheckedState$))("totalCount",Ye.jc(25,56,t.gridDataTotal$))("checkboxUseYn",!1)("sortable",!0)("dataList",Ye.jc(26,58,t.gridDataList$))("checkboxUseYn",!0)("templates",Ye.xc(72,Kt,n,i,o,a)),Ye.Cb(7),Ye.pc("visible",Ye.jc(28,60,t.isOpenAutoStatusPopup$))("modal",!0),Ye.Cb(2),Ye.pc("ngIf",Ye.jc(30,62,t.isOpenAutoStatusPopup$)),Ye.Cb(2),Ye.pc("visible",Ye.jc(32,64,t.isOpenAssignPicPopup$))("modal",!0)("hasScroll",!1),Ye.Cb(2),Ye.pc("ngIf",Ye.jc(34,66,t.isOpenAssignPicPopup$)),Ye.Cb(2),Ye.pc("visible",Ye.jc(36,68,t.isOpenUmsPopup$))("modal",!0),Ye.Cb(2),Ye.pc("ngIf",Ye.jc(38,70,t.isOpenUmsPopup$))}},directives:[Ot,Pt,Nt.a,Dt.a,o.o,Vt.a,Rt,Ft.a],pipes:[o.b,wt.a],encapsulation:2,changeDetection:0}),Ht),qt=[{path:"",component:Qt,data:{title:"\ubc1c\uad8c\uc608\uc57d\uc870\ud68c(B2C)"}}],Xt=((Mt=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=Ye.Ob({type:Mt}),Mt.\u0275inj=Ye.Nb({factory:function(e){return new(e||Mt)},imports:[[S.f.forChild(qt)],S.f]}),Mt),Jt=n("bOdf"),Zt=n("zp1y"),en=n("lJxs"),tn=n("JIr8"),nn=n("vkgz"),on=n("Xb6A"),an=((zt=function(){function e(t,n,o,a,r,l){var u=this;_classCallCheck(this,e),this.actions$=t,this.service=n,this._errorService=o,this.store=a,this.alertService=r,this._authStore=l,this.loadDateRangeTypeList$=Object(c.c)((function(){return u.actions$.pipe(Object(c.d)(i.loadDateRangeTypeListAction),Object(Jt.a)((function(e){return Object(He.a)(e).pipe(Object(Zt.a)(u.dateRangeTypeList$))})),Object(ze.a)((function(e){var t=_slicedToArray(e,2),n=t[0].condition,o=t[1];return null===o?u.service.getCommonDetailCodeList(n).pipe(Object(en.a)((function(e){return i.loadDateRangeTypeListSuccessAction({dataList:e})})),Object(tn.a)((function(e){return u._catchErr(e,"Appointment search date code lookup failed."),[]}))):Object(He.a)(i.loadDateRangeTypeListSuccessAction({dataList:R.cloneDeep(o)}))})))})),this.loadBookingStatusList$=Object(c.c)((function(){return u.actions$.pipe(Object(c.d)(i.loadBookingStatusListAction),Object(Jt.a)((function(e){return Object(He.a)(e).pipe(Object(Zt.a)(u.bookingStatusList$))})),Object(ze.a)((function(e){var t=_slicedToArray(e,2),n=t[0].condition,o=t[1];return null===o?u.service.getCommonDetailCodeList(n).pipe(Object(en.a)((function(e){return i.loadBookingStatusListSuccessAction({dataList:e})})),Object(tn.a)((function(e){return u._catchErr(e,"Reservation status code lookup failed."),[]}))):Object(He.a)(i.loadBookingStatusListSuccessAction({dataList:R.cloneDeep(o)}))})))})),this.loadFopCodeList$=Object(c.c)((function(){return u.actions$.pipe(Object(c.d)(i.loadFopCodeListAction),Object(Jt.a)((function(e){return Object(He.a)(e).pipe(Object(Zt.a)(u.fopCodeList$))})),Object(ze.a)((function(e){var t=_slicedToArray(e,2),n=t[0].condition,o=t[1];return null===o?u.service.getCommonDetailCodeList(n).pipe(Object(en.a)((function(e){return i.loadFopCodeListSuccessAction({dataList:e})})),Object(tn.a)((function(e){return u._catchErr(e,"Payment method lookup failed."),[]}))):Object(He.a)(i.loadFopCodeListSuccessAction({dataList:R.cloneDeep(o)}))})))})),this.loadPaymentStatusCodeList$=Object(c.c)((function(){return u.actions$.pipe(Object(c.d)(i.loadPaymentStatusCodeListAction),Object(Jt.a)((function(e){return Object(He.a)(e).pipe(Object(Zt.a)(u.paymentStatusCodeList$))})),Object(ze.a)((function(e){var t=_slicedToArray(e,2),n=t[0].condition,o=t[1];return null===o?u.service.getCommonDetailCodeList(n).pipe(Object(en.a)((function(e){return i.loadPaymentStatusCodeListSuccessAction({dataList:e})})),Object(tn.a)((function(e){return u._catchErr(e,"Payment status code lookup failed."),[]}))):Object(He.a)(i.loadPaymentStatusCodeListSuccessAction({dataList:R.cloneDeep(o)}))})))})),this.loadTicketingStatusCodeList$=Object(c.c)((function(){return u.actions$.pipe(Object(c.d)(i.loadTicketingStatusCodeListAction),Object(Jt.a)((function(e){return Object(He.a)(e).pipe(Object(Zt.a)(u.ticketingStatusCodeList$))})),Object(ze.a)((function(e){var t=_slicedToArray(e,2),n=t[0].condition,o=t[1];return null===o?u.service.getCommonDetailCodeList(n).pipe(Object(en.a)((function(e){return i.loadTicketingStatusCodeListSuccessAction({dataList:e})})),Object(tn.a)((function(e){return u._catchErr(e,"Ticketing status code lookup failed."),[]}))):Object(He.a)(i.loadTicketingStatusCodeListSuccessAction({dataList:R.cloneDeep(o)}))})))})),this.loadMasterList$=Object(c.c)((function(){return u.actions$.pipe(Object(c.d)(i.loadListAction),Object(ze.a)((function(e){var t=e.condition;return u.service.getList(t).pipe(Object(en.a)((function(e){var t=e.list,n=e.totalCount,o=e.summary;return i.loadListSuccessAction({dataList:t,totalCount:n,summary:o})})),Object(tn.a)((function(e){var t="Your airline ticket reservation lookup failed, please try again later.",n=[i.loadListFailureAction({error:t})];return u._catchErr(e,t,n),[]})))})))})),this.updateAssignPicItems$=Object(c.c)((function(){return u.actions$.pipe(Object(c.d)(i.updateAssignPicItems),Object(ze.a)((function(e){var t=e.updateCondition;return u.service.putAssignPicItems(t).pipe(Object(en.a)((function(e){return{succeedYn:!0}})),Object(tn.a)((function(e){return Object(He.a)({succeedYn:!1,error:e})})))})),Object(nn.a)((function(e){var t=e.succeedYn,n=e.error;if(t){var o=[i.updateAssignPicItemsSuccess(),i.closeAssignPicPopup()];u._runPage("It was saved sucessfully ",o)}else u._catchErr(n,"The bulk change of ticketers failed.",[])})))}),{dispatch:!1}),this.saveAutoStatus$=Object(c.c)((function(){return u.actions$.pipe(Object(c.d)(i.saveAutoStatusAction),Object(ze.a)((function(e){var t=e.condition;return u.service.putAutoStatus(t).pipe(Object(en.a)((function(e){return{succeedYn:!0,updateList:e}})),Object(tn.a)((function(e){return Object(He.a)({succeedYn:!1,error:e})})))})),Object(nn.a)((function(e){var t=e.succeedYn,n=e.error,o=e.updateList;if(t){var a=[i.saveAutoStatusSuccessAction({updateList:o}),i.closeAutoStatusPopupAction()];u._runPage("Successful bulk change of auto-status.",a)}else{var c="Failed to bulk change auto-state.",s=[i.saveAutoStatusFailureAction({error:c})];u._catchErr(n,c,s)}})))}),{dispatch:!1}),this.dateRangeTypeList$=a.pipe(Object(s.u)(ve)),this.bookingStatusList$=a.pipe(Object(s.u)(ke)),this.fopCodeList$=a.pipe(Object(s.u)(ye)),this.paymentStatusCodeList$=a.pipe(Object(s.u)(Oe)),this.ticketingStatusCodeList$=a.pipe(Object(s.u)(Se))}return _createClass(e,[{key:"_runPage",value:function(e,t){var n=this;this.alertService.alert({message:e,accept:(null==t?void 0:t.length)>0?function(){t.forEach((function(e){n.store.dispatch(e)}))}:function(){}})}},{key:"_catchErr",value:function(e,t,n){var i=this,o=this._errorService.errorHandler(e,t);R.isNil(o)||(R.isNil(o.accept)&&(o.accept=(null==n?void 0:n.length)>0?function(){n.forEach((function(e){i.store.dispatch(e)}))}:function(){}),this.alertService.alert(o))}}]),e}()).\u0275fac=function(e){return new(e||zt)(Ye.bc(c.a),Ye.bc(Ke),Ye.bc(on.a),Ye.bc(s.h),Ye.bc(jt.a),Ye.bc(s.h))},zt.\u0275prov=Ye.Mb({token:zt,factory:zt.\u0275fac}),zt),cn=n("YH7L"),sn=n("FGZR"),rn=[Qt],ln=[Ot,Pt,Lt,Rt],un=((Gt=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=Ye.Ob({type:Gt}),Gt.\u0275inj=Ye.Nb({factory:function(e){return new(e||Gt)},imports:[[o.c,a.m,a.w,r.a,l.a,p.a,u.a,d.a,b.a,g.a,f.a,m.a,h.a,C.a,v.a,k.a,y.a,Xt,cn.a,sn.a,s.j.forFeature("flReservationListB2cTicketing",ge),c.b.forFeature([an])]]}),Gt)}}]);