(window.webpackJsonp=window.webpackJsonp||[]).push([[124],{nUcu:function(e,t,i){"use strict";i.r(t),i.d(t,"CONTAINERS",(function(){return en})),i.d(t,"COMPONENTS",(function(){return tn})),i.d(t,"FlRefundModule",(function(){return nn}));var n={};i.r(n),i.d(n,"initThisState",(function(){return V})),i.d(n,"loadControlBranchTypeList",(function(){return I})),i.d(n,"getControlBranchTypeListSuccess",(function(){return N})),i.d(n,"getControlBranchTypeListFailure",(function(){return W})),i.d(n,"loadDateRangeTypeList",(function(){return Y})),i.d(n,"getDateRangeTypeListSuccess",(function(){return A})),i.d(n,"getDateRangeTypeListFailure",(function(){return $})),i.d(n,"loadStationTypeList",(function(){return _})),i.d(n,"getStationTypeListSuccess",(function(){return B})),i.d(n,"getStationTypeListFailure",(function(){return G})),i.d(n,"loadBillingTypeList",(function(){return M})),i.d(n,"getBillingTypeListSuccess",(function(){return U})),i.d(n,"getBillingTypeListFailure",(function(){return H})),i.d(n,"loadEtEmdOtherTypeList",(function(){return K})),i.d(n,"getEtEmdOtherTypeListSuccess",(function(){return z})),i.d(n,"getEtEmdOtherTypeListFailure",(function(){return Q})),i.d(n,"loadGdsCompList",(function(){return X})),i.d(n,"getGdsCompListSuccess",(function(){return q})),i.d(n,"getGdsCompListFailure",(function(){return J})),i.d(n,"loadFopList",(function(){return Z})),i.d(n,"getFopListSuccess",(function(){return ee})),i.d(n,"getFopListFailure",(function(){return te})),i.d(n,"loadRefundClientAmountList",(function(){return ie})),i.d(n,"getRefundClientAmountListSuccess",(function(){return ne})),i.d(n,"getRefundClientAmountListFailure",(function(){return oe})),i.d(n,"loadBookerCompList",(function(){return le})),i.d(n,"getBookerCompListSuccess",(function(){return ce})),i.d(n,"getBookerCompListFailure",(function(){return se})),i.d(n,"loadPaymentPeriodList",(function(){return ae})),i.d(n,"getPaymentPeriodListSuccess",(function(){return re})),i.d(n,"getPaymentPeriodListFailure",(function(){return de})),i.d(n,"changeSearchCondition",(function(){return ue})),i.d(n,"reloadList",(function(){return pe})),i.d(n,"loadList",(function(){return be})),i.d(n,"getListSuccess",(function(){return he})),i.d(n,"getListFailure",(function(){return me})),i.d(n,"setGridCheckStateAction",(function(){return fe})),i.d(n,"setGridStateAction",(function(){return Ce})),i.d(n,"changePageIndex",(function(){return ge})),i.d(n,"changePageSize",(function(){return Oe})),i.d(n,"openDeptSelectPopup",(function(){return ke})),i.d(n,"closeDeptSelectPopup",(function(){return Se})),i.d(n,"changeSelectedDeptList",(function(){return ve})),i.d(n,"closeDsrAction",(function(){return je})),i.d(n,"bundleCloseCommitOrCancel",(function(){return ye})),i.d(n,"openDsrUploadPopup",(function(){return Re})),i.d(n,"closeDsrUploadPopup",(function(){return Le})),i.d(n,"salesSlip",(function(){return De})),i.d(n,"salesSlipSuccess",(function(){return Ee})),i.d(n,"salesSlipAll",(function(){return Te})),i.d(n,"salesSlipAllSuccess",(function(){return Pe})),i.d(n,"chorusSlip",(function(){return we})),i.d(n,"chorusSlipSuccess",(function(){return xe})),i.d(n,"chorusSlipAll",(function(){return Fe})),i.d(n,"chorusSlipAllSuccess",(function(){return Ve})),i.d(n,"resolutionCreate",(function(){return Ie})),i.d(n,"resolutionCreateSuccess",(function(){return Ne})),i.d(n,"resolutionBulkCreate",(function(){return We}));var o=i("ofXK"),l=i("3Pt+"),c=i("snw9"),s=i("kt0X"),a=i("WG3B"),r=i("xoAz"),d=i("wPo9"),u=i("7rOj"),p=i("+NQf"),b=i("6LsY"),h=i("l1P7"),m=i("v7zA"),f=i("7UZF"),C=i("hHe4"),g=i("1OXJ"),O=i("5hwk"),k=i("w8np"),S=i("kKjH"),v=i("qXPF"),j=i("65ZF"),y=i("VpzQ"),R=i("vu/V"),L=i("tyNb"),D=i("XNiG"),E=i("itXk"),T=i("zP0r"),P=i("1G5W"),w=i("Kj3r"),x=i("pLZG"),F=i("LvDl");const V=Object(s.o)("[FlRefund/List] init this component state"),I=Object(s.o)("[FlRefund/List] load control branch type list",Object(s.t)()),N=Object(s.o)("[FlRefund/List] get control branch type list success",Object(s.t)()),W=Object(s.o)("[FlRefund/List] get control branch type list failure",Object(s.t)()),Y=Object(s.o)("[FlRefund/List] load date range type list",Object(s.t)()),A=Object(s.o)("[FlRefund/List] get date range type list success",Object(s.t)()),$=Object(s.o)("[FlRefund/List] get date range type list failure",Object(s.t)()),_=Object(s.o)("[FlRefund/List] load station type list",Object(s.t)()),B=Object(s.o)("[FlRefund/List] get station type list success",Object(s.t)()),G=Object(s.o)("[FlRefund/List] get station type list failure",Object(s.t)()),M=Object(s.o)("[FlRefund/List] load billing type list",Object(s.t)()),U=Object(s.o)("[FlRefund/List] get billing type list success",Object(s.t)()),H=Object(s.o)("[FlRefund/List] get billing type list failure",Object(s.t)()),K=Object(s.o)("[FlRefund/List] load et emd other type list",Object(s.t)()),z=Object(s.o)("[FlRefund/List] get et emd other type list success",Object(s.t)()),Q=Object(s.o)("[FlRefund/List] get et emd other type list failure",Object(s.t)()),X=Object(s.o)("[FlRefund/List] load gds comp list",Object(s.t)()),q=Object(s.o)("[FlRefund/List] get gds comp list success",Object(s.t)()),J=Object(s.o)("[FlRefund/List] get gds comp list failure",Object(s.t)()),Z=Object(s.o)("[FlRefund/List] load fop list",Object(s.t)()),ee=Object(s.o)("[FlRefund/List] get fop list success",Object(s.t)()),te=Object(s.o)("[FlRefund/List] get fop list failure",Object(s.t)()),ie=Object(s.o)("[FlRefund/List] load refund client amount list",Object(s.t)()),ne=Object(s.o)("[FlRefund/List] get refund client amount list success",Object(s.t)()),oe=Object(s.o)("[FlRefund/List] get refund client amount list failure",Object(s.t)()),le=Object(s.o)("[FlRefund/List] load booker comp list",Object(s.t)()),ce=Object(s.o)("[FlRefund/List] get booker comp list success",Object(s.t)()),se=Object(s.o)("[FlRefund/List] get booker comp list failure",Object(s.t)()),ae=Object(s.o)("[FlRefund/List] load payment period list",Object(s.t)()),re=Object(s.o)("[FlRefund/List] get payment period list success",Object(s.t)()),de=Object(s.o)("[FlRefund/List] get payment period list failure",Object(s.t)()),ue=Object(s.o)("[FlRefund/List] change search condition",Object(s.t)()),pe=Object(s.o)("[FlRefund/List] reload grid data list"),be=Object(s.o)("[FlRefund/List] load grid data list",Object(s.t)()),he=Object(s.o)("[FlRefund/List] get list success",Object(s.t)()),me=Object(s.o)("[FlRefund/List] get list failure",Object(s.t)()),fe=Object(s.o)("[FlRefund/List] set grid checked rowids",Object(s.t)()),Ce=Object(s.o)("[FlRefund/List] set grid state",Object(s.t)()),ge=Object(s.o)("[FlRefund/List] change page index",Object(s.t)()),Oe=Object(s.o)("[FlRefund/List] change page size",Object(s.t)()),ke=Object(s.o)("[FlRefund/Detail] \ubd80\uc11c \uc120\ud0dd \ud31d\uc5c5 \uc5f4\uae30"),Se=Object(s.o)("[FlRefund/Detail] \ubd80\uc11c \uc120\ud0dd\ud31d\uc5c5 \ub2eb\uae30"),ve=Object(s.o)("[FlRefund/List] change selected department list",Object(s.t)()),je=Object(s.o)("[FlRefund/List] close dsr finish",Object(s.t)()),ye=Object(s.o)("[FlRefund/List] bundle close commit or cancel",Object(s.t)()),Re=Object(s.o)("[FlRefund/List] DSR \uc5c5\ub85c\ub4dc \ud31d\uc5c5 \uc5f4\uae30"),Le=Object(s.o)("[FlRefund/List] DSR \uc5c5\ub85c\ub4dc \ud31d\uc5c5 \ub2eb\uae30"),De=Object(s.o)("[FlRefund/List] sales Slip",Object(s.t)()),Ee=Object(s.o)("[FlRefund/List] sales Slip success",Object(s.t)()),Te=Object(s.o)("[FlRefund/List] sales slip all",Object(s.t)()),Pe=Object(s.o)("[FlRefund/List] sales Slip success",Object(s.t)()),we=Object(s.o)("[FlSalesReport/Detail] chorusSlip",Object(s.t)()),xe=Object(s.o)("[FlSalesReport/Detail] chorusSlip success",Object(s.t)()),Fe=Object(s.o)("[FlSalesReport/Detail] chorusSlip all",Object(s.t)()),Ve=Object(s.o)("[FlSalesReport/Detail] chorusSlip success",Object(s.t)()),Ie=Object(s.o)("[FlSalesReport/Detail] resolutionCreate",Object(s.t)()),Ne=Object(s.o)("[FlSalesReport/Detail] resolutionCreate success",Object(s.t)()),We=Object(s.o)("[FlSalesReport/Detail] resolutionBulkCreate",Object(s.t)());var Ye=i("EVqC");const Ae=Object(Ye.a)({selectId:e=>e.id,sortComparer:!1}),$e=Ae.getInitialState({dateRangeTypeList:[],etEmdOtherTypeList:[],refundClientAmountList:[],fopList:[],gdsCompList:[],bookerCompList:[],controlBranchTypeList:[],stationTypeList:[],paymentPeriodList:[],billingTypeList:[],loading:!1,reloadToggle:!1,searchCondition:{},otherSearchInfo:null,summaryInfo:null,gridState:{pageInfo:{skip:0,take:20},sortInfo:[{field:"refundRequestDate",dir:"desc"}]},gridDataTotal:0,gridCheckedState:null,selectedDetailRowInfo:null,isOpenDsrUploadPopup:null,isOpenDeptSelectPopup:!1,selectedDeptList:null}),_e=Object(s.q)($e,Object(s.s)(n.initThisState,e=>Object.assign(Object.assign({},e),{loading:!1,reloadToggle:!1,selectedDetailRowInfo:null,isOpenDsrUploadPopup:null,isOpenDeptSelectPopup:!1})),Object(s.s)(n.getDateRangeTypeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{dateRangeTypeList:t})),Object(s.s)(n.getEtEmdOtherTypeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{etEmdOtherTypeList:t})),Object(s.s)(n.getRefundClientAmountListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{refundClientAmountList:t})),Object(s.s)(n.getFopListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{fopList:t})),Object(s.s)(n.getGdsCompListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{gdsCompList:t})),Object(s.s)(n.getBookerCompListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{bookerCompList:t})),Object(s.s)(n.getControlBranchTypeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{controlBranchTypeList:t})),Object(s.s)(n.getStationTypeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{stationTypeList:t})),Object(s.s)(n.getPaymentPeriodListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{paymentPeriodList:t})),Object(s.s)(n.getBillingTypeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{billingTypeList:t})),Object(s.s)(n.reloadList,e=>Object.assign(Object.assign({},e),{reloadToggle:!e.reloadToggle})),Object(s.s)(n.changeSearchCondition,(e,{searchCondition:t,otherSearchInfo:i})=>Object.assign(Object.assign({},e),{searchCondition:t,otherSearchInfo:i})),Object(s.s)(n.loadList,e=>Object.assign(Object.assign({},e),{loading:!0})),Object(s.s)(n.getListSuccess,(e,{dataList:t,totalCount:i,summaryInfo:n})=>Ae.setAll(t,Object.assign(Object.assign({},e),{loading:!1,gridDataTotal:i,summaryInfo:n}))),Object(s.s)(n.getListFailure,e=>Object.assign(Object.assign({},e),{loading:!1})),Object(s.s)(n.changePageSize,(e,{pageSize:t})=>Object.assign(Object.assign({},e),{gridState:F.set(F.cloneDeep(e.gridState),["pageInfo","take"],t)})),Object(s.s)(n.changePageIndex,(e,{pageIndex:t})=>Object.assign(Object.assign({},e),{gridState:F.set(F.cloneDeep(e.gridState),["pageInfo","skip"],t)})),Object(s.s)(n.setGridStateAction,(e,{gridState:t})=>Object.assign(Object.assign({},e),{gridState:t})),Object(s.s)(n.setGridCheckStateAction,(e,{gridCheckedState:t})=>Object.assign(Object.assign({},e),{gridCheckedState:t})),Object(s.s)(n.openDsrUploadPopup,e=>Object.assign(Object.assign({},e),{isOpenDsrUploadPopup:!0})),Object(s.s)(n.closeDsrUploadPopup,e=>Object.assign(Object.assign({},e),{isOpenDsrUploadPopup:!1})),Object(s.s)(n.openDeptSelectPopup,e=>Object.assign(Object.assign({},e),{isOpenDeptSelectPopup:!0})),Object(s.s)(n.closeDeptSelectPopup,e=>Object.assign(Object.assign({},e),{isOpenDeptSelectPopup:!1})),Object(s.s)(n.changeSelectedDeptList,(e,{deptList:t})=>Object.assign(Object.assign({},e),{selectedDeptList:t})));function Be(e,t){return Object(s.m)({flRefundList:_e})(e,t)}const Ge=Object(s.p)("flRefund"),Me=Object(s.r)(Ge,e=>e.flRefundList),Ue=Object(s.r)(Me,e=>e.dateRangeTypeList),He=Object(s.r)(Me,e=>e.etEmdOtherTypeList),Ke=Object(s.r)(Me,e=>e.refundClientAmountList),ze=Object(s.r)(Me,e=>e.fopList),Qe=Object(s.r)(Me,e=>e.gdsCompList),Xe=Object(s.r)(Me,e=>e.bookerCompList),qe=Object(s.r)(Me,e=>e.controlBranchTypeList),Je=Object(s.r)(Me,e=>e.stationTypeList),Ze=Object(s.r)(Me,e=>e.paymentPeriodList),et=Object(s.r)(Me,e=>e.billingTypeList),tt=Object(s.r)(Me,e=>e.loading),it=Object(s.r)(Me,e=>e.reloadToggle),nt=Object(s.r)(Me,e=>e.searchCondition),ot=Object(s.r)(Me,e=>e.otherSearchInfo),lt=Ae.getSelectors(Me).selectAll,ct=Object(s.r)(Me,e=>e.summaryInfo),st=Object(s.r)(Me,e=>e.gridDataTotal),at=Object(s.r)(Me,e=>e.gridState),rt=Object(s.r)(Me,e=>e.gridCheckedState),dt=Object(s.r)(at,e=>F.get(e,["pageInfo","take"],20)),ut=Object(s.r)(Me,e=>e.selectedDetailRowInfo),pt=Object(s.r)(Me,e=>e.isOpenDsrUploadPopup),bt=Object(s.r)(Me,e=>e.isOpenDeptSelectPopup),ht=Object(s.r)(Me,e=>e.selectedDeptList);var mt=i("YY+H"),ft=i("AytR");const{API_URL:Ct}=ft.a,gt={selectEntities:`${Ct}/admin/flight/refund`,excelDownload:`${Ct}/admin/flight/refund/excel`,selectDetailCodes:`${Ct}/common/detail-code`,selectCommonComps:`${Ct}/common/comp`,putCoseDsr:`${Ct}/admin/flight/refund/close`,putBundleCloseCommitOrCancel:`${Ct}/admin/flight/refund/bundle-close`,closeBulkCommitPut:`${Ct}/admin/flight/refund/xxx`,closeBulkCancelPut:`${Ct}/admin/flight/refund/xxx`,putSlipCreate:`${Ct}/admin/account/slip/sales-create`,slipBulkCreatePut:`${Ct}/admin/flight/refund/xxx`,putChorus:`${Ct}/chorus/flight/refund-send`,erpBulkSendPut:`${Ct}/admin/flight/refund/xxx`,resolutionCreatePut:`${Ct}/admin/payment/resolution/create`};var Ot=i("fXoL"),kt=i("wd/R"),St=i("rbKv"),vt=i("kd+X"),jt=i("LVFn"),yt=i("U6NN");let Rt=(()=>{class e{constructor(){this.clickCloseCommitEvent=new Ot.n,this.clickCloseCancelEvent=new Ot.n,this.clickCloseBulkCommitOrCancelEvent=new Ot.n,this.clickSlipCreateEvent=new Ot.n,this.clickSlipBulkCreateEvent=new Ot.n,this.clickErpSendEvent=new Ot.n,this.clickErpBulkSendEvent=new Ot.n,this.clickResolutionCreateEvent=new Ot.n,this.clickResolutionBulkCreateEvent=new Ot.n,this.clickExcelEvent=new Ot.n,this.clickDsrUploadEvent=new Ot.n,this.changePageSizeEvent=new Ot.n,this.slipDate=kt().format("YYYY-MM-DD"),this.pageSizeOptions=[{label:"20",value:20},{label:"40",value:40},{label:"60",value:60},{label:"80",value:80},{label:"100",value:100}]}onClickCloseCommit(){this.clickCloseCommitEvent.emit()}onClickCloseCancel(){this.clickCloseCancelEvent.emit()}onClickSlipCreate(){this.clickSlipCreateEvent.emit(this.slipDate)}onClickSlipBulkCreate(){this.clickSlipBulkCreateEvent.emit(this.slipDate)}onClickErpSend(){this.clickErpSendEvent.emit()}onClickErpBulkSend(){this.clickErpBulkSendEvent.emit()}onClickResolutionCreate(){this.clickResolutionCreateEvent.emit()}onClickResolutionBulkCreate(){this.clickResolutionBulkCreateEvent.emit()}onChangePageSize(e){this.changePageSizeEvent.emit(e.value)}onClickExcel(){this.clickExcelEvent.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ot.Kb({type:e,selectors:[["app-fl-refund-control"]],inputs:{loading:"loading",currentPageSize:"currentPageSize",totalCount:"totalCount"},outputs:{clickCloseCommitEvent:"clickCloseCommitEvent",clickCloseCancelEvent:"clickCloseCancelEvent",clickCloseBulkCommitOrCancelEvent:"clickCloseBulkCommitOrCancelEvent",clickSlipCreateEvent:"clickSlipCreateEvent",clickSlipBulkCreateEvent:"clickSlipBulkCreateEvent",clickErpSendEvent:"clickErpSendEvent",clickErpBulkSendEvent:"clickErpBulkSendEvent",clickResolutionCreateEvent:"clickResolutionCreateEvent",clickResolutionBulkCreateEvent:"clickResolutionBulkCreateEvent",clickExcelEvent:"clickExcelEvent",clickDsrUploadEvent:"clickDsrUploadEvent",changePageSizeEvent:"changePageSizeEvent"},decls:41,vars:7,consts:[[1,"grid-control-area"],[1,"grid-count"],[1,"ml-auto","d-inline-flex","flex-glow-0"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"font-size-sm","ml25","mr5",2,"margin-top","7px"],[1,"input","calendar","d-inline-flex","flex-fill","mr5"],[3,"for"],["type","text","placeholder","\ub0a0\uc9dc \uc120\ud0dd",3,"matDatepicker","ngModel","ngModelChange"],["fromDate",""],[1,"select-box","sm","d-inline-flex","flex-glow-0"],[1,"btn","btn-outline-dark","sm","ml25",3,"click"],[3,"options","ngModel","useAllOptionYn","onChange"]],template:function(e,t){if(1&e&&(Ot.Wb(0,"div",0),Ot.Wb(1,"strong",1),Ot.Pc(2),Ot.Vb(),Ot.Wb(3,"div",2),Ot.Wb(4,"button",3),Ot.fc("click",(function(){return t.onClickCloseCommit()})),Ot.Pc(5,"\ub9c8\uac10"),Ot.Vb(),Ot.Wb(6,"button",3),Ot.fc("click",(function(){return t.onClickCloseCancel()})),Ot.Pc(7,"\ub9c8\uac10\ud574\uc81c"),Ot.Vb(),Ot.Wb(8,"button",3),Ot.fc("click",(function(){return t.clickCloseBulkCommitOrCancelEvent.emit(!0)})),Ot.Pc(9,"\uc77c\uad04\ub9c8\uac10"),Ot.Vb(),Ot.Wb(10,"button",3),Ot.fc("click",(function(){return t.clickCloseBulkCommitOrCancelEvent.emit(!1)})),Ot.Pc(11,"\uc77c\uad04\ub9c8\uac10\ud574\uc81c"),Ot.Vb(),Ot.Wb(12,"span",4),Ot.Pc(13,"\uc804\ud45c\uc0dd\uc131\uc77c\uc790"),Ot.Vb(),Ot.Wb(14,"div",5),Ot.Rb(15,"mat-datepicker-toggle",6),Ot.Wb(16,"input",7),Ot.fc("ngModelChange",(function(e){return t.slipDate=e})),Ot.Vb(),Ot.Rb(17,"mat-datepicker",null,8),Ot.Vb(),Ot.Wb(19,"button",3),Ot.fc("click",(function(){return t.onClickSlipCreate()})),Ot.Pc(20,"\uc804\ud45c\uc0dd\uc131"),Ot.Vb(),Ot.Wb(21,"button",3),Ot.fc("click",(function(){return t.onClickSlipBulkCreate()})),Ot.Pc(22,"\uc77c\uad04\uc804\ud45c\uc0dd\uc131"),Ot.Vb(),Ot.Wb(23,"span",4),Ot.Pc(24,"\ucf54\ub7ec\uc2a4\uc804\uc1a1"),Ot.Vb(),Ot.Wb(25,"button",3),Ot.fc("click",(function(){return t.onClickErpSend()})),Ot.Pc(26,"\uc804\uc1a1"),Ot.Vb(),Ot.Wb(27,"button",3),Ot.fc("click",(function(){return t.onClickErpBulkSend()})),Ot.Pc(28,"\uc77c\uad04\uc804\uc1a1"),Ot.Vb(),Ot.Wb(29,"span",4),Ot.Pc(30,"\uc9c0\ucd9c\uacb0\uc758"),Ot.Vb(),Ot.Wb(31,"button",3),Ot.fc("click",(function(){return t.onClickResolutionCreate()})),Ot.Pc(32,"\uacb0\uc758\uc0dd\uc131"),Ot.Vb(),Ot.Wb(33,"button",3),Ot.fc("click",(function(){return t.onClickResolutionBulkCreate()})),Ot.Pc(34,"\uc77c\uad04\uacb0\uc758\uc0dd\uc131"),Ot.Vb(),Ot.Wb(35,"div",9),Ot.Wb(36,"button",3),Ot.fc("click",(function(){return t.clickDsrUploadEvent.emit()})),Ot.Pc(37,"DSR\uc5c5\ub85c\ub4dc"),Ot.Vb(),Ot.Wb(38,"button",10),Ot.fc("click",(function(){return t.onClickExcel()})),Ot.Pc(39,"\uc5d1\uc140"),Ot.Vb(),Ot.Wb(40,"app-selectbox",11),Ot.fc("onChange",(function(e){return t.onChangePageSize(e)})),Ot.Vb(),Ot.Vb(),Ot.Vb(),Ot.Vb()),2&e){const e=Ot.Ec(18);Ot.Cb(2),Ot.Qc(t.loading?"":t.totalCount),Ot.Cb(13),Ot.pc("for",e),Ot.Cb(1),Ot.pc("matDatepicker",e)("ngModel",t.slipDate),Ot.Cb(24),Ot.pc("options",t.pageSizeOptions)("ngModel",t.currentPageSize)("useAllOptionYn",!1)}},directives:[St.a,vt.a,l.c,l.r,l.u,jt.a,yt.a],encapsulation:2,changeDetection:0}),e})();var Lt=i("pfiq"),Dt=i("LRne"),Et=i("z6cu"),Tt=i("eIep"),Pt=i("tpT/"),wt=i("EsKh");let xt=(()=>{class e{constructor(e,t){this.api=e,this.alertService=t}getList(e){const t=F.assign({},this.api.defaultParams,{condition:e});return this.api.post(gt.selectEntities,t).pipe(Object(Tt.a)(e=>{var t;if(e.succeedYn&&e.result){const i=this._convertSearchResultList(e.result.list),n=null===(t=e.result)||void 0===t?void 0:t.totalCount,o=e.result.summary||null;return Object(Dt.a)({dataList:i,totalCount:n,summaryInfo:o})}return Object(Et.a)(e||"api response error")}))}getCommonDetailCodeList(e){const t=F.assign({},this.api.defaultParams,{condition:e});return this.api.post(gt.selectDetailCodes,t).pipe(Object(Tt.a)(e=>e.succeedYn?Object(Dt.a)(e.result.list):Object(Et.a)(e||"api response error")))}getCommonComp(e){const t=F.assign({},this.api.defaultParams,{condition:e});return this.api.post(gt.selectCommonComps,t).pipe(Object(Tt.a)(e=>{if(e.succeedYn){const t=[];return Object(Dt.a)(t.concat(e.result.list.map(e=>({label:e.compName,value:e.compCode}))))}return Object(Et.a)(e||"api response error")}))}closeDsr(e){const t=F.assign({},this.api.defaultParams,{condition:e});return this.api.put(gt.putCoseDsr,t).pipe(Object(Tt.a)(e=>e.succeedYn&&e.result?Object(Dt.a)(!0):Object(Et.a)(e||"api response error")))}bundleCloseCommitOrCancel(e){const t=F.assign({},this.api.defaultParams,{condition:e});return this.api.put(gt.putBundleCloseCommitOrCancel,t).pipe(Object(Tt.a)(e=>e.succeedYn?Object(Dt.a)(e.result):Object(Et.a)(e||"api response error")))}_convertSearchResultList(e){return F.isEmpty(e)?[]:e.map((e,t)=>{var i;const n=(null==e?void 0:e.rowid)||t.toString(),o=(null===(i=null==e?void 0:e.withdraws)||void 0===i?void 0:i.length)>0;return Object.assign({rowid:n,id:n,hasDetailGridYn:o},e,this._convertSearchResultExtraColumns(e))})}_convertSearchResultExtraColumns(e){const{refundCashAmount:t,refundCardAmount:i,billingPeriodName:n}=e;let o=null,l=null;return t>0&&(o=n),i>0&&(l=n),{billingPeriodCashName:o,billingPeriodCardName:l}}putSlipCreate(e){const t=F.assign({},this.api.defaultParams,{condition:e});return this.api.put(gt.putSlipCreate,t).pipe(Object(Tt.a)(e=>e.succeedYn?(this.alertService.alert(e.result.salesSlipCount+"\uac1c \ucc98\ub9ac\uac00 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),Object(Dt.a)(e.result)):Object(Et.a)(e||"api response error")))}putChorusSlipCreate(e){const t=F.assign({},this.api.defaultParams,{condition:e});return this.api.put(gt.putChorus,t).pipe(Object(Tt.a)(e=>e.succeedYn?Object(Dt.a)(e.result):Object(Et.a)(e||"api response error")))}resolutionCreatePut(e){const t=F.assign({},this.api.defaultParams,{condition:e});return this.api.put(gt.resolutionCreatePut,t).pipe(Object(Tt.a)(e=>e.succeedYn?(this.alertService.alert(e.result.resolutionCount+"\uac1c \ucc98\ub9ac\uac00 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),Object(Dt.a)(e.result)):Object(Et.a)(e||"api response error")))}}return e.\u0275fac=function(t){return new(t||e)(Ot.bc(Pt.a),Ot.bc(wt.a))},e.\u0275prov=Ot.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Ft=i("6UzV"),Vt=i("kuX+");let It=(()=>{class e{constructor(e,t){this.fb=e,this.intl=t,this.generateGridColumns=()=>[{field:"refundRequestDate",title:"\ud658\ubd88\uc694\uccad\uc77c",width:150},{field:"controlBranchName",title:"\ubcf8\uc9c0\uc810",width:150},{field:"bookingItemCode",title:"\uc608\uc57d\ucf54\ub4dc",width:150,template:"bookingItemCodeTpl"},{field:"gdsSubPnr",title:"PNR",width:150},{field:"stationTypeName",title:"\uc2a4\ud14c\uc774\uc158",width:150},{field:"dsrFinishYn",title:"\ub9c8\uac10\uc5ec\ubd80",width:150,format:"yn"},{field:"bspSlipNo",title:"\uc804\ud45c\ubc88\ud638",width:150},{field:"ticketingDate",title:"\ubc1c\uad8c\uc77c",width:150},{field:"stockAirlineCode",title:"\ud56d\uacf5\uc0ac",width:150},{field:"ticketNo",title:"\ud2f0\ucf13\ubc88\ud638",width:150,template:"ticketNoTpl"},{field:"nameEn",title:"\ud0d1\uc2b9\uc790\uba85",width:150},{field:"refundReceiveDate",title:"\uc811\uc218\uc77c\uc790",width:150},{field:"refundPicName",title:"\ud658\ubd88\uc790",width:150},{field:"netAmount",title:"NET(\ubc1c)",width:150,format:"currency"},{field:"taxAmount",title:"TAX(\ubc1c)",width:150,format:"currency"},{field:"clientRefundFareAmount",title:"FARE RFND(\ub178)",width:150,format:"currency"},{field:"clientRefundTaxAmount",title:"TAX RFND(\ub178)",width:150,format:"currency"},{field:"agencyChargeAmount",title:"\ud658\ubd88\uc704\uc57d\uae08(\ub178)",width:150,format:"currency"},{field:"refundClientAmount",title:"\ud658\ubd88\uae08\uc561(\ub178)",width:150,format:"currency"},{field:"cashAmount",title:"\ud604\uae08(\ubc1c)",width:150,format:"currency"},{field:"cardAmount",title:"\uce74\ub4dc(\ubc1c)",width:150,format:"currency"},{field:"salesDiscountAppliedValue",title:"\ud560\uc778/\ud560\uc99d",width:150,format:"currency"},{field:"salesDiscountAdjustAmount",title:"\ud560\uc778/\ud560\uc99d \uc870\uc815",width:150,format:"currency"},{field:"salesDiscountLastAmount",title:"\ud560\uc778/\ud560\uc99d(\ucd5c\uc885)",width:150,format:"currency"},{field:"couponAmount",title:"\ucfe0\ud3f0(\ub178)",width:150,format:"currency"},{field:"couponAdjustAmount",title:"\ucfe0\ud3f0(\ub178) \uc870\uc815",width:150,format:"currency"},{field:"couponLastAmount",title:"\ucfe0\ud3f0(\ub178) \ucd5c\uc885",width:150,format:"currency"},{field:"affiliateCouponAmount",title:"\uc81c\ud734\uc0ac\ucfe0\ud3f0",width:150,format:"currency"},{field:"affiliateCouponAdjustAmount",title:"\uc81c\ud734\uc0ac\ucfe0\ud3f0\uc870\uc815",width:150,format:"currency"},{field:"affiliateCouponLastAmount",title:"\uc81c\ud734\uc0ac\ucfe0\ud3f0(\ucd5c\uc885)",width:150,format:"currency"},{field:"verifiedValue",title:"\uac80\uc99d",width:150},{field:"refundAppliedDate",title:"\ud658\ubd88\ubc18\uc601\uc77c",width:150},{field:"billingPeriodCashName",title:"\ubc18\uc601\uc8fc\uae30(\ud604\uae08)",width:150},{field:"billingPeriodCardName",title:"\ubc18\uc601\uc8fc\uae30(\uce74\ub4dc)",width:150},{field:"refundCashAmount",title:"\ud604\uae08\ud658\ubd88(\uacf5)",width:150,format:"currency"},{field:"refundCardAmount",title:"\uce74\ub4dc\ud658\ubd88(\uacf5)",width:150,format:"currency"},{field:"refundFareAmount",title:"FARE REFUND(\uacf5)",width:150,format:"currency"},{field:"refundTaxAmount",title:"TAX REFUND(\uacf5)",width:150,format:"currency"},{field:"airlinePenaltyAmount",title:"\ud658\ubd88\ud328\ub110\ud2f0(\uacf5)",width:150,format:"currency"},{field:"airlineRecallCommAmount",title:"\ub9ac\ucf5c\ucef4(\uacf5)",width:150,format:"currency"},{field:"airlineRecallCommVat",title:"\ub9ac\ucf5c\ucef4VAT(\uacf5)",width:150,format:"currency"},{field:"taxpayerTypeCode",title:"\uac70\ub798\ucc98\ucf54\ub4dc",width:150},{field:"taxpayerTypeName",title:"\uac70\ub798\ucc98",width:150},{field:"affiliateCompCode",title:"\uc81c\ud734\uc0ac \ucf54\ub4dc",width:150},{field:"affiliateCompName",title:"\uc81c\ud734\uc0ac",width:150},{field:"sellerCommAmount",title:"\ucee4\ubbf8\uc158(\ud310)",width:150,format:"currency"},{field:"sellerCommVat",title:"\ucee4\ubbf8\uc158(\ud310) VAT",width:150,format:"currency"},{field:"sellerWithholdingTaxAmount",title:"\ucee4\ubbf8\uc158(\ud310)\uc6d0\ucc9c\uc138",width:150,format:"currency"},{field:"taxBillSeq",title:"\uc138\uae08\uacc4\uc0b0\uc11c\ubc88\ud638",width:150},{field:"taxBillIssueDate",title:"\uc138\uae08\uacc4\uc0b0\uc11c\uc0dd\uc131\uc77c\uc790",width:150},{field:"taxBillSlipNo",title:"\uc138\uae08\uacc4\uc0b0\uc11c\uc804\ud45c\ubc88\ud638",width:150},{field:"taxBillSlipWriteDate",title:"\uc138\uae08\uacc4\uc0b0\uc11c\uc804\ud45c\uc0dd\uc131\uc77c\uc790",width:150},{field:"manageApprovalYn",title:"\uad00\ub9ac\uc2b9\uc778",width:150,format:"yn"},{field:"invoiceIssueYn",title:"\uc778\ubcf4\uc774\uc2a4\ubc1c\ud589\uc5ec\ubd80",width:150,format:"yn"},{field:"packageCode",title:"\ud328\ud0a4\uc9c0\ubc88\ud638",width:150},{field:"erpSendYn",title:"\ucf54\ub7ec\uc2a4\uc804\uc1a1\uc5ec\ubd80",width:150,format:"yn"},{field:"raRefundNo",title:"RA\ubc88\ud638",width:150},{field:"salesPicName",title:"\ud310\ub9e4\uc790",width:150},{field:"salesPicDeptName",title:"\ud310\ub9e4\ubd80\uc11c",width:150}],this.generateListSearchForm=()=>this.fb.group({controlBranchCode:[null],dateRange:this.fb.group({rangeType:[null],dates:this.fb.array([new l.g(null),new l.g(null)],{validators:Ft.a.compareDatesValidators("rangeCompare",[[0],[1]])}),fromTo:this.fb.group({dateRangeFromYear:[null],dateRangeFromMonth:[null],dateRangeFromDay:[null],dateRangeToYear:[null],dateRangeToMonth:[null],dateRangeToDay:[null]})}),departureDates:this.fb.array([new l.g(null),new l.g(null)],{validators:Ft.a.compareDatesValidators("rangeCompare2",[[0],[1]])}),returnDates:this.fb.array([new l.g(null),new l.g(null)],{validators:Ft.a.compareDatesValidators("rangeCompare3",[[0],[1]])}),stationTypeCode:[null],refundPicUno:[null],billingTypeCode:[null],etEmdOtherTypeCode:[null],internationalOrDomestic:[null],gdsSubPnr:[null],bookingCode:[null],bookingItemCode:[null],packageCode:[null],raRefundNo:[null],ticketNo:[null],resolutionYn:[null],withdrawYn:[null],excludeAirlineCodes:[null],airlineCodes:[null],gdsCompCode:[null],bookerCompCode:[null],bookerCompCodes:[null],fopCode:[null],refundClientAmount:[null],refundDsrYn:[null],invoiceIssueYn:[null],affiliateCouponYn:[null],dsrFinishYn:[null],refundSlipYn:[null],verifiedYn:[null],erpSendYn:[null],raCouponYn:[null],requestYn:[null],salesPicDeptCodes:[null],multiSelector:[null]}),this.initListSearchFormData=()=>({controlBranchCode:null,dateRange:{rangeType:"RFD01",dates:[kt().add(-1,"weeks").format("YYYY-MM-DD"),kt().format("YYYY-MM-DD")],fromTo:{dateRangeFromYear:kt().format("YYYY"),dateRangeFromMonth:kt().format("MM"),dateRangeFromDay:"01|01|05",dateRangeToYear:kt().format("YYYY"),dateRangeToMonth:kt().format("MM"),dateRangeToDay:"01|01|05"}},departureDates:[null,null],returnDates:[null,null],stationTypeCode:null,refundPicUno:null,billingTypeCode:null,etEmdOtherTypeCode:null,internationalOrDomestic:null,gdsSubPnr:null,bookingCode:null,bookingItemCode:null,packageCode:null,raRefundNo:null,ticketNo:null,resolutionYn:null,withdrawYn:null,excludeAirlineCodes:null,airlineCodes:null,gdsCompCode:null,bookerCompCode:null,bookerCompCodes:null,fopCode:null,refundClientAmount:null,refundDsrYn:null,invoiceIssueYn:null,affiliateCouponYn:null,dsrFinishYn:null,refundSlipYn:null,verifiedYn:null,erpSendYn:null,raCouponYn:null,requestYn:null,salesPicDeptCodes:null,multiSelector:"gdsSubPnr"}),this.initListSearchCondition=()=>({controlBranchCode:null,dateRange:null,departureDates:null,returnDates:null,stationTypeCode:null,refundPicUno:null,billingTypeCode:null,etEmdOtherTypeCode:null,internationalOrDomestic:null,gdsSubPnr:null,bookingCode:null,bookingItemCode:null,packageCode:null,raRefundNo:null,ticketNo:null,resolutionYn:null,withdrawYn:null,bookerCompCode:null,bookerCompCodes:null,excludeAirlineCodes:null,airlineCodes:null,gdsCompCode:null,fopCode:null,refundClientAmount:null,refundDsrYn:null,invoiceIssueYn:null,affiliateCouponYn:null,dsrFinishYn:null,refundSlipYn:null,verifiedYn:null,erpSendYn:null,raCouponYn:null,requestYn:null,salesPicDeptCodes:null,limits:null,sortOrder:null})}}return e.\u0275fac=function(t){return new(t||e)(Ot.bc(l.f),Ot.bc(Vt.b))},e.\u0275prov=Ot.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Nt=i("+Sob"),Wt=i("gbCm"),Yt=i("U2QM");function At(e,t){if(1&e&&(Ot.Wb(0,"div",60),Ot.Rb(1,"app-selectbox",61),Ot.Rb(2,"app-selectbox",62),Ot.Rb(3,"app-selectbox",63),Ot.Wb(4,"span",64),Ot.Pc(5,"~"),Ot.Vb(),Ot.Rb(6,"app-selectbox",65),Ot.Rb(7,"app-selectbox",66),Ot.Rb(8,"app-selectbox",67),Ot.Vb()),2&e){const e=Ot.hc();Ot.Gb("valid-error",e.checkBspPeriodInvalid()),Ot.Cb(1),Ot.pc("options",e.yearOptions)("useAllOptionYn",!1),Ot.Cb(1),Ot.pc("options",e.monthOptions)("useAllOptionYn",!1),Ot.Cb(1),Ot.pc("options",e.paymentPeriodList)("useAllOptionYn",!1),Ot.Cb(3),Ot.pc("options",e.yearOptions)("useAllOptionYn",!1),Ot.Cb(1),Ot.pc("options",e.monthOptions)("useAllOptionYn",!1),Ot.Cb(1),Ot.pc("options",e.paymentPeriodList)("useAllOptionYn",!1)}}const $t=function(){return["dateRange","dates"]};function _t(e,t){if(1&e&&(Ot.Wb(0,"div",68),Ot.Wb(1,"div",13),Ot.Rb(2,"mat-datepicker-toggle",14),Ot.Rb(3,"input",15),Ot.Rb(4,"mat-datepicker",null,69),Ot.Vb(),Ot.Wb(6,"span",17),Ot.Pc(7,"~"),Ot.Vb(),Ot.Wb(8,"div",13),Ot.Rb(9,"mat-datepicker-toggle",14),Ot.Rb(10,"input",18),Ot.Rb(11,"mat-datepicker",null,70),Ot.Vb(),Ot.Vb()),2&e){const e=Ot.Ec(5),t=Ot.Ec(12),i=Ot.hc();Ot.Gb("valid-error",i.checkIsInvalid(Ot.tc(9,$t))),Ot.Cb(2),Ot.pc("for",e),Ot.Cb(1),Ot.pc("matDatepicker",e)("formControlName",0),Ot.Cb(6),Ot.pc("for",t),Ot.Cb(1),Ot.pc("matDatepicker",t)("min",i.dateRangeDates[0])("formControlName",1)}}function Bt(e,t){1&e&&Ot.Rb(0,"app-input-text",71)}function Gt(e,t){1&e&&Ot.Rb(0,"app-input-text",72)}function Mt(e,t){1&e&&Ot.Rb(0,"app-input-text",73)}function Ut(e,t){1&e&&Ot.Rb(0,"app-input-text",74)}function Ht(e,t){1&e&&Ot.Rb(0,"app-input-text",75)}function Kt(e,t){1&e&&Ot.Rb(0,"app-input-text",76)}function zt(e,t){if(1&e){const e=Ot.Xb();Ot.Wb(0,"a",77),Ot.fc("click",(function(){return Ot.Fc(e),Ot.hc().clickClearDeptEvent.emit()})),Ot.Pc(1,"\uc0ad\uc81c"),Ot.Vb()}}const Qt=function(){return{userTypeCode:"U01"}},Xt=function(){return["userNo","name","deptName","positionName"]},qt=function(){return["CMP02","CMP03","CMP08"]},Jt=function(e){return{compTypeCodes:e}},Zt=function(){return["compName","compCode"]},ei=function(){return{standalone:!0}};let ti=(()=>{class e{constructor(e,t){this._dataService=e,this.cd=t,this.clickSearchEvent=new Ot.n,this.clickResetEvent=new Ot.n,this.changeSearchConditionEvent=new Ot.n,this.clickOpenDeptModalEvent=new Ot.n,this.clickClearDeptEvent=new Ot.n,this.isShowmore=!1,this.useYnOptions=[{label:"Y",value:!0},{label:"N",value:!1}],this.internationalOrDomesticOptions=[{label:"\uad6d\uc81c",value:"I"},{label:"\uad6d\ub0b4",value:"D"}],this.codeTypeOptions=[{label:"PNR",value:"gdsSubPnr"},{label:"\ud1b5\ud569\uc608\uc57d\ucf54\ub4dc",value:"bookingCode"},{label:"\uc608\uc57d\ucf54\ub4dc",value:"bookingItemCode"},{label:"\ud328\ud0a4\uc9c0\ubc88\ud638",value:"packageCode"},{label:"RA\ubc88\ud638",value:"raRefundNo"},{label:"\ud2f0\ucf13\ubc88\ud638",value:"ticketNo"}],this.bookerCompOptions=[{label:"\uc81c\ud734\uc0ac",value:"J"},{label:"\uac70\ub798\ucc98",value:"G"}],this.yearOptions=[],this.monthOptions=[],this._$unsubscribe=new D.a,this.searchForm=this._dataService.generateListSearchForm(),this._initSubscription(),this._initThisState()}get otherSearchInfo(){return this._otherSearchInfo}set otherSearchInfo(e){this._otherSearchInfo=e,this._setOtherSearchInfo(e)}get searchCondition(){return this._searchCondition}set searchCondition(e){this._searchCondition=e,this.searchFormData=this._setSearchFormData(e)}get selectedDeptList(){return this._selectedDeptList}set selectedDeptList(e){this._selectedDeptList=e,this._setDeptCodes(e)}get searchFormValid(){return this.searchForm.valid&&!this._bspPeriodInvalid()}get dateRangeType(){return this.searchForm.get("dateRange").get("rangeType")}get dateRangeDates(){return this.searchForm.get("dateRange").get("dates").value}get date2RangeDates(){return this.searchForm.get("departureDates").value}get date3RangeDates(){return this.searchForm.get("returnDates").value}get multiSelectorValue(){return this.searchForm.get("multiSelector").value}get periodFromTo(){return this.searchForm.get("dateRange").get("fromTo")}doChangeDeptCodes(e){this.searchForm.patchValue({resolutionWriterDeptCodes:e&&e.length>0?e:null}),this.cd.detectChanges()}ngOnInit(){}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete()}onSubmit(){if(this.searchForm.invalid||this._bspPeriodInvalid())return void(this._checkValid=!0);const e=this._setOtherSearchCondition();this.clickSearchEvent.emit({searchCondition:this.searchForm.value,otherSearchInfo:e}),this._checkValid=!1}clickOpenDeptModal(){this.clickOpenDeptModalEvent.emit()}onReset(){this.clickResetEvent.emit()}checkIsInvalid(e){return this._checkValid&&this.searchForm.get(e)&&this.searchForm.get(e).invalid}checkBspPeriodInvalid(){return this._checkValid&&this._bspPeriodInvalid()}setSearchCondition(){const e=this.searchForm.value,t=this.dateRangeType.value,i={rangeType:t,dates:"RFD01"===t?this._convertBspPeriod():e.dateRange.dates},n=e.departureDates.some(e=>F.isNil(e))?null:e.departureDates,o=e.returnDates.some(e=>F.isNil(e))?null:e.returnDates,l=F.isNil(e.excludeAirlineCodes)?null:e.excludeAirlineCodes.split(","),c=F.isNil(e.airlineCodes)?null:e.airlineCodes.split(",");return F.omitBy(Object.assign({},e,{dateRange:i,departureDates:n,returnDates:o,excludeAirlineCodes:l,airlineCodes:c}),F.isNil)}_setSearchFormData(e){const t=this._dataService.initListSearchFormData();if(F.isEmpty(e))return t;const i=F.isEmpty(e.excludeAirlineCodes)?null:e.excludeAirlineCodes.join(","),n=F.isEmpty(e.airlineCodes)?null:e.airlineCodes.join(",");return Object.assign({},e,{excludeAirlineCodes:i,airlineCodes:n})}_setOtherSearchInfo(e){this.refundPicUnoInput=(null==e?void 0:e.refundPicUnoInput)||null,this.bookerCompCodeInput=(null==e?void 0:e.bookerCompCodeInput)||null}_setOtherSearchCondition(){const e={};return this.autoCompletes.forEach(t=>{Object.assign(e,t.getInputValue())}),e}_setDeptCodes(e){if(F.isEmpty(e))return void(this.deptCodesDesc=null);const t=e.map(e=>e.compBasisCodeValue);this.deptCodesDesc=t.length+"\uac1c \uc120\ud0dd"}_initThisState(){const e=kt().add(-5,"years").year();for(let t=0;t<20;t++)this.yearOptions.push({value:(e+t).toString(),label:`${e+t}\ub144`});for(let t=1;t<=12;t++)this.monthOptions.push({value:t<10?`0${t}`:t.toString(),label:`${t}\uc6d4`})}_initSubscription(){this.searchForm.get("multiSelector").valueChanges.pipe(Object(P.a)(this._$unsubscribe)).subscribe(e=>{this.codeTypeOptions.map(e=>e.value).forEach(t=>{e===t?this.searchForm.get(t).enable():this.searchForm.get(t).disable()})}),Object(E.a)([this.searchForm.get("bookerCompCode").valueChanges,this.searchForm.get("bookerCompCodes").valueChanges]).pipe(Object(P.a)(this._$unsubscribe)).subscribe(([e,t])=>{const i=this.searchForm.get("bookerCompCode"),n=this.searchForm.get("bookerCompCodes");F.isNil(e)&&F.isNil(t)?(i.disabled&&i.enable(),n.disabled&&n.enable()):!F.isNil(e)&&F.isNil(t)?n.enabled&&(n.disable(),n.setValue(null)):i.enabled&&(i.disable(),i.setValue(null))}),this.dateRangeType.valueChanges.pipe(Object(P.a)(this._$unsubscribe)).subscribe(e=>{const t=this.searchForm.get("dateRange").get("fromTo"),i=this.searchForm.get("dateRange").get("dates");"RFD01"===e?(t.enable(),i.disable()):(t.disable(),i.enable())})}_bspPeriodInvalid(){if("RFD01"!==this.dateRangeType.value)return!1;const[e,t]=this._getBspPeriod();return t.isBefore(e)}_convertBspPeriod(){const[e,t]=this._getBspPeriod();return[e.format("YYYY-MM-DD"),t.format("YYYY-MM-DD")]}_getBspPeriod(){const{dateRangeFromYear:e,dateRangeFromMonth:t,dateRangeFromDay:i,dateRangeToYear:n,dateRangeToMonth:o,dateRangeToDay:l}=this.periodFromTo.value,[c,s,a]=i.split("|"),r=kt([e,t-1,s]),[d,u,p]=l.split("|"),b="06"===d?kt([n,o-1]).daysInMonth():p;return[r,kt([n,o-1,b])]}}return e.\u0275fac=function(t){return new(t||e)(Ot.Qb(It),Ot.Qb(Ot.h))},e.\u0275cmp=Ot.Kb({type:e,selectors:[["app-fl-refund-search"]],viewQuery:function(e,t){var i;1&e&&Ot.Xc(Lt.a,!0),2&e&&Ot.Dc(i=Ot.gc())&&(t.autoCompletes=i)},inputs:{dateRangeTypeList:"dateRangeTypeList",etEmdOtherTypeList:"etEmdOtherTypeList",refundClientAmountList:"refundClientAmountList",fopList:"fopList",gdsCompList:"gdsCompList",bookerCompList:"bookerCompList",controlBranchTypeList:"controlBranchTypeList",stationTypeList:"stationTypeList",billingTypeList:"billingTypeList",paymentPeriodList:"paymentPeriodList",otherSearchInfo:"otherSearchInfo",searchCondition:"searchCondition",selectedDeptList:"selectedDeptList"},outputs:{clickSearchEvent:"clickSearchEvent",clickResetEvent:"clickResetEvent",changeSearchConditionEvent:"changeSearchConditionEvent",clickOpenDeptModalEvent:"clickOpenDeptModalEvent",clickClearDeptEvent:"clickClearDeptEvent"},decls:164,vars:88,consts:[[1,"grid-search-box","multi",3,"formGroup","connectForm","ngSubmit"],[1,"form-option-area"],[1,"row"],[1,"col-1"],[1,"form-label"],["formControlName","controlBranchCode","dataKey","detailCode","displayKey","detailCodeNameEn",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","stationTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn",1,"d-inline-flex","flex-fill",3,"options"],["formGroupName","dateRange",1,"col-2","flex-shrink1"],["formControlName","rangeType","dataKey","detailCode","displayKey","detailCodeNameEn",1,"d-inline-flex","flex-shrink-0",3,"options","useAllOptionYn"],["class","form-group ml5","formGroupName","fromTo",3,"valid-error",4,"ngIf"],["class","calendar-set flex-fill","formArrayName","dates",3,"valid-error",4,"ngIf"],[1,"col-2"],["formArrayName","departureDates",1,"calendar-set","flex-fill"],[1,"input","calendar","d-inline-flex","flex-fill"],[3,"for"],["type","text","placeholder","\ub0a0\uc9dc \uc120\ud0dd",3,"matDatepicker","formControlName"],["fromDate2",""],[1,"dash"],["type","text","placeholder","\ub0a0\uc9dc \uc120\ud0dd",3,"matDatepicker","min","formControlName"],["toDate2",""],["formArrayName","returnDates",1,"calendar-set","flex-fill"],["fromDate3",""],["toDate3",""],["formControlName","refundPicUno","apiUrl","admin/common/staff","dataKey","userNo","inputFieldFormat","{0}-{1}&,{2}&,{3}","placeholder","\uc774\ub984 \uac80\uc0c9",1,"d-inline-flex","flex-fill",3,"apiCondition","apiSearchTerm","inputFieldFormatKeyList","inputFieldValue","inputId"],["formControlName","billingTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","etEmdOtherTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","internationalOrDomestic",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","resolutionYn",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","withdrawYn",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","gdsCompCode",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","fopCode","dataKey","detailCode","displayKey","detailCodeNameEn",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","excludeAirlineCodes","inputFormat","upperCase","placeholder","2\ucf54\ub4dc \uc785\ub825 ,\ub85c \ub2e4\uc911\uc785\ub825",1,"d-inline-flex","flex-fill"],["formControlName","airlineCodes","inputFormat","upperCase","placeholder","2\ucf54\ub4dc \uc785\ub825 ,\ub85c \ub2e4\uc911\uc785\ub825",1,"d-inline-flex","flex-fill"],["formControlName","dsrFinishYn",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","invoiceIssueYn",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","refundClientAmount","dataKey","detailCode","displayKey","detailCodeNameEn",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","refundDsrYn",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","refundSlipYn",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","affiliateCouponYn",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","verifiedYn",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","erpSendYn",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","raCouponYn",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","requestYn",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","multiSelector",1,"d-inline-flex","flex-shrink-0","mr5",3,"options","useAllOptionYn"],[3,"ngSwitch"],["formControlName","gdsSubPnr","class","d-inline flex-fill","valueType","string","placeholder","PNR \uac80\uc0c9",4,"ngSwitchCase"],["formControlName","bookingCode","class","d-inline flex-fill","valueType","string","placeholder","\ud1b5\ud569\uc608\uc57d\ucf54\ub4dc \uac80\uc0c9",4,"ngSwitchCase"],["formControlName","bookingItemCode","class","d-inline flex-fill","valueType","string","placeholder","\uc608\uc57d\ucf54\ub4dc \uac80\uc0c9",4,"ngSwitchCase"],["formControlName","packageCode","class","d-inline flex-fill","valueType","string","placeholder","\ud328\ud0a4\uc9c0\ubc88\ud638 \uac80\uc0c9",4,"ngSwitchCase"],["formControlName","raRefundNo","class","d-inline flex-fill","valueType","string","placeholder","RA\ubc88\ud638 \uac80\uc0c9",4,"ngSwitchCase"],["formControlName","ticketNo","class","d-inline flex-fill","valueType","string","placeholder","\ud2f0\ucf13\ubc88\ud638 \uac80\uc0c9",4,"ngSwitchCase"],["formControlName","bookerCompCode","apiUrl","common/comp","dataKey","compCode","inputFieldFormat","{0} - {1}",1,"d-inline-flex","flex-fill",3,"inputFieldValue","inputId","apiCondition","apiSearchTerm","inputFieldFormatKeyList"],["formControlName","bookerCompCodes",1,"d-inline-flex","flex-fill",3,"options","useAllOptionYn"],[1,"input","d-inline-flex","flex-fill"],["type","text","placeholder","\uc804\uccb4","readonly","true",3,"ngModel","ngModelOptions","click"],[3,"ngIf"],[1,"form-button-area"],["type","submit","role","button",1,"btn","btn-primary","sm"],["type","button","role","button",1,"btn","btn-reset","sm",3,"click"],[1,"btn-searchbox-extend",3,"click"],["formGroupName","fromTo",1,"form-group","ml5"],["formControlName","dateRangeFromYear",1,"flex-fill",3,"options","useAllOptionYn"],["formControlName","dateRangeFromMonth",1,"flex-fill",3,"options","useAllOptionYn"],["formControlName","dateRangeFromDay","dataKey","detailCode","displayKey","detailCodeNameEn",1,"flex-fill",3,"options","useAllOptionYn"],[1,"text"],["formControlName","dateRangeToYear",1,"flex-fill",3,"options","useAllOptionYn"],["formControlName","dateRangeToMonth",1,"flex-fill",3,"options","useAllOptionYn"],["formControlName","dateRangeToDay","dataKey","detailCode","displayKey","detailCodeNameEn",1,"flex-fill",3,"options","useAllOptionYn"],["formArrayName","dates",1,"calendar-set","flex-fill"],["fromDate",""],["toDate",""],["formControlName","gdsSubPnr","valueType","string","placeholder","PNR \uac80\uc0c9",1,"d-inline","flex-fill"],["formControlName","bookingCode","valueType","string","placeholder","\ud1b5\ud569\uc608\uc57d\ucf54\ub4dc \uac80\uc0c9",1,"d-inline","flex-fill"],["formControlName","bookingItemCode","valueType","string","placeholder","\uc608\uc57d\ucf54\ub4dc \uac80\uc0c9",1,"d-inline","flex-fill"],["formControlName","packageCode","valueType","string","placeholder","\ud328\ud0a4\uc9c0\ubc88\ud638 \uac80\uc0c9",1,"d-inline","flex-fill"],["formControlName","raRefundNo","valueType","string","placeholder","RA\ubc88\ud638 \uac80\uc0c9",1,"d-inline","flex-fill"],["formControlName","ticketNo","valueType","string","placeholder","\ud2f0\ucf13\ubc88\ud638 \uac80\uc0c9",1,"d-inline","flex-fill"],[1,"btn-form-del",3,"click"]],template:function(e,t){if(1&e&&(Ot.Wb(0,"form",0),Ot.fc("ngSubmit",(function(){return t.onSubmit()})),Ot.Wb(1,"div",1),Ot.Wb(2,"div",2),Ot.Wb(3,"div",3),Ot.Wb(4,"span",4),Ot.Pc(5,"\ubcf8/\uc9c0\uc0ac"),Ot.Vb(),Ot.Rb(6,"app-selectbox",5),Ot.Vb(),Ot.Wb(7,"div",3),Ot.Wb(8,"span",4),Ot.Pc(9,"\uc2a4\ud14c\uc774\uc158"),Ot.Vb(),Ot.Rb(10,"app-selectbox",6),Ot.Vb(),Ot.Wb(11,"div",7),Ot.Rb(12,"app-selectbox",8),Ot.Nc(13,At,9,14,"div",9),Ot.Nc(14,_t,13,10,"div",10),Ot.Vb(),Ot.Vb(),Ot.Wb(15,"div",2),Ot.Wb(16,"div",11),Ot.Wb(17,"span",4),Ot.Pc(18,"\ucd9c\ubc1c\uc77c"),Ot.Vb(),Ot.Wb(19,"div",12),Ot.Wb(20,"div",13),Ot.Rb(21,"mat-datepicker-toggle",14),Ot.Rb(22,"input",15),Ot.Rb(23,"mat-datepicker",null,16),Ot.Vb(),Ot.Wb(25,"span",17),Ot.Pc(26,"~"),Ot.Vb(),Ot.Wb(27,"div",13),Ot.Rb(28,"mat-datepicker-toggle",14),Ot.Rb(29,"input",18),Ot.Rb(30,"mat-datepicker",null,19),Ot.Vb(),Ot.Vb(),Ot.Vb(),Ot.Wb(32,"div",11),Ot.Wb(33,"span",4),Ot.Pc(34,"\ub3c4\ucc29\uc77c"),Ot.Vb(),Ot.Wb(35,"div",20),Ot.Wb(36,"div",13),Ot.Rb(37,"mat-datepicker-toggle",14),Ot.Rb(38,"input",15),Ot.Rb(39,"mat-datepicker",null,21),Ot.Vb(),Ot.Wb(41,"span",17),Ot.Pc(42,"~"),Ot.Vb(),Ot.Wb(43,"div",13),Ot.Rb(44,"mat-datepicker-toggle",14),Ot.Rb(45,"input",18),Ot.Rb(46,"mat-datepicker",null,22),Ot.Vb(),Ot.Vb(),Ot.Vb(),Ot.Vb(),Ot.Wb(48,"div",2),Ot.Wb(49,"div",3),Ot.Wb(50,"span",4),Ot.Pc(51,"\ud658\ubd88\uc790"),Ot.Vb(),Ot.Rb(52,"app-auto-complete",23),Ot.Vb(),Ot.Wb(53,"div",3),Ot.Wb(54,"span",4),Ot.Pc(55,"ATR/BSP"),Ot.Vb(),Ot.Rb(56,"app-selectbox",24),Ot.Vb(),Ot.Wb(57,"div",3),Ot.Wb(58,"span",4),Ot.Pc(59,"\ud2f0\ucf13\uc885\ub958"),Ot.Vb(),Ot.Rb(60,"app-selectbox",25),Ot.Vb(),Ot.Wb(61,"div",3),Ot.Wb(62,"span",4),Ot.Pc(63,"\uad6d\uc81c/\uad6d\ub0b4"),Ot.Vb(),Ot.Rb(64,"app-selectbox",26),Ot.Vb(),Ot.Vb(),Ot.Wb(65,"div",2),Ot.Wb(66,"div",3),Ot.Wb(67,"span",4),Ot.Pc(68,"\uacb0\uc758\uc11c"),Ot.Vb(),Ot.Rb(69,"app-selectbox",27),Ot.Vb(),Ot.Wb(70,"div",3),Ot.Wb(71,"span",4),Ot.Pc(72,"\uc9c0\uae09\uc5ec\ubd80"),Ot.Vb(),Ot.Rb(73,"app-selectbox",28),Ot.Vb(),Ot.Wb(74,"div",3),Ot.Wb(75,"span",4),Ot.Pc(76,"GDS"),Ot.Vb(),Ot.Rb(77,"app-selectbox",29),Ot.Vb(),Ot.Wb(78,"div",3),Ot.Wb(79,"span",4),Ot.Pc(80,"\uacb0\uc81c\uc218\ub2e8"),Ot.Vb(),Ot.Rb(81,"app-selectbox",30),Ot.Vb(),Ot.Vb(),Ot.Wb(82,"div",2),Ot.Wb(83,"div",3),Ot.Wb(84,"span",4),Ot.Pc(85,"\uc81c\uc678\ud56d\uacf5\uc0ac"),Ot.Vb(),Ot.Rb(86,"app-input-text",31),Ot.Vb(),Ot.Wb(87,"div",3),Ot.Wb(88,"span",4),Ot.Pc(89,"\ud56d\uacf5\uc0ac"),Ot.Vb(),Ot.Rb(90,"app-input-text",32),Ot.Vb(),Ot.Wb(91,"div",3),Ot.Wb(92,"span",4),Ot.Pc(93,"\ub9c8\uac10"),Ot.Vb(),Ot.Rb(94,"app-selectbox",33),Ot.Vb(),Ot.Wb(95,"div",3),Ot.Wb(96,"span",4),Ot.Pc(97,"\uc778\ubcf4\uc774\uc2a4\ubc1c\ud589"),Ot.Vb(),Ot.Rb(98,"app-selectbox",34),Ot.Vb(),Ot.Vb(),Ot.Wb(99,"div",2),Ot.Wb(100,"div",3),Ot.Wb(101,"span",4),Ot.Pc(102,"\ud658\ubd88\uae08\uc561(\ub178)"),Ot.Vb(),Ot.Rb(103,"app-selectbox",35),Ot.Vb(),Ot.Wb(104,"div",3),Ot.Wb(105,"span",4),Ot.Pc(106,"\ud658\ubd88DSR"),Ot.Vb(),Ot.Rb(107,"app-selectbox",36),Ot.Vb(),Ot.Wb(108,"div",3),Ot.Wb(109,"span",4),Ot.Pc(110,"\ud658\ubd88\uc804\ud45c\ubc1c\ud589"),Ot.Vb(),Ot.Rb(111,"app-selectbox",37),Ot.Vb(),Ot.Wb(112,"div",3),Ot.Wb(113,"span",4),Ot.Pc(114,"\uc81c\ud734\uc0ac\ucfe0\ud3f0"),Ot.Vb(),Ot.Rb(115,"app-selectbox",38),Ot.Vb(),Ot.Vb(),Ot.Wb(116,"div",2),Ot.Wb(117,"div",3),Ot.Wb(118,"span",4),Ot.Pc(119,"\uac80\uc99d"),Ot.Vb(),Ot.Rb(120,"app-selectbox",39),Ot.Vb(),Ot.Wb(121,"div",3),Ot.Wb(122,"span",4),Ot.Pc(123,"\ucf54\ub7ec\uc2a4\uc804\uc1a1"),Ot.Vb(),Ot.Rb(124,"app-selectbox",40),Ot.Vb(),Ot.Wb(125,"div",3),Ot.Wb(126,"span",4),Ot.Pc(127,"RA"),Ot.Vb(),Ot.Rb(128,"app-selectbox",41),Ot.Vb(),Ot.Wb(129,"div",3),Ot.Wb(130,"span",4),Ot.Pc(131,"\uc694\uccad\uc5ec\ubd80"),Ot.Vb(),Ot.Rb(132,"app-selectbox",42),Ot.Vb(),Ot.Vb(),Ot.Wb(133,"div",2),Ot.Wb(134,"div",3),Ot.Rb(135,"app-selectbox",43),Ot.Ub(136,44),Ot.Nc(137,Bt,1,0,"app-input-text",45),Ot.Nc(138,Gt,1,0,"app-input-text",46),Ot.Nc(139,Mt,1,0,"app-input-text",47),Ot.Nc(140,Ut,1,0,"app-input-text",48),Ot.Nc(141,Ht,1,0,"app-input-text",49),Ot.Nc(142,Kt,1,0,"app-input-text",50),Ot.Tb(),Ot.Vb(),Ot.Wb(143,"div",3),Ot.Wb(144,"span",4),Ot.Pc(145,"\uac70\ub798\ucc98\uba85"),Ot.Vb(),Ot.Rb(146,"app-auto-complete",51),Ot.Vb(),Ot.Wb(147,"div",3),Ot.Wb(148,"span",4),Ot.Pc(149,"\uc81c\ud734\uc0ac"),Ot.Vb(),Ot.Rb(150,"app-multi-select",52),Ot.Vb(),Ot.Wb(151,"div",3),Ot.Wb(152,"span",4),Ot.Pc(153,"\ubd80\uc11c"),Ot.Vb(),Ot.Wb(154,"div",53),Ot.Wb(155,"input",54),Ot.fc("click",(function(){return t.clickOpenDeptModal()})),Ot.Vb(),Ot.Nc(156,zt,2,0,"ng-template",55),Ot.Vb(),Ot.Vb(),Ot.Vb(),Ot.Vb(),Ot.Wb(157,"div",56),Ot.Wb(158,"button",57),Ot.Pc(159,"\uac80\uc0c9"),Ot.Vb(),Ot.Wb(160,"button",58),Ot.fc("click",(function(){return t.onReset()})),Ot.Pc(161,"Reset"),Ot.Vb(),Ot.Wb(162,"a",59),Ot.fc("click",(function(){return t.isShowmore=!t.isShowmore})),Ot.Pc(163,"\uac80\uc0c9 \uc635\uc158 \ub354\ubcf4\uae30"),Ot.Vb(),Ot.Vb(),Ot.Vb()),2&e){const e=Ot.Ec(24),i=Ot.Ec(31),n=Ot.Ec(40),o=Ot.Ec(47);Ot.pc("formGroup",t.searchForm)("connectForm",t.searchFormData),Ot.Cb(6),Ot.pc("options",t.controlBranchTypeList),Ot.Cb(4),Ot.pc("options",t.stationTypeList),Ot.Cb(2),Ot.pc("options",t.dateRangeTypeList)("useAllOptionYn",!1),Ot.Cb(1),Ot.pc("ngIf","RFD01"===t.searchForm.value.dateRange.rangeType),Ot.Cb(1),Ot.pc("ngIf","RFD01"!==t.searchForm.value.dateRange.rangeType),Ot.Cb(5),Ot.Gb("valid-error",t.checkIsInvalid("departureDates")),Ot.Cb(2),Ot.pc("for",e),Ot.Cb(1),Ot.pc("matDatepicker",e)("formControlName",0),Ot.Cb(6),Ot.pc("for",i),Ot.Cb(1),Ot.pc("matDatepicker",i)("min",t.date2RangeDates[0])("formControlName",1),Ot.Cb(6),Ot.Gb("valid-error",t.checkIsInvalid("returnDates")),Ot.Cb(2),Ot.pc("for",n),Ot.Cb(1),Ot.pc("matDatepicker",n)("formControlName",0),Ot.Cb(6),Ot.pc("for",o),Ot.Cb(1),Ot.pc("matDatepicker",o)("min",t.date3RangeDates[0])("formControlName",1),Ot.Cb(3),Ot.Gb("hide",!t.isShowmore),Ot.Cb(4),Ot.pc("apiCondition",Ot.tc(81,Qt))("apiSearchTerm","name")("inputFieldFormatKeyList",Ot.tc(82,Xt))("inputFieldValue",t.refundPicUnoInput)("inputId","refundPicUnoInput"),Ot.Cb(4),Ot.pc("options",t.billingTypeList),Ot.Cb(4),Ot.pc("options",t.etEmdOtherTypeList),Ot.Cb(4),Ot.pc("options",t.internationalOrDomesticOptions),Ot.Cb(1),Ot.Gb("hide",!t.isShowmore),Ot.Cb(4),Ot.pc("options",t.useYnOptions),Ot.Cb(4),Ot.pc("options",t.useYnOptions),Ot.Cb(4),Ot.pc("options",t.gdsCompList),Ot.Cb(4),Ot.pc("options",t.fopList),Ot.Cb(1),Ot.Gb("hide",!t.isShowmore),Ot.Cb(12),Ot.pc("options",t.useYnOptions),Ot.Cb(4),Ot.pc("options",t.useYnOptions),Ot.Cb(1),Ot.Gb("hide",!t.isShowmore),Ot.Cb(4),Ot.pc("options",t.refundClientAmountList),Ot.Cb(4),Ot.pc("options",t.useYnOptions),Ot.Cb(4),Ot.pc("options",t.useYnOptions),Ot.Cb(4),Ot.pc("options",t.useYnOptions),Ot.Cb(1),Ot.Gb("hide",!t.isShowmore),Ot.Cb(4),Ot.pc("options",t.useYnOptions),Ot.Cb(4),Ot.pc("options",t.useYnOptions),Ot.Cb(4),Ot.pc("options",t.useYnOptions),Ot.Cb(4),Ot.pc("options",t.useYnOptions),Ot.Cb(1),Ot.Gb("hide",!t.isShowmore),Ot.Cb(2),Ot.pc("options",t.codeTypeOptions)("useAllOptionYn",!1),Ot.Cb(1),Ot.pc("ngSwitch",t.multiSelectorValue),Ot.Cb(1),Ot.pc("ngSwitchCase","gdsSubPnr"),Ot.Cb(1),Ot.pc("ngSwitchCase","bookingCode"),Ot.Cb(1),Ot.pc("ngSwitchCase","bookingItemCode"),Ot.Cb(1),Ot.pc("ngSwitchCase","packageCode"),Ot.Cb(1),Ot.pc("ngSwitchCase","raRefundNo"),Ot.Cb(1),Ot.pc("ngSwitchCase","ticketNo"),Ot.Cb(4),Ot.pc("inputFieldValue",t.bookerCompCodeInput)("inputId","bookerCompCodeInput")("apiCondition",Ot.uc(84,Jt,Ot.tc(83,qt)))("apiSearchTerm","compName")("inputFieldFormatKeyList",Ot.tc(86,Zt)),Ot.Cb(4),Ot.pc("options",t.bookerCompList)("useAllOptionYn",!0),Ot.Cb(5),Ot.pc("ngModel",t.deptCodesDesc)("ngModelOptions",Ot.tc(87,ei)),Ot.Cb(1),Ot.pc("ngIf",(null==t.deptCodesDesc?null:t.deptCodesDesc.length)>0),Ot.Cb(6),Ot.Gb("active",t.isShowmore)}},directives:[l.B,l.s,l.k,Nt.a,yt.a,l.r,l.i,l.l,o.o,l.e,St.a,vt.a,l.c,jt.a,Lt.a,Wt.a,o.q,o.r,Yt.a,l.u],encapsulation:2,changeDetection:0}),e})();var ii=i("2QGa"),ni=i("pb6r");function oi(e,t){if(1&e){const e=Ot.Xb();Ot.Wb(0,"app-checkbox",6),Ot.fc("onChange",(function(t){return Ot.Fc(e),Ot.hc(2).onCheckAll(t)})),Ot.Vb()}if(2&e){const e=Ot.hc(2);Ot.pc("ngModel",e.isAllChecked)}}function li(e,t){if(1&e){const e=Ot.Xb();Ot.Wb(0,"app-checkbox",7),Ot.fc("ngModelChange",(function(t){return Ot.Fc(e),Ot.hc(2).checkedRows=t})),Ot.Vb()}if(2&e){const e=t.$implicit,i=Ot.hc(2);Ot.pc("value",e.rowid)("ngModel",i.checkedRows)}}function ci(e,t){1&e&&(Ot.Ub(0),Ot.Wb(1,"kendo-grid-column",3),Ot.Nc(2,oi,1,1,"ng-template",4),Ot.Nc(3,li,1,2,"ng-template",5),Ot.Vb(),Ot.Tb())}function si(e,t){1&e&&Ot.Sb(0)}const ai=function(e){return{$implicit:e}};function ri(e,t){if(1&e&&Ot.Nc(0,si,1,0,"ng-container",15),2&e){const e=t.$implicit,i=Ot.hc(2).$implicit,n=Ot.hc(3);Ot.pc("ngTemplateOutlet",n.getColumnTemplate(i.template))("ngTemplateOutletContext",Ot.uc(2,ai,e))}}function di(e,t){1&e&&(Ot.Ub(0),Ot.Nc(1,ri,1,4,"ng-template",5),Ot.Tb())}const ui=function(e,t){return[e,t]};function pi(e,t){if(1&e&&(Ot.Ub(0),Ot.Rb(1,"app-input-text",16),Ot.Tb()),2&e){const e=Ot.hc(),t=e.rowIndex,i=e.$implicit,n=Ot.hc(2).$implicit,o=Ot.hc(3);Ot.Cb(1),Ot.pc("formControl",o.formGroups.at(t).get(n.field))("valueType",n.formValueType)("inputFormat",n.formInputFormt)("isInvalid",o.checkIsInvalid(Ot.vc(4,ui,t,n.field))&&o.getIsRowChecked(i.rowid))}}function bi(e,t){if(1&e&&(Ot.Ub(0),Ot.Wb(1,"span"),Ot.Pc(2),Ot.Vb(),Ot.Tb()),2&e){const e=Ot.hc().$implicit,t=Ot.hc(2).$implicit,i=Ot.hc(3);Ot.Cb(2),Ot.Rc(" ",i.formateCellText(e,t.field,t.path,t.format)," ")}}function hi(e,t){if(1&e&&(Ot.Nc(0,pi,2,7,"ng-container",1),Ot.Nc(1,bi,3,1,"ng-container",1)),2&e){const e=Ot.hc(2).$implicit;Ot.pc("ngIf",e.formControlYn),Ot.Cb(1),Ot.pc("ngIf",!e.formControlYn)}}function mi(e,t){1&e&&Ot.Nc(0,hi,2,2,"ng-template",5)}const fi=function(e){return{"text-align":e}},Ci=function(){return{"text-align":"center"}};function gi(e,t){if(1&e&&(Ot.Wb(0,"kendo-grid-column",12),Ot.Nc(1,di,2,0,"ng-container",13),Ot.Nc(2,mi,1,0,"ng-template",null,14,Ot.Oc),Ot.Vb()),2&e){const e=t.$implicit,i=Ot.Ec(3);Ot.Lc(Ot.uc(12,fi,"currency"!==e.format?"center":"right")),Ot.Eb(e.class||void 0),Ot.pc("headerStyle",Ot.tc(14,Ci))("field",e.field)("title",e.title)("format",e.format)("filter",e.type)("width",e.width||void 0),Ot.Cb(1),Ot.pc("ngIf",e.template)("ngIfElse",i)}}function Oi(e,t){if(1&e&&(Ot.Wb(0,"kendo-grid-column-group",10),Ot.Nc(1,gi,4,15,"kendo-grid-column",11),Ot.Vb()),2&e){const e=Ot.hc().$implicit;Ot.pc("title",e.title)("locked",!1)("headerStyle",Ot.tc(4,Ci)),Ot.Cb(1),Ot.pc("ngForOf",e.subColums)}}function ki(e,t){1&e&&Ot.Sb(0)}function Si(e,t){if(1&e&&Ot.Nc(0,ki,1,0,"ng-container",15),2&e){const e=t.$implicit,i=Ot.hc(3).$implicit,n=Ot.hc();Ot.pc("ngTemplateOutlet",n.getColumnTemplate(i.template))("ngTemplateOutletContext",Ot.uc(2,ai,e))}}function vi(e,t){1&e&&(Ot.Ub(0),Ot.Nc(1,Si,1,4,"ng-template",5),Ot.Tb())}function ji(e,t){if(1&e&&(Ot.Ub(0),Ot.Rb(1,"app-input-text",16),Ot.Tb()),2&e){const e=Ot.hc(),t=e.rowIndex,i=e.$implicit,n=Ot.hc(3).$implicit,o=Ot.hc();Ot.Cb(1),Ot.pc("formControl",o.formGroups.at(t).get(n.field))("valueType",n.formValueType)("inputFormat",n.formInputFormt)("isInvalid",o.checkIsInvalid(Ot.vc(4,ui,t,n.field))&&o.getIsRowChecked(i.rowid))}}function yi(e,t){if(1&e&&(Ot.Ub(0),Ot.Wb(1,"span"),Ot.Pc(2),Ot.Vb(),Ot.Tb()),2&e){const e=Ot.hc().$implicit,t=Ot.hc(3).$implicit,i=Ot.hc();Ot.Cb(2),Ot.Rc(" ",i.formateCellText(e,t.field,t.path,t.format)," ")}}function Ri(e,t){if(1&e&&(Ot.Nc(0,ji,2,7,"ng-container",1),Ot.Nc(1,yi,3,1,"ng-container",1)),2&e){const e=Ot.hc(3).$implicit;Ot.pc("ngIf",e.formControlYn),Ot.Cb(1),Ot.pc("ngIf",!e.formControlYn)}}function Li(e,t){1&e&&Ot.Nc(0,Ri,2,2,"ng-template",5)}function Di(e,t){1&e&&Ot.Sb(0)}function Ei(e,t){if(1&e&&Ot.Nc(0,Di,1,0,"ng-container",15),2&e){const e=t.$implicit,i=Ot.hc(4);Ot.pc("ngTemplateOutlet",i.detailGridTemplate)("ngTemplateOutletContext",Ot.uc(2,ai,e))}}function Ti(e,t){if(1&e&&Ot.Nc(0,Ei,1,4,"ng-template",17),2&e){const e=Ot.hc(3);Ot.pc("kendoGridDetailTemplateShowIf",e.showDetailGridToggle)}}function Pi(e,t){if(1&e&&(Ot.Wb(0,"kendo-grid-column",12),Ot.Nc(1,vi,2,0,"ng-container",13),Ot.Nc(2,Li,1,0,"ng-template",null,14,Ot.Oc),Ot.Vb(),Ot.Nc(4,Ti,1,1,void 0,1)),2&e){const e=Ot.Ec(3),t=Ot.hc().$implicit,i=Ot.hc();Ot.Lc(Ot.uc(13,fi,"currency"!==t.format?"center":"right")),Ot.Eb(t.class||void 0),Ot.pc("headerStyle",Ot.tc(15,Ci))("field",t.field)("title",t.title)("format",t.format)("filter",t.type)("width",t.width||void 0),Ot.Cb(1),Ot.pc("ngIf",t.template)("ngIfElse",e),Ot.Cb(3),Ot.pc("ngIf",i.useDetailGridYn)}}function wi(e,t){if(1&e&&(Ot.Ub(0),Ot.Nc(1,Oi,2,5,"kendo-grid-column-group",8),Ot.Nc(2,Pi,5,16,"ng-template",null,9,Ot.Oc),Ot.Tb()),2&e){const e=t.$implicit,i=Ot.Ec(3);Ot.Cb(1),Ot.pc("ngIf",!0===e.groupYn)("ngIfElse",i)}}const xi=function(){return{allowUnsort:!0,mode:"multiple"}};let Fi=(()=>{class e{constructor(e){this._cd=e,this.sortable=!0,this.stateChangeEvent=new Ot.n,this.cellClickEvent=new Ot.n,this.dbClickRowEvent=new Ot.n,this.skip=0,this.clickedRowSubject=new D.a,this._unsubscribe$=new D.a,this.getIsRowSelected=e=>{var t;return(null===(t=this.checkedRows)||void 0===t?void 0:t.indexOf(e.dataItem.rowid))>-1||e.index===this._singleClickedRowIndex},this.getIsRowChecked=e=>{var t;return(null===(t=this.checkedRows)||void 0===t?void 0:t.indexOf(e))>-1}}get dataList(){return this._dataList}set dataList(e){this._dataList=e,this._loadCurrentView(),this._setCheckedState(),this._initState()}get isAllChecked(){var e,t;return(null===(e=this.checkedRows)||void 0===e?void 0:e.length)===(null===(t=this.dataList)||void 0===t?void 0:t.length)}get checkedDataList(){return F.isEmpty(this.checkedRows||F.isNil(this.dataList))?[]:this.dataList.filter(e=>this.checkedRows.indexOf(null==e?void 0:e.rowid)>-1)}get checkedStateOutput(){return F.isEmpty(this.checkedRows)&&F.isNil(this._singleClickedRowIndex)?null:{checkedRowids:F.isEmpty(this.checkedRows)?null:this.checkedRows,clickedRowIndex:F.isNil(this._singleClickedRowIndex)?null:this._singleClickedRowIndex}}get pageInfo(){return this.gridState.pageInfo}get sortInfo(){return this.gridState.sortInfo}get formValue(){return this.useFormYn?this.formGroups.value:null}ngAfterContentInit(){this._initClickSubscription()}ngOnDestroy(){this._unsubscribe$.next(),this._unsubscribe$.complete()}getColumnTemplate(e){return this.templates[e]||null}onPageChange(e){const t=Object.assign({},this.gridState.pageInfo,{skip:e.skip}),i=Object.assign({},this.gridState,{pageInfo:F.cloneDeep(t)});this.stateChangeEvent.emit(i)}onSortChange(e){const t=Object.assign({},this.gridState,{sortInfo:F.cloneDeep(e)});this.stateChangeEvent.emit(t)}onCheckAll(e){var t;this.checkedRows=e&&(null===(t=this.dataList)||void 0===t?void 0:t.length)>0?this.dataList.map(e=>e.rowid):null}onCellClick(e){var t,i,n;0===e.columnIndex&&(null===(n=null===(i=null===(t=null==e?void 0:e.originalEvent)||void 0===t?void 0:t.target)||void 0===i?void 0:i.className)||void 0===n?void 0:n.indexOf("checkbox-control-text"))>-1||(this._singleClickedRowIndex=null==e?void 0:e.rowIndex,this.isDbClick?this.isDbClick=!1:(this.clickedRowItem=e.dataItem,this.cellClickEvent&&this.clickedRowSubject.next("single")))}onDblClick(e){this.clickedRowItem&&(this.isDbClick=!0,this.clickedRowSubject.next("double"))}getValueByPath(e,t){return F.get(e,t,"")}formateCellText(e,t,i,n){const o=F.isNil(i)?F.get(e,t,""):F.get(e,i,"");switch(n){case"currency":return F.isNil(o)?"":Number(o).commaFormat();case"date":return kt(o).format("YYYY-MM-DD");case"dateTime":return kt(o).format("YYYY-MM-DD HH:mm");case"yn":return!0===o?"Y":"N";default:return o}}runFormValidator(){if(!this.checkedRows||this.checkedRows.length<1)return;let e;this._checkValid=!0;const t=this.dataList.map((e,t)=>{var i;return(null===(i=this.checkedRows)||void 0===i?void 0:i.indexOf(e.rowid))>-1?t:null}).filter(e=>!F.isNil(e));return this.formGroups.controls.filter((e,i)=>t.indexOf(i)>-1).map(e=>e.valid).some(e=>!e)?e=!1:(e=!0,this._checkValid=!1),this._cd.markForCheck(),e}getCheckedFormValue(){const e=this.dataList.map((e,t)=>{var i;return(null===(i=this.checkedRows)||void 0===i?void 0:i.indexOf(e.rowid))>-1?t:null}).filter(e=>!F.isNil(e));return this.formGroups.controls.filter((t,i)=>e.indexOf(i)>-1).map(e=>e.value)}checkIsInvalid(e){return this._checkValid&&this.formGroups.get(e)&&this.formGroups.get(e).invalid}_loadCurrentView(){!0===this.useFormYn&&(this.formGroups=new l.d([]),F.isEmpty(this.dataList)||F.isEmpty(this.formElementKeys)||this.dataList.forEach(e=>{const t=this.itemFormGroupFactory();t.patchValue(F.pick(e,this.formElementKeys)),this.formGroups.push(t)})),this.gridView={data:this.dataList||[],total:this.totalCount||0}}_initClickSubscription(){const e=this.clickedRowSubject.asObservable().pipe(Object(w.a)(300),Object(P.a)(this._unsubscribe$)),[t,i]=Object(ii.a)(e,e=>"single"===e);t.subscribe(()=>{this.cellClickEvent.emit(this.clickedRowItem),this.clickedRowItem=void 0}),i.subscribe(()=>{this.dbClickRowEvent.emit(F.cloneDeep(this.clickedRowItem)),this.clickedRowItem=void 0})}_setCheckedState(){if(this.checkedRows=null,this._singleClickedRowIndex=null,!F.isEmpty(this.checkedState)){const{checkedRowids:e,clickedRowIndex:t}=this.checkedState;this.checkedRows=F.isEmpty(e)?null:F.cloneDeep(e),this._singleClickedRowIndex=F.isNil(t)?null:t}}_initState(){this._checkValid=null}expandInStockProducts({dataItem:e}){return e.bookingItemCode.indexOf("20122810122-F01")>-1}showDetailGridToggle(e,t){return e.bookingItemCode.indexOf("20122810122-F01")>-1}}return e.\u0275fac=function(t){return new(t||e)(Ot.Qb(Ot.h))},e.\u0275cmp=Ot.Kb({type:e,selectors:[["app-fl-refund-grid"]],viewQuery:function(e,t){var i;1&e&&Ot.Xc(a.l,!0),2&e&&Ot.Dc(i=Ot.gc())&&(t.grid=i.first)},inputs:{columns:"columns",sortable:"sortable",gridLoading:"gridLoading",gridState:"gridState",checkboxUseYn:"checkboxUseYn",checkedState:"checkedState",totalCount:"totalCount",templates:"templates",useFormYn:"useFormYn",itemFormGroupFactory:"itemFormGroupFactory",formElementKeys:"formElementKeys",detailGridTemplate:"detailGridTemplate",useDetailGridYn:"useDetailGridYn",dataList:"dataList"},outputs:{stateChangeEvent:"stateChangeEvent",cellClickEvent:"cellClickEvent",dbClickRowEvent:"dbClickRowEvent"},decls:3,vars:15,consts:[[2,"max-height","900px",3,"loading","data","resizable","reorderable","pageable","sortable","skip","pageSize","sort","selectable","rowSelected","isDetailExpanded","pageChange","sortChange","cellClick","dblclick"],[4,"ngIf"],[4,"ngFor","ngForOf"],["title","\uc120\ud0dd","width","52"],["kendoGridHeaderTemplate",""],["kendoGridCellTemplate",""],["styleClass","only","binary","true",3,"ngModel","onChange"],["styleClass","only",3,"value","ngModel","ngModelChange"],[3,"title","locked","headerStyle",4,"ngIf","ngIfElse"],["kendoGridColumnTpl",""],[3,"title","locked","headerStyle"],[3,"headerStyle","field","title","format","filter","width","class","style",4,"ngFor","ngForOf"],[3,"headerStyle","field","title","format","filter","width"],[4,"ngIf","ngIfElse"],["nonTemplateColumn",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"formControl","valueType","inputFormat","isInvalid"],["kendoGridDetailTemplate","",3,"kendoGridDetailTemplateShowIf"]],template:function(e,t){1&e&&(Ot.Wb(0,"kendo-grid",0),Ot.fc("pageChange",(function(e){return t.onPageChange(e)}))("sortChange",(function(e){return t.onSortChange(e)}))("cellClick",(function(e){return t.onCellClick(e)}))("dblclick",(function(e){return t.onDblClick(e)})),Ot.Nc(1,ci,4,0,"ng-container",1),Ot.Nc(2,wi,4,2,"ng-container",2),Ot.Vb()),2&e&&(Ot.pc("loading",t.gridLoading)("data",t.gridView)("resizable",!0)("reorderable",!0)("pageable",!0)("sortable",!!t.sortable&&Ot.tc(14,xi))("skip",t.pageInfo.skip)("pageSize",t.pageInfo.take)("sort",t.sortInfo)("selectable",!0)("rowSelected",t.getIsRowSelected)("isDetailExpanded",t.expandInStockProducts),Ot.Cb(1),Ot.pc("ngIf",t.checkboxUseYn),Ot.Cb(1),Ot.pc("ngForOf",t.columns))},directives:[a.l,o.o,o.n,a.d,a.n,a.c,ni.a,l.r,l.u,a.e,o.t,Wt.a,l.h,a.g],encapsulation:2,changeDetection:0}),e})(),Vi=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ot.Kb({type:e,selectors:[["app-fl-refund-summary"]],inputs:{summaryInfo:"summaryInfo"},decls:98,vars:48,consts:[[1,"table","table-bordered","mt30"],["width","150px"],["scope","row",1,"th-bg"],[1,"color-blue"]],template:function(e,t){1&e&&(Ot.Wb(0,"div",0),Ot.Wb(1,"table"),Ot.Wb(2,"caption"),Ot.Pc(3," summary "),Ot.Vb(),Ot.Wb(4,"colgroup"),Ot.Rb(5,"col",1),Ot.Rb(6,"col"),Ot.Rb(7,"col",1),Ot.Rb(8,"col"),Ot.Rb(9,"col",1),Ot.Rb(10,"col"),Ot.Rb(11,"col",1),Ot.Rb(12,"col"),Ot.Vb(),Ot.Wb(13,"tbody"),Ot.Wb(14,"tr"),Ot.Wb(15,"th",2),Ot.Pc(16,"\ucd1d \uac74\uc218"),Ot.Vb(),Ot.Wb(17,"td",3),Ot.Pc(18),Ot.ic(19,"number"),Ot.Vb(),Ot.Wb(20,"th",2),Ot.Pc(21,"FARE REFUND(\uacf5)"),Ot.Vb(),Ot.Wb(22,"td"),Ot.Pc(23),Ot.ic(24,"number"),Ot.Vb(),Ot.Wb(25,"th",2),Ot.Pc(26,"TAX REFUND(\uacf5)"),Ot.Vb(),Ot.Wb(27,"td",3),Ot.Pc(28),Ot.ic(29,"number"),Ot.Vb(),Ot.Wb(30,"th",2),Ot.Pc(31,"\ud604\uae08\ud658\ubd88(\uacf5)"),Ot.Vb(),Ot.Wb(32,"td"),Ot.Pc(33),Ot.ic(34,"number"),Ot.Vb(),Ot.Vb(),Ot.Wb(35,"tr"),Ot.Wb(36,"th",2),Ot.Pc(37,"\uce74\ub4dc\ud658\ubd88(\uacf5)"),Ot.Vb(),Ot.Wb(38,"td",3),Ot.Pc(39),Ot.ic(40,"number"),Ot.Vb(),Ot.Wb(41,"th",2),Ot.Pc(42,"\ud658\ubd88\ud328\ub110\ud2f0(\uacf5)"),Ot.Vb(),Ot.Wb(43,"td"),Ot.Pc(44),Ot.ic(45,"number"),Ot.Vb(),Ot.Wb(46,"th",2),Ot.Pc(47,"\ub9ac\ucf5c\ucef4(\uacf5)"),Ot.Vb(),Ot.Wb(48,"td",3),Ot.Pc(49),Ot.ic(50,"number"),Ot.Vb(),Ot.Wb(51,"th",2),Ot.Pc(52,"\ub9ac\ucf5c\ucef4(\uacf5)VAT"),Ot.Vb(),Ot.Wb(53,"td"),Ot.Pc(54),Ot.ic(55,"number"),Ot.Vb(),Ot.Vb(),Ot.Wb(56,"tr"),Ot.Wb(57,"th",2),Ot.Pc(58,"FARE REFUND(\ub178)"),Ot.Vb(),Ot.Wb(59,"td",3),Ot.Pc(60),Ot.ic(61,"number"),Ot.Vb(),Ot.Wb(62,"th",2),Ot.Pc(63,"TAX REFUND(\ub178)"),Ot.Vb(),Ot.Wb(64,"td"),Ot.Pc(65),Ot.ic(66,"number"),Ot.Vb(),Ot.Wb(67,"th",2),Ot.Pc(68,"\ud658\ubd88\uc704\uc57d\uae08(\ub178)"),Ot.Vb(),Ot.Wb(69,"td",3),Ot.Pc(70),Ot.ic(71,"number"),Ot.Vb(),Ot.Wb(72,"th",2),Ot.Pc(73,"\ud658\ubd88\uae08\uc561(\ub178)"),Ot.Vb(),Ot.Wb(74,"td"),Ot.Pc(75),Ot.ic(76,"number"),Ot.Vb(),Ot.Vb(),Ot.Wb(77,"tr"),Ot.Wb(78,"th",2),Ot.Pc(79,"\uc870\uc815\uae08\uc561(\uacc4)"),Ot.Vb(),Ot.Wb(80,"td",3),Ot.Pc(81),Ot.ic(82,"number"),Ot.Vb(),Ot.Wb(83,"th",2),Ot.Pc(84,"\ub9ac\ucf5c\ucef4(\ud310)"),Ot.Vb(),Ot.Wb(85,"td"),Ot.Pc(86),Ot.ic(87,"number"),Ot.Vb(),Ot.Wb(88,"th",2),Ot.Pc(89,"\ub9ac\ucf5c\ucef4(\ud310)VAT"),Ot.Vb(),Ot.Wb(90,"td",3),Ot.Pc(91),Ot.ic(92,"number"),Ot.Vb(),Ot.Wb(93,"th",2),Ot.Pc(94,"\ub9ac\ucf5c\ucef4(\ud310)\uc6d0\ucc9c\uc138"),Ot.Vb(),Ot.Wb(95,"td"),Ot.Pc(96),Ot.ic(97,"number"),Ot.Vb(),Ot.Vb(),Ot.Vb(),Ot.Vb(),Ot.Vb()),2&e&&(Ot.Cb(18),Ot.Qc(Ot.jc(19,16,null==t.summaryInfo?null:t.summaryInfo.sumItemCount)),Ot.Cb(5),Ot.Qc(Ot.jc(24,18,null==t.summaryInfo?null:t.summaryInfo.refundFareAmount)),Ot.Cb(5),Ot.Qc(Ot.jc(29,20,null==t.summaryInfo?null:t.summaryInfo.refundTaxAmount)),Ot.Cb(5),Ot.Qc(Ot.jc(34,22,null==t.summaryInfo?null:t.summaryInfo.refundCashAmount)),Ot.Cb(6),Ot.Qc(Ot.jc(40,24,null==t.summaryInfo?null:t.summaryInfo.refundCardAmount)),Ot.Cb(5),Ot.Qc(Ot.jc(45,26,null==t.summaryInfo?null:t.summaryInfo.airlinePenaltyAmount)),Ot.Cb(5),Ot.Qc(Ot.jc(50,28,null==t.summaryInfo?null:t.summaryInfo.airlineRecallCommAmount)),Ot.Cb(5),Ot.Qc(Ot.jc(55,30,null==t.summaryInfo?null:t.summaryInfo.airlineRecallCommVat)),Ot.Cb(6),Ot.Qc(Ot.jc(61,32,null==t.summaryInfo?null:t.summaryInfo.clientRefundFareAmount)),Ot.Cb(5),Ot.Qc(Ot.jc(66,34,null==t.summaryInfo?null:t.summaryInfo.clientRefundTaxAmount)),Ot.Cb(5),Ot.Qc(Ot.jc(71,36,null==t.summaryInfo?null:t.summaryInfo.agencyChargeAmount)),Ot.Cb(5),Ot.Qc(Ot.jc(76,38,null==t.summaryInfo?null:t.summaryInfo.refundClientAmount)),Ot.Cb(6),Ot.Qc(Ot.jc(82,40,null==t.summaryInfo?null:t.summaryInfo.adjustSumAmount)),Ot.Cb(5),Ot.Qc(Ot.jc(87,42,null==t.summaryInfo?null:t.summaryInfo.sellerRecallCommAmount)),Ot.Cb(5),Ot.Qc(Ot.jc(92,44,null==t.summaryInfo?null:t.summaryInfo.sellerRecallCommVat)),Ot.Cb(5),Ot.Qc(Ot.jc(97,46,null==t.summaryInfo?null:t.summaryInfo.sellerRecallWithholdingTaxAmount)))},pipes:[o.f],encapsulation:2,changeDetection:0}),e})();var Ii=i("UIHd"),Ni=i("7G9D"),Wi=i("kDLv"),Yi=i("rdgV"),Ai=i("CGgD");function $i(e,t){if(1&e&&(Ot.Wb(0,"tr"),Ot.Wb(1,"td",15),Ot.Pc(2),Ot.Vb(),Ot.Wb(3,"td",15),Ot.Pc(4),Ot.Vb(),Ot.Wb(5,"td",15),Ot.Pc(6),Ot.Vb(),Ot.Wb(7,"td",15),Ot.Pc(8),Ot.Vb(),Ot.Wb(9,"td",15),Ot.Pc(10),Ot.Vb(),Ot.Wb(11,"td",16),Ot.Pc(12),Ot.ic(13,"number"),Ot.Vb(),Ot.Vb()),2&e){const e=t.$implicit;Ot.Cb(2),Ot.Qc(e.resolutionSeq),Ot.Cb(2),Ot.Qc(e.resolutionWriteDate),Ot.Cb(2),Ot.Qc(e.resolutionSlipNo),Ot.Cb(2),Ot.Qc(e.resolutionSlipWriteDate),Ot.Cb(2),Ot.Qc(e.withdrawMethodName),Ot.Cb(2),Ot.Qc(Ot.jc(13,6,e.withdrawAmount))}}function _i(e,t){if(1&e&&(Ot.Wb(0,"div",12),Ot.Wb(1,"table"),Ot.Wb(2,"caption"),Ot.Pc(3," \uc694\uae08\uc815\ubcf4 "),Ot.Vb(),Ot.Wb(4,"colgroup"),Ot.Rb(5,"col"),Ot.Rb(6,"col"),Ot.Rb(7,"col"),Ot.Rb(8,"col"),Ot.Rb(9,"col"),Ot.Rb(10,"col"),Ot.Vb(),Ot.Wb(11,"thead"),Ot.Wb(12,"tr"),Ot.Wb(13,"th",13),Ot.Pc(14,"\uacb0\uc758\uc11c\ubc88\ud638"),Ot.Vb(),Ot.Wb(15,"th",13),Ot.Pc(16,"\uacb0\uc758\uc11c\uc0dd\uc131\uc77c\uc790"),Ot.Vb(),Ot.Wb(17,"th",13),Ot.Pc(18,"\uacb0\uc758\uc11c\uc804\ud45c\ubc88\ud638"),Ot.Vb(),Ot.Wb(19,"th",13),Ot.Pc(20,"\uacb0\uc758\uc11c\uc804\ud45c\uc0dd\uc131\uc77c\uc790"),Ot.Vb(),Ot.Wb(21,"th",13),Ot.Pc(22,"\uc9c0\uae09\uc720\ud615"),Ot.Vb(),Ot.Wb(23,"th",13),Ot.Pc(24,"\uc9c0\uacb0\uae08\uc561"),Ot.Vb(),Ot.Vb(),Ot.Vb(),Ot.Wb(25,"tbody"),Ot.Nc(26,$i,14,8,"tr",14),Ot.Vb(),Ot.Vb(),Ot.Vb()),2&e){const e=t.$implicit;Ot.Cb(26),Ot.pc("ngForOf",e.withdraws)}}function Bi(e,t){if(1&e){const e=Ot.Xb();Ot.Wb(0,"a",17),Ot.fc("click",(function(){Ot.Fc(e);const i=t.$implicit;return Ot.hc().clickBookingItemCode(i.itemCategoryCode,i.bookingItemCode)})),Ot.Wb(1,"span",18),Ot.Pc(2),Ot.Vb(),Ot.Vb()}if(2&e){const e=t.$implicit;Ot.Cb(2),Ot.Qc(e.bookingItemCode)}}function Gi(e,t){if(1&e){const e=Ot.Xb();Ot.Wb(0,"a",17),Ot.fc("click",(function(){Ot.Fc(e);const i=t.$implicit;return Ot.hc().clickTicketNo(i.bookingItemCode)})),Ot.Wb(1,"span",18),Ot.Pc(2),Ot.Vb(),Ot.Vb()}if(2&e){const e=t.$implicit;Ot.Cb(2),Ot.Qc(e.ticketNo)}}function Mi(e,t){if(1&e){const e=Ot.Xb();Ot.Wb(0,"app-dsr-upload",19),Ot.fc("closeEvent",(function(t){return Ot.Fc(e),Ot.hc().closeDsrUploadHandler(t)})),Ot.Vb()}}const Ui=function(e,t){return{bookingItemCodeTpl:e,ticketNoTpl:t}};let Hi=(()=>{class e{constructor(e,t,i,n,o){this.store=e,this.authStore=t,this._dataService=i,this.fileService=n,this.alertService=o,this.unsubscribe$=new D.a,this.dateRangeTypeList$=e.pipe(Object(s.u)(Ue)),this.etEmdOtherTypeList$=e.pipe(Object(s.u)(He)),this.refundClientAmountList$=e.pipe(Object(s.u)(Ke)),this.fopList$=e.pipe(Object(s.u)(ze)),this.gdsCompList$=e.pipe(Object(s.u)(Qe)),this.bookerCompList$=e.pipe(Object(s.u)(Xe)),this.controlBranchTypeList$=e.pipe(Object(s.u)(qe)),this.stationTypeList$=e.pipe(Object(s.u)(Je)),this.paymentPeriodList$=e.pipe(Object(s.u)(Ze)),this.billingTypeList$=e.pipe(Object(s.u)(et)),this.loading$=e.pipe(Object(s.u)(tt)),this.reloadToggle$=e.pipe(Object(s.u)(it)),this.searchCondition$=e.pipe(Object(s.u)(nt)),this.otherSearchInfo$=e.pipe(Object(s.u)(ot)),this.summaryInfo$=e.pipe(Object(s.u)(ct)),this.gridDataList$=e.pipe(Object(s.u)(lt)),this.listPageSize$=e.pipe(Object(s.u)(dt)),this.gridState$=e.pipe(Object(s.u)(at)),this.gridDataTotalCount$=e.pipe(Object(s.u)(st)),this.gridCheckedState$=e.pipe(Object(s.u)(rt)),this.selectedItem$=e.pipe(Object(s.u)(ut)),this.isOpenDsrUploadPopup$=e.pipe(Object(s.u)(pt)),this.isOpenDeptSelectPopup$=e.pipe(Object(s.u)(bt)),this.selectedDeptList$=e.pipe(Object(s.u)(ht)),this.loginUserNo$=t.pipe(Object(s.u)(mt.t)),this.columns=this._dataService.generateGridColumns(),this._initSubscription()}ngOnInit(){this.store.dispatch(n.loadControlBranchTypeList({condition:{masterCode:"US008"}})),this.store.dispatch(n.loadDateRangeTypeList({condition:{masterCode:"FL084"}})),this.store.dispatch(n.loadPaymentPeriodList({condition:{masterCode:"FL033"}})),this.store.dispatch(n.loadStationTypeList({condition:{masterCode:"BS002"}})),this.store.dispatch(n.loadBillingTypeList({condition:{masterCode:"FL031"}})),this.store.dispatch(n.loadEtEmdOtherTypeList({condition:{masterCode:"FL077"}})),this.store.dispatch(n.loadFopList({condition:{masterCode:"PM015"}})),this.store.dispatch(n.loadRefundClientAmountList({condition:{masterCode:"BS060"}})),this.store.dispatch(n.loadGdsCompList({condition:{compTypeCodes:["CMP05"],limits:[0,100]}})),this.store.dispatch(n.loadBookerCompList({condition:{compTypeCodes:["CMP03"],limits:[0,100]}})),this.loginUserNo$.subscribe(e=>this.userNo=e)}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.store.dispatch(n.initThisState())}changePageSizeHandler(e){this.store.dispatch(n.changePageSize({pageSize:e}))}clickSearchHandler({searchCondition:e,otherSearchInfo:t}){this.searchCondition=e,this.store.dispatch(n.changeSearchCondition({searchCondition:e,otherSearchInfo:t})),this.store.dispatch(n.changePageIndex({pageIndex:0}))}clickResetHandler(){this.store.dispatch(n.changeSearchCondition({searchCondition:{},otherSearchInfo:null})),this.store.dispatch(n.changeSelectedDeptList({deptList:null}))}gridStateChangeHandler(e){this.store.dispatch(n.setGridStateAction({gridState:e}))}openDsrUploadHandler(){this.store.dispatch(n.openDsrUploadPopup())}closeDsrUploadHandler(e){this.store.dispatch(n.closeDsrUploadPopup())}openDeptSelectModalHandler(){this.store.dispatch(n.openDeptSelectPopup())}selectDeptsHandler(e){this.store.dispatch(n.changeSelectedDeptList({deptList:F.cloneDeep(e)})),this.closeDeptSelectModalHandler()}closeDeptSelectModalHandler(){this.store.dispatch(n.closeDeptSelectPopup())}clickClearDeptHandler(){this.store.dispatch(n.changeSelectedDeptList({deptList:null})),this.deptClearFlag=0===this.deptClearFlag?1:0}clickBookingItemCode(e,t){const i="height=950,width=1600,left=0,top=0,toolbar=no,menubar=no,scrollbars=no,resizable=yes,location=no,status=no";switch(e){case"IC01":window.open(`${window.location.origin}/reservation/flight/${t}?tabName=TICKET_REFUND`,"_blank",i);break;case"IC02":window.open(`${window.location.origin}/reservation/hotel/${t}?tabName=PRICE_DETAIL`,"_blank",i);break;case"IC03":window.open(`${window.location.origin}/reservation/car/${t}?tabName=PRICE_DETAIL`,"_blank",i);break;case"IC04":window.open(`${window.location.origin}/reservation/activity/${t}?tabName=PRICE_DETAIL`,"_blank",i);break;default:this.alertService.alert("\uc54c\uc218\uc5c6\ub294 \uce74\ud14c\uace0\ub9ac \ucf54\ub4dc \uc785\ub2c8\ub2e4! : "+e)}}clickTicketNo(e){window.open(`${window.location.origin}/reservation/flight/${e}?tabName=SALE_TICKETING`,"_blank","height=950,width=1600,left=0,top=0,toolbar=no,menubar=no,scrollbars=no,resizable=yes,location=no,status=no")}clickExcelHandler(){if(this.gridEl.dataList&&0!==this.gridEl.dataList.length){const e=this._setSearchCondition(this.searchFormEl.setSearchCondition());this.fileService.fileDownload({url:gt.excelDownload,filename:"\ud658\ubd88\uc870\ud68c",type:"excel",params:e,requestMethod:"post"})}else this.alertService.alert("\ub9ac\uc2a4\ud2b8 \ud56d\ubaa9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.")}onClickResolutionSeq(e){this.alertService.alert("onClickResolutionSeq :"+e)}onClickResolutionSlipNo(e){this.alertService.alert("onClickResolutionSlipNo :"+e)}onClicktaxBillSeq(e){this.alertService.alert("onClicktaxBillSeq :"+e)}onClicktaxBillSlipNo(e){this.alertService.alert("onClicktaxBillSlipNo :"+e)}clickCloseCommitHandler(){const e=this.gridEl.checkedDataList;if((null==e?void 0:e.length)<1)return void this.alertService.alert("No data is selected.");if(e.some(e=>!0===e.dsrFinishYn))return void this.alertService.alert("\ub9c8\uac10\uc644\ub8cc\ub41c \ub370\uc774\ud130\uac00 \uc874\uc7ac\ud569\ub2c8\ub2e4.");if(e.some(e=>F.isNil(e.ticketingDate)||F.isNil(e.ticketingDate)))return void this.alertService.alert("\ubc1c\uad8c\ubc88\ud638 \ud639\uc740 \ubc1c\uad8c\uc77c\uc774 \uc720\ud6a8\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");const t=e.map(e=>({ticketingDate:e.ticketingDate,ticketNo:e.ticketNo}));this.store.dispatch(n.closeDsrAction({condition:{list:t,closeYn:!0}}))}clickCloseCancelHandler(){const e=this.gridEl.checkedDataList;if((null==e?void 0:e.length)<1)return void this.alertService.alert("No data is selected.");if(e.some(e=>!e.dsrFinishYn))return void this.alertService.alert("\ub9c8\uac10\ud574\uc81c\ub41c \ub370\uc774\ud130\uac00 \uc874\uc7ac\ud569\ub2c8\ub2e4.");if(e.some(e=>F.isNil(e.ticketingDate)||F.isNil(e.ticketingDate)))return void this.alertService.alert("\ubc1c\uad8c\ubc88\ud638 \ud639\uc740 \ubc1c\uad8c\uc77c\uc774 \uc720\ud6a8\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");const t=e.map(e=>({ticketingDate:e.ticketingDate,ticketNo:e.ticketNo}));this.store.dispatch(n.closeDsrAction({condition:{list:t,closeYn:!1}}))}clickBundleCloseCommitOrCancelHandler(e){if(!this.searchFormEl.searchFormValid)return;const t=this._setSearchCondition(this.searchFormEl.setSearchCondition());this.store.dispatch(n.bundleCloseCommitOrCancel({condition:Object.assign({},t,{closeYn:e})}))}clickSlipCreateHandler(e){const t=this.gridEl.checkedDataList;if((null==t?void 0:t.length)<1)this.alertService.alert("No data is selected.");else if(e){const i={salesSlipTypeCode:"SST03",ticketNos:[],accountingDate:e,slipWriterUno:this.userNo};t.forEach(e=>{i.ticketNos.push({ticketingDate:e.ticketingDate,ticketNo:e.ticketNo}),this.store.dispatch(n.salesSlip({condition:i}))})}else this.alertService.alert("\ub0a0\uc9dc\ub97c \uc120\ud0dd\ud558\uc138\uc694.")}clickSlipBulkCreateHandler(e){if(e){const t=this._setSearchCondition(this.searchFormEl.setSearchCondition());this.store.dispatch(n.salesSlipAll({condition:{salesSlipTypeCode:"SST04",dateRange:t.dateRange,stationTypeCodes:["STN03"],internationalOrDomestic:this.searchCondition.internationalOrDomestic||void 0,controlBranchCode:1e3,accountingDate:e,slipWriterUno:this.userNo,billingTypeCode:null==t?void 0:t.billingTypeCode,dsrFinishYn:null==t?void 0:t.dsrFinishYn,refundSlipYn:null==t?void 0:t.refundSlipYn}}))}}clickErpSendHandler(){const e=this.gridEl.checkedDataList;if((null==e?void 0:e.length)<1)return void this.alertService.alert("No data is selected.");const t={bookingItemCodes:[]};this.gridEl.checkedDataList.forEach(e=>{t.bookingItemCodes.push(e.bookingItemCode)}),this.store.dispatch(n.chorusSlip({condition:t}))}clickErpBulkSendHandler(){const e=this._setSearchCondition(this.searchFormEl.setSearchCondition());this.store.dispatch(n.chorusSlipAll({condition:{dateRange:e.dateRange}}))}clickResolutionCreateHandler(){const e=this.gridEl.checkedDataList;if((null==e?void 0:e.length)<1)return void this.alertService.alert("No data is selected.");const t={resolutionMenuCode:"RSM02",resolutionTypeCode:"RTW03",refundTickets:[]};e.forEach(e=>{t.refundTickets.push({ticketingDate:e.ticketingDate,ticketNo:e.ticketNo})}),this.store.dispatch(n.resolutionCreate({condition:t}))}clickResolutionBulkCreateHandler(){const e={resolutionMenuCode:"RSM02",resolutionTypeCode:"RTW03",refundTickets:[]};this.gridEl.dataList.forEach(t=>{e.refundTickets.push({ticketingDate:t.ticketingDate,ticketNo:t.ticketNo})}),this.store.dispatch(n.resolutionBulkCreate({condition:e}))}_initSubscription(){this.reloadToggle$.pipe(Object(T.a)(1),Object(P.a)(this.unsubscribe$)).subscribe(()=>{this.searchFormEl.searchFormValid&&this.searchFormEl.onSubmit()}),Object(E.a)([this.searchCondition$,this.gridState$]).pipe(Object(T.a)(1),Object(w.a)(200),Object(x.a)(([e,t])=>!F.isEmpty(e)),Object(P.a)(this.unsubscribe$)).subscribe(([e,{pageInfo:t,sortInfo:i}])=>{const o=this._setSortOrder(i),l=[t.skip,t.skip+t.take],c=Object.assign({},this._setSearchCondition(this.searchFormEl.setSearchCondition()),{limits:l,sortOrder:o});this.store.dispatch(n.loadList({condition:c}))})}_setSortOrder(e){return e.filter(e=>!F.isNil(e.dir)).map(e=>({keyName:e.field,sort:e.dir}))}_setSearchCondition(e){const t=Object.keys(this._dataService.initListSearchCondition());return F.pick(e,t)}}return e.\u0275fac=function(t){return new(t||e)(Ot.Qb(s.h),Ot.Qb(s.h),Ot.Qb(It),Ot.Qb(Ni.a),Ot.Qb(wt.a))},e.\u0275cmp=Ot.Kb({type:e,selectors:[["app-fl-refund"]],viewQuery:function(e,t){var i;1&e&&(Ot.Xc(ti,!0),Ot.Xc(Ii.a,!0)),2&e&&(Ot.Dc(i=Ot.gc())&&(t.searchFormEl=i.first),Ot.Dc(i=Ot.gc())&&(t.gridEl=i.first))},decls:39,vars:84,consts:[[3,"stationTypeList","paymentPeriodList","billingTypeList","dateRangeTypeList","etEmdOtherTypeList","refundClientAmountList","fopList","gdsCompList","bookerCompList","controlBranchTypeList","otherSearchInfo","searchCondition","clickSearchEvent","clickResetEvent","clickOpenDeptModalEvent"],[3,"loading","currentPageSize","totalCount","clickCloseCommitEvent","clickCloseCancelEvent","clickCloseBulkCommitOrCancelEvent","clickSlipCreateEvent","clickSlipBulkCreateEvent","clickErpSendEvent","clickErpBulkSendEvent","clickResolutionCreateEvent","clickResolutionBulkCreateEvent","clickExcelEvent","clickDsrUploadEvent","changePageSizeEvent"],["detailTpl",""],["bookingItemCodeTpl",""],["ticketNoTpl",""],[3,"gridLoading","columns","gridState","checkedState","totalCount","checkboxUseYn","dataList","useDetailGridYn","detailGridTemplate","templates","stateChangeEvent"],["gridSimpleEl",""],[3,"summaryInfo"],["modalSize","sm","modalContentClass","pd-all","header","DSR \uc5c5\ub85c\ub4dc",3,"visible","modal","visibleChange"],[3,"closeEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","\ubd80\uc11c",3,"visible","modal","visibleChange"],[3,"componentKey","clearSateFlag","clickApplyEvent"],[1,"table","table-bordered","table-responsive",2,"min-width","calc(100vw - 430px)","width","min-content"],["scope","col",1,"align-c"],[4,"ngFor","ngForOf"],[1,"align-c"],[1,"align-r"],[3,"click"],[1,"text-underline","color-dark"],[3,"closeEvent"]],template:function(e,t){if(1&e&&(Ot.Wb(0,"app-fl-refund-search",0),Ot.fc("clickSearchEvent",(function(e){return t.clickSearchHandler(e)}))("clickResetEvent",(function(){return t.clickResetHandler()}))("clickOpenDeptModalEvent",(function(){return t.openDeptSelectModalHandler()})),Ot.ic(1,"async"),Ot.ic(2,"async"),Ot.ic(3,"async"),Ot.ic(4,"async"),Ot.ic(5,"async"),Ot.ic(6,"async"),Ot.ic(7,"async"),Ot.ic(8,"async"),Ot.ic(9,"async"),Ot.ic(10,"async"),Ot.ic(11,"async"),Ot.ic(12,"async"),Ot.Vb(),Ot.Wb(13,"app-fl-refund-control",1),Ot.fc("clickCloseCommitEvent",(function(){return t.clickCloseCommitHandler()}))("clickCloseCancelEvent",(function(){return t.clickCloseCancelHandler()}))("clickCloseBulkCommitOrCancelEvent",(function(e){return t.clickBundleCloseCommitOrCancelHandler(e)}))("clickSlipCreateEvent",(function(e){return t.clickSlipCreateHandler(e)}))("clickSlipBulkCreateEvent",(function(e){return t.clickSlipBulkCreateHandler(e)}))("clickErpSendEvent",(function(){return t.clickErpSendHandler()}))("clickErpBulkSendEvent",(function(){return t.clickErpBulkSendHandler()}))("clickResolutionCreateEvent",(function(){return t.clickResolutionCreateHandler()}))("clickResolutionBulkCreateEvent",(function(){return t.clickResolutionBulkCreateHandler()}))("clickExcelEvent",(function(){return t.clickExcelHandler()}))("clickDsrUploadEvent",(function(){return t.openDsrUploadHandler()}))("changePageSizeEvent",(function(e){return t.changePageSizeHandler(e)})),Ot.ic(14,"async"),Ot.ic(15,"async"),Ot.ic(16,"async"),Ot.Vb(),Ot.Nc(17,_i,27,1,"ng-template",null,2,Ot.Oc),Ot.Nc(19,Bi,3,1,"ng-template",null,3,Ot.Oc),Ot.Nc(21,Gi,3,1,"ng-template",null,4,Ot.Oc),Ot.Wb(23,"app-grid-simple",5,6),Ot.fc("stateChangeEvent",(function(e){return t.gridStateChangeHandler(e)})),Ot.ic(25,"async"),Ot.ic(26,"async"),Ot.ic(27,"async"),Ot.ic(28,"async"),Ot.ic(29,"async"),Ot.Vb(),Ot.Rb(30,"app-fl-refund-summary",7),Ot.ic(31,"async"),Ot.Wb(32,"app-dialog",8),Ot.fc("visibleChange",(function(e){return t.closeDsrUploadHandler(e)})),Ot.ic(33,"async"),Ot.Nc(34,Mi,1,0,"app-dsr-upload",9),Ot.ic(35,"async"),Ot.Vb(),Ot.Wb(36,"app-dialog",10),Ot.fc("visibleChange",(function(){return t.closeDeptSelectModalHandler()})),Ot.ic(37,"async"),Ot.Wb(38,"app-department-selector",11),Ot.fc("clickApplyEvent",(function(e){return t.selectDeptsHandler(e)})),Ot.Vb(),Ot.Vb()),2&e){const e=Ot.Ec(18),i=Ot.Ec(20),n=Ot.Ec(22);Ot.pc("stationTypeList",Ot.jc(1,33,t.stationTypeList$))("paymentPeriodList",Ot.jc(2,35,t.paymentPeriodList$))("billingTypeList",Ot.jc(3,37,t.billingTypeList$))("dateRangeTypeList",Ot.jc(4,39,t.dateRangeTypeList$))("etEmdOtherTypeList",Ot.jc(5,41,t.etEmdOtherTypeList$))("refundClientAmountList",Ot.jc(6,43,t.refundClientAmountList$))("fopList",Ot.jc(7,45,t.fopList$))("gdsCompList",Ot.jc(8,47,t.gdsCompList$))("bookerCompList",Ot.jc(9,49,t.bookerCompList$))("controlBranchTypeList",Ot.jc(10,51,t.controlBranchTypeList$))("otherSearchInfo",Ot.jc(11,53,t.otherSearchInfo$))("searchCondition",Ot.jc(12,55,t.searchCondition$)),Ot.Cb(13),Ot.pc("loading",Ot.jc(14,57,t.loading$))("currentPageSize",Ot.jc(15,59,t.listPageSize$))("totalCount",Ot.jc(16,61,t.gridDataTotalCount$)),Ot.Cb(10),Ot.pc("gridLoading",Ot.jc(25,63,t.loading$))("columns",t.columns)("gridState",Ot.jc(26,65,t.gridState$))("checkedState",Ot.jc(27,67,t.gridCheckedState$))("totalCount",Ot.jc(28,69,t.gridDataTotalCount$))("checkboxUseYn",!0)("dataList",Ot.jc(29,71,t.gridDataList$))("useDetailGridYn",!0)("detailGridTemplate",e)("templates",Ot.vc(81,Ui,i,n)),Ot.Cb(7),Ot.pc("summaryInfo",Ot.jc(31,73,t.summaryInfo$)),Ot.Cb(2),Ot.pc("visible",Ot.jc(33,75,t.isOpenDsrUploadPopup$))("modal",!0),Ot.Cb(2),Ot.pc("ngIf",Ot.jc(35,77,t.isOpenDsrUploadPopup$)),Ot.Cb(2),Ot.pc("visible",Ot.jc(37,79,t.isOpenDeptSelectPopup$))("modal",!0),Ot.Cb(2),Ot.pc("componentKey","flRefund")("clearSateFlag",t.deptClearFlag)}},directives:[ti,Rt,Ii.a,Vi,Wi.a,o.o,Yi.a,o.n,Ai.a],pipes:[o.b,o.f],encapsulation:2,changeDetection:0}),e})();const Ki=[{path:"",component:Hi,data:{title:"\ud658\ubd88\uc870\ud68c"}}];let zi=(()=>{class e{}return e.\u0275mod=Ot.Ob({type:e}),e.\u0275inj=Ot.Nb({factory:function(t){return new(t||e)},imports:[[L.f.forChild(Ki)],L.f]}),e})();var Qi=i("lJxs"),Xi=i("JIr8"),qi=i("vkgz"),Ji=i("Xb6A");let Zi=(()=>{class e{constructor(e,t,i,o,l){this.actions$=e,this.service=t,this._errorService=i,this.alertService=o,this.store=l,this.loadList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadList),Object(Tt.a)(({condition:e})=>this.service.getList(e).pipe(Object(Qi.a)(({dataList:e,totalCount:t,summaryInfo:i})=>n.getListSuccess({dataList:e,totalCount:t,summaryInfo:i})),Object(Xi.a)(e=>[n.getListFailure({error:this._errorService.apiErrorHandler(e,"List lookup failed. Please try again in a momentarily.")})]))))),this.loadDateRangeType$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadDateRangeTypeList),Object(Tt.a)(({condition:e})=>this.service.getCommonDetailCodeList(e).pipe(Object(Qi.a)(e=>n.getDateRangeTypeListSuccess({dataList:e})),Object(Xi.a)(e=>Object(Dt.a)(n.getDateRangeTypeListFailure({error:this._errorService.apiErrorHandler(e,"\ub0a0\uc9dc\ud615\uc2dd \uc870\ud68c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.")}))))))),this.loadCategoryType$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadEtEmdOtherTypeList),Object(Tt.a)(({condition:e})=>this.service.getCommonDetailCodeList(e).pipe(Object(Qi.a)(e=>n.getEtEmdOtherTypeListSuccess({dataList:e})),Object(Xi.a)(e=>Object(Dt.a)(n.getEtEmdOtherTypeListFailure({error:this._errorService.apiErrorHandler(e,"\uce74\ud14c\uace0\ub9ac \uc870\ud68c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.")}))))))),this.loadRefundType$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadRefundClientAmountList),Object(Tt.a)(({condition:e})=>this.service.getCommonDetailCodeList(e).pipe(Object(Qi.a)(e=>n.getRefundClientAmountListSuccess({dataList:e})),Object(Xi.a)(e=>Object(Dt.a)(n.getRefundClientAmountListFailure({error:this._errorService.apiErrorHandler(e,"\uacb0\uc758\uad6c\ubd84(\ub300) \uc870\ud68c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.")}))))))),this.loadResolutionType$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadFopList),Object(Tt.a)(({condition:e})=>this.service.getCommonDetailCodeList(e).pipe(Object(Qi.a)(e=>n.getFopListSuccess({dataList:e})),Object(Xi.a)(e=>Object(Dt.a)(n.getFopListFailure({error:this._errorService.apiErrorHandler(e,"\uacb0\uc758\uad6c\ubd84(\uc18c) \uc870\ud68c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.")}))))))),this.loadControlBranchType$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadControlBranchTypeList),Object(Tt.a)(({condition:e})=>this.service.getCommonDetailCodeList(e).pipe(Object(Qi.a)(e=>n.getControlBranchTypeListSuccess({dataList:e})),Object(Xi.a)(e=>Object(Dt.a)(n.getControlBranchTypeListFailure({error:this._errorService.apiErrorHandler(e,"\ubcf8/\uc9c0\uc0ac \uc870\ud68c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.")}))))))),this.loadPayOutStopReason$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadStationTypeList),Object(Tt.a)(({condition:e})=>this.service.getCommonDetailCodeList(e).pipe(Object(Qi.a)(e=>n.getStationTypeListSuccess({dataList:e})),Object(Xi.a)(e=>Object(Dt.a)(n.getStationTypeListFailure({error:this._errorService.apiErrorHandler(e,"\uc9c0\uae09\ubcf4\ub958\uc0ac\uc720 \uc870\ud68c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.")}))))))),this.loadPaymentPeriod$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadPaymentPeriodList),Object(Tt.a)(({condition:e})=>this.service.getCommonDetailCodeList(e).pipe(Object(Qi.a)(e=>n.getPaymentPeriodListSuccess({dataList:e})),Object(Xi.a)(e=>Object(Dt.a)(n.getPaymentPeriodListFailure({error:this._errorService.apiErrorHandler(e,"BSP \uc8fc\uae30 \uc870\ud68c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.")}))))))),this.loadRewriteReason$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadBillingTypeList),Object(Tt.a)(({condition:e})=>this.service.getCommonDetailCodeList(e).pipe(Object(Qi.a)(e=>n.getBillingTypeListSuccess({dataList:e})),Object(Xi.a)(e=>Object(Dt.a)(n.getBillingTypeListFailure({error:this._errorService.apiErrorHandler(e,"\uc7ac\uc0c1\uc2e0\uc0ac\uc720 \uc870\ud68c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.")}))))))),this.loadGdsComp$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadGdsCompList),Object(Tt.a)(({condition:e})=>this.service.getCommonComp(e).pipe(Object(Qi.a)(e=>n.getGdsCompListSuccess({dataList:e})),Object(Xi.a)(e=>Object(Dt.a)(n.getGdsCompListFailure({error:this._errorService.apiErrorHandler(e,"GDS \uc870\ud68c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.")}))))))),this.loadBookerComp$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.loadBookerCompList),Object(Tt.a)(({condition:e})=>this.service.getCommonComp(e).pipe(Object(Qi.a)(e=>n.getBookerCompListSuccess({dataList:e})),Object(Xi.a)(e=>Object(Dt.a)(n.getBookerCompListFailure({error:this._errorService.apiErrorHandler(e,"\uc81c\ud734\uc0ac \uc870\ud68c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.")}))))))),this.closeDsr$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.closeDsrAction),Object(Tt.a)(({condition:e})=>this.service.closeDsr(e).pipe(Object(Qi.a)(()=>({succeedYn:!0})),Object(Xi.a)(e=>Object(Dt.a)({succeedYn:!1,error:e})))),Object(qi.a)(({succeedYn:e,error:t})=>{if(e){const e=[n.reloadList()];this._runPage("\ub9c8\uac10\uc0c1\ud0dc\uac00 \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",e)}else this._catchErr(t,"\ub9c8\uac10\uc0c1\ud0dc \ubcc0\uacbd\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.")})),{dispatch:!1}),this.bundleCloseCommitOrCancel$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.bundleCloseCommitOrCancel),Object(Tt.a)(({condition:e})=>this.service.bundleCloseCommitOrCancel(e).pipe(Object(Qi.a)(()=>({succeedYn:!0})),Object(Xi.a)(e=>Object(Dt.a)({succeedYn:!1,error:e})))),Object(qi.a)(({succeedYn:e,error:t})=>{if(e){const e=[n.reloadList()];this._runPage("\ub9c8\uac10\uc0c1\ud0dc\uac00 \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",e)}else this._catchErr(t,"\ub9c8\uac10\uc0c1\ud0dc \ubcc0\uacbd\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.")})),{dispatch:!1}),this.salesSlip$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.salesSlip),Object(Tt.a)(({condition:e})=>this.service.putSlipCreate(e).pipe(Object(Qi.a)(e=>(n.salesSlipSuccess({dataList:e}),{succeedYn:!0})),Object(Xi.a)(e=>Object(Dt.a)({succeedYn:!1,error:e})))),Object(qi.a)(({succeedYn:e,error:t})=>{if(e){const e=[n.reloadList()];this._runPage("\uc131\uacf5\ud558\uc600\uc2b5\ub2c8\ub2e4.",e)}else this._catchErr(t,"\uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.")})),{dispatch:!1}),this.salesSlipAll$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.salesSlipAll),Object(Tt.a)(({condition:e})=>this.service.putSlipCreate(e).pipe(Object(Qi.a)(e=>(n.salesSlipAllSuccess({dataList:e}),{succeedYn:!0})),Object(Xi.a)(e=>Object(Dt.a)({succeedYn:!1,error:e})))),Object(qi.a)(({succeedYn:e,error:t})=>{if(e){const e=[n.reloadList()];this._runPage("\uc131\uacf5\ud558\uc600\uc2b5\ub2c8\ub2e4.",e)}else this._catchErr(t,"\uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.")})),{dispatch:!1}),this.chorusSlip$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.chorusSlip),Object(Tt.a)(({condition:e})=>this.service.putChorusSlipCreate(e).pipe(Object(Qi.a)(()=>({succeedYn:!0})),Object(Xi.a)(e=>Object(Dt.a)({succeedYn:!1,error:e})))),Object(qi.a)(({succeedYn:e,error:t})=>{if(e){const e=[n.reloadList()];this._runPage("\uc131\uacf5\ud558\uc600\uc2b5\ub2c8\ub2e4.",e)}else this._catchErr(t,"\uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.")})),{dispatch:!1}),this.chorusSlipAll$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.chorusSlipAll),Object(Tt.a)(({condition:e})=>this.service.putChorusSlipCreate(e).pipe(Object(Qi.a)(()=>({succeedYn:!0})),Object(Xi.a)(e=>Object(Dt.a)({succeedYn:!1,error:e})))),Object(qi.a)(({succeedYn:e,error:t})=>{if(e){const e=[n.reloadList()];this._runPage("\uc131\uacf5\ud558\uc600\uc2b5\ub2c8\ub2e4.",e)}else this._catchErr(t,"\uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.")})),{dispatch:!1}),this.resolutionCreate$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.resolutionCreate),Object(Tt.a)(({condition:e})=>this.service.resolutionCreatePut(e).pipe(Object(Qi.a)(()=>({succeedYn:!0})),Object(Xi.a)(e=>Object(Dt.a)({succeedYn:!1,error:e})))),Object(qi.a)(({succeedYn:e,error:t})=>{if(e){const e=[n.reloadList()];this._runPage("\uc131\uacf5\ud558\uc600\uc2b5\ub2c8\ub2e4.",e)}else this._catchErr(t,"\uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.")})),{dispatch:!1}),this.resolutionBulkCreate$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(n.resolutionBulkCreate),Object(Tt.a)(({condition:e})=>this.service.resolutionCreatePut(e).pipe(Object(Qi.a)(()=>({succeedYn:!0})),Object(Xi.a)(e=>Object(Dt.a)({succeedYn:!1,error:e})))),Object(qi.a)(({succeedYn:e,error:t})=>{if(e){const e=[n.reloadList()];this._runPage("\uc131\uacf5\ud558\uc600\uc2b5\ub2c8\ub2e4.",e)}else this._catchErr(t,"\uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.")})),{dispatch:!1})}_runPage(e,t){this.alertService.alert({message:e,accept:(null==t?void 0:t.length)>0?()=>{t.forEach(e=>{this.store.dispatch(e)})}:()=>{}})}_catchErr(e,t,i){const n=this._errorService.errorHandler(e,t);F.isNil(n)||(F.isNil(n.accept)&&(n.accept=(null==i?void 0:i.length)>0?()=>{i.forEach(e=>{this.store.dispatch(e)})}:()=>{}),this.alertService.alert(n))}}return e.\u0275fac=function(t){return new(t||e)(Ot.bc(c.a),Ot.bc(xt),Ot.bc(Ji.a),Ot.bc(wt.a),Ot.bc(s.h))},e.\u0275prov=Ot.Mb({token:e,factory:e.\u0275fac}),e})();const en=[Hi],tn=[Rt,ti,Fi,Vi];let nn=(()=>{class e{}return e.\u0275mod=Ot.Ob({type:e}),e.\u0275inj=Ot.Nb({factory:function(t){return new(t||e)},imports:[[o.c,l.m,l.w,a.m,r.a,d.a,u.a,O.a,p.a,b.a,h.a,m.a,f.a,C.a,g.a,S.a,k.a,R.a,v.a,j.a,zi,y.a,s.j.forFeature("flRefund",Be),c.b.forFeature([Zi])]]}),e})()}}]);