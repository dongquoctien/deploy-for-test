(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{"2QGa":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("F97/"),s=i("SeVD"),a=i("pLZG"),o=i("HDdC");function r(t,e,i){return[Object(a.a)(e,i)(new o.a(Object(s.a)(t))),Object(a.a)(Object(n.a)(e,i))(new o.a(Object(s.a)(t)))]}},Onn4:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("fXoL"),s=i("3Pt+"),a=i("ofXK");const o=["rb"],r=function(){return{radio:!0}},c={provide:s.p,useExisting:Object(n.U)(()=>l),multi:!0};let l=(()=>{class t{constructor(t){this.cd=t,this.onClick=new n.n,this.onFocus=new n.n,this.onBlur=new n.n,this.onModelChange=()=>{},this.onModelTouched=()=>{}}handleClick(t,e,i){t.preventDefault(),this.disabled||(this.select(t),i&&e.focus())}select(t){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.onClick.emit(t))}writeValue(t){this.checked=t===this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onModelTouched(),this.onBlur.emit(t)}onChange(t){this.select(t)}}return t.\u0275fac=function(e){return new(e||t)(n.Qb(n.h))},t.\u0275cmp=n.Kb({type:t,selectors:[["app-radio"]],viewQuery:function(t,e){var i;1&t&&n.Kc(o,!0),2&t&&n.Dc(i=n.gc())&&(e.inputViewChild=i.first)},inputs:{value:"value",name:"name",disabled:"disabled",label:"label",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",checked:"checked"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[n.Bb([c])],decls:5,vars:11,consts:[[3,"ngClass","click"],["type","radio",1,"radio-control-input",3,"checked","disabled","change","focus","blur"],["rb",""],[1,"radio-control-text"]],template:function(t,e){1&t&&(n.Wb(0,"label",0),n.fc("click",(function(t){return e.select(t)})),n.Wb(1,"input",1,2),n.fc("change",(function(t){return e.onChange(t)}))("focus",(function(t){return e.onInputFocus(t)}))("blur",(function(t){return e.onInputBlur(t)})),n.Vb(),n.Wb(3,"span",3),n.Pc(4),n.Vb(),n.Vb()),2&t&&(n.Eb(e.styleClass),n.pc("ngClass",n.tc(10,r)),n.Cb(1),n.pc("checked",e.checked)("disabled",e.disabled),n.Db("id",e.inputId)("name",e.name)("value",e.value)("tabindex",e.tabindex),n.Cb(3),n.Qc(e.label))},directives:[a.l],encapsulation:2}),t})()},U6NN:function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var n=i("fXoL"),s=i("3Pt+"),a=i("LvDl"),o=i("ofXK");function r(t,e){if(1&t&&(n.Wb(0,"option",3),n.Pc(1),n.Vb()),2&t){const t=n.hc();n.pc("ngValue",null),n.Cb(1),n.Qc(t.useAllOptionName)}}function c(t,e){if(1&t&&(n.Wb(0,"option",3),n.Pc(1),n.Vb()),2&t){const t=e.$implicit,i=n.hc();n.pc("ngValue",t),n.Cb(1),n.Qc(i.displayKey?t[i.displayKey]:t)}}const l={provide:s.p,useExisting:Object(n.U)(()=>d),multi:!0};let d=(()=>{class t{constructor(t,e,i,s){this.el=t,this.renderer=e,this.cd=i,this.zone=s,this.dataKey="value",this.displayKey="label",this.useAllOptionYn=!0,this.useAllOptionName="All",this.onChange=new n.n,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get invalid(){return this.isInvalid}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.cd.destroyed||this.cd.detectChanges()}get options(){return this._options}set options(t){this._options=t,this.updateSelectedOption(this.value)}ngOnInit(){this.updateSelectedOption(null)}ngOnDestroy(){}compareFn(t,e){return this.dataKey?t[this.dataKey]===e[this.dataKey]:t===e}selectItem(t){this.selectedOption=t,this.value=this._getValue(t),this.onModelChange(this.value),this.onChange.emit({value:this.value,option:t})}writeValue(t){this.value=t,this.updateSelectedOption(t),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t}updateSelectedOption(t){this.selectedOption=this._findOption(t,this.options)}_findOption(t,e){return this.dataKey?a.find(e,e=>e[this.dataKey]===t)||null:t}_getValue(t){return a.isNil(t)?null:t[this.dataKey]}}return t.\u0275fac=function(e){return new(e||t)(n.Qb(n.l),n.Qb(n.E),n.Qb(n.h),n.Qb(n.z))},t.\u0275cmp=n.Kb({type:t,selectors:[["app-selectbox"]],hostAttrs:[1,"select-box"],hostVars:2,hostBindings:function(t,e){2&t&&n.Gb("valid-error",e.invalid)},inputs:{name:"name",styleClass:"styleClass",required:"required",tabindex:"tabindex",dataKey:"dataKey",displayKey:"displayKey",isInvalid:"isInvalid",useAllOptionYn:"useAllOptionYn",useAllOptionName:"useAllOptionName",disabled:"disabled",options:"options"},outputs:{onChange:"onChange"},features:[n.Bb([l])],decls:3,vars:8,consts:[[3,"compareWith","ngModel","disabled","ngModelChange"],[3,"ngValue",4,"ngIf"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(t,e){1&t&&(n.Wb(0,"select",0),n.fc("ngModelChange",(function(t){return e.selectItem(t)})),n.Nc(1,r,2,2,"option",1),n.Nc(2,c,2,2,"option",2),n.Vb()),2&t&&(n.pc("compareWith",e.compareFn)("ngModel",e.selectedOption)("disabled",e.disabled),n.Db("name",e.name)("required",e.required)("tabindex",e.tabindex),n.Cb(1),n.pc("ngIf",e.useAllOptionYn),n.Cb(1),n.pc("ngForOf",e.options))},directives:[s.y,s.r,s.u,s.x,o.o,o.n,s.v,s.A],encapsulation:2}),t})()},YH7L:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("ofXK"),s=i("3Pt+"),a=i("fXoL");let o=(()=>{class t{}return t.\u0275mod=a.Ob({type:t}),t.\u0275inj=a.Nb({factory:function(e){return new(e||t)},imports:[[n.c,s.m,s.w]]}),t})()},nMd8:function(t,e,i){"use strict";i.d(e,"a",(function(){return y}));var n=i("fXoL"),s=i("3Pt+"),a=i("LvDl"),o=i("XNiG"),r=i("itXk"),c=i("1G5W"),l=i("pLZG"),d=i("YY+H"),u=i("kt0X"),p=i("ofXK");function b(t,e){if(1&t&&(n.Wb(0,"option",3),n.Pc(1),n.Vb()),2&t){const t=n.hc();n.pc("ngValue",null),n.Cb(1),n.Qc(t.useAllOptionName)}}function h(t,e){if(1&t&&(n.Wb(0,"option",3),n.Pc(1),n.Vb()),2&t){const t=e.$implicit,i=n.hc();n.pc("ngValue",t),n.Cb(1),n.Qc(i.displayKey?t[i.displayKey]:t)}}const g={provide:s.p,useExisting:Object(n.U)(()=>y),multi:!0};let y=(()=>{class t{constructor(t,e){this._store=t,this._cdr=e,this.useAllOptionYn=!0,this.useAllOptionName="All",this.dataKey="detailCode",this.onChange=new n.n,this._unsubscribe$=new o.a,this._options$=new o.a,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.selectedLanguage$=this._store.select(d.f)}get invalid(){return this.isInvalid}get disabled(){return this._disabled}set disabled(t){this._disabled=t}get options(){return this._options}set options(t){this._options=t,this._options$.next(t),this.updateSelectedOption(this.value)}ngOnInit(){this.updateSelectedOption(null),this._initSubscription()}ngAfterViewInit(){this.options&&this._options$.next(this.options)}ngOnDestroy(){this._options$.next(null),this._options$.complete(),this._unsubscribe$.next(),this._unsubscribe$.complete()}writeValue(t){this.value=t,this.updateSelectedOption(t)}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t}compareFn(t,e){return this.dataKey?t[this.dataKey]===e[this.dataKey]:t===e}selectItem(t){this.selectedOption=t,this.value=this._getValue(t),this.onModelChange(this.value),this.onChange.emit({value:this.value,option:t})}updateSelectedOption(t){this.selectedOption=this._findOption(t,this.options)}_findOption(t,e){return this.dataKey?a.find(e,e=>e[this.dataKey]===t)||null:t}_getValue(t){return a.isNil(t)?null:t[this.dataKey]}_initSubscription(){if(this.displayKey)return;let t=null;Object(r.a)([this.selectedLanguage$,this._options$]).pipe(Object(c.a)(this._unsubscribe$),Object(l.a)(([t,e])=>e&&e.length>0)).subscribe(([e,i])=>{let n;if(a.isNil(e)&&(e="EN"),!t&&i&&(t=e),t===e&&(this.displayKey=this.displayWord+"Ln",Object.keys(i[0]).includes(this.displayKey)))this._cdr.detectChanges();else{switch(e){case"EN":n=this._findDisplayKey(i,this.displayWord,["En"]);break;case"KO":n=this._findDisplayKey(i,this.displayWord,["Ko","Kr"]);break;case"JA":n=this._findDisplayKey(i,this.displayWord,["Ja","Jp"]);break;case"ZH":n=this._findDisplayKey(i,this.displayWord,["Zh","Cn"]);break;case"VI":n=this._findDisplayKey(i,this.displayWord,["Vi","Vn"])}this.displayKey=n||this.displayWord+"En",this._cdr.detectChanges()}})}_findDisplayKey(t,e,i){if(!t||0===t.length)return null;if(console.log(e,"displayWord"),!e)return null;const n=Object.keys(t[0]);for(const s of i){const t=e+s;if(n.includes(t))return t;if(n.includes(e))return t}return null}}return t.\u0275fac=function(e){return new(e||t)(n.Qb(u.h),n.Qb(n.h))},t.\u0275cmp=n.Kb({type:t,selectors:[["app-selectbox-detailcode"]],hostAttrs:[1,"select-box"],hostVars:2,hostBindings:function(t,e){2&t&&n.Gb("valid-error",e.invalid)},inputs:{name:"name",useAllOptionYn:"useAllOptionYn",useAllOptionName:"useAllOptionName",dataKey:"dataKey",displayKey:"displayKey",displayWord:"displayWord",isInvalid:"isInvalid",disabled:"disabled",options:"options"},outputs:{onChange:"onChange"},features:[n.Bb([g])],decls:3,vars:6,consts:[[3,"compareWith","ngModel","disabled","ngModelChange"],[3,"ngValue",4,"ngIf"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(t,e){1&t&&(n.Wb(0,"select",0),n.fc("ngModelChange",(function(t){return e.selectItem(t)})),n.Nc(1,b,2,2,"option",1),n.Nc(2,h,2,2,"option",2),n.Vb()),2&t&&(n.pc("compareWith",e.compareFn)("ngModel",e.selectedOption)("disabled",e.disabled),n.Db("name",e.name),n.Cb(1),n.pc("ngIf",e.useAllOptionYn),n.Cb(1),n.pc("ngForOf",e.options))},directives:[s.y,s.r,s.u,p.o,p.n,s.v,s.A],encapsulation:2}),t})()},pJ2f:function(t,e,i){"use strict";i.r(e),i.d(e,"CONTAINERS",(function(){return fe})),i.d(e,"COMPONENTS",(function(){return me})),i.d(e,"FlAutoDestinationModule",(function(){return Oe}));var n={};i.r(n),i.d(n,"getListSuccess",(function(){return F})),i.d(n,"getListFailure",(function(){return V})),i.d(n,"getStationTypeListSuccess",(function(){return R})),i.d(n,"getStationTypeListFailure",(function(){return P})),i.d(n,"getDepartureArrivalTypeListSuccess",(function(){return w})),i.d(n,"getDepartureArrivalTypeListFailure",(function(){return I})),i.d(n,"getRoutingTypeListSuccess",(function(){return W})),i.d(n,"getRoutingTypeListFailure",(function(){return _})),i.d(n,"getFareTypeListSuccess",(function(){return E})),i.d(n,"getFareTypeListFailure",(function(){return N})),i.d(n,"upsertItemSuccess",(function(){return $})),i.d(n,"upsertItemFailure",(function(){return x})),i.d(n,"loadList",(function(){return Y})),i.d(n,"reloadList",(function(){return K})),i.d(n,"initList",(function(){return z})),i.d(n,"loadStationTypeList",(function(){return M})),i.d(n,"loadDepartureArrivalTypeList",(function(){return G})),i.d(n,"loadRoutingTypeList",(function(){return H})),i.d(n,"loadFareTypeList",(function(){return Q})),i.d(n,"changeSearchCondition",(function(){return U})),i.d(n,"changePageSize",(function(){return X})),i.d(n,"removeSelectedGridEntities",(function(){return q})),i.d(n,"setGridCheckRowidsAction",(function(){return B})),i.d(n,"setGridStateAction",(function(){return J})),i.d(n,"setGridCheckedStateAction",(function(){return Z})),i.d(n,"openDetailPopup",(function(){return tt})),i.d(n,"closeDetailPopup",(function(){return et})),i.d(n,"addSelectedDetailRowInfo",(function(){return it})),i.d(n,"delSelectedDetailRowInfo",(function(){return nt})),i.d(n,"upsertItem",(function(){return st}));var s=i("ofXK"),a=i("3Pt+"),o=i("snw9"),r=i("kt0X"),c=i("WG3B"),l=i("xoAz"),d=i("wPo9"),u=i("7rOj"),p=i("+NQf"),b=i("6LsY"),h=i("l1P7"),g=i("v7zA"),y=i("7UZF"),f=i("hHe4"),m=i("1OXJ"),O=i("5hwk"),v=i("htEk"),C=i("kKjH"),j=i("qXPF"),L=i("vu/V"),S=i("tyNb"),T=i("XNiG"),k=i("zP0r"),D=i("1G5W"),A=i("LvDl");const F=Object(r.o)("[FlAutoDestination/List] get list success",Object(r.t)()),V=Object(r.o)("[FlAutoDestination/List] get list failure",Object(r.t)()),R=Object(r.o)("[FlAutoDestination/List] get station type list success",Object(r.t)()),P=Object(r.o)("[FlAutoDestination/List] get station type list failure",Object(r.t)()),w=Object(r.o)("[FlAutoDestination/List] get departure arrival type list success",Object(r.t)()),I=Object(r.o)("[FlAutoDestination/List] get departure arrival type list failure",Object(r.t)()),W=Object(r.o)("[FlAutoDestination/List] get routing type list success",Object(r.t)()),_=Object(r.o)("[FlAutoDestination/List] get routing type list failure",Object(r.t)()),E=Object(r.o)("[FlAutoDestination/List] get fare type list success",Object(r.t)()),N=Object(r.o)("[FlAutoDestination/List] get fare type list failure",Object(r.t)()),$=Object(r.o)("[FlAutoDestination/List] upsert item success",Object(r.t)()),x=Object(r.o)("[FlAutoDestination/List] upsert item failure",Object(r.t)()),Y=Object(r.o)("[FlAutoDestination/List] load grid data list",Object(r.t)()),K=Object(r.o)("[FlAutoDestination/List] reload grid data list"),z=Object(r.o)("[FlAutoDestination/List] init grid data list"),M=Object(r.o)("[FlAutoDestination/List] load station type list",Object(r.t)()),G=Object(r.o)("[FlAutoDestination/List] load departure arrival type list",Object(r.t)()),H=Object(r.o)("[FlAutoDestination/List] load routing type list",Object(r.t)()),Q=Object(r.o)("[FlAutoDestination/List] load fare type list",Object(r.t)()),U=Object(r.o)("[FlAutoDestination/List] change search condition",Object(r.t)()),X=Object(r.o)("[FlAutoDestination/List] change page size",Object(r.t)()),q=Object(r.o)("[FlAutoDestination/List] \uc0ad\uc81c\ubc84\ud2bc \ud074\ub9ad \uc561\uc158",Object(r.t)()),B=Object(r.o)("[FlAutoDestination/List] set grid checked rowids",Object(r.t)()),J=Object(r.o)("[FlAutoDestination/List] set grid state",Object(r.t)()),Z=Object(r.o)("[FlAutoDestination/List] set grid checked state",Object(r.t)()),tt=Object(r.o)("[FlAutoDestination/Detail] \uc0c1\uc138\ud31d\uc5c5 \uc5f4\uae30"),et=Object(r.o)("[FlAutoDestination/Detail] \uc0c1\uc138\ud31d\uc5c5 \ub2eb\uae30"),it=Object(r.o)("[FlAutoDestination/Detail] \uc0c1\uc138\ud31d\uc5c5\uc5d0\uc11c \ubcf4\uc5ec\uc9c8 \ud56d\ubaa9 \uc120\ud0dd",Object(r.t)()),nt=Object(r.o)("[FlAutoDestination/Detail] \uc0c1\uc138\ud31d\uc5c5\uc5d0\uc11c \ubcf4\uc5ec\uc9c8 \ud56d\ubaa9 \uc81c\uac70"),st=Object(r.o)("[FlAutoDestination/Detail] \uc0c1\uc138\ud31d\uc5c5\uc5d0\uc11c \uc800\uc7a5 \ubc84\ud2bc \ud074\ub9ad \uc561\uc158",Object(r.t)());var at=i("EVqC");const ot=Object(at.a)({selectId:t=>t.rowid,sortComparer:!1}),rt=ot.getInitialState({loading:!1,reloadToggle:!1,stationTypeList:[],departureArrivalTypeList:[],routingTypeList:[],fareTypeList:[],searchCondition:{},pageSize:20,selectedDetailRowInfo:null,isOpenDetailPopup:!1,gridState:{skip:0,sortInfo:[],filter:{logic:"and",filters:[]}},gridCheckedRowids:null,gridCheckedState:null}),ct=Object(r.q)(rt,Object(r.s)(n.loadList,t=>Object.assign(Object.assign({},t),{loading:!0})),Object(r.s)(n.reloadList,t=>Object.assign(Object.assign({},t),{reloadToggle:!t.reloadToggle})),Object(r.s)(n.initList,t=>Object.assign(Object.assign({},t),{loading:!1,reloadToggle:!1,selectedDetailRowInfo:null,isOpenDetailPopup:!1})),Object(r.s)(n.getListSuccess,(t,{dataList:e})=>ot.setAll(e,Object.assign(Object.assign({},t),{loading:!1,gridCheckedRowids:null}))),Object(r.s)(n.getListFailure,t=>Object.assign(Object.assign({},t),{loading:!1})),Object(r.s)(n.getStationTypeListSuccess,(t,{dataList:e})=>Object.assign(Object.assign({},t),{stationTypeList:e})),Object(r.s)(n.getDepartureArrivalTypeListSuccess,(t,{dataList:e})=>Object.assign(Object.assign({},t),{departureArrivalTypeList:e})),Object(r.s)(n.getRoutingTypeListSuccess,(t,{dataList:e})=>Object.assign(Object.assign({},t),{routingTypeList:e})),Object(r.s)(n.getFareTypeListSuccess,(t,{dataList:e})=>Object.assign(Object.assign({},t),{fareTypeList:e})),Object(r.s)(n.changeSearchCondition,(t,{searchCondition:e})=>Object.assign(Object.assign({},t),{searchCondition:e})),Object(r.s)(n.changePageSize,(t,{pageSize:e})=>Object.assign(Object.assign({},t),{pageSize:e})),Object(r.s)(n.upsertItemSuccess,(t,{upsertItem:e})=>ot.upsertOne(e,Object.assign({},t))),Object(r.s)(n.openDetailPopup,t=>Object.assign(Object.assign({},t),{isOpenDetailPopup:!0})),Object(r.s)(n.closeDetailPopup,t=>Object.assign(Object.assign({},t),{isOpenDetailPopup:!1})),Object(r.s)(n.addSelectedDetailRowInfo,(t,{selectedDetailRowInfo:e})=>Object.assign(Object.assign({},t),{selectedDetailRowInfo:e})),Object(r.s)(n.delSelectedDetailRowInfo,t=>Object.assign(Object.assign({},t),{selectedDetailRowInfo:null})),Object(r.s)(n.setGridCheckRowidsAction,(t,{rowids:e})=>Object.assign(Object.assign({},t),{gridCheckedRowids:e})),Object(r.s)(n.setGridStateAction,(t,{gridState:e})=>Object.assign(Object.assign({},t),{gridState:e})),Object(r.s)(n.setGridCheckedStateAction,(t,{gridCheckedState:e})=>Object.assign(Object.assign({},t),{gridCheckedState:e})));function lt(t,e){return Object(r.m)({flAutoDestinationList:ct})(t,e)}const dt=Object(r.p)("flAutoDestination"),ut=Object(r.r)(dt,t=>t.flAutoDestinationList),pt=Object(r.r)(ut,t=>t.loading),bt=Object(r.r)(ut,t=>t.reloadToggle),ht=Object(r.r)(ut,t=>t.stationTypeList),gt=Object(r.r)(ut,t=>t.departureArrivalTypeList),yt=Object(r.r)(ut,t=>t.routingTypeList),ft=Object(r.r)(ut,t=>t.fareTypeList),mt=Object(r.r)(ut,t=>t.searchCondition),Ot=Object(r.r)(ut,t=>t.pageSize),vt=Object(r.r)(ut,t=>t.selectedDetailRowInfo),Ct=Object(r.r)(ut,t=>t.isOpenDetailPopup),jt=ot.getSelectors(ut).selectAll,Lt=(ot.getSelectors(ut),Object(r.r)(ut,t=>t.gridState)),St=Object(r.r)(ut,t=>t.gridCheckedRowids),Tt=Object(r.r)(ut,t=>t.gridCheckedState);var kt=i("YY+H"),Dt=i("fXoL"),At=i("LRne"),Ft=i("z6cu"),Vt=i("eIep"),Rt=i("AytR");const{API_URL:Pt}=Rt.a,wt={selectEntities:`${Pt}/admin/flight/auto-destination`,modifyEntity:`${Pt}/admin/flight/auto-destination`,selectDetailCodes:`${Pt}/common/detail-code`};var It=i("tpT/");let Wt=(()=>{class t{constructor(t){this.api=t}getList(t){const e=A.assign({},this.api.defaultParams,{condition:t});return this.api.post(wt.selectEntities,e).pipe(Object(Vt.a)(t=>{if(t.succeedYn){const e=this._addRowid(t.result.list);return Object(At.a)(e)}return Object(Ft.a)(t||"api response error")}))}upsertItem(t){const e=A.assign({},this.api.defaultParams,{condition:t});return console.log(e,"params"),this.api.put(wt.modifyEntity,e).pipe(Object(Vt.a)(t=>{if(t.succeedYn){const e=t.result.list[0];return Object(At.a)(e)}return Object(Ft.a)(t||"api response error")}))}getCommonDetailCodeList(t){const e=A.assign({},this.api.defaultParams,{condition:t});return this.api.post(wt.selectDetailCodes,e).pipe(Object(Vt.a)(t=>{if(t.succeedYn){const e=t.result.list;return Object(At.a)(e)}return Object(Ft.a)(t||"api response error")}))}_addRowid(t){return A.isNil(t)?[]:t.map((t,e)=>Object.assign(Object.assign({},t),{rowid:String(e)}))}}return t.\u0275fac=function(e){return new(e||t)(Dt.bc(It.a))},t.\u0275prov=Dt.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var _t=i("6UzV");let Et=(()=>{class t{constructor(t){this.fb=t,this.generateGridColumns=()=>[{field:"airlineCode",title:"Airline Code",type:"text",style:{"text-align":"center"}},{field:"departureArrivalTypeName",title:"Departure/Arrival",type:"text"},{field:"routingTypeList",title:"Routing Type",type:"text"},{field:"fareTypeList",title:"Fare List",type:"text"},{field:"instantPaymentYn",title:"Instant Payment",type:"boolean",template:"instantPaymentYnTpl",style:{"text-align":"center"}},{field:"useYn",title:"Auto Tiketing Use YN",type:"boolean",template:"useYnTpl",style:{"text-align":"center"}},{field:"controlRemark",title:"Control Remark",type:"text"}],this.generateListSearchForm=()=>this.fb.group({operationCountryCode:[null],stationTypeCode:[null],airlineCode:[null,[_t.a.airlineCodeValidator]],departureArrivalTypeCode:[null],instantPaymentYn:[null],routingTypeCode:[null],fareTypeCodes:[null],useYn:[null]}),this.initListSearch=()=>({operationCountryCode:"KR",stationTypeCode:null,airlineCode:null,departureArrivalTypeCode:null,instantPaymentYn:null,routingTypeCode:null,fareTypeCodes:null,useYn:null}),this.generatePutForm=()=>this.fb.group({autoTicketingDestinationSeq:[{value:null,disabled:!0},[a.z.required]],stationTypeCode:[null],airlineCode:[null,[a.z.required,_t.a.airlineCodeValidator]],departureArrivalTypeCode:[null,[a.z.required]],fareTypeList:[null,[a.z.required]],routingTypeList:[null,[a.z.required]],instantPaymentYn:[null,[a.z.required]],useYn:[null,[a.z.required]],controlRemark:[null],operationCountryCode:[null]}),this.initPutFormData=()=>({autoTicketingDestinationSeq:null,stationTypeCode:"STN01",airlineCode:null,departureArrivalTypeCode:null,fareTypeList:null,routingTypeList:null,instantPaymentYn:!0,useYn:!0,controlRemark:null,operationCountryCode:"KR"})}}return t.\u0275fac=function(e){return new(e||t)(Dt.bc(a.f))},t.\u0275prov=Dt.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Nt=i("+Sob"),$t=i("gbCm"),xt=i("nMd8"),Yt=i("U6NN");let Kt=(()=>{class t{constructor(t){this._dataService=t,this.clickSearchEvent=new Dt.n,this.clickResetEvent=new Dt.n,this.changeSearchConditionEvent=new Dt.n,this.isShowmore=!1,this.useYnOptions=[{label:"Y",value:!0},{label:"N",value:!1}],this.searchForm=this._dataService.generateListSearchForm()}get searchCondition(){return this._searchCondition}set searchCondition(t){this._searchCondition=t,this.searchFormData=this._setSearchFormData(t)}get searchFormValid(){return this.searchForm.valid}ngOnInit(){this._initThisState()}onSubmit(){this.searchForm.invalid?this._checkValid=!0:(this.clickSearchEvent.emit(this.searchForm.value),this._checkValid=!1)}onReset(){this.clickResetEvent.emit()}checkIsInvalid(t){return this._checkValid&&this.searchForm.get(t)&&this.searchForm.get(t).invalid}_initThisState(){this._checkValid=!1}_setSearchFormData(t){const e=this._dataService.initListSearch();return Object.assign({},e,A.pick(t,Object.keys(e)))}}return t.\u0275fac=function(e){return new(e||t)(Dt.Qb(Et))},t.\u0275cmp=Dt.Kb({type:t,selectors:[["app-fl-auto-destination-search"]],inputs:{stationTypeList:"stationTypeList",departureArrivalTypeList:"departureArrivalTypeList",routingTypeList:"routingTypeList",fareTypeList:"fareTypeList",searchCondition:"searchCondition"},outputs:{clickSearchEvent:"clickSearchEvent",clickResetEvent:"clickResetEvent",changeSearchConditionEvent:"changeSearchConditionEvent"},decls:34,vars:10,consts:[[1,"grid-search-box","multi",3,"formGroup","connectForm","ngSubmit"],[1,"form-option-area"],[1,"row"],[1,"col-1"],[1,"form-label"],["formControlName","airlineCode","inputFormat","upperCase","placeholder","e.g. KE",1,"d-inline-flex","flex-fill",3,"isInvalid"],["formControlName","departureArrivalTypeCode","dataKey","detailCode","displayWord","detailCodeName",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","instantPaymentYn",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","useYn",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","routingTypeCode","dataKey","detailCode","displayWord","detailCodeName",1,"d-inline-flex","flex-fill",3,"options"],[1,"form-button-area"],["type","submit","role","button",1,"btn","btn-primary","sm"],["type","button","role","button",1,"btn","btn-reset","sm",3,"click"]],template:function(t,e){1&t&&(Dt.Wb(0,"form",0),Dt.fc("ngSubmit",(function(){return e.onSubmit()})),Dt.Wb(1,"div",1),Dt.Wb(2,"div",2),Dt.Wb(3,"div",3),Dt.Wb(4,"span",4),Dt.Pc(5,"Airline Code"),Dt.Vb(),Dt.Rb(6,"app-input-text",5),Dt.Vb(),Dt.Wb(7,"div",3),Dt.Wb(8,"span",4),Dt.Pc(9,"Departure/Arrival"),Dt.Vb(),Dt.Rb(10,"app-selectbox-detailcode",6),Dt.Vb(),Dt.Wb(11,"div",3),Dt.Wb(12,"span",4),Dt.Pc(13,"Instant Payment"),Dt.Vb(),Dt.Rb(14,"app-selectbox",7),Dt.Vb(),Dt.Wb(15,"div",3),Dt.Wb(16,"span",4),Dt.Pc(17,"Auto Ticketing Use YN"),Dt.Vb(),Dt.Rb(18,"app-selectbox",8),Dt.Vb(),Dt.Vb(),Dt.Wb(19,"div",2),Dt.Wb(20,"div",3),Dt.Wb(21,"span",4),Dt.Pc(22,"Routing Type"),Dt.Vb(),Dt.Rb(23,"app-selectbox-detailcode",9),Dt.Vb(),Dt.Vb(),Dt.Wb(24,"div",2),Dt.Wb(25,"div",3),Dt.Wb(26,"span",4),Dt.Pc(27,"Auto Ticketing Use YN"),Dt.Vb(),Dt.Rb(28,"app-selectbox",8),Dt.Vb(),Dt.Vb(),Dt.Vb(),Dt.Wb(29,"div",10),Dt.Wb(30,"button",11),Dt.Pc(31,"Search"),Dt.Vb(),Dt.Wb(32,"button",12),Dt.fc("click",(function(){return e.onReset()})),Dt.Pc(33,"Reset"),Dt.Vb(),Dt.Vb(),Dt.Vb()),2&t&&(Dt.pc("formGroup",e.searchForm)("connectForm",e.searchFormData),Dt.Cb(6),Dt.pc("isInvalid",e.checkIsInvalid("airlineCode")),Dt.Cb(4),Dt.pc("options",e.departureArrivalTypeList),Dt.Cb(4),Dt.pc("options",e.useYnOptions),Dt.Cb(4),Dt.pc("options",e.useYnOptions),Dt.Cb(5),Dt.pc("options",e.routingTypeList),Dt.Cb(1),Dt.Gb("hide",!e.isShowmore),Dt.Cb(4),Dt.pc("options",e.useYnOptions))},directives:[a.B,a.s,a.k,Nt.a,$t.a,a.r,a.i,xt.a,Yt.a],styles:[""],changeDetection:0}),t})();var zt=i("G4DP"),Mt=i("bMKz");let Gt=(()=>{class t{constructor(){this.clickAddEvent=new Dt.n,this.clickDelEvent=new Dt.n,this.changePageSizeEvent=new Dt.n,this.pageSizeOptions=[{label:"20",value:20},{label:"40",value:40},{label:"60",value:60},{label:"80",value:80},{label:"100",value:100}]}ngOnInit(){}onClickAdd(){this.clickAddEvent.emit()}onClickDel(){}onChangePageSize(t){this.changePageSizeEvent.emit(t.value)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Dt.Kb({type:t,selectors:[["app-fl-auto-destination-control"]],inputs:{loading:"loading",currentPageSize:"currentPageSize",totalCount:"totalCount"},outputs:{clickAddEvent:"clickAddEvent",clickDelEvent:"clickDelEvent",changePageSizeEvent:"changePageSizeEvent"},decls:8,vars:4,consts:[[1,"grid-control-area"],[1,"grid-count"],[1,"ml-auto","d-inline-flex","flex-glow-0"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"select-box","sm","d-inline-flex","flex-glow-0"],[3,"options","ngModel","useAllOptionYn","onChange"]],template:function(t,e){1&t&&(Dt.Wb(0,"div",0),Dt.Wb(1,"strong",1),Dt.Pc(2),Dt.Vb(),Dt.Wb(3,"div",2),Dt.Wb(4,"button",3),Dt.fc("click",(function(){return e.onClickAdd()})),Dt.Pc(5,"New"),Dt.Vb(),Dt.Wb(6,"div",4),Dt.Wb(7,"app-selectbox",5),Dt.fc("onChange",(function(t){return e.onChangePageSize(t)})),Dt.Vb(),Dt.Vb(),Dt.Vb(),Dt.Vb()),2&t&&(Dt.Cb(2),Dt.Qc(e.loading?"":e.totalCount),Dt.Cb(5),Dt.pc("options",e.pageSizeOptions)("ngModel",e.currentPageSize)("useAllOptionYn",!1))},directives:[Yt.a,a.r,a.u],styles:[""],changeDetection:0}),t})();var Ht=i("kDLv"),Qt=i("pb6r"),Ut=i("Onn4");let Xt=(()=>{class t{constructor(t,e){this._dataService=t,this.fb=e,this.submitEvent=new Dt.n,this.closeEvent=new Dt.n,this._$unsubscribe=new T.a,this.upsertForm=this._dataService.generatePutForm(),this.fareTypeForm=this.fb.group({MSP:[!1],SF:[!1],RA:[!1],RN:[!1],RP:[!1],RV:[!1]}),this.routingTypeForm=this.fb.group({OW:[!1],RT:[!1],MD:[!1]})}get rowItem(){return this._rowitem}set rowItem(t){this._rowitem=t,this.upsertFormData=this._setPutFormData(t),this._initThisState(t)}ngAfterContentInit(){this._initSubscription(),this._initThisState()}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete()}onSubmit(){if(this.upsertForm.invalid)return void(this._checkValid=!0);const t=this._setPutCondition();this.submitEvent.emit(t),this._checkValid=!1}onClose(){this.closeEvent.emit()}checkIsInvalid(t){return this._checkValid&&this.upsertForm.get(t)&&this.upsertForm.get(t).invalid}_initThisState(t){this._checkValid=!1,t&&(this.fareTypeForm.patchValue({MSP:t.fareTypeList.includes("MSP"),SF:t.fareTypeList.includes("SF"),RA:t.fareTypeList.includes("RA"),RN:t.fareTypeList.includes("RN"),RP:t.fareTypeList.includes("RP"),RV:t.fareTypeList.includes("RV")}),this.routingTypeForm.patchValue({OW:t.routingTypeList.includes("OW"),RT:t.routingTypeList.includes("RT"),MD:t.routingTypeList.includes("MD")}))}_setPutFormData(t){const e=this._dataService.initPutFormData();return A.isNil(t)?e:Object.assign({},e,A.pick(t,Object.keys(e)))}_setPutCondition(){const t=this._dataService.initPutFormData(),e=this.upsertForm.getRawValue();let i=Object.assign({},A.pick(e,Object.keys(t)));return i.controlRemark||(i.controlRemark=null),i.autoTicketingDestinationSeq||(i.autoTicketingDestinationSeq=void 0),{condition:i}}_initSubscription(){this.fareTypeForm.valueChanges.subscribe(t=>{const e=Object.values(t).every(t=>!t);this.upsertForm.patchValue(e?{fareTypeList:null}:{fareTypeList:Object.keys(t).filter(e=>t[e]).toString()})}),this.routingTypeForm.valueChanges.subscribe(t=>{const e=Object.values(t).every(t=>!t);this.upsertForm.patchValue(e?{routingTypeList:null}:{routingTypeList:Object.keys(t).filter(e=>t[e]).toString()})})}}return t.\u0275fac=function(e){return new(e||t)(Dt.Qb(Et),Dt.Qb(a.f))},t.\u0275cmp=Dt.Kb({type:t,selectors:[["app-fl-auto-destination-form"]],inputs:{stationTypeList:"stationTypeList",departureArrivalTypeList:"departureArrivalTypeList",routingTypeList:"routingTypeList",fareTypeList:"fareTypeList",rowItem:"rowItem"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:76,vars:28,consts:[[1,"modal-body"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","150px"],["scope","row",1,"th-bg"],["formControlName","autoTicketingDestinationSeq"],["formControlName","airlineCode","inputFormat","upperCase","placeholder","e.g. KE",3,"isInvalid"],["formControlName","departureArrivalTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","Select",3,"options","isInvalid"],[1,"input",3,"formGroup"],["formControlName","MSP","label","MSP",1,"mr15",3,"binary"],["formControlName","SF","label","SF",1,"mr15",3,"binary"],["formControlName","RA","label","RA",1,"mr15",3,"binary"],["formControlName","RN","label","RN",1,"mr15",3,"binary"],["formControlName","RP","label","RP",1,"mr15",3,"binary"],["formControlName","RV","label","RV",1,"mr15",3,"binary"],["formControlName","OW","label","OW",1,"mr15",3,"binary"],["formControlName","RT","label","RT",1,"mr15",3,"binary"],["formControlName","MD","label","MD",1,"mr15",3,"binary"],[1,"form-group"],["formControlName","instantPaymentYn","name","instantPaymentYn","label","Y",3,"value"],["formControlName","instantPaymentYn","name","instantPaymentYn","label","N",3,"value"],["formControlName","useYn","name","useYn","label","Y",3,"value"],["formControlName","useYn","name","useYn","label","N",3,"value"],[1,"textarea"],["cols","30","rows","3","formControlName","controlRemark"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(t,e){1&t&&(Dt.Wb(0,"div",0),Dt.Wb(1,"form",1),Dt.fc("ngSubmit",(function(){return e.onSubmit()})),Dt.Wb(2,"div",2),Dt.Wb(3,"table"),Dt.Wb(4,"caption"),Dt.Pc(5," Auto Ticketing "),Dt.Vb(),Dt.Wb(6,"colgroup"),Dt.Rb(7,"col",3),Dt.Rb(8,"col"),Dt.Vb(),Dt.Wb(9,"tbody"),Dt.Wb(10,"tr"),Dt.Wb(11,"th",4),Dt.Pc(12,"SEQ"),Dt.Rb(13,"sup"),Dt.Vb(),Dt.Wb(14,"td"),Dt.Rb(15,"app-input-text",5),Dt.Vb(),Dt.Vb(),Dt.Wb(16,"tr"),Dt.Wb(17,"th",4),Dt.Pc(18,"Airline Code"),Dt.Rb(19,"sup"),Dt.Vb(),Dt.Wb(20,"td"),Dt.Rb(21,"app-input-text",6),Dt.Vb(),Dt.Vb(),Dt.Wb(22,"tr"),Dt.Wb(23,"th",4),Dt.Pc(24,"Departure/Arrival"),Dt.Rb(25,"sup"),Dt.Vb(),Dt.Wb(26,"td"),Dt.Rb(27,"app-selectbox",7),Dt.Vb(),Dt.Vb(),Dt.Wb(28,"tr"),Dt.Wb(29,"th",4),Dt.Pc(30,"Fare List"),Dt.Rb(31,"sup"),Dt.Vb(),Dt.Wb(32,"td"),Dt.Wb(33,"div",8),Dt.Rb(34,"app-checkbox",9),Dt.Rb(35,"app-checkbox",10),Dt.Rb(36,"app-checkbox",11),Dt.Rb(37,"app-checkbox",12),Dt.Rb(38,"app-checkbox",13),Dt.Rb(39,"app-checkbox",14),Dt.Vb(),Dt.Vb(),Dt.Vb(),Dt.Wb(40,"tr"),Dt.Wb(41,"th",4),Dt.Pc(42,"Routing Type"),Dt.Rb(43,"sup"),Dt.Vb(),Dt.Wb(44,"td"),Dt.Wb(45,"div",8),Dt.Rb(46,"app-checkbox",15),Dt.Rb(47,"app-checkbox",16),Dt.Rb(48,"app-checkbox",17),Dt.Vb(),Dt.Vb(),Dt.Vb(),Dt.Wb(49,"tr"),Dt.Wb(50,"th",4),Dt.Pc(51,"Instant Payment"),Dt.Rb(52,"sup"),Dt.Vb(),Dt.Wb(53,"td"),Dt.Wb(54,"div",18),Dt.Rb(55,"app-radio",19),Dt.Rb(56,"app-radio",20),Dt.Vb(),Dt.Vb(),Dt.Vb(),Dt.Wb(57,"tr"),Dt.Wb(58,"th",4),Dt.Pc(59,"Auto Ticketing Use YN"),Dt.Rb(60,"sup"),Dt.Vb(),Dt.Wb(61,"td"),Dt.Wb(62,"div",18),Dt.Rb(63,"app-radio",21),Dt.Rb(64,"app-radio",22),Dt.Vb(),Dt.Vb(),Dt.Vb(),Dt.Wb(65,"tr"),Dt.Wb(66,"th",4),Dt.Pc(67,"Control Remark"),Dt.Vb(),Dt.Wb(68,"td"),Dt.Wb(69,"div",23),Dt.Rb(70,"textarea",24),Dt.Vb(),Dt.Vb(),Dt.Vb(),Dt.Vb(),Dt.Vb(),Dt.Vb(),Dt.Wb(71,"div",25),Dt.Wb(72,"button",26),Dt.Pc(73,"Save"),Dt.Vb(),Dt.Wb(74,"button",27),Dt.fc("click",(function(){return e.onClose()})),Dt.Pc(75,"Close"),Dt.Vb(),Dt.Vb(),Dt.Vb(),Dt.Vb()),2&t&&(Dt.Cb(1),Dt.pc("formGroup",e.upsertForm)("connectForm",e.upsertFormData),Dt.Cb(20),Dt.pc("isInvalid",e.checkIsInvalid("airlineCode")),Dt.Cb(6),Dt.pc("options",e.departureArrivalTypeList)("isInvalid",e.checkIsInvalid("departureArrivalTypeCode")),Dt.Cb(6),Dt.Gb("valid-error",e.checkIsInvalid("fareTypeList")),Dt.pc("formGroup",e.fareTypeForm),Dt.Cb(1),Dt.pc("binary",!0),Dt.Cb(1),Dt.pc("binary",!0),Dt.Cb(1),Dt.pc("binary",!0),Dt.Cb(1),Dt.pc("binary",!0),Dt.Cb(1),Dt.pc("binary",!0),Dt.Cb(1),Dt.pc("binary",!0),Dt.Cb(6),Dt.Gb("valid-error",e.checkIsInvalid("routingTypeList")),Dt.pc("formGroup",e.routingTypeForm),Dt.Cb(1),Dt.pc("binary",!0),Dt.Cb(1),Dt.pc("binary",!0),Dt.Cb(1),Dt.pc("binary",!0),Dt.Cb(6),Dt.Gb("valid-error",e.checkIsInvalid("instantPaymentYn")),Dt.Cb(1),Dt.pc("value",!0),Dt.Cb(1),Dt.pc("value",!1),Dt.Cb(6),Dt.Gb("valid-error",e.checkIsInvalid("useYn")),Dt.Cb(1),Dt.pc("value",!0),Dt.Cb(1),Dt.pc("value",!1))},directives:[a.B,a.s,a.k,Nt.a,$t.a,a.r,a.i,Yt.a,Qt.a,Ut.a,a.c],styles:[""],changeDetection:0}),t})();function qt(t,e){1&t&&(Dt.Wb(0,"span"),Dt.Pc(1,"Y"),Dt.Vb())}function Bt(t,e){1&t&&(Dt.Wb(0,"span"),Dt.Pc(1,"N"),Dt.Vb())}function Jt(t,e){if(1&t&&(Dt.Nc(0,qt,2,0,"span",8),Dt.Nc(1,Bt,2,0,"span",8)),2&t){const t=e.$implicit;Dt.pc("ngIf",!0===t.instantPaymentYn),Dt.Cb(1),Dt.pc("ngIf",!1===t.instantPaymentYn)}}function Zt(t,e){1&t&&(Dt.Wb(0,"span"),Dt.Pc(1,"Y"),Dt.Vb())}function te(t,e){1&t&&(Dt.Wb(0,"span"),Dt.Pc(1,"N"),Dt.Vb())}function ee(t,e){if(1&t&&(Dt.Nc(0,Zt,2,0,"span",8),Dt.Nc(1,te,2,0,"span",8)),2&t){const t=e.$implicit;Dt.pc("ngIf",!0===t.useYn),Dt.Cb(1),Dt.pc("ngIf",!1===t.useYn)}}function ie(t,e){if(1&t){const t=Dt.Xb();Dt.Wb(0,"app-fl-auto-destination-form",9),Dt.fc("submitEvent",(function(e){return Dt.Fc(t),Dt.hc().submitUpsertHandler(e)}))("closeEvent",(function(){return Dt.Fc(t),Dt.hc().closeUpsertHandler()})),Dt.ic(1,"async"),Dt.ic(2,"async"),Dt.ic(3,"async"),Dt.ic(4,"async"),Dt.ic(5,"async"),Dt.Vb()}if(2&t){const t=Dt.hc();Dt.pc("stationTypeList",Dt.jc(1,5,t.stationTypeList$))("departureArrivalTypeList",Dt.jc(2,7,t.departureArrivalTypeList$))("routingTypeList",Dt.jc(3,9,t.routingTypeList$))("fareTypeList",Dt.jc(4,11,t.fareTypeList$))("rowItem",Dt.jc(5,13,t.selectedItem$))}}const ne=function(t,e){return{instantPaymentYnTpl:t,useYnTpl:e}};let se=(()=>{class t{constructor(t,e,i,n){this.store=t,this.authStore=e,this._dataService=i,this.UserConditionService=n,this.unsubscribe$=new T.a,this.loading$=t.pipe(Object(r.u)(pt)),this.reloadToggle$=t.pipe(Object(r.u)(bt)),this.stationTypeList$=t.pipe(Object(r.u)(ht)),this.departureArrivalTypeList$=t.pipe(Object(r.u)(gt)),this.routingTypeList$=t.pipe(Object(r.u)(yt)),this.fareTypeList$=t.pipe(Object(r.u)(ft)),this.searchCondition$=t.pipe(Object(r.u)(mt)),this.gridDataList$=t.pipe(Object(r.u)(jt)),this.listPageSize$=t.pipe(Object(r.u)(Ot)),this.loginUserNo$=e.pipe(Object(r.u)(kt.t)),this.isOpenDetailPopup$=t.pipe(Object(r.u)(Ct)),this.selectedItem$=t.pipe(Object(r.u)(vt)),this.gridState$=t.pipe(Object(r.u)(Lt)),this.gridCheckedRowids$=t.pipe(Object(r.u)(St)),this.gridCheckedState$=t.pipe(Object(r.u)(Tt)),this.storeId$=e.pipe(Object(r.u)(kt.o)),this.columns=this._dataService.generateGridColumns(),this._initSubscription()}ngOnInit(){this.store.dispatch(n.loadStationTypeList({condition:{masterCode:"BS002"}})),this.store.dispatch(n.loadDepartureArrivalTypeList({condition:{masterCode:"FL005"}})),this.store.dispatch(n.loadRoutingTypeList({condition:{masterCode:"BS012"}})),this.store.dispatch(n.loadFareTypeList({condition:{masterCode:"FL007"}})),this.storeId$.subscribe(t=>this._storeId=t),this.initSearchCondition()}ngOnDestroy(){this.store.dispatch(n.initList()),this.unsubscribe$.next(),this.unsubscribe$.complete(),this.store.dispatch(n.setGridCheckRowidsAction({rowids:this.gridEl.checkedRows})),this.store.dispatch(n.setGridStateAction({gridState:this.gridEl.thisGridState})),this.store.dispatch(n.setGridCheckedStateAction({gridCheckedState:this.gridEl.checkedStateOutput}))}changePageSizeHandler(t){this.store.dispatch(n.changePageSize({pageSize:t}))}clickAddHandler(){this.store.dispatch(n.openDetailPopup())}clickDelHandler(t){const{rowids:e,hotelRowids:i}=t;this.store.dispatch(n.removeSelectedGridEntities({rowids:e,hotelRowids:i}))}clickSearchHandler(t){const e=Object.assign({operationCountryCode:"KR"},this._setSearchCondition(t));this.store.dispatch(n.loadList({condition:e})),this.store.dispatch(n.changeSearchCondition({searchCondition:A.cloneDeep(e)})),this.UserConditionService.setSearchSettingSessionStorage(e,this._storeId)}clickResetHandler(){this.store.dispatch(n.changeSearchCondition({searchCondition:this._dataService.initListSearch()}))}dbClickRowHandler(t){this.store.dispatch(n.addSelectedDetailRowInfo({selectedDetailRowInfo:A.cloneDeep(t)})),this.clickAddHandler()}submitUpsertHandler(t){console.log(t,"conditions");const{condition:e}=t;this.store.dispatch(n.upsertItem({upsertCondition:e}))}closeUpsertHandler(){this.store.dispatch(n.closeDetailPopup()),this.store.dispatch(n.delSelectedDetailRowInfo())}_initSubscription(){this.reloadToggle$.pipe(Object(k.a)(1),Object(D.a)(this.unsubscribe$)).subscribe(()=>{this.searchFormEl.searchFormValid&&this.searchFormEl.onSubmit()})}_setSearchCondition(t){return A.omitBy(t,t=>A.isNil(t)||""===t)}initSearchCondition(){if(this.searchCondition$.subscribe(t=>this._searchCondition=t),this.gridDataList$.subscribe(t=>this._searchGridDataList=t),0===A.size(this._searchCondition)&&0===A.size(this._searchGridDataList)){const t=this._dataService.initListSearch(),e=this.UserConditionService.selectSearchSetting(t,this._storeId);this.store.dispatch(n.changeSearchCondition({searchCondition:e[0]}))}}}return t.\u0275fac=function(e){return new(e||t)(Dt.Qb(r.h),Dt.Qb(r.h),Dt.Qb(Et),Dt.Qb(Mt.a))},t.\u0275cmp=Dt.Kb({type:t,selectors:[["app-fl-auto-destination"]],viewQuery:function(t,e){var i;1&t&&(Dt.Xc(Kt,!0),Dt.Xc(zt.a,!0)),2&t&&(Dt.Dc(i=Dt.gc())&&(e.searchFormEl=i.first),Dt.Dc(i=Dt.gc())&&(e.gridEl=i.first))},decls:25,vars:52,consts:[[3,"stationTypeList","departureArrivalTypeList","routingTypeList","fareTypeList","searchCondition","clickSearchEvent","clickResetEvent"],[3,"loading","currentPageSize","totalCount","clickAddEvent","clickDelEvent","changePageSizeEvent"],["instantPaymentYnTpl",""],["useYnTpl",""],[3,"gridLoading","gridState","checkedState","columns","pageSize","checkboxUseYn","dataList","templates","dbClickRowEvent"],["gridBasis",""],["modalSize","sm","modalContentClass","pd-all","header","Auto Ticketing",3,"visible","modal","visibleChange"],[3,"stationTypeList","departureArrivalTypeList","routingTypeList","fareTypeList","rowItem","submitEvent","closeEvent",4,"ngIf"],[4,"ngIf"],[3,"stationTypeList","departureArrivalTypeList","routingTypeList","fareTypeList","rowItem","submitEvent","closeEvent"]],template:function(t,e){if(1&t&&(Dt.Wb(0,"app-fl-auto-destination-search",0),Dt.fc("clickSearchEvent",(function(t){return e.clickSearchHandler(t)}))("clickResetEvent",(function(){return e.clickResetHandler()})),Dt.ic(1,"async"),Dt.ic(2,"async"),Dt.ic(3,"async"),Dt.ic(4,"async"),Dt.ic(5,"async"),Dt.Vb(),Dt.Wb(6,"app-fl-auto-destination-control",1),Dt.fc("clickAddEvent",(function(){return e.clickAddHandler()}))("clickDelEvent",(function(t){return e.clickDelHandler(t)}))("changePageSizeEvent",(function(t){return e.changePageSizeHandler(t)})),Dt.ic(7,"async"),Dt.ic(8,"async"),Dt.ic(9,"async"),Dt.Vb(),Dt.Nc(10,Jt,2,2,"ng-template",null,2,Dt.Oc),Dt.Nc(12,ee,2,2,"ng-template",null,3,Dt.Oc),Dt.Wb(14,"app-grid-basis",4,5),Dt.fc("dbClickRowEvent",(function(t){return e.dbClickRowHandler(t)})),Dt.ic(16,"async"),Dt.ic(17,"async"),Dt.ic(18,"async"),Dt.ic(19,"async"),Dt.ic(20,"async"),Dt.Vb(),Dt.Wb(21,"app-dialog",6),Dt.fc("visibleChange",(function(){return e.closeUpsertHandler()})),Dt.ic(22,"async"),Dt.Nc(23,ie,6,15,"app-fl-auto-destination-form",7),Dt.ic(24,"async"),Dt.Vb()),2&t){const t=Dt.Ec(11),i=Dt.Ec(13);Dt.pc("stationTypeList",Dt.jc(1,19,e.stationTypeList$))("departureArrivalTypeList",Dt.jc(2,21,e.departureArrivalTypeList$))("routingTypeList",Dt.jc(3,23,e.routingTypeList$))("fareTypeList",Dt.jc(4,25,e.fareTypeList$))("searchCondition",Dt.jc(5,27,e.searchCondition$)),Dt.Cb(6),Dt.pc("loading",Dt.jc(7,29,e.loading$))("currentPageSize",Dt.jc(8,31,e.listPageSize$))("totalCount",Dt.jc(9,33,e.gridDataList$).length),Dt.Cb(8),Dt.pc("gridLoading",Dt.jc(16,35,e.loading$))("gridState",Dt.jc(17,37,e.gridState$))("checkedState",Dt.jc(18,39,e.gridCheckedState$))("columns",e.columns)("pageSize",Dt.jc(19,41,e.listPageSize$))("checkboxUseYn",!1)("dataList",Dt.jc(20,43,e.gridDataList$))("templates",Dt.vc(49,ne,t,i)),Dt.Cb(7),Dt.pc("visible",Dt.jc(22,45,e.isOpenDetailPopup$))("modal",!0),Dt.Cb(2),Dt.pc("ngIf",Dt.jc(24,47,e.isOpenDetailPopup$))}},directives:[Kt,Gt,zt.a,Ht.a,s.o,Xt],pipes:[s.b],encapsulation:2,changeDetection:0}),t})();const ae=[{path:"",component:se,data:{title:"\uc790\ub3d9\ubc1c\uad8c\uad00\ub9ac"}}];let oe=(()=>{class t{}return t.\u0275mod=Dt.Ob({type:t}),t.\u0275inj=Dt.Nb({factory:function(e){return new(e||t)},imports:[[S.f.forChild(ae)],S.f]}),t})();var re=i("lJxs"),ce=i("JIr8"),le=i("vkgz"),de=i("bOdf"),ue=i("zp1y"),pe=i("IzEk"),be=i("Xb6A"),he=i("EsKh");let ge=(()=>{class t{constructor(t,e,i,s,a){this.actions$=t,this.service=e,this._errorService=i,this.alertService=s,this.store=a,this.loadList$=Object(o.c)(()=>this.actions$.pipe(Object(o.d)(n.loadList),Object(Vt.a)(({condition:t})=>this.service.getList(t).pipe(Object(re.a)(t=>n.getListSuccess({dataList:t})),Object(ce.a)(t=>{const e="List lookup failed. Please try again in a momentarily.",i=[n.getListFailure({error:e})];return this._catchErr(t,e,i),[]}))))),this.upsertItem$=Object(o.c)(()=>this.actions$.pipe(Object(o.d)(n.upsertItem),Object(Vt.a)(({upsertCondition:t})=>this.service.upsertItem(t).pipe(Object(re.a)(()=>({succeedYn:!0})),Object(ce.a)(t=>Object(At.a)({succeedYn:!1,error:t})))),Object(le.a)(({succeedYn:t,error:e})=>{if(t){const t="Your data has been saved.",e=[n.reloadList(),n.closeDetailPopup(),n.delSelectedDetailRowInfo()];this._runPage(t,e)}else{const t="Failed to save.",i=[n.upsertItemFailure({error:t})];this._catchErr(e,t,i)}})),{dispatch:!1}),this.loadStationType$=Object(o.c)(()=>this.actions$.pipe(Object(o.d)(n.loadStationTypeList),Object(de.a)(t=>Object(At.a)(t).pipe(Object(ue.a)(this.stationTypeList$.pipe(Object(pe.a)(1))))),Object(Vt.a)(([{condition:t},e])=>A.isNil(e)||0===e.length?this.service.getCommonDetailCodeList(t).pipe(Object(re.a)(t=>n.getStationTypeListSuccess({dataList:t})),Object(ce.a)(t=>{const e="Station lookup failed.",i=[n.getStationTypeListFailure({error:e})];return this._catchErr(t,e,i),[]})):Object(At.a)(n.getStationTypeListSuccess({dataList:e}))))),this.loadDepartureArrivalType$=Object(o.c)(()=>this.actions$.pipe(Object(o.d)(n.loadDepartureArrivalTypeList),Object(de.a)(t=>Object(At.a)(t).pipe(Object(ue.a)(this.departureArrivalTypeList$.pipe(Object(pe.a)(1))))),Object(Vt.a)(([{condition:t},e])=>A.isNil(e)||0===e.length?this.service.getCommonDetailCodeList(t).pipe(Object(re.a)(t=>n.getDepartureArrivalTypeListSuccess({dataList:t})),Object(ce.a)(t=>{const e="\ucd9c\ubc1c\ub3c4\ucc29\uad6c\ubd84 \uc870\ud68c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.",i=[n.getDepartureArrivalTypeListFailure({error:e})];return this._catchErr(t,e,i),[]})):Object(At.a)(n.getDepartureArrivalTypeListSuccess({dataList:e}))))),this.loadRoutingType$=Object(o.c)(()=>this.actions$.pipe(Object(o.d)(n.loadRoutingTypeList),Object(de.a)(t=>Object(At.a)(t).pipe(Object(ue.a)(this.routingTypeList$.pipe(Object(pe.a)(1))))),Object(Vt.a)(([{condition:t},e])=>A.isNil(e)||0===e.length?this.service.getCommonDetailCodeList(t).pipe(Object(re.a)(t=>n.getRoutingTypeListSuccess({dataList:t})),Object(ce.a)(t=>{const e="\ub8e8\ud305\ud0c0\uc785 \uc870\ud68c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.",i=[n.getRoutingTypeListFailure({error:e})];return this._catchErr(t,e,i),[]})):Object(At.a)(n.getRoutingTypeListSuccess({dataList:e}))))),this.loadFareType$=Object(o.c)(()=>this.actions$.pipe(Object(o.d)(n.loadFareTypeList),Object(de.a)(t=>Object(At.a)(t).pipe(Object(ue.a)(this.fareTypeList$.pipe(Object(pe.a)(1))))),Object(Vt.a)(([{condition:t},e])=>A.isNil(e)||0===e.length?this.service.getCommonDetailCodeList(t).pipe(Object(re.a)(t=>n.getFareTypeListSuccess({dataList:t})),Object(ce.a)(t=>{const e="\uc694\uae08\ud0c0\uc785 \uc870\ud68c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.",i=[n.getFareTypeListFailure({error:e})];return this._catchErr(t,e,i),[]})):Object(At.a)(n.getFareTypeListSuccess({dataList:e}))))),this.stationTypeList$=this.store.select(ht),this.departureArrivalTypeList$=this.store.select(gt),this.routingTypeList$=this.store.select(yt),this.fareTypeList$=this.store.select(ft)}_runPage(t,e){this.alertService.alert({message:t,accept:(null==e?void 0:e.length)>0?()=>{e.forEach(t=>{this.store.dispatch(t)})}:()=>{}})}_catchErr(t,e,i){const n=this._errorService.errorHandler(t,e);A.isNil(n)||(A.isNil(n.accept)&&(n.accept=(null==i?void 0:i.length)>0?()=>{i.forEach(t=>{this.store.dispatch(t)})}:()=>{}),this.alertService.alert(n))}}return t.\u0275fac=function(e){return new(e||t)(Dt.bc(o.a),Dt.bc(Wt),Dt.bc(be.a),Dt.bc(he.a),Dt.bc(r.h))},t.\u0275prov=Dt.Mb({token:t,factory:t.\u0275fac}),t})();var ye=i("YH7L");const fe=[se],me=[Gt,Xt,Kt];let Oe=(()=>{class t{}return t.\u0275mod=Dt.Ob({type:t}),t.\u0275inj=Dt.Nb({factory:function(e){return new(e||t)},imports:[[s.c,a.m,a.w,c.m,l.a,d.a,u.a,O.a,p.a,b.a,h.a,g.a,y.a,f.a,m.a,C.a,v.a,L.a,j.a,oe,ye.a,r.j.forFeature("flAutoDestination",lt),o.b.forFeature([ge])]]}),t})()}}]);