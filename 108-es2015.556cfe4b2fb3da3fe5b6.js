(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{Onn4:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("fXoL"),o=i("3Pt+"),r=i("ofXK");const a=["rb"],s=function(){return{radio:!0}},c={provide:o.p,useExisting:Object(n.U)(()=>l),multi:!0};let l=(()=>{class t{constructor(t){this.cd=t,this.onClick=new n.n,this.onFocus=new n.n,this.onBlur=new n.n,this.onModelChange=()=>{},this.onModelTouched=()=>{}}handleClick(t,e,i){t.preventDefault(),this.disabled||(this.select(t),i&&e.focus())}select(t){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.onClick.emit(t))}writeValue(t){this.checked=t===this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onModelTouched(),this.onBlur.emit(t)}onChange(t){this.select(t)}}return t.\u0275fac=function(e){return new(e||t)(n.Qb(n.h))},t.\u0275cmp=n.Kb({type:t,selectors:[["app-radio"]],viewQuery:function(t,e){var i;1&t&&n.Kc(a,!0),2&t&&n.Dc(i=n.gc())&&(e.inputViewChild=i.first)},inputs:{value:"value",name:"name",disabled:"disabled",label:"label",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",checked:"checked"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[n.Bb([c])],decls:5,vars:11,consts:[[3,"ngClass","click"],["type","radio",1,"radio-control-input",3,"checked","disabled","change","focus","blur"],["rb",""],[1,"radio-control-text"]],template:function(t,e){1&t&&(n.Wb(0,"label",0),n.fc("click",(function(t){return e.select(t)})),n.Wb(1,"input",1,2),n.fc("change",(function(t){return e.onChange(t)}))("focus",(function(t){return e.onInputFocus(t)}))("blur",(function(t){return e.onInputBlur(t)})),n.Vb(),n.Wb(3,"span",3),n.Pc(4),n.Vb(),n.Vb()),2&t&&(n.Eb(e.styleClass),n.pc("ngClass",n.tc(10,s)),n.Cb(1),n.pc("checked",e.checked)("disabled",e.disabled),n.Db("id",e.inputId)("name",e.name)("value",e.value)("tabindex",e.tabindex),n.Cb(3),n.Qc(e.label))},directives:[r.l],encapsulation:2}),t})()},Su18:function(t,e,i){"use strict";i.r(e),i.d(e,"CONTAINERS",(function(){return oe})),i.d(e,"COMPONENTS",(function(){return re})),i.d(e,"BsAirportCodeModule",(function(){return ae}));var n={};i.r(n),i.d(n,"getListSuccess",(function(){return W})),i.d(n,"getListFailure",(function(){return L})),i.d(n,"upsertItemSuccess",(function(){return A})),i.d(n,"upsertItemFailure",(function(){return F})),i.d(n,"removeItemsSuccess",(function(){return R})),i.d(n,"removeItemsFailure",(function(){return _})),i.d(n,"loadList",(function(){return x})),i.d(n,"reloadList",(function(){return $})),i.d(n,"initList",(function(){return z})),i.d(n,"changeSearchCondition",(function(){return T})),i.d(n,"removeSelectedGridEntities",(function(){return Y})),i.d(n,"openDetailPopup",(function(){return U})),i.d(n,"closeDetailPopup",(function(){return B})),i.d(n,"addSelectedDetailRowInfo",(function(){return H})),i.d(n,"delSelectedDetailRowInfo",(function(){return K})),i.d(n,"upsertItem",(function(){return G})),i.d(n,"setGridCheckRowidsAction",(function(){return M})),i.d(n,"setGridStateAction",(function(){return Q})),i.d(n,"changePageIndex",(function(){return X})),i.d(n,"changePageSize",(function(){return J}));var o=i("ofXK"),r=i("3Pt+"),a=i("snw9"),s=i("kt0X"),c=i("WG3B"),l=i("xoAz"),d=i("wPo9"),u=i("7rOj"),p=i("+NQf"),b=i("6LsY"),h=i("l1P7"),m=i("v7zA"),g=i("7UZF"),f=i("hHe4"),C=i("1OXJ"),v=i("5hwk"),S=i("kKjH"),O=i("qXPF"),I=i("w8np"),j=i("vu/V"),k=i("tyNb"),w=i("XNiG"),y=i("itXk"),V=i("zP0r"),N=i("1G5W"),E=i("Kj3r"),P=i("pLZG"),D=i("LvDl");const W=Object(s.o)("[BsAirportCode/List] get list success",Object(s.t)()),L=Object(s.o)("[BsAirportCode/List] get list failure",Object(s.t)()),A=Object(s.o)("[BsAirportCode/List] upsert item success",Object(s.t)()),F=Object(s.o)("[BsAirportCode/List] upsert item failure",Object(s.t)()),R=Object(s.o)("[BsAirportCode/API] remove items success",Object(s.t)()),_=Object(s.o)("[BsAirportCode/API] remove items failure",Object(s.t)()),x=Object(s.o)("[BsAirportCode/List] load grid data list",Object(s.t)()),$=Object(s.o)("[BsAirportCode/List] reload grid data list"),z=Object(s.o)("[BsAirportCode/List] init grid data list"),T=Object(s.o)("[BsAirportCode/List] change search condition",Object(s.t)()),Y=Object(s.o)("[BsAirportCode/List] \uc0ad\uc81c\ubc84\ud2bc \ud074\ub9ad \uc561\uc158",Object(s.t)()),U=Object(s.o)("[BsAirportCode/Detail] \uc0c1\uc138\ud31d\uc5c5 \uc5f4\uae30"),B=Object(s.o)("[BsAirportCode/Detail] \uc0c1\uc138\ud31d\uc5c5 \ub2eb\uae30"),H=Object(s.o)("[BsAirportCode/Detail] \uc0c1\uc138\ud31d\uc5c5\uc5d0\uc11c \ubcf4\uc5ec\uc9c8 \ud56d\ubaa9 \uc120\ud0dd",Object(s.t)()),K=Object(s.o)("[BsAirportCode/Detail] \uc0c1\uc138\ud31d\uc5c5\uc5d0\uc11c \ubcf4\uc5ec\uc9c8 \ud56d\ubaa9 \uc81c\uac70"),G=Object(s.o)("[BsAirportCode/Detail] \uc0c1\uc138\ud31d\uc5c5\uc5d0\uc11c \uc800\uc7a5 \ubc84\ud2bc \ud074\ub9ad \uc561\uc158",Object(s.t)()),M=Object(s.o)("[BsAirportCode/List] set grid checked rowids",Object(s.t)()),Q=Object(s.o)("[BsAirportCode/List] set grid state",Object(s.t)()),X=Object(s.o)("[BsAirportCode/List] change page index",Object(s.t)()),J=Object(s.o)("[BsAirportCode/List] change page size",Object(s.t)());var q=i("EVqC");const Z=Object(q.a)({selectId:t=>t.rowid,sortComparer:!1}),tt=Z.getInitialState({loading:!1,reloadToggle:!1,searchCondition:{},otherSearchInfo:null,selectedDetailRowInfo:null,isOpenDetailPopup:!1,gridState:{pageInfo:{skip:0,take:20},sortInfo:[{field:"lastUpdateDatetime",dir:"desc"}]},gridDataTotal:null,gridCheckedRowids:null}),et=Object(s.q)(tt,Object(s.s)(n.loadList,t=>Object.assign(Object.assign({},t),{loading:!0})),Object(s.s)(n.reloadList,t=>Object.assign(Object.assign({},t),{reloadToggle:!t.reloadToggle})),Object(s.s)(n.initList,t=>Object.assign(Object.assign({},t),{loading:!1,reloadToggle:!1,selectedDetailRowInfo:null,isOpenDetailPopup:!1})),Object(s.s)(n.getListSuccess,(t,{dataList:e,totalCount:i})=>Z.setAll(e,Object.assign(Object.assign({},t),{loading:!1,gridDataTotal:i}))),Object(s.s)(n.getListFailure,t=>Object.assign(Object.assign({},t),{loading:!1})),Object(s.s)(n.changeSearchCondition,(t,{searchCondition:e,otherSearchInfo:i})=>Object.assign(Object.assign({},t),{searchCondition:e,otherSearchInfo:i})),Object(s.s)(n.upsertItemSuccess,(t,{upsertItem:e})=>Z.upsertOne(e,Object.assign({},t))),Object(s.s)(n.openDetailPopup,t=>Object.assign(Object.assign({},t),{isOpenDetailPopup:!0})),Object(s.s)(n.closeDetailPopup,t=>Object.assign(Object.assign({},t),{isOpenDetailPopup:!1})),Object(s.s)(n.addSelectedDetailRowInfo,(t,{selectedDetailRowInfo:e})=>Object.assign(Object.assign({},t),{selectedDetailRowInfo:e})),Object(s.s)(n.delSelectedDetailRowInfo,t=>Object.assign(Object.assign({},t),{selectedDetailRowInfo:null})),Object(s.s)(n.setGridCheckRowidsAction,(t,{rowids:e})=>Object.assign(Object.assign({},t),{gridCheckedRowids:e})),Object(s.s)(n.setGridStateAction,(t,{gridState:e})=>Object.assign(Object.assign({},t),{gridState:e})),Object(s.s)(n.changePageSize,(t,{pageSize:e})=>Object.assign(Object.assign({},t),{pageSize:e,gridState:D.set(D.cloneDeep(t.gridState),["pageInfo","take"],e)})),Object(s.s)(n.changePageIndex,(t,{pageIndex:e})=>Object.assign(Object.assign({},t),{gridState:D.set(D.cloneDeep(t.gridState),["pageInfo","skip"],e)})));function it(t,e){return Object(s.m)({bsAirportCodeList:et})(t,e)}const nt=Object(s.p)("bsAirportCode"),ot=Object(s.r)(nt,t=>t.bsAirportCodeList),rt=Object(s.r)(ot,t=>t.loading),at=Object(s.r)(ot,t=>t.reloadToggle),st=Object(s.r)(ot,t=>t.searchCondition),ct=Object(s.r)(ot,t=>t.otherSearchInfo),lt=Object(s.r)(ot,t=>t.selectedDetailRowInfo),dt=Object(s.r)(ot,t=>t.isOpenDetailPopup),ut=Z.getSelectors(ot).selectAll,pt=(Z.getSelectors(ot),Object(s.r)(ot,t=>t.gridState)),bt=Object(s.r)(ot,t=>t.gridCheckedRowids),ht=Object(s.r)(ot,t=>t.gridDataTotal),mt=Object(s.r)(pt,t=>D.get(t,["pageInfo","take"],20));var gt=i("YY+H"),ft=i("fXoL"),Ct=i("pfiq"),vt=i("LRne"),St=i("z6cu"),Ot=i("eIep"),It=i("AytR");const{API_URL:jt}=It.a,kt={selectEntities:`${jt}/admin/basis/airport`,modifyEntities:`${jt}/admin/basis/airport`,selectDetailCodes:`${jt}/common/detail-code`};var wt=i("tpT/");let yt=(()=>{class t{constructor(t){this.api=t}getList(t){const e=D.assign({},this.api.defaultParams,{condition:t});return this.api.post(kt.selectEntities,e).pipe(Object(Ot.a)(t=>{var e,i;if(t.succeedYn){const n=this._addRowid(null===(e=t.result)||void 0===e?void 0:e.list);return Object(vt.a)({dataList:n,totalCount:(null===(i=t.result)||void 0===i?void 0:i.totalCount)||0})}return Object(St.a)(t||"api response error")}))}removeItems(t){const e=D.assign({},this.api.defaultParams,{condition:t});return this.api.delete(kt.modifyEntities,e).pipe(Object(Ot.a)(t=>t.succeedYn?Object(vt.a)(t.result&&t.result.counts):Object(St.a)(t||"api response error")))}upsertItem(t){const e=D.assign({},this.api.defaultParams,{condition:t});return this.api.put(kt.modifyEntities,e).pipe(Object(Ot.a)(t=>{var e,i;if(t.succeedYn){const n=this._addRowid(null===(e=t.result)||void 0===e?void 0:e.list);return Object(vt.a)({dataList:n,totalCount:(null===(i=t.result)||void 0===i?void 0:i.totalCount)||0})}return Object(St.a)(t||"api response error")}))}getCommonDetailCodeList(t){const e=D.assign({},this.api.defaultParams,{condition:t});return this.api.post(kt.selectDetailCodes,e).pipe(Object(Ot.a)(t=>t.succeedYn?Object(vt.a)(t.result.list):Object(St.a)(t||"api response error")))}_addRowid(t){return D.isNil(t)?[]:t.map((t,e)=>Object.assign(Object.assign({},t),{rowid:String(e)}))}}return t.\u0275fac=function(e){return new(e||t)(ft.bc(wt.a))},t.\u0275prov=ft.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Vt=i("6UzV");let Nt=(()=>{class t{constructor(t){this.fb=t,this.generateGridColumns=()=>[{field:"airportCode",title:"Airport Code",width:"100",style:{"text-align":"center"}},{field:"cityCode",title:"City Code",width:"100",style:{"text-align":"center"}},{field:"cityCodeIata",title:"City Code IATA",width:"100",style:{"text-align":"center"}},{field:"airportNameKo",title:"Airport Name(KO)",width:"200"},{field:"airportNameEn",title:"Airport Name(EN)",width:"200"},{field:"airportNameJa",title:"Airport Name(JA)",width:"200"},{field:"airportNameVi",title:"Airport Name(VI)",width:"200"},{field:"airportNameZh",title:"Airport Name(ZH)",width:"200"},{field:"airportNameSearch",title:"Airport Name Search",width:"200"},{field:"homepageUrl",title:"Homepage URL",width:"200"},{field:"latitude",title:"Latitude",width:"100",style:{"text-align":"center"}},{field:"longitude",title:"Longitude",width:"100",style:{"text-align":"center"}},{field:"useYn",title:"Use YN",type:"boolean",width:100,template:"useYnTpl",style:{"text-align":"center"}},{field:"controlRemark",title:"Control Remark",width:"250"},{field:"lastUpdateName",title:"Last Update User",width:"100"},{field:"lastUpdateDatetime",title:"Last Update Time",type:"text",width:180,style:{"text-align":"center"}},{field:"firstInsertName",title:"First Insert User",width:"100"},{field:"firstInsertDatetime",title:"First Insert Time",type:"text",width:180,style:{"text-align":"center"}}],this.generateListSearchForm=()=>this.fb.group({countryCode:[null],cityCodeIata:[null,[Vt.a.iataCityCodeValidator]],airportCode:[null,[Vt.a.iataCityCodeValidator]],airportName:[null],useYn:[null]}),this.initListSearch=()=>({countryCode:null,cityCodeIata:null,airportCode:null,airportName:null,useYn:null}),this.generatePutForm=()=>this.fb.group({rowid:[null],airportCode:[null,[r.z.required,Vt.a.iataCityCodeValidator]],cityCode:[null,[r.z.required]],airportNameEn:[null,[r.z.required]],airportNameKo:[null],airportNameJa:[null],airportNameVi:[null],airportNameZh:[null],airportNameSearch:[null,[r.z.required]],homepageUrl:[null],latitude:[null,[Vt.a.latLon()]],longitude:[null,[Vt.a.latLon()]],useYn:[!0],controlRemark:[null],cityCodeIata:[null]}),this.initPutFormData=()=>({airportCode:null,cityCode:null,airportNameEn:null,airportNameKo:null,airportNameJa:null,airportNameVi:null,airportNameZh:null,airportNameSearch:null,homepageUrl:null,latitude:null,longitude:null,useYn:!0,controlRemark:null,cityCodeIata:null})}}return t.\u0275fac=function(e){return new(e||t)(ft.bc(r.f))},t.\u0275prov=ft.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Et=i("+Sob"),Pt=i("gbCm"),Dt=i("U6NN");const Wt=function(){return{}},Lt=function(){return["countryCode","countryNameLn"]};let At=(()=>{class t{constructor(t){this._dataService=t,this.clickSearchEvent=new ft.n,this.clickResetEvent=new ft.n,this.changeSearchConditionEvent=new ft.n,this.isShowmore=!1,this.useYnOptions=[{value:!0,label:"Y"},{value:!1,label:"N"}],this.searchForm=this._dataService.generateListSearchForm()}get otherSearchInfo(){return this._otherSearchInfo}set otherSearchInfo(t){this._otherSearchInfo=t,this._setOtherSearchInfo(t)}get searchCondition(){return this._searchCondition}set searchCondition(t){this._searchCondition=t,this.searchFormData=this._setSearchFormData(t)}get searchFormValid(){return this.searchForm.valid}ngOnInit(){this._initThisState()}onSubmit(){if(this.searchForm.invalid)return void(this._checkValid=!0);const t=D.omitBy(this.searchForm.value,D.isNil),e=this._setOtherSearchCondition();this.clickSearchEvent.emit({searchCondition:t,otherSearchInfo:e}),this._checkValid=!1}onReset(){this.clickResetEvent.emit()}checkIsInvalid(t){return this._checkValid&&this.searchForm.get(t)&&this.searchForm.get(t).invalid}_initThisState(){this._checkValid=!1}_setSearchFormData(t){const e=this._dataService.initListSearch();return Object.assign({},e,D.pick(t,Object.keys(e)))}_setOtherSearchInfo(t){this.countryInput=(null==t?void 0:t.countryInput)||null}_setOtherSearchCondition(){const t={};return this.autoCompletes.forEach(e=>{Object.assign(t,e.getInputValue())}),t}}return t.\u0275fac=function(e){return new(e||t)(ft.Qb(Nt))},t.\u0275cmp=ft.Kb({type:t,selectors:[["app-bs-airport-code-search"]],viewQuery:function(t,e){var i;1&t&&ft.Xc(Ct.a,!0),2&t&&ft.Dc(i=ft.gc())&&(e.autoCompletes=i)},inputs:{otherSearchInfo:"otherSearchInfo",searchCondition:"searchCondition"},outputs:{clickSearchEvent:"clickSearchEvent",clickResetEvent:"clickResetEvent",changeSearchConditionEvent:"changeSearchConditionEvent"},decls:29,vars:12,consts:[[1,"grid-search-box","multi",3,"formGroup","connectForm","ngSubmit"],[1,"form-option-area"],[1,"row"],[1,"col-1"],[1,"form-label"],["apiUrl","admin/common/country","formControlName","countryCode","dataKey","countryCode","inputFieldFormat","[{0}] {1}",1,"d-inline-flex","flex-fill",3,"inputFieldValue","inputId","apiCondition","apiSearchTerm","inputFieldFormatKeyList"],["formControlName","cityCodeIata","inputFormat","upperCase","placeholder","Code (3letters)",1,"d-inline-flex","flex-fill",3,"isInvalid"],["formControlName","airportCode","inputFormat","upperCase","placeholder","Code",1,"d-inline-flex","flex-fill",3,"isInvalid"],["formControlName","airportName","placeholder","Name",1,"d-inline-flex","flex-fill"],["formControlName","useYn",1,"d-inline-flex","flex-fill",3,"options"],[1,"form-button-area"],["type","submit","role","button",1,"btn","btn-primary","sm"],["type","button","role","button",1,"btn","btn-reset","sm",3,"click"]],template:function(t,e){1&t&&(ft.Wb(0,"form",0),ft.fc("ngSubmit",(function(){return e.onSubmit()})),ft.Wb(1,"div",1),ft.Wb(2,"div",2),ft.Wb(3,"div",3),ft.Wb(4,"span",4),ft.Pc(5,"Country Name"),ft.Vb(),ft.Rb(6,"app-auto-complete",5),ft.Vb(),ft.Wb(7,"div",3),ft.Wb(8,"span",4),ft.Pc(9,"IATA City Code"),ft.Vb(),ft.Rb(10,"app-input-text",6),ft.Vb(),ft.Wb(11,"div",3),ft.Wb(12,"span",4),ft.Pc(13,"Airport Code"),ft.Vb(),ft.Rb(14,"app-input-text",7),ft.Vb(),ft.Wb(15,"div",3),ft.Wb(16,"span",4),ft.Pc(17,"Airport Name"),ft.Vb(),ft.Rb(18,"app-input-text",8),ft.Vb(),ft.Vb(),ft.Wb(19,"div",2),ft.Wb(20,"div",3),ft.Wb(21,"span",4),ft.Pc(22,"Use YN"),ft.Vb(),ft.Rb(23,"app-selectbox",9),ft.Vb(),ft.Vb(),ft.Vb(),ft.Wb(24,"div",10),ft.Wb(25,"button",11),ft.Pc(26,"Search"),ft.Vb(),ft.Wb(27,"button",12),ft.fc("click",(function(){return e.onReset()})),ft.Pc(28,"Reset"),ft.Vb(),ft.Vb(),ft.Vb()),2&t&&(ft.pc("formGroup",e.searchForm)("connectForm",e.searchFormData),ft.Cb(6),ft.pc("inputFieldValue",e.countryInput)("inputId","countryInput")("apiCondition",ft.tc(10,Wt))("apiSearchTerm","keyword")("inputFieldFormatKeyList",ft.tc(11,Lt)),ft.Cb(4),ft.pc("isInvalid",e.checkIsInvalid("cityCodeIata")),ft.Cb(4),ft.pc("isInvalid",e.checkIsInvalid("airportCode")),ft.Cb(9),ft.pc("options",e.useYnOptions))},directives:[r.B,r.s,r.k,Et.a,Ct.a,r.r,r.i,Pt.a,Dt.a],encapsulation:2,changeDetection:0}),t})();var Ft=i("UIHd"),Rt=i("bMKz");let _t=(()=>{class t{constructor(){this.clickAddEvent=new ft.n,this.clickDelEvent=new ft.n,this.changePageSizeEvent=new ft.n,this.pageSizeOptions=[{label:"20",value:20},{label:"40",value:40},{label:"60",value:60},{label:"80",value:80},{label:"100",value:100}]}ngOnInit(){}onClickAdd(){this.clickAddEvent.emit()}onClickDel(){this.clickDelEvent.emit()}onChangePageSize(t){this.changePageSizeEvent.emit(t.value)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ft.Kb({type:t,selectors:[["app-bs-airport-code-control"]],inputs:{loading:"loading",currentPageSize:"currentPageSize",totalCount:"totalCount"},outputs:{clickAddEvent:"clickAddEvent",clickDelEvent:"clickDelEvent",changePageSizeEvent:"changePageSizeEvent"},decls:8,vars:4,consts:[[1,"grid-control-area"],[1,"grid-count"],[1,"ml-auto","d-inline-flex","flex-glow-0"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"select-box","sm","d-inline-flex","flex-glow-0"],[3,"options","ngModel","useAllOptionYn","onChange"]],template:function(t,e){1&t&&(ft.Wb(0,"div",0),ft.Wb(1,"strong",1),ft.Pc(2),ft.Vb(),ft.Wb(3,"div",2),ft.Wb(4,"button",3),ft.fc("click",(function(){return e.onClickAdd()})),ft.Pc(5,"New"),ft.Vb(),ft.Wb(6,"div",4),ft.Wb(7,"app-selectbox",5),ft.fc("onChange",(function(t){return e.onChangePageSize(t)})),ft.Vb(),ft.Vb(),ft.Vb(),ft.Vb()),2&t&&(ft.Cb(2),ft.Qc(e.loading?"":e.totalCount),ft.Cb(5),ft.pc("options",e.pageSizeOptions)("ngModel",e.currentPageSize)("useAllOptionYn",!1))},directives:[Dt.a,r.r,r.u],encapsulation:2,changeDetection:0}),t})();var xt=i("kDLv"),$t=i("Onn4");const zt=function(){return{}},Tt=function(){return["cityCode","cityNameEn"]};let Yt=(()=>{class t{constructor(t,e){this._dataService=t,this.fb=e,this.submitEvent=new ft.n,this.closeEvent=new ft.n,this._$unsubscribe=new w.a,this.upsertForm=this._dataService.generatePutForm()}get rowItem(){return this._rowitem}set rowItem(t){this._rowitem=t,this.upsertFormData=this._setPutFormData(t),this._initThisState(t)}ngAfterContentInit(){this._initSubscription(),this._initThisState()}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete()}onSubmit(){if(this.upsertForm.invalid)return void(this._checkValid=!0);const t=this._setPutCondition();this.submitEvent.emit(t),this._checkValid=!1}onClose(){this.closeEvent.emit()}checkIsInvalid(t){return this._checkValid&&this.upsertForm.get(t)&&this.upsertForm.get(t).invalid}onSelectCity(t){this.upsertForm.patchValue({cityCodeIata:t.cityCodeIata})}_initThisState(t){this._checkValid=!1}_setPutFormData(t){const e=this._dataService.initPutFormData();return D.isNil(t)?e:Object.assign({},e,D.pick(t,Object.keys(e)))}_setPutCondition(){const t=this._dataService.initPutFormData(),e=this.upsertForm.getRawValue();return{condition:Object.assign({},D.pick(e,Object.keys(t)))}}_initSubscription(){}}return t.\u0275fac=function(e){return new(e||t)(ft.Qb(Nt),ft.Qb(r.f))},t.\u0275cmp=ft.Kb({type:t,selectors:[["app-bs-airport-code-form"]],inputs:{rowItem:"rowItem"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:88,vars:18,consts:[[1,"modal-body"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","20%"],["scope","row",1,"th-bg"],["formControlName","airportCode","inputFormat","uppserCaseEnOnly","placeholder","e.g.ICN",3,"isInvalid"],["apiUrl","admin/common/city","formControlName","cityCode","dataKey","cityCode","inputFieldFormat","[{0}] {1}",3,"inputFieldValue","apiCondition","apiSearchTerm","inputFieldFormatKeyList","isInvalid","onSelect"],["formControlName","airportNameEn",3,"isInvalid"],["formControlName","airportNameKo"],["formControlName","airportNameJa"],["formControlName","airportNameVi"],["formControlName","airportNameZh"],["formControlName","airportNameSearch",3,"isInvalid"],["formControlName","homepageUrl"],["valueType","number","formControlName","latitude",3,"isInvalid"],["valueType","number","formControlName","longitude",3,"isInvalid"],[1,"form-group"],["formControlName","useYn","name","useYn","label","Y",3,"value"],["formControlName","useYn","name","useYn","label","N",3,"value"],[1,"textarea"],["rows","3","formControlName","controlRemark"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(t,e){1&t&&(ft.Wb(0,"div",0),ft.Wb(1,"form",1),ft.fc("ngSubmit",(function(){return e.onSubmit()})),ft.Wb(2,"div",2),ft.Wb(3,"table"),ft.Wb(4,"caption"),ft.Pc(5," Airport Code Info "),ft.Vb(),ft.Wb(6,"colgroup"),ft.Rb(7,"col",3),ft.Rb(8,"col"),ft.Vb(),ft.Wb(9,"tbody"),ft.Wb(10,"tr"),ft.Wb(11,"th",4),ft.Pc(12,"Airport Code"),ft.Rb(13,"sup"),ft.Vb(),ft.Wb(14,"td"),ft.Rb(15,"app-input-text",5),ft.Vb(),ft.Vb(),ft.Wb(16,"tr"),ft.Wb(17,"th",4),ft.Wb(18,"sup"),ft.Pc(19,"City Code"),ft.Vb(),ft.Vb(),ft.Wb(20,"td"),ft.Wb(21,"app-auto-complete",6),ft.fc("onSelect",(function(t){return e.onSelectCity(t)})),ft.Vb(),ft.Vb(),ft.Vb(),ft.Wb(22,"tr"),ft.Wb(23,"th",4),ft.Pc(24,"Airport Name(EN)"),ft.Rb(25,"sup"),ft.Vb(),ft.Wb(26,"td"),ft.Rb(27,"app-input-text",7),ft.Vb(),ft.Vb(),ft.Wb(28,"tr"),ft.Wb(29,"th",4),ft.Pc(30,"Airport Name(KO)"),ft.Vb(),ft.Wb(31,"td"),ft.Rb(32,"app-input-text",8),ft.Vb(),ft.Vb(),ft.Wb(33,"tr"),ft.Wb(34,"th",4),ft.Pc(35,"Airport Name(JA)"),ft.Vb(),ft.Wb(36,"td"),ft.Rb(37,"app-input-text",9),ft.Vb(),ft.Vb(),ft.Wb(38,"tr"),ft.Wb(39,"th",4),ft.Pc(40,"Airport Name(VI)"),ft.Vb(),ft.Wb(41,"td"),ft.Rb(42,"app-input-text",10),ft.Vb(),ft.Vb(),ft.Wb(43,"tr"),ft.Wb(44,"th",4),ft.Pc(45,"Airport Name(ZH)"),ft.Vb(),ft.Wb(46,"td"),ft.Rb(47,"app-input-text",11),ft.Vb(),ft.Vb(),ft.Wb(48,"tr"),ft.Wb(49,"th",4),ft.Pc(50,"Airport Name Search"),ft.Rb(51,"sup"),ft.Vb(),ft.Wb(52,"td"),ft.Rb(53,"app-input-text",12),ft.Vb(),ft.Vb(),ft.Wb(54,"tr"),ft.Wb(55,"th",4),ft.Pc(56,"Homepage URL"),ft.Vb(),ft.Wb(57,"td"),ft.Rb(58,"app-input-text",13),ft.Vb(),ft.Vb(),ft.Wb(59,"tr"),ft.Wb(60,"th",4),ft.Pc(61,"Latitude"),ft.Vb(),ft.Wb(62,"td"),ft.Rb(63,"app-input-text",14),ft.Vb(),ft.Vb(),ft.Wb(64,"tr"),ft.Wb(65,"th",4),ft.Pc(66,"Longitude"),ft.Vb(),ft.Wb(67,"td"),ft.Rb(68,"app-input-text",15),ft.Vb(),ft.Vb(),ft.Wb(69,"tr"),ft.Wb(70,"th",4),ft.Pc(71,"Use YN"),ft.Rb(72,"sup"),ft.Vb(),ft.Wb(73,"td"),ft.Wb(74,"div",16),ft.Rb(75,"app-radio",17),ft.Rb(76,"app-radio",18),ft.Vb(),ft.Vb(),ft.Vb(),ft.Wb(77,"tr"),ft.Wb(78,"th",4),ft.Pc(79,"Control Remark"),ft.Vb(),ft.Wb(80,"td"),ft.Wb(81,"div",19),ft.Rb(82,"textarea",20),ft.Vb(),ft.Vb(),ft.Vb(),ft.Vb(),ft.Vb(),ft.Vb(),ft.Wb(83,"div",21),ft.Wb(84,"button",22),ft.Pc(85,"Save"),ft.Vb(),ft.Wb(86,"button",23),ft.fc("click",(function(){return e.onClose()})),ft.Pc(87,"Close"),ft.Vb(),ft.Vb(),ft.Vb(),ft.Vb()),2&t&&(ft.Cb(1),ft.pc("formGroup",e.upsertForm)("connectForm",e.upsertFormData),ft.Cb(14),ft.pc("isInvalid",e.checkIsInvalid("airportCode")),ft.Cb(6),ft.pc("inputFieldValue",e.rowItem?"["+e.rowItem.cityCode+"] "+e.rowItem.cityNameEn:null)("apiCondition",ft.tc(16,zt))("apiSearchTerm","keyword")("inputFieldFormatKeyList",ft.tc(17,Tt))("isInvalid",e.checkIsInvalid("cityCode")),ft.Cb(6),ft.pc("isInvalid",e.checkIsInvalid("airportNameEn")),ft.Cb(26),ft.pc("isInvalid",e.checkIsInvalid("airportNameSearch")),ft.Cb(10),ft.pc("isInvalid",e.checkIsInvalid("latitude")),ft.Cb(5),ft.pc("isInvalid",e.checkIsInvalid("longitude")),ft.Cb(6),ft.Gb("valid-error",e.checkIsInvalid("useYn")),ft.Cb(1),ft.pc("value",!0),ft.Cb(1),ft.pc("value",!1))},directives:[r.B,r.s,r.k,Et.a,Pt.a,r.r,r.i,Ct.a,$t.a,r.c],encapsulation:2,changeDetection:0}),t})();function Ut(t,e){1&t&&(ft.Wb(0,"span"),ft.Pc(1,"Y"),ft.Vb())}function Bt(t,e){1&t&&(ft.Wb(0,"span"),ft.Pc(1,"N"),ft.Vb())}function Ht(t,e){if(1&t&&(ft.Nc(0,Ut,2,0,"span",7),ft.Nc(1,Bt,2,0,"span",7)),2&t){const t=e.$implicit;ft.pc("ngIf",!0===t.useYn),ft.Cb(1),ft.pc("ngIf",!1===t.useYn)}}function Kt(t,e){if(1&t){const t=ft.Xb();ft.Wb(0,"app-bs-airport-code-form",8),ft.fc("submitEvent",(function(e){return ft.Fc(t),ft.hc().submitUpsertHandler(e)}))("closeEvent",(function(){return ft.Fc(t),ft.hc().closeUpsertHandler()})),ft.ic(1,"async"),ft.Vb()}if(2&t){const t=ft.hc();ft.pc("rowItem",ft.jc(1,1,t.selectedItem$))}}const Gt=function(t){return{useYnTpl:t}};let Mt=(()=>{class t{constructor(t,e,i,n){this.store=t,this.authStore=e,this._dataService=i,this.UserConditionService=n,this.unsubscribe$=new w.a,this._isSearchClick=!1,this.loading$=t.pipe(Object(s.u)(rt)),this.reloadToggle$=t.pipe(Object(s.u)(at)),this.searchCondition$=t.pipe(Object(s.u)(st)),this.otherSearchInfo$=t.pipe(Object(s.u)(ct)),this.gridDataList$=t.pipe(Object(s.u)(ut)),this.listPageSize$=t.pipe(Object(s.u)(mt)),this.loginUserNo$=e.pipe(Object(s.u)(gt.t)),this.isOpenDetailPopup$=t.pipe(Object(s.u)(dt)),this.selectedItem$=t.pipe(Object(s.u)(lt)),this.gridState$=t.pipe(Object(s.u)(pt)),this.gridDataTotalCount$=t.pipe(Object(s.u)(ht)),this.gridCheckedRowids$=t.pipe(Object(s.u)(bt)),this.columns=this._dataService.generateGridColumns(),this.storeId$=e.pipe(Object(s.u)(gt.o))}ngOnInit(){this.storeId$.subscribe(t=>this._storeId=t),this.initSearchCondition(),this._initSubscription()}ngOnDestroy(){this.store.dispatch(n.initList()),this.unsubscribe$.next(),this.unsubscribe$.complete();const t=D.isEmpty(this.gridEl.checkedRows)?null:D.cloneDeep(this.gridEl.checkedRows);this.store.dispatch(n.setGridCheckRowidsAction({rowids:t}))}changePageSizeHandler(t){this.store.dispatch(n.changePageSize({pageSize:t})),this.searchFormEl.onSubmit()}clickAddHandler(){this.store.dispatch(n.openDetailPopup())}clickDelHandler(){var t;(null===(t=this.gridEl.checkedRows)||void 0===t?void 0:t.length)>0?confirm("Are you sure you want to delete the selected items?")&&this.store.dispatch(n.removeSelectedGridEntities({rowids:this.gridEl.checkedRows})):alert("There are no items selected.")}clickSearchHandler({searchCondition:t,otherSearchInfo:e}){this._isSearchClick=!0,this.store.dispatch(n.changeSearchCondition({searchCondition:t,otherSearchInfo:e})),this.store.dispatch(n.changePageIndex({pageIndex:0})),this.UserConditionService.setSearchSettingSessionStorage(t,this._storeId,e)}clickResetHandler(){this.store.dispatch(n.changeSearchCondition({searchCondition:this._dataService.initListSearch(),otherSearchInfo:null}))}gridStateChangeHandler(t){this._isSearchClick=!0,this.store.dispatch(n.setGridStateAction({gridState:t}))}dbClickRowHandler(t){this.store.dispatch(n.addSelectedDetailRowInfo({selectedDetailRowInfo:D.cloneDeep(t)})),this.clickAddHandler()}submitUpsertHandler(t){const{condition:e}=t;this.store.dispatch(n.upsertItem({upsertCondition:e}))}closeUpsertHandler(){this.store.dispatch(n.closeDetailPopup()),this.store.dispatch(n.delSelectedDetailRowInfo())}_initSubscription(){this.reloadToggle$.pipe(Object(V.a)(1),Object(N.a)(this.unsubscribe$)).subscribe(()=>{this.searchFormEl.searchFormValid&&(this._isSearchClick=!0,this.searchFormEl.onSubmit())}),Object(y.a)([this.searchCondition$,this.gridState$]).pipe(Object(V.a)(1),Object(E.a)(200),Object(P.a)(()=>!0===this._isSearchClick),Object(P.a)(([t,e])=>!D.isNil(t)),Object(N.a)(this.unsubscribe$)).subscribe(([t,{pageInfo:e,sortInfo:i}])=>{this._isSearchClick=!1;const o=this._setSortOrder(i),r=Object.assign({},t,{limits:[e.skip,e.skip+e.take],sortOrder:o});this.store.dispatch(n.loadList({condition:r}))})}_setSortOrder(t){return t.filter(t=>!D.isNil(t.dir)).map(t=>({keyName:t.field,sort:t.dir}))}initSearchCondition(){if(this.searchCondition$.subscribe(t=>this._searchCondition=t),this.gridDataList$.subscribe(t=>this._searchGridDataList=t),this.otherSearchInfo$.subscribe(t=>this._otherSearchInfo=t),0===D.size(this._searchCondition)&&0===D.size(this._searchGridDataList)){const t=this._dataService.initListSearch(),e=this.UserConditionService.selectSearchSetting(t,this._storeId,this._otherSearchInfo);this.store.dispatch(n.changeSearchCondition({searchCondition:e[0],otherSearchInfo:e[1]}))}}}return t.\u0275fac=function(e){return new(e||t)(ft.Qb(s.h),ft.Qb(s.h),ft.Qb(Nt),ft.Qb(Rt.a))},t.\u0275cmp=ft.Kb({type:t,selectors:[["app-bs-airport-code"]],viewQuery:function(t,e){var i;1&t&&(ft.Xc(At,!0),ft.Xc(Ft.a,!0)),2&t&&(ft.Dc(i=ft.gc())&&(e.searchFormEl=i.first),ft.Dc(i=ft.gc())&&(e.gridEl=i.first))},decls:19,vars:39,consts:[[3,"otherSearchInfo","searchCondition","clickSearchEvent","clickResetEvent"],[3,"loading","currentPageSize","totalCount","clickAddEvent","clickDelEvent","changePageSizeEvent"],["useYnTpl",""],[3,"gridLoading","columns","gridState","totalCount","checkboxUseYn","dataList","templates","stateChangeEvent","dbClickRowEvent"],["gridBasis",""],["modalSize","sm","modalContentClass","pd-all","header","Airport Code Info",3,"visible","modal","visibleChange"],[3,"rowItem","submitEvent","closeEvent",4,"ngIf"],[4,"ngIf"],[3,"rowItem","submitEvent","closeEvent"]],template:function(t,e){if(1&t&&(ft.Wb(0,"app-bs-airport-code-search",0),ft.fc("clickSearchEvent",(function(t){return e.clickSearchHandler(t)}))("clickResetEvent",(function(){return e.clickResetHandler()})),ft.ic(1,"async"),ft.ic(2,"async"),ft.Vb(),ft.Wb(3,"app-bs-airport-code-control",1),ft.fc("clickAddEvent",(function(){return e.clickAddHandler()}))("clickDelEvent",(function(){return e.clickDelHandler()}))("changePageSizeEvent",(function(t){return e.changePageSizeHandler(t)})),ft.ic(4,"async"),ft.ic(5,"async"),ft.ic(6,"async"),ft.Vb(),ft.Nc(7,Ht,2,2,"ng-template",null,2,ft.Oc),ft.Wb(9,"app-grid-simple",3,4),ft.fc("stateChangeEvent",(function(t){return e.gridStateChangeHandler(t)}))("dbClickRowEvent",(function(t){return e.dbClickRowHandler(t)})),ft.ic(11,"async"),ft.ic(12,"async"),ft.ic(13,"async"),ft.ic(14,"async"),ft.Vb(),ft.Wb(15,"app-dialog",5),ft.fc("visibleChange",(function(){return e.closeUpsertHandler()})),ft.ic(16,"async"),ft.Nc(17,Kt,2,3,"app-bs-airport-code-form",6),ft.ic(18,"async"),ft.Vb()),2&t){const t=ft.Ec(8);ft.pc("otherSearchInfo",ft.jc(1,15,e.otherSearchInfo$))("searchCondition",ft.jc(2,17,e.searchCondition$)),ft.Cb(3),ft.pc("loading",ft.jc(4,19,e.loading$))("currentPageSize",ft.jc(5,21,e.listPageSize$))("totalCount",ft.jc(6,23,e.gridDataTotalCount$)),ft.Cb(6),ft.pc("gridLoading",ft.jc(11,25,e.loading$))("columns",e.columns)("gridState",ft.jc(12,27,e.gridState$))("totalCount",ft.jc(13,29,e.gridDataTotalCount$))("checkboxUseYn",!1)("dataList",ft.jc(14,31,e.gridDataList$))("templates",ft.uc(37,Gt,t)),ft.Cb(6),ft.pc("visible",ft.jc(16,33,e.isOpenDetailPopup$))("modal",!0),ft.Cb(2),ft.pc("ngIf",ft.jc(18,35,e.isOpenDetailPopup$))}},directives:[At,_t,Ft.a,xt.a,o.o,Yt],pipes:[o.b],encapsulation:2,changeDetection:0}),t})();const Qt=[{path:"",component:Mt,data:{title:"\uacf5\ud56d\ucf54\ub4dc"}}];let Xt=(()=>{class t{}return t.\u0275mod=ft.Ob({type:t}),t.\u0275inj=ft.Nb({factory:function(e){return new(e||t)},imports:[[k.f.forChild(Qt)],k.f]}),t})();var Jt=i("lJxs"),qt=i("JIr8"),Zt=i("vkgz"),te=i("Xb6A"),ee=i("AtUx"),ie=i("EsKh");let ne=(()=>{class t{constructor(t,e,i,o,r,s){this.actions$=t,this.service=e,this._errorService=i,this.loader=o,this.alertService=r,this.store=s,this.loadList$=Object(a.c)(()=>this.actions$.pipe(Object(a.d)(n.loadList),Object(Ot.a)(({condition:t})=>this.service.getList(t).pipe(Object(Jt.a)(({dataList:t,totalCount:e})=>n.getListSuccess({dataList:t,totalCount:e})),Object(qt.a)(t=>{const e="List lookup failed. Please try again in a momentarily.",i=[n.getListFailure({error:e})];return this._catchErr(t,e,i),[]}))))),this.upsertItem$=Object(a.c)(()=>this.actions$.pipe(Object(a.d)(n.upsertItem),Object(Ot.a)(({upsertCondition:t})=>this.service.upsertItem(t).pipe(Object(Jt.a)(({dataList:t,totalCount:e})=>({dataList:t,totalCount:e,succeedYn:!0})),Object(qt.a)(t=>Object(vt.a)({succeedYn:!1,error:t})))),Object(Zt.a)(({succeedYn:t,dataList:e,totalCount:i,error:o})=>{if(t){const t="Your data has been saved.",o=[n.getListSuccess({dataList:e,totalCount:i}),n.reloadList(),n.closeDetailPopup(),n.delSelectedDetailRowInfo()];this._runPage(t,o)}else{const t="Failed to save.",e=[n.upsertItemFailure({error:t})];this._catchErr(o,t,e)}})),{dispatch:!1})}_runPage(t,e){this.alertService.alert({message:t,accept:(null==e?void 0:e.length)>0?()=>{e.forEach(t=>{this.store.dispatch(t)})}:()=>{}})}_catchErr(t,e,i){const n=this._errorService.errorHandler(t,e);D.isNil(n)||(D.isNil(n.accept)&&(n.accept=(null==i?void 0:i.length)>0?()=>{i.forEach(t=>{this.store.dispatch(t)})}:()=>{}),this.alertService.alert(n))}}return t.\u0275fac=function(e){return new(e||t)(ft.bc(a.a),ft.bc(yt),ft.bc(te.a),ft.bc(ee.a),ft.bc(ie.a),ft.bc(s.h))},t.\u0275prov=ft.Mb({token:t,factory:t.\u0275fac}),t})();const oe=[Mt],re=[_t,Yt,At];let ae=(()=>{class t{}return t.\u0275mod=ft.Ob({type:t}),t.\u0275inj=ft.Nb({factory:function(e){return new(e||t)},imports:[[o.c,r.m,r.w,c.m,l.a,d.a,u.a,v.a,p.a,b.a,h.a,m.a,g.a,f.a,C.a,S.a,I.a,j.a,O.a,Xt,s.j.forFeature("bsAirportCode",it),a.b.forFeature([ne])]]}),t})()}}]);