(window.webpackJsonp=window.webpackJsonp||[]).push([[105],{CF6y:function(e,t,n){"use strict";n.r(t),n.d(t,"CONTAINERS",(function(){return yG})),n.d(t,"COMPONENTS",(function(){return kG})),n.d(t,"ReservationModule",(function(){return OG}));var i={};n.r(i),n.d(i,"openModalAction",(function(){return ie})),n.d(i,"closeModalAction",(function(){return oe}));var o={};n.r(o),n.d(o,"setBookingItemCode",(function(){return Ne})),n.d(o,"loadConsultingListAction",(function(){return Ee})),n.d(o,"loadConsultingListSuccessAction",(function(){return Me})),n.d(o,"loadConsultingListFailureAction",(function(){return De})),n.d(o,"loadConsultingStatusCodeListAction",(function(){return Le})),n.d(o,"loadConsultingStatusCodeListSuccessAction",(function(){return _e})),n.d(o,"loadConsultingStatusCodeListFailureAction",(function(){return $e})),n.d(o,"updateConsultingInfoAction",(function(){return Be})),n.d(o,"updateConsultingInfoSuccessAction",(function(){return we})),n.d(o,"updateConsultingInfoFailureAction",(function(){return xe})),n.d(o,"clickConsultingItemAction",(function(){return Ye}));var a={};n.r(a),n.d(a,"getBookingHistoryListSuccess",(function(){return ft})),n.d(a,"getBookingHistoryListFailure",(function(){return vt})),n.d(a,"loadBookingHistoryList",(function(){return Ct}));var c={};n.r(c),n.d(c,"setMemoListAction",(function(){return At})),n.d(c,"changeFilterAction",(function(){return Wt})),n.d(c,"setClickedMemoAction",(function(){return Rt})),n.d(c,"openEmailModalAction",(function(){return Ft})),n.d(c,"closeEmailModalAction",(function(){return St})),n.d(c,"submitEmailAction",(function(){return Tt})),n.d(c,"submitEmailSuccessAction",(function(){return Nt})),n.d(c,"submitEmailFailureAction",(function(){return Et}));var s={};n.r(s),n.d(s,"loadEmailTemplate",(function(){return Rn})),n.d(s,"getEmailTemplateSuccess",(function(){return Fn})),n.d(s,"getEmailTemplateFailure",(function(){return Sn})),n.d(s,"removeEmailTemplate",(function(){return Tn})),n.d(s,"setEmailUploadInfo",(function(){return Nn})),n.d(s,"removeEmailUploadInfo",(function(){return En})),n.d(s,"sendUmsAction",(function(){return Mn})),n.d(s,"sendUmsSuccessAction",(function(){return Dn})),n.d(s,"sendUmsFailureAction",(function(){return Ln}));var r={};n.r(r),n.d(r,"loadCashReceiptPurposeListAction",(function(){return oi})),n.d(r,"loadCashReceiptPurposeListSuccessAction",(function(){return ai})),n.d(r,"loadCashReceiptPurposeListFailureAction",(function(){return ci})),n.d(r,"loadCashReceiptKindListAction",(function(){return si})),n.d(r,"loadCashReceiptKindListSuccessAction",(function(){return ri})),n.d(r,"loadCashReceiptKindListFailureAction",(function(){return li}));var l={};n.r(l),n.d(l,"loadCardHolderTypeListAction",(function(){return Vi})),n.d(l,"loadCardHolderTypeListSuccessAction",(function(){return Ai})),n.d(l,"loadCardHolderTypeListFailureAction",(function(){return Wi})),n.d(l,"loadCardMasterListAction",(function(){return Ri})),n.d(l,"loadCardMasterListSuccessAction",(function(){return Fi})),n.d(l,"loadCardMasterListFailureAction",(function(){return Si}));var d={};n.r(d),n.d(d,"loadBankMasterListAction",(function(){return Qi})),n.d(d,"loadBankMasterListSuccessAction",(function(){return Gi})),n.d(d,"loadBankMasterListFailureAction",(function(){return Ki}));var b={};n.r(b),n.d(b,"loadCardReceipt",(function(){return co})),n.d(b,"getCardReceiptSuccess",(function(){return so})),n.d(b,"getCardReceiptFailure",(function(){return ro})),n.d(b,"removeCardReceipt",(function(){return lo}));var u={};n.r(u),n.d(u,"setBookingItemCodeAction",(function(){return go})),n.d(u,"setBookingItemCodesAction",(function(){return fo})),n.d(u,"setConsultingSeq",(function(){return vo})),n.d(u,"reloadBookingDetailAction",(function(){return Co})),n.d(u,"saveBookerInfoAction",(function(){return yo})),n.d(u,"saveBookerInfoSuccessAction",(function(){return ko})),n.d(u,"saveBookerInfoFailureAction",(function(){return Io})),n.d(u,"loadBookingLogAction",(function(){return Oo})),n.d(u,"loadBookingLogSuccessAction",(function(){return Po})),n.d(u,"loadBookingLogFailureAction",(function(){return jo})),n.d(u,"loadConsultingAction",(function(){return Vo})),n.d(u,"loadConsultingSuccessAction",(function(){return Ao})),n.d(u,"loadConsultingFailureAction",(function(){return Wo})),n.d(u,"saveConsultingInfoAction",(function(){return Ro})),n.d(u,"saveConsultingInfoSuccessAction",(function(){return Fo})),n.d(u,"saveConsultingInfoFailureAction",(function(){return So})),n.d(u,"loadBookingMemoAction",(function(){return To})),n.d(u,"loadBookingMemoSuccessAction",(function(){return No})),n.d(u,"loadBookingMemoFailureAction",(function(){return Eo})),n.d(u,"saveBookingMemoAction",(function(){return Mo})),n.d(u,"saveBookingMemoFailureAction",(function(){return Do})),n.d(u,"loadBookerInfoAction",(function(){return Lo})),n.d(u,"loadBookerInfoSuccessAction",(function(){return _o})),n.d(u,"loadBookerInfoFailureAction",(function(){return $o})),n.d(u,"changeBookerInfoAction",(function(){return Bo})),n.d(u,"changeBookerInfoSuccessAction",(function(){return wo})),n.d(u,"changeBookerInfoFailureAction",(function(){return xo})),n.d(u,"openClientPageAction",(function(){return Yo})),n.d(u,"getUserTokenSuccessAction",(function(){return Ho})),n.d(u,"getUserTokenFailureAction",(function(){return qo}));var p={};n.r(p),n.d(p,"loadMasterInfoAction",(function(){return Uo})),n.d(p,"loadMasterInfoSuccessAction",(function(){return Qo})),n.d(p,"loadMasterInfoFailureAction",(function(){return Go})),n.d(p,"addSubTabAction",(function(){return Ko})),n.d(p,"delSubTabAction",(function(){return zo})),n.d(p,"setCurrentSubTabAction",(function(){return Xo})),n.d(p,"loadStationTypeAction",(function(){return Zo})),n.d(p,"loadStationTypeSuccessAction",(function(){return Jo})),n.d(p,"loadStationTypeFailureAction",(function(){return ea})),n.d(p,"loadBookingStatusAction",(function(){return ta})),n.d(p,"loadBookingStatusSuccessAction",(function(){return na})),n.d(p,"loadBookingStatusFailureAction",(function(){return ia})),n.d(p,"loadRequestStatusAction",(function(){return oa})),n.d(p,"loadRequestStatusSuccessAction",(function(){return aa})),n.d(p,"loadRequestStatusFailureAction",(function(){return ca})),n.d(p,"loadVendorsAction",(function(){return sa})),n.d(p,"loadVendorsSuccessAction",(function(){return ra})),n.d(p,"loadVendorsFailureAction",(function(){return la})),n.d(p,"loadVehicleVendorsAction",(function(){return da})),n.d(p,"loadVehicleVendorsSuccessAction",(function(){return ba})),n.d(p,"loadVehicleVendorsFailureAction",(function(){return ua})),n.d(p,"loadCancelPolicyAction",(function(){return pa})),n.d(p,"loadCancelPolicySuccessAction",(function(){return ma})),n.d(p,"loadCancelPolicyFailureAction",(function(){return ha})),n.d(p,"loadPaymentDetailTypeList",(function(){return ga})),n.d(p,"loadPaymentDetailTypeListSuccessAction",(function(){return fa})),n.d(p,"loadPaymentDetailTypeListFailureAction",(function(){return va})),n.d(p,"loadDepositTypeList",(function(){return Ca})),n.d(p,"loadDepositTypeListSuccessAction",(function(){return ya})),n.d(p,"loadDepositTypeListFailureAction",(function(){return ka})),n.d(p,"loadGiftCardTypeListAction",(function(){return Ia})),n.d(p,"loadGiftCardTypeListSuccessAction",(function(){return Oa})),n.d(p,"loadGiftCardTypeListFailureAction",(function(){return Pa})),n.d(p,"loadPaymentBankMasterListAction",(function(){return ja})),n.d(p,"loadPaymentBankMasterListSuccessAction",(function(){return Va})),n.d(p,"loadPaymentBankMasterListFailureAction",(function(){return Aa})),n.d(p,"loadCorporateReasonListAction",(function(){return Wa})),n.d(p,"loadCorporateReasonListSuccessAction",(function(){return Ra})),n.d(p,"loadCorporateReasonListFailureAction",(function(){return Fa})),n.d(p,"loadClientPaymentStatusCodeListAction",(function(){return Sa})),n.d(p,"loadClientPaymentStatusCodeListSuccessAction",(function(){return Ta})),n.d(p,"loadClientPaymentStatusCodeListFailureAction",(function(){return Na})),n.d(p,"loadBasicInfoAction",(function(){return Ea})),n.d(p,"loadBasicInfoSuccessAction",(function(){return Ma})),n.d(p,"loadBasicInfoFailureAction",(function(){return Da})),n.d(p,"saveBasicInfoAction",(function(){return La})),n.d(p,"saveBasicInfoSuccessAction",(function(){return _a})),n.d(p,"saveBasicInfoFailureAction",(function(){return $a})),n.d(p,"retrieveAction",(function(){return Ba})),n.d(p,"retrieveSuccessAction",(function(){return wa})),n.d(p,"retrieveFailureAction",(function(){return xa})),n.d(p,"saveBookingDetailAction",(function(){return Ya})),n.d(p,"saveBookingDetailSuccessAction",(function(){return Ha})),n.d(p,"saveBookingDetailFailureAction",(function(){return qa})),n.d(p,"saveDriverAction",(function(){return Ua})),n.d(p,"saveDriverSuccessAction",(function(){return Qa})),n.d(p,"saveDriverFailureAction",(function(){return Ga})),n.d(p,"saveCancelPolicyAction",(function(){return Ka})),n.d(p,"saveCancelPolicySuccessAction",(function(){return za})),n.d(p,"saveCancelPolicyFailureAction",(function(){return Xa})),n.d(p,"openCanceModalAction",(function(){return Za})),n.d(p,"closeCanceModalAction",(function(){return Ja})),n.d(p,"cancelBookingAction",(function(){return ec})),n.d(p,"cancelBookingSuccessAction",(function(){return tc})),n.d(p,"cancelBookingFailureAction",(function(){return nc})),n.d(p,"loadCancelChargeAmountAction",(function(){return ic})),n.d(p,"loadCancelChargeAmountSuccessAction",(function(){return oc})),n.d(p,"openCashReceiptIssueModalAction",(function(){return ac})),n.d(p,"closeCashReceiptIssueModalAction",(function(){return cc})),n.d(p,"openCreditCardCancelModalAction",(function(){return sc})),n.d(p,"closeCreditCardCancelModalAction",(function(){return rc})),n.d(p,"openCouponPointCancelModalAction",(function(){return lc})),n.d(p,"closeCouponPointCancelModalAction",(function(){return dc})),n.d(p,"openPgCreditCardModalAction",(function(){return bc})),n.d(p,"closePgCreditCardModalAction",(function(){return uc})),n.d(p,"openPgBankModalAction",(function(){return pc})),n.d(p,"closePgBankModalAction",(function(){return mc})),n.d(p,"selectPaymentInfoAction",(function(){return hc})),n.d(p,"removePaymentInfoAction",(function(){return gc})),n.d(p,"openPaymentManualModalAction",(function(){return fc})),n.d(p,"closePaymentManualModalAction",(function(){return vc})),n.d(p,"savePaymentDepositManualAction",(function(){return Cc})),n.d(p,"deletePaymentAction",(function(){return yc})),n.d(p,"loadPolicyMonitoringInfoAction",(function(){return kc})),n.d(p,"loadPolicyMonitoringInfoSuccessAction",(function(){return Ic})),n.d(p,"savePolicyMonitoringInfoAction",(function(){return Oc})),n.d(p,"sendPgCreditCardPaymentAction",(function(){return Pc})),n.d(p,"sendPgCreditCardPaymentSuccessAction",(function(){return jc})),n.d(p,"sendPgCreditCardPaymentFailureAction",(function(){return Vc})),n.d(p,"sendPgBankPaymentAction",(function(){return Ac})),n.d(p,"sendPgBankPaymentSuccessAction",(function(){return Wc})),n.d(p,"sendPgBankPaymentFailureAction",(function(){return Rc})),n.d(p,"cancelPaymentAction",(function(){return Fc})),n.d(p,"cancelPaymentSuccessAction",(function(){return Sc})),n.d(p,"cancelPaymentFailureAction",(function(){return Tc})),n.d(p,"issueCashReceiptAction",(function(){return Nc})),n.d(p,"issueCashReceiptSuccessAction",(function(){return Ec})),n.d(p,"issueCashReceiptFailureAction",(function(){return Mc})),n.d(p,"cancelCouponPaymentAction",(function(){return Dc})),n.d(p,"cancelCouponPaymentSuccessAction",(function(){return Lc})),n.d(p,"cancelCouponPaymentFailureAction",(function(){return _c})),n.d(p,"sendPointPaymentAction",(function(){return $c})),n.d(p,"sendPointPaymentSuccessAction",(function(){return Bc})),n.d(p,"sendPointPaymentFailureAction",(function(){return wc})),n.d(p,"cancelPointPaymentAction",(function(){return xc})),n.d(p,"cancelPointPaymentSuccessAction",(function(){return Yc})),n.d(p,"cancelPointPaymentFailureAction",(function(){return Hc})),n.d(p,"loadAmountInfoAction",(function(){return qc})),n.d(p,"loadAmountInfoSuccessAction",(function(){return Uc})),n.d(p,"saveAmountVendorAction",(function(){return Qc})),n.d(p,"saveAmountSalesAction",(function(){return Gc})),n.d(p,"loadAgeTypeCodeAction",(function(){return Kc})),n.d(p,"loadAgeTypeCodeSuccessAction",(function(){return zc})),n.d(p,"loadAgeTypeCodeFailureAction",(function(){return Xc})),n.d(p,"openConfirmationModalAction",(function(){return Zc})),n.d(p,"closeConfirmationModalAction",(function(){return Jc})),n.d(p,"openInvoiceModalAction",(function(){return es})),n.d(p,"closeInvoiceModalAction",(function(){return ts})),n.d(p,"cancelBankReceiptAction",(function(){return ns})),n.d(p,"openCashReceiptAction",(function(){return is})),n.d(p,"closeCashReceiptAction",(function(){return os})),n.d(p,"openCardReceiptAction",(function(){return as})),n.d(p,"closeCardReceiptAction",(function(){return cs})),n.d(p,"openRefundRegisterAction",(function(){return ss})),n.d(p,"closeRefundRegisterAction",(function(){return rs})),n.d(p,"openPointPaymentAction",(function(){return ls})),n.d(p,"closePointPaymentAction",(function(){return ds})),n.d(p,"createPaymentAction",(function(){return bs}));var m={};n.r(m),n.d(m,"loadMasterInfoAction",(function(){return us})),n.d(m,"loadMasterInfoSuccessAction",(function(){return ps})),n.d(m,"loadMasterInfoFailureAction",(function(){return ms})),n.d(m,"addSubTabAction",(function(){return hs})),n.d(m,"delSubTabAction",(function(){return gs})),n.d(m,"setCurrentSubTabAction",(function(){return fs})),n.d(m,"openCanceModalAction",(function(){return vs})),n.d(m,"closeCanceModalAction",(function(){return Cs})),n.d(m,"cancelBookingAction",(function(){return ys})),n.d(m,"cancelBookingSuccessAction",(function(){return ks})),n.d(m,"cancelBookingFailureAction",(function(){return Is})),n.d(m,"loadCancelChargeAmountAction",(function(){return Os})),n.d(m,"loadCancelChargeAmountSuccessAction",(function(){return Ps})),n.d(m,"loadBasicInfoAction",(function(){return js})),n.d(m,"loadBasicInfoSuccessAction",(function(){return Vs})),n.d(m,"loadBasicInfoFailureAction",(function(){return As})),n.d(m,"updateBasicInfoAction",(function(){return Ws})),n.d(m,"updateBasicInfoSuccessAction",(function(){return Rs})),n.d(m,"updateBasicInfoFailureAction",(function(){return Fs})),n.d(m,"loadCancelPolicyInfoAction",(function(){return Ss})),n.d(m,"loadCancelPolicyInfoSuccessAction",(function(){return Ts})),n.d(m,"loadCancelPolicyInfoFailureAction",(function(){return Ns})),n.d(m,"updateCancelPolicyInfoAction",(function(){return Es})),n.d(m,"updateCancelPolicyInfoSuccessAction",(function(){return Ms})),n.d(m,"updateCancelPolicyInfoFailureAction",(function(){return Ds})),n.d(m,"loadAmountInfoAction",(function(){return Ls})),n.d(m,"loadAmountInfoSuccessAction",(function(){return _s})),n.d(m,"loadAmountInfoFailureAction",(function(){return $s})),n.d(m,"saveAmountVendorAction",(function(){return Bs})),n.d(m,"saveAmountSalesAction",(function(){return ws})),n.d(m,"updateBookingDetailInfoAction",(function(){return xs})),n.d(m,"updateBookingDetailSuccessAction",(function(){return Ys})),n.d(m,"updatelBookingDetailFailureAction",(function(){return Hs})),n.d(m,"updateHotelBookingNoticeAction",(function(){return qs})),n.d(m,"updateHotelBookingNoticeSuccessAction",(function(){return Us})),n.d(m,"updateHotelBookingNoticeFailureAction",(function(){return Qs})),n.d(m,"updateHotelRequestAction",(function(){return Gs})),n.d(m,"updateHotelRequestSuccessAction",(function(){return Ks})),n.d(m,"updateHotelRequestFailureAction",(function(){return zs})),n.d(m,"updateHotelRoomAction",(function(){return Xs})),n.d(m,"updateHotelRoomSuccessAction",(function(){return Zs})),n.d(m,"updateHotelRoomFailureAction",(function(){return Js})),n.d(m,"openCashReceiptIssueModalAction",(function(){return er})),n.d(m,"closeCashReceiptIssueModalAction",(function(){return tr})),n.d(m,"openPgCreditCardModalAction",(function(){return nr})),n.d(m,"closePgCreditCardModalAction",(function(){return ir})),n.d(m,"openPgBankModalAction",(function(){return or})),n.d(m,"closePgBankModalAction",(function(){return ar})),n.d(m,"openCreditCardCancelModalAction",(function(){return cr})),n.d(m,"closeCreditCardCancelModalAction",(function(){return sr})),n.d(m,"openCouponPointCancelModalAction",(function(){return rr})),n.d(m,"closeCouponPointCancelModalAction",(function(){return lr})),n.d(m,"openPaymentManualModalAction",(function(){return dr})),n.d(m,"closePaymentManualModalAction",(function(){return br})),n.d(m,"savePaymentDepositManualAction",(function(){return ur})),n.d(m,"deletePaymentAction",(function(){return pr})),n.d(m,"createPaymentAction",(function(){return mr})),n.d(m,"loadPolicyMonitoringInfoAction",(function(){return hr})),n.d(m,"loadPolicyMonitoringInfoSuccessAction",(function(){return gr})),n.d(m,"savePolicyMonitoringInfoAction",(function(){return fr})),n.d(m,"sendPgCreditCardPaymentAction",(function(){return vr})),n.d(m,"sendPgCreditCardPaymentSuccessAction",(function(){return Cr})),n.d(m,"sendPgCreditCardPaymentFailureAction",(function(){return yr})),n.d(m,"sendPgBankPaymentAction",(function(){return kr})),n.d(m,"sendPgBankPaymentSuccessAction",(function(){return Ir})),n.d(m,"sendPgBankPaymentFailureAction",(function(){return Or})),n.d(m,"selectPaymentInfoAction",(function(){return Pr})),n.d(m,"removePaymentInfoAction",(function(){return jr})),n.d(m,"cancelPaymentAction",(function(){return Vr})),n.d(m,"cancelPaymentSuccessAction",(function(){return Ar})),n.d(m,"cancelPaymentFailureAction",(function(){return Wr})),n.d(m,"issueCashReceiptAction",(function(){return Rr})),n.d(m,"issueCashReceiptSuccessAction",(function(){return Fr})),n.d(m,"issueCashReceiptFailureAction",(function(){return Sr})),n.d(m,"cancelCouponPaymentAction",(function(){return Tr})),n.d(m,"cancelCouponPaymentSuccessAction",(function(){return Nr})),n.d(m,"cancelCouponPaymentFailureAction",(function(){return Er})),n.d(m,"sendPointPaymentAction",(function(){return Mr})),n.d(m,"sendPointPaymentSuccessAction",(function(){return Dr})),n.d(m,"sendPointPaymentFailureAction",(function(){return Lr})),n.d(m,"cancelPointPaymentAction",(function(){return _r})),n.d(m,"cancelPointPaymentSuccessAction",(function(){return $r})),n.d(m,"cancelPointPaymentFailureAction",(function(){return Br})),n.d(m,"retrieveAction",(function(){return wr})),n.d(m,"retrieveSuccessAction",(function(){return xr})),n.d(m,"retrieveFailureAction",(function(){return Yr})),n.d(m,"openHotelContentDetailModalAction",(function(){return Hr})),n.d(m,"closeHotelContentDetaiModalAction",(function(){return qr})),n.d(m,"openVoucherModalAction",(function(){return Ur})),n.d(m,"closeVoucherModalAction",(function(){return Qr})),n.d(m,"openInvoiceModalAction",(function(){return Gr})),n.d(m,"closeInvoiceModalAction",(function(){return Kr})),n.d(m,"cancelBankReceiptAction",(function(){return zr})),n.d(m,"openCashReceiptAction",(function(){return Xr})),n.d(m,"closeCashReceiptAction",(function(){return Zr})),n.d(m,"openRefundRegisterAction",(function(){return Jr})),n.d(m,"closeRefundRegisterAction",(function(){return el})),n.d(m,"openCardReceiptAction",(function(){return tl})),n.d(m,"closeCardReceiptAction",(function(){return nl})),n.d(m,"openPointPaymentAction",(function(){return il})),n.d(m,"closePointPaymentAction",(function(){return ol})),n.d(m,"loadStationListAction",(function(){return al})),n.d(m,"loadStationListSuccessAction",(function(){return cl})),n.d(m,"loadStationListFailureAction",(function(){return sl})),n.d(m,"loadBookingStatusListAction",(function(){return rl})),n.d(m,"loadBookingStatusListSuccessAction",(function(){return ll})),n.d(m,"loadBookingStatusListFailureAction",(function(){return dl})),n.d(m,"loadHandleStatusListAction",(function(){return bl})),n.d(m,"loadHandleStatusListSuccessAction",(function(){return ul})),n.d(m,"loadHandleStatusListFailureAction",(function(){return pl})),n.d(m,"loadDeviceTypeListAction",(function(){return ml})),n.d(m,"loadDeviceTypeListSuccessAction",(function(){return hl})),n.d(m,"loadDeviceTypeListFailureAction",(function(){return gl})),n.d(m,"loadVendorListAction",(function(){return fl})),n.d(m,"loadVendorListSuccessAction",(function(){return vl})),n.d(m,"loadVendorListFailureAction",(function(){return Cl})),n.d(m,"loadAgeTypeListAction",(function(){return yl})),n.d(m,"loadAgeTypeListSuccessAction",(function(){return kl})),n.d(m,"loadAgeTypeListFailureAction",(function(){return Il})),n.d(m,"loadLateCheckInTypeListAction",(function(){return Ol})),n.d(m,"loadLateCheckInTypeListSuccessAction",(function(){return Pl})),n.d(m,"loadLateCheckInTypeListFailureAction",(function(){return jl})),n.d(m,"loadPaymentDetailTypeList",(function(){return Vl})),n.d(m,"loadPaymentDetailTypeListSuccessAction",(function(){return Al})),n.d(m,"loadPaymentDetailTypeListFailureAction",(function(){return Wl})),n.d(m,"loadDepositTypeList",(function(){return Rl})),n.d(m,"loadDepositTypeListSuccessAction",(function(){return Fl})),n.d(m,"loadDepositTypeListFailureAction",(function(){return Sl})),n.d(m,"loadPaymentBankMasterListAction",(function(){return Tl})),n.d(m,"loadPaymentBankMasterListSuccessAction",(function(){return Nl})),n.d(m,"loadPaymentBankMasterListFailureAction",(function(){return El})),n.d(m,"loadGiftCardTypeListAction",(function(){return Ml})),n.d(m,"loadGiftCardTypeListSuccessAction",(function(){return Dl})),n.d(m,"loadGiftCardTypeListFailureAction",(function(){return Ll})),n.d(m,"loadBedTypeListAction",(function(){return _l})),n.d(m,"loadBedTypeListSuccessAction",(function(){return $l})),n.d(m,"loadBedTypeListFailureAction",(function(){return Bl})),n.d(m,"loadCorporateReasonListAction",(function(){return wl})),n.d(m,"loadCorporateReasonListSuccessAction",(function(){return xl})),n.d(m,"loadCorporateReasonListFailureAction",(function(){return Yl})),n.d(m,"loadRoomCategoryList",(function(){return Hl})),n.d(m,"loadRoomCategoryListSuccessAction",(function(){return ql})),n.d(m,"loadMealBasisList",(function(){return Ul})),n.d(m,"loadMealBasisListSuccessAction",(function(){return Ql})),n.d(m,"loadFreeBreakfastList",(function(){return Gl})),n.d(m,"loadFreeBreakfastListSuccessAction",(function(){return Kl})),n.d(m,"loadcheckInList",(function(){return zl})),n.d(m,"loadcheckInListSuccessAction",(function(){return Xl})),n.d(m,"loadVendorPayment",(function(){return Zl})),n.d(m,"loadVendorPaymentSuccessAction",(function(){return Jl})),n.d(m,"loadVccTypeList",(function(){return ed})),n.d(m,"loadVccTypeListSuccessAction",(function(){return td})),n.d(m,"getPaymentVcc",(function(){return nd})),n.d(m,"getPaymentVccSuccessAction",(function(){return id})),n.d(m,"putPaymentVcc",(function(){return od})),n.d(m,"putPaymentVccSuccessAction",(function(){return ad})),n.d(m,"cancelPaymentVcc",(function(){return cd})),n.d(m,"cancelPaymentVccSuccessAction",(function(){return sd})),n.d(m,"loadClientPaymentStatus",(function(){return rd})),n.d(m,"loadClientPaymentStatusSuccess",(function(){return ld}));var h={};n.r(h),n.d(h,"addSubTabAction",(function(){return dd})),n.d(h,"delSubTabAction",(function(){return bd})),n.d(h,"delAllTabAction",(function(){return ud})),n.d(h,"setCurrentSubTabAction",(function(){return pd})),n.d(h,"setRetrieveYn",(function(){return md})),n.d(h,"setChangeRequestSeq",(function(){return hd})),n.d(h,"loadMasterInfoAction",(function(){return gd})),n.d(h,"loadMasterInfoWithRetrieveAction",(function(){return fd})),n.d(h,"loadMasterInfoSuccessAction",(function(){return vd})),n.d(h,"loadMasterInfoFailureAction",(function(){return Cd})),n.d(h,"openCanceModalAction",(function(){return yd})),n.d(h,"closeCanceModalAction",(function(){return kd})),n.d(h,"cancelBookingAction",(function(){return Id})),n.d(h,"cancelBookingSuccessAction",(function(){return Od})),n.d(h,"cancelBookingFailureAction",(function(){return Pd})),n.d(h,"retrieveAction",(function(){return jd})),n.d(h,"retrieveSuccessAction",(function(){return Vd})),n.d(h,"retrieveFailureAction",(function(){return Ad})),n.d(h,"updateBookingFlightItemAction",(function(){return Wd})),n.d(h,"updateBookingFlightItemSuccessAction",(function(){return Rd})),n.d(h,"updateBookingFlightItemFailureAction",(function(){return Fd})),n.d(h,"updatePnrInfoAction",(function(){return Sd})),n.d(h,"updatePnrInfoSuccessAction",(function(){return Td})),n.d(h,"updatePnrInfoFailureAction",(function(){return Nd})),n.d(h,"openPnrModifyModalAction",(function(){return Ed})),n.d(h,"closePnrModifyModalAction",(function(){return Md})),n.d(h,"openTravelerDivideModalAction",(function(){return Dd})),n.d(h,"closeTravelerDivideModalAction",(function(){return Ld})),n.d(h,"saveTravelersAction",(function(){return _d})),n.d(h,"saveTravelersSuccessAction",(function(){return $d})),n.d(h,"saveTravelersFailureAction",(function(){return Bd})),n.d(h,"deleteTravelersAction",(function(){return wd})),n.d(h,"deleteTravelersSuccessAction",(function(){return xd})),n.d(h,"deleteTravelersFailureAction",(function(){return Yd})),n.d(h,"divideTravelersAction",(function(){return Hd})),n.d(h,"divideTravelersSuccessAction",(function(){return qd})),n.d(h,"divideTravelersFailureAction",(function(){return Ud})),n.d(h,"loadBasicInfoAction",(function(){return Qd})),n.d(h,"loadBasicInfoSuccessAction",(function(){return Gd})),n.d(h,"loadBasicInfoFailureAction",(function(){return Kd})),n.d(h,"updateBasicInfoAction",(function(){return zd})),n.d(h,"updateBasicInfoSuccessAction",(function(){return Xd})),n.d(h,"updateBasicInfoFailureAction",(function(){return Zd})),n.d(h,"loadFareRuleInfoAction",(function(){return Jd})),n.d(h,"loadFareRuleInfoSuccessAction",(function(){return eb})),n.d(h,"loadFareRuleInfoFailureAction",(function(){return tb})),n.d(h,"saveFareRuleSectionInfoAction",(function(){return nb})),n.d(h,"saveFareRuleSectionInfoFailureAction",(function(){return ib})),n.d(h,"deleteFareRuleSectionInfoAction",(function(){return ob})),n.d(h,"deleteFareRuleSectionInfoFailureAction",(function(){return ab})),n.d(h,"saveFareRuleInfoAction",(function(){return cb})),n.d(h,"saveFareRuleInfoFailureAction",(function(){return sb})),n.d(h,"deleteFareRuleInfoAction",(function(){return rb})),n.d(h,"deleteFareRuleInfoFailureAction",(function(){return lb})),n.d(h,"openOriginalFareRuleModalAction",(function(){return db})),n.d(h,"closeOriginalFareRuleModalAction",(function(){return bb})),n.d(h,"openFareRuleResearchModalAction",(function(){return ub})),n.d(h,"closeFareRuleResearchModalAction",(function(){return pb})),n.d(h,"setFareEvidenceFileUrlAction",(function(){return mb})),n.d(h,"removeFareEvidenceFileUrlAction",(function(){return hb})),n.d(h,"loadUnpaidInfoAction",(function(){return gb})),n.d(h,"loadUnpaidInfoSuccessAction",(function(){return fb})),n.d(h,"loadUnpaidInfoFailureAction",(function(){return vb})),n.d(h,"openDepositMappingModalAction",(function(){return Cb})),n.d(h,"closeDepositMappingModalAction",(function(){return yb})),n.d(h,"loadGdsPnrInfoAction",(function(){return kb})),n.d(h,"loadGdsPnrInfoSuccessAction",(function(){return Ib})),n.d(h,"loadGdsPnrInfoFailureAction",(function(){return Ob})),n.d(h,"loadPnrLogInfoAction",(function(){return Pb})),n.d(h,"selectGdsPnrAction",(function(){return jb})),n.d(h,"loadPnrLogInfoSuccessAction",(function(){return Vb})),n.d(h,"loadPnrLogInfoFailureAction",(function(){return Ab})),n.d(h,"savePnrLogAction",(function(){return Wb})),n.d(h,"savePnrLogSuccessAction",(function(){return Rb})),n.d(h,"savePnrLogFailureAction",(function(){return Fb})),n.d(h,"openPgCreditCardModalAction",(function(){return Sb})),n.d(h,"closePgCreditCardModalAction",(function(){return Tb})),n.d(h,"openPgBankModalAction",(function(){return Nb})),n.d(h,"closePgBankModalAction",(function(){return Eb})),n.d(h,"checkPriceInfoAction",(function(){return Mb})),n.d(h,"removePriceInfoAction",(function(){return Db})),n.d(h,"openChargeInfoModalAction",(function(){return Lb})),n.d(h,"closeChargeInfoModalAction",(function(){return _b})),n.d(h,"openChargeInfoUpdateModalAction",(function(){return $b})),n.d(h,"closeChargeInfoUpdateModalAction",(function(){return Bb})),n.d(h,"openChargePgCreditCardModalAction",(function(){return wb})),n.d(h,"closeChargePgCreditCardModalAction",(function(){return xb})),n.d(h,"openChargePgBankModalAction",(function(){return Yb})),n.d(h,"closeChargePgBankModalAction",(function(){return Hb})),n.d(h,"saveChargeInfoAction",(function(){return qb})),n.d(h,"saveChargeInfoSuccessAction",(function(){return Ub})),n.d(h,"saveChargeInfoFailureAction",(function(){return Qb})),n.d(h,"deleteChargeInfoAction",(function(){return Gb})),n.d(h,"deleteChargeInfoSuccessAction",(function(){return Kb})),n.d(h,"deleteChargeInfoFailureAction",(function(){return zb})),n.d(h,"loadTasfInfoAction",(function(){return Xb})),n.d(h,"loadTasfInfoSuccessAction",(function(){return Zb})),n.d(h,"loadTasfInfoFailureAction",(function(){return Jb})),n.d(h,"checkChargePriceInfoAction",(function(){return eu})),n.d(h,"removeChargePriceInfoAction",(function(){return tu})),n.d(h,"updateChargeInfoAction",(function(){return nu})),n.d(h,"openAncillaryInfoModalAction",(function(){return iu})),n.d(h,"closeAncillaryInfoModalAction",(function(){return ou})),n.d(h,"openAncillaryPgCreditCardModalAction",(function(){return au})),n.d(h,"closeAncillaryPgCreditCardModalAction",(function(){return cu})),n.d(h,"openAncillaryPgBankModalAction",(function(){return su})),n.d(h,"closeAncillaryPgBankModalAction",(function(){return ru})),n.d(h,"saveAncillaryInfoAction",(function(){return lu})),n.d(h,"saveAncillaryInfoSuccessAction",(function(){return du})),n.d(h,"saveAncillaryInfoFailureAction",(function(){return bu})),n.d(h,"deleteAncillaryInfoAction",(function(){return uu})),n.d(h,"deleteAncillaryInfoSuccessAction",(function(){return pu})),n.d(h,"deleteAncillaryInfoFailureAction",(function(){return mu})),n.d(h,"checkAncillaryPriceInfoAction",(function(){return hu})),n.d(h,"removekAncillaryPriceInfoAction",(function(){return gu})),n.d(h,"saveApisAction",(function(){return fu})),n.d(h,"saveApisSuccessAction",(function(){return vu})),n.d(h,"saveApisFailureAction",(function(){return Cu})),n.d(h,"saveMileageCardAction",(function(){return yu})),n.d(h,"saveMileageCardSuccessAction",(function(){return ku})),n.d(h,"saveMileageCardFailureAction",(function(){return Iu})),n.d(h,"saveScheduleAction",(function(){return Ou})),n.d(h,"saveScheduleSuccessAction",(function(){return Pu})),n.d(h,"saveScheduleFailureAction",(function(){return ju})),n.d(h,"addScheduleAction",(function(){return Vu})),n.d(h,"addScheduleSuccessAction",(function(){return Au})),n.d(h,"addScheduleFailureAction",(function(){return Wu})),n.d(h,"deleteScheduleAction",(function(){return Ru})),n.d(h,"deleteScheduleSuccessAction",(function(){return Fu})),n.d(h,"deleteScheduleFailureAction",(function(){return Su})),n.d(h,"clickScheduleRowAction",(function(){return Tu})),n.d(h,"resetScheduleFormAction",(function(){return Nu})),n.d(h,"checkScheduleRowidAction",(function(){return Eu})),n.d(h,"removeCheckedScheduleRowidAction",(function(){return Mu})),n.d(h,"openScheduleFormAction",(function(){return Du})),n.d(h,"closeScheduleFormAction",(function(){return Lu})),n.d(h,"fixSegmentAction",(function(){return _u})),n.d(h,"fixSegmentSuccessAction",(function(){return $u})),n.d(h,"confirmFareEvidenceAction",(function(){return Bu})),n.d(h,"confirmFareEvidenceSuccessAction",(function(){return wu})),n.d(h,"confirmFareEvidenceFailureAction",(function(){return xu})),n.d(h,"cancelConfirmFareEvidenceAction",(function(){return Yu})),n.d(h,"cancelConfirmFareEvidenceSuccessAction",(function(){return Hu})),n.d(h,"cancelConfirmFareEvidenceFailureAction",(function(){return qu})),n.d(h,"displayFareEvidenceAction",(function(){return Uu})),n.d(h,"displayFareEvidenceSuccessAction",(function(){return Qu})),n.d(h,"displayFareEvidenceFailureAction",(function(){return Gu})),n.d(h,"deleteFareEvidenceAction",(function(){return Ku})),n.d(h,"deleteFareEvidenceSuccessAction",(function(){return zu})),n.d(h,"deleteFareEvidenceFailureAction",(function(){return Xu})),n.d(h,"saveFareEvidenceAction",(function(){return Zu})),n.d(h,"saveFareEvidenceSuccessAction",(function(){return Ju})),n.d(h,"saveFareEvidenceFailureAction",(function(){return ep})),n.d(h,"clickFareEvidenceRowAction",(function(){return tp})),n.d(h,"removeSelectedFareEvidenceAction",(function(){return np})),n.d(h,"resetFareEvidenceFormAction",(function(){return ip})),n.d(h,"confirmPaymentEvidenceAction",(function(){return op})),n.d(h,"confirmPaymentEvidenceSuccessAction",(function(){return ap})),n.d(h,"confirmPaymentEvidenceFailureAction",(function(){return cp})),n.d(h,"cancelConfirmPaymentEvidenceAction",(function(){return sp})),n.d(h,"cancelConfirmPaymentEvidenceSuccessAction",(function(){return rp})),n.d(h,"cancelConfirmPaymentEvidenceFailureAction",(function(){return lp})),n.d(h,"deletePaymentEvidenceAction",(function(){return dp})),n.d(h,"deletePaymentEvidenceSuccessAction",(function(){return bp})),n.d(h,"deletePaymentEvidenceFailureAction",(function(){return up})),n.d(h,"savePaymentEvidenceAction",(function(){return pp})),n.d(h,"savePaymentEvidenceSuccessAction",(function(){return mp})),n.d(h,"savePaymentEvidenceFailureAction",(function(){return hp})),n.d(h,"checkPaymentEvidenceRowidAction",(function(){return gp})),n.d(h,"removePaymentEvidenceRowidAction",(function(){return fp})),n.d(h,"resetPaymentEvidenceFormAction",(function(){return vp})),n.d(h,"setPaymentEvidenceFileUrlAction",(function(){return Cp})),n.d(h,"removePaymentEvidenceFileUrlAction",(function(){return yp})),n.d(h,"loadPaymentApproveInfoAction",(function(){return kp})),n.d(h,"loadPaymentApproveInfoSuccessAction",(function(){return Ip})),n.d(h,"sendTasfPgCreditCardPaymentAction",(function(){return Op})),n.d(h,"openPgCreditCardApproveModalAction",(function(){return Pp})),n.d(h,"closePgCreditCardApproveModalAction",(function(){return jp})),n.d(h,"sendPgCreditCardPaymentAction",(function(){return Vp})),n.d(h,"sendPgCreditCardPaymentSuccessAction",(function(){return Ap})),n.d(h,"sendPgCreditCardPaymentFailureAction",(function(){return Wp})),n.d(h,"sendChargePgCreditCardPaymentAction",(function(){return Rp})),n.d(h,"sendAncillaryPgCreditCardPaymentAction",(function(){return Fp})),n.d(h,"sendPgBankPaymentAction",(function(){return Sp})),n.d(h,"sendPgBankPaymentSuccessAction",(function(){return Tp})),n.d(h,"sendPgBankPaymentFailureAction",(function(){return Np})),n.d(h,"sendChargePgBankPaymentAction",(function(){return Ep})),n.d(h,"sendChargePgBankPaymentSuccessAction",(function(){return Mp})),n.d(h,"sendChargePgBankPaymentFailureAction",(function(){return Dp})),n.d(h,"sendAncillaryPgBankPaymentAction",(function(){return Lp})),n.d(h,"loadPromotionListAction",(function(){return _p})),n.d(h,"loadPromotionListSuccessAction",(function(){return $p})),n.d(h,"loadPromotionListFailureAction",(function(){return Bp})),n.d(h,"openPromotionChangeModalAction",(function(){return wp})),n.d(h,"closePromotionChangeModalAction",(function(){return xp})),n.d(h,"savePromotionInfoAction",(function(){return Yp})),n.d(h,"savePromotionInfoSuccessAction",(function(){return Hp})),n.d(h,"savePromotionInfoFailureAction",(function(){return qp})),n.d(h,"loadBookingFlightPaymentAction",(function(){return Up})),n.d(h,"loadBookingFlightPaymentSuccessAction",(function(){return Qp})),n.d(h,"loadBookingFlightPaymentFailureAction",(function(){return Gp})),n.d(h,"openPaymentCancelModalAction",(function(){return Kp})),n.d(h,"closePaymentCancelModalAction",(function(){return zp})),n.d(h,"openCouponPointCancelModalAction",(function(){return Xp})),n.d(h,"closeCouponPointCancelModalAction",(function(){return Zp})),n.d(h,"openPaymentManualModalAction",(function(){return Jp})),n.d(h,"closePaymentManualModalAction",(function(){return em})),n.d(h,"cancelPaymentAction",(function(){return tm})),n.d(h,"cancelPaymentSuccessAction",(function(){return nm})),n.d(h,"cancelPaymentFailureAction",(function(){return im})),n.d(h,"cancelCouponPaymentAction",(function(){return om})),n.d(h,"cancelCouponPaymentSuccessAction",(function(){return am})),n.d(h,"cancelCouponPaymentFailureAction",(function(){return cm})),n.d(h,"cancelPointPaymentAction",(function(){return sm})),n.d(h,"cancelPointPaymentSuccessAction",(function(){return rm})),n.d(h,"cancelPointPaymentFailureAction",(function(){return lm})),n.d(h,"openCashReceiptIssueModalAction",(function(){return dm})),n.d(h,"closeCashReceiptIssueModalAction",(function(){return bm})),n.d(h,"issueCashReceiptAction",(function(){return um})),n.d(h,"issueCashReceiptSuccessAction",(function(){return pm})),n.d(h,"cancelCashReceiptAction",(function(){return mm})),n.d(h,"cancelCashReceiptSuccessAction",(function(){return hm})),n.d(h,"issueCashReceiptFailureAction",(function(){return gm})),n.d(h,"selectPaymentInfoAction",(function(){return fm})),n.d(h,"removeSelectedPaymentInfoAction",(function(){return vm})),n.d(h,"openPaymentInfoTypeSelectModalAction",(function(){return Cm})),n.d(h,"closePaymentInfoTypeSelectModalAction",(function(){return ym})),n.d(h,"openPaymentInfoRegisterModalAction",(function(){return km})),n.d(h,"closePaymentInfoRegisterModalAction",(function(){return Im})),n.d(h,"openPaymentInfoUpdateModalAction",(function(){return Om})),n.d(h,"closePaymentInfoUpdateModalAction",(function(){return Pm})),n.d(h,"checkPaymentInfosAction",(function(){return jm})),n.d(h,"saveManualTicketInfoAction",(function(){return Vm})),n.d(h,"saveManualTicketInfoSuccessAction",(function(){return Am})),n.d(h,"saveManualTicketInfoFailureAction",(function(){return Wm})),n.d(h,"deleteManualTicketInfoAction",(function(){return Rm})),n.d(h,"deleteManualTicketInfoSuccessAction",(function(){return Fm})),n.d(h,"deleteManualTicketInfoFailureAction",(function(){return Sm})),n.d(h,"loadTicketNoAction",(function(){return Tm})),n.d(h,"loadTicketNoSuccessAction",(function(){return Nm})),n.d(h,"loadTicketNoFailureAction",(function(){return Em})),n.d(h,"removeTicketNoAction",(function(){return Mm})),n.d(h,"loadTicketInfoAction",(function(){return Dm})),n.d(h,"loadTicketInfoSuccessAction",(function(){return Lm})),n.d(h,"loadTicketInfoFailureAction",(function(){return _m})),n.d(h,"deleteDsrMappingAction",(function(){return $m})),n.d(h,"selectTicketDetailInfo",(function(){return Bm})),n.d(h,"selectedRefundTicketInfoAction",(function(){return wm})),n.d(h,"removeTicketDetailInfo",(function(){return xm})),n.d(h,"openAddFareModalAction",(function(){return Ym})),n.d(h,"closeAddFareModalAction",(function(){return Hm})),n.d(h,"openTicketMappingModalAction",(function(){return qm})),n.d(h,"closeTicketMappingModalAction",(function(){return Um})),n.d(h,"openTicketMappingDeleteModalAction",(function(){return Qm})),n.d(h,"closeTicketMappingDeleteModalAction",(function(){return Gm})),n.d(h,"saveFareAction",(function(){return Km})),n.d(h,"saveFareSuccessAction",(function(){return zm})),n.d(h,"saveFareFailureAction",(function(){return Xm})),n.d(h,"deleteFareAction",(function(){return Zm})),n.d(h,"updateTasfAgencyPlYnAction",(function(){return Jm})),n.d(h,"openFareModalAction",(function(){return eh})),n.d(h,"removeSelectedPriceInfoAction",(function(){return th})),n.d(h,"saveTicketMappingAction",(function(){return nh})),n.d(h,"saveTicketMappingSuccessAction",(function(){return ih})),n.d(h,"saveTicketMappingFailureAction",(function(){return oh})),n.d(h,"deleteTicketMappingAction",(function(){return ah})),n.d(h,"deleteTicketMappingSuccessAction",(function(){return ch})),n.d(h,"deleteTicketMappingFailureAction",(function(){return sh})),n.d(h,"openPricePaymentManualModalAction",(function(){return rh})),n.d(h,"closePricePaymentManualModalAction",(function(){return lh})),n.d(h,"loadRefundRequestInfoAction",(function(){return dh})),n.d(h,"loadRefundRequestInfoSuccessAction",(function(){return bh})),n.d(h,"loadRefundRequestInfoFailureAction",(function(){return uh})),n.d(h,"saveRefundRequestInfoAction",(function(){return ph})),n.d(h,"saveRefundRequestInfoSuccessAction",(function(){return mh})),n.d(h,"saveRefundRequestInfoFailureAction",(function(){return hh})),n.d(h,"cancelRefundRequestAction",(function(){return gh})),n.d(h,"selectPenaltyInfoAction",(function(){return fh})),n.d(h,"removePenaltyInfoAction",(function(){return vh})),n.d(h,"savePaymentDepositManualAction",(function(){return Ch})),n.d(h,"deletePaymentAction",(function(){return yh})),n.d(h,"openPaymentPenaltyCancelModalAction",(function(){return kh})),n.d(h,"closePaymentPenaltyCancelModalAction",(function(){return Ih})),n.d(h,"cancelPaymentPenaltyAction",(function(){return Oh})),n.d(h,"loadRefundInfoAction",(function(){return Ph})),n.d(h,"loadRefundInfoSuccessAction",(function(){return jh})),n.d(h,"loadRefundInfoFailureAction",(function(){return Vh})),n.d(h,"saveRefundBillingAction",(function(){return Ah})),n.d(h,"saveRefundBillingSuccessAction",(function(){return Wh})),n.d(h,"saveRefundBillingFailureAction",(function(){return Rh})),n.d(h,"saveRefundDsrAction",(function(){return Fh})),n.d(h,"saveRefundDsrSuccessAction",(function(){return Sh})),n.d(h,"saveRefundDsrFailureAction",(function(){return Th})),n.d(h,"saveRefundPaymentAction",(function(){return Nh})),n.d(h,"saveRefundPaymentSuccessAction",(function(){return Eh})),n.d(h,"saveRefundPaymentFailureAction",(function(){return Mh})),n.d(h,"deletePaymentInfoAction",(function(){return Dh})),n.d(h,"deleteAllPaymentInfoAction",(function(){return Lh})),n.d(h,"loadPaymentBankIssueInfoAction",(function(){return _h})),n.d(h,"loadPaymentBankIssueInfoSuccessAction",(function(){return $h})),n.d(h,"loadPaymentBankIssueInfoFailureAction",(function(){return Bh})),n.d(h,"removePaymentBankIssueInfo",(function(){return wh})),n.d(h,"loadPaymentRegisterInfoAction",(function(){return xh})),n.d(h,"loadPaymentRegisterInfoInfoSuccessAction",(function(){return Yh})),n.d(h,"loadPaymentUpdateInfoAction",(function(){return Hh})),n.d(h,"loadPaymentUpdateInfoInfoSuccessAction",(function(){return qh})),n.d(h,"registerPaymentInfoAction",(function(){return Uh})),n.d(h,"updatePaymentInfoAction",(function(){return Qh})),n.d(h,"loadPolicyMonitoringInfoAction",(function(){return Gh})),n.d(h,"loadPolicyMonitoringInfoSuccessAction",(function(){return Kh})),n.d(h,"savePolicyMonitoringInfoAction",(function(){return zh})),n.d(h,"saveRequestRemakrAction",(function(){return Xh})),n.d(h,"openOffRegisterAction",(function(){return Zh})),n.d(h,"closeOffRegisterAction",(function(){return Jh})),n.d(h,"cancelBankReceiptAction",(function(){return eg})),n.d(h,"openCashReceiptAction",(function(){return tg})),n.d(h,"closeCashReceiptAction",(function(){return ng})),n.d(h,"openInvoiceModalAction",(function(){return ig})),n.d(h,"closeInvoiceModalAction",(function(){return og})),n.d(h,"loadDepartureTypeListAction",(function(){return ag})),n.d(h,"loadDepartureTypeListSuccessAction",(function(){return cg})),n.d(h,"loadDepartureTypeListFailureAction",(function(){return sg})),n.d(h,"loadControlBranchListAction",(function(){return rg})),n.d(h,"loadControlBranchListSuccessAction",(function(){return lg})),n.d(h,"loadControlBranchListFailureAction",(function(){return dg})),n.d(h,"loadAgeTypeListAction",(function(){return bg})),n.d(h,"loadAgeTypeListSuccessAction",(function(){return ug})),n.d(h,"loadAgeTypeListFailureAction",(function(){return pg})),n.d(h,"loadBookingStatusListAction",(function(){return mg})),n.d(h,"loadBookingStatusListSuccessAction",(function(){return hg})),n.d(h,"loadBookingStatusListFailureAction",(function(){return gg})),n.d(h,"loadRequestStatusListAction",(function(){return fg})),n.d(h,"loadRequestStatusListSuccessAction",(function(){return vg})),n.d(h,"loadRequestStatusListFailureAction",(function(){return Cg})),n.d(h,"loadDeviceTypeListAction",(function(){return yg})),n.d(h,"loadDeviceTypeListSuccessAction",(function(){return kg})),n.d(h,"loadDeviceTypeListFailureAction",(function(){return Ig})),n.d(h,"loadEvidenceTypeListAction",(function(){return Og})),n.d(h,"loadEvidenceTypeListSuccessAction",(function(){return Pg})),n.d(h,"loadEvidenceTypeListFailureAction",(function(){return jg})),n.d(h,"loadCardMasterListAction",(function(){return Vg})),n.d(h,"loadCardMasterListSuccessAction",(function(){return Ag})),n.d(h,"loadCardMasterListFailureAction",(function(){return Wg})),n.d(h,"loadCashReceiptPurposeListAction",(function(){return Rg})),n.d(h,"loadCashReceiptPurposeListSuccessAction",(function(){return Fg})),n.d(h,"loadCashReceiptPurposeListFailureAction",(function(){return Sg})),n.d(h,"loadCashReceiptKindListAction",(function(){return Tg})),n.d(h,"loadCashReceiptKindListSuccessAction",(function(){return Ng})),n.d(h,"loadCashReceiptKindListFailureAction",(function(){return Eg})),n.d(h,"loadCardHolderTypeListAction",(function(){return Mg})),n.d(h,"loadCardHolderTypeListSuccessAction",(function(){return Dg})),n.d(h,"loadCardHolderTypeListFailureAction",(function(){return Lg})),n.d(h,"loadCardHolderRelationListAction",(function(){return _g})),n.d(h,"loadCardHolderRelationListSuccessAction",(function(){return $g})),n.d(h,"loadCardHolderRelationListFailureAction",(function(){return Bg})),n.d(h,"loadBankMasterListAction",(function(){return wg})),n.d(h,"loadBankMasterListSuccessAction",(function(){return xg})),n.d(h,"loadBankMasterListFailureAction",(function(){return Yg})),n.d(h,"loadTicketingStatusCodeListAction",(function(){return Hg})),n.d(h,"loadTicketingStatusCodeListSuccessAction",(function(){return qg})),n.d(h,"loadTicketingStatusCodeListFailureAction",(function(){return Ug})),n.d(h,"loadFopCodeListAction",(function(){return Qg})),n.d(h,"loadFopCodeListSuccessAction",(function(){return Gg})),n.d(h,"loadFopCodeListFailureAction",(function(){return Kg})),n.d(h,"loadBillingTypeListAction",(function(){return zg})),n.d(h,"loadBillingTypeListSuccessAction",(function(){return Xg})),n.d(h,"loadBillingTypeListFailureAction",(function(){return Zg})),n.d(h,"loadGdsNdcCompListAction",(function(){return Jg})),n.d(h,"loadGdsNdcCompListSuccessAction",(function(){return ef})),n.d(h,"loadGdsNdcCompListFailureAction",(function(){return tf})),n.d(h,"loadAirlineChargeTypeListAction",(function(){return nf})),n.d(h,"loadAirlineChargeTypeListSuccessAction",(function(){return of})),n.d(h,"loadAirlineChargeTypeListFailureAction",(function(){return af})),n.d(h,"loadBookingTravelerListAction",(function(){return cf})),n.d(h,"loadBookingTravelerListSuccessAction",(function(){return sf})),n.d(h,"loadBookingTravelerListFailureAction",(function(){return rf})),n.d(h,"loadTicketVoidTypeListAction",(function(){return lf})),n.d(h,"loadTicketVoidTypeListSuccessAction",(function(){return df})),n.d(h,"loadTicketVoidTypeListFailureAction",(function(){return bf})),n.d(h,"loadBookingFareTypeListAction",(function(){return uf})),n.d(h,"loadBookingFareTypeListSuccessAction",(function(){return pf})),n.d(h,"loadBookingFareTypeListFailureAction",(function(){return mf})),n.d(h,"loadAncillaryTypeListAction",(function(){return hf})),n.d(h,"loadAncillaryTypeListSuccessAction",(function(){return gf})),n.d(h,"loadAncillaryTypeListFailureAction",(function(){return ff})),n.d(h,"loadAncillaryStatusListAction",(function(){return vf})),n.d(h,"loadAncillaryStatusListSuccessAction",(function(){return Cf})),n.d(h,"loadAncillaryStatusListFailureAction",(function(){return yf})),n.d(h,"loadCorporateReasonListAction",(function(){return kf})),n.d(h,"loadCorporateReasonListSuccessAction",(function(){return If})),n.d(h,"loadCorporateReasonListFailureAction",(function(){return Of})),n.d(h,"loadChangeRequestStatusListAction",(function(){return Pf})),n.d(h,"loadChangeRequestStatusListSuccessAction",(function(){return jf})),n.d(h,"loadChangeRequestStatusListFailureAction",(function(){return Vf})),n.d(h,"loadBspBillingPeriodListAction",(function(){return Af})),n.d(h,"loadBspBillingPeriodListSuccessAction",(function(){return Wf})),n.d(h,"loadBspBillingPeriodListFailureAction",(function(){return Rf})),n.d(h,"loadAdjustReasonList",(function(){return Ff})),n.d(h,"loadAdjustReasonListSuccessAction",(function(){return Sf})),n.d(h,"loadAdjustReasonListFailureAction",(function(){return Tf})),n.d(h,"loadPaymentDetailTypeAddList",(function(){return Nf})),n.d(h,"loadPaymentDetailTypeAddListSuccessAction",(function(){return Ef})),n.d(h,"loadPaymentDetailTypeAddListFailureAction",(function(){return Mf})),n.d(h,"loadPaymentDetailTypeSalesList",(function(){return Df})),n.d(h,"loadPaymentDetailTypeSalesListSuccessAction",(function(){return Lf})),n.d(h,"loadPaymentDetailTypeSalesListFailureAction",(function(){return _f})),n.d(h,"loadDepositTypeList",(function(){return $f})),n.d(h,"loadDepositTypeListSuccessAction",(function(){return Bf})),n.d(h,"loadDepositTypeListFailureAction",(function(){return wf})),n.d(h,"loadPaymentBankMasterListAction",(function(){return xf})),n.d(h,"loadPaymentBankMasterListSuccessAction",(function(){return Yf})),n.d(h,"loadPaymentBankMasterListFailureAction",(function(){return Hf})),n.d(h,"loadGiftCardTypeListAction",(function(){return qf})),n.d(h,"loadGiftCardTypeListSuccessAction",(function(){return Uf})),n.d(h,"loadGiftCardTypeListFailureAction",(function(){return Qf})),n.d(h,"loadStationListAction",(function(){return Gf})),n.d(h,"loadStationListSuccessAction",(function(){return Kf})),n.d(h,"loadStationListFailureAction",(function(){return zf})),n.d(h,"loadHandleStatusListAction",(function(){return Xf})),n.d(h,"loadHandleStatusListSuccessAction",(function(){return Zf})),n.d(h,"loadHandleStatusListFailureAction",(function(){return Jf})),n.d(h,"loadEtEmdOtherTypeList",(function(){return ev})),n.d(h,"loadEtEmdOtherTypeListSuccess",(function(){return tv})),n.d(h,"loadEtEmdOtherTypeListFailure",(function(){return nv})),n.d(h,"loadPaymentStatusCodeListAction",(function(){return iv})),n.d(h,"loadPaymentStatusCodeListSuccessAction",(function(){return ov})),n.d(h,"loadPaymentStatusCodeListFailureAction",(function(){return av})),n.d(h,"loadVendorListAction",(function(){return cv})),n.d(h,"loadVendorListSuccessAction",(function(){return sv})),n.d(h,"loadVendorListFailureAction",(function(){return rv}));var g={};n.r(g),n.d(g,"loadMasterInfoAction",(function(){return lv})),n.d(g,"loadMasterInfoSuccessAction",(function(){return dv})),n.d(g,"loadMasterInfoFailureAction",(function(){return bv})),n.d(g,"addSubTabAction",(function(){return uv})),n.d(g,"delSubTabAction",(function(){return pv})),n.d(g,"setCurrentSubTabAction",(function(){return mv})),n.d(g,"loadBasicInfoAction",(function(){return hv})),n.d(g,"loadBasicInfoSuccessAction",(function(){return gv})),n.d(g,"loadBasicInfoFailureAction",(function(){return fv})),n.d(g,"saveBasicInfoAction",(function(){return vv})),n.d(g,"saveBasicSuccessInfoAction",(function(){return Cv})),n.d(g,"saveBasicFailureInfoAction",(function(){return yv})),n.d(g,"loadCancelPolicyAction",(function(){return kv})),n.d(g,"loadCancelPolicySuccessAction",(function(){return Iv})),n.d(g,"loadCancelPolicyFailureAction",(function(){return Ov})),n.d(g,"saveCancelPolicyAction",(function(){return Pv})),n.d(g,"saveCancelPolicySuccessAction",(function(){return jv})),n.d(g,"saveCancelPolicyFailureAction",(function(){return Vv})),n.d(g,"saveBookingDetailAction",(function(){return Av})),n.d(g,"saveBookingDetailSuccessAction",(function(){return Wv})),n.d(g,"saveBookingDetailFailureAction",(function(){return Rv})),n.d(g,"saveTravelerAction",(function(){return Fv})),n.d(g,"saveTravelerSuccessAction",(function(){return Sv})),n.d(g,"saveTravelerFailureAction",(function(){return Tv})),n.d(g,"deleteTravelerAction",(function(){return Nv})),n.d(g,"deleteTravelerSuccessAction",(function(){return Ev})),n.d(g,"deleteTravelerFailureAction",(function(){return Mv})),n.d(g,"saveNeededInfoAction",(function(){return Dv})),n.d(g,"saveNeededInfoSuccessAction",(function(){return Lv})),n.d(g,"saveNeededInfoFailureAction",(function(){return _v})),n.d(g,"openCanceModalAction",(function(){return $v})),n.d(g,"closeCanceModalAction",(function(){return Bv})),n.d(g,"cancelBookingAction",(function(){return wv})),n.d(g,"cancelBookingSuccessAction",(function(){return xv})),n.d(g,"cancelBookingFailureAction",(function(){return Yv})),n.d(g,"loadCancelChargeAmountAction",(function(){return Hv})),n.d(g,"loadCancelChargeAmountSuccessAction",(function(){return qv})),n.d(g,"retrieveAction",(function(){return Uv})),n.d(g,"retrieveSuccessAction",(function(){return Qv})),n.d(g,"retrieveFailureAction",(function(){return Gv})),n.d(g,"openCashReceiptIssueModalAction",(function(){return Kv})),n.d(g,"closeCashReceiptIssueModalAction",(function(){return zv})),n.d(g,"openPgCreditCardModalAction",(function(){return Xv})),n.d(g,"closePgCreditCardModalAction",(function(){return Zv})),n.d(g,"openPgBankModalAction",(function(){return Jv})),n.d(g,"closePgBankModalAction",(function(){return eC})),n.d(g,"openCreditCardCancelModalAction",(function(){return tC})),n.d(g,"closeCreditCardCancelModalAction",(function(){return nC})),n.d(g,"openCouponPointCancelModalAction",(function(){return iC})),n.d(g,"closeCouponPointCancelModalAction",(function(){return oC})),n.d(g,"loadAmountInfoAction",(function(){return aC})),n.d(g,"loadAmountInfoSuccessAction",(function(){return cC})),n.d(g,"loadAmountInfoFailureAction",(function(){return sC})),n.d(g,"saveAmountVendorAction",(function(){return rC})),n.d(g,"saveAmountSalesAction",(function(){return lC})),n.d(g,"sendPgCreditCardPaymentAction",(function(){return dC})),n.d(g,"sendPgCreditCardPaymentSuccessAction",(function(){return bC})),n.d(g,"sendPgCreditCardPaymentFailureAction",(function(){return uC})),n.d(g,"sendPgBankPaymentAction",(function(){return pC})),n.d(g,"sendPgBankPaymentSuccessAction",(function(){return mC})),n.d(g,"sendPgBankPaymentFailureAction",(function(){return hC})),n.d(g,"selectPaymentInfoAction",(function(){return gC})),n.d(g,"removePaymentInfoAction",(function(){return fC})),n.d(g,"cancelPaymentAction",(function(){return vC})),n.d(g,"cancelPaymentSuccessAction",(function(){return CC})),n.d(g,"cancelPaymentFailureAction",(function(){return yC})),n.d(g,"issueCashReceiptAction",(function(){return kC})),n.d(g,"issueCashReceiptSuccessAction",(function(){return IC})),n.d(g,"issueCashReceiptFailureAction",(function(){return OC})),n.d(g,"cancelCouponPaymentAction",(function(){return PC})),n.d(g,"cancelCouponPaymentSuccessAction",(function(){return jC})),n.d(g,"cancelCouponPaymentFailureAction",(function(){return VC})),n.d(g,"sendPointPaymentAction",(function(){return AC})),n.d(g,"sendPointPaymentSuccessAction",(function(){return WC})),n.d(g,"sendPointPaymentFailureAction",(function(){return RC})),n.d(g,"cancelPointPaymentAction",(function(){return FC})),n.d(g,"cancelPointPaymentSuccessAction",(function(){return SC})),n.d(g,"cancelPointPaymentFailureAction",(function(){return TC})),n.d(g,"openPaymentManualModalAction",(function(){return NC})),n.d(g,"closePaymentManualModalAction",(function(){return EC})),n.d(g,"savePaymentDepositManualAction",(function(){return MC})),n.d(g,"deletePaymentAction",(function(){return DC})),n.d(g,"openVoucherModalAction",(function(){return LC})),n.d(g,"closeVoucherModalAction",(function(){return _C})),n.d(g,"openInvoiceModalAction",(function(){return $C})),n.d(g,"closeInvoiceModalAction",(function(){return BC})),n.d(g,"cancelBankReceiptAction",(function(){return wC})),n.d(g,"openCashReceiptAction",(function(){return xC})),n.d(g,"closeCashReceiptAction",(function(){return YC})),n.d(g,"openCardReceiptAction",(function(){return HC})),n.d(g,"closeCardReceiptAction",(function(){return qC})),n.d(g,"openRefundRegisterAction",(function(){return UC})),n.d(g,"closeRefundRegisterAction",(function(){return QC})),n.d(g,"openPointPaymentAction",(function(){return GC})),n.d(g,"closePointPaymentAction",(function(){return KC})),n.d(g,"loadBookingStatusAction",(function(){return zC})),n.d(g,"loadBookingStatusSuccessAction",(function(){return XC})),n.d(g,"loadBookingStatusFailureAction",(function(){return ZC})),n.d(g,"loadVendorListAction",(function(){return JC})),n.d(g,"loadVendorListSuccessAction",(function(){return ey})),n.d(g,"loadVendorListFailureAction",(function(){return ty})),n.d(g,"loadActivityTypeAction",(function(){return ny})),n.d(g,"loadActivityTypeSuccessAction",(function(){return iy})),n.d(g,"loadActivityTypeFailureAction",(function(){return oy})),n.d(g,"loadDeliveryTypeAction",(function(){return ay})),n.d(g,"loadDeliveryTypeSuccessAction",(function(){return cy})),n.d(g,"loadDeliveryTypeFailureAction",(function(){return sy})),n.d(g,"loadDeliveryMethodAction",(function(){return ry})),n.d(g,"loadDeliveryMethodSuccessAction",(function(){return ly})),n.d(g,"loadDeliveryMethodFailureAction",(function(){return dy})),n.d(g,"loadDeliveryStatusAction",(function(){return by})),n.d(g,"loadDeliveryStatusSuccessAction",(function(){return uy})),n.d(g,"loadDeliveryStatusFailureAction",(function(){return py})),n.d(g,"loadDeliveryCompAction",(function(){return my})),n.d(g,"loadDeliveryCompSuccessAction",(function(){return hy})),n.d(g,"loadDeliveryCompFailureAction",(function(){return gy})),n.d(g,"loadAgeTypeAction",(function(){return fy})),n.d(g,"loadAgeTypeSuccessAction",(function(){return vy})),n.d(g,"loadAgeTypeFailureAction",(function(){return Cy})),n.d(g,"loadActivityContentsOptionAction",(function(){return yy})),n.d(g,"loadActivityContentsOptionSuccessAction",(function(){return ky})),n.d(g,"loadActivityContentsOptionFailureAction",(function(){return Iy})),n.d(g,"loadPaymentDetailTypeList",(function(){return Oy})),n.d(g,"loadPaymentDetailTypeListSuccessAction",(function(){return Py})),n.d(g,"loadPaymentDetailTypeListFailureAction",(function(){return jy})),n.d(g,"loadDepositTypeList",(function(){return Vy})),n.d(g,"loadDepositTypeListSuccessAction",(function(){return Ay})),n.d(g,"loadDepositTypeListFailureAction",(function(){return Wy})),n.d(g,"loadPaymentBankMasterListAction",(function(){return Ry})),n.d(g,"loadPaymentBankMasterListSuccessAction",(function(){return Fy})),n.d(g,"loadPaymentBankMasterListFailureAction",(function(){return Sy})),n.d(g,"loadGiftCardTypeListAction",(function(){return Ty})),n.d(g,"loadGiftCardTypeListSuccessAction",(function(){return Ny})),n.d(g,"loadGiftCardTypeListFailureAction",(function(){return Ey})),n.d(g,"loadBookingUnableReasonListAction",(function(){return My})),n.d(g,"loadBookingUnableReasonListSuccessAction",(function(){return Dy})),n.d(g,"loadBookingUnableReasonListFailureAction",(function(){return Ly})),n.d(g,"getSmartInfiniProductStatusInfoAction",(function(){return _y})),n.d(g,"getSmartInfiniProductStatusInfoSuccessAction",(function(){return $y})),n.d(g,"getSmartInfiniProductStatusInfoFailureAction",(function(){return By})),n.d(g,"createPaymentAction",(function(){return wy})),n.d(g,"loadClientPaymentStatus",(function(){return xy})),n.d(g,"loadClientPaymentStatusSuccessAction",(function(){return Yy})),n.d(g,"loadVendorPayment",(function(){return Hy})),n.d(g,"loadVendorPaymentSuccessAction",(function(){return qy})),n.d(g,"loadVccTypeList",(function(){return Uy})),n.d(g,"loadVccTypeListSuccessAction",(function(){return Qy})),n.d(g,"getPaymentVcc",(function(){return Gy})),n.d(g,"getPaymentVccSuccessAction",(function(){return Ky})),n.d(g,"putPaymentVcc",(function(){return zy})),n.d(g,"putPaymentVccSuccessAction",(function(){return Xy})),n.d(g,"cancelPaymentVcc",(function(){return Zy})),n.d(g,"cancelPaymentVccSuccessAction",(function(){return Jy}));var f={};n.r(f),n.d(f,"loadCardReceipt",(function(){return oA})),n.d(f,"getCardReceiptSuccess",(function(){return aA})),n.d(f,"getCardReceiptFailure",(function(){return cA})),n.d(f,"removeCardReceipt",(function(){return sA}));var v={};n.r(v),n.d(v,"loadCashReceipt",(function(){return fA})),n.d(v,"getCashReceiptSuccess",(function(){return vA})),n.d(v,"getCashReceiptFailure",(function(){return CA})),n.d(v,"removeCashReceipt",(function(){return yA}));var C={};n.r(C),n.d(C,"initStateAction",(function(){return DA})),n.d(C,"loadDateRangeTypeAction",(function(){return LA})),n.d(C,"loadDateRangeTypeSuccessAction",(function(){return _A})),n.d(C,"loadDepositWithdrawTypeAction",(function(){return $A})),n.d(C,"loadDepositWithdrawTypeSuccessAction",(function(){return BA})),n.d(C,"loadDepositTypeAction",(function(){return wA})),n.d(C,"loadDepositTypeSuccessAction",(function(){return xA})),n.d(C,"loadCardMasterAction",(function(){return YA})),n.d(C,"loadCardMasterSuccessAction",(function(){return HA})),n.d(C,"loadAllBankMasterListAction",(function(){return qA})),n.d(C,"loadAllBankMasterListSuccessAction",(function(){return UA})),n.d(C,"loadBankAccountNoAction",(function(){return QA})),n.d(C,"loadBankAccountNoSuccessAction",(function(){return GA})),n.d(C,"loadItemCategoryAction",(function(){return KA})),n.d(C,"loadItemCategorySuccessAction",(function(){return zA})),n.d(C,"loadPaymentDetailTypeAction",(function(){return XA})),n.d(C,"loadPaymentDetailTypeSuccessAction",(function(){return ZA})),n.d(C,"loadStationTypeAction",(function(){return JA})),n.d(C,"loadStationTypeSuccessAction",(function(){return eW})),n.d(C,"loadListAction",(function(){return tW})),n.d(C,"loadListSuccessAction",(function(){return nW})),n.d(C,"loadListFailureAction",(function(){return iW})),n.d(C,"changeSearchCondition",(function(){return oW})),n.d(C,"setGridCheckStateAction",(function(){return aW})),n.d(C,"setGridStateAction",(function(){return cW})),n.d(C,"changePageIndex",(function(){return sW})),n.d(C,"changePageSize",(function(){return rW})),n.d(C,"saveMappingAction",(function(){return lW})),n.d(C,"saveMappingSuccessAction",(function(){return dW})),n.d(C,"loadUnpaidDataList",(function(){return bW})),n.d(C,"loadUnpaidDataListSucess",(function(){return uW})),n.d(C,"loadUnpaidDataListFailure",(function(){return pW}));var y={};n.r(y),n.d(y,"initComponent",(function(){return kR})),n.d(y,"loadDepositTypeList",(function(){return IR})),n.d(y,"getDepositTypeListSuccessAction",(function(){return OR})),n.d(y,"loadPaymentDetailTypeList",(function(){return PR})),n.d(y,"getPaymentDetailTypeListSuccess",(function(){return jR})),n.d(y,"loadBankList",(function(){return VR})),n.d(y,"getBankListSuccess",(function(){return AR})),n.d(y,"loadRefundAccountInfo",(function(){return WR})),n.d(y,"loadRefundAccountInfoSuccess",(function(){return RR})),n.d(y,"loadRefundAccountInfoFailure",(function(){return FR})),n.d(y,"saveRefundAccountInfo",(function(){return SR})),n.d(y,"saveRefundAccountInfoSuccess",(function(){return TR}));var k=n("ofXK"),I=n("3Pt+"),O=n("snw9"),P=n("kt0X"),j=n("WG3B"),V=n("7rOj"),A=n("6LsY"),W=n("l1P7"),R=n("v7zA"),F=n("hHe4"),S=n("1OXJ"),T=n("5hwk"),N=n("u47x"),E=n("GU7r"),M=n("+rOU"),D=n("cH1L"),L=n("fXoL");new L.N("0.0.0-PLACEHOLDER");const _=new L.q("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let $=(()=>{class e{constructor(e,t,n){this._hasDoneGlobalChecks=!1,this._document=n,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=t,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const e=this._document||document;return"object"==typeof e&&e?e:null}_getWindow(){const e=this._getDocument(),t=(null==e?void 0:e.defaultView)||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(L.W)()&&!this._isTestEnv()}_isTestEnv(){const e=this._getWindow();return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){const e=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),t=this._getDocument();e&&t&&!t.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const e=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,t=this._getDocument();if(e||!t||!t.body||"function"!=typeof getComputedStyle)return;const n=t.createElement("div");n.classList.add("mat-theme-loaded-marker"),t.body.appendChild(n);const i=getComputedStyle(n);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),t.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()}}return e.\u0275mod=L.Ob({type:e}),e.\u0275inj=L.Nb({factory:function(t){return new(t||e)(L.bc(N.e),L.bc(_,8),L.bc(k.d,8))},imports:[[D.a],D.a]}),e})(),B=(()=>{class e{}return e.\u0275mod=L.Ob({type:e}),e.\u0275inj=L.Nb({factory:function(t){return new(t||e)},imports:[[k.c,$,M.d,E.c,N.a],$]}),e})();var w=n("kKjH"),x=n("eXiR"),Y=n("7UZF"),H=n("qXPF"),q=n("vu/V");let U=(()=>{class e{}return e.\u0275mod=L.Ob({type:e}),e.\u0275inj=L.Nb({factory:function(t){return new(t||e)},imports:[[k.c,I.m,I.w,R.a,q.a]]}),e})();var Q=n("LvDl"),G=n("wd/R"),K=n.n(G),z=n("tpT/");let X=(()=>{class e{constructor(e){this.api=e}}return e.\u0275fac=function(t){return new(t||e)(L.bc(z.a))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Z=(()=>{class e{constructor(e){this.fb=e}initBookerPutForm(){return{userNo:null}}generateBookerPutForm(){return this.fb.group({userNo:[null,I.z.required]})}generateBookerForm(){return this.fb.group({countryPhoneCode:[null],mobileNo:[null],emailAddress:[null]})}initBookerForm(){return{countryPhoneCode:null,mobileNo:null,emailAddress:null}}}return e.\u0275fac=function(t){return new(t||e)(L.bc(I.f))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var J=n("+Sob"),ee=n("gbCm");let te=(()=>{class e{constructor(e){this.dataService=e,this.submitEvent=new L.n,this.putForm=e.generateBookerForm()}get bookerInfo(){return this._bookerInfo}set bookerInfo(e){var t;this._bookerInfo=e,this.putFormData=this._setPutFormData(null===(t=this._bookerInfo)||void 0===t?void 0:t.bookerUpdateInfo)}get masterInfo(){return this._masterInfo}set masterInfo(e){this._masterInfo=e}ngOnInit(){}ngOnDestroy(){}get booker(){var e;return null===(e=this.bookerInfo)||void 0===e?void 0:e.booker}onClickChangeBooker(){var e;let t=this.putForm.value;t.bookingCode=null===(e=this._masterInfo)||void 0===e?void 0:e.bookingCode,this.submitEvent.emit(t)}getCouponToDate(e){const{downloadDatetime:t,useAbleDate:n,useToDate:i}=e;return n>0&&Q.isNil(i)?K()(t).add(n,"days").format("YYYY-MM-DD"):i}_setPutFormData(e){const t=this.dataService.initBookerForm();return Object.assign({},t,Q.pick(e,Object.keys(t)))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Z))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-user-info"]],inputs:{bookerInfo:"bookerInfo",stationTypeCode:"stationTypeCode",masterInfo:"masterInfo"},outputs:{submitEvent:"submitEvent"},decls:91,vars:11,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title"],[1,"table","table-bordered","table-responsive"],["width","15%"],["width","35%"],["scope","row",1,"th-bg"],[3,"formGroup","connectForm"],[1,"table","table-bordered","table-responsive",2,"overflow","auto","max-height","300px"],["scope","col",1,"align-c"],[1,"align-c"],["formControlName","countryPhoneCode"],["formControlName","mobileNo"],["formControlName","emailAddress"],[1,"d-flex","align-items-center","justify-content-between","mt10"],[1,"font-size-sm","color-danger"],["type","submit",1,"btn","btn-outline-dark","sm",3,"click"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"p",2),L.Pc(3,"Member"),L.Vb(),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," Member "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col",4),L.Rb(10,"col",5),L.Vb(),L.Wb(11,"tbody"),L.Wb(12,"tr"),L.Wb(13,"th",6),L.Pc(14,"User No."),L.Vb(),L.Wb(15,"td"),L.Pc(16),L.Vb(),L.Vb(),L.Wb(17,"tr"),L.Wb(18,"th",6),L.Pc(19,"ID"),L.Vb(),L.Wb(20,"td"),L.Pc(21),L.Vb(),L.Vb(),L.Wb(22,"tr"),L.Wb(23,"th",6),L.Pc(24,"Name"),L.Vb(),L.Wb(25,"td"),L.Pc(26),L.Vb(),L.Vb(),L.Wb(27,"tr"),L.Wb(28,"th",6),L.Pc(29,"Country Phone No."),L.Vb(),L.Wb(30,"td"),L.Pc(31),L.Vb(),L.Vb(),L.Wb(32,"tr"),L.Wb(33,"th",6),L.Pc(34,"Mobile No."),L.Vb(),L.Wb(35,"td"),L.Pc(36),L.Vb(),L.Vb(),L.Wb(37,"tr"),L.Wb(38,"th",6),L.Pc(39,"Email"),L.Vb(),L.Wb(40,"td"),L.Pc(41),L.Vb(),L.Vb(),L.Wb(42,"tr"),L.Wb(43,"th",6),L.Pc(44,"Nationality"),L.Vb(),L.Wb(45,"td"),L.Pc(46),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(47,"div",0),L.Wb(48,"div",1),L.Wb(49,"p",2),L.Pc(50,"Booker"),L.Vb(),L.Vb(),L.Wb(51,"form",7),L.Wb(52,"div",8),L.Wb(53,"table"),L.Wb(54,"caption"),L.Pc(55," Booker "),L.Vb(),L.Wb(56,"colgroup"),L.Rb(57,"col"),L.Rb(58,"col"),L.Rb(59,"col"),L.Rb(60,"col"),L.Rb(61,"col"),L.Vb(),L.Wb(62,"thead"),L.Wb(63,"tr"),L.Wb(64,"th",9),L.Pc(65,"Name"),L.Vb(),L.Wb(66,"th",9),L.Pc(67,"Nationality"),L.Vb(),L.Wb(68,"th",9),L.Pc(69,"Country Phone No."),L.Vb(),L.Wb(70,"th",9),L.Pc(71,"Mobile No."),L.Vb(),L.Wb(72,"th",9),L.Pc(73,"Email"),L.Vb(),L.Vb(),L.Vb(),L.Wb(74,"tbody"),L.Wb(75,"tr"),L.Wb(76,"td",10),L.Pc(77),L.Vb(),L.Wb(78,"td",10),L.Pc(79),L.Vb(),L.Wb(80,"td"),L.Rb(81,"app-input-text",11),L.Vb(),L.Wb(82,"td",10),L.Rb(83,"app-input-text",12),L.Vb(),L.Wb(84,"td",10),L.Rb(85,"app-input-text",13),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(86,"div",14),L.Wb(87,"p",15),L.Pc(88,"\u203b This change will be applied for this booking only."),L.Vb(),L.Wb(89,"button",16),L.fc("click",(function(){return t.onClickChangeBooker()})),L.Pc(90,"Save"),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(16),L.Qc(null==t.bookerInfo?null:t.bookerInfo.booker.userNo),L.Cb(5),L.Qc(null==t.bookerInfo?null:t.bookerInfo.booker.userId),L.Cb(5),L.Qc(null==t.bookerInfo?null:t.bookerInfo.booker.name),L.Cb(5),L.Qc(null==t.bookerInfo?null:t.bookerInfo.booker.countryPhoneCode),L.Cb(5),L.Qc(null==t.bookerInfo?null:t.bookerInfo.booker.mobileNo),L.Cb(5),L.Qc(null==t.bookerInfo?null:t.bookerInfo.booker.emailAddress),L.Cb(5),L.Qc(null==t.bookerInfo?null:t.bookerInfo.booker.nationalityCode),L.Cb(5),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(26),L.Qc(null==t.bookerInfo?null:t.bookerInfo.booker.name),L.Cb(2),L.Qc(null==t.bookerInfo?null:t.bookerInfo.booker.nationalityCode))},directives:[I.B,I.s,I.k,J.a,ee.a,I.r,I.i],encapsulation:2,changeDetection:0}),e})();var ne=n("pfiq");const ie=Object(P.o)("[ReservationUser] open change booker modal"),oe=Object(P.o)("[ReservationUser] close change booker modal"),ae=Object(P.q)({isOpenModal:!1},Object(P.s)(i.openModalAction,e=>Object.assign(Object.assign({},e),{isOpenModal:!0})),Object(P.s)(i.closeModalAction,e=>Object.assign(Object.assign({},e),{isOpenModal:!1})));function ce(e,t){return Object(P.m)({reservationUserMain:ae})(e,t)}const se=Object(P.p)("reservationUser"),re=Object(P.r)(se,e=>e.reservationUserMain),le=Object(P.r)(re,e=>e.isOpenModal);let de=(()=>{class e{constructor(e){this.store=e,this.submitEvent=new L.n,this._subscribeStore()}ngOnInit(){}ngOnDestroy(){}clickOpenHandler(){this.store.dispatch(i.openModalAction())}clickCloseHandler(){this.store.dispatch(i.closeModalAction())}submitHandler(e){this.submitEvent.emit(e)}_subscribeStore(){this.isOpenModal$=this.store.pipe(Object(P.u)(le))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-user"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",bookerInfo:"bookerInfo",stationTypeCode:"stationTypeCode",masterInfo:"masterInfo"},outputs:{submitEvent:"submitEvent"},decls:1,vars:3,consts:[[3,"bookerInfo","masterInfo","stationTypeCode","submitEvent"]],template:function(e,t){1&e&&(L.Wb(0,"app-reservation-user-info",0),L.fc("submitEvent",(function(e){return t.submitHandler(e)})),L.Vb()),2&e&&L.pc("bookerInfo",t.bookerInfo)("masterInfo",t.masterInfo)("stationTypeCode",t.stationTypeCode)},directives:[te],encapsulation:2,changeDetection:0}),e})(),be=(()=>{class e{constructor(e,t,n){this._actions$=e,this._apiService=t,this._store$=n}}return e.\u0275fac=function(t){return new(t||e)(L.bc(O.a),L.bc(X),L.bc(P.h))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac}),e})(),ue=(()=>{class e{}return e.\u0275mod=L.Ob({type:e}),e.\u0275inj=L.Nb({factory:function(t){return new(t||e)},imports:[[k.c,I.m,I.w,R.a,T.a,S.a,q.a,V.a,P.j.forFeature("reservationUser",ce),O.b.forFeature([be])]]}),e})();function pe(e,t){1&e&&(L.Ub(0),L.Wb(1,"span"),L.Pc(2,"Y"),L.Vb(),L.Tb())}function me(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"N"),L.Vb())}function he(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr",7),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc().clickConsultingItem(n)})),L.Wb(2,"td",8),L.Pc(3),L.Vb(),L.Wb(4,"td",8),L.Pc(5),L.Vb(),L.Wb(6,"td"),L.Rb(7,"span",9),L.Vb(),L.Wb(8,"td",8),L.Nc(9,pe,3,0,"ng-container",10),L.Nc(10,me,2,0,"ng-template",null,11,L.Oc),L.Vb(),L.Wb(12,"td",8),L.Wb(13,"span",12),L.Pc(14),L.Vb(),L.Vb(),L.Wb(15,"td",8),L.Pc(16),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,n=L.Ec(11),i=L.hc();L.Cb(1),L.Gb("selected",(null==e?null:e.consultingSeq)===(null==i.consultingItem?null:i.consultingItem.consultingSeq)),L.Cb(2),L.Qc(null==e?null:e.requestDatetime),L.Cb(2),L.Qc(null==e?null:e.consultingStatusName),L.Cb(2),L.pc("innerHTML",null==e?null:e.questionDetail,L.Gc),L.Cb(2),L.pc("ngIf",i.hasFile(e))("ngIfElse",n),L.Cb(5),L.Qc(null==e?null:e.answerName),L.Cb(2),L.Qc(null==e?null:e.handleFinishDatetime)}}function ge(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",13),L.Pc(3,"-"),L.Vb(),L.Vb(),L.Tb())}let fe=(()=>{class e{constructor(){this.clickConsultingItemEvent=new L.n}ngOnInit(){}ngOnDestroy(){}clickConsultingItem(e){this.clickConsultingItemEvent.emit(e)}hasFile(e){if(!e)return!1;const{attachedFileName1:t,attachedFileName2:n,attachedFileName3:i}=e;return!Q.isNil(t||n||i)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-consulting-list"]],inputs:{consultingList:"consultingList",consultingItem:"consultingItem"},outputs:{clickConsultingItemEvent:"clickConsultingItemEvent"},decls:31,vars:2,consts:[[1,"page-item-header"],[1,"title"],[1,"table","table-hover","table-bordered","table-responsive","table-fixed",2,"max-height","340px","overflow","auto"],["width","150px"],["scope","col",1,"align-c"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"click"],[1,"align-c"],[1,"text-over","dp-block",2,"height","1rem",3,"innerHTML"],[4,"ngIf","ngIfElse"],["noFile",""],[1,"text-over","dp-block"],["colspan","5",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"1:1 Consulting List"),L.Vb(),L.Vb(),L.Wb(3,"div",2),L.Wb(4,"table"),L.Wb(5,"caption"),L.Pc(6," 1:1 Consulting List "),L.Vb(),L.Wb(7,"colgroup"),L.Rb(8,"col",3),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Rb(13,"col",3),L.Vb(),L.Wb(14,"thead"),L.Wb(15,"tr"),L.Wb(16,"th",4),L.Pc(17,"RQ Date"),L.Vb(),L.Wb(18,"th",4),L.Pc(19,"Satus"),L.Vb(),L.Wb(20,"th",4),L.Pc(21,"Question"),L.Vb(),L.Wb(22,"th",4),L.Pc(23,"Attach"),L.Vb(),L.Wb(24,"th",4),L.Pc(25,"Answer"),L.Vb(),L.Wb(26,"th",4),L.Pc(27,"Answer Date"),L.Vb(),L.Vb(),L.Vb(),L.Wb(28,"tbody"),L.Nc(29,he,17,9,"ng-container",5),L.Nc(30,ge,4,0,"ng-container",6),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(29),L.pc("ngForOf",t.consultingList),L.Cb(1),L.pc("ngIf",0===(null==t.consultingList?null:t.consultingList.length)))},directives:[k.n,k.o],encapsulation:2,changeDetection:0}),e})();var ve=n("LRne"),Ce=n("z6cu"),ye=n("eIep"),ke=n("JIr8"),Ie=n("AytR");const{API_URL:Oe}=Ie.a,Pe={postCommonDetailCode:`${Oe}/common/detail-code`,bookingConsulting:`${Oe}/admin/booking/consulting`};let je=(()=>{class e{constructor(e){this.api=e}getCommonDetailCodeList(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(Pe.postCommonDetailCode,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)("api response error")),Object(ke.a)(e=>(console.error(e),Object(Ce.a)("network state error"))))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(z.a))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ve=(()=>{class e{constructor(e){this.fb=e}initQuestionDetailPutForm(){return{questionDetail:null,consultingStatusCode:null}}generateQuestionDetailPutForm(){return this.fb.group({questionDetail:[null],consultingStatusCode:[null]})}generateAnswerDetailPutForm(){return this.fb.group({smsReceiveYn:[null],emailReceiveYn:[null],consultingStatusCode:[null],answerDetail:[null]})}initAnswerDetailPutForm(){return{smsReceiveYn:!0,emailReceiveYn:!0,consultingStatusCode:"CS003",answerDetail:"\uc548\ub155\ud558\uc138\uc694. \uc624\ub9c8\uc774\ud638\ud154\uc785\ub2c8\ub2e4!<br/><br/><br/><br/><br/><br/><br/>\ud2b9\ubcc4\ud55c \ucd94\uc5b5\uacfc \ud568\uaed8\ud558\ub294 \uc624\ub9c8\uc774\ud638\ud154\uc774 \ub418\uaca0\uc2b5\ub2c8\ub2e4.<br/>\uac10\uc0ac\ud569\ub2c8\ub2e4."}}}return e.\u0275fac=function(t){return new(t||e)(L.bc(I.f))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Ae=n("EsKh"),We=n("RfQl");let Re=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.submitEvent=new L.n,this.downloadImageEvent=new L.n,this.upsertForm=e.generateQuestionDetailPutForm()}get consultingItem(){return this._consultingItem}set consultingItem(e){e?this._enableForm():this._diableForm(),this._consultingItem=e,this.upsertFormData=this._convertItemToForm(e)}ngOnInit(){}ngOnDestroy(){}onSubmit(){if(!this.consultingItem)return void this.alertService.alert("Please select 1:1 inquiries from the top list first.");const e=this._convertFormToItem(this.upsertForm.value,this.consultingItem);this.submitEvent.emit(e)}openFile(e){Q.isNil(e)||window.open(`${e}`,"_blank","height=950,width=1600,left=0,top=0,toolbar=no,menubar=no,scrollbars=no,resizable=yes,location=no,status=no")}downloadImage(e,t){this.downloadImageEvent.emit({url:e,name:t})}_convertItemToForm(e){var t;return e?{questionDetail:(null===(t=null==e?void 0:e.questionDetail)||void 0===t?void 0:t.replace(/\n/g,"<br/>"))||null,consultingStatusCode:null==e?void 0:e.consultingStatusCode}:this._dataService.initQuestionDetailPutForm()}_convertFormToItem(e,t){const{consultingSeq:n,consultingCategoryCode:i,consultingTypeCode:o,questionTitle:a,smsReceiveYn:c,emailReceiveYn:s}=t,{questionDetail:r,consultingStatusCode:l}=e;return{consultingSeq:n,consultingCategoryCode:i,consultingTypeCode:o,questionTitle:a,smsReceiveYn:c||!1,emailReceiveYn:s||!1,questionDetail:r,consultingStatusCode:l}}_enableForm(){this.upsertForm.get("questionDetail").enable()}_diableForm(){this.upsertForm.get("questionDetail").disable()}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ve),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-consulting-question-detail"]],inputs:{consultingItem:"consultingItem"},outputs:{submitEvent:"submitEvent",downloadImageEvent:"downloadImageEvent"},decls:25,vars:5,consts:[[1,"page-item-header"],[1,"title"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered","table-fixed","in-border-none"],[1,"td-bg"],["toolBarType","simple","styleHeight","200px","formControlName","questionDetail"],[1,"justify-content-end","align-r","color-blue","text-underline","mt10"],[3,"click"],[1,"button-area","align-r","mt10"],["type","submit","data-function","2000111",1,"btn","btn-outline-dark","sm"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Question"),L.Vb(),L.Vb(),L.Wb(3,"form",2),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," Question "),L.Vb(),L.Wb(8,"tbody"),L.Wb(9,"tr"),L.Wb(10,"td",4),L.Rb(11,"app-editor",5),L.Wb(12,"div",6),L.Wb(13,"p"),L.Wb(14,"a",7),L.fc("click",(function(){return t.openFile(null==t.consultingItem?null:t.consultingItem.attachedFileUrl1)})),L.Pc(15),L.Vb(),L.Vb(),L.Wb(16,"p"),L.Wb(17,"a",7),L.fc("click",(function(){return t.openFile(null==t.consultingItem?null:t.consultingItem.attachedFileUrl2)})),L.Pc(18),L.Vb(),L.Vb(),L.Wb(19,"p"),L.Wb(20,"a",7),L.fc("click",(function(){return t.openFile(null==t.consultingItem?null:t.consultingItem.attachedFileUrl3)})),L.Pc(21),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(22,"div",8),L.Wb(23,"button",9),L.Pc(24,"Save"),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(3),L.pc("formGroup",t.upsertForm)("connectForm",t.upsertFormData),L.Cb(12),L.Qc(null==t.consultingItem?null:t.consultingItem.attachedFileName1),L.Cb(3),L.Qc(null==t.consultingItem?null:t.consultingItem.attachedFileName2),L.Cb(3),L.Qc(null==t.consultingItem?null:t.consultingItem.attachedFileName3))},directives:[I.B,I.s,I.k,J.a,We.a,I.r,I.i],encapsulation:2,changeDetection:0}),e})();var Fe=n("XNiG"),Se=n("U6NN");let Te=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.submitEvent=new L.n,this._$unsubscribe=new Fe.a,this.upsertForm=e.generateAnswerDetailPutForm()}get consultingItem(){return this._consultingItem}set consultingItem(e){this._consultingItem=e,this.upsertFormData=this._convertItemToForm(e)}ngOnInit(){}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete()}onSubmit(){if(!this.consultingItem)return void this.alertService.alert("Select the 1:1 question you want to answer.");const e=this._convertFormToItem(this.upsertForm.value,this.consultingItem);this.submitEvent.emit(e)}_convertItemToForm(e){return e?{smsReceiveYn:!0,emailReceiveYn:!0,consultingStatusCode:e.consultingStatusCode,answerDetail:e.answerDetail||"\uc548\ub155\ud558\uc138\uc694. \uc624\ub9c8\uc774\ud638\ud154\uc785\ub2c8\ub2e4!<br/><br/><br/><br/><br/><br/><br/>\ud2b9\ubcc4\ud55c \ucd94\uc5b5\uacfc \ud568\uaed8\ud558\ub294 \uc624\ub9c8\uc774\ud638\ud154\uc774 \ub418\uaca0\uc2b5\ub2c8\ub2e4.<br/>\uac10\uc0ac\ud569\ub2c8\ub2e4."}:this._dataService.initAnswerDetailPutForm()}_convertFormToItem(e,t){const{consultingSeq:n,consultingCategoryCode:i,consultingTypeCode:o,questionTitle:a}=t,{consultingStatusCode:c,smsReceiveYn:s,emailReceiveYn:r,answerDetail:l}=e;return{consultingSeq:n,consultingCategoryCode:i,consultingTypeCode:o,questionTitle:a,consultingStatusCode:c,smsReceiveYn:s,emailReceiveYn:r,answerDetail:l}}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ve),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-consulting-answer-detail"]],hostAttrs:[1,"frame","ml10"],inputs:{userInfo:"userInfo",consultingStatusList:"consultingStatusList",consultingItem:"consultingItem"},outputs:{submitEvent:"submitEvent"},decls:25,vars:6,consts:[[3,"formGroup","connectForm","ngSubmit"],[1,"page-item-header"],[1,"title"],[1,"control"],["formControlName","consultingStatusCode","dataKey","detailCode","displayKey","detailCodeNameEn",3,"options","useAllOptionYn"],[1,"table","table-bordered","table-fixed","in-border-none"],[1,"td-bg"],["toolBarType","simple","styleHeight","200px","formControlName","answerDetail"],[1,"button-area","content-between","color-dark-color3","font-size-xs","mt10"],[1,"mr5","ml5"],[1,"ml-auto"],["type","submit","data-function","2000112",1,"btn","btn-outline-dark","sm"]],template:function(e,t){1&e&&(L.Wb(0,"form",0),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(1,"div",1),L.Wb(2,"p",2),L.Pc(3,"Answer"),L.Vb(),L.Wb(4,"div",3),L.Rb(5,"app-selectbox",4),L.Vb(),L.Vb(),L.Wb(6,"div"),L.Wb(7,"div",5),L.Wb(8,"table"),L.Wb(9,"caption"),L.Pc(10," Answer "),L.Vb(),L.Wb(11,"tbody"),L.Wb(12,"tr"),L.Wb(13,"td",6),L.Rb(14,"app-editor",7),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(15,"div",8),L.Wb(16,"span"),L.Pc(17),L.Vb(),L.Wb(18,"span",9),L.Pc(19,"|"),L.Vb(),L.Wb(20,"span"),L.Pc(21),L.Vb(),L.Wb(22,"div",10),L.Wb(23,"button",11),L.Pc(24,"Save"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.pc("formGroup",t.upsertForm)("connectForm",t.upsertFormData),L.Cb(5),L.pc("options",t.consultingStatusList)("useAllOptionYn",!1),L.Cb(12),L.Rc("Answer: ",(null==t.consultingItem?null:t.consultingItem.answerName)||"-",""),L.Cb(4),L.Rc("Answer Date : ",(null==t.consultingItem?null:t.consultingItem.handleFinishDatetime)||"-"," "))},directives:[I.B,I.s,I.k,J.a,Se.a,I.r,I.i,We.a],encapsulation:2,changeDetection:0}),e})();const Ne=Object(P.o)("[ReservationConsulting] set bookingItemCode",Object(P.t)()),Ee=Object(P.o)("[ReservationConsulting] load consulting list",Object(P.t)()),Me=Object(P.o)("[ReservationConsulting] load consulting list success",Object(P.t)()),De=Object(P.o)("[ReservationConsulting] load consulting list failure",Object(P.t)()),Le=Object(P.o)("[ReservationConsulting] load consulting status code list",Object(P.t)()),_e=Object(P.o)("[ReservationConsulting] load consulting status code list success",Object(P.t)()),$e=Object(P.o)("[ReservationConsulting] load consulting status code list failure",Object(P.t)()),Be=Object(P.o)("[ReservationConsulting] update consulting info",Object(P.t)()),we=Object(P.o)("[ReservationConsulting] update consulting info success",Object(P.t)()),xe=Object(P.o)("[ReservationConsulting] update consulting info failure",Object(P.t)()),Ye=Object(P.o)("[ReservationConsulting] click consulting item",Object(P.t)()),He=Object(P.q)({isOpenModal:!1,bookingItemCode:null,consultingStatusList:null,consultingList:null,selectedConsultingItem:null,templateList:null},Object(P.s)(o.setBookingItemCode,(e,{bookingItemCode:t})=>Object.assign(Object.assign({},e),{bookingItemCode:t})),Object(P.s)(o.loadConsultingStatusCodeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{consultingStatusList:t})),Object(P.s)(o.loadConsultingListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{consultingList:t})),Object(P.s)(o.clickConsultingItemAction,(e,{consultingItem:t})=>Object.assign(Object.assign({},e),{selectedConsultingItem:t})));function qe(e,t){return Object(P.m)({reservationConsultingMain:He})(e,t)}const Ue=Object(P.p)("reservationConsulting"),Qe=Object(P.r)(Ue,e=>e.reservationConsultingMain),Ge=(Object(P.r)(Qe,e=>e.bookingItemCode),Object(P.r)(Qe,e=>e.consultingList),Object(P.r)(Qe,e=>e.selectedConsultingItem)),Ke=Object(P.r)(Qe,e=>e.consultingStatusList),ze=Object(P.r)(Qe,e=>e.isOpenModal);Object(P.r)(Qe,e=>e.templateList);var Xe=n("YY+H"),Ze=n("7G9D");let Je=(()=>{class e{constructor(e,t,n,i){this.store=e,this._authStore=t,this._fileService=n,this.api=i,this.submitEvent=new L.n,this._$unsubscribe=new Fe.a,this._subscribeStore()}get consultingList(){return this._consultingList}set consultingList(e){if(this._consultingList=e,Q.isNil(this.consultingSeq))this.clickConsultingItemHandler(null);else{const e=Q.find(this.consultingList,e=>e.consultingSeq===this.consultingSeq);this.store.dispatch(o.clickConsultingItemAction({consultingItem:e}))}}get consultingSeq(){return this._consultingSeq}set consultingSeq(e){if(this._consultingSeq=e,!Q.isNil(this.consultingList)){const t=Q.find(this.consultingList,t=>t.consultingSeq===e);this.store.dispatch(o.clickConsultingItemAction({consultingItem:t}))}}ngOnInit(){this.loadConsultingStatusList()}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete()}loadConsultingList(e){this.store.dispatch(o.loadConsultingListAction({condition:{bookingItemCode:e}}))}loadConsultingStatusList(){this.store.dispatch(o.loadConsultingStatusCodeListAction({condition:{masterCode:"US012"}}))}clickConsultingItemHandler(e){this.store.dispatch(o.clickConsultingItemAction({consultingItem:e}))}submitHandler(e){this.submitEvent.emit(e)}clickDownloadImageHandler(e){this._fileService.fileDownload({url:e.url,filename:e.name,type:"image"})}_subscribeStore(){this.selectedConsultingItem$=this.store.pipe(Object(P.u)(Ge)),this.consultingStatusList$=this.store.pipe(Object(P.u)(Ke)),this.isOpenModal$=this.store.pipe(Object(P.u)(ze)),this.userInfo$=this._authStore.pipe(Object(P.u)(Xe.r))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h),L.Qb(P.h),L.Qb(Ze.a),L.Qb(z.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-consulting"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",consultingList:"consultingList",consultingSeq:"consultingSeq"},outputs:{submitEvent:"submitEvent"},decls:11,vars:16,consts:[[1,"page-item"],[3,"consultingList","consultingItem","clickConsultingItemEvent"],[3,"consultingItem","submitEvent","downloadImageEvent"],[3,"userInfo","consultingItem","consultingStatusList","submitEvent"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"app-reservation-consulting-list",1),L.fc("clickConsultingItemEvent",(function(e){return t.clickConsultingItemHandler(e)})),L.ic(2,"async"),L.Vb(),L.Vb(),L.Wb(3,"div",0),L.Wb(4,"app-reservation-consulting-question-detail",2),L.fc("submitEvent",(function(e){return t.submitHandler(e)}))("downloadImageEvent",(function(e){return t.clickDownloadImageHandler(e)})),L.ic(5,"async"),L.Vb(),L.Vb(),L.Wb(6,"div",0),L.Wb(7,"app-reservation-consulting-answer-detail",3),L.fc("submitEvent",(function(e){return t.submitHandler(e)})),L.ic(8,"async"),L.ic(9,"async"),L.ic(10,"async"),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("consultingList",t.consultingList)("consultingItem",L.jc(2,6,t.selectedConsultingItem$)),L.Cb(3),L.pc("consultingItem",L.jc(5,8,t.selectedConsultingItem$)),L.Cb(3),L.pc("userInfo",L.jc(8,10,t.userInfo$))("consultingItem",L.jc(9,12,t.selectedConsultingItem$))("consultingStatusList",L.jc(10,14,t.consultingStatusList$)))},directives:[fe,Re,Te],pipes:[k.b],encapsulation:2,changeDetection:0}),e})();var et=n("bOdf"),tt=n("zp1y"),nt=n("IzEk"),it=n("lJxs");let ot=(()=>{class e{constructor(e,t,n){this._actions$=e,this._apiService=t,this._store$=n,this.loadConsultingStatusCodeListAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(o.loadConsultingStatusCodeListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.consultingStatusList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>o.loadConsultingStatusCodeListSuccessAction({dataList:e})),Object(ke.a)(e=>Object(ve.a)(o.loadConsultingStatusCodeListFailureAction({error:e})))):Object(ve.a)(o.loadConsultingStatusCodeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.consultingStatusList$=n.pipe(Object(P.u)(Ke))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(O.a),L.bc(je),L.bc(P.h))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac}),e})(),at=(()=>{class e{}return e.\u0275mod=L.Ob({type:e}),e.\u0275inj=L.Nb({factory:function(t){return new(t||e)},imports:[[k.c,I.m,I.w,T.a,x.a,A.a,W.a,F.a,R.a,q.a,P.j.forFeature("reservationConsulting",qe),O.b.forFeature([ot])]]}),e})();var ct=n("xoAz"),st=n("wPo9"),rt=n("+NQf"),lt=n("lxvf"),dt=n("tyNb");function bt(e,t){if(1&e&&(L.Wb(0,"tr"),L.Wb(1,"td",9),L.Pc(2),L.Vb(),L.Wb(3,"td",9),L.Pc(4),L.Vb(),L.Wb(5,"td",9),L.Pc(6),L.Vb(),L.Wb(7,"td",9),L.Pc(8),L.Vb(),L.Vb()),2&e){const e=t.$implicit;L.Cb(2),L.Qc(null==e?null:e.changeItemName),L.Cb(2),L.Sc("",null==e?null:e.oldValueDetail," \u2192 ",null==e?null:e.newValueDetail,""),L.Cb(2),L.Qc(null==e?null:e.changeActionName),L.Cb(2),L.Qc(null==e?null:e.changeDatetime)}}function ut(e,t){if(1&e&&(L.Ub(0),L.Nc(1,bt,9,5,"tr",8),L.Tb()),2&e){const e=L.hc();L.Cb(1),L.pc("ngForOf",e.bookingLogList)}}function pt(e,t){1&e&&(L.Wb(0,"tr"),L.Wb(1,"td",10),L.Pc(2,"-"),L.Vb(),L.Vb())}let mt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-history"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",bookingLogList:"bookingLogList"},decls:27,vars:2,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title"],[1,"table","table-bordered","table-responsive"],["width","160px"],["scope","col",1,"align-c"],[4,"ngIf","ngIfElse"],["emptyHistoryTpl",""],[4,"ngFor","ngForOf"],[1,"align-c"],["colspan","4",1,"align-c"]],template:function(e,t){if(1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"p",2),L.Pc(3,"History"),L.Vb(),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," History "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col",4),L.Rb(10,"col"),L.Rb(11,"col",4),L.Rb(12,"col",4),L.Vb(),L.Wb(13,"thead"),L.Wb(14,"tr"),L.Wb(15,"th",5),L.Pc(16,"Type"),L.Vb(),L.Wb(17,"th",5),L.Pc(18,"Detail"),L.Vb(),L.Wb(19,"th",5),L.Pc(20,"User"),L.Vb(),L.Wb(21,"th",5),L.Pc(22,"Updated Date"),L.Vb(),L.Vb(),L.Vb(),L.Wb(23,"tbody"),L.Nc(24,ut,2,1,"ng-container",6),L.Nc(25,pt,3,0,"ng-template",null,7,L.Oc),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.Ec(26);L.Cb(24),L.pc("ngIf",(null==t.bookingLogList?null:t.bookingLogList.length)>0)("ngIfElse",e)}},directives:[k.o,k.n],encapsulation:2,changeDetection:0}),e})();const ht=[{path:"",component:mt,data:{title:"\uc774\ub825\uc870\ud68c"}}];let gt=(()=>{class e{}return e.\u0275mod=L.Ob({type:e}),e.\u0275inj=L.Nb({factory:function(t){return new(t||e)},imports:[[dt.f.forChild(ht)],dt.f]}),e})();const ft=Object(P.o)("[BookingHistory] get booking history list success",Object(P.t)()),vt=Object(P.o)("[BookingHistory] get booking history list failure",Object(P.t)()),Ct=Object(P.o)("[BookingHistory] load booking history list",Object(P.t)()),yt=Object(P.q)({loading:!1,historyList:[]},Object(P.s)(a.loadBookingHistoryList,e=>Object.assign(Object.assign({},e),{loading:!0})),Object(P.s)(a.getBookingHistoryListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{loading:!1,historyList:t})),Object(P.s)(a.getBookingHistoryListFailure,e=>Object.assign(Object.assign({},e),{loading:!1})));function kt(e,t){return Object(P.m)({main:yt})(e,t)}const It=Object(P.p)("reservationHistory"),Ot=Object(P.r)(It,e=>e.main);Object(P.r)(Ot,e=>e.historyList);let Pt=(()=>{class e{constructor(e){this.api=e}}return e.\u0275fac=function(t){return new(t||e)(L.bc(z.a))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),jt=(()=>{class e{constructor(e,t){this.actions$=e,this.service=t}}return e.\u0275fac=function(t){return new(t||e)(L.bc(O.a),L.bc(Pt))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac}),e})(),Vt=(()=>{class e{}return e.\u0275mod=L.Ob({type:e}),e.\u0275inj=L.Nb({factory:function(t){return new(t||e)},imports:[[k.c,I.m,I.w,j.m,ct.a,st.a,V.a,T.a,rt.a,A.a,W.a,R.a,Y.a,F.a,S.a,lt.a,q.a,gt,P.j.forFeature("reservationHistory",kt),O.b.forFeature([jt])]]}),e})();const At=Object(P.o)("[ReservationHistory] set memo list",Object(P.t)()),Wt=Object(P.o)("[ReservationHistory] change memo filter",Object(P.t)()),Rt=Object(P.o)("[ReservationHistory] set clicked memo",Object(P.t)()),Ft=Object(P.o)("[ReservationHistory] open email modal",Object(P.t)()),St=Object(P.o)("[ReservationHistory] close email modal"),Tt=Object(P.o)("[ReservationHistory] submit email",Object(P.t)()),Nt=Object(P.o)("[ReservationHistory] submit email success"),Et=Object(P.o)("[ReservationHistory] submit email failure"),{API_URL:Mt}=Ie.a,Dt={submitEmail:`${Mt}/common/ums/send`},Lt=Object(P.q)({memoList:null,checkedFilterList:["MMT01","MMT02","MMT03","MMT04","MMT05"],clickedMemo:null,clickedEmail:null,isOpenEmailModal:!1},Object(P.s)(c.setMemoListAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{memoList:Q.cloneDeep(t)})),Object(P.s)(c.changeFilterAction,(e,{filterList:t})=>Object.assign(Object.assign({},e),{checkedFilterList:t})),Object(P.s)(c.setClickedMemoAction,(e,{clickedMemo:t})=>Object.assign(Object.assign({},e),{clickedMemo:Q.cloneDeep(t)})),Object(P.s)(c.openEmailModalAction,(e,{clickedEmail:t})=>Object.assign(Object.assign({},e),{clickedEmail:Q.cloneDeep(t),isOpenEmailModal:!0})),Object(P.s)(c.closeEmailModalAction,e=>Object.assign(Object.assign({},e),{clickedEmail:null,isOpenEmailModal:!1})));function _t(e,t){return Object(P.m)({main:Lt})(e,t)}const $t=Object(P.p)("reservationMemo"),Bt=Object(P.p)("reservation"),wt=Object(P.r)($t,e=>e.main),xt=Object(P.r)(Bt,e=>e.reservationRoot.bookingItemCode),Yt=Object(P.r)(wt,e=>e.memoList),Ht=Object(P.r)(wt,e=>e.checkedFilterList),qt=Object(P.r)(Yt,Ht,(e,t)=>e?t?e.filter(e=>t.indexOf(e.memoTypeCode)>-1):e:[]),Ut=Object(P.r)(wt,e=>e.clickedMemo),Qt=Object(P.r)(wt,e=>e.clickedEmail),Gt=Object(P.r)(wt,e=>e.isOpenEmailModal);var Kt=n("pb6r");function zt(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"app-checkbox",11),L.fc("ngModelChange",(function(t){return L.Fc(e),L.hc().filterList=t}))("onChange",(function(){return L.Fc(e),L.hc().onChangeFilter()})),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,n=L.hc();L.Cb(1),L.pc("value",e.value)("ngModel",n.filterList)("label",e.label)}}function Xt(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"a",17),L.fc("click",(function(){L.Fc(e);const t=L.hc().$implicit;return L.hc(2).onClickMemo(t)})),L.Pc(2),L.Vb(),L.Tb()}if(2&e){const e=L.hc().$implicit;L.Cb(2),L.Qc(e.memoTitle)}}function Zt(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"a",17),L.fc("click",(function(){L.Fc(e);const t=L.hc().$implicit;return L.hc(2).onClickMemo(t)})),L.Pc(2),L.Vb(),L.Tb()}if(2&e){const e=L.hc().$implicit;L.Cb(2),L.Qc(e.memoTitle)}}function Jt(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"a",17),L.fc("click",(function(){L.Fc(e);const t=L.hc().$implicit;return L.hc(2).onClickMemo(t)})),L.Pc(2),L.Vb(),L.Tb()}if(2&e){const e=L.hc().$implicit,t=L.hc(2);L.Cb(2),L.Qc(t.showFifteenCharactersOnly(e.memoDetail))}}function en(e,t){1&e&&(L.Ub(0),L.Wb(1,"span"),L.Pc(2,"Y"),L.Vb(),L.Tb())}function tn(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"N"),L.Vb())}function nn(e,t){if(1&e&&(L.Wb(0,"tr"),L.Wb(1,"td",12),L.Pc(2),L.Vb(),L.Wb(3,"td"),L.Ub(4,13),L.Nc(5,Xt,3,1,"ng-container",14),L.Nc(6,Zt,3,1,"ng-container",14),L.Nc(7,Jt,3,1,"ng-container",15),L.Tb(),L.Vb(),L.Wb(8,"td",12),L.Nc(9,en,3,0,"ng-container",9),L.Nc(10,tn,2,0,"ng-template",null,16,L.Oc),L.Vb(),L.Wb(12,"td",12),L.Pc(13),L.Vb(),L.Wb(14,"td",12),L.Pc(15),L.Vb(),L.Wb(16,"td",12),L.Pc(17),L.Vb(),L.Vb()),2&e){const e=t.$implicit,n=L.Ec(11);L.Cb(2),L.Qc(e.memoTypeName),L.Cb(2),L.pc("ngSwitch",e.memoTypeCode),L.Cb(1),L.pc("ngSwitchCase","MMT02"),L.Cb(1),L.pc("ngSwitchCase","MMT05"),L.Cb(3),L.pc("ngIf",e.alwaysDisplayYn)("ngIfElse",n),L.Cb(4),L.Qc(e.lastUpdateName),L.Cb(2),L.Qc(e.firstInsertDatetime),L.Cb(2),L.Qc(e.receiverEmailAddress||e.receiverPhoneNo)}}function on(e,t){if(1&e&&(L.Ub(0),L.Nc(1,nn,18,9,"tr",4),L.Tb()),2&e){const e=L.hc();L.Cb(1),L.pc("ngForOf",e.memoList)}}function an(e,t){1&e&&(L.Wb(0,"tr"),L.Wb(1,"td",18),L.Pc(2,"-"),L.Vb(),L.Vb())}let cn=(()=>{class e{constructor(){this.changeFilterEvent=new L.n,this.clickMemoEvent=new L.n,this.clickEmailEvent=new L.n}get filterList(){return this._filterList}set filterList(e){this._filterList=Q.cloneDeep(e)}ngOnInit(){this.filterOptions=[{value:"MMT04",label:"Remark"},{value:"MMT01",label:"SMS"},{value:"MMT02",label:"Email"},{value:"MMT05",label:"Fax"}]}onChangeFilter(){this.changeFilterEvent.emit(this.filterList)}getMemoTitle(e){if(!Q.isNil(e))return e.replace(/&nbsp;/g,"")}hasFile(e){var t;if(!e)return!1;const{attachedFileName1:n,attachedFileName2:i,attachedFileName3:o}=e;return(null===(t=e.memoDetail)||void 0===t?void 0:t.includes("<img"))||!Q.isNil(n||i||o)}onClickMemo(e){switch(e.memoTypeCode){case"MMT01":case"MMT04":this.clickMemoEvent.emit(e);break;case"MMT02":case"MMT03":case"MMT05":default:this.clickEmailEvent.emit(e)}}showFifteenCharactersOnly(e){return e?e.length>15?e.substring(0,15)+"...":e:""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-memo-history-timeline"]],inputs:{memoList:"memoList",filterList:"filterList"},outputs:{changeFilterEvent:"changeFilterEvent",clickMemoEvent:"clickMemoEvent",clickEmailEvent:"clickEmailEvent"},decls:34,vars:3,consts:[[1,"page-item-header"],[1,"title"],[1,"control"],[1,"form-group"],[4,"ngFor","ngForOf"],[1,"table","table-bordered","table-responsive","table-fixed",2,"max-height","460px","overflow","auto"],["width","160px"],["width","100px"],["scope","col",1,"align-c"],[4,"ngIf","ngIfElse"],["emptyMemoTpl",""],[3,"value","ngModel","label","ngModelChange","onChange"],[1,"align-c"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["noFile",""],[1,"text-underline","text-over","dp-block",3,"click"],["colspan","5",1,"align-c"]],template:function(e,t){if(1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Admin Remark List"),L.Vb(),L.Wb(3,"div",2),L.Wb(4,"div",3),L.Nc(5,zt,2,3,"ng-container",4),L.Vb(),L.Vb(),L.Vb(),L.Wb(6,"div",5),L.Wb(7,"table"),L.Wb(8,"caption"),L.Pc(9," Admin Remark List "),L.Vb(),L.Wb(10,"colgroup"),L.Rb(11,"col",6),L.Rb(12,"col"),L.Rb(13,"col",7),L.Rb(14,"col",6),L.Rb(15,"col",6),L.Vb(),L.Wb(16,"thead"),L.Wb(17,"tr"),L.Wb(18,"th",8),L.Pc(19,"Type"),L.Vb(),L.Wb(20,"th",8),L.Pc(21,"Detail"),L.Vb(),L.Wb(22,"th",8),L.Pc(23,"Attach"),L.Vb(),L.Wb(24,"th",8),L.Pc(25,"User"),L.Vb(),L.Wb(26,"th",8),L.Pc(27,"Date"),L.Vb(),L.Wb(28,"th",8),L.Pc(29,"Receiver"),L.Vb(),L.Vb(),L.Vb(),L.Wb(30,"tbody"),L.Nc(31,on,2,1,"ng-container",9),L.Nc(32,an,3,0,"ng-template",null,10,L.Oc),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.Ec(33);L.Cb(5),L.pc("ngForOf",t.filterOptions),L.Cb(26),L.pc("ngIf",(null==t.memoList?null:t.memoList.length)>0)("ngIfElse",e)}},directives:[k.n,k.o,Kt.a,I.r,I.u,k.q,k.r,k.s],encapsulation:2,changeDetection:0}),e})(),sn=(()=>{class e{constructor(e){this.api=e}resendEmail(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(Dt.submitEmail,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(z.a))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var rn=n("6UzV");let ln=(()=>{class e{constructor(e){this.fb=e,this.generateMemoPutForm=()=>this.fb.group({bookingItemCode:[null],memoSeq:[null],memoDetail:[null,[I.z.required]],alwaysDisplayYn:[null]}),this.initMemoPutForm=()=>({bookingItemCode:null,memoSeq:null,memoDetail:null,alwaysDisplayYn:!0}),this.initMemoCondition=()=>({bookingItemCode:null,memoSeq:null,memoDetail:null,alwaysDisplayYn:null}),this.genereateEmailPostForm=()=>this.fb.group({receiverName:[null,[I.z.required]],receiverEmailAddress:[null,[rn.a.email(),I.z.required]],ccReceiverName:[null],ccEmailAddress:[null],bccReceiverName:[null],bccEmailAddress:[null],senderName:[null,[I.z.required]],senderEmailAddress:[null,[rn.a.email(),I.z.required]],memoTitle:[null],emailComment:[null]}),this.initEmailPostForm=()=>({receiverName:null,receiverEmailAddress:null,ccReceiverName:null,ccEmailAddress:null,bccReceiverName:null,bccEmailAddress:null,senderName:null,senderEmailAddress:null,memoTitle:null,emailComment:null})}}return e.\u0275fac=function(t){return new(t||e)(L.bc(I.f))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function dn(e,t){if(1&e&&(L.Wb(0,"span"),L.Pc(1),L.Vb()),2&e){const e=L.hc();L.Cb(1),L.Rc("Last Update Date: ",null==e.memoInfo?null:e.memoInfo.lastUpdateDatetime,"")}}let bn=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.addMemoEvent=new L.n,this.saveMemoEvent=new L.n,this.putForm=e.generateMemoPutForm(),this.putFormData=e.initMemoPutForm()}get memoInfo(){return this._memoInfo}set memoInfo(e){this._memoInfo=e,this.putFormData=this._setFormData(e),this.modifiableYn?this.putForm.get("memoDetail").enable():this.putForm.get("memoDetail").disable(),(null==e?void 0:e.memoDetail)||this.putForm.get("memoDetail").setValue(null)}get modifiableYn(){return Q.isEmpty(this.memoInfo)||"MMT04"===this.memoInfo.memoTypeCode&&this.memoInfo.lastUpdateUno===this.userInfo.userNo}ngOnInit(){}ngOnDestroy(){}onAdd(){this.addMemoEvent.emit()}onSubmit(){this.modifiableYn&&(this.putForm.invalid?this.alertService.alert("Please enter the contents."):this.saveMemoEvent.emit(this._setPutCondition()))}openFile(e){Q.isNil(e)||window.open(`${e}`,"_blank","height=950,width=1600,left=0,top=0,toolbar=no,menubar=no,scrollbars=no,resizable=yes,location=no,status=no")}_setFormData(e){var t;const n=Object.assign({},this._dataService.initMemoPutForm(),{bookingItemCode:this.bookingItemCode}),i=null===(t=null==e?void 0:e.memoDetail)||void 0===t?void 0:t.replace(/\\/g,"");return console.log(e,i,"info"),e?Object.assign({},n,Q.pick(e,Object.keys(n)),{memoDetail:i}):Object.assign({},n,Q.pick(e,Object.keys(n)))}_setPutCondition(){const e=this._dataService.initMemoCondition(),t=this.putForm.get("memoDetail").value,n=Object.assign(Object.assign({},this.putForm.value),{memoDetail:t}),i=Object.assign({},Q.pick(n,Object.keys(e)));return Q.omitBy(i,Q.isNil)}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(ln),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-memo-form"]],inputs:{bookingItemCode:"bookingItemCode",userInfo:"userInfo",memoInfo:"memoInfo"},outputs:{addMemoEvent:"addMemoEvent",saveMemoEvent:"saveMemoEvent"},decls:29,vars:7,consts:[[1,"page-item-header"],[1,"title"],[1,"control"],["data-function","2000123",1,"btn","btn-outline-dark","sm",3,"click"],["data-function","2000124",1,"btn","btn-outline-dark","sm",3,"disabled","click"],[3,"formGroup","connectForm"],[1,"table","table-bordered","table-fixed"],[1,"td-bg"],["styleHeight","200px","formControlName","memoDetail"],[1,"justify-content-end","align-r","color-blue","text-underline","mt10"],[3,"click"],[1,"button-area","align-r","color-dark-color3","font-size-xs","mt10"],[4,"ngIf"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Detail"),L.Vb(),L.Wb(3,"div",2),L.Wb(4,"button",3),L.fc("click",(function(){return t.onAdd()})),L.Pc(5,"New"),L.Vb(),L.Wb(6,"button",4),L.fc("click",(function(){return t.onSubmit()})),L.Pc(7,"Save"),L.Vb(),L.Vb(),L.Vb(),L.Wb(8,"form",5),L.Wb(9,"div",6),L.Wb(10,"table"),L.Wb(11,"caption"),L.Pc(12," Detail "),L.Vb(),L.Wb(13,"tbody"),L.Wb(14,"tr"),L.Wb(15,"td",7),L.Rb(16,"app-editor",8),L.Wb(17,"div",9),L.Wb(18,"p"),L.Wb(19,"a",10),L.fc("click",(function(){return t.openFile(null==t.memoInfo?null:t.memoInfo.attachedFileUrl1)})),L.Pc(20),L.Vb(),L.Vb(),L.Wb(21,"p"),L.Wb(22,"a",10),L.fc("click",(function(){return t.openFile(null==t.memoInfo?null:t.memoInfo.attachedFileUrl2)})),L.Pc(23),L.Vb(),L.Vb(),L.Wb(24,"p"),L.Wb(25,"a",10),L.fc("click",(function(){return t.openFile(null==t.memoInfo?null:t.memoInfo.attachedFileUrl3)})),L.Pc(26),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(27,"div",11),L.Nc(28,dn,2,1,"span",12),L.Vb(),L.Vb()),2&e&&(L.Cb(6),L.pc("disabled",!t.modifiableYn),L.Cb(2),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(12),L.Qc(null==t.memoInfo?null:t.memoInfo.attachedFileName1),L.Cb(3),L.Qc(null==t.memoInfo?null:t.memoInfo.attachedFileName2),L.Cb(3),L.Qc(null==t.memoInfo?null:t.memoInfo.attachedFileName3),L.Cb(2),L.pc("ngIf",null==t.memoInfo?null:t.memoInfo.lastUpdateDatetime))},directives:[I.B,I.s,I.k,J.a,We.a,I.r,I.i,k.o],encapsulation:2,changeDetection:0}),e})();var un=n("kDLv"),pn=n("jhN1");function mn(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"th",4),L.Wb(3,"sup"),L.Pc(4,"Receiver Name"),L.Vb(),L.Vb(),L.Wb(5,"td"),L.Rb(6,"app-input-text",9),L.Vb(),L.Vb(),L.Wb(7,"tr"),L.Wb(8,"th",4),L.Wb(9,"sup"),L.Pc(10,"Receiver Email Address"),L.Vb(),L.Vb(),L.Wb(11,"td"),L.Rb(12,"app-input-text",10),L.Vb(),L.Vb(),L.Wb(13,"tr"),L.Wb(14,"th",4),L.Pc(15,"CC Receiver Name"),L.Vb(),L.Wb(16,"td"),L.Rb(17,"app-input-text",11),L.Vb(),L.Vb(),L.Wb(18,"tr"),L.Wb(19,"th",4),L.Pc(20,"CC Receiver Email Address"),L.Vb(),L.Wb(21,"td"),L.Rb(22,"app-input-text",12),L.Vb(),L.Vb(),L.Wb(23,"tr"),L.Wb(24,"th",4),L.Pc(25,"BCC Receiver Name"),L.Vb(),L.Wb(26,"td"),L.Rb(27,"app-input-text",13),L.Vb(),L.Vb(),L.Wb(28,"tr"),L.Wb(29,"th",4),L.Pc(30,"BCC Receiver Email Address"),L.Vb(),L.Wb(31,"td"),L.Rb(32,"app-input-text",14),L.Vb(),L.Vb(),L.Wb(33,"tr"),L.Wb(34,"th",4),L.Pc(35,"Sender Name"),L.Vb(),L.Wb(36,"td"),L.Rb(37,"app-input-text",15),L.Vb(),L.Vb(),L.Wb(38,"tr"),L.Wb(39,"th",4),L.Wb(40,"sup"),L.Pc(41,"Sender Email Address"),L.Vb(),L.Vb(),L.Wb(42,"td"),L.Rb(43,"app-input-text",16),L.Vb(),L.Vb(),L.Tb()),2&e){const e=L.hc();L.Cb(6),L.pc("isInvalid",e.checkIsInvalid("receiverName")),L.Cb(6),L.pc("isInvalid",e.checkIsInvalid("receiverEmailAddress")),L.Cb(5),L.pc("isInvalid",e.checkIsInvalid("ccReceiverName")),L.Cb(5),L.pc("isInvalid",e.checkIsInvalid("ccEmailAddress")),L.Cb(5),L.pc("isInvalid",e.checkIsInvalid("bccReceiverName")),L.Cb(5),L.pc("isInvalid",e.checkIsInvalid("bccEmailAddress")),L.Cb(5),L.pc("isInvalid",e.checkIsInvalid("senderName")),L.Cb(6),L.pc("isInvalid",e.checkIsInvalid("senderEmailAddress"))}}function hn(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"th",4),L.Pc(3,"Email Comment"),L.Vb(),L.Wb(4,"td"),L.Rb(5,"app-input-text",17),L.Vb(),L.Vb(),L.Tb()),2&e){const e=L.hc();L.Cb(5),L.pc("isInvalid",e.checkIsInvalid("emailComment"))}}function gn(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"div",18),L.Wb(2,"button",19),L.Pc(3,"Resend"),L.Vb(),L.Wb(4,"button",20),L.fc("click",(function(){return L.Fc(e),L.hc().onClose()})),L.Pc(5,"Close"),L.Vb(),L.Vb(),L.Tb()}}let fn=(()=>{class e{constructor(e,t,n){this._dataService=e,this._domSanitizer=t,this._alertService=n,this.submitEvent=new L.n,this.closeEvent=new L.n,this._checkValid=!1,this.postForm=this._dataService.genereateEmailPostForm()}get emailInfo(){return this._emailInfo}set emailInfo(e){this._emailInfo=e,this.postFormData=this._setPutFormData(e)}ngOnInit(){this.emailInfo?"MMT02"===this.emailInfo.memoTypeCode||"MMT05"===this.emailInfo.memoTypeCode?(this.emailTitle=this._getEmailTitle(),this.emailContent=this._getEmailContentHTML()):console.error("emailInfo is not email type",this.emailInfo.memoTypeCode):console.error("emailInfo is not defined",this.emailInfo)}onClose(){this.closeEvent.emit()}onSubmit(){if(this.postForm.invalid)return this._checkValid=!0,void Object.keys(this.postForm.controls).forEach(e=>{this.postForm.controls[e].invalid&&console.error(e+" is invalid")});const e=this._setPostFormCondition(this.postForm.value);e&&(this.submitEvent.emit(e),this._checkValid=!1)}checkIsInvalid(e){return this._checkValid&&this.postForm.get(e)&&this.postForm.get(e).invalid}_getEmailTitle(){const{memoTitle:e}=this.emailInfo;return e?e.replace(/\\/g,""):""}_getEmailContentHTML(){const{memoDetail:e}=this.emailInfo;return e?this._domSanitizer.bypassSecurityTrustHtml(e.replace(/\\/g,"").replace(/>(\s+)</g,"><")):""}_setPutFormData(e){const t=this._dataService.initEmailPostForm();return Object.assign({},Q.pick(e,Object.keys(t)))}_setPostFormCondition(e){const{receiverName:t,receiverEmailAddress:n,ccReceiverName:i,ccEmailAddress:o,bccReceiverName:a,bccEmailAddress:c,senderName:s,senderEmailAddress:r,memoTitle:l,emailComment:d}=e,b=this._getReceiverListByMapping(t,n,"Receiver"),u=this._getReceiverListByMapping(i,o,"CC Receiver"),p=this._getReceiverListByMapping(a,c,"BCC Receiver");if(!b||!u||!p)return null;const m=this.bookingItemCode.substring(0,this.bookingItemCode.length-3),h=this._getItemCategoryCodeByBookingItemCode(this.bookingItemCode);if(!h)return null;let g={sender:{emailAddress:r,name:s,userNo:this.userNo},receivers:b,ccReceivers:u,bccReceivers:p,smsSendYn:!1,emailSendYn:!0,emailTitle:l,emailDetail:this.emailInfo.memoDetail,bookingCode:m,bookingItemCode:this.bookingItemCode,itemCategoryCode:h,sendTypeCode:"UMH12"};return d&&d.length>0&&(g=Object.assign({},g,{emailComment:d})),Q.omitBy(g,this.isEmptyArray)}_getReceiverListByMapping(e,t,n){if(!e&&t||e&&!t)return console.error("names and emails length is not same",n),this._alertService.alert("The number of "+n+"'s emails and names is different. Please match the number of emails and names."),null;if(!e&&!t)return[];const i=e.split(";"),o=t.split(";");return i.length!==o.length?(console.error("names and emails length is not same",n,i,o),this._alertService.alert("The number of "+n+"'s emails and names is different. Please match the number of emails and names."),null):o.some(e=>!this._checkEmail(e))?(console.error("email is invalid",n,o),this._alertService.alert("The email format is incorrect. Please check the email format."),null):i.map((e,t)=>({name:e,emailAddress:o[t]}))}_checkEmail(e){return new RegExp(/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]+$/).test(e)}_getItemCategoryCodeByBookingItemCode(e){const t=e.substring(e.length-3,e.length-2);switch(t){case"F":return"IC01";case"H":return"IC02";case"C":return"IC03";case"A":return"IC04";default:return console.error("Failed to parse itemCategory Character from bookingItemCode",t,e),this._alertService.alert("Error!: Call Developer (Failed to parse itemCategory Character from bookingItemCode)"),null}}isEmptyArray(e){return"object"==typeof e&&0===e.length}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(ln),L.Qb(pn.b),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-memo-email-form"]],inputs:{emailInfo:"emailInfo",userNo:"userNo",bookingItemCode:"bookingItemCode"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:28,vars:7,consts:[[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered","table-responsive","table-fixed"],["width","220px"],[4,"ngIf"],["scope","row",1,"th-bg"],["formControlName","memoTitle",3,"isInvalid"],[1,"table","table-bordered","table-fixed","mt20"],["colspan","2",2,"padding","25px"],[3,"innerHTML"],["formControlName","receiverName",3,"isInvalid"],["formControlName","receiverEmailAddress",3,"isInvalid"],["formControlName","ccReceiverName",3,"isInvalid"],["formControlName","ccEmailAddress",3,"isInvalid"],["formControlName","bccReceiverName",3,"isInvalid"],["formControlName","bccEmailAddress",3,"isInvalid"],["formControlName","senderName",3,"isInvalid"],["formControlName","senderEmailAddress",3,"isInvalid"],["formControlName","emailComment",3,"isInvalid"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(e,t){1&e&&(L.Wb(0,"form",0),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(1,"div",1),L.Wb(2,"table"),L.Wb(3,"caption"),L.Pc(4,"Put Form"),L.Vb(),L.Wb(5,"colgroup"),L.Rb(6,"col",2),L.Rb(7,"col"),L.Vb(),L.Wb(8,"tbody"),L.Nc(9,mn,44,8,"ng-container",3),L.Wb(10,"tr"),L.Wb(11,"th",4),L.Wb(12,"sup"),L.Pc(13,"UMS Title"),L.Vb(),L.Vb(),L.Wb(14,"td"),L.Rb(15,"app-input-text",5),L.Vb(),L.Vb(),L.Nc(16,hn,6,1,"ng-container",3),L.Vb(),L.Vb(),L.Vb(),L.Nc(17,gn,6,0,"ng-container",3),L.Wb(18,"div",6),L.Wb(19,"table"),L.Wb(20,"caption"),L.Pc(21," \uc774\uba54\uc77c \ubcf4\uc5ec\uc8fc\uae30 "),L.Vb(),L.Wb(22,"colgroup"),L.Rb(23,"col"),L.Vb(),L.Wb(24,"tbody"),L.Wb(25,"tr"),L.Wb(26,"td",7),L.Rb(27,"div",8),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.pc("formGroup",t.postForm)("connectForm",t.postFormData),L.Cb(9),L.pc("ngIf","MMT02"===t.emailInfo.memoTypeCode),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("memoTitle")),L.Cb(1),L.pc("ngIf","MMT02"===t.emailInfo.memoTypeCode),L.Cb(1),L.pc("ngIf","MMT02"===t.emailInfo.memoTypeCode),L.Cb(10),L.pc("innerHTML",t.emailContent,L.Gc))},directives:[I.B,I.s,I.k,J.a,k.o,ee.a,I.r,I.i],encapsulation:2}),e})();function vn(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-memo-email-form",5),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().submitEmailEventHandler(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().closeEmailModalEventHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("userNo",L.jc(1,3,e.userInfo$).userNo)("bookingItemCode",L.jc(2,5,e.bookingItemCode$))("emailInfo",L.jc(3,7,e.clickedEmail$))}}let Cn=(()=>{class e{constructor(e,t){this.store=e,this._authStore=t,this.saveMemoEvent=new L.n,this.filteredMemoList$=e.pipe(Object(P.u)(qt)),this.checkedFilterList$=e.pipe(Object(P.u)(Ht)),this.clickedMemo$=e.pipe(Object(P.u)(Ut)),this.userInfo$=t.pipe(Object(P.u)(Xe.r)),this.clickedEmail$=e.pipe(Object(P.u)(Qt)),this.isOpenEmailModal$=e.pipe(Object(P.u)(Gt)),this.bookingItemCode$=e.pipe(Object(P.u)(xt))}get memoList(){return this._memoList}set memoList(e){this._memoList=e,this._setMemoList()}ngOnInit(){}ngOnDestroy(){}changeFilterHandler(e){this.store.dispatch(c.changeFilterAction({filterList:e}))}clickMemoHandler(e){this.store.dispatch(c.setClickedMemoAction({clickedMemo:e}))}addMemoHandler(){this.clickMemoHandler({})}saveMemoHandler(e){this.saveMemoEvent.emit(e)}clickEmailHandler(e){this.store.dispatch(c.openEmailModalAction({clickedEmail:e}))}closeEmailModalEventHandler(){this.store.dispatch(c.closeEmailModalAction())}submitEmailEventHandler(e){this.store.dispatch(c.submitEmailAction({condition:e}))}_setMemoList(){this.store.dispatch(c.setMemoListAction({dataList:this._memoList})),this.clickMemoHandler({})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h),L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-memo"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",bookingItemCode:"bookingItemCode",memoList:"memoList"},outputs:{saveMemoEvent:"saveMemoEvent"},decls:12,vars:20,consts:[[1,"page-item"],[3,"memoList","filterList","changeFilterEvent","clickMemoEvent","clickEmailEvent"],[3,"bookingItemCode","userInfo","memoInfo","addMemoEvent","saveMemoEvent"],["header","Email","modalContentClass","pd-all","modalSize","sm",3,"visible","modal","visibleChange"],[3,"userNo","bookingItemCode","emailInfo","submitEvent","closeEvent",4,"ngIf"],[3,"userNo","bookingItemCode","emailInfo","submitEvent","closeEvent"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"app-reservation-memo-history-timeline",1),L.fc("changeFilterEvent",(function(e){return t.changeFilterHandler(e)}))("clickMemoEvent",(function(e){return t.clickMemoHandler(e)}))("clickEmailEvent",(function(e){return t.clickEmailHandler(e)})),L.ic(2,"async"),L.ic(3,"async"),L.Vb(),L.Vb(),L.Wb(4,"div",0),L.Wb(5,"app-reservation-memo-form",2),L.fc("addMemoEvent",(function(){return t.addMemoHandler()}))("saveMemoEvent",(function(e){return t.saveMemoHandler(e)})),L.ic(6,"async"),L.ic(7,"async"),L.Vb(),L.Vb(),L.Wb(8,"app-dialog",3),L.fc("visibleChange",(function(){return t.closeEmailModalEventHandler()})),L.ic(9,"async"),L.Nc(10,vn,4,9,"app-reservation-memo-email-form",4),L.ic(11,"async"),L.Vb()),2&e&&(L.Cb(1),L.pc("memoList",L.jc(2,8,t.filteredMemoList$))("filterList",L.jc(3,10,t.checkedFilterList$)),L.Cb(4),L.pc("bookingItemCode",t.bookingItemCode)("userInfo",L.jc(6,12,t.userInfo$))("memoInfo",L.jc(7,14,t.clickedMemo$)),L.Cb(3),L.pc("visible",L.jc(9,16,t.isOpenEmailModal$))("modal",!0),L.Cb(2),L.pc("ngIf",L.jc(11,18,t.isOpenEmailModal$)))},directives:[cn,bn,un.a,k.o,fn],pipes:[k.b],encapsulation:2,changeDetection:0}),e})();const yn=[{path:"",component:Cn,data:{title:"\uad00\ub9ac\uc790 \uba54\ubaa8"}}];let kn=(()=>{class e{}return e.\u0275mod=L.Ob({type:e}),e.\u0275inj=L.Nb({factory:function(t){return new(t||e)},imports:[[dt.f.forChild(yn)],dt.f]}),e})();var In=n("vkgz"),On=n("Xb6A");let Pn=(()=>{class e{constructor(e,t,n,i,o){this._actions=e,this._service=t,this._store=n,this._alertService=i,this._errorService=o,this.submitEmail$=Object(O.c)(()=>this._actions.pipe(Object(O.d)(c.submitEmailAction),Object(ye.a)(({condition:e})=>this._service.resendEmail(e).pipe(Object(it.a)(e=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1})))),Object(In.a)(({succeedYn:e})=>{if(e){const e="Successfully sent email",t=[c.submitEmailSuccessAction(),c.closeEmailModalAction()];this._runPage(e,t)}else{const e="Failed to send email",t=[c.submitEmailFailureAction()];this._catchErr(null,e,t)}})),{dispatch:!1})}_runPage(e,t){this._alertService.alert({message:e,accept:(null==t?void 0:t.length)>0?()=>{t.forEach(e=>{this._store.dispatch(e)})}:()=>{}})}_catchErr(e,t,n){const i=this._errorService.errorHandler(e,t);Q.isNil(i)||(Q.isNil(i.accept)&&(i.accept=(null==n?void 0:n.length)>0?()=>{n.forEach(e=>{this._store.dispatch(e)})}:()=>{}),this._alertService.alert(i))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(O.a),L.bc(sn),L.bc(P.h),L.bc(Ae.a),L.bc(On.a))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac}),e})(),jn=(()=>{class e{}return e.\u0275mod=L.Ob({type:e}),e.\u0275inj=L.Nb({factory:function(t){return new(t||e)},imports:[[k.c,I.m,I.w,V.a,T.a,x.a,W.a,R.a,Y.a,q.a,kn,P.j.forFeature("reservationMemo",_t),O.b.forFeature([Pn])]]}),e})();var Vn=n("YyVL"),An=n("HxJV"),Wn=n("7ChT");const Rn=Object(P.o)("[ReservationSendEmailTemplate] load email template",Object(P.t)()),Fn=Object(P.o)("[ReservationSendEmailTemplate] get email template success",Object(P.t)()),Sn=Object(P.o)("[ReservationSendEmailTemplate] get email template failure",Object(P.t)()),Tn=Object(P.o)("[ReservationSendEmailTemplate] remove email template"),Nn=Object(P.o)("[ReservationSendEmailTemplate] set email upload info",Object(P.t)()),En=Object(P.o)("[ReservationSendEmailTemplate] remove email upload info"),Mn=Object(P.o)("[ReservationSendEmailTemplate] load send ums",Object(P.t)()),Dn=Object(P.o)("[ReservationSendEmailTemplate] load send ums success"),Ln=Object(P.o)("[ReservationSendEmailTemplate] load send ums failure",Object(P.t)()),_n=Object(P.q)({emailTemplate:null},Object(P.s)(s.getEmailTemplateSuccess,(e,{emailTemplate:t})=>Object.assign(Object.assign({},e),{emailTemplate:t})),Object(P.s)(s.removeEmailTemplate,e=>Object.assign(Object.assign({},e),{emailTemplate:null})));function $n(e,t){return Object(P.m)({main:_n})(e,t)}const Bn=Object(P.p)("reservationSendEmailTemplate"),wn=Object(P.r)(Bn,e=>e.main),xn=Object(P.r)(wn,e=>e.emailTemplate),{API_URL:Yn}=Ie.a,Hn={postUmsSend:`${Yn}/common/ums/send`,postBookingDownload:`${Yn}/user/booking-download`,uploadFile:`${Yn}/admin/image/file/upload/AV/I`,deleteFile:`${Yn}/admin/image/file/upload/AV/D`};let qn=(()=>{class e{constructor(e){this.api=e}getEmailTemplate(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.postText(Hn.postBookingDownload,t).pipe(Object(ye.a)(e=>!1===e.includes("errorMessage")?Object(ve.a)(e):Object(Ce.a)(JSON.parse(e)||"api response error")))}sendUms(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(Hn.postUmsSend,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(z.a))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Un=(()=>{class e{constructor(e){this.fb=e,this.generateReservationSendEmailTemplatePostForm=()=>this.fb.group({receiverName:[null,[I.z.required]],receiverEmailAddress:[null,[rn.a.email(),I.z.required]],ccReceiverName:[null],ccEmailAddress:[null],bccReceiverName:[null],bccEmailAddress:[null],senderName:[null,[I.z.required]],senderEmailAddress:[null,[rn.a.email(),I.z.required]],memoTitle:[null],emailComment:[null]}),this.initReservationSendEmailTemplatePostForm=({memoTitleValue:e})=>({receiverName:null,receiverEmailAddress:null,ccReceiverName:null,ccEmailAddress:null,bccReceiverName:null,bccEmailAddress:null,senderName:null,senderEmailAddress:"cscenter@ohmyhotel.com",memoTitle:e,emailComment:null})}}return e.\u0275fac=function(t){return new(t||e)(L.bc(I.f))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Qn=n("NCYe");let Gn=(()=>{class e{constructor(e,t){this._dataService=e,this._alertService=t,this.sendEmailEvent=new L.n,this.closeEvent=new L.n,this.postForm=e.generateReservationSendEmailTemplatePostForm()}ngOnInit(){this._setPutFormData()}onSubmit(){if(this.postForm.invalid)return this._checkValid=!0,void Object.keys(this.postForm.controls).forEach(e=>{this.postForm.controls[e].invalid&&console.error(e+" is invalid")});const e=this._setPostFormCondition(this.postForm.value);e&&this.sendEmailEvent.emit(e)}checkIsInvalid(e){return this._checkValid&&this.postForm.get(e)&&this.postForm.get(e).invalid}onClose(){this.closeEvent.emit()}_setPutFormData(){this.postFormData=this._dataService.initReservationSendEmailTemplatePostForm({memoTitleValue:this.emailTitle})}_setPostFormCondition(e){const{receiverName:t,receiverEmailAddress:n,ccReceiverName:i,ccEmailAddress:o,bccReceiverName:a,bccEmailAddress:c,senderName:s,senderEmailAddress:r,memoTitle:l,emailComment:d}=e,b=this._getReceiverListByMapping(t,n,"Receiver"),u=this._getReceiverListByMapping(i,o,"CC Receiver"),p=this._getReceiverListByMapping(a,c,"BCC Receiver");if(!b||!u||!p)return null;const m=this.bookingItemCode.substring(0,this.bookingItemCode.length-3),h=this._getItemCategoryCodeByBookingItemCode(this.bookingItemCode);if(!h)return null;let g={sender:{emailAddress:r,name:s,userNo:this.userNo},receivers:b,ccReceivers:u,bccReceivers:p,smsSendYn:!1,emailSendYn:!0,emailTitle:l,emailDetail:this.emailTemplate,bookingCode:m,bookingItemCode:this.bookingItemCode,itemCategoryCode:h};return d&&d.length>0&&(g=Object.assign({},g,{emailComment:d})),Q.omitBy(g,this.isEmptyArray)}_getReceiverListByMapping(e,t,n){if(!e&&t||e&&!t)return console.error("names and emails length is not same",n),this._alertService.alert("The number of "+n+"'s emails and names is different. Please match the number of emails and names."),null;if(!e&&!t)return[];const i=e.split(";"),o=t.split(";");return i.length!==o.length?(console.error("names and emails length is not same",n,i,o),this._alertService.alert("The number of "+n+"'s emails and names is different. Please match the number of emails and names."),null):o.some(e=>!this._checkEmail(e))?(console.error("email is invalid",n,o),this._alertService.alert("The email format is incorrect. Please check the email format."),null):i.map((e,t)=>({name:e,emailAddress:o[t]}))}_checkEmail(e){return new RegExp(/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]+$/).test(e)}_getItemCategoryCodeByBookingItemCode(e){const t=e.substring(e.length-3,e.length-2);switch(t){case"F":return"IC01";case"H":return"IC02";case"C":return"IC03";case"A":return"IC04";default:return console.error("Failed to parse itemCategory Character from bookingItemCode",t,e),this._alertService.alert("Error!: Call Developer (Failed to parse itemCategory Character from bookingItemCode)"),null}}isEmptyArray(e){return"object"==typeof e&&0===e.length}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Un),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-send-email-template-form"]],inputs:{emailTitle:"emailTitle",emailTemplate:"emailTemplate",itemCategoryCode:"itemCategoryCode",bookingItemCode:"bookingItemCode",userNo:"userNo"},outputs:{sendEmailEvent:"sendEmailEvent",closeEvent:"closeEvent"},decls:80,vars:15,consts:[[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered","table-responsive"],["width","30%"],["scope","row",1,"th-bg"],["formControlName","receiverName",3,"isInvalid"],["formControlName","receiverEmailAddress",3,"isInvalid"],["formControlName","ccReceiverName",3,"isInvalid"],["formControlName","ccEmailAddress",3,"isInvalid"],["formControlName","bccReceiverName",3,"isInvalid"],["formControlName","bccEmailAddress",3,"isInvalid"],["formControlName","senderName",3,"isInvalid"],["formControlName","senderEmailAddress",3,"isInvalid"],["formControlName","memoTitle",3,"isInvalid"],["formControlName","emailComment",3,"isInvalid"],[1,"button-area","align-r","mt20","mb20"],["type","submit",1,"btn","btn-light","sm"],[1,"btn","btn-secondary","sm",3,"click"],[1,"table","table-bordered","table-fixed","mt20"],["colspan","2",2,"padding","25px"],[3,"innerHTML"]],template:function(e,t){1&e&&(L.Wb(0,"form",0),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(1,"div",1),L.Wb(2,"table"),L.Wb(3,"caption"),L.Pc(4," Email "),L.Vb(),L.Wb(5,"colgroup"),L.Rb(6,"col",2),L.Rb(7,"col"),L.Vb(),L.Wb(8,"tbody"),L.Wb(9,"tr"),L.Wb(10,"th",3),L.Wb(11,"sup"),L.Pc(12,"Receiver Name"),L.Vb(),L.Vb(),L.Wb(13,"td"),L.Rb(14,"app-input-text",4),L.Vb(),L.Vb(),L.Wb(15,"tr"),L.Wb(16,"th",3),L.Wb(17,"sup"),L.Pc(18,"Receiver Email Address"),L.Vb(),L.Vb(),L.Wb(19,"td"),L.Rb(20,"app-input-text",5),L.Vb(),L.Vb(),L.Wb(21,"tr"),L.Wb(22,"th",3),L.Pc(23,"CC Receiver Name"),L.Vb(),L.Wb(24,"td"),L.Rb(25,"app-input-text",6),L.Vb(),L.Vb(),L.Wb(26,"tr"),L.Wb(27,"th",3),L.Pc(28,"CC Receiver Email Address"),L.Vb(),L.Wb(29,"td"),L.Rb(30,"app-input-text",7),L.Vb(),L.Vb(),L.Wb(31,"tr"),L.Wb(32,"th",3),L.Pc(33,"BCC Receiver Name"),L.Vb(),L.Wb(34,"td"),L.Rb(35,"app-input-text",8),L.Vb(),L.Vb(),L.Wb(36,"tr"),L.Wb(37,"th",3),L.Pc(38,"BCC Receiver Email Address"),L.Vb(),L.Wb(39,"td"),L.Rb(40,"app-input-text",9),L.Vb(),L.Vb(),L.Wb(41,"tr"),L.Wb(42,"th",3),L.Wb(43,"sup"),L.Pc(44,"Sender Name"),L.Vb(),L.Vb(),L.Wb(45,"td"),L.Rb(46,"app-input-text",10),L.Vb(),L.Vb(),L.Wb(47,"tr"),L.Wb(48,"th",3),L.Wb(49,"sup"),L.Pc(50,"Sender Email Address"),L.Vb(),L.Vb(),L.Wb(51,"td"),L.Rb(52,"app-input-text",11),L.Vb(),L.Vb(),L.Wb(53,"tr"),L.Wb(54,"th",3),L.Wb(55,"sup"),L.Pc(56,"UMS Title"),L.Vb(),L.Vb(),L.Wb(57,"td"),L.Rb(58,"app-input-text",12),L.Vb(),L.Vb(),L.Wb(59,"tr"),L.Wb(60,"th",3),L.Pc(61,"Email Comment"),L.Vb(),L.Wb(62,"td"),L.Rb(63,"app-input-text",13),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(64,"div",14),L.Wb(65,"button",15),L.Pc(66,"Send"),L.Vb(),L.Wb(67,"button",16),L.fc("click",(function(){return t.onClose()})),L.Pc(68,"Close"),L.Vb(),L.Vb(),L.Wb(69,"div",17),L.Wb(70,"table"),L.Wb(71,"caption"),L.Pc(72," \uc774\uba54\uc77c \ubcf4\uc5ec\uc8fc\uae30 "),L.Vb(),L.Wb(73,"colgroup"),L.Rb(74,"col"),L.Vb(),L.Wb(75,"tbody"),L.Wb(76,"tr"),L.Wb(77,"td",18),L.Rb(78,"div",19),L.ic(79,"sanitizeHtml"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.pc("formGroup",t.postForm)("connectForm",t.postFormData),L.Cb(14),L.pc("isInvalid",t.checkIsInvalid("receiverName")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("receiverEmailAddress")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("ccReceiverName")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("ccEmailAddress")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("bccReceiverName")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("bccEmailAddress")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("senderName")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("senderEmailAddress")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("memoTitle")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("emailComment")),L.Cb(15),L.pc("innerHTML",L.jc(79,13,t.emailTemplate),L.Gc))},directives:[I.B,I.s,I.k,J.a,ee.a,I.r,I.i],pipes:[Qn.d],encapsulation:2}),e})(),Kn=(()=>{class e{constructor(e,t){this._store=e,this._authStore=t,this.closeEvent=new L.n,this.emailTemplate$=e.pipe(Object(P.u)(xn)),this.userNo$=t.pipe(Object(P.u)(Xe.t))}ngOnInit(){this._loadEmailTemplate()}ngOnDestroy(){this._store.dispatch(s.removeEmailTemplate()),this._store.dispatch(s.removeEmailUploadInfo())}sendUmsHandler(e){this._store.dispatch(s.sendUmsAction({condition:e}))}closeHandler(){this.closeEvent.emit()}_loadEmailTemplate(){this._store.dispatch(s.loadEmailTemplate({condition:Object.assign({},this.templateGetInfo)}))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h),L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-send-email-template"]],inputs:{isNeededUpload:"isNeededUpload",emailTitle:"emailTitle",templateGetInfo:"templateGetInfo",bookingItemCode:"bookingItemCode"},outputs:{closeEvent:"closeEvent"},decls:3,vars:9,consts:[[3,"emailTitle","emailTemplate","itemCategoryCode","bookingItemCode","userNo","sendEmailEvent","closeEvent"]],template:function(e,t){1&e&&(L.Wb(0,"app-reservation-send-email-template-form",0),L.fc("sendEmailEvent",(function(e){return t.sendUmsHandler(e)}))("closeEvent",(function(){return t.closeHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.Vb()),2&e&&L.pc("emailTitle",t.emailTitle)("emailTemplate",L.jc(1,5,t.emailTemplate$))("itemCategoryCode",null==t.templateGetInfo?null:t.templateGetInfo.itemCategoryCode)("bookingItemCode",null==t.templateGetInfo?null:t.templateGetInfo.bookingItemCode)("userNo",L.jc(2,7,t.userNo$))},directives:[Gn],pipes:[k.b],encapsulation:2}),e})();var zn=n("Kj3r");let Xn=(()=>{class e{constructor(e,t,n,i,o){this._actions$=e,this._apiService=t,this.store=n,this._errorService=i,this.alertService=o,this.loadTemplateList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(s.loadEmailTemplate),Object(zn.a)(500),Object(ye.a)(({condition:e})=>this._apiService.getEmailTemplate(e).pipe(Object(it.a)(e=>s.getEmailTemplateSuccess({emailTemplate:e})),Object(ke.a)(e=>{const t="\uc774\uba54\uc77c \ud15c\ud50c\ub9bf \uc870\ud68c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.",n=[s.getEmailTemplateFailure({error:t})];return this._catchErr(e,t,n),[]}))))),this.sendUms$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(s.sendUmsAction),Object(zn.a)(500),Object(ye.a)(({condition:e})=>this._apiService.sendUms(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e=[s.sendUmsSuccessAction()];this._runPage("Send mail successfully",e)}else this._catchErr(t,"Send mail failed")})),{dispatch:!1})}_runPage(e,t){this.alertService.alert({message:e,accept:(null==t?void 0:t.length)>0?()=>{t.forEach(e=>{this.store.dispatch(e)})}:()=>{}})}_catchErr(e,t,n){const i=this._errorService.errorHandler(e,t);Q.isNil(i)||(Q.isNil(i.accept)&&(i.accept=(null==n?void 0:n.length)>0?()=>{n.forEach(e=>{this.store.dispatch(e)})}:()=>{}),this.alertService.alert(i))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(O.a),L.bc(qn),L.bc(P.h),L.bc(On.a),L.bc(Ae.a))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac}),e})(),Zn=(()=>{class e{}return e.\u0275mod=L.Ob({type:e}),e.\u0275inj=L.Nb({factory:function(t){return new(t||e)},imports:[[k.c,I.m,I.w,j.m,ct.a,st.a,V.a,T.a,rt.a,A.a,W.a,R.a,F.a,Y.a,q.a,P.j.forFeature("reservationSendEmailTemplate",$n),O.b.forFeature([Xn])]]}),e})();const{API_URL:Jn}=Ie.a,ei={postCommonDetailCode:`${Jn}/common/detail-code`};let ti=(()=>{class e{constructor(e){this.api=e}getCommonDetailCodeList(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(ei.postCommonDetailCode,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(z.a))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ni=(()=>{class e{constructor(e){this.fb=e}generateCashReceiptIssuePutForm(){return this.fb.group({issueName:[null],cashReceiptPurposeCode:[null,[I.z.required]],cashReceiptKindCode:[null,[I.z.required]],cashReceiptRelatedNo:[null,[I.z.required]],paidAmount:[{value:null,disabled:!0},[I.z.required]]})}initCashReceiptIssuePutForm(){return{issueName:null,cashReceiptPurposeCode:null,cashReceiptKindCode:null,cashReceiptRelatedNo:null,paidAmount:null}}}return e.\u0275fac=function(t){return new(t||e)(L.bc(I.f))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ii=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.closeEvent=new L.n,this.submitEvent=new L.n,this.putForm=e.generateCashReceiptIssuePutForm()}get bookerInfo(){return this._bookerInfo}set bookerInfo(e){this._bookerInfo=e,console.log(e,"val"),this.putFormData=this._setFormData(e)}ngOnInit(){}ngOnDestroy(){}onClose(){this.closeEvent.emit()}onSubmit(){this.putForm.invalid?this.checkValid=!0:(this.putForm.value.issueName=this.issueName,this.putForm.value.paidAmount=this.bookerInfo.paidAmount,this.submitEvent.emit(this.putForm.value))}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}_setFormData(e){const t=this._dataService.initCashReceiptIssuePutForm();return Q.isNil(e)?t:Object.assign({},t,Q.pick(e,Object.keys(t)))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(ni),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-cash-receipt-issue-form"]],inputs:{cashReceiptPurposeList:"cashReceiptPurposeList",cashReceiptKindList:"cashReceiptKindList",maxPaidAmount:"maxPaidAmount",issueName:"issueName",bookerInfo:"bookerInfo"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent"},decls:39,vars:9,consts:[[1,"component-wrap"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","150px"],["scope","row",1,"th-bg"],["formControlName","paidAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","cashReceiptPurposeCode","dataKey","detailCode","displayKey","detailCodeNameEn",3,"options","isInvalid"],[1,"form-group"],["formControlName","cashReceiptKindCode","dataKey","detailCode","displayKey","detailCodeNameEn",3,"options","isInvalid"],["formControlName","cashReceiptRelatedNo","placeholder","Number Only",3,"isInvalid"],[1,"button-area","align-r","mt5"],["type","submit",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"form",1),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(2,"div",2),L.Wb(3,"table"),L.Wb(4,"caption"),L.Pc(5," Issue Cash Receipt "),L.Vb(),L.Wb(6,"colgroup"),L.Rb(7,"col",3),L.Rb(8,"col"),L.Vb(),L.Wb(9,"tbody"),L.Wb(10,"tr"),L.Wb(11,"th",4),L.Pc(12,"Name"),L.Vb(),L.Wb(13,"td"),L.Pc(14),L.Vb(),L.Vb(),L.Wb(15,"tr"),L.Wb(16,"th",4),L.Pc(17,"Amount"),L.Vb(),L.Wb(18,"td"),L.Rb(19,"app-input-text",5),L.Vb(),L.Vb(),L.Wb(20,"tr"),L.Wb(21,"th",4),L.Wb(22,"sup"),L.Pc(23,"Cash Receipt Purpose"),L.Vb(),L.Vb(),L.Wb(24,"td"),L.Rb(25,"app-selectbox",6),L.Vb(),L.Vb(),L.Wb(26,"tr"),L.Wb(27,"th",4),L.Wb(28,"sup"),L.Pc(29,"Number for Issue"),L.Vb(),L.Vb(),L.Wb(30,"td"),L.Wb(31,"div",7),L.Rb(32,"app-selectbox",8),L.Rb(33,"app-input-text",9),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(34,"div",10),L.Wb(35,"button",11),L.Pc(36,"Issue"),L.Vb(),L.Wb(37,"button",12),L.fc("click",(function(){return t.onClose()})),L.Pc(38,"Close"),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(13),L.Rc(" ",t.issueName," "),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("paidAmount")),L.Cb(6),L.pc("options",t.cashReceiptPurposeList)("isInvalid",t.checkIsInvalid("cashReceiptPurposeCode")),L.Cb(7),L.pc("options",t.cashReceiptKindList)("isInvalid",t.checkIsInvalid("cashReceiptKindCode")),L.Cb(1),L.pc("isInvalid",t.checkIsInvalid("cashReceiptRelatedNo")))},directives:[I.B,I.s,I.k,J.a,ee.a,I.r,I.i,Se.a],encapsulation:2,changeDetection:0}),e})();const oi=Object(P.o)("[CashReceiptIssue] load cash receipt purpose list",Object(P.t)()),ai=Object(P.o)("[CashReceiptIssue] load cash receipt purpose list success",Object(P.t)()),ci=Object(P.o)("[CashReceiptIssue] load cash receipt purpose list failure",Object(P.t)()),si=Object(P.o)("[CashReceiptIssue] load cash receipt kind list",Object(P.t)()),ri=Object(P.o)("[CashReceiptIssue] load cash receipt kind list success",Object(P.t)()),li=Object(P.o)("[CashReceiptIssue] load cash receipt kind list failure",Object(P.t)()),di=Object(P.q)({cashReceiptPurposeList:null,cashReceiptKindList:null},Object(P.s)(r.loadCashReceiptPurposeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{cashReceiptPurposeList:t})),Object(P.s)(r.loadCashReceiptKindListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{cashReceiptKindList:t})));function bi(e,t){return Object(P.m)({main:di})(e,t)}const ui=Object(P.p)("cashReceiptIssue"),pi=Object(P.r)(ui,e=>e.main),mi=Object(P.r)(pi,e=>e.cashReceiptPurposeList),hi=Object(P.r)(pi,e=>e.cashReceiptKindList);let gi=(()=>{class e{constructor(e){this.store=e,this.closeEvent=new L.n,this.submitEvent=new L.n,this._subscribeStore()}ngOnInit(){this._loadSubTabData()}ngOnDestroy(){}closeHandler(){this.closeEvent.emit()}submitHandler(e){this.submitEvent.emit(Object.assign(Object.assign({},e),{emailAddress:this.emailAddress}))}_subscribeStore(){this.cashReceiptPurposeList$=this.store.pipe(Object(P.u)(mi)),this.cashReceiptKindList$=this.store.pipe(Object(P.u)(hi))}_loadSubTabData(){this.store.dispatch(r.loadCashReceiptPurposeListAction({condition:{masterCode:"PM010"}})),this.store.dispatch(r.loadCashReceiptKindListAction({condition:{masterCode:"PM009"}}))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-cash-receipt-issue"]],inputs:{maxPaidAmount:"maxPaidAmount",issueName:"issueName",selectedPaymentInfo:"selectedPaymentInfo",emailAddress:"emailAddress"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent"},decls:3,vars:9,consts:[[3,"cashReceiptPurposeList","cashReceiptKindList","maxPaidAmount","bookerInfo","issueName","closeEvent","submitEvent"]],template:function(e,t){1&e&&(L.Wb(0,"app-cash-receipt-issue-form",0),L.fc("closeEvent",(function(){return t.closeHandler()}))("submitEvent",(function(e){return t.submitHandler(e)})),L.ic(1,"async"),L.ic(2,"async"),L.Vb()),2&e&&L.pc("cashReceiptPurposeList",L.jc(1,5,t.cashReceiptPurposeList$))("cashReceiptKindList",L.jc(2,7,t.cashReceiptKindList$))("maxPaidAmount",t.maxPaidAmount)("bookerInfo",t.selectedPaymentInfo)("issueName",t.issueName)},directives:[ii],pipes:[k.b],encapsulation:2,changeDetection:0}),e})(),fi=(()=>{class e{constructor(e,t,n){this._actions$=e,this._apiService=t,this._store$=n,this.loadCashReceiptPurposeList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(r.loadCashReceiptPurposeListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.cashReceiptPurposeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>r.loadCashReceiptPurposeListSuccessAction({dataList:e})),Object(ke.a)(e=>{var t;return Object(ve.a)(r.loadCashReceiptPurposeListFailureAction({error:(null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.errorMessage)||e||"network state error"}))})):Object(ve.a)(r.loadCashReceiptPurposeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadCashReceiptKindList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(r.loadCashReceiptKindListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.cashReceiptKindList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>r.loadCashReceiptKindListSuccessAction({dataList:e})),Object(ke.a)(e=>{var t;return Object(ve.a)(r.loadCashReceiptKindListFailureAction({error:(null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.errorMessage)||e||"network state error"}))})):Object(ve.a)(r.loadCashReceiptKindListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.cashReceiptPurposeList$=this._store$.pipe(Object(P.u)(mi)),this.cashReceiptKindList$=this._store$.pipe(Object(P.u)(hi))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(O.a),L.bc(ti),L.bc(P.h))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac}),e})(),vi=(()=>{class e{}return e.\u0275mod=L.Ob({type:e}),e.\u0275inj=L.Nb({factory:function(t){return new(t||e)},imports:[[k.c,I.m,I.w,ct.a,A.a,R.a,q.a,P.j.forFeature("cashReceiptIssue",bi),O.b.forFeature([fi])]]}),e})();var Ci=n("1G5W");let yi=(()=>{class e{constructor(e){this.fb=e}generatePgCreditCardPutForm(){return this.fb.group({cardNo:[null,[I.z.required,I.z.minLength(1),I.z.maxLength(16)]],cardHolderName:[null,[I.z.required,I.z.minLength(1),I.z.maxLength(80)]],cardQuotaMonth:[null,[I.z.required,I.z.minLength(2),I.z.maxLength(2)]],cardValidPeriodYear:[null,[I.z.required]],cardValidPeriodMonth:[null,[I.z.required]],paidAmount:[null,[I.z.required]],cardHolderTypeCode:[null,[I.z.required,I.z.minLength(1),I.z.maxLength(10)]],cardMasterCode:[null,[I.z.required,I.z.minLength(1),I.z.maxLength(10)]],cardHolderBirthday:[null,[rn.a.dateValidator]],cardHolderTaxPayerNo:[null,[I.z.minLength(10),I.z.maxLength(10)]],cardPassword:[null,[I.z.required,I.z.minLength(2),I.z.maxLength(2)]]})}initPgCreditCardPutForm(){return{cardNo:null,cardHolderName:null,cardQuotaMonth:null,cardValidPeriodYear:null,cardValidPeriodMonth:null,paidAmount:null,cardHolderTypeCode:"CCH01",cardMasterCode:null,cardHolderBirthday:null,cardHolderTaxPayerNo:null,cardPassword:null}}initPgCreditCardPutCondition(){return{cardNo:null,cardHolderName:null,cardQuotaMonth:null,cardValidPeriod:null,paidAmount:null,cardHolderTypeCode:null,cardMasterCode:null,cardPassword:null,cardHolderBirthday:null}}initPgCreditCorporateCardPutCondition(){return{cardNo:null,cardHolderName:null,cardQuotaMonth:null,cardValidPeriod:null,paidAmount:null,cardHolderTypeCode:null,cardMasterCode:null,cardPassword:null,cardHolderTaxPayerNo:null}}}return e.\u0275fac=function(t){return new(t||e)(L.bc(I.f))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const{API_URL:ki}=Ie.a,Ii={postCommonDetailCode:`${ki}/common/detail-code`};let Oi=(()=>{class e{constructor(e){this.api=e}getCommonDetailCodeList(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(Ii.postCommonDetailCode,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(z.a))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Pi=n("nMd8");let ji=(()=>{class e{constructor(e){this._dataService=e,this.submitEvent=new L.n,this.closeEvent=new L.n,this.cardQuotaMonthList=[],this.cardValidPeriodMonthList=[],this.cardValidPeriodYearList=[],this._$unsubscribe=new Fe.a,this.putForm=e.generatePgCreditCardPutForm(),this.putFormData=e.initPgCreditCardPutForm()}get paidAmount(){return this._paidAmount}set paidAmount(e){this._paidAmount=e,this.putFormData=Object.assign(Object.assign({},this._dataService.initPgCreditCardPutForm()),{paidAmount:e})}get isCorporateCard(){return"CCH03"===this.putForm.get("cardHolderTypeCode").value}ngOnInit(){this._initSelectboxOptions(),this._initSubscription()}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete()}onClose(){this.closeEvent.emit()}onSubmit(){if(this.putForm.invalid)return Object.keys(this.putForm.controls).forEach(e=>{this.putForm.controls[e].invalid&&console.error(e+" is invalid")}),void(this.checkValid=!0);if(this.paidAmount<this.putForm.value.paidAmount)return void console.error("paidAmount is invalid");const e=this._convertFormToItem(this.putForm.value);this.submitEvent.emit(e)}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}_initSelectboxOptions(){this.cardQuotaMonthList.push({value:"00",label:"00"});for(let t=1;t<25;t++){const e=Q.padStart(String(t),2,"0");this.cardQuotaMonthList.push({value:e,label:e})}for(let t=0;t<12;t++){const e=Q.padStart(String(t+1),2,"0");this.cardValidPeriodMonthList.push({value:e,label:`${t+1}`})}const e=(new Date).getFullYear();for(let t=0;t<20;t++)this.cardValidPeriodYearList.push({value:String(e+t).slice(2,4),label:`${e+t}`})}_convertFormToItem(e){const{cardNo:t,cardHolderName:n,cardQuotaMonth:i,cardValidPeriodYear:o,cardValidPeriodMonth:a,paidAmount:c,cardHolderTypeCode:s,cardMasterCode:r,cardPassword:l,cardHolderBirthday:d,cardHolderTaxPayerNo:b}=e,u="CCH03"===s?this._dataService.initPgCreditCorporateCardPutCondition():this._dataService.initPgCreditCardPutCondition();return{cards:[Object.assign({},Q.pick({cardNo:t,cardHolderName:n,cardQuotaMonth:i,cardValidPeriod:`${a}/${o}`,paidAmount:c,cardHolderTypeCode:s,cardMasterCode:r,cardPassword:l,cardHolderBirthday:d,cardHolderTaxPayerNo:b},Object.keys(u)))]}}_initSubscription(){this.putForm.get("cardHolderTypeCode").valueChanges.pipe(Object(Ci.a)(this._$unsubscribe)).subscribe(e=>{"CCH03"===e?(this.putForm.get("cardHolderTaxPayerNo").setValidators([I.z.required,I.z.minLength(10),I.z.maxLength(10)]),this.putForm.get("cardHolderBirthday").clearValidators()):(this.putForm.get("cardHolderTaxPayerNo").clearValidators(),this.putForm.get("cardHolderBirthday").setValidators([I.z.required])),this.putForm.get("cardHolderTaxPayerNo").updateValueAndValidity(),this.putForm.get("cardHolderBirthday").updateValueAndValidity()})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(yi))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-pg-credit-card-form"]],inputs:{cardHolderTypeList:"cardHolderTypeList",cardMasterList:"cardMasterList",paidAmount:"paidAmount"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:75,vars:18,consts:[[1,"component-wrap"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","150px"],["scope","row",1,"th-bg"],["formControlName","paidAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","cardMasterCode","useAllOptionName","Select","dataKey","detailCode","displayWord","detailCodeName",3,"options","isInvalid"],["formControlName","cardNo","placeholder","Numbers only",3,"isInvalid"],[1,"form-group"],["formControlName","cardValidPeriodMonth","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","cardValidPeriodYear","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","cardQuotaMonth","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","cardHolderName","inputFormat","uppserCaseEnOnly",3,"isInvalid"],["formControlName","cardHolderTypeCode","dataKey","detailCode","displayWord","detailCodeName","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","cardHolderBirthday","inputFormat","date","placeholder","YYYY-MM-DD(Private Card is mandatory)",3,"isInvalid"],["formControlName","cardPassword","placeholder","First 2 digit",3,"isInvalid"],["formControlName","cardHolderTaxPayerNo","inputFormat","numberOnly","placeholder","10 digits(Corporate Card is mandatory)",3,"isInvalid"],[1,"button-area","align-r","mt5"],["type","submit",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"form",1),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(2,"div",2),L.Wb(3,"table"),L.Wb(4,"caption"),L.Pc(5," Payment Amounts "),L.Vb(),L.Wb(6,"colgroup"),L.Rb(7,"col",3),L.Rb(8,"col"),L.Vb(),L.Wb(9,"tbody"),L.Wb(10,"tr"),L.Wb(11,"th",4),L.Wb(12,"sup"),L.Pc(13,"Payment Amounts"),L.Vb(),L.Vb(),L.Wb(14,"td"),L.Rb(15,"app-input-text",5),L.Vb(),L.Vb(),L.Wb(16,"tr"),L.Wb(17,"th",4),L.Wb(18,"sup"),L.Pc(19,"Card"),L.Vb(),L.Vb(),L.Wb(20,"td"),L.Rb(21,"app-selectbox-detailcode",6),L.Vb(),L.Vb(),L.Wb(22,"tr"),L.Wb(23,"th",4),L.Wb(24,"sup"),L.Pc(25,"Card Number"),L.Vb(),L.Vb(),L.Wb(26,"td"),L.Rb(27,"app-input-text",7),L.Vb(),L.Vb(),L.Wb(28,"tr"),L.Wb(29,"th",4),L.Wb(30,"sup"),L.Pc(31,"Valid Thru"),L.Vb(),L.Vb(),L.Wb(32,"td"),L.Wb(33,"div",8),L.Rb(34,"app-selectbox",9),L.Rb(35,"app-selectbox",10),L.Vb(),L.Vb(),L.Vb(),L.Wb(36,"tr"),L.Wb(37,"th",4),L.Wb(38,"sup"),L.Pc(39,"Installment"),L.Vb(),L.Vb(),L.Wb(40,"td"),L.Rb(41,"app-selectbox",11),L.Vb(),L.Vb(),L.Wb(42,"tr"),L.Wb(43,"th",4),L.Wb(44,"sup"),L.Pc(45,"Card Holder"),L.Vb(),L.Vb(),L.Wb(46,"td"),L.Rb(47,"app-input-text",12),L.Vb(),L.Vb(),L.Wb(48,"tr"),L.Wb(49,"th",4),L.Wb(50,"sup"),L.Pc(51,"Card Holder Type"),L.Vb(),L.Vb(),L.Wb(52,"td"),L.Rb(53,"app-selectbox-detailcode",13),L.Vb(),L.Vb(),L.Wb(54,"tr"),L.Wb(55,"th",4),L.Pc(56,"Birthday"),L.Vb(),L.Wb(57,"td"),L.Rb(58,"app-input-text",14),L.Vb(),L.Vb(),L.Wb(59,"tr"),L.Wb(60,"th",4),L.Wb(61,"sup"),L.Pc(62,"CC PW(First 2 digit)"),L.Vb(),L.Vb(),L.Wb(63,"td"),L.Rb(64,"app-input-text",15),L.Vb(),L.Vb(),L.Wb(65,"tr"),L.Wb(66,"th",4),L.Pc(67,"Tax Payer No."),L.Vb(),L.Wb(68,"td"),L.Rb(69,"app-input-text",16),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(70,"div",17),L.Wb(71,"button",18),L.Pc(72,"Approve"),L.Vb(),L.Wb(73,"button",19),L.fc("click",(function(){return t.onClose()})),L.Pc(74,"Close"),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(14),L.pc("isInvalid",t.checkIsInvalid("paidAmount")),L.Cb(6),L.pc("options",t.cardMasterList)("isInvalid",t.checkIsInvalid("cardMasterCode")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("cardNo")),L.Cb(7),L.pc("options",t.cardValidPeriodMonthList)("isInvalid",t.checkIsInvalid("cardValidPeriodMonth")),L.Cb(1),L.pc("options",t.cardValidPeriodYearList)("isInvalid",t.checkIsInvalid("cardValidPeriodYear")),L.Cb(6),L.pc("options",t.cardQuotaMonthList)("isInvalid",t.checkIsInvalid("cardQuotaMonth")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("cardHolderName")),L.Cb(6),L.pc("options",t.cardHolderTypeList)("isInvalid",t.checkIsInvalid("cardHolderTypeCode")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("cardHolderBirthday")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("cardPassword")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("cardHolderTaxPayerNo")))},directives:[I.B,I.s,I.k,J.a,ee.a,I.r,I.i,Pi.a,Se.a],encapsulation:2,changeDetection:0}),e})();const Vi=Object(P.o)("[PgCreditCard] load card holder type list",Object(P.t)()),Ai=Object(P.o)("[PgCreditCard] load card holder type list success",Object(P.t)()),Wi=Object(P.o)("[PgCreditCard] load card holder type list failure",Object(P.t)()),Ri=Object(P.o)("[PgCreditCard] load card master list",Object(P.t)()),Fi=Object(P.o)("[PgCreditCard] load card master list success",Object(P.t)()),Si=Object(P.o)("[PgCreditCard] load card master list failure",Object(P.t)()),Ti=Object(P.q)({cardHolderTypeList:null,cardMasterList:null},Object(P.s)(l.loadCardHolderTypeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{cardHolderTypeList:t})),Object(P.s)(l.loadCardMasterListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{cardMasterList:t})));function Ni(e,t){return Object(P.m)({main:Ti})(e,t)}const Ei=Object(P.p)("pgCreditCard"),Mi=Object(P.r)(Ei,e=>e.main),Di=Object(P.r)(Mi,e=>e.cardHolderTypeList),Li=Object(P.r)(Mi,e=>e.cardMasterList);let _i=(()=>{class e{constructor(e){this.store=e,this.closeEvent=new L.n,this.submitEvent=new L.n,this._subscribeStore()}ngOnInit(){this._loadSubTabData()}ngOnDestroy(){}closeHandler(){this.closeEvent.emit()}submitHandler(e){this.submitEvent.emit(e)}_subscribeStore(){this.cardHolderTypeList$=this.store.pipe(Object(P.u)(Di)),this.cardMasterList$=this.store.pipe(Object(P.u)(Li))}_loadSubTabData(){this.store.dispatch(l.loadCardHolderTypeListAction({condition:{masterCode:"PM007"}})),this.store.dispatch(l.loadCardMasterListAction({condition:{masterCode:"PM003",referCode1:"NICEPAY"}}))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-pg-credit-card"]],inputs:{paidAmount:"paidAmount"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent"},decls:3,vars:7,consts:[[3,"paidAmount","cardHolderTypeList","cardMasterList","submitEvent","closeEvent"]],template:function(e,t){1&e&&(L.Wb(0,"app-pg-credit-card-form",0),L.fc("submitEvent",(function(e){return t.submitHandler(e)}))("closeEvent",(function(){return t.closeHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.Vb()),2&e&&L.pc("paidAmount",t.paidAmount)("cardHolderTypeList",L.jc(1,3,t.cardHolderTypeList$))("cardMasterList",L.jc(2,5,t.cardMasterList$))},directives:[ji],pipes:[k.b],encapsulation:2,changeDetection:0}),e})(),$i=(()=>{class e{constructor(e,t,n,i){this._actions$=e,this._apiService=t,this._store$=n,this._errorService=i,this.loadCardHolderTypeList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(l.loadCardHolderTypeListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.cardHolderTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>l.loadCardHolderTypeListSuccessAction({dataList:e})),Object(ke.a)(e=>Object(ve.a)(l.loadCardHolderTypeListFailureAction({error:this._errorService.parseApiError(e)})))):Object(ve.a)(l.loadCardHolderTypeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadCardMasterList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(l.loadCardMasterListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.cardMasterList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>l.loadCardMasterListSuccessAction({dataList:e})),Object(ke.a)(e=>Object(ve.a)(l.loadCardMasterListFailureAction({error:this._errorService.parseApiError(e)})))):Object(ve.a)(l.loadCardMasterListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.cardHolderTypeList$=this._store$.pipe(Object(P.u)(Di)),this.cardMasterList$=this._store$.pipe(Object(P.u)(Li))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(O.a),L.bc(Oi),L.bc(P.h),L.bc(On.a))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac}),e})();var Bi=n("YH7L");let wi=(()=>{class e{}return e.\u0275mod=L.Ob({type:e}),e.\u0275inj=L.Nb({factory:function(t){return new(t||e)},imports:[[k.c,I.m,I.w,ct.a,A.a,R.a,q.a,Bi.a,P.j.forFeature("pgCreditCard",Ni),O.b.forFeature([$i])]]}),e})();const{API_URL:xi}=Ie.a,Yi={postCommonDetailCode:`${xi}/common/detail-code`};let Hi=(()=>{class e{constructor(e){this.api=e}getCommonDetailCodeList(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(Yi.postCommonDetailCode,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(z.a))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),qi=(()=>{class e{constructor(e){this.fb=e}generatePgBankPutForm(e){return this.fb.group({paidAmount:[null,[I.z.required,rn.a.greaterThanValidator(e)]],bankMasterCode:[null,[I.z.required]],depositDueDate:[null,[I.z.required]],depositDueTime:[null,[I.z.required]],depositRemitName:[null,[I.z.required]]})}initPgBankPutForm(){return{paidAmount:null,bankMasterCode:null,depositDueDate:null,depositDueTime:null,depositRemitName:null}}}return e.\u0275fac=function(t){return new(t||e)(L.bc(I.f))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ui=(()=>{class e{constructor(e){this._dataService=e,this.submitEvent=new L.n,this.closeEvent=new L.n,this.sendSmsYn=!1}ngOnInit(){this.putForm=this._dataService.generatePgBankPutForm(this.paidAmount),this.putForm.get("paidAmount").setValue(this.paidAmount)}ngOnDestroy(){}onClose(){this.closeEvent.emit()}onSubmit(){if(this.putForm.invalid)return void(this.checkValid=!0);const e=this._convertFormToItem();this.submitEvent.emit(e)}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}_convertFormToItem(){const{paidAmount:e,bankMasterCode:t,depositDueDate:n,depositDueTime:i,depositRemitName:o}=this.putForm.value;return{banks:[{paidAmount:e,bankMasterCode:t,depositDueDatetime:`${n} ${i}`,depositRemitName:o}],sendSmsYn:this.sendSmsYn}}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(qi))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-pg-bank-form"]],inputs:{bankMasterList:"bankMasterList",paidAmount:"paidAmount"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:42,vars:8,consts:[[1,"component-wrap"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","150px"],["scope","row",1,"th-bg"],["formControlName","paidAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","bankMasterCode","displayWord","detailCodeName","useAllOptionName","Select",3,"options","isInvalid"],[1,"form-group"],["formControlName","depositDueDate","inputFormat","date","placeholder","YYYY-MM-DD",3,"isInvalid"],["formControlName","depositDueTime","inputFormat","time","placeholder","HH:mm",3,"isInvalid"],["formControlName","depositRemitName",3,"isInvalid"],[1,"justify-content-between","mt10"],[1,"button-area","align-r"],["type","submit",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"form",1),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(2,"div",2),L.Wb(3,"table"),L.Wb(4,"caption"),L.Pc(5," Create Virtual Bank Account "),L.Vb(),L.Wb(6,"colgroup"),L.Rb(7,"col",3),L.Rb(8,"col"),L.Vb(),L.Wb(9,"tbody"),L.Wb(10,"tr"),L.Wb(11,"th",4),L.Wb(12,"sup"),L.Pc(13,"Amounts"),L.Vb(),L.Vb(),L.Wb(14,"td"),L.Rb(15,"app-input-text",5),L.Vb(),L.Vb(),L.Wb(16,"tr"),L.Wb(17,"th",4),L.Wb(18,"sup"),L.Pc(19,"Bank"),L.Vb(),L.Vb(),L.Wb(20,"td"),L.Rb(21,"app-selectbox-detailcode",6),L.Vb(),L.Vb(),L.Wb(22,"tr"),L.Wb(23,"th",4),L.Wb(24,"sup"),L.Pc(25,"Valid Thru"),L.Vb(),L.Vb(),L.Wb(26,"td"),L.Wb(27,"div",7),L.Rb(28,"app-input-text",8),L.Rb(29,"app-input-text",9),L.Vb(),L.Vb(),L.Vb(),L.Wb(30,"tr"),L.Wb(31,"th",4),L.Wb(32,"sup"),L.Pc(33,"Depositor"),L.Vb(),L.Vb(),L.Wb(34,"td"),L.Rb(35,"app-input-text",10),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(36,"div",11),L.Wb(37,"div",12),L.Wb(38,"button",13),L.Pc(39,"Issue"),L.Vb(),L.Wb(40,"button",14),L.fc("click",(function(){return t.onClose()})),L.Pc(41,"Close"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(14),L.pc("isInvalid",t.checkIsInvalid("paidAmount")),L.Cb(6),L.pc("options",t.bankMasterList)("isInvalid",t.checkIsInvalid("bankMasterCode")),L.Cb(7),L.pc("isInvalid",t.checkIsInvalid("depositDueDate")),L.Cb(1),L.pc("isInvalid",t.checkIsInvalid("depositDueTime")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("depositRemitName")))},directives:[I.B,I.s,I.k,J.a,ee.a,I.r,I.i,Pi.a],encapsulation:2,changeDetection:0}),e})();const Qi=Object(P.o)("[PgBank] load bank master list",Object(P.t)()),Gi=Object(P.o)("[PgBank] load bank master list success",Object(P.t)()),Ki=Object(P.o)("[PgBank] load bank master list failure",Object(P.t)()),zi=Object(P.q)({bankMasterList:null},Object(P.s)(d.loadBankMasterListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{bankMasterList:t})));function Xi(e,t){return Object(P.m)({main:zi})(e,t)}const Zi=Object(P.p)("pgBank"),Ji=Object(P.r)(Zi,e=>e.main),eo=Object(P.r)(Ji,e=>e.bankMasterList);let to=(()=>{class e{constructor(e){this.store=e,this.closeEvent=new L.n,this.submitEvent=new L.n,this._subscribeStore()}get bookingInfo(){return this._bookingInfo}set bookingInfo(e){this._bookingInfo=e}ngOnInit(){this._loadSubTabData()}ngOnDestroy(){}closeHandler(){this.closeEvent.emit()}submitHandler(e){this.submitEvent.emit(e)}_subscribeStore(){this.bankMasterList$=this.store.pipe(Object(P.u)(eo))}_loadSubTabData(){this.store.dispatch(d.loadBankMasterListAction({condition:{masterCode:"PM002"}}))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-pg-bank"]],inputs:{paidAmount:"paidAmount",bookingInfo:"bookingInfo"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent"},decls:2,vars:4,consts:[[3,"paidAmount","bankMasterList","closeEvent","submitEvent"]],template:function(e,t){1&e&&(L.Wb(0,"app-pg-bank-form",0),L.fc("closeEvent",(function(){return t.closeHandler()}))("submitEvent",(function(e){return t.submitHandler(e)})),L.ic(1,"async"),L.Vb()),2&e&&L.pc("paidAmount",t.paidAmount)("bankMasterList",L.jc(1,2,t.bankMasterList$))},directives:[Ui],pipes:[k.b],encapsulation:2,changeDetection:0}),e})();var no=n("mrSG");let io=(()=>{class e{constructor(e,t,n,i){this._actions$=e,this._apiService=t,this._store$=n,this._errorService=i,this.loadBankList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(d.loadBankMasterListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.bankList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>e.filter(e=>e.detailCode.startsWith("KR")).map(e=>{const{detailCode:t}=e,n=Object(no.c)(e,["detailCode"]);return Object.assign(Object.assign({},n),{detailCode:t.slice(2)})})),Object(it.a)(e=>d.loadBankMasterListSuccessAction({dataList:e})),Object(ke.a)(e=>Object(ve.a)(d.loadBankMasterListFailureAction({error:this._errorService.parseApiError(e)})))):Object(ve.a)(d.loadBankMasterListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.bankList$=this._store$.pipe(Object(P.u)(eo))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(O.a),L.bc(Hi),L.bc(P.h),L.bc(On.a))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac}),e})(),oo=(()=>{class e{}return e.\u0275mod=L.Ob({type:e}),e.\u0275inj=L.Nb({factory:function(t){return new(t||e)},imports:[[k.c,I.m,I.w,ct.a,A.a,Bi.a,W.a,R.a,q.a,P.j.forFeature("pgBank",Xi),O.b.forFeature([io])]]}),e})(),ao=(()=>{class e{}return e.\u0275mod=L.Ob({type:e}),e.\u0275inj=L.Nb({factory:function(t){return new(t||e)},imports:[[k.c,I.m,I.w,R.a,W.a,q.a]]}),e})();const co=Object(P.o)("[CardReceiptView] load card receipt",Object(P.t)()),so=Object(P.o)("[CardReceiptView] get card receipt success",Object(P.t)()),ro=Object(P.o)("[CardReceiptView] get card receipt failure",Object(P.t)()),lo=Object(P.o)("[CardReceiptView] remove card receipt"),bo=Object(P.q)({cardReceiptList:null},Object(P.s)(b.getCardReceiptSuccess,(e,{cardReceiptList:t})=>Object.assign(Object.assign({},e),{cardReceiptList:t})),Object(P.s)(b.getCardReceiptFailure,e=>Object.assign(Object.assign({},e),{cardReceiptList:null})),Object(P.s)(b.removeCardReceipt,e=>Object.assign(Object.assign({},e),{cardReceiptList:null})));function uo(e,t){return Object(P.m)({main:bo})(e,t)}const po=Object(P.p)("cardReceiptView"),mo=Object(P.r)(po,e=>e.main),ho=Object(P.r)(mo,e=>e.cardReceiptList),go=Object(P.o)("[Reservation] set reservation bookingItemCode",Object(P.t)()),fo=Object(P.o)("[Reservation] set reservation bookingItemCodes",Object(P.t)()),vo=Object(P.o)("[Reservation] set reservation consultingSeq",Object(P.t)()),Co=Object(P.o)("[ReservationMaster] reload booking detail"),yo=Object(P.o)("[ReservationMaster] save booker info",Object(P.t)()),ko=Object(P.o)("[ReservationMaster] save booker info success",Object(P.t)()),Io=Object(P.o)("[ReservationMaster] save booker info failure",Object(P.t)()),Oo=Object(P.o)("[ReservationMaster] load booking log",Object(P.t)()),Po=Object(P.o)("[ReservationMaster] load booking log success",Object(P.t)()),jo=Object(P.o)("[ReservationMaster] load booking log failure",Object(P.t)()),Vo=Object(P.o)("[ReservationMaster] load consulting",Object(P.t)()),Ao=Object(P.o)("[ReservationMaster] load consulting success",Object(P.t)()),Wo=Object(P.o)("[ReservationMaster] load consulting failure",Object(P.t)()),Ro=Object(P.o)("[ReservationMaster] save consulting info",Object(P.t)()),Fo=Object(P.o)("[ReservationMaster] save consulting info success",Object(P.t)()),So=Object(P.o)("[ReservationMaster] save consulting info failure",Object(P.t)()),To=Object(P.o)("[ReservationMaster] load booking memo",Object(P.t)()),No=Object(P.o)("[ReservationMaster] load booking memo success",Object(P.t)()),Eo=Object(P.o)("[ReservationMaster] load booking memo failure",Object(P.t)()),Mo=Object(P.o)("[ReservationMaster] save booking memo",Object(P.t)()),Do=Object(P.o)("[ReservationMaster] save booking memo failure",Object(P.t)()),Lo=Object(P.o)("[ReservationMaster] load booker info",Object(P.t)()),_o=Object(P.o)("[ReservationMaster] load booker info success",Object(P.t)()),$o=Object(P.o)("[ReservationMaster] load booker info failure",Object(P.t)()),Bo=Object(P.o)("[ReservationMaster] change booker info",Object(P.t)()),wo=Object(P.o)("[ReservationMaster] change booker info success",Object(P.t)()),xo=Object(P.o)("[ReservationMaster] change booker info failure",Object(P.t)()),Yo=Object(P.o)("[ReservationMaster] open client page",Object(P.t)()),Ho=Object(P.o)("[ReservationMaster] get user token success"),qo=Object(P.o)("[ReservationMaster] get user token failure",Object(P.t)()),Uo=Object(P.o)("[ReservationCar] load car reservation info",Object(P.t)()),Qo=Object(P.o)("[ReservationCar] load car reservation info success",Object(P.t)()),Go=Object(P.o)("[ReservationCar] load car reservation info failure",Object(P.t)()),Ko=Object(P.o)("[ReservationCar] add sub tab",Object(P.t)()),zo=Object(P.o)("[ReservationCar] del sub tab",Object(P.t)()),Xo=Object(P.o)("[ReservationCar] set sub tab",Object(P.t)()),Zo=Object(P.o)("[ReservationCar] load station type",Object(P.t)()),Jo=Object(P.o)("[ReservationCar] load station type success",Object(P.t)()),ea=Object(P.o)("[ReservationCar] load station type failure",Object(P.t)()),ta=Object(P.o)("[ReservationCar] load booking status",Object(P.t)()),na=Object(P.o)("[ReservationCar] load booking status success",Object(P.t)()),ia=Object(P.o)("[ReservationCar] load booking status failure",Object(P.t)()),oa=Object(P.o)("[ReservationCar] load request status",Object(P.t)()),aa=Object(P.o)("[ReservationCar] load request status success",Object(P.t)()),ca=Object(P.o)("[ReservationCar] load request status failure",Object(P.t)()),sa=Object(P.o)("[ReservationCar] load vendors",Object(P.t)()),ra=Object(P.o)("[ReservationCar] load vendors success",Object(P.t)()),la=Object(P.o)("[ReservationCar] load vendors failure",Object(P.t)()),da=Object(P.o)("[ReservationCar] load vehicle vendors",Object(P.t)()),ba=Object(P.o)("[ReservationCar] load vehicle vendors success",Object(P.t)()),ua=Object(P.o)("[ReservationCar] load vehicle vendors failure",Object(P.t)()),pa=Object(P.o)("[ReservationCar] load cancel policy",Object(P.t)()),ma=Object(P.o)("[ReservationCar] load cancel policy success",Object(P.t)()),ha=Object(P.o)("[ReservationCar] load cancel policy failure",Object(P.t)()),ga=Object(P.o)("[ReservationCar] load payment detail type list",Object(P.t)()),fa=Object(P.o)("[ReservationCar] load payment detail type list success",Object(P.t)()),va=Object(P.o)("[ReservationCar] load payment detail type list failure",Object(P.t)()),Ca=Object(P.o)("[ReservationCar] load deposit type list",Object(P.t)()),ya=Object(P.o)("[ReservationCar] load deposit type list success",Object(P.t)()),ka=Object(P.o)("[ReservationCar] load deposit type list failure",Object(P.t)()),Ia=Object(P.o)("[ReservationCar] load gift card type list",Object(P.t)()),Oa=Object(P.o)("[ReservationCar] load gift card type list success",Object(P.t)()),Pa=Object(P.o)("[ReservationCar] load gift card type list failure",Object(P.t)()),ja=Object(P.o)("[ReservationCar] load payment bank master list",Object(P.t)()),Va=Object(P.o)("[ReservationCar] load payment bank master list success",Object(P.t)()),Aa=Object(P.o)("[ReservationCar] load payment bank master list failure",Object(P.t)()),Wa=Object(P.o)("[ReservationCar] load corporate reason list",Object(P.t)()),Ra=Object(P.o)("[ReservationCar] load corporate reason list success",Object(P.t)()),Fa=Object(P.o)("[ReservationCar] load corporate reason list failure",Object(P.t)()),Sa=Object(P.o)("[ReservationCar] load client payment status code list",Object(P.t)()),Ta=Object(P.o)("[ReservationCar] load client payment status code list success",Object(P.t)()),Na=Object(P.o)("[ReservationCar] load client payment status code list failure",Object(P.t)()),Ea=Object(P.o)("[ReservationCar] load basic info",Object(P.t)()),Ma=Object(P.o)("[ReservationCar] load basic info success",Object(P.t)()),Da=Object(P.o)("[ReservationCar] load basic info failure",Object(P.t)()),La=Object(P.o)("[ReservationCar] save basic info",Object(P.t)()),_a=Object(P.o)("[ReservationCar] save basic info success",Object(P.t)()),$a=Object(P.o)("[ReservationCar] save basic info failure",Object(P.t)()),Ba=Object(P.o)("[ReservationCar] retrieve",Object(P.t)()),wa=Object(P.o)("[ReservationCar] retrieve success"),xa=Object(P.o)("[ReservationCar] retrieve failure",Object(P.t)()),Ya=Object(P.o)("[ReservationCar] save booking detail",Object(P.t)()),Ha=Object(P.o)("[ReservationCar] save booking detail success",Object(P.t)()),qa=Object(P.o)("[ReservationCar] save booking detail failure",Object(P.t)()),Ua=Object(P.o)("[ReservationCar] save driver",Object(P.t)()),Qa=Object(P.o)("[ReservationCar] save driver success",Object(P.t)()),Ga=Object(P.o)("[ReservationCar] save driver failure",Object(P.t)()),Ka=Object(P.o)("[ReservationCar] save cancel policy",Object(P.t)()),za=Object(P.o)("[ReservationCar] save cancel policy success",Object(P.t)()),Xa=Object(P.o)("[ReservationCar] save cancel policy success",Object(P.t)()),Za=Object(P.o)("[ReservationCar] open cancel modal"),Ja=Object(P.o)("[ReservationCar] close cancel modal"),ec=Object(P.o)("[ReservationCar] cancel booking",Object(P.t)()),tc=Object(P.o)("[ReservationCar] cancel booking success"),nc=Object(P.o)("[ReservationCar] cancel booking failure",Object(P.t)()),ic=Object(P.o)("[ReservationCar] load cancel charge amount",Object(P.t)()),oc=Object(P.o)("[ReservationCar] load cancel charge amount success",Object(P.t)()),ac=Object(P.o)("[ReservationCar] open cash receipt issue modal"),cc=Object(P.o)("[ReservationCar] close cash receipt issue modal"),sc=Object(P.o)("[ReservationCar] open credit card cancel modal"),rc=Object(P.o)("[ReservationCar] close credit card cancel modal"),lc=Object(P.o)("[ReservationCar] open coupon point cancel modal"),dc=Object(P.o)("[ReservationCar] close coupon point cancel modal"),bc=Object(P.o)("[ReservationCar] open pg credit card modal"),uc=Object(P.o)("[ReservationCar] close pg credit card modal"),pc=Object(P.o)("[ReservationCar] open pg bank modal"),mc=Object(P.o)("[ReservationCar] close pg bank modal"),hc=Object(P.o)("[ReservationCar] select payment info payment",Object(P.t)()),gc=Object(P.o)("[ReservationCar] remove payment info payment"),fc=Object(P.o)("[ReservationCar] open payment manual modal"),vc=Object(P.o)("[ReservationCar] close payment manual modal"),Cc=Object(P.o)("[ReservationCar] save payment deposit manual",Object(P.t)()),yc=Object(P.o)("[ReservationCar] delete payment",Object(P.t)()),kc=Object(P.o)("[ReservationCar] load policy monitoring info",Object(P.t)()),Ic=Object(P.o)("[ReservationCar] load policy monitoring info success",Object(P.t)()),Oc=Object(P.o)("[ReservationCar] save policy monitoring info",Object(P.t)()),Pc=Object(P.o)("[ReservationCar] send pg credit card payment",Object(P.t)()),jc=Object(P.o)("[ReservationCar] send pg credit card payment success",Object(P.t)()),Vc=Object(P.o)("[ReservationCar] send pg credit card payment failure",Object(P.t)()),Ac=Object(P.o)("[ReservationCar] send pg bank payment",Object(P.t)()),Wc=Object(P.o)("[ReservationCar] send pg bank payment success",Object(P.t)()),Rc=Object(P.o)("[ReservationCar] send pg bank payment failure",Object(P.t)()),Fc=Object(P.o)("[ReservationCar] cancel payment",Object(P.t)()),Sc=Object(P.o)("[ReservationCar] cancel payment success",Object(P.t)()),Tc=Object(P.o)("[ReservationCar] cancel payment failure",Object(P.t)()),Nc=Object(P.o)("[ReservationCar] issue cash receipt",Object(P.t)()),Ec=Object(P.o)("[ReservationCar] issue cash receipt success",Object(P.t)()),Mc=Object(P.o)("[ReservationCar] issue cash receipt failure",Object(P.t)()),Dc=Object(P.o)("[ReservationCar] cancel coupon payment payment",Object(P.t)()),Lc=Object(P.o)("[ReservationCar] cancel coupon payment success"),_c=Object(P.o)("[ReservationCar] cancel coupon payment failure",Object(P.t)()),$c=Object(P.o)("[ReservationCar] send point payment payment",Object(P.t)()),Bc=Object(P.o)("[ReservationCar] send point payment success"),wc=Object(P.o)("[ReservationCar] send point payment failure",Object(P.t)()),xc=Object(P.o)("[ReservationCar] cancel point payment payment",Object(P.t)()),Yc=Object(P.o)("[ReservationCar] cancel point payment success"),Hc=Object(P.o)("[ReservationCar] cancel point payment failure",Object(P.t)()),qc=Object(P.o)("[ReservationCar] load amount info",Object(P.t)()),Uc=Object(P.o)("[ReservationCar] load amount info success",Object(P.t)()),Qc=Object(P.o)("[ReservationCar] save amount vendor",Object(P.t)()),Gc=Object(P.o)("[ReservationCar] save amount sales",Object(P.t)()),Kc=Object(P.o)("[ReservationCar] load age type code",Object(P.t)()),zc=Object(P.o)("[ReservationCar] load age type code success",Object(P.t)()),Xc=Object(P.o)("[ReservationCar] load age type code failure",Object(P.t)()),Zc=Object(P.o)("[ReservationCar] open confirmation modal"),Jc=Object(P.o)("[ReservationCar] close confirmation modal"),es=Object(P.o)("[ReservationCar] open invoice modal"),ts=Object(P.o)("[ReservationCar] close invoice modal"),ns=Object(P.o)("[ReservationCar] cancel bank receipt",Object(P.t)()),is=Object(P.o)("[ReservationCar] open bank receipt modal",Object(P.t)()),os=Object(P.o)("[ReservationCar] close bank receipt modal"),as=Object(P.o)("[ReservationCar] open card receipt modal",Object(P.t)()),cs=Object(P.o)("[ReservationCar] close card receipt modal"),ss=Object(P.o)("[ReservationCar] open refund register"),rs=Object(P.o)("[ReservationCar] close refund register"),ls=Object(P.o)("[ReservationCar] open point payment modal"),ds=Object(P.o)("[ReservationCar] close point payment modal"),bs=Object(P.o)("[ReservationCar] createPaymentAction",Object(P.t)()),us=Object(P.o)("[ReservationHotel] load hotel reservation info",Object(P.t)()),ps=Object(P.o)("[ReservationHotel] load hotel reservation info success",Object(P.t)()),ms=Object(P.o)("[ReservationHotel] load hotel reservation info failure",Object(P.t)()),hs=Object(P.o)("[ReservationHotel] add sub tab",Object(P.t)()),gs=Object(P.o)("[ReservationHotel] del sub tab",Object(P.t)()),fs=Object(P.o)("[ReservationHotel] set sub tab",Object(P.t)()),vs=Object(P.o)("[ReservationHotel] open cancel modal"),Cs=Object(P.o)("[ReservationHotel] close cancel modal"),ys=Object(P.o)("[ReservationHotel] cancel hotel booking",Object(P.t)()),ks=Object(P.o)("[ReservationHotel] cancel hotel booking success"),Is=Object(P.o)("[ReservationHotel] cancel hotel booking failure",Object(P.t)()),Os=Object(P.o)("[ReservationHotel] load cancel charge amount",Object(P.t)()),Ps=Object(P.o)("[ReservationHotel] load cancel charge amount success",Object(P.t)()),js=Object(P.o)("[ReservationHotel] load hotel reservation basic info",Object(P.t)()),Vs=Object(P.o)("[ReservationHotel] load hotel reservation basic info success",Object(P.t)()),As=Object(P.o)("[ReservationHotel] load hotel reservation basic info failure",Object(P.t)()),Ws=Object(P.o)("[ReservationHotel] update hotel reservation basic info",Object(P.t)()),Rs=Object(P.o)("[ReservationHotel] update hotel reservation basic info success",Object(P.t)()),Fs=Object(P.o)("[ReservationHotel] update hotel reservation basic info failure",Object(P.t)()),Ss=Object(P.o)("[ReservationHotel] load hotel reservation cancel policy info",Object(P.t)()),Ts=Object(P.o)("[ReservationHotel] load hotel reservation cancel policy info success",Object(P.t)()),Ns=Object(P.o)("[ReservationHotel] load hotel reservation cancel policy info failure",Object(P.t)()),Es=Object(P.o)("[ReservationHotel] update hotel reservation cancel policy info",Object(P.t)()),Ms=Object(P.o)("[ReservationHotel] update hotel reservation cancel policy info success",Object(P.t)()),Ds=Object(P.o)("[ReservationHotel] update hotel reservation cancel policy info failure",Object(P.t)()),Ls=Object(P.o)("[ReservationHotel] load hotel reservation amount info",Object(P.t)()),_s=Object(P.o)("[ReservationHotel] load hotel reservation amount info success",Object(P.t)()),$s=Object(P.o)("[ReservationHotel] load hotel reservation amount info failure",Object(P.t)()),Bs=Object(P.o)("[ReservationHotel] save amount vendor",Object(P.t)()),ws=Object(P.o)("[ReservationHotel] save amount sales",Object(P.t)()),xs=Object(P.o)("[ReservationHotel] update booking detail info item",Object(P.t)()),Ys=Object(P.o)("[ReservationHotel] update booking detail info success",Object(P.t)()),Hs=Object(P.o)("[ReservationHotel] update booking detail info failure",Object(P.t)()),qs=Object(P.o)("[ReservationHotel] update hotel booking notice",Object(P.t)()),Us=Object(P.o)("[ReservationHotel] update hotel booking notice success",Object(P.t)()),Qs=Object(P.o)("[ReservationHotel] update hotel booking notice failure",Object(P.t)()),Gs=Object(P.o)("[ReservationHotel] update hotel reservation booking hotel request",Object(P.t)()),Ks=Object(P.o)("[ReservationHotel] update hotel reservation booking hotel request success",Object(P.t)()),zs=Object(P.o)("[ReservationHotel] update hotel reservation booking hotel request failure",Object(P.t)()),Xs=Object(P.o)("[ReservationHotel] update hotel reservation booking hotel room",Object(P.t)()),Zs=Object(P.o)("[ReservationHotel] update hotel reservation booking hotel room success",Object(P.t)()),Js=Object(P.o)("[ReservationHotel] update hotel reservation booking hotel room failure",Object(P.t)()),er=Object(P.o)("[ReservationHotel] open cash receipt issue modal"),tr=Object(P.o)("[ReservationHotel] close cash receipt issue modal"),nr=Object(P.o)("[ReservationHotel] open pg credit card modal"),ir=Object(P.o)("[ReservationHotel] close pg credit card modal"),or=Object(P.o)("[ReservationHotel] open pg bank modal"),ar=Object(P.o)("[ReservationHotel] close pg bank modal"),cr=Object(P.o)("[ReservationHotel] open credit card cancel modal"),sr=Object(P.o)("[ReservationHotel] close credit card cancel modal"),rr=Object(P.o)("[ReservationHotel] open coupon point cancel modal"),lr=Object(P.o)("[ReservationHotel] close coupon point cancel modal"),dr=Object(P.o)("[ReservationHotel] open payment manual modal"),br=Object(P.o)("[ReservationHotel] close payment manual modal"),ur=Object(P.o)("[ReservationHotel] save payment deposit manual",Object(P.t)()),pr=Object(P.o)("[ReservationHotel] delete payment",Object(P.t)()),mr=Object(P.o)("[ReservationHotel] create payment",Object(P.t)()),hr=Object(P.o)("[ReservationHotel] load policy monitoring info",Object(P.t)()),gr=Object(P.o)("[ReservationHotel] load policy monitoring info success",Object(P.t)()),fr=Object(P.o)("[ReservationHotel] save policy monitoring info",Object(P.t)()),vr=Object(P.o)("[ReservationHotel] send pg credit card payment",Object(P.t)()),Cr=Object(P.o)("[ReservationHotel] send pg credit card payment success",Object(P.t)()),yr=Object(P.o)("[ReservationHotel] send pg credit card payment failure",Object(P.t)()),kr=Object(P.o)("[ReservationHotel] send pg bank payment",Object(P.t)()),Ir=Object(P.o)("[ReservationHotel] send pg bank payment success",Object(P.t)()),Or=Object(P.o)("[ReservationHotel] send pg bank payment failure",Object(P.t)()),Pr=Object(P.o)("[ReservationHotel] select payment info payment",Object(P.t)()),jr=Object(P.o)("[ReservationHotel] remove payment info payment"),Vr=Object(P.o)("[ReservationHotel] cancel payment",Object(P.t)()),Ar=Object(P.o)("[ReservationHotel] cancel payment success",Object(P.t)()),Wr=Object(P.o)("[ReservationHotel] cancel payment failure",Object(P.t)()),Rr=Object(P.o)("[ReservationHotel] issue cash receipt",Object(P.t)()),Fr=Object(P.o)("[ReservationHotel] issue cash receipt success",Object(P.t)()),Sr=Object(P.o)("[ReservationHotel] issue cash receipt failure",Object(P.t)()),Tr=Object(P.o)("[ReservationHotel] cancel coupon payment payment",Object(P.t)()),Nr=Object(P.o)("[ReservationHotel] cancel coupon payment success"),Er=Object(P.o)("[ReservationHotel] cancel coupon payment failure",Object(P.t)()),Mr=Object(P.o)("[ReservationHotel] send point payment payment",Object(P.t)()),Dr=Object(P.o)("[ReservationHotel] send point payment success"),Lr=Object(P.o)("[ReservationHotel] send point payment failure",Object(P.t)()),_r=Object(P.o)("[ReservationHotel] cancel point payment payment",Object(P.t)()),$r=Object(P.o)("[ReservationHotel] cancel point payment success"),Br=Object(P.o)("[ReservationHotel] cancel point payment failure",Object(P.t)()),wr=Object(P.o)("[ReservationHotel] retrieve",Object(P.t)()),xr=Object(P.o)("[ReservationHotel] retrieve success"),Yr=Object(P.o)("[ReservationHotel] retrieve failure",Object(P.t)()),Hr=Object(P.o)("[ReservationHotel] open hotel content detail modal"),qr=Object(P.o)("[ReservationHotel] close hotel content detail modal"),Ur=Object(P.o)("[ReservationHotel] open voucher modal"),Qr=Object(P.o)("[ReservationHotel] close voucher modal"),Gr=Object(P.o)("[ReservationHotel] open invoice modal"),Kr=Object(P.o)("[ReservationHotel] close invoice modal"),zr=Object(P.o)("[ReservationHotel] cancel bank receipt",Object(P.t)()),Xr=Object(P.o)("[ReservationHotel] open bank receipt modal",Object(P.t)()),Zr=Object(P.o)("[ReservationHotel] close bank receipt modal"),Jr=Object(P.o)("[ReservationHotel] open refund register"),el=Object(P.o)("[ReservationHotel] close refund register"),tl=Object(P.o)("[ReservationHotel] open card receipt modal",Object(P.t)()),nl=Object(P.o)("[ReservationHotel] close card receipt modal"),il=Object(P.o)("[ReservationHotel] open point payment modal"),ol=Object(P.o)("[ReservationHotel] close point payment modal"),al=Object(P.o)("[ReservationHotel] load hotel reservation station list",Object(P.t)()),cl=Object(P.o)("[ReservationHotel] load hotel reservation station list success",Object(P.t)()),sl=Object(P.o)("[ReservationHotel] load hotel reservation station list failure",Object(P.t)()),rl=Object(P.o)("[ReservationHotel] load hotel reservation booking status list",Object(P.t)()),ll=Object(P.o)("[ReservationHotel] load hotel reservation booking status list success",Object(P.t)()),dl=Object(P.o)("[ReservationHotel] load hotel reservation booking status list failure",Object(P.t)()),bl=Object(P.o)("[ReservationHotel] load hotel reservation handle status list",Object(P.t)()),ul=Object(P.o)("[ReservationHotel] load hotel reservation handle status list success",Object(P.t)()),pl=Object(P.o)("[ReservationHotel] load hotel reservation device type list failure",Object(P.t)()),ml=Object(P.o)("[ReservationHotel] load hotel reservation device type list",Object(P.t)()),hl=Object(P.o)("[ReservationHotel] load hotel reservation device type list success",Object(P.t)()),gl=Object(P.o)("[ReservationHotel] load hotel reservation device type list failure",Object(P.t)()),fl=Object(P.o)("[ReservationHotel] load hotel reservation vendor list",Object(P.t)()),vl=Object(P.o)("[ReservationHotel] load hotel reservation vendor list success",Object(P.t)()),Cl=Object(P.o)("[ReservationHotel] load hotel reservation vendor list failure",Object(P.t)()),yl=Object(P.o)("[ReservationHotel] load hotel reservation age type list",Object(P.t)()),kl=Object(P.o)("[ReservationHotel] load hotel reservation age type list success",Object(P.t)()),Il=Object(P.o)("[ReservationHotel] load hotel reservation age type list failure",Object(P.t)()),Ol=Object(P.o)("[ReservationHotel] load late check in type list",Object(P.t)()),Pl=Object(P.o)("[ReservationHotel] load late check in type list success",Object(P.t)()),jl=Object(P.o)("[ReservationHotel] load late check in type list failure",Object(P.t)()),Vl=Object(P.o)("[ReservationHotel] load payment detail type list",Object(P.t)()),Al=Object(P.o)("[ReservationHotel] load payment detail type list success",Object(P.t)()),Wl=Object(P.o)("[ReservationHotel] load payment detail type list failure",Object(P.t)()),Rl=Object(P.o)("[ReservationHotel] load deposit type list",Object(P.t)()),Fl=Object(P.o)("[ReservationHotel] load deposit type list success",Object(P.t)()),Sl=Object(P.o)("[ReservationHotel] load deposit type list failure",Object(P.t)()),Tl=Object(P.o)("[ReservationHotel] load payment bank master list",Object(P.t)()),Nl=Object(P.o)("[ReservationHotel] load payment bank master list success",Object(P.t)()),El=Object(P.o)("[ReservationHotel] load payment bank master list failure",Object(P.t)()),Ml=Object(P.o)("[ReservationHotel] load gift card type list",Object(P.t)()),Dl=Object(P.o)("[ReservationHotel] load gift card type list success",Object(P.t)()),Ll=Object(P.o)("[ReservationHotel] load gift card type list failure",Object(P.t)()),_l=Object(P.o)("[ReservationHotel] load bed type list",Object(P.t)()),$l=Object(P.o)("[ReservationHotel] load bed type list success",Object(P.t)()),Bl=Object(P.o)("[ReservationHotel] load bed type list failure",Object(P.t)()),wl=Object(P.o)("[ReservationHotel] load corporate reason list",Object(P.t)()),xl=Object(P.o)("[ReservationHotel] load corporate reason list success",Object(P.t)()),Yl=Object(P.o)("[ReservationHotel] load corporate reason list failure",Object(P.t)()),Hl=Object(P.o)("[ReservationHotel] loadRoomCategoryList",Object(P.t)()),ql=Object(P.o)("[ReservationHotel] loadRoomCategoryList success",Object(P.t)()),Ul=Object(P.o)("[ReservationHotel] loadMealBasisList",Object(P.t)()),Ql=Object(P.o)("[ReservationHotel] loadMealBasisList success",Object(P.t)()),Gl=Object(P.o)("[ReservationHotel] loadFreeBreakfastList",Object(P.t)()),Kl=Object(P.o)("[ReservationHotel] loadFreeBreakfastList success",Object(P.t)()),zl=Object(P.o)("[ReservationHotel] loadcheckInList",Object(P.t)()),Xl=Object(P.o)("[ReservationHotel] loadcheckInList success",Object(P.t)()),Zl=Object(P.o)("[ReservationHotel] loadVendorPayment",Object(P.t)()),Jl=Object(P.o)("[ReservationHotel] loadVendorPayment success",Object(P.t)()),ed=Object(P.o)("[ReservationHotel] loadVccTypeList",Object(P.t)()),td=Object(P.o)("[ReservationHotel] loadVccTypeList success",Object(P.t)()),nd=Object(P.o)("[ReservationHotel] getPaymentVcc",Object(P.t)()),id=Object(P.o)("[ReservationHotel] getPaymentVcc success"),od=Object(P.o)("[ReservationHotel] putPaymentVcc",Object(P.t)()),ad=Object(P.o)("[ReservationHotel] putPaymentVcc success",Object(P.t)()),cd=Object(P.o)("[ReservationHotel] cancelPaymentVcc",Object(P.t)()),sd=Object(P.o)("[ReservationHotel] cancelPaymentVcc success",Object(P.t)()),rd=Object(P.o)("[ReservationHotel] loadClientPaymentStatus",Object(P.t)()),ld=Object(P.o)("[ReservationHotel] loadClientPaymentStatus success",Object(P.t)()),dd=Object(P.o)("[ReservationFlight] add sub tab",Object(P.t)()),bd=Object(P.o)("[ReservationFlight] del sub tab",Object(P.t)()),ud=Object(P.o)("[ReservationFlight] del all sub tab"),pd=Object(P.o)("[ReservationFlight] set sub tab",Object(P.t)()),md=Object(P.o)("[ReservationFlight] set retrieveYn",Object(P.t)()),hd=Object(P.o)("[ReservationFlight] set changeRequestSeq",Object(P.t)()),gd=Object(P.o)("[ReservationFlight] load info",Object(P.t)()),fd=Object(P.o)("[ReservationFlight] load info with retrieve",Object(P.t)()),vd=Object(P.o)("[ReservationFlight] load info success",Object(P.t)()),Cd=Object(P.o)("[ReservationFlight] load info failure",Object(P.t)()),yd=Object(P.o)("[ReservationFlight] open cancel modal"),kd=Object(P.o)("[ReservationFlight] close cancel modal"),Id=Object(P.o)("[ReservationFlight] cancel booking",Object(P.t)()),Od=Object(P.o)("[ReservationFlight] cancel booking success"),Pd=Object(P.o)("[ReservationFlight] cancel booking failure",Object(P.t)()),jd=Object(P.o)("[ReservationFlight] retrieve",Object(P.t)()),Vd=Object(P.o)("[ReservationFlight] retrieve success"),Ad=Object(P.o)("[ReservationFlight] retrieve failure",Object(P.t)()),Wd=Object(P.o)("[ReservationFlight] update booking flight item",Object(P.t)()),Rd=Object(P.o)("[ReservationFlight] update booking flight item success",Object(P.t)()),Fd=Object(P.o)("[ReservationFlight] update booking flight item failure",Object(P.t)()),Sd=Object(P.o)("[ReservationFlight] update pnr info item",Object(P.t)()),Td=Object(P.o)("[ReservationFlight] update pnr info item success",Object(P.t)()),Nd=Object(P.o)("[ReservationFlight] update pnr info item failure",Object(P.t)()),Ed=Object(P.o)("[ReservationFlight] open pnr modify modal"),Md=Object(P.o)("[ReservationFlight] close pnr modify modal"),Dd=Object(P.o)("[ReservationFlight] open traveler divide modal"),Ld=Object(P.o)("[ReservationFlight] close traveler divide modal"),_d=Object(P.o)("[ReservationFlight] save travelers",Object(P.t)()),$d=Object(P.o)("[ReservationFlight] save travelers success",Object(P.t)()),Bd=Object(P.o)("[ReservationFlight] save travelers failure",Object(P.t)()),wd=Object(P.o)("[ReservationFlight] delete travelers",Object(P.t)()),xd=Object(P.o)("[ReservationFlight] delete travelers success",Object(P.t)()),Yd=Object(P.o)("[ReservationFlight] delete travelers failure",Object(P.t)()),Hd=Object(P.o)("[ReservationFlight] divide travelers",Object(P.t)()),qd=Object(P.o)("[ReservationFlight] divide travelers success",Object(P.t)()),Ud=Object(P.o)("[ReservationFlight] divide travelers failure",Object(P.t)()),Qd=Object(P.o)("[ReservationFlight] load basic info",Object(P.t)()),Gd=Object(P.o)("[ReservationFlight] load basic info success",Object(P.t)()),Kd=Object(P.o)("[ReservationFlight] load basic info failure",Object(P.t)()),zd=Object(P.o)("[ReservationFlight] update basic info",Object(P.t)()),Xd=Object(P.o)("[ReservationFlight] update basic info success",Object(P.t)()),Zd=Object(P.o)("[ReservationFlight] update basic info failure",Object(P.t)()),Jd=Object(P.o)("[ReservationFlight] load fare rule info",Object(P.t)()),eb=Object(P.o)("[ReservationFlight] load fare rule info success",Object(P.t)()),tb=Object(P.o)("[ReservationFlight] load fare rule info failure",Object(P.t)()),nb=Object(P.o)("[ReservationFlight] save fare rule section info",Object(P.t)()),ib=Object(P.o)("[ReservationFlight] save fare rule section info failure",Object(P.t)()),ob=Object(P.o)("[ReservationFlight] delete fare rule section info",Object(P.t)()),ab=Object(P.o)("[ReservationFlight] delete fare rule section info failure",Object(P.t)()),cb=Object(P.o)("[ReservationFlight] save fare rule info",Object(P.t)()),sb=Object(P.o)("[ReservationFlight] save fare rule info failure",Object(P.t)()),rb=Object(P.o)("[ReservationFlight] delete fare rule info",Object(P.t)()),lb=Object(P.o)("[ReservationFlight] delete fare rule info failure",Object(P.t)()),db=Object(P.o)("[ReservationFlight] open original fare rule modal"),bb=Object(P.o)("[ReservationFlight] close original fare rule modal"),ub=Object(P.o)("[ReservationFlight] open fare rule research modal"),pb=Object(P.o)("[ReservationFlight] close fare rule research modal"),mb=Object(P.o)("[ReservationFlight] set fare evidence file url",Object(P.t)()),hb=Object(P.o)("[ReservationFlight] remove fare evidence file url"),gb=Object(P.o)("[ReservationFlight] load unpaid info",Object(P.t)()),fb=Object(P.o)("[ReservationFlight] load unpaid info success",Object(P.t)()),vb=Object(P.o)("[ReservationFlight] load unpaid info failure",Object(P.t)()),Cb=Object(P.o)("[ReservationFlight] open deposit mapping modal"),yb=Object(P.o)("[ReservationFlight] close deposit mapping modal"),kb=Object(P.o)("[ReservationFlight] load gds pnr info",Object(P.t)()),Ib=Object(P.o)("[ReservationFlight] load gds pnr info success",Object(P.t)()),Ob=Object(P.o)("[ReservationFlight] load gds pnr info failure",Object(P.t)()),Pb=Object(P.o)("[ReservationFlight] load pnr log info",Object(P.t)()),jb=Object(P.o)("[ReservationFlight] select gds pnr info",Object(P.t)()),Vb=Object(P.o)("[ReservationFlight] load pnr log info success",Object(P.t)()),Ab=Object(P.o)("[ReservationFlight] load pnr log info failure",Object(P.t)()),Wb=Object(P.o)("[ReservationFlight] save pnr log",Object(P.t)()),Rb=Object(P.o)("[ReservationFlight] save pnr log success",Object(P.t)()),Fb=Object(P.o)("[ReservationFlight] save pnr log failure",Object(P.t)()),Sb=Object(P.o)("[ReservationFlight] open pg credit card modal"),Tb=Object(P.o)("[ReservationFlight] close pg credit card modal"),Nb=Object(P.o)("[ReservationFlight] open pg bank modal"),Eb=Object(P.o)("[ReservationFlight] close pg bank modal"),Mb=Object(P.o)("[ReservationFlight] check price info",Object(P.t)()),Db=Object(P.o)("[ReservationFlight] remove price info",Object(P.t)()),Lb=Object(P.o)("[ReservationFlight] open charge info modal"),_b=Object(P.o)("[ReservationFlight] close charge info modal"),$b=Object(P.o)("[ReservationFlight] open charge info update modal",Object(P.t)()),Bb=Object(P.o)("[ReservationFlight] close charge info update modal"),wb=Object(P.o)("[ReservationFlight] open charge pg credit card modal"),xb=Object(P.o)("[ReservationFlight] close charge pg credit card modal"),Yb=Object(P.o)("[ReservationFlight] open charge pg bank modal"),Hb=Object(P.o)("[ReservationFlight] close charge pg bank modal"),qb=Object(P.o)("[ReservationFlight] save charge info",Object(P.t)()),Ub=Object(P.o)("[ReservationFlight] save charge info success",Object(P.t)()),Qb=Object(P.o)("[ReservationFlight] save charge info failure",Object(P.t)()),Gb=Object(P.o)("[ReservationFlight] delete charge info",Object(P.t)()),Kb=Object(P.o)("[ReservationFlight] delete charge info success",Object(P.t)()),zb=Object(P.o)("[ReservationFlight] delete charge info failure",Object(P.t)()),Xb=Object(P.o)("[ReservationFlight] load tasf info",Object(P.t)()),Zb=Object(P.o)("[ReservationFlight] load tasf info success",Object(P.t)()),Jb=Object(P.o)("[ReservationFlight] load tasf info failure",Object(P.t)()),eu=Object(P.o)("[ReservationFlight] check charge price info",Object(P.t)()),tu=Object(P.o)("[ReservationFlight] remove charge price info",Object(P.t)()),nu=Object(P.o)("[ReservationFlight] update charge info",Object(P.t)()),iu=Object(P.o)("[ReservationFlight] open ancillary info modal"),ou=Object(P.o)("[ReservationFlight] close ancillary info modal"),au=Object(P.o)("[ReservationFlight] open ancillary pg credit card modal"),cu=Object(P.o)("[ReservationFlight] close ancillary pg credit card modal"),su=Object(P.o)("[ReservationFlight] open ancillary pg bank modal"),ru=Object(P.o)("[ReservationFlight] close ancillary pg bank modal"),lu=Object(P.o)("[ReservationFlight] save ancillary info",Object(P.t)()),du=Object(P.o)("[ReservationFlight] save ancillary info success",Object(P.t)()),bu=Object(P.o)("[ReservationFlight] save ancillary info failure",Object(P.t)()),uu=Object(P.o)("[ReservationFlight] delete ancillary info",Object(P.t)()),pu=Object(P.o)("[ReservationFlight] delete ancillary info success",Object(P.t)()),mu=Object(P.o)("[ReservationFlight] delete ancillary info failure",Object(P.t)()),hu=Object(P.o)("[ReservationFlight] check ancillary price info",Object(P.t)()),gu=Object(P.o)("[ReservationFlight] remove ancillary price info",Object(P.t)()),fu=Object(P.o)("[ReservationFlight] save apis",Object(P.t)()),vu=Object(P.o)("[ReservationFlight] save apis success",Object(P.t)()),Cu=Object(P.o)("[ReservationFlight] save apis failure",Object(P.t)()),yu=Object(P.o)("[ReservationFlight] save mileage card",Object(P.t)()),ku=Object(P.o)("[ReservationFlight] save mileage card success",Object(P.t)()),Iu=Object(P.o)("[ReservationFlight] save mileage card failure",Object(P.t)()),Ou=Object(P.o)("[ReservationFlight] save schedule",Object(P.t)()),Pu=Object(P.o)("[ReservationFlight] save schedule success",Object(P.t)()),ju=Object(P.o)("[ReservationFlight] save schedule failure",Object(P.t)()),Vu=Object(P.o)("[ReservationFlight] add schedule",Object(P.t)()),Au=Object(P.o)("[ReservationFlight] add schedule success",Object(P.t)()),Wu=Object(P.o)("[ReservationFlight] add schedule failure",Object(P.t)()),Ru=Object(P.o)("[ReservationFlight] delete schedule",Object(P.t)()),Fu=Object(P.o)("[ReservationFlight] delete schedule success",Object(P.t)()),Su=Object(P.o)("[ReservationFlight] delete schedule failure",Object(P.t)()),Tu=Object(P.o)("[ReservationFlight] click schedule row schedule",Object(P.t)()),Nu=Object(P.o)("[ReservationFlight] reset schedule form"),Eu=Object(P.o)("[ReservationFlight] check schedule rowid",Object(P.t)()),Mu=Object(P.o)("[ReservationFlight] remove checked schedule rowid"),Du=Object(P.o)("[ReservationFlight] open schedule form"),Lu=Object(P.o)("[ReservationFlight] close schedule form"),_u=Object(P.o)("[ReservationFlight] fix segment",Object(P.t)()),$u=Object(P.o)("[ReservationFlight] fix segment success",Object(P.t)()),Bu=Object(P.o)("[ReservationFlight] confirm fare evidence",Object(P.t)()),wu=Object(P.o)("[ReservationFlight] confirm fare evidence success",Object(P.t)()),xu=Object(P.o)("[ReservationFlight] confirm fare evidence failure",Object(P.t)()),Yu=Object(P.o)("[ReservationFlight] cancel confirm fare evidence",Object(P.t)()),Hu=Object(P.o)("[ReservationFlight] cancel confirm fare evidence success",Object(P.t)()),qu=Object(P.o)("[ReservationFlight] cancel confirm fare evidence failure",Object(P.t)()),Uu=Object(P.o)("[ReservationFlight] display fare evidence",Object(P.t)()),Qu=Object(P.o)("[ReservationFlight] display fare evidence success",Object(P.t)()),Gu=Object(P.o)("[ReservationFlight] display fare evidence failure",Object(P.t)()),Ku=Object(P.o)("[ReservationFlight] delete fare evidence",Object(P.t)()),zu=Object(P.o)("[ReservationFlight] delete fare evidence success",Object(P.t)()),Xu=Object(P.o)("[ReservationFlight] delete fare evidence failure",Object(P.t)()),Zu=Object(P.o)("[ReservationFlight] save fare evidence",Object(P.t)()),Ju=Object(P.o)("[ReservationFlight] save fare evidence success",Object(P.t)()),ep=Object(P.o)("[ReservationFlight] save fare evidence failure",Object(P.t)()),tp=Object(P.o)("[ReservationFlight] click fare evidence row",Object(P.t)()),np=Object(P.o)("[ReservationFlight] remove selected fare evidence"),ip=Object(P.o)("[ReservationFlight] reset fare evidence form"),op=Object(P.o)("[ReservationFlight] confirm payment evidence",Object(P.t)()),ap=Object(P.o)("[ReservationFlight] confirm payment evidence success",Object(P.t)()),cp=Object(P.o)("[ReservationFlight] confirm payment evidence failure",Object(P.t)()),sp=Object(P.o)("[ReservationFlight] cancel confirm payment evidence",Object(P.t)()),rp=Object(P.o)("[ReservationFlight] cancel confirm payment evidence success",Object(P.t)()),lp=Object(P.o)("[ReservationFlight] cancel confirm payment evidence failure",Object(P.t)()),dp=Object(P.o)("[ReservationFlight] delete payment evidence",Object(P.t)()),bp=Object(P.o)("[ReservationFlight] delete payment evidence success",Object(P.t)()),up=Object(P.o)("[ReservationFlight] delete payment evidence failure",Object(P.t)()),pp=Object(P.o)("[ReservationFlight] save payment evidence",Object(P.t)()),mp=Object(P.o)("[ReservationFlight] save payment evidence success",Object(P.t)()),hp=Object(P.o)("[ReservationFlight] save payment evidence failure",Object(P.t)()),gp=Object(P.o)("[ReservationFlight] check payment evidence rowid",Object(P.t)()),fp=Object(P.o)("[ReservationFlight] remove payment evidence rowid"),vp=Object(P.o)("[ReservationFlight] reset payment evidence form"),Cp=Object(P.o)("[ReservationFlight] set payment evidence file url",Object(P.t)()),yp=Object(P.o)("[ReservationFlight] remove payment evidence file url"),kp=Object(P.o)("[ReservationFlight] load payment approve info",Object(P.t)()),Ip=Object(P.o)("[ReservationFlight] load payment approve info success",Object(P.t)()),Op=Object(P.o)("[ReservationFlight] send tasf pg credit card payment",Object(P.t)()),Pp=Object(P.o)("[ReservationFlight] open pg credit card approve modal"),jp=Object(P.o)("[ReservationFlight] close pg credit card approve modal"),Vp=Object(P.o)("[ReservationFlight] send payment",Object(P.t)()),Ap=Object(P.o)("[ReservationFlight] send payment success",Object(P.t)()),Wp=Object(P.o)("[ReservationFlight] send payment failure",Object(P.t)()),Rp=Object(P.o)("[ReservationFlight] send charge payment",Object(P.t)()),Fp=Object(P.o)("[ReservationFlight] send ancillary payment",Object(P.t)()),Sp=Object(P.o)("[ReservationFlight] send pg bank payment",Object(P.t)()),Tp=Object(P.o)("[ReservationFlight] send pg bank payment success",Object(P.t)()),Np=Object(P.o)("[ReservationFlight] send pg bank payment failure",Object(P.t)()),Ep=Object(P.o)("[ReservationFlight] send charge pg bank payment",Object(P.t)()),Mp=Object(P.o)("[ReservationFlight] send charge pg bank payment success",Object(P.t)()),Dp=Object(P.o)("[ReservationFlight] send charge pg bank payment failure",Object(P.t)()),Lp=Object(P.o)("[ReservationFlight] send ancillary pg bank payment",Object(P.t)()),_p=Object(P.o)("[ReservationFlight] load promotion list",Object(P.t)()),$p=Object(P.o)("[ReservationFlight] load promotion list success",Object(P.t)()),Bp=Object(P.o)("[ReservationFlight] load promotion list failure",Object(P.t)()),wp=Object(P.o)("[ReservationFlight] open promotion change modal"),xp=Object(P.o)("[ReservationFlight] close promotion change modal"),Yp=Object(P.o)("[ReservationFlight] save promotion info",Object(P.t)()),Hp=Object(P.o)("[ReservationFlight] save promotion info success",Object(P.t)()),qp=Object(P.o)("[ReservationFlight] save promotion info failure",Object(P.t)()),Up=Object(P.o)("[ReservationFlight] load booking flight payment",Object(P.t)()),Qp=Object(P.o)("[ReservationFlight] load booking flight payment success",Object(P.t)()),Gp=Object(P.o)("[ReservationFlight] load booking flight payment failure",Object(P.t)()),Kp=Object(P.o)("[ReservationFlight] open payment cancel modal"),zp=Object(P.o)("[ReservationFlight] close payment cancel modal"),Xp=Object(P.o)("[ReservationFlight] open coupon point cancel modal"),Zp=Object(P.o)("[ReservationFlight] close coupon point cancel modal"),Jp=Object(P.o)("[ReservationFlight] open payment manual modal"),em=Object(P.o)("[ReservationFlight] close payment manual modal"),tm=Object(P.o)("[ReservationFlight] cancel payment",Object(P.t)()),nm=Object(P.o)("[ReservationFlight] cancel payment success",Object(P.t)()),im=Object(P.o)("[ReservationFlight] cancel payment failure",Object(P.t)()),om=Object(P.o)("[ReservationFlight] cancel coupon payment payment",Object(P.t)()),am=Object(P.o)("[ReservationFlight] cancel coupon payment success"),cm=Object(P.o)("[ReservationFlight] cancel coupon payment failure",Object(P.t)()),sm=Object(P.o)("[ReservationFlight] cancel point payment payment",Object(P.t)()),rm=Object(P.o)("[ReservationFlight] cancel point payment success"),lm=Object(P.o)("[ReservationFlight] cancel point payment failure",Object(P.t)()),dm=Object(P.o)("[ReservationFlight] open cash receipt issue modal"),bm=Object(P.o)("[ReservationFlight] close cash receipt issue modal"),um=Object(P.o)("[ReservationFlight] issue cash receipt",Object(P.t)()),pm=Object(P.o)("[ReservationFlight] issue cash receipt success",Object(P.t)()),mm=Object(P.o)("[ReservationFlight] cancel cash receipt",Object(P.t)()),hm=Object(P.o)("[ReservationFlight] cancel cash receipt success",Object(P.t)()),gm=Object(P.o)("[ReservationFlight] issue cash receipt failure",Object(P.t)()),fm=Object(P.o)("[ReservationFlight] select payment info",Object(P.t)()),vm=Object(P.o)("[ReservationFlight] remove selected payment info"),Cm=Object(P.o)("[ReservationFlight] open payment info type select modal"),ym=Object(P.o)("[ReservationFlight] close payment info type select modal"),km=Object(P.o)("[ReservationFlight] open payment info register modal",Object(P.t)()),Im=Object(P.o)("[ReservationFlight] close payment info register modal"),Om=Object(P.o)("[ReservationFlight] open payment info update modal",Object(P.t)()),Pm=Object(P.o)("[ReservationFlight] close payment info update modal"),jm=Object(P.o)("[ReservationFlight] check payment infos",Object(P.t)()),Vm=Object(P.o)("[ReservationFlight] save manual ticket info",Object(P.t)()),Am=Object(P.o)("[ReservationFlight] save manual ticket info success",Object(P.t)()),Wm=Object(P.o)("[ReservationFlight] save manual ticket info failure",Object(P.t)()),Rm=Object(P.o)("[ReservationFlight] delete manual ticket info",Object(P.t)()),Fm=Object(P.o)("[ReservationFlight] delete manual ticket info success",Object(P.t)()),Sm=Object(P.o)("[ReservationFlight] delete manual ticket info failure",Object(P.t)()),Tm=Object(P.o)("[ReservationFlight] load ticket no",Object(P.t)()),Nm=Object(P.o)("[ReservationFlight] load ticket no success",Object(P.t)()),Em=Object(P.o)("[ReservationFlight] load ticket no failure",Object(P.t)()),Mm=Object(P.o)("[ReservationFlight] remove ticket no"),Dm=Object(P.o)("[ReservationFlight] load ticketing info",Object(P.t)()),Lm=Object(P.o)("[ReservationFlight] load ticketing info success",Object(P.t)()),_m=Object(P.o)("[ReservationFlight] load ticketing info failure",Object(P.t)()),$m=Object(P.o)("[ReservationFlight] delete dsr mapping",Object(P.t)()),Bm=Object(P.o)("[ReservationFlight] select ticket detail info",Object(P.t)()),wm=Object(P.o)("[ReservationFlight] selected refund ticket info",Object(P.t)()),xm=Object(P.o)("[ReservationFlight] remove ticket detail info"),Ym=Object(P.o)("[ReservationFlight] open add fare modal"),Hm=Object(P.o)("[ReservationFlight] close add fare modal"),qm=Object(P.o)("[ReservationFlight] open ticket mapping modal",Object(P.t)()),Um=Object(P.o)("[ReservationFlight] close ticket mapping modal"),Qm=Object(P.o)("[ReservationFlight] open ticket mapping delete modal",Object(P.t)()),Gm=Object(P.o)("[ReservationFlight] close ticket mapping delete modal"),Km=Object(P.o)("[ReservationFlight] save fare",Object(P.t)()),zm=Object(P.o)("[ReservationFlight] save fare success",Object(P.t)()),Xm=Object(P.o)("[ReservationFlight] save fare failure",Object(P.t)()),Zm=Object(P.o)("[ReservationFlight] delete fare",Object(P.t)()),Jm=Object(P.o)("[ReservationFlight] update tasfAgencyPlYn",Object(P.t)()),eh=Object(P.o)("[ReservationFlight] open fare modal info",Object(P.t)()),th=Object(P.o)("[ReservationFlight] remove selected price info"),nh=Object(P.o)("[ReservationFlight] save ticket mapping",Object(P.t)()),ih=Object(P.o)("[ReservationFlight] save ticket mapping success",Object(P.t)()),oh=Object(P.o)("[ReservationFlight] save ticket mapping failure",Object(P.t)()),ah=Object(P.o)("[ReservationFlight] delete ticket mapping",Object(P.t)()),ch=Object(P.o)("[ReservationFlight] delete ticket mapping success",Object(P.t)()),sh=Object(P.o)("[ReservationFlight] delete ticket mapping failure",Object(P.t)()),rh=Object(P.o)("[ReservationFlight] open price payment manual modal",Object(P.t)()),lh=Object(P.o)("[ReservationFlight] close price payment manual modal"),dh=Object(P.o)("[ReservationFlight] load refund request info",Object(P.t)()),bh=Object(P.o)("[ReservationFlight] load refund request info success",Object(P.t)()),uh=Object(P.o)("[ReservationFlight] load refund request info failure",Object(P.t)()),ph=Object(P.o)("[ReservationFlight] save refund request info",Object(P.t)()),mh=Object(P.o)("[ReservationFlight] save refund request info success",Object(P.t)()),hh=Object(P.o)("[ReservationFlight] save refund request info failure",Object(P.t)()),gh=Object(P.o)("[ReservationFlight] cancel refund request info",Object(P.t)()),fh=Object(P.o)("[ReservationFlight] select penalty info",Object(P.t)()),vh=Object(P.o)("[ReservationFlight] remove penalty info "),Ch=Object(P.o)("[ReservationFlight] save payment deposit manual",Object(P.t)()),yh=Object(P.o)("[ReservationFlight] delete payment",Object(P.t)()),kh=Object(P.o)("[ReservationFlight] open payment penalty cancel modal"),Ih=Object(P.o)("[ReservationFlight] close payment penalty cancel modal"),Oh=Object(P.o)("[ReservationFlight] cancel payment penalty",Object(P.t)()),Ph=Object(P.o)("[ReservationFlight] load refund info",Object(P.t)()),jh=Object(P.o)("[ReservationFlight] load refund info success",Object(P.t)()),Vh=Object(P.o)("[ReservationFlight] load refund info failure",Object(P.t)()),Ah=Object(P.o)("[ReservationFlight] save refund billing",Object(P.t)()),Wh=Object(P.o)("[ReservationFlight] save refund billing success",Object(P.t)()),Rh=Object(P.o)("[ReservationFlight] save refund billing failure",Object(P.t)()),Fh=Object(P.o)("[ReservationFlight] save refund dsr",Object(P.t)()),Sh=Object(P.o)("[ReservationFlight] save refund dsr success",Object(P.t)()),Th=Object(P.o)("[ReservationFlight] save refund dsr failure",Object(P.t)()),Nh=Object(P.o)("[ReservationFlight] save refund payment",Object(P.t)()),Eh=Object(P.o)("[ReservationFlight] save refund payment success",Object(P.t)()),Mh=Object(P.o)("[ReservationFlight] save refund payment failure",Object(P.t)()),Dh=Object(P.o)("[ReservationFlight] delete payment info",Object(P.t)()),Lh=Object(P.o)("[ReservationFlight] delete all payment info",Object(P.t)()),_h=Object(P.o)("[ReservationFlight] load payment bank issue info",Object(P.t)()),$h=Object(P.o)("[ReservationFlight] load payment bank issue info success",Object(P.t)()),Bh=Object(P.o)("[ReservationFlight] load payment bank issue info failure",Object(P.t)()),wh=Object(P.o)("[ReservationFlight] remove payment bank issue info"),xh=Object(P.o)("[ReservationFlight] load payment register info",Object(P.t)()),Yh=Object(P.o)("[ReservationFlight] load payment register info success",Object(P.t)()),Hh=Object(P.o)("[ReservationFlight] load payment update info",Object(P.t)()),qh=Object(P.o)("[ReservationFlight] load payment update info success",Object(P.t)()),Uh=Object(P.o)("[ReservationFlight] register payment info",Object(P.t)()),Qh=Object(P.o)("[ReservationFlight] update payment info",Object(P.t)()),Gh=Object(P.o)("[ReservationFlight] load policy monitoring info",Object(P.t)()),Kh=Object(P.o)("[ReservationFlight] load policy monitoring info success",Object(P.t)()),zh=Object(P.o)("[ReservationFlight] save policy monitoring info",Object(P.t)()),Xh=Object(P.o)("[ReservationFlight] save request remark",Object(P.t)()),Zh=Object(P.o)("[ReservationFlight] open off register"),Jh=Object(P.o)("[ReservationFlight] close off register"),eg=Object(P.o)("[ReservationFlight] cancel bank receipt",Object(P.t)()),tg=Object(P.o)("[ReservationFlight] open bank receipt modal",Object(P.t)()),ng=Object(P.o)("[ReservationFlight] close bank receipt modal"),ig=Object(P.o)("[ReservationFlight] open invoice modal"),og=Object(P.o)("[ReservationFlight] close invoice modal"),ag=Object(P.o)("[ReservationFlight] load departure type list",Object(P.t)()),cg=Object(P.o)("[ReservationFlight] load departure type list success",Object(P.t)()),sg=Object(P.o)("[ReservationFlight] load departure type list failure",Object(P.t)()),rg=Object(P.o)("[ReservationFlight] load flight control branch list",Object(P.t)()),lg=Object(P.o)("[ReservationFlight] load control branch list success",Object(P.t)()),dg=Object(P.o)("[ReservationFlight] load control branch list failure",Object(P.t)()),bg=Object(P.o)("[ReservationFlight] load age type list",Object(P.t)()),ug=Object(P.o)("[ReservationFlight] load age type list success",Object(P.t)()),pg=Object(P.o)("[ReservationFlight] load age type list failure",Object(P.t)()),mg=Object(P.o)("[ReservationFlight] load booking status list",Object(P.t)()),hg=Object(P.o)("[ReservationFlight] load booking status list success",Object(P.t)()),gg=Object(P.o)("[ReservationFlight] load booking status list failure",Object(P.t)()),fg=Object(P.o)("[ReservationFlight] load request status list",Object(P.t)()),vg=Object(P.o)("[ReservationFlight] load request status list success",Object(P.t)()),Cg=Object(P.o)("[ReservationFlight] load request status list failure",Object(P.t)()),yg=Object(P.o)("[ReservationFlight] load device type list",Object(P.t)()),kg=Object(P.o)("[ReservationFlight] load device type list success",Object(P.t)()),Ig=Object(P.o)("[ReservationFlight] load device type list failure",Object(P.t)()),Og=Object(P.o)("[ReservationFlight] load evidence type list",Object(P.t)()),Pg=Object(P.o)("[ReservationFlight] load evidence type list success",Object(P.t)()),jg=Object(P.o)("[ReservationFlight] load evidence type list failure",Object(P.t)()),Vg=Object(P.o)("[ReservationFlight] load card master list",Object(P.t)()),Ag=Object(P.o)("[ReservationFlight] load card master list success",Object(P.t)()),Wg=Object(P.o)("[ReservationFlight] load card master list failure",Object(P.t)()),Rg=Object(P.o)("[ReservationFlight] load cash receipt purpose list",Object(P.t)()),Fg=Object(P.o)("[ReservationFlight] load cash receipt purpose list success",Object(P.t)()),Sg=Object(P.o)("[ReservationFlight] load cash receipt purpose list failure",Object(P.t)()),Tg=Object(P.o)("[ReservationFlight] load cash receipt kind list",Object(P.t)()),Ng=Object(P.o)("[ReservationFlight] load cash receipt kind list success",Object(P.t)()),Eg=Object(P.o)("[ReservationFlight] load cash receipt kind list failure",Object(P.t)()),Mg=Object(P.o)("[ReservationFlight] load card holder type list",Object(P.t)()),Dg=Object(P.o)("[ReservationFlight] load card holder type list success",Object(P.t)()),Lg=Object(P.o)("[ReservationFlight] load card holder type list failure",Object(P.t)()),_g=Object(P.o)("[ReservationFlight] load card holder relation list",Object(P.t)()),$g=Object(P.o)("[ReservationFlight] load card holder relation list success",Object(P.t)()),Bg=Object(P.o)("[ReservationFlight] load card holder relation list failure",Object(P.t)()),wg=Object(P.o)("[ReservationFlight] load bank master list",Object(P.t)()),xg=Object(P.o)("[ReservationFlight] load bank master list success",Object(P.t)()),Yg=Object(P.o)("[ReservationFlight] load bank master list failure",Object(P.t)()),Hg=Object(P.o)("[ReservationFlight] load ticketing status code list",Object(P.t)()),qg=Object(P.o)("[ReservationFlight] load ticketing status code list success",Object(P.t)()),Ug=Object(P.o)("[ReservationFlight] load ticketing status code list failure",Object(P.t)()),Qg=Object(P.o)("[ReservationFlight] load fop code list",Object(P.t)()),Gg=Object(P.o)("[ReservationFlight] load fop code list success",Object(P.t)()),Kg=Object(P.o)("[ReservationFlight] load fop code list failure",Object(P.t)()),zg=Object(P.o)("[ReservationFlight] load billing type list",Object(P.t)()),Xg=Object(P.o)("[ReservationFlight] load billing type list success",Object(P.t)()),Zg=Object(P.o)("[ReservationFlight] load billing type list failure",Object(P.t)()),Jg=Object(P.o)("[ReservationFlight] load gds/ndc comp list",Object(P.t)()),ef=Object(P.o)("[ReservationFlight] load gds/ndc comp list success",Object(P.t)()),tf=Object(P.o)("[ReservationFlight] load gds/ndc comp list failure",Object(P.t)()),nf=Object(P.o)("[ReservationFlight] load airline charge type list",Object(P.t)()),of=Object(P.o)("[ReservationFlight] load airline charge type list success",Object(P.t)()),af=Object(P.o)("[ReservationFlight] load airline charge type list failure",Object(P.t)()),cf=Object(P.o)("[ReservationFlight] load booking traveler list",Object(P.t)()),sf=Object(P.o)("[ReservationFlight] load booking traveler list success",Object(P.t)()),rf=Object(P.o)("[ReservationFlight] load booking traveler list failure",Object(P.t)()),lf=Object(P.o)("[ReservationFlight] load ticket void type list",Object(P.t)()),df=Object(P.o)("[ReservationFlight] load ticket void type list success",Object(P.t)()),bf=Object(P.o)("[ReservationFlight] load ticket void type list failure",Object(P.t)()),uf=Object(P.o)("[ReservationFlight] load booking fare type list",Object(P.t)()),pf=Object(P.o)("[ReservationFlight] load booking fare type list success",Object(P.t)()),mf=Object(P.o)("[ReservationFlight] load booking fare type list failure",Object(P.t)()),hf=Object(P.o)("[ReservationFlight] load ancillary type list",Object(P.t)()),gf=Object(P.o)("[ReservationFlight] load ancillary type list success",Object(P.t)()),ff=Object(P.o)("[ReservationFlight] load ancillary type list failure",Object(P.t)()),vf=Object(P.o)("[ReservationFlight] load ancillary status list",Object(P.t)()),Cf=Object(P.o)("[ReservationFlight] load ancillary status list success",Object(P.t)()),yf=Object(P.o)("[ReservationFlight] load ancillary status list failure",Object(P.t)()),kf=Object(P.o)("[ReservationFlight] load corporate reason list",Object(P.t)()),If=Object(P.o)("[ReservationFlight] load corporate reason list success",Object(P.t)()),Of=Object(P.o)("[ReservationFlight] load corporate reason list failure",Object(P.t)()),Pf=Object(P.o)("[ReservationFlight] load change request status list",Object(P.t)()),jf=Object(P.o)("[ReservationFlight] load change request status list success",Object(P.t)()),Vf=Object(P.o)("[ReservationFlight] load change request status list failure",Object(P.t)()),Af=Object(P.o)("[ReservationFlight] load bsp billing period list",Object(P.t)()),Wf=Object(P.o)("[ReservationFlight] load bsp billing period list success",Object(P.t)()),Rf=Object(P.o)("[ReservationFlight] load bsp billing period list failure",Object(P.t)()),Ff=Object(P.o)("[ReservationFlight] load adjust reason list",Object(P.t)()),Sf=Object(P.o)("[ReservationFlight] load adjust reason list success",Object(P.t)()),Tf=Object(P.o)("[ReservationFlight] load adjust reason list failure",Object(P.t)()),Nf=Object(P.o)("[ReservationFlight] load payment detail type add list",Object(P.t)()),Ef=Object(P.o)("[ReservationFlight] load payment detail type add list success",Object(P.t)()),Mf=Object(P.o)("[ReservationFlight] load payment detail type add list failure",Object(P.t)()),Df=Object(P.o)("[ReservationFlight] load payment detail type sales list",Object(P.t)()),Lf=Object(P.o)("[ReservationFlight] load payment detail type sales list success",Object(P.t)()),_f=Object(P.o)("[ReservationFlight] load payment detail type sales list failure",Object(P.t)()),$f=Object(P.o)("[ReservationFlight] load deposit type list",Object(P.t)()),Bf=Object(P.o)("[ReservationFlight] load deposit type list success",Object(P.t)()),wf=Object(P.o)("[ReservationFlight] load deposit type list failure",Object(P.t)()),xf=Object(P.o)("[ReservationFlight] load payment bank master list",Object(P.t)()),Yf=Object(P.o)("[ReservationFlight] load payment bank master list success",Object(P.t)()),Hf=Object(P.o)("[ReservationFlight] load payment bank master list failure",Object(P.t)()),qf=Object(P.o)("[ReservationFlight] load gift card type list",Object(P.t)()),Uf=Object(P.o)("[ReservationFlight] load gift card type list success",Object(P.t)()),Qf=Object(P.o)("[ReservationFlight] load gift card type list failure",Object(P.t)()),Gf=Object(P.o)("[ReservationFlight] load station list",Object(P.t)()),Kf=Object(P.o)("[ReservationFlight] load station list success",Object(P.t)()),zf=Object(P.o)("[ReservationFlight] load station list failure",Object(P.t)()),Xf=Object(P.o)("[ReservationFlight] load handle status list",Object(P.t)()),Zf=Object(P.o)("[ReservationFlight] load handle status list success",Object(P.t)()),Jf=Object(P.o)("[ReservationFlight] load device type list failure",Object(P.t)()),ev=Object(P.o)("[ReservationFlight] load et emd other type list",Object(P.t)()),tv=Object(P.o)("[ReservationFlight] load et emd other type list success",Object(P.t)()),nv=Object(P.o)("[ReservationFlight] load et emd other type list failure",Object(P.t)()),iv=Object(P.o)("[ReservationFlight] load payment status code list",Object(P.t)()),ov=Object(P.o)("[ReservationFlight] load payment status code list success",Object(P.t)()),av=Object(P.o)("[ReservationFlight] load payment status code list failure",Object(P.t)()),cv=Object(P.o)("[ReservationFlight] load vendor list",Object(P.t)()),sv=Object(P.o)("[ReservationFlight] load vendor list success",Object(P.t)()),rv=Object(P.o)("[ReservationFlight] load vendor list failure",Object(P.t)()),lv=Object(P.o)("[ReservationActivity] load activity reservation info",Object(P.t)()),dv=Object(P.o)("[ReservationActivity] load activity reservation info success",Object(P.t)()),bv=Object(P.o)("[ReservationActivity] load activity reservation info failure",Object(P.t)()),uv=Object(P.o)("[ReservationActivity] add sub tab",Object(P.t)()),pv=Object(P.o)("[ReservationActivity] del sub tab",Object(P.t)()),mv=Object(P.o)("[ReservationActivity] set sub tab",Object(P.t)()),hv=Object(P.o)("[ReservationActivity] load basic info",Object(P.t)()),gv=Object(P.o)("[ReservationActivity] load basic info success",Object(P.t)()),fv=Object(P.o)("[ReservationActivity] load basic info failure",Object(P.t)()),vv=Object(P.o)("[ReservationActivity] save basic info",Object(P.t)()),Cv=Object(P.o)("[ReservationActivity] save basic info success",Object(P.t)()),yv=Object(P.o)("[ReservationActivity] save basic info failure",Object(P.t)()),kv=Object(P.o)("[ReservationActivity] load cancel policy",Object(P.t)()),Iv=Object(P.o)("[ReservationActivity] load cancel policy success",Object(P.t)()),Ov=Object(P.o)("[ReservationActivity] load cancel policy failure",Object(P.t)()),Pv=Object(P.o)("[ReservationActivity] save cancel policy",Object(P.t)()),jv=Object(P.o)("[ReservationActivity] save cancel policy success",Object(P.t)()),Vv=Object(P.o)("[ReservationActivity] save cancel policy failure",Object(P.t)()),Av=Object(P.o)("[ReservationActivity] save booking detail",Object(P.t)()),Wv=Object(P.o)("[ReservationActivity] save booking detail success",Object(P.t)()),Rv=Object(P.o)("[ReservationActivity] save booking detail failure",Object(P.t)()),Fv=Object(P.o)("[ReservationActivity] save traveler",Object(P.t)()),Sv=Object(P.o)("[ReservationActivity] save traveler success",Object(P.t)()),Tv=Object(P.o)("[ReservationActivity] save traveler failure",Object(P.t)()),Nv=Object(P.o)("[ReservationActivity] delete traveler",Object(P.t)()),Ev=Object(P.o)("[ReservationActivity] delete traveler success",Object(P.t)()),Mv=Object(P.o)("[ReservationActivity] delete traveler failure",Object(P.t)()),Dv=Object(P.o)("[ReservationActivity] save needed info",Object(P.t)()),Lv=Object(P.o)("[ReservationActivity] save needed info success",Object(P.t)()),_v=Object(P.o)("[ReservationActivity] save needed info failure",Object(P.t)()),$v=Object(P.o)("[ReservationActivity] open cancel modal"),Bv=Object(P.o)("[ReservationActivity] close cancel modal"),wv=Object(P.o)("[ReservationActivity] cancel activity booking",Object(P.t)()),xv=Object(P.o)("[ReservationActivity] cancel activity booking success"),Yv=Object(P.o)("[ReservationActivity] cancel activity booking failure",Object(P.t)()),Hv=Object(P.o)("[ReservationActivity] load cancel charge amount",Object(P.t)()),qv=Object(P.o)("[ReservationActivity*] load cancel charge amount success",Object(P.t)()),Uv=Object(P.o)("[ReservationActivity] retrieve",Object(P.t)()),Qv=Object(P.o)("[ReservationActivity] retrieve success"),Gv=Object(P.o)("[ReservationActivity] retrieve failure",Object(P.t)()),Kv=Object(P.o)("[ReservationActivity] open cash receipt issue modal"),zv=Object(P.o)("[ReservationActivity] close cash receipt issue modal"),Xv=Object(P.o)("[ReservationActivity] open pg credit card modal"),Zv=Object(P.o)("[ReservationActivity] close pg credit card modal"),Jv=Object(P.o)("[ReservationActivity] open pg bank modal"),eC=Object(P.o)("[ReservationActivity] close pg bank modal"),tC=Object(P.o)("[ReservationActivity] open credit card cancel modal"),nC=Object(P.o)("[ReservationActivity] close credit card cancel modal"),iC=Object(P.o)("[ReservationActivity] open coupon point cancel modal"),oC=Object(P.o)("[ReservationActivity] close coupon point cancel modal"),aC=Object(P.o)("[ReservationActivity] load reservation amount info",Object(P.t)()),cC=Object(P.o)("[ReservationActivity] load reservation amount info success",Object(P.t)()),sC=Object(P.o)("[ReservationActivity] load reservation amount info failure",Object(P.t)()),rC=Object(P.o)("[ReservationActivity] save amount vendor",Object(P.t)()),lC=Object(P.o)("[ReservationActivity] save amount sales",Object(P.t)()),dC=Object(P.o)("[ReservationActivity] send pg credit card payment",Object(P.t)()),bC=Object(P.o)("[ReservationActivity] send pg credit card payment success",Object(P.t)()),uC=Object(P.o)("[ReservationActivity] send pg credit card payment failure",Object(P.t)()),pC=Object(P.o)("[ReservationActivity] send pg bank payment",Object(P.t)()),mC=Object(P.o)("[ReservationActivity] send pg bank payment success",Object(P.t)()),hC=Object(P.o)("[ReservationActivity] send pg bank payment failure",Object(P.t)()),gC=Object(P.o)("[ReservationActivity] select payment info payment",Object(P.t)()),fC=Object(P.o)("[ReservationActivity] remove payment info payment"),vC=Object(P.o)("[ReservationActivity] cancel payment",Object(P.t)()),CC=Object(P.o)("[ReservationActivity] cancel payment success",Object(P.t)()),yC=Object(P.o)("[ReservationActivity] cancel payment failure",Object(P.t)()),kC=Object(P.o)("[ReservationActivity] issue cash receipt",Object(P.t)()),IC=Object(P.o)("[ReservationActivity] issue cash receipt success",Object(P.t)()),OC=Object(P.o)("[ReservationActivity] issue cash receipt failure",Object(P.t)()),PC=Object(P.o)("[ReservationActivity] cancel coupon payment payment",Object(P.t)()),jC=Object(P.o)("[ReservationActivity] cancel coupon payment success"),VC=Object(P.o)("[ReservationActivity] cancel coupon payment failure",Object(P.t)()),AC=Object(P.o)("[ReservationActivity] send point payment payment",Object(P.t)()),WC=Object(P.o)("[ReservationActivity] send point payment success"),RC=Object(P.o)("[ReservationActivity] send point payment failure",Object(P.t)()),FC=Object(P.o)("[ReservationActivity] cancel point payment payment",Object(P.t)()),SC=Object(P.o)("[ReservationActivity] cancel point payment success"),TC=Object(P.o)("[ReservationActivity] cancel point payment failure",Object(P.t)()),NC=Object(P.o)("[ReservationActivity] open payment manual modal"),EC=Object(P.o)("[ReservationActivity] close payment manual modal"),MC=Object(P.o)("[ReservationActivity] save payment deposit manual",Object(P.t)()),DC=Object(P.o)("[ReservationActivity] delete payment",Object(P.t)()),LC=Object(P.o)("[ReservationActivity] open voucher modal"),_C=Object(P.o)("[ReservationActivity] close voucher modal"),$C=Object(P.o)("[ReservationActivity] open invoice modal"),BC=Object(P.o)("[ReservationActivity] close invoice modal"),wC=Object(P.o)("[ReservationActivity] cancel bank receipt",Object(P.t)()),xC=Object(P.o)("[ReservationActivity] open bank receipt modal",Object(P.t)()),YC=Object(P.o)("[ReservationActivity] close bank receipt modal"),HC=Object(P.o)("[ReservationActivity] open card receipt modal",Object(P.t)()),qC=Object(P.o)("[ReservationActivity] close card receipt modal"),UC=Object(P.o)("[ReservationActivity] open refund register"),QC=Object(P.o)("[ReservationActivity] close refund register"),GC=Object(P.o)("[ReservationActivity] open point payment modal"),KC=Object(P.o)("[ReservationActivity] close point payment modal"),zC=Object(P.o)("[ReservationActivity] load booking status",Object(P.t)()),XC=Object(P.o)("[ReservationActivity] load booking status success",Object(P.t)()),ZC=Object(P.o)("[ReservationActivity] load booking status failure",Object(P.t)()),JC=Object(P.o)("[ReservationActivity] load vendor list",Object(P.t)()),ey=Object(P.o)("[ReservationActivity] load vendor list success",Object(P.t)()),ty=Object(P.o)("[ReservationActivity] load vendor list failure",Object(P.t)()),ny=Object(P.o)("[ReservationActivity] load activity type",Object(P.t)()),iy=Object(P.o)("[ReservationActivity] load activity type success",Object(P.t)()),oy=Object(P.o)("[ReservationActivity] load activity type failure",Object(P.t)()),ay=Object(P.o)("[ReservationActivity] load delivery type",Object(P.t)()),cy=Object(P.o)("[ReservationActivity] load delivery type success",Object(P.t)()),sy=Object(P.o)("[ReservationActivity] load delivery type failure",Object(P.t)()),ry=Object(P.o)("[ReservationActivity] load delivery method",Object(P.t)()),ly=Object(P.o)("[ReservationActivity] load delivery method success",Object(P.t)()),dy=Object(P.o)("[ReservationActivity] load delivery method failure",Object(P.t)()),by=Object(P.o)("[ReservationActivity] load delivery status",Object(P.t)()),uy=Object(P.o)("[ReservationActivity] load delivery status success",Object(P.t)()),py=Object(P.o)("[ReservationActivity] load delivery status failure",Object(P.t)()),my=Object(P.o)("[ReservationActivity] load delivery comp",Object(P.t)()),hy=Object(P.o)("[ReservationActivity] load delivery comp success",Object(P.t)()),gy=Object(P.o)("[ReservationActivity] load delivery comp failure",Object(P.t)()),fy=Object(P.o)("[ReservationActivity] load age type",Object(P.t)()),vy=Object(P.o)("[ReservationActivity] load age type success",Object(P.t)()),Cy=Object(P.o)("[ReservationActivity] load age type failure",Object(P.t)()),yy=Object(P.o)("[ReservationActivity] load activity contents option",Object(P.t)()),ky=Object(P.o)("[ReservationActivity] load activity contents option success",Object(P.t)()),Iy=Object(P.o)("[ReservationActivity] load activity contents option failure",Object(P.t)()),Oy=Object(P.o)("[ReservationActivity] load payment detail type list",Object(P.t)()),Py=Object(P.o)("[ReservationActivity] load payment detail type list success",Object(P.t)()),jy=Object(P.o)("[ReservationActivity] load payment detail type list failure",Object(P.t)()),Vy=Object(P.o)("[ReservationActivity] load deposit type list",Object(P.t)()),Ay=Object(P.o)("[ReservationActivity] load deposit type list success",Object(P.t)()),Wy=Object(P.o)("[ReservationActivity] load deposit type list failure",Object(P.t)()),Ry=Object(P.o)("[ReservationActivity] load payment bank master list",Object(P.t)()),Fy=Object(P.o)("[ReservationActivity] load payment bank master list success",Object(P.t)()),Sy=Object(P.o)("[ReservationActivity] load payment bank master list failure",Object(P.t)()),Ty=Object(P.o)("[ReservationActivity] load gift card type list",Object(P.t)()),Ny=Object(P.o)("[ReservationActivity] load gift card type list success",Object(P.t)()),Ey=Object(P.o)("[ReservationActivity] load gift card type list failure",Object(P.t)()),My=Object(P.o)("[ReservationActivity] load booking unable reason list",Object(P.t)()),Dy=Object(P.o)("[ReservationActivity] load booking unable reason list success",Object(P.t)()),Ly=Object(P.o)("[ReservationActivity] load booking unable reason list failure",Object(P.t)()),_y=Object(P.o)("[ReservationActivity] check smartinfini product state info for refund",Object(P.t)()),$y=Object(P.o)("[ReservationActivity] check smartinfini product state info for refund success",Object(P.t)()),By=Object(P.o)("[ReservationActivity] check smartinfini product state info for refund failure",Object(P.t)()),wy=Object(P.o)("[ReservationActivity] createPaymentAction",Object(P.t)()),xy=Object(P.o)("[ReservationActivity] load ClientPaymentStatus",Object(P.t)()),Yy=Object(P.o)("[ReservationActivity] load ClientPaymentStatus success",Object(P.t)()),Hy=Object(P.o)("[ReservationActivity] loadVendorPayment",Object(P.t)()),qy=Object(P.o)("[ReservationActivity] loadVendorPayment success",Object(P.t)()),Uy=Object(P.o)("[ReservationActivity] loadVccTypeList",Object(P.t)()),Qy=Object(P.o)("[ReservationActivity] loadVccTypeList success",Object(P.t)()),Gy=Object(P.o)("[ReservationActivity] getPaymentVcc",Object(P.t)()),Ky=Object(P.o)("[ReservationActivity] getPaymentVcc success"),zy=Object(P.o)("[ReservationActivity] putPaymentVcc",Object(P.t)()),Xy=Object(P.o)("[ReservationActivity] putPaymentVcc success",Object(P.t)()),Zy=Object(P.o)("[ReservationActivity] cancelPaymentVcc",Object(P.t)()),Jy=Object(P.o)("[ReservationActivity] cancelPaymentVcc success",Object(P.t)()),ek=Object(P.q)({auths:{},bookingItemCode:null,bookingItemCodes:null,consultingSeq:null,toggleReloadBookingDetail:null,bookingLogList:null,consultingList:null,bookingMemoList:null,bookerInfo:null},Object(P.s)(u.setBookingItemCodeAction,(e,{bookingItemCode:t})=>Object.assign(Object.assign({},e),{bookingItemCode:t})),Object(P.s)(u.setBookingItemCodesAction,(e,{bookingItemCodes:t})=>Object.assign(Object.assign({},e),{bookingItemCodes:t})),Object(P.s)(u.setConsultingSeq,(e,{consultingSeq:t})=>Object.assign(Object.assign({},e),{consultingSeq:t})),Object(P.s)(u.reloadBookingDetailAction,e=>Object.assign(Object.assign({},e),{toggleReloadBookingDetail:!e.toggleReloadBookingDetail})),Object(P.s)(u.loadBookingLogSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{bookingLogList:t})),Object(P.s)(u.loadConsultingSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{consultingList:t})),Object(P.s)(u.loadBookingMemoSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{bookingMemoList:t})),Object(P.s)(u.loadBookerInfoSuccessAction,(e,{dataItem:t})=>Object.assign(Object.assign({},e),{bookerInfo:t}))),tk=Object(P.q)({loading:!1,master:null,bookingItems:null,summary:null,bookingInfo:null,basicInfo:null,driver:null,price:null,payment:null,plFinishYn:!1,amountInfo:null,cancelCharge:null,isOpenCancelModal:null,isOpenCreditCardCancelModal:null,isOpenCouponPointCancelModal:null,isOpenCashReceiptIssueModal:null,isOpenPgCreditCardModal:null,isOpenPgBankModal:null,isOpenPaymentManualModal:null,isOpenConfirmationModal:!1,isOpenInvoiceModal:!1,isOpenCardReceiptModal:!1,isOpenCashReceiptModal:!1,isOpenRefundRegisterModal:!1,isOpenPointPaymentModal:!1,selectedPayment:null,cardReceiptInfo:null,cashReceiptInfo:null,receiptGetInfo:null,currentSubTab:null,subTabs:null,stationTypeList:null,bookingStatusList:null,requestStatusList:null,vendorList:null,vehicleVendorList:null,paymentDetailTypeList:null,depositTypeList:null,paymentBankMasterList:null,giftCardTypeList:null,corporateReasonList:null,ageTypeCodeList:null,clientPaymentStatusCodeList:null,cancelPolicy:null,policyMonitoringInfo:null},Object(P.s)(p.loadMasterInfoAction,e=>Object.assign(Object.assign({},e),{loading:!0})),Object(P.s)(p.loadMasterInfoSuccessAction,(e,{dataCollection:t})=>Object.assign(Object.assign(Object.assign({},e),t),{loading:!1})),Object(P.s)(p.openCanceModalAction,e=>Object.assign(Object.assign({},e),{isOpenCancelModal:!0})),Object(P.s)(p.closeCanceModalAction,e=>Object.assign(Object.assign({},e),{isOpenCancelModal:!1})),Object(P.s)(p.setCurrentSubTabAction,(e,{tabName:t})=>{const n=e.subTabs||[],i=n.indexOf(t)>-1?n:Q.concat(n,[t]);return Object.assign(Object.assign({},e),{currentSubTab:t,subTabs:i})}),Object(P.s)(p.delSubTabAction,(e,{tabName:t})=>{const n=e.subTabs.indexOf(t);if(-1===n)return e;const i=Math.max(n-1,0),o=e.subTabs.filter(e=>e!==t),a=o.length>0?o[i]:null;return Object.assign(Object.assign({},e),{currentSubTab:a,subTabs:o})}),Object(P.s)(p.loadStationTypeSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{stationTypeList:t})),Object(P.s)(p.loadBookingStatusSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{bookingStatusList:t})),Object(P.s)(p.loadRequestStatusSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{requestStatusList:t})),Object(P.s)(p.loadVendorsSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{vendorList:t})),Object(P.s)(p.loadVehicleVendorsSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{vehicleVendorList:t})),Object(P.s)(p.loadPaymentDetailTypeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{paymentDetailTypeList:t})),Object(P.s)(p.loadDepositTypeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{depositTypeList:t})),Object(P.s)(p.loadPaymentBankMasterListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{paymentBankMasterList:t})),Object(P.s)(p.loadGiftCardTypeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{giftCardTypeList:t})),Object(P.s)(p.loadCorporateReasonListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{corporateReasonList:t})),Object(P.s)(p.loadCancelPolicySuccessAction,(e,{dataInfo:t})=>Object.assign(Object.assign({},e),{cancelPolicy:t})),Object(P.s)(p.loadAmountInfoSuccessAction,(e,{amountInfo:t})=>Object.assign(Object.assign({},e),{amountInfo:t})),Object(P.s)(p.loadCancelChargeAmountSuccessAction,(e,{cancelCharge:t})=>Object.assign(Object.assign({},e),{cancelCharge:t})),Object(P.s)(p.loadPolicyMonitoringInfoSuccessAction,(e,{policyMonitoringInfo:t})=>Object.assign(Object.assign({},e),{policyMonitoringInfo:t})),Object(P.s)(p.loadAgeTypeCodeSuccessAction,(e,{ageTypeCodeList:t})=>Object.assign(Object.assign({},e),{ageTypeCodeList:t})),Object(P.s)(p.loadBasicInfoSuccessAction,(e,{result:t})=>Object.assign(Object.assign({},e),{basicInfo:t})),Object(P.s)(p.loadClientPaymentStatusCodeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{clientPaymentStatusCodeList:t})),Object(P.s)(p.selectPaymentInfoAction,(e,{paymentInfo:t})=>Object.assign(Object.assign({},e),{selectedPayment:t})),Object(P.s)(p.removePaymentInfoAction,e=>Object.assign(Object.assign({},e),{selectedPayment:null})),Object(P.s)(p.openCashReceiptIssueModalAction,e=>Object.assign(Object.assign({},e),{isOpenCashReceiptIssueModal:!0})),Object(P.s)(p.closeCashReceiptIssueModalAction,e=>Object.assign(Object.assign({},e),{isOpenCashReceiptIssueModal:!1})),Object(P.s)(p.openCreditCardCancelModalAction,e=>Object.assign(Object.assign({},e),{isOpenCreditCardCancelModal:!0})),Object(P.s)(p.closeCreditCardCancelModalAction,e=>Object.assign(Object.assign({},e),{isOpenCreditCardCancelModal:!1})),Object(P.s)(p.openCouponPointCancelModalAction,e=>Object.assign(Object.assign({},e),{isOpenCouponPointCancelModal:!0})),Object(P.s)(p.closeCouponPointCancelModalAction,e=>Object.assign(Object.assign({},e),{isOpenCouponPointCancelModal:!1})),Object(P.s)(p.openPgCreditCardModalAction,e=>Object.assign(Object.assign({},e),{isOpenPgCreditCardModal:!0})),Object(P.s)(p.closePgCreditCardModalAction,e=>Object.assign(Object.assign({},e),{isOpenPgCreditCardModal:!1})),Object(P.s)(p.openPgBankModalAction,e=>Object.assign(Object.assign({},e),{isOpenPgBankModal:!0})),Object(P.s)(p.closePgBankModalAction,e=>Object.assign(Object.assign({},e),{isOpenPgBankModal:!1})),Object(P.s)(p.openPaymentManualModalAction,e=>Object.assign(Object.assign({},e),{isOpenPaymentManualModal:!0})),Object(P.s)(p.closePaymentManualModalAction,e=>Object.assign(Object.assign({},e),{isOpenPaymentManualModal:!1})),Object(P.s)(p.openConfirmationModalAction,e=>Object.assign(Object.assign({},e),{isOpenConfirmationModal:!0})),Object(P.s)(p.closeConfirmationModalAction,e=>Object.assign(Object.assign({},e),{isOpenConfirmationModal:!1})),Object(P.s)(p.openInvoiceModalAction,e=>Object.assign(Object.assign({},e),{isOpenInvoiceModal:!0})),Object(P.s)(p.closeInvoiceModalAction,e=>Object.assign(Object.assign({},e),{isOpenInvoiceModal:!1})),Object(P.s)(p.openCardReceiptAction,(e,{cardReceiptInfo:t})=>Object.assign(Object.assign({},e),{isOpenCardReceiptModal:!0,cardReceiptInfo:t})),Object(P.s)(p.closeCardReceiptAction,e=>Object.assign(Object.assign({},e),{isOpenCardReceiptModal:!1,cardReceiptInfo:null})),Object(P.s)(p.openCashReceiptAction,(e,{receiptGetInfo:t})=>Object.assign(Object.assign({},e),{isOpenCashReceiptModal:!0,receiptGetInfo:t})),Object(P.s)(p.closeCashReceiptAction,e=>Object.assign(Object.assign({},e),{isOpenCashReceiptModal:!1,receiptGetInfo:null})),Object(P.s)(p.openRefundRegisterAction,e=>Object.assign(Object.assign({},e),{isOpenRefundRegisterModal:!0})),Object(P.s)(p.closeRefundRegisterAction,e=>Object.assign(Object.assign({},e),{isOpenRefundRegisterModal:!1})),Object(P.s)(p.openPointPaymentAction,e=>Object.assign(Object.assign({},e),{isOpenPointPaymentModal:!0})),Object(P.s)(p.closePointPaymentAction,e=>Object.assign(Object.assign({},e),{isOpenPointPaymentModal:!1}))),nk=Object(P.q)({loading:!1,master:null,bookingItems:null,summary:null,bookingInfo:null,rooms:null,price:null,payment:null,plFinishYn:!1,basic:null,cancelPolicy:null,amount:null,cancelCharge:null,policyMonitoringInfo:null,stationList:null,bookingStatusList:null,handleStatusList:null,deviceTypeList:null,vendorList:null,ageTypList:null,lateCheckInTypeList:null,paymentDetailTypeList:null,depositTypeList:null,paymentBankMasterList:null,giftCardTypeList:null,bedTypeList:null,corporateReasonList:null,currentSubTab:null,subTabs:null,isOpenCancelModal:!1,isOpenCashReceiptIssueModal:!1,isOpenPgCreditCardModal:!1,isOpenPgBankModal:!1,isOpenCreditCardCancelModal:!1,isOpenCouponPointCancelModal:!1,isOpenPaymentManualModal:!1,isOpenHotelContentDetailModal:!1,isOpenVoucherModal:!1,isOpenInvoiceModal:!1,isOpenCardReceiptModal:!1,isOpenCashReceiptModal:!1,isOpenRefundRegisterModal:!1,isOpenPointPaymentModal:!1,selectedPayment:null,cardReceiptInfo:null,cashReceiptInfo:null,receiptGetInfo:null,roomTypeList:null,mealList:null,freeBreakFastList:null,checkInList:null,vendorPayment:null,vccTypeList:null,cashReceipts:null,clientPayment:null},Object(P.s)(m.loadMasterInfoAction,e=>Object.assign(Object.assign({},e),{loading:!0})),Object(P.s)(m.loadMasterInfoSuccessAction,(e,{dataCollection:t})=>Object.assign(Object.assign(Object.assign({},e),t),{loading:!1})),Object(P.s)(m.loadBasicInfoSuccessAction,(e,{basic:t})=>Object.assign(Object.assign({},e),{basic:t})),Object(P.s)(m.loadCancelPolicyInfoSuccessAction,(e,{cancelPolicy:t})=>Object.assign(Object.assign({},e),{cancelPolicy:t})),Object(P.s)(m.loadAmountInfoSuccessAction,(e,{amount:t})=>Object.assign(Object.assign({},e),{amount:t})),Object(P.s)(m.loadCancelChargeAmountSuccessAction,(e,{cancelCharge:t})=>Object.assign(Object.assign({},e),{cancelCharge:t})),Object(P.s)(m.loadPolicyMonitoringInfoSuccessAction,(e,{policyMonitoringInfo:t})=>Object.assign(Object.assign({},e),{policyMonitoringInfo:t})),Object(P.s)(m.loadBookingStatusListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{bookingStatusList:t})),Object(P.s)(m.loadHandleStatusListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{handleStatusList:t})),Object(P.s)(m.loadStationListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{stationList:t})),Object(P.s)(m.loadDeviceTypeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{deviceTypeList:t})),Object(P.s)(m.loadVendorListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{vendorList:t})),Object(P.s)(m.loadAgeTypeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{ageTypList:t})),Object(P.s)(m.loadLateCheckInTypeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{lateCheckInTypeList:t})),Object(P.s)(m.loadPaymentDetailTypeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{paymentDetailTypeList:t})),Object(P.s)(m.loadDepositTypeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{depositTypeList:t})),Object(P.s)(m.loadPaymentBankMasterListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{paymentBankMasterList:t})),Object(P.s)(m.loadGiftCardTypeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{giftCardTypeList:t})),Object(P.s)(m.loadBedTypeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{bedTypeList:t})),Object(P.s)(m.loadCorporateReasonListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{corporateReasonList:t})),Object(P.s)(m.setCurrentSubTabAction,(e,{tabName:t})=>{const n=e.subTabs||[],i=n.indexOf(t)>-1?n:Q.concat(n,[t]);return Object.assign(Object.assign({},e),{currentSubTab:t,subTabs:i})}),Object(P.s)(m.delSubTabAction,(e,{tabName:t})=>{const n=e.subTabs.indexOf(t);if(-1===n)return e;const i=Math.max(n-1,0),o=e.subTabs.filter(e=>e!==t),a=o.length>0?o[i]:null;return Object.assign(Object.assign({},e),{currentSubTab:a,subTabs:o})}),Object(P.s)(m.openCanceModalAction,e=>Object.assign(Object.assign({},e),{isOpenCancelModal:!0})),Object(P.s)(m.closeCanceModalAction,e=>Object.assign(Object.assign({},e),{isOpenCancelModal:!1})),Object(P.s)(m.openCashReceiptIssueModalAction,e=>Object.assign(Object.assign({},e),{isOpenCashReceiptIssueModal:!0})),Object(P.s)(m.closeCashReceiptIssueModalAction,e=>Object.assign(Object.assign({},e),{isOpenCashReceiptIssueModal:!1})),Object(P.s)(m.openPgCreditCardModalAction,e=>Object.assign(Object.assign({},e),{isOpenPgCreditCardModal:!0})),Object(P.s)(m.closePgCreditCardModalAction,e=>Object.assign(Object.assign({},e),{isOpenPgCreditCardModal:!1})),Object(P.s)(m.openPgBankModalAction,e=>Object.assign(Object.assign({},e),{isOpenPgBankModal:!0})),Object(P.s)(m.closePgBankModalAction,e=>Object.assign(Object.assign({},e),{isOpenPgBankModal:!1})),Object(P.s)(m.selectPaymentInfoAction,(e,{paymentInfo:t})=>Object.assign(Object.assign({},e),{selectedPayment:t})),Object(P.s)(m.removePaymentInfoAction,e=>Object.assign(Object.assign({},e),{selectedPayment:null})),Object(P.s)(m.openCreditCardCancelModalAction,e=>Object.assign(Object.assign({},e),{isOpenCreditCardCancelModal:!0})),Object(P.s)(m.closeCreditCardCancelModalAction,e=>Object.assign(Object.assign({},e),{isOpenCreditCardCancelModal:!1})),Object(P.s)(m.openCouponPointCancelModalAction,e=>Object.assign(Object.assign({},e),{isOpenCouponPointCancelModal:!0})),Object(P.s)(m.closeCouponPointCancelModalAction,e=>Object.assign(Object.assign({},e),{isOpenCouponPointCancelModal:!1})),Object(P.s)(m.openPaymentManualModalAction,e=>Object.assign(Object.assign({},e),{isOpenPaymentManualModal:!0})),Object(P.s)(m.closePaymentManualModalAction,e=>Object.assign(Object.assign({},e),{isOpenPaymentManualModal:!1})),Object(P.s)(m.openHotelContentDetailModalAction,e=>Object.assign(Object.assign({},e),{isOpenHotelContentDetailModal:!0})),Object(P.s)(m.closeHotelContentDetaiModalAction,e=>Object.assign(Object.assign({},e),{isOpenHotelContentDetailModal:!1})),Object(P.s)(m.openVoucherModalAction,e=>Object.assign(Object.assign({},e),{isOpenVoucherModal:!0})),Object(P.s)(m.closeVoucherModalAction,e=>Object.assign(Object.assign({},e),{isOpenVoucherModal:!1})),Object(P.s)(m.openInvoiceModalAction,e=>Object.assign(Object.assign({},e),{isOpenInvoiceModal:!0})),Object(P.s)(m.closeInvoiceModalAction,e=>Object.assign(Object.assign({},e),{isOpenInvoiceModal:!1})),Object(P.s)(m.openCardReceiptAction,(e,{cardReceiptInfo:t})=>Object.assign(Object.assign({},e),{isOpenCardReceiptModal:!0,cardReceiptInfo:t})),Object(P.s)(m.closeCardReceiptAction,e=>Object.assign(Object.assign({},e),{isOpenCardReceiptModal:!1,cardReceiptInfo:null})),Object(P.s)(m.openCashReceiptAction,(e,{receiptGetInfo:t})=>Object.assign(Object.assign({},e),{isOpenCashReceiptModal:!0,receiptGetInfo:t})),Object(P.s)(m.closeCashReceiptAction,e=>Object.assign(Object.assign({},e),{isOpenCashReceiptModal:!1,receiptGetInfo:null})),Object(P.s)(m.openRefundRegisterAction,e=>Object.assign(Object.assign({},e),{isOpenRefundRegisterModal:!0})),Object(P.s)(m.closeRefundRegisterAction,e=>Object.assign(Object.assign({},e),{isOpenRefundRegisterModal:!1})),Object(P.s)(m.openPointPaymentAction,e=>Object.assign(Object.assign({},e),{isOpenPointPaymentModal:!0})),Object(P.s)(m.closePointPaymentAction,e=>Object.assign(Object.assign({},e),{isOpenPointPaymentModal:!1})),Object(P.s)(m.loadRoomCategoryListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{roomTypeList:t})),Object(P.s)(m.loadMealBasisListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{mealList:t})),Object(P.s)(m.loadFreeBreakfastListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{freeBreakFastList:t})),Object(P.s)(m.loadcheckInListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{checkInList:t})),Object(P.s)(m.loadVendorPaymentSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{vendorPayment:t})),Object(P.s)(m.loadVccTypeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{vccTypeList:t})),Object(P.s)(m.loadClientPaymentStatusSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{clientPayment:t}))),ik=Object(P.q)({retrieveYn:!0,changeRequestSeq:null,loading:!1,master:null,bookingItems:null,summary:null,travelerInfo:null,segmentInfo:null,paymentEvidences:null,priceInfo:null,chargeInfo:null,paymentInfo:null,ticketInfo:null,ancillaryInfo:null,changeRequests:null,policyMonitoringInfo:null,ticketingDsrFinishYn:!1,refundDsrFinishYn:!1,basic:null,fareRule:null,gdsPnr:null,pnrLog:null,ticketDetailInfo:null,paymentDetailInfo:null,isBundlePaymentRegister:null,paymentRegisterInfo:null,paymentRegisterLoadCondition:null,paymentUpdateInfo:null,paymentApproveInfo:null,paymentUpdateLoadCondition:null,refundRequestInfo:null,refundInfo:null,tasfInfo:null,unpaidList:null,promotionList:null,paymentStatusCodeList:null,departureTypeList:null,controlBranchList:null,stationList:null,bookingStatusList:null,requestStatusList:null,handleStatusList:null,deviceTypeList:null,evidenceTypeList:null,vendorList:null,ageTypeList:null,cardMasterList:null,cashReceiptPurposeList:null,cashReceiptKindList:null,cardHolderTypeList:null,cardUseTypeList:null,cardHolderRelationList:null,bankMasterList:null,ticketingStatusCodeList:null,fopCodeList:null,billingTypeList:null,gdsNdcCompList:null,airlineChargeType:null,bspBillingPeriodList:null,adjustReasonList:null,paymentDetailTypeAddList:null,paymentDetailTypeSalesList:null,depositTypeList:null,paymentBankMasterList:null,giftCardTypeList:null,etEmdOtherTypeList:null,bookingTravelerList:null,ticketVoidTypeList:null,bookingFareTypeList:null,ancillaryTypeList:null,ancillaryStatusList:null,corporateReasonList:null,changeRequestStatusList:null,manualTicketNoList:null,bankIssueInfo:null,currentSubTab:null,subTabs:null,isOpenCancelModal:!1,isOpenTravelerDivideModal:!1,isOpenPgCreditCardModal:!1,isOpenPgBankModal:!1,isOpenChargeInfoModal:!1,isOpenChargeInfoUpdateModal:!1,isOpenChargePgCreditCardModal:!1,isOpenChargePgBankModal:!1,isOpenPgCreditCardApproveModal:!1,isOpenPnrModifyModal:!1,isOpenOriginalFareRuleModal:!1,isOpenFareRuleResearchModal:!1,isOpenCashReceiptIssueModal:!1,isOpenPromotionChangeModal:!1,isOpenAddFareModal:!1,isOpenTicketMappingModal:!1,isOpenTicketMappingDeleteModal:!1,isOpenPricePaymentManualModal:!1,isOpenAncillaryInfoModal:!1,isOpenAncillaryPgCreditCardModal:!1,isOpenAncillaryPgBankModal:!1,isOpenPaymentInfoTypeSelectModal:!1,isOpenPaymentInfoRegisterModal:!1,isOpenPaymentInfoUpdateModal:!1,isOpenOffRegisterModal:!1,isOpenPaymentCancelModal:!1,isOpenCouponPointCancelModal:!1,isOpenPaymentManualModal:!1,isOpenPaymentPenaltyCancelModal:!1,isOpenCashReceiptModal:!1,isOpenInvoiceModal:!1,isOpenDepositMappingModal:!1,selectedScheduleInfo:null,cashReceiptInfo:null,checkedScheduleRowid:null,isOpenScheduleForm:!1,selectedFareEvidence:null,selectedPaymentEvidenceRowid:null,selectedPriceInfo:null,selectedPaymentInfo:null,selectedPrices:null,selectedChargePriceInfo:null,selectedChargePrices:null,selectedAncillaryPrices:null,checkedFareList:null,selectedPenaltyInfo:null,selectedRefundTicketInfo:null,selectedTicketDetailInfo:null,selectedTicketDetailTicketingDsrFinishYn:!1,selectedPaymentInfos:null,fareEvidenceFileUrl:null,paymentEvidenceFileUrl:null},Object(P.s)(h.setRetrieveYn,(e,{retrieveYn:t})=>Object.assign(Object.assign({},e),{retrieveYn:t})),Object(P.s)(h.setChangeRequestSeq,(e,{changeRequestSeq:t})=>Object.assign(Object.assign({},e),{changeRequestSeq:t})),Object(P.s)(h.loadMasterInfoAction,e=>Object.assign(Object.assign({},e),{loading:!0})),Object(P.s)(h.loadMasterInfoSuccessAction,(e,{dataCollection:t})=>Object.assign(Object.assign(Object.assign({},e),t),{loading:!1})),Object(P.s)(h.loadBasicInfoSuccessAction,(e,{basic:t})=>Object.assign(Object.assign({},e),{basic:t})),Object(P.s)(h.loadFareRuleInfoSuccessAction,(e,{fareRule:t})=>Object.assign(Object.assign({},e),{fareRule:t})),Object(P.s)(h.loadGdsPnrInfoSuccessAction,(e,{gdsPnr:t})=>Object.assign(Object.assign({},e),{gdsPnr:t})),Object(P.s)(h.selectGdsPnrAction,(e,{gdsPnr:t})=>Object.assign(Object.assign({},e),{gdsPnr:t})),Object(P.s)(h.loadPnrLogInfoSuccessAction,(e,{pnrLog:t})=>Object.assign(Object.assign({},e),{pnrLog:t})),Object(P.s)(h.loadTicketInfoSuccessAction,(e,{ticketDetailInfo:t})=>Object.assign(Object.assign({},e),{ticketDetailInfo:t})),Object(P.s)(h.loadBookingFlightPaymentSuccessAction,(e,{paymentDetailInfo:t})=>Object.assign(Object.assign({},e),{paymentDetailInfo:t})),Object(P.s)(h.loadPaymentRegisterInfoInfoSuccessAction,(e,{paymentRegisterInfo:t})=>Object.assign(Object.assign({},e),{paymentRegisterInfo:t})),Object(P.s)(h.loadPaymentUpdateInfoInfoSuccessAction,(e,{paymentUpdateInfo:t})=>Object.assign(Object.assign({},e),{paymentUpdateInfo:t})),Object(P.s)(h.loadPaymentApproveInfoSuccessAction,(e,{paymentApproveInfo:t})=>Object.assign(Object.assign({},e),{paymentApproveInfo:t})),Object(P.s)(h.loadRefundRequestInfoSuccessAction,(e,{refundRequestInfo:t})=>Object.assign(Object.assign({},e),{refundRequestInfo:t})),Object(P.s)(h.loadRefundInfoSuccessAction,(e,{refundInfo:t})=>Object.assign(Object.assign({},e),{refundInfo:t})),Object(P.s)(h.loadTasfInfoSuccessAction,(e,{tasfInfo:t})=>Object.assign(Object.assign({},e),{tasfInfo:t})),Object(P.s)(h.loadUnpaidInfoSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{unpaidList:t})),Object(P.s)(h.loadPolicyMonitoringInfoSuccessAction,(e,{policyMonitoringInfo:t})=>Object.assign(Object.assign({},e),{policyMonitoringInfo:t})),Object(P.s)(h.loadPromotionListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{promotionList:t})),Object(P.s)(h.loadDepartureTypeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{departureTypeList:t})),Object(P.s)(h.loadControlBranchListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{controlBranchList:t})),Object(P.s)(h.loadBookingStatusListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{bookingStatusList:t})),Object(P.s)(h.loadRequestStatusListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{requestStatusList:t})),Object(P.s)(h.loadHandleStatusListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{handleStatusList:t})),Object(P.s)(h.loadStationListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{stationList:t})),Object(P.s)(h.loadDeviceTypeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{deviceTypeList:t})),Object(P.s)(h.loadEvidenceTypeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{evidenceTypeList:t})),Object(P.s)(h.loadVendorListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{vendorList:t})),Object(P.s)(h.loadAgeTypeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{ageTypeList:t})),Object(P.s)(h.loadCardMasterListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{cardMasterList:t})),Object(P.s)(h.loadCashReceiptPurposeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{cashReceiptPurposeList:t})),Object(P.s)(h.loadCashReceiptKindListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{cashReceiptKindList:t})),Object(P.s)(h.loadCardHolderTypeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{cardHolderTypeList:t})),Object(P.s)(h.loadCardHolderRelationListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{cardHolderRelationList:t})),Object(P.s)(h.loadBankMasterListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{bankMasterList:t})),Object(P.s)(h.loadTicketingStatusCodeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{ticketingStatusCodeList:t})),Object(P.s)(h.loadFopCodeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{fopCodeList:t})),Object(P.s)(h.loadBillingTypeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{billingTypeList:t})),Object(P.s)(h.loadGdsNdcCompListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{gdsNdcCompList:t})),Object(P.s)(h.loadAirlineChargeTypeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{airlineChargeType:t})),Object(P.s)(h.loadBspBillingPeriodListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{bspBillingPeriodList:t})),Object(P.s)(h.loadAdjustReasonListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{adjustReasonList:t})),Object(P.s)(h.loadPaymentDetailTypeAddListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{paymentDetailTypeAddList:t})),Object(P.s)(h.loadPaymentDetailTypeSalesListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{paymentDetailTypeSalesList:t})),Object(P.s)(h.loadDepositTypeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{depositTypeList:t})),Object(P.s)(h.loadPaymentBankMasterListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{paymentBankMasterList:t})),Object(P.s)(h.loadGiftCardTypeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{giftCardTypeList:t})),Object(P.s)(h.loadEtEmdOtherTypeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{etEmdOtherTypeList:t})),Object(P.s)(h.loadBookingTravelerListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{bookingTravelerList:t})),Object(P.s)(h.loadTicketVoidTypeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{ticketVoidTypeList:t})),Object(P.s)(h.loadBookingFareTypeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{bookingFareTypeList:t})),Object(P.s)(h.loadAncillaryTypeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{ancillaryTypeList:t})),Object(P.s)(h.loadAncillaryStatusListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{ancillaryStatusList:t})),Object(P.s)(h.loadCorporateReasonListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{corporateReasonList:t})),Object(P.s)(h.loadChangeRequestStatusListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{changeRequestStatusList:t})),Object(P.s)(h.loadPaymentStatusCodeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{paymentStatusCodeList:t})),Object(P.s)(h.loadTicketNoSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{manualTicketNoList:t})),Object(P.s)(h.removeTicketNoAction,e=>Object.assign(Object.assign({},e),{manualTicketNoList:null})),Object(P.s)(h.loadPaymentBankIssueInfoSuccessAction,(e,{bankIssueInfo:t})=>Object.assign(Object.assign({},e),{bankIssueInfo:t})),Object(P.s)(h.removePaymentBankIssueInfo,e=>Object.assign(Object.assign({},e),{bankIssueInfo:null})),Object(P.s)(h.setCurrentSubTabAction,(e,{tabName:t})=>{const n=e.subTabs||[],i=n.indexOf(t)>-1?n:Q.concat(n,[t]);return Object.assign(Object.assign({},e),{currentSubTab:t,subTabs:i})}),Object(P.s)(h.delSubTabAction,(e,{tabName:t})=>{const n=e.subTabs.indexOf(t);if(-1===n)return e;const i=Math.max(n-1,0),o=e.subTabs.filter(e=>e!==t),a=o.length>0?o[i]:null;return Object.assign(Object.assign({},e),{currentSubTab:a,subTabs:o})}),Object(P.s)(h.delAllTabAction,e=>Object.assign(Object.assign({},e),{subTabs:null,currentSubTab:null})),Object(P.s)(h.openCanceModalAction,e=>Object.assign(Object.assign({},e),{isOpenCancelModal:!0})),Object(P.s)(h.closeCanceModalAction,e=>Object.assign(Object.assign({},e),{isOpenCancelModal:!1})),Object(P.s)(h.openTravelerDivideModalAction,e=>Object.assign(Object.assign({},e),{isOpenTravelerDivideModal:!0})),Object(P.s)(h.closeTravelerDivideModalAction,e=>Object.assign(Object.assign({},e),{isOpenTravelerDivideModal:!1})),Object(P.s)(h.openPgCreditCardModalAction,e=>Object.assign(Object.assign({},e),{isOpenPgCreditCardModal:!0})),Object(P.s)(h.closePgCreditCardModalAction,e=>Object.assign(Object.assign({},e),{isOpenPgCreditCardModal:!1})),Object(P.s)(h.openPgBankModalAction,e=>Object.assign(Object.assign({},e),{isOpenPgBankModal:!0})),Object(P.s)(h.closePgBankModalAction,e=>Object.assign(Object.assign({},e),{isOpenPgBankModal:!1})),Object(P.s)(h.openChargeInfoModalAction,e=>Object.assign(Object.assign({},e),{isOpenChargeInfoModal:!0})),Object(P.s)(h.closeChargeInfoModalAction,e=>Object.assign(Object.assign({},e),{isOpenChargeInfoModal:!1})),Object(P.s)(h.openChargeInfoUpdateModalAction,(e,{chargePriceInfo:t})=>Object.assign(Object.assign({},e),{isOpenChargeInfoUpdateModal:!0,selectedChargePriceInfo:t})),Object(P.s)(h.closeChargeInfoUpdateModalAction,e=>Object.assign(Object.assign({},e),{isOpenChargeInfoUpdateModal:!1})),Object(P.s)(h.openChargePgCreditCardModalAction,e=>Object.assign(Object.assign({},e),{isOpenChargePgCreditCardModal:!0})),Object(P.s)(h.closeChargePgCreditCardModalAction,e=>Object.assign(Object.assign({},e),{isOpenChargePgCreditCardModal:!1})),Object(P.s)(h.openChargePgBankModalAction,e=>Object.assign(Object.assign({},e),{isOpenChargePgBankModal:!0})),Object(P.s)(h.closeChargePgBankModalAction,e=>Object.assign(Object.assign({},e),{isOpenChargePgBankModal:!1})),Object(P.s)(h.openPgCreditCardApproveModalAction,e=>Object.assign(Object.assign({},e),{isOpenPgCreditCardApproveModal:!0})),Object(P.s)(h.closePgCreditCardApproveModalAction,e=>Object.assign(Object.assign({},e),{isOpenPgCreditCardApproveModal:!1})),Object(P.s)(h.openPnrModifyModalAction,e=>Object.assign(Object.assign({},e),{isOpenPnrModifyModal:!0})),Object(P.s)(h.closePnrModifyModalAction,e=>Object.assign(Object.assign({},e),{isOpenPnrModifyModal:!1})),Object(P.s)(h.openOriginalFareRuleModalAction,e=>Object.assign(Object.assign({},e),{isOpenOriginalFareRuleModal:!0})),Object(P.s)(h.closeOriginalFareRuleModalAction,e=>Object.assign(Object.assign({},e),{isOpenOriginalFareRuleModal:!1})),Object(P.s)(h.openFareRuleResearchModalAction,e=>Object.assign(Object.assign({},e),{isOpenFareRuleResearchModal:!0})),Object(P.s)(h.closeFareRuleResearchModalAction,e=>Object.assign(Object.assign({},e),{isOpenFareRuleResearchModal:!1})),Object(P.s)(h.openCashReceiptIssueModalAction,e=>Object.assign(Object.assign({},e),{isOpenCashReceiptIssueModal:!0})),Object(P.s)(h.closeCashReceiptIssueModalAction,e=>Object.assign(Object.assign({},e),{isOpenCashReceiptIssueModal:!1})),Object(P.s)(h.openPromotionChangeModalAction,e=>Object.assign(Object.assign({},e),{isOpenPromotionChangeModal:!0})),Object(P.s)(h.closePromotionChangeModalAction,e=>Object.assign(Object.assign({},e),{isOpenPromotionChangeModal:!1})),Object(P.s)(h.selectPaymentInfoAction,(e,{paymentDetailInfo:t})=>Object.assign(Object.assign({},e),{selectedPaymentInfo:t})),Object(P.s)(h.removeSelectedPaymentInfoAction,e=>Object.assign(Object.assign({},e),{paymentDetailInfo:null})),Object(P.s)(h.openAddFareModalAction,e=>{var t;return Object.assign(Object.assign({},e),{isOpenAddFareModal:!0,selectedPriceInfo:{tasfAgencyPlYn:null===(t=e.priceInfo.prices[0])||void 0===t?void 0:t.tasfAgencyPlYn}})}),Object(P.s)(h.closeAddFareModalAction,e=>Object.assign(Object.assign({},e),{isOpenAddFareModal:!1,selectedPriceInfo:null})),Object(P.s)(h.openFareModalAction,(e,{priceInfo:t})=>Object.assign(Object.assign({},e),{isOpenAddFareModal:!0,selectedPriceInfo:t})),Object(P.s)(h.checkPriceInfoAction,(e,{prices:t})=>Object.assign(Object.assign({},e),{selectedPrices:t})),Object(P.s)(h.checkChargePriceInfoAction,(e,{prices:t})=>Object.assign(Object.assign({},e),{selectedChargePrices:t})),Object(P.s)(h.checkAncillaryPriceInfoAction,(e,{prices:t})=>Object.assign(Object.assign({},e),{selectedAncillaryPrices:t})),Object(P.s)(h.openTicketMappingModalAction,(e,{fareList:t})=>Object.assign(Object.assign({},e),{isOpenTicketMappingModal:!0,checkedFareList:t})),Object(P.s)(h.closeTicketMappingModalAction,e=>Object.assign(Object.assign({},e),{isOpenTicketMappingModal:!1})),Object(P.s)(h.openTicketMappingDeleteModalAction,(e,{priceInfo:t})=>Object.assign(Object.assign({},e),{isOpenTicketMappingDeleteModal:!0,selectedPriceInfo:t})),Object(P.s)(h.closeTicketMappingDeleteModalAction,e=>Object.assign(Object.assign({},e),{isOpenTicketMappingDeleteModal:!1,selectedPriceInfo:null})),Object(P.s)(h.openPricePaymentManualModalAction,(e,{priceInfo:t})=>Object.assign(Object.assign({},e),{isOpenPricePaymentManualModal:!0,selectedPriceInfo:t})),Object(P.s)(h.closePricePaymentManualModalAction,e=>Object.assign(Object.assign({},e),{isOpenPricePaymentManualModal:!1,selectedPriceInfo:null})),Object(P.s)(h.openAncillaryInfoModalAction,e=>Object.assign(Object.assign({},e),{isOpenAncillaryInfoModal:!0})),Object(P.s)(h.closeAncillaryInfoModalAction,e=>Object.assign(Object.assign({},e),{isOpenAncillaryInfoModal:!1})),Object(P.s)(h.openAncillaryPgCreditCardModalAction,e=>Object.assign(Object.assign({},e),{isOpenAncillaryPgCreditCardModal:!0})),Object(P.s)(h.closeAncillaryPgCreditCardModalAction,e=>Object.assign(Object.assign({},e),{isOpenAncillaryPgCreditCardModal:!1})),Object(P.s)(h.openAncillaryPgBankModalAction,e=>Object.assign(Object.assign({},e),{isOpenAncillaryPgBankModal:!0})),Object(P.s)(h.closeAncillaryPgBankModalAction,e=>Object.assign(Object.assign({},e),{isOpenAncillaryPgBankModal:!1})),Object(P.s)(h.openPaymentInfoTypeSelectModalAction,e=>Object.assign(Object.assign({},e),{isOpenPaymentInfoTypeSelectModal:!0})),Object(P.s)(h.closePaymentInfoTypeSelectModalAction,e=>Object.assign(Object.assign({},e),{isOpenPaymentInfoTypeSelectModal:!1})),Object(P.s)(h.openPaymentInfoRegisterModalAction,(e,{isBundlePayment:t,loadCondition:n})=>Object.assign(Object.assign({},e),{isOpenPaymentInfoRegisterModal:!0,isBundlePaymentRegister:t,paymentRegisterLoadCondition:n})),Object(P.s)(h.closePaymentInfoRegisterModalAction,e=>Object.assign(Object.assign({},e),{isOpenPaymentInfoRegisterModal:!1,isBundlePaymentRegister:null,paymentRegisterInfo:null,paymentRegisterLoadCondition:null})),Object(P.s)(h.openPaymentInfoUpdateModalAction,(e,{loadCondition:t})=>Object.assign(Object.assign({},e),{isOpenPaymentInfoUpdateModal:!0,paymentUpdateLoadCondition:t})),Object(P.s)(h.closePaymentInfoUpdateModalAction,e=>Object.assign(Object.assign({},e),{isOpenPaymentInfoUpdateModal:!1,paymentUpdateInfo:null,paymentUpdateLoadCondition:null})),Object(P.s)(h.checkPaymentInfosAction,(e,{selectedPaymentInfos:t})=>Object.assign(Object.assign({},e),{selectedPaymentInfos:t})),Object(P.s)(h.openPaymentCancelModalAction,e=>Object.assign(Object.assign({},e),{isOpenPaymentCancelModal:!0})),Object(P.s)(h.closePaymentCancelModalAction,e=>Object.assign(Object.assign({},e),{isOpenPaymentCancelModal:!1})),Object(P.s)(h.openCouponPointCancelModalAction,e=>Object.assign(Object.assign({},e),{isOpenCouponPointCancelModal:!0})),Object(P.s)(h.closeCouponPointCancelModalAction,e=>Object.assign(Object.assign({},e),{isOpenCouponPointCancelModal:!1})),Object(P.s)(h.openPaymentManualModalAction,e=>Object.assign(Object.assign({},e),{isOpenPaymentManualModal:!0})),Object(P.s)(h.closePaymentManualModalAction,e=>Object.assign(Object.assign({},e),{isOpenPaymentManualModal:!1})),Object(P.s)(h.openPaymentPenaltyCancelModalAction,e=>Object.assign(Object.assign({},e),{isOpenPaymentPenaltyCancelModal:!0})),Object(P.s)(h.closePaymentPenaltyCancelModalAction,e=>Object.assign(Object.assign({},e),{isOpenPaymentPenaltyCancelModal:!1})),Object(P.s)(h.clickScheduleRowAction,(e,{segment:t})=>Object.assign(Object.assign({},e),{selectedScheduleInfo:t})),Object(P.s)(h.resetScheduleFormAction,e=>Object.assign(Object.assign({},e),{selectedScheduleInfo:null})),Object(P.s)(h.checkScheduleRowidAction,(e,{rowid:t})=>Object.assign(Object.assign({},e),{checkedScheduleRowid:t})),Object(P.s)(h.removeCheckedScheduleRowidAction,e=>Object.assign(Object.assign({},e),{checkedScheduleRowid:null})),Object(P.s)(h.openScheduleFormAction,e=>Object.assign(Object.assign({},e),{isOpenScheduleForm:!0})),Object(P.s)(h.closeScheduleFormAction,e=>Object.assign(Object.assign({},e),{isOpenScheduleForm:!1})),Object(P.s)(h.openOffRegisterAction,e=>Object.assign(Object.assign({},e),{isOpenOffRegisterModal:!0})),Object(P.s)(h.closeOffRegisterAction,e=>Object.assign(Object.assign({},e),{isOpenOffRegisterModal:!1})),Object(P.s)(h.openCashReceiptAction,(e,{cashReceiptInfo:t})=>Object.assign(Object.assign({},e),{isOpenCashReceiptModal:!0,cashReceiptInfo:t})),Object(P.s)(h.closeCashReceiptAction,e=>Object.assign(Object.assign({},e),{isOpenCashReceiptModal:!1,cashReceiptInfo:null})),Object(P.s)(h.openInvoiceModalAction,e=>Object.assign(Object.assign({},e),{isOpenInvoiceModal:!0})),Object(P.s)(h.closeInvoiceModalAction,e=>Object.assign(Object.assign({},e),{isOpenInvoiceModal:!1})),Object(P.s)(h.openDepositMappingModalAction,e=>Object.assign(Object.assign({},e),{isOpenDepositMappingModal:!0})),Object(P.s)(h.closeDepositMappingModalAction,e=>Object.assign(Object.assign({},e),{isOpenDepositMappingModal:!1})),Object(P.s)(h.clickFareEvidenceRowAction,(e,{evidence:t,travelerName:n,bookingTravelerCode:i})=>Object.assign(Object.assign({},e),{selectedFareEvidence:{evidence:t,travelerName:n,bookingTravelerCode:i}})),Object(P.s)(h.removeSelectedFareEvidenceAction,e=>Object.assign(Object.assign({},e),{selectedFareEvidence:null})),Object(P.s)(h.setFareEvidenceFileUrlAction,(e,{fileUrl:t})=>Object.assign(Object.assign({},e),{fareEvidenceFileUrl:t})),Object(P.s)(h.removeFareEvidenceFileUrlAction,e=>Object.assign(Object.assign({},e),{fareEvidenceFileUrl:null})),Object(P.s)(h.checkPaymentEvidenceRowidAction,(e,{rowid:t})=>Object.assign(Object.assign({},e),{selectedPaymentEvidenceRowid:t})),Object(P.s)(h.removePaymentEvidenceRowidAction,e=>Object.assign(Object.assign({},e),{selectedPaymentEvidenceRowid:null})),Object(P.s)(h.setPaymentEvidenceFileUrlAction,(e,{fileUrl:t})=>Object.assign(Object.assign({},e),{paymentEvidenceFileUrl:t})),Object(P.s)(h.removePaymentEvidenceFileUrlAction,e=>Object.assign(Object.assign({},e),{paymentEvidenceFileUrl:null})),Object(P.s)(h.selectTicketDetailInfo,(e,{ticketDetailInfo:t,ticketingDsrFinishYn:n})=>Object.assign(Object.assign({},e),{selectedTicketDetailInfo:t,selectedTicketDetailTicketingDsrFinishYn:n})),Object(P.s)(h.removeTicketDetailInfo,e=>Object.assign(Object.assign({},e),{selectedTicketDetailInfo:null,selectedTicketDetailTicketingDsrFinishYn:!1})),Object(P.s)(h.selectPenaltyInfoAction,(e,{penaltyInfo:t})=>Object.assign(Object.assign({},e),{selectedPenaltyInfo:t})),Object(P.s)(h.removePenaltyInfoAction,e=>Object.assign(Object.assign({},e),{selectedPenaltyInfo:null})),Object(P.s)(h.selectedRefundTicketInfoAction,(e,{refundTicketInfo:t})=>Object.assign(Object.assign({},e),{selectedRefundTicketInfo:t}))),ok=Object(P.q)({loading:!1,master:null,bookingItems:null,summary:null,bookingInfo:null,travelers:null,neededInfo:null,price:null,paymentInfo:null,plFinishYn:!1,receiptGetInfo:null,currentSubTab:null,subTabs:null,basicInfo:null,isOpenCancelModal:!1,isOpenCashReceiptIssueModal:!1,isOpenPgCreditCardModal:!1,isOpenPgBankModal:!1,isOpenCreditCardCancelModal:!1,isOpenCouponPointCancelModal:!1,isOpenPaymentManualModal:!1,isOpenVoucherModal:!1,isOpenInvoiceModal:!1,isOpenCardReceiptModal:!1,isOpenCashReceiptModal:!1,isOpenRefundRegisterModal:!1,isOpenPointPaymentModal:!1,selectedPayment:null,cardReceiptInfo:null,cashReceiptInfo:null,cancelPolicy:null,amountInfo:null,cancelCharge:null,bookingStatusList:null,vendorList:null,activityTypeList:null,deliveryTypeList:null,deliveryMethodList:null,deliveryStatusList:null,deliveryCompList:null,ageTypeList:null,activityContentsOptionList:null,paymentDetailTypeList:null,depositTypeList:null,paymentBankMasterList:null,giftCardTypeList:null,bookingUnableReasonList:null,clientPaymentStatus:null},Object(P.s)(g.loadMasterInfoAction,e=>Object.assign(Object.assign({},e),{loading:!0})),Object(P.s)(g.loadMasterInfoSuccessAction,(e,{dataCollection:t})=>Object.assign(Object.assign(Object.assign({},e),t),{loading:!1})),Object(P.s)(g.setCurrentSubTabAction,(e,{tabName:t})=>{const n=e.subTabs||[],i=n.indexOf(t)>-1?n:Q.concat(n,[t]);return Object.assign(Object.assign({},e),{currentSubTab:t,subTabs:i})}),Object(P.s)(g.delSubTabAction,(e,{tabName:t})=>{const n=e.subTabs.indexOf(t);if(-1===n)return e;const i=Math.max(n-1,0),o=e.subTabs.filter(e=>e!==t),a=o.length>0?o[i]:null;return Object.assign(Object.assign({},e),{currentSubTab:a,subTabs:o})}),Object(P.s)(g.loadBasicInfoSuccessAction,(e,{basicInfo:t})=>Object.assign(Object.assign({},e),{basicInfo:t})),Object(P.s)(g.selectPaymentInfoAction,(e,{paymentInfo:t})=>Object.assign(Object.assign({},e),{selectedPayment:t})),Object(P.s)(g.removePaymentInfoAction,e=>Object.assign(Object.assign({},e),{selectedPayment:null})),Object(P.s)(g.loadCancelPolicySuccessAction,(e,{cancelPolicy:t})=>Object.assign(Object.assign({},e),{cancelPolicy:t})),Object(P.s)(g.loadAmountInfoSuccessAction,(e,{amountInfo:t})=>Object.assign(Object.assign({},e),{amountInfo:t})),Object(P.s)(g.loadCancelChargeAmountSuccessAction,(e,{cancelCharge:t})=>Object.assign(Object.assign({},e),{cancelCharge:t})),Object(P.s)(g.openCanceModalAction,e=>Object.assign(Object.assign({},e),{isOpenCancelModal:!0})),Object(P.s)(g.closeCanceModalAction,e=>Object.assign(Object.assign({},e),{isOpenCancelModal:!1})),Object(P.s)(g.openCashReceiptIssueModalAction,e=>Object.assign(Object.assign({},e),{isOpenCashReceiptIssueModal:!0})),Object(P.s)(g.closeCashReceiptIssueModalAction,e=>Object.assign(Object.assign({},e),{isOpenCashReceiptIssueModal:!1})),Object(P.s)(g.openPgCreditCardModalAction,e=>Object.assign(Object.assign({},e),{isOpenPgCreditCardModal:!0})),Object(P.s)(g.closePgCreditCardModalAction,e=>Object.assign(Object.assign({},e),{isOpenPgCreditCardModal:!1})),Object(P.s)(g.openPgBankModalAction,e=>Object.assign(Object.assign({},e),{isOpenPgBankModal:!0})),Object(P.s)(g.closePgBankModalAction,e=>Object.assign(Object.assign({},e),{isOpenPgBankModal:!1})),Object(P.s)(g.openCreditCardCancelModalAction,e=>Object.assign(Object.assign({},e),{isOpenCreditCardCancelModal:!0})),Object(P.s)(g.closeCreditCardCancelModalAction,e=>Object.assign(Object.assign({},e),{isOpenCreditCardCancelModal:!1})),Object(P.s)(g.openCouponPointCancelModalAction,e=>Object.assign(Object.assign({},e),{isOpenCouponPointCancelModal:!0})),Object(P.s)(g.closeCouponPointCancelModalAction,e=>Object.assign(Object.assign({},e),{isOpenCouponPointCancelModal:!1})),Object(P.s)(g.openPaymentManualModalAction,e=>Object.assign(Object.assign({},e),{isOpenPaymentManualModal:!0})),Object(P.s)(g.closePaymentManualModalAction,e=>Object.assign(Object.assign({},e),{isOpenPaymentManualModal:!1})),Object(P.s)(g.openVoucherModalAction,e=>Object.assign(Object.assign({},e),{isOpenVoucherModal:!0})),Object(P.s)(g.closeVoucherModalAction,e=>Object.assign(Object.assign({},e),{isOpenVoucherModal:!1})),Object(P.s)(g.openInvoiceModalAction,e=>Object.assign(Object.assign({},e),{isOpenInvoiceModal:!0})),Object(P.s)(g.closeInvoiceModalAction,e=>Object.assign(Object.assign({},e),{isOpenInvoiceModal:!1})),Object(P.s)(g.openCardReceiptAction,(e,{cardReceiptInfo:t})=>Object.assign(Object.assign({},e),{isOpenCardReceiptModal:!0,cardReceiptInfo:t})),Object(P.s)(g.closeCardReceiptAction,e=>Object.assign(Object.assign({},e),{isOpenCardReceiptModal:!1,cardReceiptInfo:null})),Object(P.s)(g.openCashReceiptAction,(e,{receiptGetInfo:t})=>Object.assign(Object.assign({},e),{isOpenCashReceiptModal:!0,receiptGetInfo:t})),Object(P.s)(g.closeCashReceiptAction,e=>Object.assign(Object.assign({},e),{isOpenCashReceiptModal:!1,receiptGetInfo:null})),Object(P.s)(g.openRefundRegisterAction,e=>Object.assign(Object.assign({},e),{isOpenRefundRegisterModal:!0})),Object(P.s)(g.closeRefundRegisterAction,e=>Object.assign(Object.assign({},e),{isOpenRefundRegisterModal:!1})),Object(P.s)(g.openPointPaymentAction,e=>Object.assign(Object.assign({},e),{isOpenPointPaymentModal:!0})),Object(P.s)(g.closePointPaymentAction,e=>Object.assign(Object.assign({},e),{isOpenPointPaymentModal:!1})),Object(P.s)(g.loadBookingStatusSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{bookingStatusList:t})),Object(P.s)(g.loadVendorListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{vendorList:t})),Object(P.s)(g.loadActivityTypeSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{activityTypeList:t})),Object(P.s)(g.loadDeliveryTypeSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{deliveryTypeList:t})),Object(P.s)(g.loadDeliveryMethodSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{deliveryMethodList:t})),Object(P.s)(g.loadDeliveryStatusSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{deliveryStatusList:t})),Object(P.s)(g.loadDeliveryCompSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{deliveryCompList:t})),Object(P.s)(g.loadAgeTypeSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{ageTypeList:t})),Object(P.s)(g.loadActivityContentsOptionSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{activityContentsOptionList:t})),Object(P.s)(g.loadPaymentDetailTypeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{paymentDetailTypeList:t})),Object(P.s)(g.loadDepositTypeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{depositTypeList:t})),Object(P.s)(g.loadPaymentBankMasterListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{paymentBankMasterList:t})),Object(P.s)(g.loadGiftCardTypeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{giftCardTypeList:t})),Object(P.s)(g.loadBookingUnableReasonListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{bookingUnableReasonList:t})),Object(P.s)(g.loadClientPaymentStatusSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{clientPaymentStatus:t})));function ak(e,t){return Object(P.m)({reservationRoot:ek,reservationCarInfo:tk,reservationHotelInfo:nk,reservationFlightInfo:ik,reservationActivityInfo:ok})(e,t)}const ck=Object(P.p)("reservation"),sk=Object(P.r)(ck,e=>e.reservationRoot),rk=Object(P.r)(sk,e=>e.auths),lk=Object(P.r)(sk,e=>e.bookingItemCode),dk=Object(P.r)(sk,e=>e.bookingItemCodes),bk=Object(P.r)(sk,e=>e.consultingSeq),uk=Object(P.r)(sk,e=>e.toggleReloadBookingDetail),pk=Object(P.r)(sk,e=>e.bookingLogList),mk=Object(P.r)(sk,e=>e.consultingList),hk=Object(P.r)(sk,e=>e.bookingMemoList),gk=Object(P.r)(sk,e=>e.bookerInfo),fk=Object(P.r)(ck,e=>e.reservationCarInfo),vk=Object(P.r)(fk,e=>e.loading),Ck=Object(P.r)(fk,e=>e.master),yk=Object(P.r)(Ck,e=>{const{bookerUno:t,bookerName:n,bookerMobileNo:i,bookerEmailAddress:o}=e;return{userNo:t||null,name:n||null,phoneNo:i||null,emailAddress:o||null}}),kk=Object(P.r)(lk,Ck,(e,t)=>{const{stationTypeCode:n}=t;return{bookingItemCode:e,stationTypeCode:n,itemCategoryCode:"IC03",invoiceYn:!1}}),Ik=Object(P.r)(lk,Ck,(e,t)=>{const{stationTypeCode:n}=t;return{bookingItemCode:e,stationTypeCode:n,itemCategoryCode:"IC03",invoiceYn:!0}}),Ok=Object(P.r)(fk,e=>e.basicInfo),Pk=Object(P.r)(fk,e=>e.receiptGetInfo),jk=Object(P.r)(fk,e=>e.bookingItems),Vk=Object(P.r)(fk,e=>e.summary),Ak=Object(P.r)(fk,e=>e.bookingInfo),Wk=Object(P.r)(fk,e=>e.driver),Rk=Object(P.r)(fk,e=>e.price),Fk=Object(P.r)(fk,e=>e.payment),Sk=Object(P.r)(fk,e=>e.plFinishYn),Tk=Object(P.r)(fk,e=>e.amountInfo),Nk=Object(P.r)(fk,e=>e.cancelCharge),Ek=Object(P.r)(fk,e=>e.isOpenCancelModal),Mk=Object(P.r)(fk,e=>e.isOpenCreditCardCancelModal),Dk=Object(P.r)(fk,e=>e.isOpenCouponPointCancelModal),Lk=Object(P.r)(fk,e=>e.isOpenCashReceiptIssueModal),_k=Object(P.r)(fk,e=>e.isOpenPgCreditCardModal),$k=Object(P.r)(fk,e=>e.isOpenPgBankModal),Bk=Object(P.r)(fk,e=>e.isOpenPaymentManualModal),wk=Object(P.r)(fk,e=>e.isOpenConfirmationModal),xk=Object(P.r)(fk,e=>e.isOpenInvoiceModal),Yk=Object(P.r)(fk,e=>e.isOpenCardReceiptModal),Hk=Object(P.r)(fk,e=>e.isOpenCashReceiptModal),qk=Object(P.r)(fk,e=>e.isOpenRefundRegisterModal),Uk=Object(P.r)(fk,e=>e.isOpenPointPaymentModal),Qk=Object(P.r)(fk,e=>e.cardReceiptInfo),Gk=Object(P.r)(fk,e=>e.cashReceiptInfo),Kk=Object(P.r)(fk,e=>e.selectedPayment),zk=Object(P.r)(fk,e=>e.subTabs),Xk=Object(P.r)(fk,e=>e.currentSubTab),Zk=Object(P.r)(fk,e=>e.stationTypeList),Jk=Object(P.r)(fk,e=>e.bookingStatusList),eI=Object(P.r)(fk,e=>e.requestStatusList),tI=Object(P.r)(fk,e=>e.vendorList),nI=Object(P.r)(fk,e=>e.vehicleVendorList),iI=Object(P.r)(fk,e=>e.paymentDetailTypeList),oI=Object(P.r)(fk,e=>e.depositTypeList),aI=Object(P.r)(fk,e=>e.paymentBankMasterList),cI=Object(P.r)(fk,e=>e.giftCardTypeList),sI=Object(P.r)(fk,e=>e.corporateReasonList),rI=Object(P.r)(fk,e=>e.ageTypeCodeList),lI=Object(P.r)(fk,e=>e.clientPaymentStatusCodeList),dI=Object(P.r)(fk,e=>e.cancelPolicy),bI=Object(P.r)(fk,e=>e.policyMonitoringInfo),uI=Object(P.r)(Rk,dI,(e,t)=>{var n;const i=(null==e?void 0:e.productAmount)||0,o=(null===(n=Q.head(null==t?void 0:t.clientCancelPolicies))||void 0===n?void 0:n.cancelChargeAmount)||0;return o>0&&o<i}),pI=(Object(P.r)(Vk,e=>null==e?void 0:e.stationTypeCode),Object(P.r)(ck,e=>e.reservationHotelInfo)),mI=Object(P.r)(pI,e=>e.loading),hI=Object(P.r)(pI,e=>e.master),gI=Object(P.r)(hI,e=>{const{bookerUno:t,bookerName:n,bookerMobileNo:i,bookerEmailAddress:o}=e;return{userNo:t||null,name:n||null,phoneNo:i||null,emailAddress:o||null}}),fI=Object(P.r)(lk,hI,(e,t)=>{const{stationTypeCode:n}=t;return{bookingItemCode:e,stationTypeCode:n,itemCategoryCode:"IC02",invoiceYn:!1}}),vI=Object(P.r)(lk,hI,(e,t)=>{const{stationTypeCode:n}=t;return{bookingItemCode:e,stationTypeCode:n,itemCategoryCode:"IC02",invoiceYn:!0}}),CI=Object(P.r)(pI,e=>e.receiptGetInfo),yI=Object(P.r)(pI,e=>e.bookingItems),kI=Object(P.r)(pI,e=>e.summary),II=Object(P.r)(pI,e=>e.bookingInfo),OI=Object(P.r)(pI,e=>e.rooms),PI=Object(P.r)(pI,e=>e.price),jI=Object(P.r)(pI,e=>e.payment),VI=Object(P.r)(pI,e=>e.plFinishYn),AI=Object(P.r)(pI,e=>e.basic),WI=Object(P.r)(pI,e=>e.cancelPolicy),RI=Object(P.r)(pI,e=>e.stationList),FI=Object(P.r)(pI,e=>e.bookingStatusList),SI=Object(P.r)(pI,e=>e.handleStatusList),TI=Object(P.r)(pI,e=>e.deviceTypeList),NI=Object(P.r)(pI,e=>e.vendorList),EI=Object(P.r)(pI,e=>e.ageTypList),MI=Object(P.r)(pI,e=>e.lateCheckInTypeList),DI=Object(P.r)(pI,e=>e.paymentDetailTypeList),LI=Object(P.r)(pI,e=>e.depositTypeList),_I=Object(P.r)(pI,e=>e.paymentBankMasterList),$I=Object(P.r)(pI,e=>e.giftCardTypeList),BI=Object(P.r)(pI,e=>e.bedTypeList),wI=Object(P.r)(pI,e=>e.corporateReasonList),xI=Object(P.r)(pI,e=>e.amount),YI=Object(P.r)(pI,e=>e.cancelCharge),HI=Object(P.r)(pI,e=>e.policyMonitoringInfo),qI=Object(P.r)(pI,e=>e.subTabs),UI=Object(P.r)(pI,e=>e.currentSubTab),QI=Object(P.r)(pI,e=>e.isOpenCancelModal),GI=Object(P.r)(pI,e=>e.isOpenCashReceiptIssueModal),KI=Object(P.r)(pI,e=>e.isOpenPgCreditCardModal),zI=Object(P.r)(pI,e=>e.isOpenPgBankModal),XI=Object(P.r)(pI,e=>e.isOpenCreditCardCancelModal),ZI=Object(P.r)(pI,e=>e.isOpenCouponPointCancelModal),JI=Object(P.r)(pI,e=>e.isOpenPaymentManualModal),eO=Object(P.r)(pI,e=>e.isOpenHotelContentDetailModal),tO=Object(P.r)(pI,e=>e.isOpenVoucherModal),nO=Object(P.r)(pI,e=>e.isOpenInvoiceModal),iO=Object(P.r)(pI,e=>e.isOpenCardReceiptModal),oO=Object(P.r)(pI,e=>e.isOpenCashReceiptModal),aO=Object(P.r)(pI,e=>e.isOpenRefundRegisterModal),cO=Object(P.r)(pI,e=>e.isOpenPointPaymentModal),sO=Object(P.r)(pI,e=>e.selectedPayment),rO=Object(P.r)(pI,e=>e.cardReceiptInfo),lO=Object(P.r)(pI,e=>e.cashReceiptInfo),dO=Object(P.r)(pI,e=>e.checkInList),bO=Object(P.r)(pI,e=>e.vendorPayment),uO=Object(P.r)(pI,e=>e.vccTypeList),pO=Object(P.r)(pI,e=>e.cashReceipts),mO=Object(P.r)(pI,e=>e.clientPayment),hO=Object(P.r)(PI,WI,(e,t)=>{var n;const i=(null==e?void 0:e.productAmount)||0,o=(null===(n=Q.head(null==t?void 0:t.clientCancelPolicies))||void 0===n?void 0:n.cancelChargeAmount)||0;return o>0&&o<i}),gO=(Object(P.r)(kI,e=>null==e?void 0:e.stationTypeCode),Object(P.r)(pI,e=>e.roomTypeList)),fO=Object(P.r)(pI,e=>e.mealList),vO=Object(P.r)(pI,e=>e.freeBreakFastList),CO=Object(P.r)(ck,e=>e.reservationFlightInfo),yO=Object(P.r)(CO,e=>e.loading),kO=Object(P.r)(CO,e=>e.retrieveYn),IO=Object(P.r)(CO,e=>e.changeRequestSeq),OO=Object(P.r)(CO,e=>e.master),PO=Object(P.r)(OO,e=>{const{bookerUno:t,bookerName:n,bookerMobileNo:i,bookerEmailAddress:o}=e;return{userNo:t||null,name:n||null,phoneNo:i||null,emailAddress:o||null}}),jO=Object(P.r)(CO,e=>e.promotionList),VO=Object(P.r)(CO,e=>e.bookingItems),AO=Object(P.r)(CO,e=>e.summary),WO=Object(P.r)(CO,e=>e.travelerInfo),RO=Object(P.r)(CO,e=>e.segmentInfo),FO=Object(P.r)(CO,e=>e.paymentEvidences),SO=Object(P.r)(CO,e=>e.priceInfo),TO=Object(P.r)(CO,e=>e.chargeInfo),NO=Object(P.r)(CO,e=>e.paymentInfo),EO=Object(P.r)(CO,e=>e.ticketInfo),MO=Object(P.r)(CO,e=>e.ancillaryInfo),DO=Object(P.r)(CO,e=>e.changeRequests),LO=Object(P.r)(CO,e=>e.policyMonitoringInfo),_O=Object(P.r)(CO,e=>e.unpaidList),$O=Object(P.r)(CO,e=>e.ticketingDsrFinishYn),BO=Object(P.r)(CO,e=>e.refundDsrFinishYn),wO=Object(P.r)(gk,OO,AO,(e,t,n)=>{const{memberYn:i,userId:o}=e.booker,{bookerUno:a,bookerName:c,bookerMobileNo:s,bookerEmailAddress:r,stationTypeCode:l}=t,{bookerCompCode:d,bookerCompName:b}=n;return{bookerUno:a,bookerName:c,bookerMobileNo:s,bookerEmailAddress:r,stationTypeCode:l,bookerCompName:b,bookerCompCode:d,bookerMemberYn:i,bookerId:o}}),xO=Object(P.r)(lk,OO,(e,t)=>{const{stationTypeCode:n}=t;return{bookingItemCode:e,stationTypeCode:n,itemCategoryCode:"IC01",invoiceYn:!0}}),YO=Object(P.r)(lk,OO,(e,t)=>{const{bookerEmailAddress:n}=t;return{bookingItemCode:e,mailTemplateName:"flight-invoice",receiverEmailAddress:n}}),HO=Object(P.r)(CO,e=>e.basic),qO=Object(P.r)(CO,e=>e.fareRule),UO=Object(P.r)(CO,e=>e.gdsPnr),QO=Object(P.r)(CO,e=>e.pnrLog),GO=Object(P.r)(CO,e=>e.ticketDetailInfo),KO=Object(P.r)(CO,e=>e.paymentDetailInfo),zO=Object(P.r)(CO,e=>e.refundRequestInfo),XO=Object(P.r)(CO,e=>e.refundInfo),ZO=Object(P.r)(CO,e=>e.tasfInfo),JO=Object(P.r)(CO,e=>e.departureTypeList),eP=Object(P.r)(CO,e=>e.controlBranchList),tP=(Object(P.r)(CO,e=>e.stationList),Object(P.r)(CO,e=>e.bookingStatusList)),nP=Object(P.r)(CO,e=>e.requestStatusList),iP=(Object(P.r)(CO,e=>e.handleStatusList),Object(P.r)(CO,e=>e.deviceTypeList)),oP=Object(P.r)(CO,e=>e.evidenceTypeList),aP=(Object(P.r)(CO,e=>e.vendorList),Object(P.r)(CO,e=>e.ageTypeList)),cP=Object(P.r)(CO,e=>e.cardMasterList),sP=Object(P.r)(CO,e=>e.cashReceiptPurposeList),rP=Object(P.r)(CO,e=>e.cashReceiptKindList),lP=Object(P.r)(CO,e=>e.cardHolderTypeList),dP=Object(P.r)(CO,e=>e.cardUseTypeList),bP=Object(P.r)(CO,e=>e.cardHolderRelationList),uP=Object(P.r)(CO,e=>e.bankMasterList),pP=Object(P.r)(CO,e=>e.ticketingStatusCodeList),mP=Object(P.r)(CO,e=>e.fopCodeList),hP=Object(P.r)(CO,e=>e.billingTypeList),gP=Object(P.r)(CO,e=>e.gdsNdcCompList),fP=Object(P.r)(CO,e=>e.airlineChargeType),vP=Object(P.r)(CO,e=>e.bspBillingPeriodList),CP=Object(P.r)(CO,e=>e.adjustReasonList),yP=Object(P.r)(CO,e=>e.paymentDetailTypeAddList),kP=Object(P.r)(CO,e=>e.paymentDetailTypeSalesList),IP=Object(P.r)(CO,e=>e.depositTypeList),OP=Object(P.r)(CO,e=>e.paymentBankMasterList),PP=Object(P.r)(CO,e=>e.giftCardTypeList),jP=Object(P.r)(CO,e=>e.etEmdOtherTypeList),VP=Object(P.r)(CO,e=>e.bookingTravelerList),AP=Object(P.r)(CO,e=>e.paymentStatusCodeList),WP=Object(P.r)(CO,e=>e.ticketVoidTypeList),RP=Object(P.r)(CO,e=>e.bookingFareTypeList),FP=Object(P.r)(CO,e=>e.ancillaryTypeList),SP=Object(P.r)(CO,e=>e.ancillaryStatusList),TP=Object(P.r)(CO,e=>e.corporateReasonList),NP=Object(P.r)(CO,e=>e.changeRequestStatusList),EP=Object(P.r)(CO,e=>e.manualTicketNoList),MP=Object(P.r)(CO,e=>e.bankIssueInfo),DP=Object(P.r)(CO,e=>e.subTabs),LP=Object(P.r)(CO,e=>e.currentSubTab),_P=Object(P.r)(CO,e=>e.isOpenCancelModal),$P=Object(P.r)(CO,e=>e.isOpenTravelerDivideModal),BP=Object(P.r)(CO,e=>e.isOpenPgCreditCardModal),wP=Object(P.r)(CO,e=>e.isOpenPgBankModal),xP=Object(P.r)(CO,e=>e.isOpenChargeInfoModal),YP=Object(P.r)(CO,e=>e.isOpenChargeInfoUpdateModal),HP=Object(P.r)(CO,e=>e.isOpenChargePgCreditCardModal),qP=Object(P.r)(CO,e=>e.isOpenChargePgBankModal),UP=Object(P.r)(CO,e=>e.isOpenPnrModifyModal),QP=Object(P.r)(CO,e=>e.isOpenOriginalFareRuleModal),GP=Object(P.r)(CO,e=>e.isOpenFareRuleResearchModal),KP=Object(P.r)(CO,e=>e.isOpenCashReceiptIssueModal),zP=Object(P.r)(CO,e=>e.isOpenPromotionChangeModal),XP=Object(P.r)(CO,e=>e.isOpenAddFareModal),ZP=Object(P.r)(CO,e=>e.isOpenTicketMappingModal),JP=Object(P.r)(CO,e=>e.isOpenTicketMappingDeleteModal),ej=Object(P.r)(CO,e=>e.isOpenPricePaymentManualModal),tj=Object(P.r)(CO,e=>e.isOpenAncillaryInfoModal),nj=Object(P.r)(CO,e=>e.isOpenAncillaryPgCreditCardModal),ij=Object(P.r)(CO,e=>e.isOpenAncillaryPgBankModal),oj=Object(P.r)(CO,e=>e.isOpenPgCreditCardApproveModal),aj=Object(P.r)(CO,e=>e.isOpenPaymentInfoTypeSelectModal),cj=Object(P.r)(CO,e=>e.isOpenPaymentInfoRegisterModal),sj=Object(P.r)(CO,e=>e.isOpenPaymentInfoUpdateModal),rj=Object(P.r)(CO,e=>e.isOpenOffRegisterModal),lj=Object(P.r)(CO,e=>e.isOpenInvoiceModal),dj=Object(P.r)(CO,e=>e.isOpenPaymentCancelModal),bj=Object(P.r)(CO,e=>e.isOpenCouponPointCancelModal),uj=Object(P.r)(CO,e=>e.isOpenPaymentManualModal),pj=Object(P.r)(CO,e=>e.isOpenPaymentPenaltyCancelModal),mj=Object(P.r)(CO,e=>e.isOpenCashReceiptModal),hj=Object(P.r)(CO,e=>e.isOpenDepositMappingModal),gj=Object(P.r)(CO,e=>e.cashReceiptInfo),fj=Object(P.r)(CO,e=>e.selectedScheduleInfo),vj=Object(P.r)(CO,e=>e.checkedScheduleRowid),Cj=Object(P.r)(CO,e=>e.isOpenScheduleForm),yj=Object(P.r)(CO,e=>e.selectedFareEvidence),kj=Object(P.r)(CO,e=>e.fareEvidenceFileUrl),Ij=Object(P.r)(CO,e=>e.selectedPaymentEvidenceRowid),Oj=Object(P.r)(CO,e=>e.paymentEvidenceFileUrl),Pj=Object(P.r)(CO,e=>e.selectedPriceInfo),jj=Object(P.r)(CO,e=>e.selectedPaymentInfo),Vj=Object(P.r)(CO,e=>e.checkedFareList),Aj=Object(P.r)(CO,e=>e.selectedPenaltyInfo),Wj=Object(P.r)(CO,e=>e.selectedRefundTicketInfo),Rj=Object(P.r)(CO,e=>e.selectedTicketDetailInfo),Fj=Object(P.r)(CO,e=>e.selectedTicketDetailTicketingDsrFinishYn),Sj=Object(P.r)(CO,e=>e.isBundlePaymentRegister),Tj=Object(P.r)(CO,e=>e.paymentRegisterInfo),Nj=Object(P.r)(CO,e=>e.paymentRegisterLoadCondition),Ej=Object(P.r)(CO,e=>e.paymentUpdateInfo),Mj=Object(P.r)(CO,e=>e.paymentUpdateLoadCondition),Dj=Object(P.r)(CO,e=>e.paymentApproveInfo),Lj=Object(P.r)(CO,e=>e.selectedPrices),_j=Object(P.r)(CO,e=>e.selectedChargePriceInfo),$j=Object(P.r)(CO,e=>e.selectedChargePrices),Bj=Object(P.r)(CO,e=>e.selectedAncillaryPrices),wj=Object(P.r)(CO,e=>e.selectedPaymentInfos),xj=Object(P.r)(AO,e=>null==e?void 0:e.stationTypeCode),Yj=Object(P.r)(ck,e=>e.reservationActivityInfo),Hj=Object(P.r)(Yj,e=>e.loading),qj=Object(P.r)(Yj,e=>e.master),Uj=Object(P.r)(Yj,e=>e.bookingItems),Qj=Object(P.r)(Yj,e=>e.summary),Gj=Object(P.r)(Yj,e=>e.bookingInfo),Kj=Object(P.r)(Yj,e=>e.travelers),zj=Object(P.r)(Yj,e=>e.neededInfo),Xj=Object(P.r)(Yj,e=>e.price),Zj=Object(P.r)(Yj,e=>e.paymentInfo),Jj=Object(P.r)(Yj,e=>e.plFinishYn),eV=Object(P.r)(qj,e=>{const{bookerUno:t,bookerName:n,bookerMobileNo:i,bookerEmailAddress:o}=e;return{userNo:t||null,name:n||null,phoneNo:i||null,emailAddress:o||null}}),tV=Object(P.r)(lk,qj,(e,t)=>{const{stationTypeCode:n}=t;return{bookingItemCode:e,stationTypeCode:n,itemCategoryCode:"IC04",invoiceYn:!1}}),nV=Object(P.r)(lk,qj,(e,t)=>{const{stationTypeCode:n}=t;return{bookingItemCode:e,stationTypeCode:n,itemCategoryCode:"IC04",invoiceYn:!0}}),iV=Object(P.r)(Yj,e=>e.basicInfo),oV=Object(P.r)(Yj,e=>e.receiptGetInfo),aV=Object(P.r)(Yj,e=>e.subTabs),cV=Object(P.r)(Yj,e=>e.currentSubTab),sV=Object(P.r)(Yj,e=>e.isOpenCancelModal),rV=Object(P.r)(Yj,e=>e.isOpenCashReceiptIssueModal),lV=Object(P.r)(Yj,e=>e.isOpenPgCreditCardModal),dV=Object(P.r)(Yj,e=>e.isOpenPgBankModal),bV=Object(P.r)(Yj,e=>e.isOpenCreditCardCancelModal),uV=Object(P.r)(Yj,e=>e.isOpenCouponPointCancelModal),pV=Object(P.r)(Yj,e=>e.isOpenPaymentManualModal),mV=Object(P.r)(Yj,e=>e.isOpenVoucherModal),hV=Object(P.r)(Yj,e=>e.isOpenInvoiceModal),gV=Object(P.r)(Yj,e=>e.selectedPayment),fV=Object(P.r)(Yj,e=>e.isOpenCardReceiptModal),vV=Object(P.r)(Yj,e=>e.isOpenCashReceiptModal),CV=Object(P.r)(Yj,e=>e.isOpenRefundRegisterModal),yV=Object(P.r)(Yj,e=>e.isOpenPointPaymentModal),kV=Object(P.r)(Yj,e=>e.cardReceiptInfo),IV=Object(P.r)(Yj,e=>e.cashReceiptInfo),OV=Object(P.r)(Yj,e=>e.cancelPolicy),PV=Object(P.r)(Yj,e=>e.amountInfo),jV=Object(P.r)(Yj,e=>e.cancelCharge),VV=Object(P.r)(Yj,e=>e.bookingStatusList),AV=Object(P.r)(Yj,e=>e.vendorList),WV=Object(P.r)(Yj,e=>e.activityTypeList),RV=Object(P.r)(Yj,e=>e.deliveryTypeList),FV=Object(P.r)(Yj,e=>e.deliveryMethodList),SV=Object(P.r)(Yj,e=>e.deliveryStatusList),TV=Object(P.r)(Yj,e=>e.deliveryCompList),NV=Object(P.r)(Yj,e=>e.ageTypeList),EV=Object(P.r)(Yj,e=>e.activityContentsOptionList),MV=Object(P.r)(Yj,e=>e.paymentDetailTypeList),DV=Object(P.r)(Yj,e=>e.depositTypeList),LV=Object(P.r)(Yj,e=>e.paymentBankMasterList),_V=Object(P.r)(Yj,e=>e.giftCardTypeList),$V=Object(P.r)(Yj,e=>e.clientPaymentStatus),BV=Object(P.r)(Yj,e=>e.bookingUnableReasonList),wV=Object(P.r)(Xj,OV,(e,t)=>{var n;const i=(null==e?void 0:e.productAmount)||0,o=(null===(n=Q.head(null==t?void 0:t.clientCancelPolicies))||void 0===n?void 0:n.cancelChargeAmount)||0;return o>0&&o<i});var xV=n("OMYy"),YV=n("zhzn"),HV=n("N7Iw");const qV=(e,t)=>{switch(t){case"IC01":break;case"IC02":return e.hotelNameLn?e.hotelNameLn:e.hotelNameEn;case"IC03":return e.vehicleNameLn?e.vehicleNameLn:e.vehicleNameEn;case"IC04":return e.activityNameLn?e.activityNameLn:e.activityNameEn;default:return"contact developer"}},UV=(e,t,n,i)=>`\n    <div style="display: block !important; margin: 0 auto !important; padding: 0 !important; max-width: 768px !important; width:100%; background-color: #fff !important;">\n    <table width="100%" border="0" cellpadding="0" cellspacing="0">\n      <tr>\n        <td style="padding: 20px; border: 1px solid #e0e0e0;">\n          <table style="width: 100%;" width="100%" border="0" cellspacing="0" cellpadding="0">\n            <tr>\n              <td style="padding: 0 0 20px 0; border-bottom: 1px solid #e0e0e0;">\n                <table style="width: 100%;" width="100%" border="0" cellspacing="0" cellpadding="0">\n                  <tr>\n                    <td style="width: 300px; vertical-align: middle; text-align:left; font: 600 16px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px;">\n                      \uad6c\ub9e4 \uc601\uc218\uc99d\n                    </td>\n                    <td style="font-size: 0; text-align: right;">\n                      <a href="/"><img src="https://photos.ohmytrip.com/logo/ico-email-logo@2x.png" loading="lazy" alt="OHMYTRIP" style="height: 24px;"></a>\n                    </td>\n                  </tr>\n                </table>\n              </td>\n            </tr>\n            <tr>\n              <td style="padding: 20px 0; border-bottom: 1px solid #e0e0e0; text-align: left;">\n                <div style="display: inline-block; background-color: rgba(239, 127, 41, 0.08); padding: 20px 50px 20px 20px;">\n                  <p style="margin: 0; padding: 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#666; letter-spacing: -0.5px;">\n                    \uc608\uc57d\ubc88\ud638\n                  </p>\n                  <p style="margin: 0; padding: 0; font: 600 16px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px;">\n                    ${e.bookingItemCode} \x3c!-- PM_PAYMENT_INFO.BOOKING_ITEM_CODE. K22091510001A01 --\x3e\n                  </p>\n                </div>\n              </td>\n            </tr>\n            <tr>\n              <td style="padding: 20px 0; border-bottom: 1px dashed #e0e0e0; text-align: left;">\n                <p style="margin: 0 0 10px 0; padding: 0; font: 600 14px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px;">\n                  \uacb0\uc81c\uc77c\n                </p>\n                <p style="margin: 0; padding: 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px;">\n                  ${e.paidDatetime} \x3c!-- PM_PAYMENT_INFO.PAID_DATETIME\uc744 YYYY-MM-DD HH:MM:SS\ub85c \ubcc0\ud658. 2022-12-15 18:55:45 --\x3e\n                </p>\n              </td>\n            </tr>\n            <tr>\n              <td style="padding: 20px 0 15px 0; border-bottom: 1px dashed #e0e0e0; text-align: left;">\n                <p style="margin: 0 0 10px 0; padding: 0; font: 600 14px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px;">\n                  \uace0\uac1d\uc815\ubcf4\n                </p>\n                <table style="width: 100%" width="100%" border="0" cellspacing="0" cellpadding="0">\n                  <tr>\n                    <th style="width: 15%; padding: 5px 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      \uc774\ub984\n                    </th>\n                    <td style="padding: 5px 0 0 10px; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      ${n.booker.name} \x3c!-- BK_BOOKING_MASTER.BOOKER_NAME. \ud64d\uae38\ub3d9 --\x3e\n                    </td>\n                  </tr>\n                </table>\n              </td>\n            </tr>\n            <tr>\n              <td style="padding: 20px 0 15px 0; border-bottom: 1px dashed #e0e0e0; text-align: left;">\n                <p style="margin: 0 0 10px 0; padding: 0; font: 600 14px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px;">\n                  \uc0c1\ud488\uc815\ubcf4\n                </p>\n                <table style="width: 100%" width="100%" border="0" cellspacing="0" cellpadding="0">\n                  <tr>\n                    <th style="width: 15%; padding: 5px 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      \uc0c1\ud488\uba85\n                    </th>\n                    <td style="padding: 5px 0 0 10px; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      ${qV(t,i)} \x3c!-- IC01\uc778 \uacbd\uc6b0 "\ud56d\uacf5\uad8c \ubc1c\uad8c\uc218\uc218\ub8cc", IC02\uc778 \uacbd\uc6b0 BK_BOOKING_HOTEL_ITEM.HOTEL_NAME_LN(\uac12\uc774 \uc5c6\uc73c\uba74 EN), IC03\uc778 \uacbd\uc6b0 "\ub80c\ud130\uce74 \uc608\uc57d", IC04\uc778 \uacbd\uc6b0 BK_BOOKING_ACTIVITY_ITEM.ACTIVITY_NAME_LN(\uac12\uc774 \uc5c6\uc73c\uba74 EN). \ud790\ud2bc \uc624\uc0ac\uce74, \ud56d\uacf5 TASF, \ud64d\ucf69 \ub514\uc988\ub2c8 \uc785\uc7a5\uad8c, \uc81c\uc8fc\ub80c\ud130\uce74 --\x3e\n                    </td>\n                  </tr>\n                  <tr>\n                    <th style="width: 15%; padding: 5px 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      \uc11c\ube44\uc2a4\uc77c\uc790\n                    </th>\n                    <td style="padding: 5px 0 0 10px; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      ${Object(xV.a)(t.checkInDate,"YYYY-MM-DD (ddd)").toUpperCase()} ~ ${Object(xV.a)(t.checkOutDate,"YYYY-MM-DD (ddd)").toUpperCase()}\n                    </td>\n                  </tr>\n                </table>\n              </td>\n            </tr>\n            <tr>\n              <td style="padding: 20px 0 15px 0; border-bottom: 1px dashed #e0e0e0; text-align: left;">\n                <p style="margin: 0 0 10px 0; padding: 0; font: 600 14px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px;">\n                  \uacb0\uc81c\uc815\ubcf4\n                </p>\n                <table style="width: 100%" width="100%" border="0" cellspacing="0" cellpadding="0">\n                  <tr>\n                    <th style="width: 15%; padding: 5px 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      \uce74\ub4dc\uba85\n                    </th>\n                    <td style="padding: 5px 0 0 10px; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      ${e.cardMasterName} \x3c!-- BS_DETAIL_CODE.DETAIL_CODE_NAME_KO(MASTER_CODE = 'PM003' AND DETAIL_CODE = PM_PAYMENT_INFO.CARD_MASTER_CODE. \uc0bc\uc131 --\x3e\n                    </td>\n                  </tr>\n                  <tr>\n                    <th style="width: 15%; padding: 5px 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      \uce74\ub4dc\ubc88\ud638\n                    </th>\n                    <td style="padding: 5px 0 0 10px; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      ${Object(YV.c)(e.cardNo)} \x3c!-- PM_PAYMENT_INFO.CARD_NO\ub97c \ubcf5\ud638\ud654\ud574\uc11c, \ub4a4 4\uc790\ub9ac\ub9cc \ud45c\uc2dc\ud558\uace0 \ub098\uba38\uc9c0\ub294 *\ub85c \ubcc0\ud658. ************1234 --\x3e\n                    </td>\n                  </tr>\n                  <tr>\n                    <th style="width: 15%; padding: 5px 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      \ud560\ubd80\uac1c\uc6d4\n                    </th>\n                    <td style="padding: 5px 0 0 10px; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      ${e.cardQuotaMonth} \x3c!-- PM_PAYMENT_INFO.CARD_QUOTA_MONTH. \uac12\uc774 \uc5c6\uc73c\uba74 '00'. 00 --\x3e\n                    </td>\n                  </tr>\n                  <tr>\n                    <th style="width: 15%; padding: 5px 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      \uc2b9\uc778\ubc88\ud638\n                    </th>\n                    <td style="padding: 5px 0 0 10px; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      ${e.approvalNo} \x3c!-- PM_PAYMENT_INFO.CARD_APPROVAL_NO. 1848222222 --\x3e\n                    </td>\n                  </tr>\n                  <tr>\n                    <th style="width: 15%; padding: 5px 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      \uacb0\uc81c\uae08\uc561\n                    </th>\n                    <td style="padding: 5px 0 0 10px; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      ${Object(YV.a)(e.currencyCode)} ${Object(HV.a)(e.paidAmount)} \x3c!-- BS_CURRENCY_CODE.CURRENCY_SYMBOL(CURRENCY_CODE = PM_PAYMENT_INFO.CURRENCY_CODE. \uac12\uc774 \uc5c6\uc73c\uba74 CURRENCY_CODE, PM_PAYMENT_INFO.PAID_AMOUNT. KRW 32,000 --\x3e\n                    </td>\n                  </tr>\n                </table>\n              </td>\n            </tr>\n            <tr>\n              <td style="padding: 20px 0; border-bottom: 1px solid #e0e0e0; text-align: left;">\n                <p style="margin: 0 0 10px 0; padding: 0; font: 600 14px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px;">\n                  \uacf5\uae09\uc790\uc815\ubcf4\n                </p>\n                <p style="margin: 0; padding: 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px;">\n                  ${e.providerInfo.compNameOfficial}\n                </p>\n              </td>\n            </tr>\n            <tr>\n              <td style="padding: 20px 0 0 0;">\n                <p style="margin: 0; padding: 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px;"><strong style="font-weight: 600;">(\uc8fc)\uc624\ub9c8\uc774\ud638\ud154\uc564\ucf54</strong><strong style="margin-left: 20px;">\ub300\ud45c\uc790\uba85:</strong> ${e.providerInfo.representativeName}</p>\n                <p style="margin: 0; padding: 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px;"><strong style="font-weight: 600;">\uc0ac\uc5c5\uc790\ub4f1\ub85d\ubc88\ud638:</strong> ${e.providerInfo.taxPayerNo}<strong style="margin-left: 20px;">\ud1b5\uc2e0\ud310\ub9e4\uc5c5\ubc88\ud638:</strong> 2020-\uc11c\uc6b8\uc885\ub85c-0399</p>\n                <p style="margin: 0; padding: 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px;"><strong style="font-weight: 600;">\uc8fc\uc18c:</strong> ${e.providerInfo.compAddress1} ${e.providerInfo.compAddress2}</p>\n                <p style="margin: 0; padding: 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px;"><strong style="font-weight: 600;">\uc804\ud654:</strong> ${e.providerInfo.repPhoneNo} (\ud55c\uad6d \ud3c9\uc77c 09:00 ~ 18:00 \uc8fc\ub9d0,\uacf5\ud734\uc77c \uc81c\uc678)</p>\n                <p style="margin: 10px 0 0 0; padding: 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px;">Copyright &copy; Ohmyhotel&amp;Co. Ltd. All rights reserved</p>\n              </td>\n            </tr>\n          </table>\n        </td>\n      </tr>\n    </table>\n  </div>\n  `,QV=(e,t,n,i)=>`\n    <div style="display: block !important; margin: 0 auto !important; padding: 0 !important; max-width: 768px !important; width:100%; background-color: #fff !important;">\n    <table width="100%" border="0" cellpadding="0" cellspacing="0">\n      <tr>\n        <td style="padding: 20px; border: 1px solid #e0e0e0;">\n          <table style="width: 100%;" width="100%" border="0" cellspacing="0" cellpadding="0">\n            <tr>\n              <td style="padding: 0 0 20px 0; border-bottom: 1px solid #e0e0e0;">\n                <table style="width: 100%;" width="100%" border="0" cellspacing="0" cellpadding="0">\n                  <tr>\n                    <td style="width: 300px; vertical-align: middle; text-align:left; font: 600 16px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px;">\n                      \ucde8\uc18c \uc601\uc218\uc99d\n                    </td>\n                    <td style="font-size: 0; text-align: right;">\n                      <a href="/"><img src="https://photos.ohmytrip.com/logo/ico-email-logo@2x.png" loading="lazy" alt="OHMYTRIP" style="height: 24px;"></a>\n                    </td>\n                  </tr>\n                </table>\n              </td>\n            </tr>\n            <tr>\n              <td style="padding: 20px 0; border-bottom: 1px solid #e0e0e0; text-align: left;">\n                <div style="display: inline-block; background-color: rgba(239, 127, 41, 0.08); padding: 20px 50px 20px 20px;">\n                  <p style="margin: 0; padding: 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#666; letter-spacing: -0.5px;">\n                    \uc608\uc57d\ubc88\ud638\n                  </p>\n                  <p style="margin: 0; padding: 0; font: 600 16px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px;">\n                    ${e.bookingItemCode} \x3c!-- PM_PAYMENT_INFO.BOOKING_ITEM_CODE. K22091510001A01 --\x3e\n                  </p>\n                </div>\n              </td>\n            </tr>\n            <tr>\n              <td style="padding: 20px 0; border-bottom: 1px dashed #e0e0e0; text-align: left;">\n                <p style="margin: 0 0 10px 0; padding: 0; font: 600 14px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px;">\n                  \uacb0\uc81c\uc77c\n                </p>\n                <p style="margin: 0; padding: 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px;">\n                  ${e.paidDatetime} \x3c!-- PM_PAYMENT_INFO.FIRST_INSERT_DATETIME\uc744 YYYY-MM-DD HH:MM:SS\ub85c \ubcc0\ud658. 2022-12-15 18:55:45 --\x3e\n                </p>\n              </td>\n            </tr>\n            <tr>\n              <td style="padding: 20px 0; border-bottom: 1px dashed #e0e0e0; text-align: left;">\n                <p style="margin: 0 0 10px 0; padding: 0; font: 600 14px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px;">\n                  \ucde8\uc18c\uc77c\n                </p>\n                <p style="margin: 0; padding: 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px;">\n                  ${e.cancelDatetime} \x3c!-- PM_PAYMENT_INFO.PAID_DATETIME\uc744 YYYY-MM-DD HH:MM:SS\ub85c \ubcc0\ud658. 2022-12-15 18:55:45 --\x3e\n                </p>\n              </td>\n            </tr>\n            <tr>\n              <td style="padding: 20px 0 15px 0; border-bottom: 1px dashed #e0e0e0; text-align: left;">\n                <p style="margin: 0 0 10px 0; padding: 0; font: 600 14px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px;">\n                  \uace0\uac1d\uc815\ubcf4\n                </p>\n                <table style="width: 100%" width="100%" border="0" cellspacing="0" cellpadding="0">\n                  <tr>\n                    <th style="width: 15%; padding: 5px 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      \uc774\ub984\n                    </th>\n                    <td style="padding: 5px 0 0 10px; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      ${n.booker.name} \x3c!-- BK_BOOKING_MASTER.BOOKER_NAME. \ud64d\uae38\ub3d9 --\x3e\n                    </td>\n                  </tr>\n                </table>\n              </td>\n            </tr>\n            <tr>\n              <td style="padding: 20px 0 15px 0; border-bottom: 1px dashed #e0e0e0; text-align: left;">\n                <p style="margin: 0 0 10px 0; padding: 0; font: 600 14px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px;">\n                  \uc0c1\ud488\uc815\ubcf4\n                </p>\n                <table style="width: 100%" width="100%" border="0" cellspacing="0" cellpadding="0">\n                  <tr>\n                    <th style="width: 15%; padding: 5px 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      \uc0c1\ud488\uba85\n                    </th>\n                    <td style="padding: 5px 0 0 10px; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      ${qV(t,i)} \x3c!-- IC01\uc778 \uacbd\uc6b0 "\ud56d\uacf5\uad8c \ubc1c\uad8c\uc218\uc218\ub8cc", IC02\uc778 \uacbd\uc6b0 BK_BOOKING_HOTEL_ITEM.HOTEL_NAME_LN(\uac12\uc774 \uc5c6\uc73c\uba74 EN), IC03\uc778 \uacbd\uc6b0 "\ub80c\ud130\uce74 \uc608\uc57d", IC04\uc778 \uacbd\uc6b0 BK_BOOKING_ACTIVITY_ITEM.ACTIVITY_NAME_LN(\uac12\uc774 \uc5c6\uc73c\uba74 EN). \ud790\ud2bc \uc624\uc0ac\uce74, \ud56d\uacf5 TASF, \ud64d\ucf69 \ub514\uc988\ub2c8 \uc785\uc7a5\uad8c, \uc81c\uc8fc\ub80c\ud130\uce74 --\x3e\n                    </td>\n                  </tr>\n                  <tr>\n                    <th style="width: 15%; padding: 5px 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      \uc11c\ube44\uc2a4\uc77c\uc790\n                    </th>\n                    <td style="padding: 5px 0 0 10px; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      ${Object(xV.a)(t.checkInDate,"YYYY-MM-DD (ddd)").toUpperCase()} ~ ${Object(xV.a)(t.checkOutDate,"YYYY-MM-DD (ddd)").toUpperCase()}\n                    </td>\n                  </tr>\n                </table>\n              </td>\n            </tr>\n            <tr>\n              <td style="padding: 20px 0 15px 0; border-bottom: 1px dashed #e0e0e0; text-align: left;">\n                <p style="margin: 0 0 10px 0; padding: 0; font: 600 14px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px;">\n                  \uacb0\uc81c\uc815\ubcf4\n                </p>\n                <table style="width: 100%" width="100%" border="0" cellspacing="0" cellpadding="0">\n                  <tr>\n                    <th style="width: 15%; padding: 5px 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      \uce74\ub4dc\uba85\n                    </th>\n                    <td style="padding: 5px 0 0 10px; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      ${e.cardMasterName} \x3c!-- BS_DETAIL_CODE.DETAIL_CODE_NAME_KO(MASTER_CODE = 'PM003' AND DETAIL_CODE = PM_PAYMENT_INFO.CARD_MASTER_CODE. \uc0bc\uc131 --\x3e\n                    </td>\n                  </tr>\n                  <tr>\n                    <th style="width: 15%; padding: 5px 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      \uce74\ub4dc\ubc88\ud638\n                    </th>\n                    <td style="padding: 5px 0 0 10px; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      ${e.cardNo} \x3c!-- PM_PAYMENT_INFO.CARD_NO\ub97c \ubcf5\ud638\ud654\ud574\uc11c, \ub4a4 4\uc790\ub9ac\ub9cc \ud45c\uc2dc\ud558\uace0 \ub098\uba38\uc9c0\ub294 *\ub85c \ubcc0\ud658. ************1234 --\x3e\n                    </td>\n                  </tr>\n                  <tr>\n                    <th style="width: 15%; padding: 5px 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      \ud560\ubd80\uac1c\uc6d4\n                    </th>\n                    <td style="padding: 5px 0 0 10px; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      ${e.cardQuotaMonth} \x3c!-- PM_PAYMENT_INFO.CARD_QUOTA_MONTH. \uac12\uc774 \uc5c6\uc73c\uba74 '00'. 00 --\x3e\n                    </td>\n                  </tr>\n                  <tr>\n                    <th style="width: 15%; padding: 5px 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      \uc2b9\uc778\ubc88\ud638\n                    </th>\n                    <td style="padding: 5px 0 0 10px; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      ${e.approvalNo} \x3c!-- PM_PAYMENT_INFO.CARD_APPROVAL_NO. 1848222222 --\x3e\n                    </td>\n                  </tr>\n                  <tr>\n                    <th style="width: 15%; padding: 5px 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      \uacb0\uc81c\uae08\uc561\n                    </th>\n                    <td style="padding: 5px 0 0 10px; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px; text-align: left; vertical-align: top;">\n                      ${Object(YV.a)(e.currencyCode)} ${Object(HV.a)(e.paidAmount)} \x3c!-- BS_CURRENCY_CODE.CURRENCY_SYMBOL(CURRENCY_CODE = PM_PAYMENT_INFO.CURRENCY_CODE. \uac12\uc774 \uc5c6\uc73c\uba74 CURRENCY_CODE, PM_PAYMENT_INFO.PAID_AMOUNT. KRW 32,000 --\x3e\n                    </td>\n                  </tr>\n                </table>\n              </td>\n            </tr>\n            <tr>\n              <td style="padding: 20px 0; border-bottom: 1px solid #e0e0e0; text-align: left;">\n                <p style="margin: 0 0 10px 0; padding: 0; font: 600 14px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#333; letter-spacing: -0.5px;">\n                  \uacf5\uae09\uc790\uc815\ubcf4\n                </p>\n                <p style="margin: 0; padding: 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px;">\n                  ${e.providerInfo.compNameOfficial}\n                </p>\n              </td>\n            </tr>\n            <tr>\n              <td style="padding: 20px 0 0 0;">\n                <p style="margin: 0; padding: 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px;"><strong style="font-weight: 600;">(\uc8fc)\uc624\ub9c8\uc774\ud638\ud154\uc564\ucf54</strong><strong style="margin-left: 20px;">\ub300\ud45c\uc790\uba85:</strong> ${e.providerInfo.representativeName}</p>\n                <p style="margin: 0; padding: 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px;"><strong style="font-weight: 600;">\uc0ac\uc5c5\uc790\ub4f1\ub85d\ubc88\ud638:</strong> ${e.providerInfo.taxPayerNo}<strong style="margin-left: 20px;">\ud1b5\uc2e0\ud310\ub9e4\uc5c5\ubc88\ud638:</strong> 2020-\uc11c\uc6b8\uc885\ub85c-0399</p>\n                <p style="margin: 0; padding: 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px;"><strong style="font-weight: 600;">\uac1c\uc778\uc815\ubcf4\uad00\ub9ac\ucc45\uc784\uc790:</strong> ${e.providerInfo.representativeName}</p>\n                <p style="margin: 0; padding: 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px;"><strong style="font-weight: 600;">\uc8fc\uc18c:</strong> ${e.providerInfo.compAddress1} ${e.providerInfo.compAddress2}</p>\n                <p style="margin: 0; padding: 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px;"><strong style="font-weight: 600;">\uc804\ud654:</strong> ${e.providerInfo.repPhoneNo} (\ud55c\uad6d \ud3c9\uc77c 09:00 ~ 18:00 \uc8fc\ub9d0,\uacf5\ud734\uc77c \uc81c\uc678)</p>\n                <p style="margin: 10px 0 0 0; padding: 0; font: 400 12px/150% Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; color:#888; letter-spacing: -0.5px;">Copyright &copy; Ohmyhotel&amp;Co. Ltd. All rights reserved</p>\n              </td>\n            </tr>\n          </table>\n        </td>\n      </tr>\n    </table>\n  </div>\n  `;let GV=(()=>{class e{constructor(e){this._store=e,this.bookerInfo$=this._store.select(gk),this.bookerInfo$.subscribe(e=>{this.bookerInfo=e})}getReceiptTemplate(e,t,n){return((e,t,n,i)=>{let o="";if(e&&e.length>0)for(const a of e)o+=a.paidAmount>0?UV(a,t,n,i):QV(a,t,n,i);return o})(e,t,this.bookerInfo,n)}}return e.\u0275fac=function(t){return new(t||e)(L.bc(P.h))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var KV=n("CNCE");let zV=(()=>{class e{constructor(e,t){this._authStore=e,this._invoiceReceiptVoucherTemplateService=t,this.closeEvent=new L.n}get cardReceiptList(){return this._cardReceiptList}set cardReceiptList(e){e&&(this._cardReceiptList=e,this._getTemplate())}ngOnInit(){this.userNo$=this._authStore.pipe(Object(P.u)(Xe.t))}ngOnDestroy(){}closeHandler(){this.closeEvent.emit()}_getTemplate(){var e;this.cardReceiptList?this.bookingInfo?this.emailData={emailTitle:"",emailTemplate:this._invoiceReceiptVoucherTemplateService.getReceiptTemplate(this.cardReceiptList,this.bookingInfo,this.itemCategoryCode),bookingItemCode:this.cardReceiptList[0].bookingItemCode,itemCategoryCode:null===(e=this.bookingInfo)||void 0===e?void 0:e.itemCategoryCode}:console.error("bookingInfo is not defined",this.bookingInfo):console.error("cardReceiptList is not defined",this.cardReceiptList)}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h),L.Qb(GV))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-card-receipt-view-template"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",cardReceiptList:"cardReceiptList",bookingInfo:"bookingInfo",itemCategoryCode:"itemCategoryCode"},outputs:{closeEvent:"closeEvent"},decls:2,vars:7,consts:[[3,"userNo","emailTitle","emailTemplate","itemCategoryCode","bookingItemCode","closeEvent"]],template:function(e,t){1&e&&(L.Wb(0,"app-send-email-template",0),L.fc("closeEvent",(function(){return t.closeHandler()})),L.ic(1,"async"),L.Vb()),2&e&&L.pc("userNo",L.jc(1,5,t.userNo$))("emailTitle",null==t.emailData?null:t.emailData.emailTitle)("emailTemplate",null==t.emailData?null:t.emailData.emailTemplate)("itemCategoryCode",null==t.emailData?null:t.emailData.itemCategoryCode)("bookingItemCode",null==t.emailData?null:t.emailData.bookingItemCode)},directives:[KV.a],pipes:[k.b],styles:[""]}),e})(),XV=(()=>{class e{constructor(e,t){this.store=e,this._authStore=t,this.closeEvent=new L.n,this.cardReceiptList$=e.pipe(Object(P.u)(ho))}ngOnInit(){console.log(this.receiptCondition,"this.receiptCondition"),this._initSubscribe(),this._loadCardReceiptInfo()}ngOnDestroy(){this.store.dispatch(b.removeCardReceipt())}closeHandler(){this.closeEvent.emit()}_loadCardReceiptInfo(){const e=Q.cloneDeep(this.receiptCondition);delete e.bookingInfo,this.store.dispatch(b.loadCardReceipt({condition:e}))}_initSubscribe(){}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h),L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-card-receipt-view"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",receiptCondition:"receiptCondition"},outputs:{closeEvent:"closeEvent"},decls:2,vars:5,consts:[[3,"cardReceiptList","bookingInfo","itemCategoryCode","closeEvent"]],template:function(e,t){1&e&&(L.Wb(0,"app-card-receipt-view-template",0),L.fc("closeEvent",(function(){return t.closeHandler()})),L.ic(1,"async"),L.Vb()),2&e&&L.pc("cardReceiptList",L.jc(1,3,t.cardReceiptList$))("bookingInfo",t.receiptCondition.bookingInfo)("itemCategoryCode",t.receiptCondition.itemCategoryCode)},directives:[zV],pipes:[k.b],encapsulation:2}),e})();const{API_URL:ZV}=Ie.a,JV={postCardReceipt:`${ZV}/payment/card/receipt`};let eA=(()=>{class e{constructor(e){this.api=e}getCardReceipt(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(JV.postCardReceipt,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(z.a))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),tA=(()=>{class e{constructor(e,t,n,i,o){this._actions$=e,this._apiService=t,this.store=n,this._errorService=i,this.alertService=o,this.loadCardReceipt$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(b.loadCardReceipt),Object(ye.a)(({condition:e})=>this._apiService.getCardReceipt(e).pipe(Object(it.a)(e=>b.getCardReceiptSuccess({cardReceiptList:e})),Object(ke.a)(e=>{const t="\uc2e0\uc6a9\uce74\ub4dc \uc601\uc218\uc99d \uc870\ud68c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.",n=[b.getCardReceiptFailure({error:t})];return this._catchErr(e,t,n),[]})))))}_runPage(e,t){this.alertService.alert({message:e,accept:(null==t?void 0:t.length)>0?()=>{t.forEach(e=>{this.store.dispatch(e)})}:()=>{}})}_catchErr(e,t,n){const i=this._errorService.errorHandler(e,t);Q.isNil(i)||(Q.isNil(i.accept)&&(i.accept=(null==n?void 0:n.length)>0?()=>{n.forEach(e=>{this.store.dispatch(e)})}:()=>{}),this.alertService.alert(i))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(O.a),L.bc(eA),L.bc(P.h),L.bc(On.a),L.bc(Ae.a))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac}),e})();var nA=n("kZba");let iA=(()=>{class e{}return e.\u0275mod=L.Ob({type:e}),e.\u0275inj=L.Nb({factory:function(t){return new(t||e)},imports:[[k.c,I.m,I.w,j.m,ct.a,st.a,V.a,q.a,nA.a,P.j.forFeature("cardReceiptView",uo),O.b.forFeature([tA])]]}),e})();const oA=Object(P.o)("[FlCardReceiptView] load card receipt",Object(P.t)()),aA=Object(P.o)("[FlCardReceiptView] get card receipt success",Object(P.t)()),cA=Object(P.o)("[FlCardReceiptView] get card receipt failure",Object(P.t)()),sA=Object(P.o)("[FlCardReceiptView] remove card receipt"),rA=Object(P.q)({cardReceiptList:null},Object(P.s)(f.getCardReceiptSuccess,(e,{cardReceiptList:t})=>Object.assign(Object.assign({},e),{cardReceiptList:t})),Object(P.s)(f.getCardReceiptFailure,e=>Object.assign(Object.assign({},e),{cardReceiptList:null})),Object(P.s)(f.removeCardReceipt,e=>Object.assign(Object.assign({},e),{cardReceiptList:null})));function lA(e,t){return Object(P.m)({main:rA})(e,t)}const dA=Object(P.p)("flCardReceiptView"),bA=Object(P.r)(dA,e=>e.main);Object(P.r)(bA,e=>e.cardReceiptList);const{API_URL:uA}=Ie.a,pA={postCardReceipt:`${uA}/payment/card/receipt`};let mA=(()=>{class e{constructor(e){this.api=e}getCardReceipt(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(pA.postCardReceipt,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(z.a))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),hA=(()=>{class e{constructor(e,t,n,i,o){this._actions$=e,this._apiService=t,this.store=n,this._errorService=i,this.alertService=o,this.loadCardReceipt$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(f.loadCardReceipt),Object(ye.a)(({condition:e})=>this._apiService.getCardReceipt(e).pipe(Object(it.a)(e=>f.getCardReceiptSuccess({cardReceiptList:e})),Object(ke.a)(e=>{const t="\uc2e0\uc6a9\uce74\ub4dc \uc601\uc218\uc99d \uc870\ud68c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.",n=[f.getCardReceiptFailure({error:t})];return this._catchErr(e,t,n),[]})))))}_runPage(e,t){this.alertService.alert({message:e,accept:(null==t?void 0:t.length)>0?()=>{t.forEach(e=>{this.store.dispatch(e)})}:()=>{}})}_catchErr(e,t,n){const i=this._errorService.errorHandler(e,t);Q.isNil(i)||(Q.isNil(i.accept)&&(i.accept=(null==n?void 0:n.length)>0?()=>{n.forEach(e=>{this.store.dispatch(e)})}:()=>{}),this.alertService.alert(i))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(O.a),L.bc(mA),L.bc(P.h),L.bc(On.a),L.bc(Ae.a))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac}),e})(),gA=(()=>{class e{}return e.\u0275mod=L.Ob({type:e}),e.\u0275inj=L.Nb({factory:function(t){return new(t||e)},imports:[[k.c,I.m,I.w,j.m,ct.a,st.a,V.a,q.a,P.j.forFeature("flCardReceiptView",lA),O.b.forFeature([hA])]]}),e})();const fA=Object(P.o)("[CashReceiptView] load cash receipt",Object(P.t)()),vA=Object(P.o)("[CashReceiptView] get cash receipt success",Object(P.t)()),CA=Object(P.o)("[CashReceiptView] get cash receipt failure",Object(P.t)()),yA=Object(P.o)("[CashReceiptView] remove cash receipt"),kA=Object(P.q)({cashReceiptList:null},Object(P.s)(v.getCashReceiptSuccess,(e,{cashReceiptList:t})=>Object.assign(Object.assign({},e),{cashReceiptList:t})),Object(P.s)(v.getCashReceiptFailure,e=>Object.assign(Object.assign({},e),{cashReceiptList:null})),Object(P.s)(v.removeCashReceipt,e=>Object.assign(Object.assign({},e),{cashReceiptList:null})));function IA(e,t){return Object(P.m)({main:kA})(e,t)}const OA=Object(P.p)("cashReceiptView"),PA=Object(P.r)(OA,e=>e.main);Object(P.r)(PA,e=>e.cashReceiptList);const{API_URL:jA}=Ie.a,VA={postCashReceipt:`${jA}/payment/bank/receipt`};let AA=(()=>{class e{constructor(e){this.api=e}getCashReceipt(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(VA.postCashReceipt,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(z.a))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),WA=(()=>{class e{constructor(e,t,n,i,o){this._actions$=e,this._apiService=t,this.store=n,this._errorService=i,this.alertService=o,this.loadCashReceipt$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(v.loadCashReceipt),Object(ye.a)(({condition:e})=>this._apiService.getCashReceipt(e).pipe(Object(it.a)(e=>v.getCashReceiptSuccess({cashReceiptList:e})),Object(ke.a)(e=>{const t="\uc2e0\uc6a9\uce74\ub4dc \uc601\uc218\uc99d \uc870\ud68c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.",n=[v.getCashReceiptFailure({error:t})];return this._catchErr(e,t,n),[]})))))}_runPage(e,t){this.alertService.alert({message:e,accept:(null==t?void 0:t.length)>0?()=>{t.forEach(e=>{this.store.dispatch(e)})}:()=>{}})}_catchErr(e,t,n){const i=this._errorService.errorHandler(e,t);Q.isNil(i)||(Q.isNil(i.accept)&&(i.accept=(null==n?void 0:n.length)>0?()=>{n.forEach(e=>{this.store.dispatch(e)})}:()=>{}),this.alertService.alert(i))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(O.a),L.bc(AA),L.bc(P.h),L.bc(On.a),L.bc(Ae.a))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac}),e})(),RA=(()=>{class e{}return e.\u0275mod=L.Ob({type:e}),e.\u0275inj=L.Nb({factory:function(t){return new(t||e)},imports:[[k.c,I.m,I.w,j.m,ct.a,st.a,V.a,q.a,P.j.forFeature("cashReceiptView",IA),O.b.forFeature([WA])]]}),e})();var FA=n("w8np"),SA=n("0v2h"),TA=n("PLH1"),NA=n("itXk"),EA=n("zP0r"),MA=n("pLZG");const DA=Object(P.o)("[PaymentUnpaidMapping] init account payments"),LA=Object(P.o)("[PaymentUnpaidMapping] load date range type"),_A=Object(P.o)("[PaymentUnpaidMapping] load date range type success",Object(P.t)()),$A=Object(P.o)("[PaymentUnpaidMapping] load deposit withdraw type"),BA=Object(P.o)("[PaymentUnpaidMapping] load deposit withdraw type success",Object(P.t)()),wA=Object(P.o)("[PaymentUnpaidMapping] load deposit type"),xA=Object(P.o)("[PaymentUnpaidMapping] load deposit type success",Object(P.t)()),YA=Object(P.o)("[PaymentUnpaidMapping] load card master"),HA=Object(P.o)("[PaymentUnpaidMapping] load card master success",Object(P.t)()),qA=Object(P.o)("[PaymentUnpaidMapping] load bank master list"),UA=Object(P.o)("[PaymentUnpaidMapping] load bank master list success",Object(P.t)()),QA=Object(P.o)("[PaymentUnpaidMapping] load bank account no"),GA=Object(P.o)("[PaymentUnpaidMapping] load bank account no success",Object(P.t)()),KA=Object(P.o)("[PaymentUnpaidMapping] load item category"),zA=Object(P.o)("[PaymentUnpaidMapping] load item category success",Object(P.t)()),XA=Object(P.o)("[PaymentUnpaidMapping] load payment detail type"),ZA=Object(P.o)("[PaymentUnpaidMapping] load payment detail type success",Object(P.t)()),JA=Object(P.o)("[PaymentUnpaidMapping] load station type"),eW=Object(P.o)("[PaymentUnpaidMapping] load station type success",Object(P.t)()),tW=Object(P.o)("[PaymentUnpaidMapping] load account payments",Object(P.t)()),nW=Object(P.o)("[PaymentUnpaidMapping] load account payments success",Object(P.t)()),iW=Object(P.o)("[PaymentUnpaidMapping] load account payments failure",Object(P.t)()),oW=Object(P.o)("[PaymentUnpaidMapping] change search condition",Object(P.t)()),aW=Object(P.o)("[PaymentUnpaidMapping] set grid checked rowids",Object(P.t)()),cW=Object(P.o)("[PaymentUnpaidMapping] set grid state",Object(P.t)()),sW=Object(P.o)("[PaymentUnpaidMapping] change page index",Object(P.t)()),rW=Object(P.o)("[PaymentUnpaidMapping] change page size",Object(P.t)()),lW=Object(P.o)("[PaymentUnpaidMapping] save mapping",Object(P.t)()),dW=Object(P.o)("[PaymentUnpaidMapping] save mapping success"),bW=Object(P.o)("[PaymentUnpaidMapping] load unpaid data list",Object(P.t)()),uW=Object(P.o)("[PaymentUnpaidMapping] load unpaid data list success",Object(P.t)()),pW=Object(P.o)("[PaymentUnpaidMapping] load unpaid data list failure",Object(P.t)());var mW=n("EVqC");const hW=Object(mW.a)({selectId:e=>e.id,sortComparer:!1}),gW=hW.getInitialState({dateRangeTypeList:null,depositWithdrawTypeList:null,depositTypeList:null,cardMasterList:null,allBankMasterList:null,bankMasterList:null,bankAccountNoList:null,itemCategoryList:null,paymentDetailTypeList:null,stationTypeList:null,loading:!1,reloadYn:!1,searchCondition:null,otherSearchInfo:null,gridState:{pageInfo:{skip:0,take:10},sortInfo:[]},gridDataTotal:0,gridCheckedState:null,selectedDetailRowItem:null,isMappingComplete:null,unpaidLoading:!1,unpaidDataList:[]}),fW=Object(P.q)(gW,Object(P.s)(C.initStateAction,e=>hW.removeAll(Object.assign(Object.assign({},e),{loading:!1,searchCondition:null,otherSearchInfo:null,gridState:{pageInfo:{skip:0,take:10},sortInfo:[]},gridDataTotal:0,gridCheckedState:null,selectedDetailRowItem:null,isMappingComplete:null,unpaidLoading:!1,unpaidDataList:[]}))),Object(P.s)(C.loadDateRangeTypeSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{dateRangeTypeList:t})),Object(P.s)(C.loadDepositWithdrawTypeSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{depositWithdrawTypeList:t})),Object(P.s)(C.loadDepositTypeSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{depositTypeList:t})),Object(P.s)(C.loadCardMasterSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{cardMasterList:t})),Object(P.s)(C.loadAllBankMasterListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{allBankMasterList:t})),Object(P.s)(C.loadBankAccountNoSuccessAction,(e,{bankList:t,accountList:n})=>Object.assign(Object.assign({},e),{bankAccountNoList:n,bankMasterList:t})),Object(P.s)(C.loadItemCategorySuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{itemCategoryList:t})),Object(P.s)(C.loadPaymentDetailTypeSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{paymentDetailTypeList:t})),Object(P.s)(C.loadStationTypeSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{stationTypeList:t})),Object(P.s)(C.changeSearchCondition,(e,{searchCondition:t,otherSearchInfo:n})=>Object.assign(Object.assign({},e),{searchCondition:t,otherSearchInfo:n})),Object(P.s)(C.loadListAction,e=>Object.assign(Object.assign({},e),{loading:!0})),Object(P.s)(C.loadListSuccessAction,(e,{dataList:t,totalCount:n})=>hW.setAll(t,Object.assign(Object.assign({},e),{loading:!1,gridDataTotal:n}))),Object(P.s)(C.loadListFailureAction,e=>Object.assign(Object.assign({},e),{loading:!1})),Object(P.s)(C.changePageSize,(e,{pageSize:t})=>Object.assign(Object.assign({},e),{gridState:Q.set(Q.cloneDeep(e.gridState),["pageInfo","take"],t)})),Object(P.s)(C.changePageIndex,(e,{pageIndex:t})=>Object.assign(Object.assign({},e),{gridState:Q.set(Q.cloneDeep(e.gridState),["pageInfo","skip"],t)})),Object(P.s)(C.setGridStateAction,(e,{gridState:t})=>Object.assign(Object.assign({},e),{gridState:t})),Object(P.s)(C.setGridCheckStateAction,(e,{gridCheckedState:t})=>Object.assign(Object.assign({},e),{gridCheckedState:t})),Object(P.s)(C.saveMappingSuccessAction,e=>Object.assign(Object.assign({},e),{isMappingComplete:!0})),Object(P.s)(C.loadUnpaidDataList,e=>Object.assign(Object.assign({},e),{unpaidLoading:!0})),Object(P.s)(C.loadUnpaidDataListSucess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{unpaidLoading:!1,unpaidDataList:t})),Object(P.s)(C.loadUnpaidDataListFailure,e=>Object.assign(Object.assign({},e),{unpaidLoading:!1})));function vW(e,t){return Object(P.m)({paymentUnpaidMappingList:fW})(e,t)}const CW=Object(P.p)("paymentUnpaidMapping"),yW=Object(P.r)(CW,e=>e.paymentUnpaidMappingList),kW=Object(P.r)(yW,e=>e.dateRangeTypeList),IW=Object(P.r)(yW,e=>e.depositWithdrawTypeList),OW=Object(P.r)(yW,e=>e.depositTypeList),PW=Object(P.r)(yW,e=>e.cardMasterList),jW=Object(P.r)(yW,e=>e.bankMasterList),VW=Object(P.r)(yW,e=>e.allBankMasterList),AW=Object(P.r)(yW,e=>e.bankAccountNoList),WW=Object(P.r)(yW,e=>e.itemCategoryList),RW=Object(P.r)(yW,e=>e.paymentDetailTypeList),FW=Object(P.r)(yW,e=>e.stationTypeList),SW=Object(P.r)(yW,e=>e.loading),TW=Object(P.r)(yW,e=>e.searchCondition),NW=Object(P.r)(yW,e=>e.otherSearchInfo),EW=Object(P.r)(yW,e=>e.gridDataTotal),MW=hW.getSelectors(yW).selectAll,DW=Object(P.r)(yW,e=>e.gridState),LW=Object(P.r)(yW,e=>e.gridCheckedState),_W=Object(P.r)(DW,e=>Q.get(e,["pageInfo","take"],20)),$W=(Object(P.r)(yW,e=>e.selectedDetailRowItem),Object(P.r)(yW,e=>e.isMappingComplete)),BW=Object(P.r)(yW,e=>e.unpaidLoading),wW=Object(P.r)(yW,e=>e.unpaidDataList),{API_URL:xW}=Ie.a,YW={postCommonDetailCode:`${xW}/common/detail-code`,postCommonComp:`${xW}/common/comp`,postBasicContinent:`${xW}/admin/basis/continent`,postAccountsPayments:`${xW}/admin/account/payments`,postPaymentUnpaid:`${xW}/admin/payment/unpaid`,putPaymentMapping:`${xW}/admin/payment/mapping`,deletePaymentMapping:`${xW}/admin/payment/mapping`,putPaymentDivide:`${xW}/admin/payment/divide`,putPaymentOthers:`${xW}/admin/payment/others`,putAccountPaymentRefundAccount:`${xW}/admin/account/payments/refund-account`,postUserCompBank:`${xW}/admin/user/comp/bank`,putPaymentInfo:`${xW}/control/pm/payment-info`,deletePaymentResolutionDetail:`${xW}/admin/payment/resolution/detail`,excelDownload:`${xW}/admin/account/payments/excel`,postCompBank:`${xW}/admin/user/comp/bank`,postUnpaid:`${xW}/admin/booking/unpaid`};let HW=(()=>{class e{constructor(e){this.api=e}getCommonDetailCodeList(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(YW.postCommonDetailCode,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}getUserCompBankList(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(YW.postUserCompBank,t).pipe(Object(ye.a)(e=>{if(e.succeedYn&&e.result){const{bankList:t,accountList:n}=this._convertBangSearchResult(e.result.list);return Object(ve.a)({bankList:t,accountList:n})}return Object(Ce.a)(e||"api response error")}))}getBookerCompList(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(YW.postCommonComp,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}getContinentList(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(YW.postBasicContinent,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}getAccountsPayments(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(YW.postAccountsPayments,t).pipe(Object(ye.a)(e=>{var t,n,i;if(e.succeedYn){const o=(null===(n=null===(t=e.result)||void 0===t?void 0:t.list)||void 0===n?void 0:n.length)>0?e.result.list.map(e=>Object.assign({},e,{id:e.rowid})):[],a=(null===(i=e.result)||void 0===i?void 0:i.totalCount)||0;return Object(ve.a)({list:o,totalCount:a})}return Object(Ce.a)(e||"api response error")}))}getUnpaidList(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(YW.postUnpaid,t).pipe(Object(ye.a)(e=>{var t,n;if(e.succeedYn&&e.result){const i=(null===(n=null===(t=e.result)||void 0===t?void 0:t.list)||void 0===n?void 0:n.length)>0?e.result.list:[];return Object(ve.a)({list:i})}return Object(Ce.a)(e||"api response error")}))}saveMapping(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(YW.putPaymentMapping,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(!0):Object(Ce.a)(e||"api response error")))}_convertBangSearchResult(e){let t=[];const n=[];if(Q.isEmpty(e))return{bankList:t,accountList:n};const i=new Object({});return e.filter(e=>"Z"===(null==e?void 0:e.accountTypeCode)).forEach(e=>{i.hasOwnProperty(e.bankMasterCode)||(i[e.bankMasterCode]={detailCode:e.bankMasterCode,detailCodeNameEn:e.bankMasterName},n.push({value:e.bankAccountNo,label:e.bankAccountNo,refCode:e.bankMasterCode}))}),t=Q.values(i),{bankList:t,accountList:n}}}return e.\u0275fac=function(t){return new(t||e)(L.bc(z.a))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),qW=(()=>{class e{constructor(e){this.fb=e,this.generateGridColumns=()=>[{field:"paidDate",title:"\uc785\uae08\uc77c\uc790",width:"100"},{field:"depositWithdrawTypeName",title:"\uad6c\ubd84",width:"150"},{field:"depositTypeName",title:"\uc785\uae08\uad6c\ubd84",width:"100"},{field:"depositDetailTypeName",title:"\uc138\ubd80\uad6c\ubd84",width:"120"},{field:"bankAccountNo",title:"\uacc4\uc88c\ubc88\ud638",width:"120"},{field:"bankRemitName",title:"\uc785\uae08\uc790\uba85",width:"120"},{field:"paymentSeq",title:"\uc785\uae08\ubc88\ud638",width:"120"},{field:"firstDepositAmount",title:"\ucd5c\ucd08\uc785\uae08\uc561",width:"120",format:"currency"},{field:"dividedYn",title:"\ub098\ub204\uae30",width:"120",format:"yn"},{field:"depositAmount",title:"\uc785\uae08\uc561",width:"120",format:"currency"},{field:"mappedYn",title:"\uc804\uc1a1\uc5ec\ubd80",width:"120",format:"yn"},{field:"paymentDetailTypeName",title:"\uc804\uc1a1\uad6c\ubd84",width:"120"},{field:"bookingItemCode",title:"\uc608\uc57d\ucf54\ub4dc",width:"120"},{field:"vendorBookingCode",title:"PNR",width:"120"},{field:"firstInsertDatetime",title:"\ub4f1\ub85d\uc77c",width:"120"},{field:"paymentRemark",title:"\uacb0\uc81c\ube44\uace0",width:"120"}],this.generateSearchForm=()=>this.fb.group({dateRange:this.fb.group({rangeType:[null],dates:this.fb.array([new I.g(null,[I.z.required]),new I.g(null,[I.z.required])])},{validators:[rn.a.compareDatesValidators("rangeCompare",[["dates",0],["dates",1]])]}),depositWithdrawTypeCode:[null],depositTypeCode:[null],bankMasterCode:[null],cardMasterCode:[null],bankAccountNo:[null],multiSelector:[null],bankRemitName:[null],paymentRemark:[null],paidAmount:[null],cardApprovalNo:[null],bookingItemCode:[null],couponSeq:[null],bookerCompCode:[null],itemCategoryCode:[null],mappedYn:[null],paymentDetailTypeCode:[null],resolutionYn:[null],withdrawYn:[null],stationTypeCode:[null]}),this.initSearchFormData=()=>({dateRange:{rangeType:"PDS04",dates:[G().format("YYYY-MM-DD"),G().format("YYYY-MM-DD")]},depositWithdrawTypeCode:"D",depositTypeCode:"CCDP",bankMasterCode:null,bankAccountNo:null,multiSelector:"bankRemitName",cardMasterCode:null,bankRemitName:null,paymentRemark:null,paidAmount:null,cardApprovalNo:null,bookingItemCode:null,couponSeq:null,bookerCompCode:null,itemCategoryCode:null,mappedYn:!1,paymentDetailTypeCode:null,resolutionYn:null,withdrawYn:null,stationTypeCode:null}),this.initSearchCondition=()=>({dateRange:null,depositWithdrawTypeCode:null,depositTypeCode:null,bankMasterCode:null,bankAccountNo:null,cardMasterCode:null,bankRemitName:null,paymentRemark:null,paidAmount:null,cardApprovalNo:null,bookingItemCode:null,couponSeq:null,bookerCompCode:null,itemCategoryCode:null,mappedYn:null,paymentDetailTypeCode:null,resolutionYn:null,withdrawYn:null,stationTypeCode:null}),this.generateMappingForm=()=>this.fb.group({bookingItemCodes:this.fb.array([])}),this.generateMappingBookingItem=()=>this.fb.group({checkedYn:[null],bookingItemCode:[null],bookingTravelerCode:[null],paxFareSeq:[null],chargeSeq:[null],paymentDetailTypeCode:[null],depositTypeCode:[null],paidAmount:[{value:null,disabled:!0},[I.z.required]]}),this.initMappingBookingItem=()=>({checkedYn:!1,bookingItemCode:null,bookingTravelerCode:null,paxFareSeq:null,chargeSeq:null,paymentDetailTypeCode:null,depositTypeCode:null,paidAmount:null})}}return e.\u0275fac=function(t){return new(t||e)(L.bc(I.f))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var UW=n("rbKv"),QW=n("kd+X"),GW=n("LVFn");function KW(e,t){1&e&&L.Rb(0,"app-input-text",34)}function zW(e,t){1&e&&L.Rb(0,"app-input-text",35)}function XW(e,t){1&e&&L.Rb(0,"app-input-text",36)}function ZW(e,t){1&e&&L.Rb(0,"app-input-text",37)}function JW(e,t){1&e&&L.Rb(0,"app-input-text",38)}function eR(e,t){1&e&&L.Rb(0,"app-input-text",39)}function tR(e,t){1&e&&(L.Ub(0),L.Rb(1,"app-input-text",40),L.Tb())}function nR(e,t){if(1&e&&L.Rb(0,"app-selectbox",41),2&e){const e=L.hc();L.pc("options",e.bankMasterOptions)}}const iR=function(){return["dateRange","dates",0]},oR=function(){return["dateRange","dates",1]},aR=function(){return["CMP02","CMP03","CMP08"]},cR=function(e){return{compTypeCodes:e}},sR=function(){return["compName","compCode"]};let rR=(()=>{class e{constructor(e){this._dataService=e,this.clickSearchEvent=new L.n,this.clickResetEvent=new L.n,this.useYnOptions=[{value:!0,label:"Y"},{value:!1,label:"N"}],this.multiSelectorOptions=[{value:"bankRemitName",label:"\uc785\uae08\uc790\uba85"},{value:"paidAmount",label:"\uc785\uae08\uc561"}],this._$unsubscribe=new Fe.a,this.searchForm=e.generateSearchForm(),this._initSubscription()}get searchCondition(){return this._searchCondition}set searchCondition(e){this._searchCondition=e,this.searchFormData=this._setSearchFormData(e)}get otherSearchInfo(){return this._otherSearchInfo}set otherSearchInfo(e){this._otherSearchInfo=e,this._setOtherSearchInfo(e)}get dateRangeDates(){return this.searchForm.get("dateRange").get("dates").value}get formValue(){return this.searchForm&&this.searchForm.value}get multiSelectorValue(){return this.searchForm.get("multiSelector").value}ngOnInit(){}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete()}onSubmit(){if(this.searchForm.invalid)return void(this._checkValid=!0);const e=this.setSearchCondition(),t=this._setOtherSearchCondition();this.clickSearchEvent.emit({searchCondition:e,otherSearchInfo:t}),this._checkValid=!1}onReset(){this.clickResetEvent.emit()}checkIsInvalidDateRange(){var e;return this._checkValid&&(!0===(null===(e=this.searchForm.get("dateRange").errors)||void 0===e?void 0:e.rangeCompare)||this.searchForm.get("dateRange").invalid)}checkIsInvalid(e){return this._checkValid&&this.searchForm.get(e)&&this.searchForm.get(e).invalid}setSearchCondition(){return Q.omitBy(this.searchForm.value,Q.isNil)}_setSearchFormData(e){const t=this._dataService.initSearchFormData();return Q.isEmpty(e)?t:Q.pick(e,Object.keys(t))}_setOtherSearchInfo(e){this.bookerCompInput=(null==e?void 0:e.bookerCompInput)||null}_setOtherSearchCondition(){const e={};return this.autoCopmpletes.forEach(t=>{Object.assign(e,t.getInputValue())}),e}_initSubscription(){this.searchForm.get("depositTypeCode").valueChanges.pipe(Object(Ci.a)(this._$unsubscribe)).subscribe(e=>{switch(this.isTxtBankMasterCode=!1,this.bankMasterOptions=null,e){case"CCCP":case"AFCP":this.isTxtBankMasterCode=!0,this.searchForm.get("bankMasterCode").enable();break;case"CCDP":this.bankMasterOptions=Q.cloneDeep(this.bankMasterList),this.searchForm.get("bankMasterCode").enable();break;case"CCCC":case"CCBP":case"CCGD":case"PGIN":this.bankMasterOptions=Q.cloneDeep(this.cardMasterList),this.searchForm.get("bankMasterCode").enable();break;default:this.searchForm.get("bankMasterCode").disable(),this.searchForm.get("bankMasterCode").setValue(null)}}),this.searchForm.get("bankMasterCode").valueChanges.pipe(Object(Ci.a)(this._$unsubscribe)).subscribe(e=>{const t=this.searchForm.get("bankAccountNo");t.setValue(null),"004"===e?t.enable():t.disable()}),this.searchForm.get("multiSelector").valueChanges.pipe(Object(Ci.a)(this._$unsubscribe)).subscribe(e=>{this.multiSelectorOptions.map(e=>e.value).forEach(t=>{e===t?this.searchForm.get(t).enable():this.searchForm.get(t).disable()})})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(qW))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-payment-unpaid-mapping-search"]],viewQuery:function(e,t){var n;1&e&&L.Xc(ne.a,!0),2&e&&L.Dc(n=L.gc())&&(t.autoCopmpletes=n)},inputs:{dateRangeTypeList:"dateRangeTypeList",depositWithdrawTypeList:"depositWithdrawTypeList",depositTypeList:"depositTypeList",cardMasterList:"cardMasterList",bankMasterList:"bankMasterList",bankAccountNoList:"bankAccountNoList",itemCategoryList:"itemCategoryList",paymentDetailTypeList:"paymentDetailTypeList",stationTypeList:"stationTypeList",searchCondition:"searchCondition",otherSearchInfo:"otherSearchInfo"},outputs:{clickSearchEvent:"clickSearchEvent",clickResetEvent:"clickResetEvent"},decls:64,vars:44,consts:[[1,"grid-search-box","multi",3,"formGroup","connectForm","ngSubmit"],[1,"form-option-area"],[1,"row"],["formGroupName","dateRange",1,"col-2","flex-shrink1"],["formControlName","rangeType","dataKey","detailCode","displayKey","detailCodeNameEn",1,"d-inline-flex","flex-shrink-0",3,"options","useAllOptionYn"],["formArrayName","dates",1,"calendar-set","flex-fill"],[1,"input","calendar","d-inline-flex","flex-fill"],[3,"for"],["type","text","placeholder","\ub0a0\uc9dc \uc120\ud0dd",3,"matDatepicker","formControlName"],["fromDate",""],[1,"dash"],["type","text","placeholder","\ub0a0\uc9dc \uc120\ud0dd",3,"matDatepicker","min","formControlName"],["toDate",""],[1,"col-1"],[1,"form-label"],["apiUrl","common/comp","formControlName","bookerCompCode","dataKey","compCode","inputFieldFormat","{0} - {1}",1,"flex-fill",3,"inputFieldValue","inputId","apiCondition","apiSearchTerm","inputFieldFormatKeyList"],["formControlName","multiSelector",1,"d-inline-flex","flex-shrink-0","mr5",3,"options","useAllOptionYn"],[3,"ngSwitch"],["formControlName","bankRemitName","class","d-inline flex-fill",4,"ngSwitchCase"],["formControlName","paymentRemark","class","d-inline flex-fill",4,"ngSwitchCase"],["formControlName","paidAmount","class","d-inline flex-fill","valueType","number","inputFormat","currency",4,"ngSwitchCase"],["formControlName","cardApprovalNo","class","d-inline flex-fill",4,"ngSwitchCase"],["formControlName","bookingItemCode","class","d-inline flex-fill",4,"ngSwitchCase"],["formControlName","couponSeq","class","d-inline flex-fill","valueType","number","inputFormat","numberOnly",4,"ngSwitchCase"],["formControlName","depositWithdrawTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","depositTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn",1,"d-inline-flex","flex-fill",3,"options"],[4,"ngIf","ngIfElse"],["selBankMasterCodeTpl",""],["formControlName","bankAccountNo",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","mappedYn",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","paymentDetailTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn",1,"d-inline-flex","flex-fill",3,"options"],[1,"form-button-area"],["type","submit","data-function","2000126","role","button",1,"btn","btn-primary","sm"],["type","button","role","button",1,"btn","btn-reset","sm",3,"click"],["formControlName","bankRemitName",1,"d-inline","flex-fill"],["formControlName","paymentRemark",1,"d-inline","flex-fill"],["formControlName","paidAmount","valueType","number","inputFormat","currency",1,"d-inline","flex-fill"],["formControlName","cardApprovalNo",1,"d-inline","flex-fill"],["formControlName","bookingItemCode",1,"d-inline","flex-fill"],["formControlName","couponSeq","valueType","number","inputFormat","numberOnly",1,"d-inline","flex-fill"],["formControlName","bankMasterCode",1,"d-inline","flex-fill"],["formControlName","bankMasterCode","dataKey","detailCode","displayKey","detailCodeNameEn",1,"d-inline","flex-fill",3,"options"]],template:function(e,t){if(1&e&&(L.Wb(0,"form",0),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(1,"div",1),L.Wb(2,"div",2),L.Wb(3,"div",3),L.Rb(4,"app-selectbox",4),L.Wb(5,"div",5),L.Wb(6,"div",6),L.Rb(7,"mat-datepicker-toggle",7),L.Rb(8,"input",8),L.Rb(9,"mat-datepicker",null,9),L.Vb(),L.Wb(11,"span",10),L.Pc(12,"~"),L.Vb(),L.Wb(13,"div",6),L.Rb(14,"mat-datepicker-toggle",7),L.Rb(15,"input",11),L.Rb(16,"mat-datepicker",null,12),L.Vb(),L.Vb(),L.Vb(),L.Wb(18,"div",13),L.Wb(19,"span",14),L.Pc(20,"\uac70\ub798\ucc98"),L.Vb(),L.Rb(21,"app-auto-complete",15),L.Vb(),L.Wb(22,"div",13),L.Rb(23,"app-selectbox",16),L.Ub(24,17),L.Nc(25,KW,1,0,"app-input-text",18),L.Nc(26,zW,1,0,"app-input-text",19),L.Nc(27,XW,1,0,"app-input-text",20),L.Nc(28,ZW,1,0,"app-input-text",21),L.Nc(29,JW,1,0,"app-input-text",22),L.Nc(30,eR,1,0,"app-input-text",23),L.Tb(),L.Vb(),L.Vb(),L.Wb(31,"div",2),L.Wb(32,"div",13),L.Wb(33,"span",14),L.Pc(34,"\uc785\uae08/\ud658\ubd88"),L.Vb(),L.Rb(35,"app-selectbox",24),L.Vb(),L.Wb(36,"div",13),L.Wb(37,"span",14),L.Pc(38,"\uc785\uae08\uad6c\ubd84"),L.Vb(),L.Rb(39,"app-selectbox",25),L.Vb(),L.Wb(40,"div",13),L.Wb(41,"span",14),L.Pc(42,"\uc138\ubd80\uad6c\ubd84"),L.Vb(),L.Nc(43,tR,2,0,"ng-container",26),L.Nc(44,nR,1,1,"ng-template",null,27,L.Oc),L.Vb(),L.Wb(46,"div",13),L.Wb(47,"span",14),L.Pc(48,"\uacc4\uc88c\ubc88\ud638"),L.Vb(),L.Rb(49,"app-selectbox",28),L.Vb(),L.Vb(),L.Wb(50,"div",2),L.Wb(51,"div",13),L.Wb(52,"span",14),L.Pc(53,"\uc804\uc1a1\uc5ec\ubd80"),L.Vb(),L.Rb(54,"app-selectbox",29),L.Vb(),L.Wb(55,"div",13),L.Wb(56,"span",14),L.Pc(57,"\uc804\uc1a1\uad6c\ubd84"),L.Vb(),L.Rb(58,"app-selectbox",30),L.Vb(),L.Vb(),L.Vb(),L.Wb(59,"div",31),L.Wb(60,"button",32),L.Pc(61,"\uac80\uc0c9"),L.Vb(),L.Wb(62,"button",33),L.fc("click",(function(){return t.onReset()})),L.Pc(63,"Reset"),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.Ec(10),n=L.Ec(17),i=L.Ec(45);L.pc("formGroup",t.searchForm)("connectForm",t.searchFormData),L.Cb(4),L.pc("options",t.dateRangeTypeList)("useAllOptionYn",!1),L.Cb(1),L.Gb("valid-error",t.checkIsInvalidDateRange()),L.Cb(1),L.Gb("valid-error",t.checkIsInvalid(L.tc(38,iR))),L.Cb(1),L.pc("for",e),L.Cb(1),L.pc("matDatepicker",e)("formControlName",0),L.Cb(5),L.Gb("valid-error",t.checkIsInvalid(L.tc(39,oR))),L.Cb(1),L.pc("for",n),L.Cb(1),L.pc("matDatepicker",n)("min",t.dateRangeDates[0])("formControlName",1),L.Cb(6),L.pc("inputFieldValue",t.bookerCompInput)("inputId","bookerCompInput")("apiCondition",L.uc(41,cR,L.tc(40,aR)))("apiSearchTerm","compName")("inputFieldFormatKeyList",L.tc(43,sR)),L.Cb(2),L.pc("options",t.multiSelectorOptions)("useAllOptionYn",!1),L.Cb(1),L.pc("ngSwitch",t.multiSelectorValue),L.Cb(1),L.pc("ngSwitchCase","bankRemitName"),L.Cb(1),L.pc("ngSwitchCase","paymentRemark"),L.Cb(1),L.pc("ngSwitchCase","paidAmount"),L.Cb(1),L.pc("ngSwitchCase","cardApprovalNo"),L.Cb(1),L.pc("ngSwitchCase","bookingItemCode"),L.Cb(1),L.pc("ngSwitchCase","couponSeq"),L.Cb(5),L.pc("options",t.depositWithdrawTypeList),L.Cb(4),L.pc("options",t.depositTypeList),L.Cb(4),L.pc("ngIf",t.isTxtBankMasterCode)("ngIfElse",i),L.Cb(6),L.pc("options",t.bankAccountNoList),L.Cb(5),L.pc("options",t.useYnOptions),L.Cb(4),L.pc("options",t.paymentDetailTypeList)}},directives:[I.B,I.s,I.k,J.a,I.l,Se.a,I.r,I.i,I.e,UW.a,QW.a,I.c,GW.a,ne.a,k.q,k.r,k.o,ee.a],encapsulation:2,changeDetection:0}),e})();const lR=function(e){return["bookingItemCodes",e,"paidAmount"]};function dR(e,t){if(1&e&&(L.Wb(0,"tr",11),L.Wb(1,"td",6),L.Rb(2,"app-checkbox",12),L.Vb(),L.Wb(3,"td",6),L.Pc(4),L.Vb(),L.Wb(5,"td",6),L.Pc(6),L.Vb(),L.Wb(7,"td",6),L.Pc(8),L.Vb(),L.Wb(9,"td",6),L.Pc(10),L.Vb(),L.Wb(11,"td",6),L.Pc(12),L.Vb(),L.Wb(13,"td",13),L.Pc(14),L.ic(15,"number"),L.Vb(),L.Wb(16,"td",13),L.Pc(17),L.ic(18,"number"),L.Vb(),L.Wb(19,"td",13),L.Pc(20),L.ic(21,"number"),L.Vb(),L.Wb(22,"td"),L.Rb(23,"app-input-text",14),L.Vb(),L.Vb()),2&e){const e=t.$implicit,n=t.index,i=L.hc(2);L.pc("formGroupName",n),L.Cb(2),L.pc("binary",!0),L.Cb(2),L.Qc((null==e?null:e.bookingFareTypeName)||"-"),L.Cb(2),L.Qc((null==e?null:e.paymentDetailTypeName)||"-"),L.Cb(2),L.Qc((null==e?null:e.bookingTravelerName)||"-"),L.Cb(2),L.Qc((null==e?null:e.bookingDate)||"-"),L.Cb(2),L.Qc((null==e?null:e.traderName)||"-"),L.Cb(2),L.Qc(L.jc(15,11,null==e?null:e.sumAmount)||"-"),L.Cb(3),L.Qc(L.jc(18,13,null==e?null:e.paidAmount)||"-"),L.Cb(3),L.Qc(L.jc(21,15,null==e?null:e.balanceAmount)||"-"),L.Cb(3),L.pc("isInvalid",i.checkIsInvalid(L.uc(17,lR,n)))}}function bR(e,t){if(1&e&&(L.Ub(0),L.Nc(1,dR,24,19,"tr",10),L.Tb()),2&e){const e=L.hc();L.Cb(1),L.pc("ngForOf",e.unpaidList)}}function uR(e,t){1&e&&(L.Wb(0,"tr"),L.Wb(1,"td",15),L.Pc(2,"\ubbf8\uc218\ub0b4\uc5ed\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."),L.Vb(),L.Vb())}const pR=function(){return{standalone:!0}};let mR=(()=>{class e{constructor(e,t){this.dataService=e,this.alertService=t,this.clickMappingEvent=new L.n,this._$unsubscribe=new Fe.a,this.subList=[],this.putForm=this.dataService.generateMappingForm()}get unpaidList(){return this._unpaidList}set unpaidList(e){this._unpaidList=e,this.putFormData=this._setPutFormData(e),this._setPutFormArray(e.length)}get bookingItemCodes(){var e;return null===(e=this.putForm)||void 0===e?void 0:e.get("bookingItemCodes")}get isAllChecked(){var e;return(null===(e=this.bookingItemCodes.value)||void 0===e?void 0:e.length)>0&&this.bookingItemCodes.value.every(e=>!0===e.checkedYn)}ngOnInit(){}ngAfterContentInit(){this._initSubscription()}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete(),this._clearSubListSubscription()}onCheckAll(e){for(let t=0;t<this.bookingItemCodes.length;t++)this.bookingItemCodes.at(t).get("checkedYn").setValue(e)}onClickMapping(){if(this.putForm.invalid)return void(this._checkValid=!0);const e=this._setPutCondition();e.length<1?this.alertService.alert("\ub9e4\ud551 \uae08\uc561\uc744 \uc785\ub825\ud558\uc138\uc694."):e.some(e=>e.paidAmount<=0)?this.alertService.alert("\uc720\ud6a8\ud55c \ub9e4\ud551 \uae08\uc561\uc744 \uc785\ub825\ud558\uc138\uc694."):e.some((e,t)=>e.paidAmount>this.unpaidList[t].balanceAmount)?this.alertService.alert("\ub9e4\ud551\uae08\uc561\uc774 \ubbf8\uc218\uae08\ubcf4\ub2e4 \ub9ce\uc744\uc218 \uc5c6\uc2b5\ub2c8\ub2e4."):(this.clickMappingEvent.emit({bookingItemCodes:e}),this._checkValid=!1)}checkIsInvalid(e){return this._checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}_setPutFormData(e){const t=this.dataService.initMappingBookingItem();return{bookingItemCodes:e.map(e=>Object.assign({},t,Q.pick(e,Object.keys(t)),{paidAmount:null}))}}_setPutFormArray(e){this.bookingItemCodes.clear();for(let t=0;t<e;t++)this.bookingItemCodes.push(this.dataService.generateMappingBookingItem())}_setPutCondition(){return this.bookingItemCodes.value.filter(e=>!0===e.checkedYn).map(e=>Q.omit(e,["checkedYn"]))}_initSubscription(){this.bookingItemCodes.valueChanges.pipe(Object(Ci.a)(this._$unsubscribe)).subscribe(e=>{this._clearSubListSubscription(),e.forEach((e,t)=>{this.subList[t]=this.bookingItemCodes.at(t).get("checkedYn").valueChanges.subscribe(e=>{const n=this.bookingItemCodes.at(t).get("paidAmount");e?n.enable():(n.disable(),n.setValue(null))})})})}_clearSubListSubscription(){if(this.subList.length>0)for(const e of this.subList)e.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(qW),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-payment-unpaid-mapping-unpaid"]],inputs:{unpaidList:"unpaidList"},outputs:{clickMappingEvent:"clickMappingEvent"},decls:45,vars:9,consts:[[1,"page-item-header","justify-content-end"],["data-function","2000127",1,"btn","btn-outline-dark","sm",3,"click"],[3,"formGroup","connectForm"],[1,"table","table-bordered","table-responsive"],["scope","col",1,"align-c"],[1,"only",3,"binary","ngModel","ngModelOptions","disabled","onChange"],[1,"align-c"],["formArrayName","bookingItemCodes"],[4,"ngIf","ngIfElse"],["emptyUnpaidList",""],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],["formControlName","checkedYn",1,"only",3,"binary"],[1,"align-r"],["formControlName","paidAmount","valueType","number","inputFormat","currency",3,"isInvalid"],["colspan","10",1,"align-c"]],template:function(e,t){if(1&e&&(L.Wb(0,"div",0),L.Wb(1,"button",1),L.fc("click",(function(){return t.onClickMapping()})),L.Pc(2,"\ub9e4\ud551\uae08\uc561 \uc800\uc7a5"),L.Vb(),L.Vb(),L.Wb(3,"form",2),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," \ubbf8\uc218\ub0b4\uc5ed "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Rb(13,"col"),L.Rb(14,"col"),L.Rb(15,"col"),L.Rb(16,"col"),L.Rb(17,"col"),L.Rb(18,"col"),L.Vb(),L.Wb(19,"thead"),L.Wb(20,"tr"),L.Wb(21,"th",4),L.Wb(22,"app-checkbox",5),L.fc("onChange",(function(e){return t.onCheckAll(e)})),L.Vb(),L.Vb(),L.Wb(23,"th",6),L.Pc(24,"\uc6b4\uc784\uad6c\ubd84"),L.Vb(),L.Wb(25,"th",6),L.Pc(26,"\uc804\uc1a1\uad6c\ubd84"),L.Vb(),L.Wb(27,"th",6),L.Pc(28,"\ud0d1\uc2b9\uc790"),L.Vb(),L.Wb(29,"th",6),L.Pc(30,"\uc608\uc57d\uc77c"),L.Vb(),L.Wb(31,"th",6),L.Pc(32,"\uac70\ub798\ucc98"),L.Vb(),L.Wb(33,"th",6),L.Pc(34,"\uacb0\uc81c\ub300\uc0c1\uae08\uc561"),L.Vb(),L.Wb(35,"th",6),L.Pc(36,"\uacb0\uc81c\uc644\ub8cc\uae08\uc561"),L.Vb(),L.Wb(37,"th",6),L.Pc(38,"\ubbf8\uc218\uae08"),L.Vb(),L.Wb(39,"th",6),L.Pc(40,"\ub9e4\ud551\uae08\uc561"),L.Vb(),L.Vb(),L.Vb(),L.Wb(41,"tbody",7),L.Nc(42,bR,2,1,"ng-container",8),L.Nc(43,uR,3,0,"ng-template",null,9,L.Oc),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.Ec(44);L.Cb(3),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(19),L.pc("binary",!0)("ngModel",t.isAllChecked)("ngModelOptions",L.tc(8,pR))("disabled",!(null!=t.bookingItemCodes&&t.bookingItemCodes.length)),L.Cb(20),L.pc("ngIf",t.unpaidList.length>0)("ngIfElse",e)}},directives:[I.B,I.s,I.k,J.a,Kt.a,I.r,I.u,I.e,k.o,k.n,I.l,I.i,ee.a],pipes:[k.f],encapsulation:2,changeDetection:0}),e})();var hR=n("UIHd"),gR=n("hna1");let fR=(()=>{class e{constructor(e,t,n,i,o){this.store=e,this._dataService=t,this._fileService=n,this._reservationService=i,this.alertService=o,this.completeEvent=new L.n,this._$unsubscribe=new Fe.a,this.dateRangeTypeList$=e.pipe(Object(P.u)(kW)),this.depositWithdrawTypeList$=e.pipe(Object(P.u)(IW)),this.depositTypeList$=e.pipe(Object(P.u)(OW)),this.cardMasterList$=e.pipe(Object(P.u)(PW)),this.allBankMasterList$=e.pipe(Object(P.u)(VW)),this.bankMasterList$=e.pipe(Object(P.u)(jW)),this.bankAccountNoList$=e.pipe(Object(P.u)(AW)),this.itemCategoryList$=e.pipe(Object(P.u)(WW)),this.paymentDetailTypeList$=e.pipe(Object(P.u)(RW)),this.stationTypeList$=e.pipe(Object(P.u)(FW)),this.loading$=e.pipe(Object(P.u)(SW)),this.searchCondition$=e.pipe(Object(P.u)(TW)),this.otherSearchInfo$=e.pipe(Object(P.u)(NW)),this.gridDataList$=e.pipe(Object(P.u)(MW)),this.gridPageSize$=e.pipe(Object(P.u)(_W)),this.gridState$=e.pipe(Object(P.u)(DW)),this.gridDataTotalCount$=e.pipe(Object(P.u)(EW)),this.gridCheckedState$=e.pipe(Object(P.u)(LW)),this.isMappingComplete$=e.pipe(Object(P.u)($W)),this.unpaidLoading$=e.pipe(Object(P.u)(BW)),this.unpaidDataList$=e.pipe(Object(P.u)(wW)),this.columns=t.generateGridColumns(),this._initSubscription()}ngAfterContentInit(){this._requestCommonDetailCodes(),this._setUnpaidList()}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete(),this.store.dispatch(C.initStateAction())}changePageSizeHandler(e){this.store.dispatch(C.changePageSize({pageSize:e}))}clickSearchHandler({searchCondition:e,otherSearchInfo:t}){this.store.dispatch(C.changeSearchCondition({searchCondition:e,otherSearchInfo:t})),this.store.dispatch(C.changePageIndex({pageIndex:0}))}clickResetHandler(){this.store.dispatch(C.changeSearchCondition({searchCondition:{},otherSearchInfo:null}))}gridStateChangeHandler(e){this.store.dispatch(C.setGridStateAction({gridState:e}))}clickMappingHandler({bookingItemCodes:e}){if(this.gridSimpleEl.checkedDataList.length<1)return void this.alertService.alert("\uc120\ud0dd\ub41c \uc785\uae08 \ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.");if(this.gridSimpleEl.checkedDataList.length>1)return void this.alertService.alert("\ud558\ub098\uc758 \uc785\uae08 \ub370\uc774\ud130\ub9cc \uc120\ud0dd \ud574 \uc8fc\uc138\uc694.");const t=this.gridSimpleEl.checkedDataList[0];if("D"!==t.depositWithdrawTypeCode)return void this.alertService.alert("\uc720\ud6a8\ud55c \uc785\uae08\ub0b4\uc5ed\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694.");if(!1!==t.mappedYn)return void this.alertService.alert("\ub9e4\ud551\uc774 \uc548\ub41c \uc785\uae08\ub0b4\uc5ed\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694.");let n=0;if(e.forEach(e=>{n+=e.paidAmount}),n>t.depositAmount)return void this.alertService.alert("\uc785\ub825\ud55c \ub9e4\ud551\uae08\uc561\uc758 \ud569\uacc4\uac00 \uc785\uae08\uc561\ubcf4\ub2e4 \ud074\uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");const i=t.depositTypeCode,o={paymentSeq:t.paymentSeq,bookingItemCodes:e.map(e=>Object.assign(Object.assign({},e),{depositTypeCode:i}))};this.store.dispatch(C.saveMappingAction({condition:o}))}_setUnpaidList(){if(Q.isEmpty(this.unpaidDataList)){const e=this.bookingItemCode;let t="IC01";e.indexOf("H")>-1&&(t="IC02"),e.indexOf("C")>-1&&(t="IC03"),e.indexOf("A")>-1&&(t="IC04"),this.store.dispatch(C.loadUnpaidDataList({condition:{bookingItemCode:e,itemCategoryCode:t,unpaidYn:!0}}))}else this.store.dispatch(C.loadUnpaidDataListSucess({dataList:this.unpaidDataList}))}_initSubscription(){Object(NA.a)([this.searchCondition$,this.gridState$]).pipe(Object(EA.a)(1),Object(zn.a)(200),Object(MA.a)(([e,t])=>!Q.isEmpty(e)),Object(Ci.a)(this._$unsubscribe)).subscribe(([e,{pageInfo:t,sortInfo:n}])=>{const i=this._setSortOrder(n),o=[t.skip,t.skip+t.take],a=Object.assign({},this._setSearchCondition(e),{limits:o,sortOrder:i});this.store.dispatch(C.loadListAction({condition:a}))}),this.isMappingComplete$.pipe(Object(Ci.a)(this._$unsubscribe)).subscribe(e=>{!0===e&&this.completeEvent.emit()})}_setSortOrder(e){return e.filter(e=>!Q.isNil(e.dir)).map(e=>({keyName:e.field,sort:e.dir}))}_setSearchCondition(e){const t=Object.keys(this._dataService.initSearchCondition());return Q.pick(e,t)}_requestCommonDetailCodes(){this.store.dispatch(C.loadDateRangeTypeAction()),this.store.dispatch(C.loadDepositWithdrawTypeAction()),this.store.dispatch(C.loadDepositTypeAction()),this.store.dispatch(C.loadCardMasterAction()),this.store.dispatch(C.loadBankAccountNoAction()),this.store.dispatch(C.loadAllBankMasterListAction()),this.store.dispatch(C.loadItemCategoryAction()),this.store.dispatch(C.loadPaymentDetailTypeAction()),this.store.dispatch(C.loadStationTypeAction())}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h),L.Qb(qW),L.Qb(Ze.a),L.Qb(gR.a),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-payment-unpaid-mapping"]],viewQuery:function(e,t){var n;1&e&&(L.Xc(rR,!0),L.Xc(hR.a,!0)),2&e&&(L.Dc(n=L.gc())&&(t.searchFormEl=n.first),L.Dc(n=L.gc())&&(t.gridSimpleEl=n.first))},inputs:{unpaidDataList:"unpaidDataList",bookingItemCode:"bookingItemCode"},outputs:{completeEvent:"completeEvent"},decls:27,vars:57,consts:[[1,"frame"],[1,"page-item"],[3,"dateRangeTypeList","depositWithdrawTypeList","depositTypeList","cardMasterList","bankMasterList","bankAccountNoList","itemCategoryList","paymentDetailTypeList","stationTypeList","otherSearchInfo","searchCondition","clickSearchEvent","clickResetEvent"],[3,"gridLoading","columns","gridState","checkedState","totalCount","checkboxUseYn","dataList","stateChangeEvent"],["gridSimpleEl",""],[1,"page-item",3,"unpaidList","clickMappingEvent"],[1,"loading-mask","pos-absolute"],[1,"content-loading","align-items-center"],[1,"icon-loading","lg"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"app-payment-unpaid-mapping-search",2),L.fc("clickSearchEvent",(function(e){return t.clickSearchHandler(e)}))("clickResetEvent",(function(){return t.clickResetHandler()})),L.ic(3,"async"),L.ic(4,"async"),L.ic(5,"async"),L.ic(6,"async"),L.ic(7,"async"),L.ic(8,"async"),L.ic(9,"async"),L.ic(10,"async"),L.ic(11,"async"),L.ic(12,"async"),L.ic(13,"async"),L.Vb(),L.Wb(14,"app-grid-simple",3,4),L.fc("stateChangeEvent",(function(e){return t.gridStateChangeHandler(e)})),L.ic(16,"async"),L.ic(17,"async"),L.ic(18,"async"),L.ic(19,"async"),L.ic(20,"async"),L.Vb(),L.Vb(),L.Wb(21,"app-payment-unpaid-mapping-unpaid",5),L.fc("clickMappingEvent",(function(e){return t.clickMappingHandler(e)})),L.ic(22,"async"),L.Vb(),L.Wb(23,"div",6),L.ic(24,"async"),L.Wb(25,"div",7),L.Rb(26,"div",8),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(2),L.pc("dateRangeTypeList",L.jc(3,21,t.dateRangeTypeList$))("depositWithdrawTypeList",L.jc(4,23,t.depositWithdrawTypeList$))("depositTypeList",L.jc(5,25,t.depositTypeList$))("cardMasterList",L.jc(6,27,t.cardMasterList$))("bankMasterList",L.jc(7,29,t.bankMasterList$))("bankAccountNoList",L.jc(8,31,t.bankAccountNoList$))("itemCategoryList",L.jc(9,33,t.itemCategoryList$))("paymentDetailTypeList",L.jc(10,35,t.paymentDetailTypeList$))("stationTypeList",L.jc(11,37,t.stationTypeList$))("otherSearchInfo",L.jc(12,39,t.otherSearchInfo$))("searchCondition",L.jc(13,41,t.searchCondition$)),L.Cb(12),L.pc("gridLoading",L.jc(16,43,t.loading$))("columns",t.columns)("gridState",L.jc(17,45,t.gridState$))("checkedState",L.jc(18,47,t.gridCheckedState$))("totalCount",L.jc(19,49,t.gridDataTotalCount$))("checkboxUseYn",!0)("dataList",L.jc(20,51,t.gridDataList$)),L.Cb(7),L.pc("unpaidList",L.jc(22,53,t.unpaidDataList$)),L.Cb(2),L.Gb("active",L.jc(24,55,t.unpaidLoading$)))},directives:[rR,hR.a,mR],pipes:[k.b],encapsulation:2,changeDetection:0}),e})(),vR=(()=>{class e{constructor(e,t,n,i,o){this._actions$=e,this._apiService=t,this._errorService=n,this.alertService=i,this.store=o,this.loadPaymentsDateRangeType$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(C.loadDateRangeTypeAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.paymentsDateRangeTypeList$))),Object(ye.a)(([e,t])=>null===t?this._apiService.getCommonDetailCodeList({masterCode:"PM038"}).pipe(Object(it.a)(e=>C.loadDateRangeTypeSuccessAction({dataList:e})),Object(ke.a)(e=>(this._catchErr(e,"\ub0a0\uc9dc \uc870\ud68c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),[]))):[]))),this.loadDepositWithdrawType$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(C.loadDepositWithdrawTypeAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.depositWithdrawTypeList$))),Object(ye.a)(([e,t])=>null===t?this._apiService.getCommonDetailCodeList({masterCode:"PM036"}).pipe(Object(it.a)(e=>C.loadDepositWithdrawTypeSuccessAction({dataList:e})),Object(ke.a)(e=>(this._catchErr(e,"\uc785\uae08/\ud658\ubd88 \ub9ac\uc2a4\ud2b8 \uc870\ud68c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),[]))):[]))),this.loadDepositType$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(C.loadDepositTypeAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.depositTypeList$))),Object(ye.a)(([e,t])=>null===t?this._apiService.getCommonDetailCodeList({masterCode:"PM006",referCode1:"DEPOSIT"}).pipe(Object(it.a)(e=>C.loadDepositTypeSuccessAction({dataList:e})),Object(ke.a)(e=>(this._catchErr(e,"\uc785\uae08\uad6c\ubd84 \ub9ac\uc2a4\ud2b8 \uc870\ud68c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),[]))):[]))),this.loadCardMaster$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(C.loadCardMasterAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.cardMasterList$))),Object(ye.a)(([e,t])=>null===t?this._apiService.getCommonDetailCodeList({masterCode:"PM003"}).pipe(Object(it.a)(e=>C.loadCardMasterSuccessAction({dataList:e})),Object(ke.a)(e=>(this._catchErr(e," \uce74\ub4dc \ub9ac\uc2a4\ud2b8 \uc870\ud68c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),[]))):[]))),this.loadBankMaster$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(C.loadAllBankMasterListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.bankMasterList$))),Object(ye.a)(([e,t])=>null===t?this._apiService.getCommonDetailCodeList({masterCode:"PM002"}).pipe(Object(it.a)(e=>C.loadAllBankMasterListSuccessAction({dataList:e})),Object(ke.a)(e=>(this._catchErr(e,"\uc740\ud589 \ub9ac\uc2a4\ud2b8 \uc870\ud68c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),[]))):[]))),this.loadBankAccountNo$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(C.loadBankAccountNoAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.bankAccountNoList$))),Object(ye.a)(([e,t])=>null===t?this._apiService.getUserCompBankList({compCode:11e4}).pipe(Object(it.a)(({bankList:e,accountList:t})=>C.loadBankAccountNoSuccessAction({bankList:e,accountList:t})),Object(ke.a)(e=>(this._catchErr(e,"\uacc4\uc88c\ubc88\ud638 \ub9ac\uc2a4\ud2b8 \uc870\ud68c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),[]))):[]))),this.loadItemCategory$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(C.loadItemCategoryAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.itemCategoryList$))),Object(ye.a)(([e,t])=>null===t?this._apiService.getCommonDetailCodeList({masterCode:"BS003",referCode1:"CATEGORY"}).pipe(Object(it.a)(e=>C.loadItemCategorySuccessAction({dataList:e})),Object(ke.a)(e=>(this._catchErr(e,"\uce74\ud14c\uace0\ub9ac \ub9ac\uc2a4\ud2b8 \uc870\ud68c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),[]))):[]))),this.loadPaymentDetailType$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(C.loadPaymentDetailTypeAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.paymentDetailTypeList$))),Object(ye.a)(([e,t])=>null===t?this._apiService.getCommonDetailCodeList({masterCode:"PM005"}).pipe(Object(it.a)(e=>C.loadPaymentDetailTypeSuccessAction({dataList:e})),Object(ke.a)(e=>(this._catchErr(e,"\uc804\uc1a1\uad6c\ubd84 \ub9ac\uc2a4\ud2b8 \uc870\ud68c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),[]))):[]))),this.loadStationType$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(C.loadStationTypeAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.stationTypeList$))),Object(ye.a)(([e,t])=>null===t?this._apiService.getCommonDetailCodeList({masterCode:"BS002"}).pipe(Object(it.a)(e=>C.loadStationTypeSuccessAction({dataList:e})),Object(ke.a)(e=>(this._catchErr(e,"\uc2a4\ud14c\uc774\uc158 \ub9ac\uc2a4\ud2b8 \uc870\ud68c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),[]))):[]))),this.loadAccountsPayments$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(C.loadListAction),Object(ye.a)(({condition:e})=>this._apiService.getAccountsPayments(e).pipe(Object(it.a)(({list:e,totalCount:t})=>C.loadListSuccessAction({dataList:e,totalCount:t})),Object(ke.a)(e=>{const t="List lookup failed. Please try again in a momentarily.",n=[C.loadListFailureAction({error:t})];return this._catchErr(e,t,n),[]}))))),this.loadUnpaidList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(C.loadUnpaidDataList),Object(ye.a)(({condition:e})=>this._apiService.getUnpaidList(e).pipe(Object(it.a)(({list:e})=>C.loadUnpaidDataListSucess({dataList:e})),Object(ke.a)(e=>{const t="\ubbf8\uc218\ub0b4\uc5ed \uc870\ud68c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc\ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694.",n=[C.loadUnpaidDataListFailure({error:t})];return this._catchErr(e,t,n),[]}))))),this.saveMapping$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(C.saveMappingAction),Object(ye.a)(({condition:e})=>this._apiService.saveMapping(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="\ub9e4\ud551\uae08\uc561\uc774 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",t=[C.saveMappingSuccessAction()];this._runPage(e,t)}else this._catchErr(t,"\ub9e4\ud551\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.")})),{dispatch:!1}),this.paymentsDateRangeTypeList$=o.pipe(Object(P.u)(kW)),this.depositWithdrawTypeList$=o.pipe(Object(P.u)(IW)),this.depositTypeList$=o.pipe(Object(P.u)(IW)),this.cardMasterList$=o.pipe(Object(P.u)(PW)),this.bankMasterList$=o.pipe(Object(P.u)(jW)),this.bankAccountNoList$=o.pipe(Object(P.u)(AW)),this.itemCategoryList$=o.pipe(Object(P.u)(WW)),this.paymentDetailTypeList$=o.pipe(Object(P.u)(RW)),this.stationTypeList$=o.pipe(Object(P.u)(FW))}_runPage(e,t){this.alertService.alert({message:e,accept:(null==t?void 0:t.length)>0?()=>{t.forEach(e=>{this.store.dispatch(e)})}:()=>{}})}_catchErr(e,t,n){const i=this._errorService.errorHandler(e,t);Q.isNil(i)||(Q.isNil(i.accept)&&(i.accept=(null==n?void 0:n.length)>0?()=>{n.forEach(e=>{this.store.dispatch(e)})}:()=>{}),this.alertService.alert(i))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(O.a),L.bc(HW),L.bc(On.a),L.bc(Ae.a),L.bc(P.h))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac}),e})(),CR=(()=>{class e{}return e.\u0275mod=L.Ob({type:e}),e.\u0275inj=L.Nb({factory:function(t){return new(t||e)},imports:[[k.c,I.m,I.w,j.m,st.a,V.a,A.a,W.a,R.a,F.a,S.a,T.a,w.a,H.a,FA.a,SA.a,TA.a,q.a,P.j.forFeature("paymentUnpaidMapping",vW),O.b.forFeature([vR])]]}),e})(),yR=(()=>{class e{}return e.\u0275mod=L.Ob({type:e}),e.\u0275inj=L.Nb({factory:function(t){return new(t||e)},imports:[[k.c,I.m,I.w,R.a,W.a,q.a]]}),e})();const kR=Object(P.o)("[DepositRefundDetail/List] init this component"),IR=Object(P.o)("[DepositRefundDetail/List] load deposit type list"),OR=Object(P.o)("[DepositRefundDetail/List] get deposit type list success",Object(P.t)()),PR=Object(P.o)("[DepositRefundDetail/List] load payment detail type list",Object(P.t)()),jR=Object(P.o)("[DepositRefundDetail/List] get payment detail type list success",Object(P.t)()),VR=Object(P.o)("[DepositRefundDetail/List] load bank list"),AR=Object(P.o)("[DepositRefundDetail/List] get bank list success",Object(P.t)()),WR=Object(P.o)("[DepositRefundDetail/List] load refund account info",Object(P.t)()),RR=Object(P.o)("[DepositRefundDetail/List] load refund account info success",Object(P.t)()),FR=Object(P.o)("[DepositRefundDetail/List] load refund account info failure",Object(P.t)()),SR=Object(P.o)("[DepositRefundDetail/List] save refund account info",Object(P.t)()),TR=Object(P.o)("[DepositRefundDetail/List] save refund account info success"),NR=Object(P.q)({depositTypeList:null,paymentDetailTypeList:null,bankList:null,refundAccountLoading:!1,refundAccountLoaded:!1,refundAccountPayment:null,refundAccountRefund:null,saveSuccessYn:null},Object(P.s)(y.initComponent,e=>Object.assign(Object.assign({},e),{refundAccountLoading:!1,refundAccountLoaded:!1,refundAccountPayment:null,refundAccountRefund:null,saveSuccessYn:null})),Object(P.s)(y.getDepositTypeListSuccessAction,(e,{dataList:t})=>Object.assign(Object.assign({},e),{depositTypeList:t})),Object(P.s)(y.getPaymentDetailTypeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{paymentDetailTypeList:t})),Object(P.s)(y.getBankListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{bankList:t})),Object(P.s)(y.loadRefundAccountInfo,e=>Object.assign(Object.assign({},e),{refundAccountLoading:!0,refundAccountLoaded:!1})),Object(P.s)(y.loadRefundAccountInfoSuccess,(e,{paymentInfo:t,refundInfo:n})=>Object.assign(Object.assign({},e),{refundAccountLoading:!1,refundAccountLoaded:!0,refundAccountPayment:t,refundAccountRefund:n})),Object(P.s)(y.loadRefundAccountInfoFailure,e=>Object.assign(Object.assign({},e),{refundAccountLoading:!1,refundAccountLoaded:!1})),Object(P.s)(y.saveRefundAccountInfoSuccess,e=>Object.assign(Object.assign({},e),{saveSuccessYn:!0})));function ER(e,t){return Object(P.m)({depositRefundDetailList:NR})(e,t)}const MR=Object(P.p)("depositRefundDetail"),DR=Object(P.r)(MR,e=>e.depositRefundDetailList),LR=Object(P.r)(DR,e=>e.depositTypeList),_R=Object(P.r)(DR,e=>e.paymentDetailTypeList),$R=Object(P.r)(DR,e=>e.bankList),BR=Object(P.r)(DR,e=>e.refundAccountLoading),wR=Object(P.r)(DR,e=>e.refundAccountLoaded),xR=Object(P.r)(DR,e=>e.refundAccountPayment),YR=Object(P.r)(DR,e=>e.refundAccountRefund),HR=Object(P.r)(DR,e=>e.saveSuccessYn);let qR=(()=>{class e{constructor(){}ngOnInit(){}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-deposit-refund-detail-info"]],inputs:{paymentInfo:"paymentInfo"},decls:90,vars:18,consts:[[1,"page-item-header"],[1,"title"],[1,"table","table-bordered","table-responsive"],["width","11%"],["width","22%"],["scope","row",1,"th-bg"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"\uc785\uae08\uc815\ubcf4"),L.Vb(),L.Vb(),L.Wb(3,"div",2),L.Wb(4,"table"),L.Wb(5,"caption"),L.Pc(6," \uc785\uae08\uc815\ubcf4 "),L.Vb(),L.Wb(7,"colgroup"),L.Rb(8,"col",3),L.Rb(9,"col",4),L.Rb(10,"col",3),L.Rb(11,"col",4),L.Rb(12,"col",3),L.Rb(13,"col"),L.Vb(),L.Wb(14,"tbody"),L.Wb(15,"tr"),L.Wb(16,"th",5),L.Pc(17,"\uc785\uae08\ubc88\ud638"),L.Vb(),L.Wb(18,"td"),L.Pc(19),L.Vb(),L.Wb(20,"th",5),L.Pc(21,"\uc785\uae08\uc77c"),L.Vb(),L.Wb(22,"td"),L.Pc(23),L.Vb(),L.Wb(24,"th",5),L.Pc(25,"\uc785\uae08\uc561"),L.Vb(),L.Wb(26,"td"),L.Pc(27),L.ic(28,"number"),L.Vb(),L.Vb(),L.Wb(29,"tr"),L.Wb(30,"th",5),L.Pc(31,"\uc785\uae08\uc790\uba85"),L.Vb(),L.Wb(32,"td"),L.Pc(33),L.Vb(),L.Wb(34,"th",5),L.Pc(35,"\uc785\uae08\uad6c\ubd84"),L.Vb(),L.Wb(36,"td"),L.Pc(37),L.Vb(),L.Wb(38,"th",5),L.Pc(39,"\uc138\ubd80\uad6c\ubd84"),L.Vb(),L.Wb(40,"td"),L.Pc(41),L.Vb(),L.Vb(),L.Wb(42,"tr"),L.Wb(43,"th",5),L.Pc(44,"\uacc4\uc88c\ubc88\ud638"),L.Vb(),L.Wb(45,"td"),L.Pc(46),L.Vb(),L.Rb(47,"th",5),L.Rb(48,"td"),L.Rb(49,"th",5),L.Rb(50,"td"),L.Vb(),L.Wb(51,"tr"),L.Wb(52,"th",5),L.Pc(53,"\uce74\ub4dc\uc0ac\uba85"),L.Vb(),L.Wb(54,"td"),L.Pc(55),L.Vb(),L.Wb(56,"th",5),L.Pc(57,"\uce74\ub4dc\ubc88\ud638"),L.Vb(),L.Wb(58,"td"),L.Pc(59),L.Vb(),L.Wb(60,"th",5),L.Pc(61,"\uce74\ub4dc\uc18c\uc720\uc790"),L.Vb(),L.Wb(62,"td"),L.Pc(63),L.Vb(),L.Vb(),L.Wb(64,"tr"),L.Wb(65,"th",5),L.Pc(66,"\uc720\ud6a8\uae30\uac04"),L.Vb(),L.Wb(67,"td"),L.Pc(68),L.Vb(),L.Wb(69,"th",5),L.Pc(70,"\ud560\ubd80\uac1c\uc6d4"),L.Vb(),L.Wb(71,"td"),L.Pc(72),L.Vb(),L.Wb(73,"th",5),L.Pc(74,"\uc2b9\uc778\ubc88\ud638"),L.Vb(),L.Wb(75,"td"),L.Pc(76),L.Vb(),L.Vb(),L.Wb(77,"tr"),L.Wb(78,"th",5),L.Pc(79,"\uc0c1\ud488\uad8c\ubc88\ud638"),L.Vb(),L.Wb(80,"td"),L.Pc(81),L.Vb(),L.Wb(82,"th",5),L.Pc(83,"\uc0c1\ud488\uad8c\ud0c0\uc785"),L.Vb(),L.Wb(84,"td"),L.Pc(85),L.Vb(),L.Wb(86,"th",5),L.Pc(87,"\uc0c1\ud488\uad8c \uc720\ud6a8\uae30\uac04"),L.Vb(),L.Wb(88,"td"),L.Pc(89),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(19),L.Qc((null==t.paymentInfo?null:t.paymentInfo.paymentSeq)||"-"),L.Cb(4),L.Qc((null==t.paymentInfo?null:t.paymentInfo.paidDate)||"-"),L.Cb(4),L.Qc(L.jc(28,16,null==t.paymentInfo?null:t.paymentInfo.paidAmount)||"-"),L.Cb(6),L.Qc((null==t.paymentInfo?null:t.paymentInfo.bankRemitName)||"-"),L.Cb(4),L.Qc((null==t.paymentInfo?null:t.paymentInfo.depositTypeName)||"-"),L.Cb(4),L.Qc((null==t.paymentInfo?null:t.paymentInfo.bankMasterName)||"-"),L.Cb(5),L.Qc((null==t.paymentInfo?null:t.paymentInfo.bankAccountNo)||"-"),L.Cb(9),L.Qc((null==t.paymentInfo?null:t.paymentInfo.cardMasterName)||"-"),L.Cb(4),L.Qc((null==t.paymentInfo?null:t.paymentInfo.cardNo)||"-"),L.Cb(4),L.Qc((null==t.paymentInfo?null:t.paymentInfo.cardHolderName)||"-"),L.Cb(5),L.Qc((null==t.paymentInfo?null:t.paymentInfo.cardValidPeriod)||"-"),L.Cb(4),L.Qc((null==t.paymentInfo?null:t.paymentInfo.cardQuotaMonth)||"-"),L.Cb(4),L.Qc((null==t.paymentInfo?null:t.paymentInfo.cardApprovalNo)||"-"),L.Cb(5),L.Qc((null==t.paymentInfo?null:t.paymentInfo.othersPaymentRelatedNo)||"-"),L.Cb(4),L.Qc((null==t.paymentInfo?null:t.paymentInfo.giftCardTypeName)||"-"),L.Cb(4),L.Qc((null==t.paymentInfo?null:t.paymentInfo.giftCardExpireDate)||"-"))},pipes:[k.f],encapsulation:2,changeDetection:0}),e})(),UR=(()=>{class e{constructor(e){this.fb=e,this.generateRefundAccountPutForm=()=>this.fb.group({rowid:[null],deleteYn:[null],payOutDetailTypeCode:[null,[I.z.required]],payOutDepositTypeCode:[null,[I.z.required]],payOutBankMasterCode:[null,[I.z.required]],payOutBankAccountNo:[null,[I.z.required]],payOutBankDepositorName:[null,[I.z.required]],payOutAmount:[null,[I.z.required]],paidDate:[null,[I.z.required]],cardHolderName:[null,[I.z.required]],payOutInsertUno:[null],refundRemark:[null]}),this.initRefundAccountPutFormData=()=>({rowid:null,deleteYn:!1,payOutDetailTypeCode:null,payOutDepositTypeCode:null,payOutBankMasterCode:null,payOutBankAccountNo:null,payOutBankDepositorName:null,payOutAmount:null,paidDate:null,cardHolderName:null,payOutInsertUno:null,refundRemark:null})}}return e.\u0275fac=function(t){return new(t||e)(L.bc(I.f))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const{API_URL:QR}=Ie.a,GR={postCommonDetailCodes:`${QR}/common/detail-code`,postCommonComp:`${QR}/common/comp`,postRefundAccount:`${QR}/admin/account/payments/refund-account`,putRefundAccount:`${QR}/admin/account/payments/refund-account`};let KR=(()=>{class e{constructor(e){this.api=e}getCommonDetailCodeList(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(GR.postCommonDetailCodes,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}getCommonComp(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(GR.postCommonComp,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}postRefundAccount(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(GR.postRefundAccount,t).pipe(Object(ye.a)(e=>e.succeedYn&&e.result&&e.result.paymentInfo?Object(ve.a)({paymentInfo:e.result.paymentInfo,refundInfo:e.result.refundInfo||null}):Object(Ce.a)(e||"api response error")))}putRefundAccount(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(GR.putRefundAccount,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(z.a))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const zR=function(){return{userTypeCode:"U01"}},XR=function(){return["userNo","name","deptName","positionName"]};let ZR=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.submitEvent=new L.n,this.unsubscribe$=new Fe.a,this.putForm=this._dataService.generateRefundAccountPutForm(),this._initSubscription()}get depositInfo(){return this._depositInfo}set depositInfo(e){this._depositInfo=e;const{resolutionSeq:t,paidAmount:n}=e;this.payOutAmount=n,this.formEnableYn=Q.isNil(t)&&n>0,this.formEnableYn||this.putForm.disable()}get refundInfo(){return this._refundInfo}set refundInfo(e){var t,n;this._refundInfo=e,this.putFormData=this._setPutFormData(e),this.payOutInsertUserInput=Q.isNil(e)?`${null===(t=this.loginUser)||void 0===t?void 0:t.name}(${null===(n=this.loginUser)||void 0===n?void 0:n.userNo})`:Q.isNil(e.payOutInsertUno)?null:`${e.payOutInsertName}(${e.payOutInsertUno})`}ngOnInit(){this.payOutInsertUserInput=`${this.loginUser.name}(${this.loginUser.userNo})`}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}onSubmit(e){if(this.putForm.invalid)return void(this._checkValid=!0);if(this.payOutAmount>0&&this.putForm.getRawValue().payOutAmount>this.payOutAmount)return void this.alertService.alert("\ud658\ubd88\uae08\uc561\uc740 \uc785\uae08\uc561\uc744 \ub118\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");const t=this._setPutCondition(e);this.submitEvent.emit(t),this._checkValid=!1}checkIsInvalid(e){return this._checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}_setPutFormData(e){var t;const n=this._dataService.initRefundAccountPutFormData(),i=null===(t=this.loginUser)||void 0===t?void 0:t.userNo;return Q.isEmpty(e)?Object.assign({},n,{payOutAmount:this.payOutAmount,payOutInsertUno:i}):Q.pick(e,Object.keys(n))}_setPutCondition(e){const t=this.putForm.getRawValue(),{payOutInsertUno:n}=t,i=Q.omitBy(Object.assign({},t,{deleteYn:e,payOutInsertUno:n||this.loginUser.userNo}),Q.isNil);return Q.isNil(i.rowid)?Q.omit(i,["rowid"]):i}_initSubscription(){this.putForm.get("payOutDepositTypeCode").valueChanges.pipe(Object(Ci.a)(this.unsubscribe$)).subscribe(e=>{"CCDP"===e?(this.putForm.get("payOutBankMasterCode").setValidators([I.z.required]),this.putForm.get("payOutBankAccountNo").setValidators([I.z.required]),this.putForm.get("payOutBankDepositorName").setValidators([I.z.required]),this.putForm.get("cardHolderName").clearValidators()):"CCCC"===e?(this.putForm.get("payOutBankMasterCode").clearValidators(),this.putForm.get("payOutBankAccountNo").clearValidators(),this.putForm.get("payOutBankDepositorName").clearValidators(),this.putForm.get("cardHolderName").setValidators([I.z.required])):(this.putForm.get("payOutBankMasterCode").clearValidators(),this.putForm.get("payOutBankAccountNo").clearValidators(),this.putForm.get("payOutBankDepositorName").clearValidators(),this.putForm.get("cardHolderName").clearValidators()),this.putForm.get("payOutBankMasterCode").updateValueAndValidity(),this.putForm.get("payOutBankAccountNo").updateValueAndValidity(),this.putForm.get("payOutBankDepositorName").updateValueAndValidity(),this.putForm.get("cardHolderName").updateValueAndValidity()})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(UR),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-deposit-refund-detail-form"]],inputs:{payOutDetailTypeList:"payOutDetailTypeList",payOutDepositTypeList:"payOutDepositTypeList",payOutBankMasterList:"payOutBankMasterList",loginUser:"loginUser",depositInfo:"depositInfo",refundInfo:"refundInfo"},outputs:{submitEvent:"submitEvent"},decls:76,vars:25,consts:[[1,"page-item-header"],[1,"title"],[1,"table","table-bordered",3,"formGroup","connectForm"],["width","11%"],["width","22%"],["scope","row",1,"th-bg"],["formControlName","payOutDepositTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","__\uc120\ud0dd__",3,"options","isInvalid"],["formControlName","payOutDetailTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","__\uc120\ud0dd__",3,"options","isInvalid"],[1,"input","calendar"],[3,"for"],["type","text","placeholder","\ub0a0\uc9dc \uc120\ud0dd","formControlName","paidDate",3,"matDatepicker"],["requestDate",""],["formControlName","payOutBankMasterCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","__\uc120\ud0dd__",3,"options","isInvalid"],["formControlName","payOutBankAccountNo",3,"isInvalid"],["formControlName","payOutBankDepositorName",3,"isInvalid"],["formControlName","payOutAmount","valueType","number","inputFormat","currency",3,"isInvalid"],["formControlName","cardHolderName",3,"isInvalid"],["formControlName","payOutInsertUno","apiUrl","admin/common/staff","dataKey","userNo","inputFieldFormat","{0}-{1}&,{2}&,{3}","placeholder","\ud658\ubd88\uc0ac\uc6d0 \uac80\uc0c9",3,"apiSearchTerm","apiCondition","inputFieldFormatKeyList","inputFieldValue"],["colspan","5"],["formControlName","refundRemark",3,"isInvalid"],[1,"button-area","align-r","mt10"],[1,"btn","btn-secondary","sm",3,"disabled","click"]],template:function(e,t){if(1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"\ud658\ubd88\ub4f1\ub85d"),L.Vb(),L.Vb(),L.Wb(3,"form",2),L.Wb(4,"table"),L.Wb(5,"caption"),L.Pc(6," \ud658\ubd88\ub4f1\ub85d "),L.Vb(),L.Wb(7,"colgroup"),L.Rb(8,"col",3),L.Rb(9,"col",4),L.Rb(10,"col",3),L.Rb(11,"col",4),L.Rb(12,"col",3),L.Rb(13,"col"),L.Vb(),L.Wb(14,"tbody"),L.Wb(15,"tr"),L.Wb(16,"th",5),L.Wb(17,"sup"),L.Pc(18,"\ud658\ubd88\uad6c\ubd84"),L.Vb(),L.Vb(),L.Wb(19,"td"),L.Rb(20,"app-selectbox",6),L.Vb(),L.Wb(21,"th",5),L.Wb(22,"sup"),L.Pc(23,"\uc804\uc1a1\uad6c\ubd84"),L.Vb(),L.Vb(),L.Wb(24,"td"),L.Rb(25,"app-selectbox",7),L.Vb(),L.Wb(26,"th",5),L.Wb(27,"sup"),L.Pc(28,"\ub4f1\ub85d\uc77c\uc790"),L.Vb(),L.Vb(),L.Wb(29,"td"),L.Wb(30,"div",8),L.Rb(31,"mat-datepicker-toggle",9),L.Rb(32,"input",10),L.Rb(33,"mat-datepicker",null,11),L.Vb(),L.Vb(),L.Vb(),L.Wb(35,"tr"),L.Wb(36,"th",5),L.Wb(37,"sup"),L.Pc(38,"\uc740\ud589\uba85"),L.Vb(),L.Vb(),L.Wb(39,"td"),L.Rb(40,"app-selectbox",12),L.Vb(),L.Wb(41,"th",5),L.Wb(42,"sup"),L.Pc(43,"\ud658\ubd88\uacc4\uc88c\ubc88\ud638"),L.Vb(),L.Vb(),L.Wb(44,"td"),L.Rb(45,"app-input-text",13),L.Vb(),L.Wb(46,"th",5),L.Wb(47,"sup"),L.Pc(48,"\uc608\uae08\uc8fc"),L.Vb(),L.Vb(),L.Wb(49,"td"),L.Rb(50,"app-input-text",14),L.Vb(),L.Vb(),L.Wb(51,"tr"),L.Wb(52,"th",5),L.Wb(53,"sup"),L.Pc(54,"\ud658\ubd88\uae08\uc561"),L.Vb(),L.Vb(),L.Wb(55,"td"),L.Rb(56,"app-input-text",15),L.Vb(),L.Wb(57,"th",5),L.Wb(58,"sup"),L.Pc(59,"\uce74\ub4dc\uc18c\uc720\uc790\uba85"),L.Vb(),L.Vb(),L.Wb(60,"td"),L.Rb(61,"app-input-text",16),L.Vb(),L.Wb(62,"th",5),L.Pc(63,"\ud658\ubd88\uc0ac\uc6d0"),L.Vb(),L.Wb(64,"td"),L.Rb(65,"app-auto-complete",17),L.Vb(),L.Vb(),L.Wb(66,"tr"),L.Wb(67,"th",5),L.Pc(68,"\ube44\uace0"),L.Vb(),L.Wb(69,"td",18),L.Rb(70,"app-input-text",19),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(71,"div",20),L.Wb(72,"button",21),L.fc("click",(function(){return t.onSubmit(!1)})),L.Pc(73,"\uc800\uc7a5"),L.Vb(),L.Wb(74,"button",21),L.fc("click",(function(){return t.onSubmit(!0)})),L.Pc(75,"\uc0ad\uc81c"),L.Vb(),L.Vb()),2&e){const e=L.Ec(34);L.Cb(3),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(17),L.pc("options",t.payOutDepositTypeList)("isInvalid",t.checkIsInvalid("payOutDepositTypeCode")),L.Cb(5),L.pc("options",t.payOutDetailTypeList)("isInvalid",t.checkIsInvalid("payOutDetailTypeCode")),L.Cb(5),L.Gb("valid-error",t.checkIsInvalid("paidDate")),L.Cb(1),L.pc("for",e),L.Cb(1),L.pc("matDatepicker",e),L.Cb(8),L.pc("options",t.payOutBankMasterList)("isInvalid",t.checkIsInvalid("payOutBankMasterCode")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("payOutBankAccountNo")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("payOutBankDepositorName")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("payOutAmount")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("cardHolderName")),L.Cb(4),L.pc("apiSearchTerm","name")("apiCondition",L.tc(23,zR))("inputFieldFormatKeyList",L.tc(24,XR))("inputFieldValue",t.payOutInsertUserInput),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("refundRemark")),L.Cb(2),L.pc("disabled",!t.formEnableYn),L.Cb(2),L.pc("disabled",!t.formEnableYn)}},directives:[I.B,I.s,I.k,J.a,Se.a,I.r,I.i,UW.a,I.c,QW.a,GW.a,ee.a,ne.a],encapsulation:2,changeDetection:0}),e})(),JR=(()=>{class e{constructor(e,t,n){this.store=e,this.alertService=t,this.authStore=n,this.category="default",this.completeEvent=new L.n,this.unsubscribe$=new Fe.a,this.depositTypeList$=this.store.pipe(Object(P.u)(LR)),this.paymentDetailTypeList$=this.store.pipe(Object(P.u)(_R)),this.bankList$=this.store.pipe(Object(P.u)($R)),this.refundAccountLoading$=this.store.pipe(Object(P.u)(BR)),this.refundAccountLoaded$=this.store.pipe(Object(P.u)(wR)),this.paymentInfo$=this.store.pipe(Object(P.u)(xR)),this.refundInfo$=this.store.pipe(Object(P.u)(YR)),this.saveSuccessYn$=this.store.pipe(Object(P.u)(HR)),this.loginUser$=this.authStore.pipe(Object(P.u)(Xe.r)),this._initSubscription()}ngOnInit(){this._loadDetailInfo(),this.store.dispatch(y.loadDepositTypeList()),this.store.dispatch(y.loadPaymentDetailTypeList({referCode1:{flight:"IC01",hotel:"IC02",rent:"IC03",activity:"IC04",default:void 0}[this.category]})),this.store.dispatch(y.loadBankList())}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.store.dispatch(y.initComponent())}saveRefundHandler(e){this.store.dispatch(y.saveRefundAccountInfo({condition:e}))}_initSubscription(){this.saveSuccessYn$.pipe(Object(Ci.a)(this.unsubscribe$)).subscribe(e=>{!0===e&&this.completeEvent.emit()})}_loadDetailInfo(){this.store.dispatch(y.loadRefundAccountInfo({condition:{paymentSeq:this.paymentSeq}}))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h),L.Qb(Ae.a),L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-deposit-refund-detail"]],inputs:{paymentSeq:"paymentSeq",depositInfo:"depositInfo",category:"category"},outputs:{completeEvent:"completeEvent"},decls:16,vars:23,consts:[[1,"page-item",3,"paymentInfo"],[1,"page-item",3,"payOutDetailTypeList","payOutDepositTypeList","payOutBankMasterList","depositInfo","refundInfo","loginUser","submitEvent"],[1,"loading-mask","pos-fixed"],[1,"content-loading","align-items-center"],[1,"icon-loading","lg"],[1,"loading-title"],[1,"loading-sub-title"]],template:function(e,t){1&e&&(L.Rb(0,"app-deposit-refund-detail-info",0),L.ic(1,"async"),L.Wb(2,"app-deposit-refund-detail-form",1),L.fc("submitEvent",(function(e){return t.saveRefundHandler(e)})),L.ic(3,"async"),L.ic(4,"async"),L.ic(5,"async"),L.ic(6,"async"),L.ic(7,"async"),L.Vb(),L.Wb(8,"div",2),L.ic(9,"async"),L.Wb(10,"div",3),L.Rb(11,"div",4),L.Wb(12,"div",5),L.Pc(13,"\ub85c\ub529\uc911\uc785\ub2c8\ub2e4."),L.Vb(),L.Wb(14,"div",6),L.Pc(15,"\uc7a0\uc2dc\ub9cc \uae30\ub2e4\ub824 \uc8fc\uc138\uc694."),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.pc("paymentInfo",L.jc(1,9,t.paymentInfo$)),L.Cb(2),L.pc("payOutDetailTypeList",L.jc(3,11,t.paymentDetailTypeList$))("payOutDepositTypeList",L.jc(4,13,t.depositTypeList$))("payOutBankMasterList",L.jc(5,15,t.bankList$))("depositInfo",t.depositInfo)("refundInfo",L.jc(6,17,t.refundInfo$))("loginUser",L.jc(7,19,t.loginUser$)),L.Cb(6),L.Gb("active",L.jc(9,21,t.refundAccountLoading$)))},directives:[qR,ZR],pipes:[k.b],encapsulation:2,changeDetection:0}),e})(),eF=(()=>{class e{constructor(e,t,n,i,o,a){this.actions$=e,this._store$=t,this._apiService=n,this._errorService=i,this.alertService=o,this.store=a,this.loadDepositTypeList$=Object(O.c)(()=>this.actions$.pipe(Object(O.d)(y.loadDepositTypeList),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.depositTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([e,t])=>null===t?this._apiService.getCommonDetailCodeList({masterCode:"PM006",referCode1:"WITHDRAW"}).pipe(Object(it.a)(e=>y.getDepositTypeListSuccessAction({dataList:e})),Object(ke.a)(e=>(this._catchErr(e,"\ud658\ubd88\uad6c\ubd84 \ub9ac\uc2a4\ud2b8 \uc870\ud68c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),[]))):[]))),this.loadPaymentDetailTypeList$=Object(O.c)(()=>this.actions$.pipe(Object(O.d)(y.loadPaymentDetailTypeList),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.paymentDetailTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{referCode1:e},t])=>null===t?this._apiService.getCommonDetailCodeList({masterCode:"PM005",referCode1:e}).pipe(Object(it.a)(e=>y.getPaymentDetailTypeListSuccess({dataList:e})),Object(ke.a)(e=>(this._catchErr(e,"\uc804\uc1a1\uad6c\ubd84 \ub9ac\uc2a4\ud2b8 \uc870\ud68c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),[]))):[]))),this.loadBankList$=Object(O.c)(()=>this.actions$.pipe(Object(O.d)(y.loadBankList),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.bankList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([e,t])=>null===t?this._apiService.getCommonDetailCodeList({masterCode:"PM002"}).pipe(Object(it.a)(e=>y.getBankListSuccess({dataList:e})),Object(ke.a)(e=>(this._catchErr(e,"\uc740\ud589 \ub9ac\uc2a4\ud2b8 \uc870\ud68c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),[]))):[]))),this.loadRefundAccount$=Object(O.c)(()=>this.actions$.pipe(Object(O.d)(y.loadRefundAccountInfo),Object(ye.a)(({condition:e})=>this._apiService.postRefundAccount(e).pipe(Object(it.a)(({paymentInfo:e,refundInfo:t})=>y.loadRefundAccountInfoSuccess({paymentInfo:e,refundInfo:t})),Object(ke.a)(e=>{const t="\ud658\ubd88\uc815\ubcf4 \uc870\ud68c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc\ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694.",n=[y.loadRefundAccountInfoFailure({error:t})];return this._catchErr(e,t,n),[]}))))),this.saveRefundAccount$=Object(O.c)(()=>this.actions$.pipe(Object(O.d)(y.saveRefundAccountInfo),Object(ye.a)(({condition:e})=>this._apiService.putRefundAccount(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="\ud658\ubd88\uc815\ubcf4 \uc800\uc7a5\uc5d0 \uc131\uacf5\ud558\uc600\uc2b5\ub2c8\ub2e4.",t=[y.saveRefundAccountInfoSuccess()];this._runPage(e,t)}else this._catchErr(t,"\ud658\ubd88\uc815\ubcf4 Failed to save.")})),{dispatch:!1}),this.depositTypeList$=t.pipe(Object(P.u)(LR)),this.paymentDetailTypeList$=t.pipe(Object(P.u)(_R)),this.bankList$=t.pipe(Object(P.u)($R))}_runPage(e,t){this.alertService.alert({message:e,accept:(null==t?void 0:t.length)>0?()=>{t.forEach(e=>{this.store.dispatch(e)})}:()=>{}})}_catchErr(e,t,n){const i=this._errorService.errorHandler(e,t);Q.isNil(i)||(Q.isNil(i.accept)&&(i.accept=(null==n?void 0:n.length)>0?()=>{n.forEach(e=>{this.store.dispatch(e)})}:()=>{}),this.alertService.alert(i))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(O.a),L.bc(P.h),L.bc(KR),L.bc(On.a),L.bc(Ae.a),L.bc(P.h))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac}),e})(),tF=(()=>{class e{}return e.\u0275mod=L.Ob({type:e}),e.\u0275inj=L.Nb({factory:function(t){return new(t||e)},imports:[[k.c,I.m,I.w,V.a,W.a,R.a,Y.a,q.a,A.a,S.a,FA.a,T.a,w.a,P.j.forFeature("depositRefundDetail",ER),O.b.forFeature([eF])]]}),e})(),nF=(()=>{class e{}return e.\u0275mod=L.Ob({type:e}),e.\u0275inj=L.Nb({factory:function(t){return new(t||e)},imports:[[k.c,I.m,I.w,R.a,q.a]]}),e})();var iF=n("/uUt");let oF=(()=>{class e{constructor(e){this.store=e,this.categoryCodeNameMap={IC01:"flight",IC02:"hotel",IC03:"car",IC04:"activity"},this._$unsubscribe=new Fe.a,this.bookingItemCode$=e.pipe(Object(P.u)(lk)),this.bookingItemCodes$=e.pipe(Object(P.u)(dk)),this.consultingSeq$=e.pipe(Object(P.u)(bk)),this.toggleReloadBookingDetail$=e.pipe(Object(P.u)(uk)),this.bookingLogList$=e.pipe(Object(P.u)(pk)),this.consultingList$=e.pipe(Object(P.u)(mk)),this.bookingMemoList$=e.pipe(Object(P.u)(hk)),this.bookerInfo$=e.pipe(Object(P.u)(gk))}ngOnInit(){console.log("ReservationMaster ngOnInit")}ngAfterContentInit(){this._initSubscription()}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete()}loadBookingTravelerList(){}loadBookingLog(e){let t={condition:{bookingItemCode:this._bookingItemCode}};e&&(t=Object.assign({},t,{isForceLoad:!0})),this.store.dispatch(u.loadBookingLogAction(t))}loadConsulting(e){let t={condition:{bookingItemCode:this._bookingItemCode}};e&&(t=Object.assign({},t,{isForceLoad:!0})),this.store.dispatch(u.loadConsultingAction(t))}loadBookingMemo(e){let t={condition:{bookingItemCode:this._bookingItemCode}};e&&(t=Object.assign({},t,{isForceLoad:!0})),this.store.dispatch(u.loadBookingMemoAction(t))}loadBookerInfo(e){let t={condition:{bookingCode:this._bookingItemCode.slice(0,-3)}};e&&(t=Object.assign({},t,{isForceLoad:!0})),this.store.dispatch(u.loadBookerInfoAction(t))}_initSubscription(){this.bookingItemCode$.pipe((Object(iF.a)(),Object(Ci.a)(this._$unsubscribe))).subscribe(e=>{var t,n;(!this._bookingItemCode||(null===(t=this._bookingItemCode.split("-")[1])||void 0===t?void 0:t.slice(0,1))===(null===(n=e.split("-")[1])||void 0===n?void 0:n.slice(0,1)))&&(this._bookingItemCode=e,this.loadMasterInfo(),this.loadSubInfo(),this.loadBookingTravelerList(),this.loadBookingLog(!0),this.loadConsulting(!0),this.loadBookingMemo(!0),this.loadBookerInfo(!0))}),this.toggleReloadBookingDetail$.pipe(Object(MA.a)(e=>null!==e),Object(Ci.a)(this._$unsubscribe)).subscribe(()=>{this._bookingItemCode&&(this.loadMasterInfo(),this.loadBookingTravelerList(),this.loadBookingLog(!0),this.loadConsulting(!0),this.loadBookingMemo(!0),this.loadBookerInfo(!0))})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h))},e.\u0275dir=L.Lb({type:e}),e})(),aF=(()=>{class e{constructor(e,t,n){this.router=e,this.activatedRoute=t,this.authStore=n,document.body.style["min-width"]="initial",document.body.classList.add("overflow-x"),document.body.classList.add("scroll-type2")}ngOnInit(){this.router.events.subscribe(e=>{})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(dt.c),L.Qb(dt.a),L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation"]],decls:3,vars:0,consts:[[1,"modal","page","active","relative","reservation-modal"],[1,"modal-inner","w100"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Rb(2,"router-outlet"),L.Vb(),L.Vb())},directives:[dt.g],encapsulation:2}),e})();function cF(e,t){if(1&e&&L.Pc(0),2&e){const e=L.hc();L.Sc(" / ",e.reservationInfoMaster.travelerName," \uc678 ",e.reservationInfoMaster.travelerMinusCount,"\uba85 ")}}function sF(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"div",6),L.Wb(2,"a",7),L.fc("click",(function(){return L.Fc(e),L.hc().onClickMovePrevBooking()})),L.Pc(3,"\uc774\uc804"),L.Vb(),L.Wb(4,"a",8),L.fc("click",(function(){return L.Fc(e),L.hc().onClickMoveNextBooking()})),L.Pc(5,"\ub2e4\uc74c"),L.Vb(),L.Vb(),L.Tb()}}let rF=(()=>{class e{constructor(e){this._router=e,this.clickOffBookingEvent=new L.n,this.clickBookerNameEvent=new L.n,this.clickUserInfoEvent=new L.n,this.clickUmsEvent=new L.n,this.bookingItemCodes=[],this.categoryMap={F:"flight",H:"hotel",C:"car",A:"activity"}}get reservationInfoMaster(){return this._reservationInfoMaster}set reservationInfoMaster(e){this._reservationInfoMaster=e||{}}get bookingItemCode(){return this._bookingItemCode}set bookingItemCode(e){this._bookingItemCode=e;const[t,n]=null==e?void 0:e.split("-");switch(null==n?void 0:n.slice(0,1)){case"F":this.bookerIdFunction="2000066",this.bookerNameFunction="2000067",this.bookerMobileFunction="2000068";break;case"H":this.bookerIdFunction="2000194",this.bookerNameFunction="2000198",this.bookerMobileFunction="2000199";break;case"C":this.bookerIdFunction="2000195",this.bookerNameFunction="2000196",this.bookerMobileFunction="2000197";break;case"A":this.bookerIdFunction="2000200",this.bookerNameFunction="2000201",this.bookerMobileFunction="2000202"}}clickOffBookingHandler(){this.clickOffBookingEvent.emit()}clickBookerNameHandler(){this.clickBookerNameEvent.emit()}clickSmartUserInfoHandler(){this.clickUserInfoEvent.emit()}clickUmsHandler(){this.clickUmsEvent.emit()}onClickMovePrevBooking(){const e=this.bookingItemCodes.indexOf(this.bookingItemCode),t=this.bookingItemCodes[e-1];if(t){const[e,n]=t.split("-");this._router.navigate([`reservation/${this.categoryMap[n.slice(0,1)]}/${t}`],{queryParams:{bookingItemCodes:this.bookingItemCodes}})}}onClickMoveNextBooking(){const e=this.bookingItemCodes.indexOf(this.bookingItemCode),t=this.bookingItemCodes[e+1];if(t){const[e,n]=t.split("-");this._router.navigate([`reservation/${this.categoryMap[n.slice(0,1)]}/${t}`],{queryParams:{bookingItemCodes:this.bookingItemCodes}})}}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(dt.c))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-header"]],inputs:{reservationInfoMaster:"reservationInfoMaster",bookingItemCode:"bookingItemCode",bookingItemCodes:"bookingItemCodes"},outputs:{clickOffBookingEvent:"clickOffBookingEvent",clickBookerNameEvent:"clickBookerNameEvent",clickUserInfoEvent:"clickUserInfoEvent",clickUmsEvent:"clickUmsEvent"},decls:16,vars:7,consts:[[1,"modal-header"],[1,"modal-title"],[1,"auth-link",3,"click"],[1,"auth-link"],[3,"ngIf"],[4,"ngIf"],[1,"page-control"],["title","\uc774\uc804 \uc608\uc57d\uac74",1,"icon","sm","page-prev",3,"click"],["title","\ub2e4\uc74c \uc608\uc57d\uac74",1,"icon","sm","page-next",3,"click"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"h1",1),L.Wb(2,"strong"),L.Pc(3),L.Vb(),L.Wb(4,"span"),L.Pc(5),L.Wb(6,"a",2),L.fc("click",(function(){return t.clickSmartUserInfoHandler()})),L.Pc(7),L.Vb(),L.Pc(8," /\xa0 "),L.Wb(9,"a",3),L.Pc(10),L.Vb(),L.Pc(11," /\xa0 "),L.Wb(12,"a",2),L.fc("click",(function(){return t.clickUmsHandler()})),L.Pc(13),L.Vb(),L.Nc(14,cF,1,2,"ng-template",4),L.Vb(),L.Vb(),L.Nc(15,sF,6,0,"ng-container",5),L.Vb()),2&e&&(L.Cb(3),L.Qc(t.reservationInfoMaster.bookingCode),L.Cb(2),L.Rc(" ",t.reservationInfoMaster.stationTypeName," /\xa0 "),L.Cb(2),L.Qc(t.reservationInfoMaster.bookerId||"-"),L.Cb(3),L.Qc(t.reservationInfoMaster.bookerName||"-"),L.Cb(3),L.Qc(t.reservationInfoMaster.bookerMobileNo||"-"),L.Cb(1),L.pc("ngIf",t.reservationInfoMaster.travelerMinusCount>0),L.Cb(1),L.pc("ngIf",(null==t.bookingItemCodes?null:t.bookingItemCodes.length)>0))},directives:[k.o],encapsulation:2,changeDetection:0}),e})();var lF=n("8LU1"),dF=n("R1ws"),bF=n("FtGj"),uF=n("nLfN"),pF=n("xgIS"),mF=n("VRyK"),hF=n("PqYM"),gF=n("vxfF");const fF=Object(uF.e)({passive:!0});let vF=(()=>{class e{constructor(e,t,n,i,o,a,c){this._elementRef=e,this._changeDetectorRef=t,this._viewportRuler=n,this._dir=i,this._ngZone=o,this._platform=a,this._animationMode=c,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Fe.a,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Fe.a,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new L.n,this.indexFocused=new L.n,o.runOutsideAngular(()=>{Object(pF.a)(e.nativeElement,"mouseleave").pipe(Object(Ci.a)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=Object(lF.f)(e),this._selectedIndex!==e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){this._isValidIndex(e)&&this.focusIndex!==e&&this._keyManager&&this._keyManager.setActiveItem(e)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}ngAfterViewInit(){Object(pF.a)(this._previousPaginator.nativeElement,"touchstart",fF).pipe(Object(Ci.a)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Object(pF.a)(this._nextPaginator.nativeElement,"touchstart",fF).pipe(Object(Ci.a)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:Object(ve.a)(null),t=this._viewportRuler.change(150),n=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new N.c(this._items).withHorizontalOrientation(this._getLayoutDirection()).withWrap(),this._keyManager.updateActiveItem(0),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(n):n(),Object(mF.a)(e,t,this._items.changes).pipe(Object(Ci.a)(this._destroyed)).subscribe(()=>{Promise.resolve().then(n),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Object(Ci.a)(this._destroyed)).subscribe(e=>{this.indexFocused.emit(e),this._setTabFocus(e)})}ngAfterContentChecked(){this._tabLabelCount!==this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Object(bF.q)(e))switch(e.keyCode){case bF.f:this._keyManager.setFirstItemActive(),e.preventDefault();break;case bF.c:this._keyManager.setLastItemActive(),e.preventDefault();break;case bF.d:case bF.l:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}_isValidIndex(e){if(!this._items)return!0;const t=this._items?this._items.toArray()[e]:null;return!!t&&!t.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const t=this._tabListContainer.nativeElement,n=this._getLayoutDirection();t.scrollLeft="ltr"===n?0:t.scrollWidth-t.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,t=this._platform,n="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,t&&(t.TRIDENT||t.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"===e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const t=this._items?this._items.toArray()[e]:null;if(!t)return;const n=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:i,offsetWidth:o}=t.elementRef.nativeElement;let a,c;"ltr"===this._getLayoutDirection()?(a=i,c=a+o):(c=this._tabList.nativeElement.offsetWidth-i,a=c-o);const s=this.scrollDistance,r=this.scrollDistance+n;a<s?this.scrollDistance-=s-a+60:c>r&&(this.scrollDistance+=c-r+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0===this.scrollDistance,this._disableScrollAfter=this.scrollDistance===this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){var e,t;const n=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=n?n.elementRef.nativeElement:null;i?null===(e=this._inkBar)||void 0===e||e.alignToElement(i):null===(t=this._inkBar)||void 0===t||t.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,t){t&&null!=t.button&&0!==t.button||(this._stopInterval(),Object(hF.a)(650,100).pipe(Object(Ci.a)(Object(mF.a)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:t,distance:n}=this._scrollHeader(e);(0===n||n>=t)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const t=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(t,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:t,distance:this._scrollDistance}}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(L.l),L.Qb(L.h),L.Qb(gF.d),L.Qb(D.b,8),L.Qb(L.z),L.Qb(uF.a),L.Qb(dF.a,8))},e.\u0275dir=L.Lb({type:e,inputs:{disablePagination:"disablePagination"}}),e})();var CF=n("JX91");const yF=["tabListContainer"],kF=["tabList"],IF=["nextPaginator"],OF=["previousPaginator"],PF=["mat-tab-nav-bar",""],jF=["*"];let VF=(()=>{class e extends vF{constructor(e,t,n,i,o,a,c){super(e,i,o,t,n,a,c),this._disableRipple=!1,this.color="primary"}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const t=this._elementRef.nativeElement.classList;t.remove(`mat-background-${this.backgroundColor}`),e&&t.add(`mat-background-${e}`),this._backgroundColor=e}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Object(lF.c)(e)}_itemSelected(){}ngAfterContentInit(){this._items.changes.pipe(Object(CF.a)(null),Object(Ci.a)(this._destroyed)).subscribe(()=>{this.updateActiveLink()}),super.ngAfterContentInit()}updateActiveLink(e){var t;if(!this._items)return;const n=this._items.toArray();for(let i=0;i<n.length;i++)if(n[i].active)return this.selectedIndex=i,void this._changeDetectorRef.markForCheck();this.selectedIndex=-1,null===(t=this._inkBar)||void 0===t||t.hide()}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(L.l),L.Qb(D.b,8),L.Qb(L.z),L.Qb(L.h),L.Qb(gF.d),L.Qb(uF.a,8),L.Qb(dF.a,8))},e.\u0275dir=L.Lb({type:e,inputs:{backgroundColor:"backgroundColor",disableRipple:"disableRipple",color:"color"},features:[L.zb]}),e})(),AF=(()=>{class e extends VF{constructor(e,t,n,i,o,a,c){super(e,t,n,i,o,a,c)}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(L.l),L.Qb(D.b,8),L.Qb(L.z),L.Qb(L.h),L.Qb(gF.d),L.Qb(uF.a,8),L.Qb(dF.a,8))},e.\u0275cmp=L.Kb({type:e,selectors:[["","mat-tab-nav-bar",""]],contentQueries:function(e,t,n){var i;1&e&&L.Ib(n,SF,!0),2&e&&L.Dc(i=L.gc())&&(t._items=i)},viewQuery:function(e,t){var n;1&e&&(L.Kc(yF,!0),L.Kc(kF,!0),L.Xc(IF,!0),L.Xc(OF,!0)),2&e&&(L.Dc(n=L.gc())&&(t._tabListContainer=n.first),L.Dc(n=L.gc())&&(t._tabList=n.first),L.Dc(n=L.gc())&&(t._nextPaginator=n.first),L.Dc(n=L.gc())&&(t._previousPaginator=n.first))},hostAttrs:[1,"mat-tab-nav-bar","mat-tab-header"],hostVars:10,hostBindings:function(e,t){2&e&&L.Gb("mat-tab-header-pagination-controls-enabled",t._showPaginationControls)("mat-tab-header-rtl","rtl"==t._getLayoutDirection())("mat-primary","warn"!==t.color&&"accent"!==t.color)("mat-accent","accent"===t.color)("mat-warn","warn"===t.color)},inputs:{color:"color"},exportAs:["matTabNavBar","matTabNav"],features:[L.zb],attrs:PF,ngContentSelectors:jF,decls:12,vars:0,consts:[[1,"tabs-main-group-outer",3,"keydown"],["tabListContainer",""],[1,"tabs-nav",3,"cdkObserveContent"],["tabList",""],[1,"tabs-control"],[1,"btn","btn-light","btn-icon-only",3,"click","mousedown","touchend"],["previousPaginator",""],["src","../../assets/images/common/ico-tabs-prev.png","alt","\uc774\uc804"],[1,"btn","btn-light","btn-icon-only",3,"mousedown","click","touchend"],["nextPaginator",""],["src","../../assets/images/common/ico-tabs-next.png","alt","\ub2e4\uc74c"]],template:function(e,t){1&e&&(L.oc(),L.Wb(0,"div",0,1),L.fc("keydown",(function(e){return t._handleKeydown(e)})),L.Wb(2,"ul",2,3),L.fc("cdkObserveContent",(function(){return t._onContentChanges()})),L.nc(4),L.Vb(),L.Vb(),L.Wb(5,"div",4),L.Wb(6,"a",5,6),L.fc("click",(function(){return t._handlePaginatorClick("before")}))("mousedown",(function(e){return t._handlePaginatorPress("before",e)}))("touchend",(function(){return t._stopInterval()})),L.Rb(8,"img",7),L.Vb(),L.Wb(9,"a",8,9),L.fc("mousedown",(function(e){return t._handlePaginatorPress("after",e)}))("click",(function(){return t._handlePaginatorClick("after")}))("touchend",(function(){return t._stopInterval()})),L.Rb(11,"img",10),L.Vb(),L.Vb())},directives:[E.a],encapsulation:2}),e})();const WF=function(e,t=0){return class extends e{constructor(...e){super(...e),this._tabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?e:t}}}(function(e){return class extends e{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Object(lF.c)(e)}}}((RF=class{},class extends RF{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Object(lF.c)(e)}})));var RF;let FF=(()=>{class e extends WF{constructor(e,t,n,i,o){super(),this._tabNavBar=e,this.elementRef=t,this._focusMonitor=i,this._isActive=!1,this.tabIndex=parseInt(n,10)||0,i.monitor(t)}get active(){return this._isActive}set active(e){e!==this._isActive&&(this._isActive=e,this._tabNavBar.updateActiveLink(this.elementRef))}get rippleDisabled(){return this.disabled||this.disableRipple||this._tabNavBar.disableRipple}focus(){this.elementRef.nativeElement.focus()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this.elementRef)}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(VF),L.Qb(L.l),L.cc("tabindex"),L.Qb(N.d),L.Qb(dF.a,8))},e.\u0275dir=L.Lb({type:e,inputs:{active:"active"},features:[L.zb]}),e})(),SF=(()=>{class e extends FF{constructor(e,t,n,i,o,a,c){super(e,t,o,a,c)}ngOnDestroy(){super.ngOnDestroy()}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(AF),L.Qb(L.l),L.Qb(L.z),L.Qb(uF.a),L.cc("tabindex"),L.Qb(N.d),L.Qb(dF.a,8))},e.\u0275dir=L.Lb({type:e,selectors:[["","mat-tab-link",""],["","matTabLink",""]],hostAttrs:[1,"mat-tab-link","mat-focus-indicator"],hostVars:7,hostBindings:function(e,t){2&e&&(L.Db("aria-current",t.active?"page":null)("aria-disabled",t.disabled)("tabIndex",t.tabIndex),L.Gb("mat-tab-disabled",t.disabled)("active",t.active))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matTabLink"],features:[L.zb]}),e})();function TF(e,t){if(1&e&&(L.Ub(0),L.Pc(1),L.Tb()),2&e){const e=L.hc().$implicit;L.Cb(1),L.Rc(" ",e.cityCode," ")}}function NF(e,t){if(1&e&&(L.Ub(0),L.Pc(1),L.Tb()),2&e){const e=L.hc().$implicit;L.Cb(1),L.Rc(" ",e.cityName," ")}}function EF(e,t){if(1&e&&(L.Ub(0),L.Pc(1),L.Tb()),2&e){const e=L.hc().$implicit;L.Cb(1),L.Rc(" ",e.cityCode," ")}}function MF(e,t){if(1&e&&(L.Ub(0),L.Pc(1),L.Tb()),2&e){const e=L.hc().$implicit;L.Cb(1),L.Rc(" ",e.cityCode," ")}}function DF(e,t){if(1&e&&(L.Wb(0,"li",2),L.Wb(1,"a",3),L.Rb(2,"i"),L.Ub(3,4),L.Nc(4,TF,2,1,"ng-container",5),L.Nc(5,NF,2,1,"ng-container",5),L.Nc(6,EF,2,1,"ng-container",5),L.Nc(7,MF,2,1,"ng-container",5),L.Tb(),L.Vb(),L.Vb()),2&e){const e=t.$implicit,n=L.hc();L.pc("active",e.bookingItemCode===n.bookingItemCode),L.Cb(1),L.pc("routerLink","/reservation/"+n.categoryCodeNameMap[e.itemCategoryCode]+"/"+e.bookingItemCode),L.Cb(1),L.Eb("icon "+n.categoryCodeNameMap[e.itemCategoryCode]),L.Cb(1),L.pc("ngSwitch",e.itemCategoryCode),L.Cb(1),L.pc("ngSwitchCase","IC01"),L.Cb(1),L.pc("ngSwitchCase","IC02"),L.Cb(1),L.pc("ngSwitchCase","IC03"),L.Cb(1),L.pc("ngSwitchCase","IC04")}}let LF=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-tabs-booking-items"]],inputs:{bookingItemCode:"bookingItemCode",bookingItems:"bookingItems",categoryCodeNameMap:"categoryCodeNameMap"},decls:2,vars:1,consts:[["mat-tab-nav-bar","",1,"tabs-main-group","no-btn"],["mat-tab-link","","class","nav-item",3,"active",4,"ngFor","ngForOf"],["mat-tab-link","",1,"nav-item",3,"active"],[1,"nav-link",3,"routerLink"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Nc(1,DF,8,9,"li",1),L.Vb()),2&e&&(L.Cb(1),L.pc("ngForOf",t.bookingItems))},directives:[AF,k.n,SF,dt.e,k.q,k.r],encapsulation:2}),e})();function _F(e,t){if(1&e&&(L.Wb(0,"span"),L.Pc(1),L.Vb()),2&e){const e=L.hc();L.Cb(1),L.Rc("[",e.summary.handleStatusName,"]")}}function $F(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",10),L.fc("click",(function(){return L.Fc(e),L.hc().onClickConsulting()})),L.Pc(1," 1:1("),L.Wb(2,"span",12),L.Pc(3),L.Vb(),L.Pc(4),L.Vb()}if(2&e){const e=L.hc();L.Cb(3),L.Qc(e.summaryButtons.notAnsweredCount||0),L.Cb(1),L.Rc("/",e.summaryButtons.consultingCount||0,") ")}}function BF(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",10),L.fc("click",(function(){return L.Fc(e),L.hc().onClickDetailView()})),L.Pc(1,"Basic & CXL Policy"),L.Vb()}}let wF=(()=>{class e{constructor(){this.clickDetailViewEvent=new L.n,this.clickRetrieveEvent=new L.n,this.clickMypageEvent=new L.n,this.clickUmsEvent=new L.n,this.clickCancelEvent=new L.n,this.clickConsultingEvent=new L.n,this.clickMemoEvent=new L.n,this.clickChangeLogEvent=new L.n,this.clickPolicyMonitoringEvent=new L.n}get summaryButtons(){var e;return(null===(e=this.summary)||void 0===e?void 0:e.buttons)||{}}get isBtms(){return"STN05"===this.summary.stationTypeCode}onClickDetailView(){this.clickDetailViewEvent.emit()}onClickRetrieve(){this.clickRetrieveEvent.emit()}onClickMyPage(){this.clickMypageEvent.emit()}onClickUms(){this.clickUmsEvent.emit()}onClickCancel(){this.clickCancelEvent.emit()}onClickConsulting(){this.clickConsultingEvent.emit()}onClickMemo(){this.clickMemoEvent.emit()}onClickChangeLog(){this.clickChangeLogEvent.emit()}onClickPolicyMonitoring(){this.clickPolicyMonitoringEvent.emit()}onDblclickBookingItemCode(){const e=document.getElementById("booking-item-code"),t=window.getSelection();t.removeAllRanges();const n=document.createRange();n.selectNodeContents(e),t.addRange(n)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-car-summary"]],inputs:{summary:"summary",bookingItemCode:"bookingItemCode",cancelYn:"cancelYn",freeNonCancelableYn:"freeNonCancelableYn"},outputs:{clickDetailViewEvent:"clickDetailViewEvent",clickRetrieveEvent:"clickRetrieveEvent",clickMypageEvent:"clickMypageEvent",clickUmsEvent:"clickUmsEvent",clickCancelEvent:"clickCancelEvent",clickConsultingEvent:"clickConsultingEvent",clickMemoEvent:"clickMemoEvent",clickChangeLogEvent:"clickChangeLogEvent",clickPolicyMonitoringEvent:"clickPolicyMonitoringEvent"},decls:29,vars:7,consts:[[1,"reservation-summary"],[1,"summary-header"],[1,"title"],["id","booking-item-code",3,"dblclick"],[4,"ngIf"],[1,"control"],[1,"label-text"],[1,"summary-body"],[1,"control-button-group"],["class","btn btn-light",3,"click",4,"ngIf"],[1,"btn","btn-light",3,"click"],[1,"btn","btn-reset","ml-auto",3,"disabled","click"],[1,"color-red"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"div",2),L.Wb(3,"span",3),L.fc("dblclick",(function(){return t.onDblclickBookingItemCode()})),L.Pc(4),L.Vb(),L.Nc(5,_F,2,1,"span",4),L.Vb(),L.Wb(6,"ul",5),L.Wb(7,"li"),L.Wb(8,"span",6),L.Pc(9,"BKG Status:"),L.Vb(),L.Wb(10,"div"),L.Pc(11),L.Vb(),L.Vb(),L.Wb(12,"li"),L.Wb(13,"span",6),L.Pc(14,"C.Payment Status:"),L.Vb(),L.Wb(15,"div"),L.Pc(16),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(17,"div",7),L.Wb(18,"div",8),L.Nc(19,$F,5,2,"button",9),L.Wb(20,"button",10),L.fc("click",(function(){return t.onClickMemo()})),L.Pc(21,"Remark"),L.Vb(),L.Wb(22,"button",10),L.fc("click",(function(){return t.onClickUms()})),L.Pc(23,"UMS"),L.Vb(),L.Wb(24,"button",10),L.fc("click",(function(){return t.onClickChangeLog()})),L.Pc(25,"History"),L.Vb(),L.Nc(26,BF,2,0,"button",9),L.Wb(27,"button",11),L.fc("click",(function(){return t.onClickCancel()})),L.Pc(28,"Cancel"),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(4),L.Qc(t.bookingItemCode||"-"),L.Cb(1),L.pc("ngIf",t.summary.handleStatusName),L.Cb(6),L.Qc(t.summary.bookingStatusName),L.Cb(5),L.Qc(t.summary.clientPaymentStatusName),L.Cb(3),L.pc("ngIf",t.summaryButtons.consultingYn),L.Cb(7),L.pc("ngIf",t.summaryButtons.basicInfoYn),L.Cb(1),L.pc("disabled","BKS03"===t.summary.bookingStatusCode))},directives:[k.o],encapsulation:2,changeDetection:0}),e})();var xF=n("B4Xv");function YF(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",8),L.fc("click",(function(){return L.Fc(e),L.hc().onClickVoucher()})),L.Pc(1,"CFM Sheet"),L.Vb()}}function HF(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",8),L.fc("click",(function(){return L.Fc(e),L.hc().onClickInvoice()})),L.Pc(1,"Invoice"),L.Vb()}}function qF(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",8),L.fc("click",(function(){return L.Fc(e),L.hc().onClickRetrieve()})),L.Pc(1,"Retrieve"),L.Vb()}}function UF(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",8),L.fc("click",(function(){return L.Fc(e),L.hc().onClickDetailView()})),L.Pc(1,"View Detail"),L.Vb()}}function QF(e,t){if(1&e&&L.Pc(0),2&e){const e=L.hc(2);L.Rc("(",e.bookingInfo.pickupStateCode,")")}}function GF(e,t){if(1&e&&L.Pc(0),2&e){const e=L.hc(2);L.Rc(" | ",e.bookingInfo.pickupLocationDesc,"")}}function KF(e,t){if(1&e&&L.Pc(0),2&e){const e=L.hc(2);L.Rc("(",e.bookingInfo.returnStateCode,")")}}function zF(e,t){if(1&e&&L.Pc(0),2&e){const e=L.hc(2);L.Rc(" | ",e.bookingInfo.returnLocationDesc,"")}}function XF(e,t){if(1&e&&(L.Wb(0,"tr"),L.Wb(1,"th",11),L.Pc(2,"Total Time to use"),L.Vb(),L.Wb(3,"td"),L.Pc(4),L.ic(5,"minutesToHours"),L.Vb(),L.Vb()),2&e){const e=L.hc(2);L.Cb(4),L.Qc(L.jc(5,1,e.rentDuration))}}function ZF(e,t){if(1&e&&(L.Wb(0,"div",9),L.Wb(1,"table"),L.Wb(2,"caption"),L.Pc(3," \uc608\uc57d\uc815\ubcf4 "),L.Vb(),L.Wb(4,"colgroup"),L.Rb(5,"col",10),L.Rb(6,"col"),L.Vb(),L.Wb(7,"tbody"),L.Wb(8,"tr"),L.Wb(9,"th",11),L.Pc(10,"Pick Up"),L.Vb(),L.Wb(11,"td"),L.Wb(12,"p"),L.Pc(13),L.Nc(14,QF,1,1,"ng-template",12),L.Nc(15,GF,1,1,"ng-template",12),L.Vb(),L.Wb(16,"p"),L.Pc(17),L.Vb(),L.Vb(),L.Vb(),L.Wb(18,"tr"),L.Wb(19,"th",11),L.Pc(20,"Return"),L.Vb(),L.Wb(21,"td"),L.Wb(22,"p"),L.Pc(23),L.Nc(24,KF,1,1,"ng-template",12),L.Nc(25,zF,1,1,"ng-template",12),L.Vb(),L.Wb(26,"p"),L.Pc(27),L.Vb(),L.Vb(),L.Vb(),L.Nc(28,XF,6,3,"tr",13),L.Wb(29,"tr"),L.Wb(30,"th",11),L.Pc(31,"Vehicle Name"),L.Vb(),L.Wb(32,"td"),L.Pc(33),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.hc();L.Cb(13),L.Tc(" [",e.bookingInfo.pickupCountryCode,"",e.bookingInfo.pickupCityCodeIata,"] ",e.bookingInfo.pickupCityNameLn," "),L.Cb(1),L.pc("ngIf",e.bookingInfo.pickupStateCode),L.Cb(1),L.pc("ngIf",e.bookingInfo.pickupLocationDesc),L.Cb(2),L.Sc("",e.bookingInfo.pickupDate," ",e.bookingInfo.pickupTime,""),L.Cb(6),L.Tc(" [",e.bookingInfo.returnCountryCode,"",e.bookingInfo.returnCityCodeIata,"] ",e.bookingInfo.returnCityNameLn," "),L.Cb(1),L.pc("ngIf",e.bookingInfo.returnStateCode),L.Cb(1),L.pc("ngIf",e.bookingInfo.returnLocationDesc),L.Cb(2),L.Sc("",e.bookingInfo.returnDate," ",e.bookingInfo.returnTime,""),L.Cb(1),L.pc("ngIf","00"!==e.rentDuration),L.Cb(5),L.Qc(e.bookingInfo.vehicleNameLn||e.bookingInfo.vehicleNameEn||"-")}}let JF=(()=>{class e{constructor(){this.clicInvoiceEvent=new L.n,this.clickVoucherEvent=new L.n,this.clickDetailViewEvent=new L.n,this.clickRetrieveEvent=new L.n,this.isActiveToggle=!0}get bookingInfoButtons(){var e;return(null===(e=this.bookingInfo)||void 0===e?void 0:e.buttons)||{}}get rentDuration(){const{pickupDate:e,pickupTime:t,returnDate:n,returnTime:i}=this.bookingInfo;if(e&&t&&n&&i){const o=K()(e+" "+t),a=K()(n+" "+i);return o.isValid()&&a.isValid()?a.diff(o,"minutes").toString():null}return null}onClickVoucher(){this.clickVoucherEvent.emit()}onClickInvoice(){this.clicInvoiceEvent.emit()}onClickDetailView(){this.clickDetailViewEvent.emit()}onClickToggle(){this.isActiveToggle=!this.isActiveToggle}onClickRetrieve(){this.clickRetrieveEvent.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-car-booking-info"]],inputs:{bookingInfo:"bookingInfo",summary:"summary"},outputs:{clicInvoiceEvent:"clicInvoiceEvent",clickVoucherEvent:"clickVoucherEvent",clickDetailViewEvent:"clickDetailViewEvent",clickRetrieveEvent:"clickRetrieveEvent"},decls:11,vars:7,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title","toggle",3,"click"],[1,"control"],["class","btn btn-outline-dark sm",3,"click",4,"ngIf","ngIfElse"],["invoiceBtn",""],["class","btn btn-outline-dark sm",3,"click",4,"ngIf"],["class","table table-bordered table-responsive",4,"ngIf"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"table","table-bordered","table-responsive"],["width","130px"],["scope","row",1,"th-bg"],[3,"ngIf"],[4,"ngIf"]],template:function(e,t){if(1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"a",2),L.fc("click",(function(){return t.onClickToggle()})),L.Pc(3,"Booking Detail"),L.Vb(),L.Wb(4,"div",3),L.Nc(5,YF,2,0,"button",4),L.Nc(6,HF,2,0,"ng-template",null,5,L.Oc),L.Nc(8,qF,2,0,"button",6),L.Nc(9,UF,2,0,"button",6),L.Vb(),L.Vb(),L.Nc(10,ZF,34,16,"div",7),L.Vb()),2&e){const e=L.Ec(7);L.Cb(2),L.Gb("active",t.isActiveToggle),L.Cb(3),L.pc("ngIf",t.bookingInfoButtons.confirmSheetYn||"BKS18"===t.summary.bookingStatusCode)("ngIfElse",e),L.Cb(3),L.pc("ngIf",t.bookingInfoButtons.retrieveYn),L.Cb(1),L.pc("ngIf",t.bookingInfoButtons.detailViewYn),L.Cb(1),L.pc("ngIf",t.isActiveToggle)}},directives:[k.o],pipes:[xF.c],encapsulation:2,changeDetection:0}),e})();function eS(e,t){if(1&e&&(L.Wb(0,"div",4),L.Wb(1,"table"),L.Wb(2,"caption"),L.Pc(3," \uc6b4\uc804\uc790\uc815\ubcf4 "),L.Vb(),L.Wb(4,"colgroup"),L.Rb(5,"col"),L.Rb(6,"col"),L.Rb(7,"col"),L.Rb(8,"col"),L.Rb(9,"col"),L.Rb(10,"col"),L.Vb(),L.Wb(11,"thead"),L.Wb(12,"tr"),L.Wb(13,"th",5),L.Pc(14,"No."),L.Vb(),L.Wb(15,"th",5),L.Pc(16,"Age"),L.Vb(),L.Wb(17,"th",5),L.Pc(18,"Gender"),L.Vb(),L.Wb(19,"th",5),L.Pc(20,"Name(KO)"),L.Vb(),L.Wb(21,"th",5),L.Pc(22,"Last Name / First Name(EN)"),L.Vb(),L.Wb(23,"th",5),L.Pc(24,"Birthday"),L.Vb(),L.Vb(),L.Vb(),L.Wb(25,"tbody"),L.Wb(26,"tr"),L.Wb(27,"td",6),L.Pc(28,"1"),L.Vb(),L.Wb(29,"td",6),L.Pc(30,"ADT"),L.Vb(),L.Wb(31,"td",6),L.Pc(32),L.Vb(),L.Wb(33,"td",6),L.Pc(34),L.Vb(),L.Wb(35,"td",6),L.Pc(36),L.Vb(),L.Wb(37,"td",6),L.Pc(38),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.hc();L.Cb(32),L.Qc(e.driverInfo.gender),L.Cb(2),L.Qc(e.driverInfo.name||"-"),L.Cb(2),L.Sc("",e.driverInfo.lastName," / ",e.driverInfo.firstName,""),L.Cb(2),L.Qc(e.driverInfo.birthday||"-")}}let tS=(()=>{class e{constructor(){this.isActiveToggle=!0}ngOnInit(){}onClickToggle(){this.isActiveToggle=!this.isActiveToggle}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-car-driver"]],inputs:{driverInfo:"driverInfo"},decls:5,vars:3,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title","toggle",3,"click"],["class","table table-bordered table-responsive",4,"ngIf"],[1,"table","table-bordered","table-responsive"],["scope","col",1,"align-c"],[1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"a",2),L.fc("click",(function(){return t.onClickToggle()})),L.Pc(3,"Driver"),L.Vb(),L.Vb(),L.Nc(4,eS,39,5,"div",3),L.Vb()),2&e&&(L.Cb(2),L.Gb("active",t.isActiveToggle),L.Cb(2),L.pc("ngIf",t.isActiveToggle))},directives:[k.o],encapsulation:2,changeDetection:0}),e})();function nS(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",5),L.fc("click",(function(){return L.Fc(e),L.hc().clickPgCardEvent.emit()})),L.Pc(1,"CC PG Manual"),L.Vb()}}function iS(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",5),L.fc("click",(function(){return L.Fc(e),L.hc().clickPgBankEvent.emit()})),L.Pc(1,"Virtual Bank"),L.Vb()}}function oS(e,t){if(1&e&&(L.Wb(0,"div",7),L.Wb(1,"table"),L.Wb(2,"caption"),L.Pc(3," \uc694\uae08\uc815\ubcf4 "),L.Vb(),L.Wb(4,"colgroup"),L.Rb(5,"col"),L.Rb(6,"col"),L.Rb(7,"col"),L.Rb(8,"col"),L.Rb(9,"col"),L.Vb(),L.Wb(10,"thead"),L.Wb(11,"tr"),L.Wb(12,"th",8),L.Pc(13,"B. Curr"),L.Vb(),L.Wb(14,"th",8),L.Pc(15,"B.Product"),L.Vb(),L.Wb(16,"th",8),L.Pc(17,"B. CXL Charge"),L.Vb(),L.Wb(18,"th",8),L.Pc(19,"B. Sum"),L.Vb(),L.Wb(20,"th",8),L.Pc(21,"B. Balance"),L.Vb(),L.Vb(),L.Vb(),L.Wb(22,"tbody"),L.Wb(23,"tr"),L.Wb(24,"td",9),L.Pc(25),L.Vb(),L.Wb(26,"td",10),L.Pc(27),L.ic(28,"number"),L.Vb(),L.Wb(29,"td",10),L.Pc(30),L.ic(31,"number"),L.Vb(),L.Wb(32,"td",10),L.Pc(33),L.ic(34,"number"),L.Vb(),L.Wb(35,"td",10),L.Pc(36),L.ic(37,"number"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.hc();L.Cb(25),L.Qc(e.priceInfo.billingCurrencyCode),L.Cb(2),L.Qc(L.jc(28,5,e.priceInfo.productAmount)),L.Cb(3),L.Qc(L.jc(31,7,e.priceInfo.cancelChargeAmount)),L.Cb(3),L.Qc(L.jc(34,9,e.priceInfo.sumAmount)),L.Cb(3),L.Qc(L.jc(37,11,e.priceInfo.balanceAmount))}}let aS=(()=>{class e{constructor(){this.clickPriceDetailViewEvent=new L.n,this.clickPgCardEvent=new L.n,this.clickPgBankEvent=new L.n,this.isActiveToggle=!0}get isVendorAmadeus(){var e;return 900001===(null===(e=this.bookingInfo)||void 0===e?void 0:e.vendorCompCode)}get priceButtons(){var e;return(null===(e=this.priceInfo)||void 0===e?void 0:e.buttons)||{}}checkPrice(e){return null===e?"-":e}onClickToggle(){this.isActiveToggle=!this.isActiveToggle}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-car-price"]],inputs:{bookingInfo:"bookingInfo",priceInfo:"priceInfo"},outputs:{clickPriceDetailViewEvent:"clickPriceDetailViewEvent",clickPgCardEvent:"clickPgCardEvent",clickPgBankEvent:"clickPgBankEvent"},decls:10,vars:5,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title","toggle",3,"click"],[1,"control"],["class","btn btn-outline-dark sm",3,"click",4,"ngIf"],[1,"btn","btn-outline-dark","sm",3,"click"],["class","table table-bordered table-responsive",4,"ngIf"],[1,"table","table-bordered","table-responsive"],["scope","col",1,"align-c"],[1,"align-c"],[1,"align-r"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"a",2),L.fc("click",(function(){return t.onClickToggle()})),L.Pc(3,"Selling Rate"),L.Vb(),L.Wb(4,"div",3),L.Nc(5,nS,2,0,"button",4),L.Nc(6,iS,2,0,"button",4),L.Wb(7,"button",5),L.fc("click",(function(){return t.clickPriceDetailViewEvent.emit()})),L.Pc(8,"View Detail"),L.Vb(),L.Vb(),L.Vb(),L.Nc(9,oS,38,13,"div",6),L.Vb()),2&e&&(L.Cb(2),L.Gb("active",t.isActiveToggle),L.Cb(3),L.pc("ngIf",!t.isVendorAmadeus),L.Cb(1),L.pc("ngIf",!t.isVendorAmadeus),L.Cb(3),L.pc("ngIf",t.isActiveToggle))},directives:[k.o],pipes:[k.f],encapsulation:2,changeDetection:0}),e})();var cS=n("Onn4");function sS(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",5),L.fc("click",(function(){return L.Fc(e),L.hc().onClickCreditCardCancel()})),L.Pc(1,"Payment Cancel"),L.Vb()}}function rS(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"A"),L.Vb())}function lS(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"C"),L.Vb())}function dS(e,t){if(1&e){const e=L.Xb();L.Wb(0,"tr"),L.Wb(1,"td"),L.Wb(2,"app-radio",12),L.fc("ngModelChange",(function(t){return L.Fc(e),L.hc(3).selectedPaymentSeq=t}))("onClick",(function(){L.Fc(e);const t=L.hc().$implicit;return L.hc(2).onClickPayment(t)})),L.Vb(),L.Vb(),L.Wb(3,"td",13),L.Nc(4,rS,2,0,"span",11),L.Nc(5,lS,2,0,"span",11),L.Vb(),L.Wb(6,"td",13),L.Pc(7),L.Vb(),L.Wb(8,"td",13),L.Wb(9,"a",14),L.fc("click",(function(){L.Fc(e);const t=L.hc().$implicit,n=L.hc(2);return n.onClickCardReceipt(t,n.bookingInfo)})),L.Pc(10),L.Vb(),L.Vb(),L.Wb(11,"td",13),L.Wb(12,"a",14),L.fc("click",(function(){L.Fc(e);const t=L.hc().$implicit,n=L.hc(2);return n.onClickCardReceipt(t,n.bookingInfo)})),L.Pc(13),L.Vb(),L.Vb(),L.Wb(14,"td",13),L.Pc(15),L.Vb(),L.Wb(16,"td",15),L.Pc(17),L.ic(18,"number"),L.Vb(),L.Vb()}if(2&e){const e=L.hc().$implicit,t=L.hc(2);L.Cb(2),L.pc("value",e.paymentSeq)("ngModel",t.selectedPaymentSeq),L.Cb(2),L.pc("ngIf","A"===e.approvalOrCancel),L.Cb(1),L.pc("ngIf","C"===e.approvalOrCancel),L.Cb(2),L.Qc((null==e?null:e.payOutDepositTypeName)||(null==e?null:e.paidMethodName)),L.Cb(3),L.Qc(null==e?null:e.cardAccountInfo),L.Cb(3),L.Qc(null==e?null:e.approvalNo),L.Cb(1),L.Gb("color-red","C"===e.approvalOrCancel),L.Cb(1),L.Qc(null==e?null:e.paidDatetime),L.Cb(1),L.Gb("color-red","C"===e.approvalOrCancel),L.Cb(1),L.Qc(L.jc(18,13,null==e?null:e.paidAmount))}}function bS(e,t){if(1&e&&(L.Ub(0),L.Nc(1,dS,19,15,"tr",11),L.Tb()),2&e){const e=t.index,n=L.hc(2);L.Cb(1),L.pc("ngIf",n.isActiveToggle||0===e)}}function uS(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",16),L.Pc(3,"There is no payment."),L.Vb(),L.Vb(),L.Tb())}function pS(e,t){if(1&e&&(L.Wb(0,"div",7),L.Wb(1,"table"),L.Wb(2,"caption"),L.Pc(3," \uacb0\uc81c\uc815\ubcf4 "),L.Vb(),L.Wb(4,"colgroup"),L.Rb(5,"col",8),L.Rb(6,"col"),L.Rb(7,"col"),L.Rb(8,"col"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Vb(),L.Wb(12,"thead"),L.Wb(13,"tr"),L.Rb(14,"th",9),L.Wb(15,"th",9),L.Pc(16,"A/C"),L.Vb(),L.Wb(17,"th",9),L.Pc(18,"Payment Type"),L.Vb(),L.Wb(19,"th",9),L.Pc(20,"Detail Info"),L.Vb(),L.Wb(21,"th",9),L.Pc(22,"Approval No."),L.Vb(),L.Wb(23,"th",9),L.Pc(24,"App. or CXL Date"),L.Vb(),L.Wb(25,"th",9),L.Pc(26,"App. or CXL Amts"),L.Vb(),L.Vb(),L.Vb(),L.Wb(27,"tbody"),L.Nc(28,bS,2,1,"ng-container",10),L.Nc(29,uS,4,0,"ng-container",11),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.hc();L.Cb(28),L.pc("ngForOf",e.payments),L.Cb(1),L.pc("ngIf",0===e.payments.length)}}let mS=(()=>{class e{constructor(e){this.alertService=e,this.clickCreditCardCancelEvent=new L.n,this.clickCouponPointCancelEvent=new L.n,this.clickCashReceiptIssueEvent=new L.n,this.clickCashReceiptViewEvent=new L.n,this.clickPointPaymentEvent=new L.n,this.clickPaymentManualEvent=new L.n,this.selectPayment=new L.n,this.openCardReceiptEvent=new L.n,this.clickRefundRegisterEvent=new L.n,this.clickDeletePaymentEvent=new L.n,this.clickCreatePaymentEvent=new L.n,this.isActiveToggle=!0}get payments(){var e;return(null===(e=this.paymentInfo)||void 0===e?void 0:e.payments)||[]}get cashReceipts(){var e;return null===(e=this.paymentInfo)||void 0===e?void 0:e.cashReceipts}get summary(){var e;return null===(e=this.paymentInfo)||void 0===e?void 0:e.summary}get paymentButtons(){var e;return null===(e=this.paymentInfo)||void 0===e?void 0:e.buttons}onClickToggle(){this.isActiveToggle=!this.isActiveToggle}onClickCreditCardCancel(){var e,t;if(!this.selectedPaymentSeq)return void this.alertService.alert("Please select the payment information to cancel first.");const n=Q.find(this.payments,e=>e.paymentSeq===this.selectedPaymentSeq);if("C"===n.approvalOrCancel)return void this.alertService.alert("The payment has already been canceled.");if("PGCI"===n.paidMethodCode)return void this.alertService.alert("Virtual accounts cannot be canceled.");if("CCCA"===n.paidMethodCode)return void this.alertService.alert("Cash is irrevocable.");if("CCGF"===n.paidMethodCode)return void this.alertService.alert("Gift certificates cannot be canceled. \nCancellation of registered gift certificate contents must be done by deleting, and refund must be done by manual registration.");if(Q.isNil(n.paidDatetime))return void this.alertService.alert("No amount has been authorized.");const{relatedPaymentSeq:i}=n;(null===(t=null===(e=this.payments)||void 0===e?void 0:e.filter(e=>e.relatedPaymentSeq===i))||void 0===t?void 0:t.reduce((e,t)=>e+t.paidAmount,0))<=0?this.alertService.alert("The payment has already been canceled and there are no payments left to cancel."):"CCCP"!==n.paidMethodCode&&"CCPT"!==n.paidMethodCode?this.clickCreditCardCancelEvent.emit():this.clickCouponPointCancelEvent.emit()}onClickCashReceiptIssue(){if(!this.selectedPaymentSeq)return void this.alertService.alert("Please select the payment information to issue the cash receipt first.");const e=Q.find(this.payments,e=>e.paymentSeq===this.selectedPaymentSeq);if("PGCI"!==e.depositTypeCode&&"CCCA"!==e.depositTypeCode&&"CCGF"!==e.depositTypeCode&&"CCDP"!==e.depositTypeCode)return void this.alertService.alert("You can only issue cash receipts for payments made with cash, virtual account, or gift certificate bank deposits.");const t=this.cashReceipts.reduce((e,t)=>(!1===t.cashReceiptCancelYn&&(e+=t.cashPaidAmount),e),0),n=this.payments.filter(t=>"PGCI"===t.depositTypeCode||"CCCA"===t.depositTypeCode||"CCGF"===t.depositTypeCode||"CCDP"===e.depositTypeCode).reduce((e,t)=>(Q.isNil(t.paidDatetime)||(e+=t.paidAmount),e),0);this.clickCashReceiptIssueEvent.emit(n-t)}onClickPayment(e){this.selectPayment.emit(e)}onClickCardReceipt(e,t){const{paymentSeq:n}=e;this.openCardReceiptEvent.emit({paymentSeq:n,itemCategoryCode:"IC03",bookingInfo:t})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-car-payment"]],inputs:{bookingInfo:"bookingInfo",paymentInfo:"paymentInfo",plFinishYn:"plFinishYn"},outputs:{clickCreditCardCancelEvent:"clickCreditCardCancelEvent",clickCouponPointCancelEvent:"clickCouponPointCancelEvent",clickCashReceiptIssueEvent:"clickCashReceiptIssueEvent",clickCashReceiptViewEvent:"clickCashReceiptViewEvent",clickPointPaymentEvent:"clickPointPaymentEvent",clickPaymentManualEvent:"clickPaymentManualEvent",selectPayment:"selectPayment",openCardReceiptEvent:"openCardReceiptEvent",clickRefundRegisterEvent:"clickRefundRegisterEvent",clickDeletePaymentEvent:"clickDeletePaymentEvent",clickCreatePaymentEvent:"clickCreatePaymentEvent"},decls:9,vars:4,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title","toggle",3,"click"],[1,"control"],["class","btn btn-outline-dark",3,"click",4,"ngIf"],[1,"btn","btn-outline-dark",3,"click"],["class","table table-bordered table-responsive",4,"ngIf"],[1,"table","table-bordered","table-responsive"],["width","43px"],["scope","col",1,"align-c"],[4,"ngFor","ngForOf"],[4,"ngIf"],["styleClass","only",3,"value","ngModel","ngModelChange","onClick"],[1,"align-c"],[1,"text-underline",3,"click"],[1,"align-r"],["colspan","11",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"a",2),L.fc("click",(function(){return t.onClickToggle()})),L.Pc(3,"Payments"),L.Vb(),L.Wb(4,"div",3),L.Nc(5,sS,2,0,"button",4),L.Wb(6,"button",5),L.fc("click",(function(){return t.onClickCashReceiptIssue()})),L.Pc(7,"Issue Cash Receipt"),L.Vb(),L.Vb(),L.Vb(),L.Nc(8,pS,30,2,"div",6),L.Vb()),2&e&&(L.Cb(2),L.Gb("active",t.isActiveToggle),L.Cb(3),L.pc("ngIf",!t.plFinishYn),L.Cb(3),L.pc("ngIf",t.isActiveToggle))},directives:[k.o,k.n,cS.a,I.r,I.u],pipes:[k.f],encapsulation:2,changeDetection:0}),e})();function hS(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"A"),L.Vb())}function gS(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"C"),L.Vb())}function fS(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td"),L.Wb(3,"app-radio",11),L.fc("ngModelChange",(function(t){return L.Fc(e),L.hc(2).selectedReceiptSeq=t})),L.Vb(),L.Vb(),L.Wb(4,"td",12),L.Nc(5,hS,2,0,"span",10),L.Nc(6,gS,2,0,"span",10),L.Vb(),L.Wb(7,"td",13),L.Pc(8),L.ic(9,"number"),L.Vb(),L.Wb(10,"td",12),L.Pc(11),L.Vb(),L.Wb(12,"td",12),L.Wb(13,"a",14),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc(2).onClickOpenReceipt(null==n?null:n.receiptSeq)})),L.Pc(14),L.Vb(),L.Vb(),L.Wb(15,"td",12),L.Pc(16),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,n=L.hc(2);L.Cb(3),L.pc("value",e.receiptSeq)("ngModel",n.selectedReceiptSeq),L.Cb(1),L.Gb("color-red",!0===(null==e?null:e.cashReceiptCancelYn)),L.Cb(1),L.pc("ngIf",!1===(null==e?null:e.cashReceiptCancelYn)),L.Cb(1),L.pc("ngIf",!0===(null==e?null:e.cashReceiptCancelYn)),L.Cb(1),L.Gb("color-red",!0===(null==e?null:e.cashReceiptCancelYn)),L.Cb(1),L.Qc(L.jc(9,14,null==e?null:e.cashPaidAmount)),L.Cb(2),L.Gb("color-red",!0===(null==e?null:e.cashReceiptCancelYn)),L.Cb(1),L.Qc(null==e?null:e.issueDatetime),L.Cb(3),L.Qc(null==e?null:e.approvalNo),L.Cb(2),L.Qc(null==e?null:e.firstInsertName)}}function vS(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",15),L.Pc(3,"There is no cash receipts."),L.Vb(),L.Vb(),L.Tb())}function CS(e,t){if(1&e&&(L.Wb(0,"div",6),L.Wb(1,"table"),L.Wb(2,"caption"),L.Pc(3," \uacb0\uc81c\uc815\ubcf4 "),L.Vb(),L.Wb(4,"colgroup"),L.Rb(5,"col",7),L.Rb(6,"col"),L.Rb(7,"col"),L.Rb(8,"col"),L.Rb(9,"col"),L.Rb(10,"col"),L.Vb(),L.Wb(11,"thead"),L.Wb(12,"tr"),L.Rb(13,"th",8),L.Wb(14,"th",8),L.Pc(15,"Status"),L.Vb(),L.Wb(16,"th",8),L.Pc(17,"App/CXL Amts"),L.Vb(),L.Wb(18,"th",8),L.Pc(19,"Issued/CXL Date"),L.Vb(),L.Wb(20,"th",8),L.Pc(21,"Approval No."),L.Vb(),L.Wb(22,"th",8),L.Pc(23,"User"),L.Vb(),L.Vb(),L.Vb(),L.Wb(24,"tbody"),L.Nc(25,fS,17,16,"ng-container",9),L.Nc(26,vS,4,0,"ng-container",10),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.hc();L.Cb(25),L.pc("ngForOf",e.cashReceipts),L.Cb(1),L.pc("ngIf",0===e.cashReceipts.length)}}let yS=(()=>{class e{constructor(e){this.alertService=e,this.clickCashReceiptCancelEvent=new L.n,this.openReceiptEvent=new L.n,this.isActiveToggle=!0}get cashReceipts(){var e;return(null===(e=this.paymentInfo)||void 0===e?void 0:e.cashReceipts)||[]}get paymentButtons(){var e;return null===(e=this.paymentInfo)||void 0===e?void 0:e.buttons}onClickToggle(){this.isActiveToggle=!this.isActiveToggle}onClickCashReceiptCancel(){this.selectedReceiptSeq?this.clickCashReceiptCancelEvent.emit({receiptSeqs:[this.selectedReceiptSeq]}):this.alertService.alert("Please select the payment information to cancel the cash receipt first.")}onClickOpenReceipt(e){Q.isNil(e)?this.alertService.alert("There is no data to look up cash receipts."):this.openReceiptEvent.emit({receiptSeq:e})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-car-cash-receipts"]],inputs:{paymentInfo:"paymentInfo"},outputs:{clickCashReceiptCancelEvent:"clickCashReceiptCancelEvent",openReceiptEvent:"openReceiptEvent"},decls:8,vars:3,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title","toggle",3,"click"],[1,"control"],[1,"btn","btn-outline-dark","sm",3,"click"],["class","table table-bordered table-responsive",4,"ngIf"],[1,"table","table-bordered","table-responsive"],["width","42px"],["scope","col",1,"align-c"],[4,"ngFor","ngForOf"],[4,"ngIf"],["styleClass","only",3,"value","ngModel","ngModelChange"],[1,"align-c"],[1,"align-r"],[1,"text-underline",3,"click"],["colspan","6",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"a",2),L.fc("click",(function(){return t.onClickToggle()})),L.Pc(3,"Cash Receipt Issued List"),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"button",4),L.fc("click",(function(){return t.onClickCashReceiptCancel()})),L.Pc(6,"Cancel"),L.Vb(),L.Vb(),L.Vb(),L.Nc(7,CS,27,2,"div",5),L.Vb()),2&e&&(L.Cb(2),L.Gb("active",t.isActiveToggle),L.Cb(5),L.pc("ngIf",t.isActiveToggle))},directives:[k.o,k.n,cS.a,I.r,I.u],pipes:[k.f],encapsulation:2,changeDetection:0}),e})(),kS=(()=>{class e{constructor(e){this.fb=e}generateCreditCardCancelPutForm(){return this.fb.group({paymentSeq:[null],pgTransactionId:[null],approvalNo:[null],paidDatetime:[null],paidAmount:[null],cancelAmount:[null,[I.z.required]]})}initCreditCardCancelPutForm(){return{paymentSeq:null,pgTransactionId:null,approvalNo:null,paidDatetime:null,paidAmount:null,cancelAmount:null}}}return e.\u0275fac=function(t){return new(t||e)(L.bc(I.f))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const IS=function(){return{standalone:!0}};let OS=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.closeEvent=new L.n,this.submitEvent=new L.n,this.isClickCancel=!1,this.validTxtFlag=!1,this.putForm=e.generateCreditCardCancelPutForm()}get paymentInfo(){return this._paymentInfo}set paymentInfo(e){this._paymentInfo=e,this.putFormData=this._convertItemToForm(e)}get isTotalAmount(){var e;return this._calculatePaidAmount()===((null===(e=this.putForm)||void 0===e?void 0:e.get("cancelAmount").value)||0)}get balanceAmount(){var e;return this._calculatePaidAmount()-((null===(e=this.putForm)||void 0===e?void 0:e.get("cancelAmount").value)||0)}ngOnInit(){}ngOnDestroy(){}onClose(){this.closeEvent.emit()}onSubmit(){if(this.putForm.invalid)return void(this.checkValid=!0);if(this.balanceAmount<0)return this.alertService.alertCenter({message:"Please double check the cancellation amount. <br/> The amount must not exceed the balance.",accept:()=>{},reject:()=>{}}),void(this.validTxtFlag=!0);const{cancelAmount:e}=this.putForm.value||0;let t=Object.assign(Object.assign({},this.putForm.value),{cancelAmount:-e});t=Q.omitBy(t,e=>Q.isNil(e)||""===e),this.isClickCancel=!0,this.validTxtFlag=!1,this.submitEvent.emit(t)}onChangeTotalAmount(e){if(e){const e=this._calculatePaidAmount();this.putForm.get("cancelAmount").setValue(e)}else this.putForm.get("cancelAmount").setValue(null)}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}_calculatePaidAmount(){var e,t;const{approvalNo:n}=this.paymentInfo;let i=0;return i=Q.isNil(n)?this.paymentInfo.paidAmount:null===(t=null===(e=this.payments)||void 0===e?void 0:e.filter(e=>e.approvalNo===n))||void 0===t?void 0:t.reduce((e,t)=>e+t.paidAmount,0),i}_convertItemToForm(e){if(!e)return this._dataService.initCreditCardCancelPutForm();const{paymentSeq:t,pgTransactionId:n,approvalNo:i,paidDatetime:o,paidAmount:a}=e;return{paymentSeq:t,pgTransactionId:n,approvalNo:i,paidDatetime:o,paidAmount:a}}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(kS),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-credit-card-cancel"]],inputs:{payments:"payments",paymentInfo:"paymentInfo"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent"},decls:50,vars:15,consts:[[1,"component-wrap"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","150px"],["scope","row",1,"th-bg"],[1,"form-group"],["formControlName","cancelAmount","valueType","number","inputFormat","currency",3,"isInvalid"],["binary","true","label","All",1,"ml5",3,"ngModel","ngModelOptions","onChange"],[1,"mt5"],[1,"font-size-xs","color-danger"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm",3,"disabled"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"form",1),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(2,"div",2),L.Wb(3,"table"),L.Wb(4,"caption"),L.Pc(5," Cancellation of Approval "),L.Vb(),L.Wb(6,"colgroup"),L.Rb(7,"col",3),L.Rb(8,"col"),L.Vb(),L.Wb(9,"tbody"),L.Wb(10,"tr"),L.Wb(11,"th",4),L.Pc(12,"Approved No."),L.Vb(),L.Wb(13,"td"),L.Pc(14),L.Vb(),L.Vb(),L.Wb(15,"tr"),L.Wb(16,"th",4),L.Pc(17,"Approved Date"),L.Vb(),L.Wb(18,"td"),L.Pc(19),L.Vb(),L.Vb(),L.Wb(20,"tr"),L.Wb(21,"th",4),L.Wb(22,"sup"),L.Pc(23,"Approved Amounts"),L.Vb(),L.Vb(),L.Wb(24,"td"),L.Pc(25),L.ic(26,"number"),L.Vb(),L.Vb(),L.Wb(27,"tr"),L.Wb(28,"th",4),L.Wb(29,"sup"),L.Pc(30,"RQ to Cancel Amounts"),L.Vb(),L.Vb(),L.Wb(31,"td"),L.Wb(32,"div",5),L.Rb(33,"app-input-text",6),L.Wb(34,"app-checkbox",7),L.fc("onChange",(function(e){return t.onChangeTotalAmount(e)})),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(35,"tr"),L.Wb(36,"th",4),L.Wb(37,"sup"),L.Pc(38,"Balance"),L.Vb(),L.Vb(),L.Wb(39,"td"),L.Pc(40),L.ic(41,"number"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(42,"div",8),L.Wb(43,"p",9),L.Pc(44,"* Partial cancellation may not be available depending on the type of credit card. "),L.Vb(),L.Vb(),L.Wb(45,"div",10),L.Wb(46,"button",11),L.Pc(47,"Payment Cancel"),L.Vb(),L.Wb(48,"button",12),L.fc("click",(function(){return t.onClose()})),L.Pc(49,"Close"),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(13),L.Qc(t.putForm.get("approvalNo").value),L.Cb(5),L.Qc(t.putForm.get("paidDatetime").value),L.Cb(6),L.Qc(L.jc(26,10,t.putForm.get("paidAmount").value)),L.Cb(8),L.pc("isInvalid",t.validTxtFlag),L.Cb(1),L.pc("ngModel",t.isTotalAmount)("ngModelOptions",L.tc(14,IS)),L.Cb(6),L.Qc(L.jc(41,12,t.balanceAmount)),L.Cb(6),L.pc("disabled",t.isClickCancel))},directives:[I.B,I.s,I.k,J.a,ee.a,I.r,I.i,Kt.a,I.u],pipes:[k.f],encapsulation:2,changeDetection:0}),e})(),PS=(()=>{class e{constructor(){this.closeEvent=new L.n,this.cancelCouponEvent=new L.n,this.cancelPointEvent=new L.n}get paymentInfo(){return this._paymentInfo}set paymentInfo(e){this._paymentInfo=e}ngOnInit(){}ngOnDestroy(){}onClose(){this.closeEvent.emit()}onSubmit(){const{depositTypeCode:e,paidMethodCode:t,paymentSeq:n,pgTransactionId:i,bookingTravelerCode:o}=this.paymentInfo;"CCCP"===e||"CCCP"===t?this.cancelCouponEvent.emit({paymentSeq:n,bookingTravelerCode:o}):"CCPT"!==e&&"CCPT"!==t||this.cancelPointEvent.emit({paymentSeq:n,pgTransactionId:i})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-coupon-point-payment-cancel"]],inputs:{paymentInfo:"paymentInfo"},outputs:{closeEvent:"closeEvent",cancelCouponEvent:"cancelCouponEvent",cancelPointEvent:"cancelPointEvent"},decls:40,vars:10,consts:[[1,"component-wrap"],[1,"table","table-bordered"],["width","150px"],["scope","row",1,"th-bg"],[1,"mt5"],[1,"font-size-xs","color-danger"],[1,"button-area","align-c","mt10"],["type","button",1,"btn","btn-secondary","sm",3,"click"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"table"),L.Wb(3,"caption"),L.Pc(4," \ucfe0\ud3f0/\ud3ec\uc778\ud2b8 \uc2b9\uc778\ucde8\uc18c "),L.Vb(),L.Wb(5,"colgroup"),L.Rb(6,"col",2),L.Rb(7,"col"),L.Vb(),L.Wb(8,"tbody"),L.Wb(9,"tr"),L.Wb(10,"th",3),L.Pc(11,"\uacb0\uc81c\uc77c\uc790"),L.Vb(),L.Wb(12,"td"),L.Pc(13),L.Vb(),L.Vb(),L.Wb(14,"tr"),L.Wb(15,"th",3),L.Pc(16,"\uacb0\uc81c\uae08\uc561"),L.Vb(),L.Wb(17,"td"),L.Pc(18),L.ic(19,"number"),L.Vb(),L.Vb(),L.Wb(20,"tr"),L.Wb(21,"th",3),L.Pc(22,"\ucde8\uc18c\uc694\uccad\uae08\uc561"),L.Vb(),L.Wb(23,"td"),L.Pc(24),L.ic(25,"number"),L.Vb(),L.Vb(),L.Wb(26,"tr"),L.Wb(27,"th",3),L.Pc(28,"\uc794\uc561"),L.Vb(),L.Wb(29,"td"),L.Pc(30),L.ic(31,"number"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(32,"div",4),L.Wb(33,"p",5),L.Pc(34,"* \ubd80\ubd84\ucde8\uc18c \ubd88\uac00\ub2a5, \uc804\uccb4\uae08\uc561 \ucde8\uc18c\ub9cc \uc801\uc6a9 \uac00\ub2a5."),L.Vb(),L.Vb(),L.Wb(35,"div",6),L.Wb(36,"button",7),L.fc("click",(function(){return t.onSubmit()})),L.Pc(37,"\uacb0\uc81c\ucde8\uc18c"),L.Vb(),L.Wb(38,"button",8),L.fc("click",(function(){return t.onClose()})),L.Pc(39,"\ub2eb\uae30"),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(13),L.Qc(null==t.paymentInfo?null:t.paymentInfo.paidDatetime),L.Cb(5),L.Qc(L.jc(19,4,null==t.paymentInfo?null:t.paymentInfo.paidAmount)),L.Cb(6),L.Qc(L.jc(25,6,null==t.paymentInfo?null:t.paymentInfo.paidAmount)),L.Cb(6),L.Qc(L.jc(31,8,0)))},pipes:[k.f],encapsulation:2,changeDetection:0}),e})(),jS=(()=>{class e{constructor(e){this.fb=e,this.generateReservationPointPaymentPutForm=()=>this.fb.group({paidAmount:[null,[I.z.required]]}),this.initReservationPointPaymentPutForm=()=>({paidAmount:null})}}return e.\u0275fac=function(t){return new(t||e)(L.bc(I.f))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),VS=(()=>{class e{constructor(e){this._dataService=e,this.submitEvent=new L.n,this.closeEvent=new L.n,this.putForm=e.generateReservationPointPaymentPutForm(),this.putFormData=e.initReservationPointPaymentPutForm()}ngOnInit(){this._initThisState()}ngOnDestroy(){}onSubmit(){if(this.putForm.invalid)return void(this.checkValid=!0);const e=this._setPutCondition();this.submitEvent.emit(e)}onClose(){this.closeEvent.emit()}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}_initThisState(){this.checkValid=!1}_setPutCondition(){const{paidAmount:e}=this.putForm.value;return{paidAmount:e,bookingItemCode:this.bookingItemCode,productName:this.productName,userNo:this.userNo}}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(jS))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-point-payment"]],inputs:{bookingItemCode:"bookingItemCode",productName:"productName",userNo:"userNo"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:19,vars:2,consts:[[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","170px"],["scope","row",1,"th-bg"],["formControlName","paidAmount","valueType","number","inputFormat","number"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(e,t){1&e&&(L.Wb(0,"form",0),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(1,"div",1),L.Wb(2,"table"),L.Wb(3,"caption"),L.Pc(4," \ud3ec\uc778\ud2b8 \uc218\ub3d9\uacb0\uc81c "),L.Vb(),L.Wb(5,"colgroup"),L.Rb(6,"col",2),L.Rb(7,"col"),L.Vb(),L.Wb(8,"tbody"),L.Wb(9,"tr"),L.Wb(10,"th",3),L.Pc(11,"\ud3ec\uc778\ud2b8 \uc218\ub3d9\uacb0\uc81c\uae08\uc561"),L.Vb(),L.Wb(12,"td"),L.Rb(13,"app-input-text",4),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(14,"div",5),L.Wb(15,"button",6),L.Pc(16,"\uc800\uc7a5"),L.Vb(),L.Wb(17,"button",7),L.fc("click",(function(){return t.onClose()})),L.Pc(18,"\ub2eb\uae30"),L.Vb(),L.Vb(),L.Vb()),2&e&&L.pc("formGroup",t.putForm)("connectForm",t.putFormData)},directives:[I.B,I.s,I.k,J.a,ee.a,I.r,I.i],encapsulation:2,changeDetection:0}),e})();const{API_URL:AS}=Ie.a,WS={putBookingMaster:`${AS}/control/bk/booking-master`,postBookingLog:`${AS}/admin/booking/log`,postConsulting:`${AS}/admin/booking/consulting`,putConsulting:`${AS}/admin/booking/consulting`,postBookingMemo:`${AS}/admin/booking/memo`,putBookingMemo:`${AS}/admin/booking/memo`,postBooker:`${AS}/admin/booking/booker`,putBooker:`${AS}/admin/booking/booker`,postLoginImpersonate:`${AS}/user/login/impersonate`,postFunction:`${AS}/admin/basis/function`},{API_URL:RS}=Ie.a,FS={reservationHotelMasterInfo:`${RS}/admin/booking/hotel/detail`,postCancelBooking:`${RS}/booking/hotel/cancel`,postBasic:`${RS}/admin/booking/hotel/basic`,putBasic:`${RS}/admin/booking/hotel/basic`,postCancelPolicy:`${RS}/admin/booking/hotel/cancel-policy`,putCancelPolicy:`${RS}/admin/booking/hotel/cancel-policy`,postCancelChargeAmount:`${RS}/booking/hotel/cancel-policy`,putbookingHotelItem:`${RS}/admin/booking/hotel/request`,putRequest:`${RS}/admin/booking/hotel/request`,putRoom:`${RS}/admin/booking/hotel/room`,deleteRoom:`${RS}/admin/booking/hotel/room`,putAmountVendor:`${RS}/admin/booking/hotel/amount/vendor`,putAmountSales:`${RS}/admin/booking/hotel/amount/billing`,postAmount:`${RS}/admin/booking/hotel/amount`,putBookingMaster:`${RS}/control/bk/booking-master`,putPayment:`${RS}/payment/v2`,postPaymentCancel:`${RS}/payment/cancel`,deleteAccountPayments:`${RS}/admin/account/payments`,postPaymentCouponCancel:`${RS}/payment/coupon/cancel`,postPaymentPoint:`${RS}/payment/point`,postPaymentPointCancel:`${RS}/payment/point/cancel`,putPaymentBankReceipt:`${RS}/payment/bank/receipt`,postRetrieve:`${RS}/booking/hotel/retrieve`,putPaymentDepositManual:`${RS}/admin/payment/deposit/manual`,postCommonDetailCode:`${RS}/common/detail-code`,postCommonComp:`${RS}/common/comp`,postCurrencyCode:`${RS}/admin/basis/currency`,postBankReceipt:`${RS}/payment/bank/receipt`,putBankReceiptCancel:`${RS}/payment/bank/receipt/cancel`,postPolicyMonitoring:`${RS}/admin/booking/policy-monitoring`,putCorporatePolicyMonitoring:`${RS}/control/bk/corporate-policy-monitoring`,postCorporateReason:`${RS}/admin/corporate/reason`,putCreatePayment:`${RS}/admin/payment/resolution/create`,vendorPayment:`${RS}/admin/payment`,paymentVcc:`${RS}/admin/payment/vcc`,paymentVccCancel:`${RS}/admin/payment/vcc/cancel`,paymentVccGet:`${RS}/admin/payment/vcc/get`},{API_URL:SS}=Ie.a,TS={reservationFlightMasterInfo:`${SS}/admin/booking/flight/detail`,reservationFlightCancelBooking:`${SS}/admin/booking/flight/cancel`,reservationFlightBasicInfo:`${SS}/admin/booking/flight/basic`,putFlightBookingItem:`${SS}/admin/booking/flight/segment/fixed`,postPnrGds:`${SS}/admin/booking/flight/pnr/gds`,postPnrLog:`${SS}/admin/booking/flight/pnr/log`,putPnrLog:`${SS}/control/bk/booking-flight-pnr-log`,postFareRule:`${SS}/admin/booking/flight/fare-rule`,putFareRule:`${SS}/admin/booking/flight/fare-rule`,deleteFareRule:`${SS}/admin/booking/flight/fare-rule`,putBookingMaster:`${SS}/control/bk/booking-master`,putPax:`${SS}/admin/booking/flight/pax`,deletePax:`${SS}/admin/booking/flight/pax`,putApis:`${SS}/booking/flight/apis`,putMileageCard:`${SS}/admin/booking/flight/mileage-card`,putSegment:`${SS}/admin/booking/flight/segment`,uploadFile:`${SS}/admin/image/file/upload/AV/I`,deleteFile:`${SS}/admin/image/file/upload/AV/D`,putEvidence:`${SS}/admin/booking/flight/evidence`,deleteEvidence:`${SS}/admin/booking/flight/evidence`,postBookingFlightPayment:`${SS}/admin/booking/flight/payment`,postPaymentCancel:`${SS}/payment/cancel`,putPayment:`${SS}/payment/v2`,putPaymentBankReceipt:`${SS}/payment/bank/receipt`,cancelPaymentBankReceipt:`${SS}/payment/bank/receipt/cancel`,postRetrieve:`${SS}/admin/booking/flight/retrieve`,postPromotion:`${SS}/booking/flight/promotion`,putPromotionApply:`${SS}/booking/flight/promotion/apply`,postTicketInfo:`${SS}/admin/booking/flight/ticket-info`,putTicketInfo:`${SS}/admin/booking/flight/ticket-info`,postTicketNo:`${SS}/admin/booking/flight/ticket-no`,putTicketInfoMapping:`${SS}/admin/booking/flight/ticket-info/mapping`,deleteTicketInfo:`${SS}/admin/booking/flight/ticket-info`,putDomesticRefundTicket:`${SS}/admin/booking/flight/domestic/refund/ticket`,putFare:`${SS}/admin/booking/flight/fare`,deleteFare:`${SS}/admin/booking/flight/fare`,putTasfAgencyPl:`${SS}/admin/booking/flight/fare/tasf-agency-pl`,delelteFare:`${SS}/admin/booking/flight/fare`,putCharge:`${SS}/admin/booking/flight/charge`,deleteCharge:`${SS}/admin/booking/flight/charge`,putAncillary:`${SS}/admin/booking/flight/ancillary`,deleteAncillary:`${SS}/control/bk/booking-flight-ancillary`,putDivide:`${SS}/admin/booking/flight/divide`,postRefundRequest:`${SS}/admin/booking/flight/refund/request`,putRefundRequest:`${SS}/admin/booking/flight/refund/request`,postRefundInfo:`${SS}/admin/booking/flight/refund/info`,putRefundBilling:`${SS}/admin/booking/flight/refund/billing`,putRefundDsr:`${SS}/admin/booking/flight/refund/dsr`,putRefundWithdraw:`${SS}/admin/booking/flight/refund/withdraw`,postPaymentInfoNew:`${SS}/admin/booking/flight/payment/info/new`,putPaymentInfoNew:`${SS}/admin/booking/flight/payment/info/new`,deletePaymentInfoNew:`${SS}/admin/booking/flight/payment/info/new`,deleteAllPaymentInfo:`${SS}/admin/booking/flight/payment/info/bankAccountNo`,putFlightPaymentCancel:`${SS}/admin/booking/flight/payment/cancel`,postPaymentCouponCancel:`${SS}/payment/coupon/cancel`,postPaymentPointCancel:`${SS}/payment/point/cancel`,putPaymentDepositManual:`${SS}/admin/payment/deposit/manual`,postTasf:`${SS}/admin/booking/flight/tasf`,postUnpaid:`${SS}/admin/booking/unpaid`,postPolicyMonitoring:`${SS}/admin/booking/policy-monitoring`,putCorporatePolicyMonitoring:`${SS}/control/bk/corporate-policy-monitoring`,postCorporateReason:`${SS}/admin/corporate/reason`,postPaymentBankIssue:`${SS}/payment/bank/issue`,putPaymentApproveOnly:`${SS}/admin/booking/flight/payment/approve-only`,postCommonDetailCode:`${SS}/common/detail-code`,postCommonComp:`${SS}/common/comp`,postBookingTraveler:`${SS}/admin/booking/traveler`,postBankReceipt:`${SS}/payment/bank/receipt`,putBankReceiptCancel:`${SS}/payment/bank/receipt/cancel`,postUmsSend:`${SS}/common/ums/send`,deleteAccountPayments:`${SS}/admin/account/payments`,putBookingFlightRequestRemark:`${SS}/admin/booking/flight/request-remark`},{API_URL:NS}=Ie.a,ES={reservationCarMasterInfo:`${NS}/admin/booking/rent/detail`,postCommonDetailCode:`${NS}/common/detail-code`,postCommonComp:`${NS}/common/comp`,putBasicInfo:`${NS}/admin/booking/rent/basic`,postBasicInfo:`${NS}/admin/booking/rent/basic`,postCancelPolicy:`${NS}/admin/booking/rent/cancel-policy`,putCancelPolicy:`${NS}/admin/booking/rent/cancel-policy`,postCancelChargeAmount:`${NS}/booking/rent/cancel-policy`,putBookingDetail:`${NS}/admin/booking/rent/detail`,putDriver:`${NS}/admin/booking/rent/driver`,postRetrieve:`${NS}/booking/rent/retrieve`,postBookingCancel:`${NS}/booking/rent/cancel`,putPayment:`${NS}/payment/v2`,postAmount:`${NS}/admin/booking/rent/amount`,putAmountVendor:`${NS}/admin/booking/rent/amount/vendor`,putAmountSales:`${NS}/admin/booking/rent/amount/billing`,postPaymentPoint:`${NS}/payment/point`,postPaymentCancel:`${NS}/payment/cancel`,deleteAccountPayments:`${NS}/admin/account/payments`,postPaymentCouponCancel:`${NS}/payment/coupon/cancel`,postPaymentPointCancel:`${NS}/payment/point/cancel`,putPaymentBankReceipt:`${NS}/payment/bank/receipt`,putPaymentDepositManual:`${NS}/admin/payment/deposit/manual`,postBankReceipt:`${NS}/payment/bank/receipt`,putBankReceiptCancel:`${NS}/payment/bank/receipt/cancel`,postPolicyMonitoring:`${NS}/admin/booking/policy-monitoring`,putCorporatePolicyMonitoring:`${NS}/control/bk/corporate-policy-monitoring`,postCorporateReason:`${NS}/admin/corporate/reason`,putCreatePayment:`${NS}/admin/payment/resolution/create`},{API_URL:MS}=Ie.a,DS={reservationActivityMasterInfo:`${MS}/admin/booking/activity/detail`,postBasic:`${MS}/admin/booking/activity/basic`,putBasic:`${MS}/admin/booking/activity/basic`,postBookingCancel:`${MS}/booking/activity/cancel`,postRetrieve:`${MS}/booking/activity/retrieve`,postCancelPolicy:`${MS}/admin/booking/activity/cancel-policy`,putCancelPolicy:`${MS}/admin/booking/activity/cancel-policy`,postCancelChargeAmount:`${MS}/booking/activity/cancel-policy`,postActivityContentsOption:`${MS}/admin/activity/contents/option`,putTraveler:`${MS}/admin/booking/activity/traveler`,deleteTraveler:`${MS}/admin/booking/activity/traveler`,putNeededInfo:`${MS}/admin/booking/activity/needed-info`,putPayment:`${MS}/payment/v2`,postPaymentCancel:`${MS}/payment/cancel`,deleteAccountPayments:`${MS}/admin/account/payments`,postPaymentCouponCancel:`${MS}/payment/coupon/cancel`,postPaymentPoint:`${MS}/payment/point`,postPaymentPointCancel:`${MS}/payment/point/cancel`,putPaymentBankReceipt:`${MS}/payment/bank/receipt`,postAmount:`${MS}/admin/booking/activity/amount`,putAmountVendor:`${MS}/admin/booking/activity/amount/vendor`,putAmountSales:`${MS}/admin/booking/activity/amount/billing`,putPaymentDepositManual:`${MS}/admin/payment/deposit/manual`,postCommonDetailCode:`${MS}/common/detail-code`,postCommonComp:`${MS}/common/comp`,postBankReceipt:`${MS}/payment/bank/receipt`,putBankReceiptCancel:`${MS}/payment/bank/receipt/cancel`,postCheckProdState:`${MS}/activity/prodstate`,putCreatePayment:`${MS}/admin/payment/resolution/create`,vendorPayment:`${MS}/admin/payment`,paymentVcc:`${MS}/admin/payment/vcc`,paymentVccCancel:`${MS}/admin/payment/vcc/cancel`,paymentVccGet:`${MS}/admin/payment/vcc/get`};let LS=(()=>{class e{constructor(e){this.api=e}putBookingMasterInfo(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(WS.putBookingMaster,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}getBookingLog(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(WS.postBookingLog,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}getConsulting(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(WS.postConsulting,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}putConsulting(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(WS.putConsulting,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}getBookingMemo(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(WS.postBookingMemo,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}putBookingMemo(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(WS.putBookingMemo,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}getBooker(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(WS.postBooker,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putBooker(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(WS.putBooker,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postLoginImpersonate(e){const t=Q.assign({language:"EN"},{condition:e});return this.api.post(WS.postLoginImpersonate,t).pipe(Object(ye.a)(e=>{var t;return e.succeedYn?Object(ve.a)(null===(t=e.result)||void 0===t?void 0:t.user):Object(Ce.a)(e||"api response error")}))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(z.a))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),_S=(()=>{class e{constructor(){}getOld(e,t){const n=K()(e,"YYYY-MM-DD"),i=K()(t,"YYYY-MM-DD"),o=Number(n.format("YYYY")),a=Number(i.format("YYYY")),c=Number(n.format("MM")),s=Number(i.format("MM")),r=Number(n.format("DD")),l=Number(i.format("DD")),d=o-a;return s<c?d:s>c||l>r?d-1:d}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),$S=(()=>{class e{constructor(e){this.api=e}getReservationCarMasterInfo(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(ES.reservationCarMasterInfo,t).pipe(Object(ye.a)(e=>{var t,n,i,o,a,c,s,r;if(e.succeedYn){const l=(null===(t=e.result)||void 0===t?void 0:t.master)||null,d=(null===(n=e.result)||void 0===n?void 0:n.bookingItems)||null;let b=(null===(i=e.result)||void 0===i?void 0:i.summary)||null;const u=(null===(o=e.result)||void 0===o?void 0:o.driver)||null,p=(null===(a=e.result)||void 0===a?void 0:a.bookingInfo)||null,m=(null===(c=e.result)||void 0===c?void 0:c.price)||null,h=(null===(s=e.result)||void 0===s?void 0:s.payment)||null,g=(null===(r=e.result)||void 0===r?void 0:r.plFinishYn)||!1;return b&&p&&(b=Object.assign({},b,{rowid:p.rowid})),Object(ve.a)({master:l,bookingItems:d,summary:b,driver:u,bookingInfo:p,price:m,payment:h,plFinishYn:g})}return Object(Ce.a)(e||"api response error")}))}getCommonDetailCodeList(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(ES.postCommonDetailCode,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}getVendorList(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(ES.postCommonComp,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}getCancelPolicy(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(ES.postCancelPolicy,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}saveBasisInfo(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(ES.putBasicInfo,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e):Object(Ce.a)(e||"api response error")))}getBasicInfo(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(ES.postBasicInfo,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putBasicInfo(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(ES.putBasicInfo,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e):Object(Ce.a)(e||"api response error")))}saveBookingDetail(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(ES.putBookingDetail,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e):Object(Ce.a)(e||"api response error")))}saveDriver(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(ES.putDriver,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e):Object(Ce.a)(e||"api response error")))}saveCancelPolicy(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(ES.putCancelPolicy,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e):Object(Ce.a)(e||"api response error")))}postRetieve(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(ES.postRetrieve,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}postBookingCancel(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(ES.postBookingCancel,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postCancelChargeAmount(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(ES.postCancelChargeAmount,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putPayment(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(ES.putPayment,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postPaymentCancel(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(ES.postPaymentCancel,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}deleteAccountPayments(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.delete(ES.deleteAccountPayments,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postPaymentCouponCancel(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(ES.postPaymentCouponCancel,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postPaymentPointCancel(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(ES.postPaymentPointCancel,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putPaymentBankReceipt(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(ES.putPaymentBankReceipt,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postPaymentPoint(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(ES.postPaymentPoint,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}getAmount(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(ES.postAmount,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}saveAmountVendor(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(ES.putAmountVendor,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}saveAmountSales(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(ES.putAmountSales,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putPaymentDepositManual(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(ES.putPaymentDepositManual,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postBankReceipt(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(ES.postBankReceipt,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putBankReceiptCancel(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(ES.putBankReceiptCancel,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postPolicyMonitoring(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(ES.postPolicyMonitoring,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putCorporatePolicyMonitoring(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(ES.putCorporatePolicyMonitoring,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postCorporateReason(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(ES.postCorporateReason,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}putCreatePayment(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(ES.putCreatePayment,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(z.a))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),BS=(()=>{class e{constructor(e){this.fb=e,this.generateBasicPutForm=()=>this.fb.group({bookingItemCode:[null],sellerBookingCode:[null],bookingPicUno:[null],bookingPicName:[null],bookingStatusCode:[null],clientPaymentStatusCode:[null],clientCancelDeadline:[null],clientNonRefundableYn:[null],vendorCancelDeadline:[null],vendorNonRefundableYn:[null],cancelConfirmNo:[null]}),this.initBasicPutForm=()=>({bookingItemCode:null,sellerBookingCode:null,bookingPicUno:null,bookingPicName:null,bookingStatusCode:null,clientPaymentStatusCode:null,clientCancelDeadline:null,clientNonRefundableYn:null,vendorCancelDeadline:null,vendorNonRefundableYn:null,cancelConfirmNo:null}),this.initBasisPutCondition=()=>({rowid:null,bookingPicUno:null,bookingPicName:null,bookingStatusCode:null,handleStatusCode:null,vendorCompCode:null,vehicleVendorCode:null,deviceTypeCode:null,onOffManual:null,clientPaymentStatusCode:null,clientCancelDeadline:null,clientNonRefundableYn:null,vendorCancelDeadline:null,vendorNonRefundableYn:null,corporateDraftCode:null}),this.generateCancelPolicyForm=()=>this.fb.group({bookingItemCode:[null],clientCancelPolicies:this.fb.array([]),vendorCancelPolicies:this.fb.array([])}),this.generateCancelPolicyInfoFormArray=e=>{const t=this.fb.array([]);return e.forEach(e=>{t.push(this.fb.group({cancelPolicySeq:[e.cancelPolicyNo],cancelFromDate:[e.cancelFromDate||null],cancelFromTime:[e.cancelFromTime||null],cancelToDate:[e.cancelToDate||null],cancelToTime:[e.cancelToTime||null],currencyCode:[e.currencyCode||null],cancelChargeAmount:[e.cancelChargeAmount||null]}))}),t},this.initCancelPolicyForm=()=>({bookingItemCode:null,clientCancelPolicies:[],vendorCancelPolicies:[]}),this.initCancelPolicyPutCondition=()=>({bookingItemCode:null,clientCancelPolicies:null,vendorCancelPolicies:null}),this.generateBookingInfoForm=()=>this.fb.group({bookingItemCode:[null],vendorCompCode:[null],vendorBookingCode:[null],vendorBookingItemCode:[null],vehicleVendorCode:[null],pickupDatetime:[null],pickupLocationDesc:[null],pickupLocationPhoneNo:[null],returnDatetime:[null],returnLocationDesc:[null],returnLocationPhoneNo:[null],vehicleCode:[null],vehicleNameEn:[null],vehicleNameLn:[null],doorCount:[null],paxCount:[null],transmissionType:[null],airConditionYn:[null],arrivalFlightNumber:[null],arrivalTime:[null],pickupDate:[null,[I.z.required]],pickupTime:[null,[I.z.required]],returnDate:[null,[I.z.required]],returnTime:[null,[I.z.required]],conditions:[null]}),this.generateBookingInfoConditionsFormArray=e=>{const t=this.fb.array([]);return e.forEach(e=>{t.push(this.fb.group({conditionSeq:[e.conditionSeq],conditionDesc:[e.conditionDesc],defaultIncludedYn:[e.defaultIncludedYn||!1],sumIncludedYn:[e.sumIncluedYn||!1]}))}),t},this.generateBookingInfoConditionsInitFormArray=()=>this.fb.array([]),this.initBookingInfoForm=()=>({pickupLocationDesc:null,pickupLocationPhoneNo:null,pickupDate:null,pickupTime:null,returnLocationDesc:null,returnLocationPhoneNo:null,returnDate:null,returnTime:null,vehicleNameLn:null,conditions:[],arrivalFlightNumber:null,arrivalTime:null}),this.initBookingInfoPutCondition=()=>({bookingItemCode:null,vendorCompCode:null,vendorBookingCode:null,vendorBookingItemCode:null,vehicleVendorCode:null,pickupDatetime:null,pickupLocationDesc:null,pickupLocationPhoneNo:null,returnDatetime:null,returnLocationDesc:null,returnLocationPhoneNo:null,vehicleCode:null,vehicleNameEn:null,vehicleNameLn:null,doorCount:null,paxCount:null,transmissionType:null,airConditionYn:null,arrivalFlightNumber:null,arrivalTime:null}),this.generateDriverPutForm=()=>this.fb.group({name:[null,[I.z.required]],gender:[null,[I.z.required]],ageTypeCode:[null,[I.z.required]],bookingTravelerCode:[null],lastName:[null],firstName:[null],birthday:[null],paxTatoo:[null]}),this.initDriverPutData=()=>({name:null,gender:"M",ageTypeCode:"ADT",bookingTravelerCode:null,lastName:null,firstName:null,birthday:null,paxTatoo:null}),this.generatePriceDetailVendor=()=>this.fb.group({bookingItemCode:[null,[I.z.required]],vendorNetAmount:[null,[I.z.required]],vendorTaxAmount:[null,[I.z.required]],vendorGrossAmount:[{value:null,disabled:!0}],vendorAddAmount:[null,[I.z.required]],vendorCancelChargeAmount:[null,[I.z.required]],vendorSumAmount:[{value:null,disabled:!0}]}),this.initPriceDetailVendor=()=>({bookingItemCode:null,vendorNetAmount:null,vendorTaxAmount:null,vendorGrossAmount:null,vendorAddAmount:null,vendorCancelChargeAmount:null,vendorSumAmount:null}),this.generatePriceDetailSales=()=>this.fb.group({bookingItemCode:[null,[I.z.required]],billingCurrencyCode:[{value:null,disabled:!0}],convertRateValue:[{value:null,disabled:!0}],billingNetAmount:[{value:null,disabled:!0}],billingMarkupAmount:[{value:null,disabled:!0}],billingProductAmount:[{value:null,disabled:!0}],billingTaxAmount:[{value:null,disabled:!0}],billingGrossAmount:[{value:null,disabled:!0}],billingPromotionAmount:[{value:null,disabled:!0}],billingAddAmount:[null,[I.z.required]],billingCancelChargeAmount:[null,[I.z.required]],billingOthersAmount:[null,[I.z.required]],billingSumAmount:[{value:null,disabled:!0}],billingBalanceAmount:[{value:null,disabled:!0}],billingRevenueAmount:[{value:null,disabled:!0}]}),this.initPriceDetailSales=()=>({bookingItemCode:null,billingCurrencyCode:null,convertRateValue:null,billingNetAmount:null,billingMarkupAmount:null,billingProductAmount:null,billingTaxAmount:null,billingGrossAmount:null,billingPromotionAmount:null,billingAddAmount:null,billingCancelChargeAmount:null,billingOthersAmount:null,billingSumAmount:null,billingBalanceAmount:null,billingRevenueAmount:null}),this.generatePaymentManualPutForm=()=>this.fb.group({paymentDetailTypeCode:[null,[I.z.required]],depositTypeCode:[null,[I.z.required]],currencyCode:[null],paidAmount:[null,[I.z.required]],paidDate:[null,[I.z.required]],clientName:[null,[I.z.required]],confirmUno:[null],cardMasterCode:[null],cardNo:[null],cardHolderName:[null],cardValidPeriodYear:[null],cardValidPeriodMonth:[null],cardQuotaMonth:[null],cardApprovalNo:[null],giftCardTypeCode:[null],giftCardExpireDate:[null],paymentRelatedNo:[null]}),this.initPaymentManualPutForm=()=>({paymentDetailTypeCode:null,depositTypeCode:null,currencyCode:"KRW",paidAmount:null,paidDate:null,clientName:null,confirmUno:null,cardMasterCode:null,cardNo:null,cardHolderName:null,cardValidPeriodYear:null,cardValidPeriodMonth:null,cardQuotaMonth:null,cardApprovalNo:null,giftCardTypeCode:null,giftCardExpireDate:null,paymentRelatedNo:null}),this.initPaymentManualPutCondition=()=>({paymentDetailTypeCode:null,depositTypeCode:null,currencyCode:null,paidAmount:null,paidDate:null,clientName:null,confirmUno:null,card:{cardMasterCode:null,cardNo:null,cardHolderName:null,cardValidPeriod:null,cardQuotaMonth:null,cardApprovalNo:null},other:{giftCardTypeCode:null,giftCardExpireDate:null,paymentRelatedNo:null}})}generatePolicyMonitoringOutOfPolicyPutForm(){return this.fb.group({rowid:[null],outOfPolicyYn:[null],outOfPolicyReasonSeq:[null],outOfPolicyReasonComment:[null],missedCostOccurYn:[null]})}initPolicyMonitoringOutOfPolicyPutForm(){return{rowid:null,outOfPolicyYn:!1,outOfPolicyReasonSeq:null,outOfPolicyReasonComment:null,missedCostOccurYn:!1}}}return e.\u0275fac=function(t){return new(t||e)(L.bc(I.f))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),wS=(()=>{class e{constructor(e){this.api=e}getReservationHotelMasterInfo(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(FS.reservationHotelMasterInfo,t).pipe(Object(ye.a)(e=>{var t,n,i,o,a,c,s,r,l;if(e.succeedYn){const d=(null===(t=e.result)||void 0===t?void 0:t.master)||null,b=(null===(n=e.result)||void 0===n?void 0:n.bookingItems)||null,u=(null===(i=e.result)||void 0===i?void 0:i.summary)||null,p=(null===(o=e.result)||void 0===o?void 0:o.rooms)||null,m=(null===(a=e.result)||void 0===a?void 0:a.bookingInfo)||null,h=(null===(c=e.result)||void 0===c?void 0:c.price)||null,g=(null===(s=e.result)||void 0===s?void 0:s.payment)||null,f=(null===(r=e.result)||void 0===r?void 0:r.plFinishYn)||!1,v=(null===(l=e.result)||void 0===l?void 0:l.cashReceipts)||null;return Object(ve.a)({master:d,bookingItems:b,summary:u,rooms:p,bookingInfo:m,price:h,payment:g,cashReceipts:v,plFinishYn:f})}return Object(Ce.a)(e||"api response error")}))}putReservationHotelMasterInfo(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(FS.reservationHotelMasterInfo,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postCancelBooking(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(FS.postCancelBooking,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postCancelChargeAmount(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(FS.postCancelChargeAmount,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postBasic(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(FS.postBasic,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putBasic(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(FS.putBasic,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postCancelPolicy(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(FS.postCancelPolicy,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putCancelPolicy(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(FS.putCancelPolicy,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putbookingHotelItem(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(FS.putBasic,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putRequest(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(FS.putRequest,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putRoom(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(FS.putRoom,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}deleteRoom(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.delete(FS.deleteRoom,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postAmount(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(FS.postAmount,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putAmountVendor(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(FS.putAmountVendor,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putAmountSales(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(FS.putAmountSales,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putPayment(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(FS.putPayment,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postPaymentCancel(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(FS.postPaymentCancel,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}deleteAccountPayments(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.delete(FS.deleteAccountPayments,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postPaymentCouponCancel(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(FS.postPaymentCouponCancel,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postPaymentPointCancel(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(FS.postPaymentPointCancel,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putPaymentBankReceipt(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(FS.putPaymentBankReceipt,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postPaymentPoint(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(FS.postPaymentPoint,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postRetieve(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(FS.postRetrieve,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}putPaymentDepositManual(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(FS.putPaymentDepositManual,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postBankReceipt(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(FS.postBankReceipt,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putBankReceiptCancel(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(FS.putBankReceiptCancel,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postPolicyMonitoring(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(FS.postPolicyMonitoring,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putCorporatePolicyMonitoring(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(FS.putCorporatePolicyMonitoring,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postCorporateReason(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(FS.postCorporateReason,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}getCommonDetailCodeList(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(FS.postCommonDetailCode,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}getCommonCompList(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(FS.postCommonComp,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}getCurrencyList(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(FS.postCurrencyCode,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}putCreatePayment(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(FS.putCreatePayment,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}getVendorPayment(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(FS.vendorPayment,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}putPaymentVcc(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(FS.paymentVcc,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}deletePaymentVcc(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.delete(FS.paymentVccCancel,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}postPaymentVccGet(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(FS.paymentVccGet,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(z.a))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),xS=(()=>{class e{constructor(e){this.fb=e,this.initBookingDetailInfoPutForm=()=>({bookingStatusCode:null,vendorBookingCode:null,vendorBookingItemCode:null,checkInDate:null,checkOutDate:null,hotelCode:null,hotelNameEn:null,hotelNameLn:null,roomTypeNameEn:null,roomPlanNameEn:null,mealBasisName:null,freeBreakfastName:null,sellerBookingCode:null,clientPaymentStatusCode:null}),this.generateBookingDetailInfoPutForm=()=>this.fb.group({bookingStatusCode:[null],vendorBookingCode:[null],vendorBookingItemCode:[null],checkInDate:[{value:null,disabled:!0}],checkOutDate:[{value:null,disabled:!0}],hotelCode:[{value:null,disabled:!0}],hotelNameEn:[null],hotelNameLn:[null],roomTypeNameEn:[{value:null,disabled:!0}],roomPlanNameEn:[{value:null,disabled:!0}],mealBasisName:[{value:null,disabled:!0}],freeBreakfastName:[{value:null,disabled:!0}],sellerBookingCode:[null],clientPaymentStatusCode:[null]}),this.initBookingDetailInfoPutCondition=()=>({rowid:null,vendorCompCode:null,vendorBookingCode:null,vendorBookingItemCode:null,checkInDate:null,checkOutDate:null,hotelCode:null,hotelNameEn:null,hotelNameLn:null,roomTypeName:null,freeBreakfastName:null,freeWifiYn:null,sellerBookingCode:null}),this.initBookingDetailNoticePutForm=()=>({checkInGuide:null,checkInGuideSpecial:null,cancelChargeDesc:null}),this.initBookingDetailRequestPutForm=()=>({cancelConfirmUno:null,cancelConfirmName:null,cancelConfirmNo:null}),this.generateBasisPutForm=()=>this.fb.group({stationTypeCode:[null],bookerCompCode:[null],bookingPicUno:[null],bookingStatusCode:[null,[I.z.required]],handleStatusCode:[null],deviceTypeCode:[null,[I.z.required]],onOffManual:[null],clientCancelDeadlineDate:[null],clientCancelDeadlineTime:[null],clientNonRefundableYn:[null],vendorCancelDeadlineDate:[null],vendorCancelDeadlineTime:[null],vendorNonRefundableYn:[null],corporateDraftCode:[null]}),this.initBasisPutForm=()=>({stationTypeCode:null,bookerCompCode:null,bookingPicUno:null,bookingStatusCode:"BKS02",handleStatusCode:"RQH01",deviceTypeCode:"PC",onOffManual:"O",clientCancelDeadlineDate:G().format("YYYY-MM-DD"),clientCancelDeadlineTime:"00:00",clientNonRefundableYn:!1,vendorCancelDeadlineDate:G().format("YYYY-MM-DD"),vendorCancelDeadlineTime:"00:00",vendorNonRefundableYn:!1,corporateDraftCode:null}),this.initBasisPutCondition=()=>({stationTypeCode:null,bookerCompCode:null,bookingPicUno:null,bookingPicName:null,bookingStatusCode:null,handleStatusCode:null,deviceTypeCode:null,onOffManual:null,clientCancelDeadline:null,clientNonRefundableYn:null,vendorCancelDeadline:null,vendorNonRefundableYn:null,corporateDraftCode:null}),this.generateBasisRulePutInitForm=()=>this.fb.group({clientCancelPolicies:this.fb.array([this.fb.group({cancelPolicySeq:[null],cancelFromDate:[null],cancelFromTime:[null],cancelToDate:[null],cancelToTime:[null],currencyCode:[null],cancelChargeAmount:[null]})]),vendorCancelPolicies:this.fb.array([this.fb.group({cancelPolicySeq:[null],cancelFromDate:[null],cancelFromTime:[null],cancelToDate:[null],cancelToTime:[null],currencyCode:[null],cancelChargeAmount:[null]})]),cancelChargeDesc:[null]}),this.generateBasisRulePutForm=e=>{const{clientCancelPolicies:t,vendorCancelPolicies:n,cancelChargeDesc:i}=e;return this.fb.group({clientCancelPolicies:this.fb.array(t.map(e=>this.fb.group({cancelPolicySeq:[e.cancelPolicySeq],cancelFromDate:[e.cancelFromDate],cancelFromTime:[e.cancelFromTime],cancelToDate:[e.cancelToDate],cancelToTime:[e.cancelToTime],currencyCode:[e.currencyCode],cancelChargeAmount:[e.cancelChargeAmount]}))),vendorCancelPolicies:this.fb.array(n.map(e=>this.fb.group({cancelPolicySeq:[e.cancelPolicySeq],cancelFromDate:[e.cancelFromDate],cancelFromTime:[e.cancelFromTime],cancelToDate:[e.cancelToDate],cancelToTime:[e.cancelToTime],currencyCode:[e.currencyCode],cancelChargeAmount:[e.cancelChargeAmount]}))),cancelChargeDesc:[i]})},this.initBasisRuleForm=()=>({clientCancelPolicies:[{cancelPolicySeq:null,cancelFromDate:null,cancelFromTime:null,cancelToDate:null,cancelToTime:null,currencyCode:null,cancelChargeAmount:null}],vendorCancelPolicies:[{cancelPolicySeq:null,cancelFromDate:null,cancelFromTime:null,cancelToDate:null,cancelToTime:null,currencyCode:null,cancelChargeAmount:null}],cancelChargeDesc:null}),this.initRoomsForm=()=>({rooms:[{roomSeq:1,roomNo:null,travelers:[{bookingTravelerCode:null,ageTypeCode:null,gender:null,name:null,lastName:null,firstName:null,birthday:null}]}]}),this.generatePricesPutForm=()=>this.fb.group({vendorCurrencyCode:[null],vendorNetAmount:[null],cancelChargeNetAmount:[null],convertRateValue:[null],markupValue:[null],markupRateOrAmount:[null],discountAmount:[null],othersAmount:[null]}),this.initPricesPutForm=()=>({vendorCurrencyCode:null,vendorNetAmount:0,cancelChargeNetAmount:0,convertRateValue:0,markupValue:0,markupRateOrAmount:null,discountAmount:0,othersAmount:0}),this.generatePriceDetailVendorThirdParty=()=>this.fb.group({bookingItemCode:[null,I.z.required],vendorNetAmount:[null,I.z.required],vendorTaxAmount:[null,I.z.required],vendorGrossAmount:[null],vendorMspAmount:[null],vendorContractAmount:[null],vendorAddAmount:[null,I.z.required],vendorCancelChargeAmount:[null,I.z.required]}),this.initPriceDetailVendorThirdParty=()=>({bookingItemCode:null,vendorNetAmount:0,vendorTaxAmount:0,vendorGrossAmount:0,vendorMspAmount:0,vendorContractAmount:0,vendorAddAmount:0,vendorCancelChargeAmount:0}),this.generatePriceDetailSales=()=>this.fb.group({billingNetAmount:[null],markupValue:[null],billingGrossAmount:[null],billingMarkupAmount:[null],billingTaxAmount:[null],billingAddAmount:[null],billingProductAmount:[null],billingCancelChargeAmount:[null],billingPromotionAmount:[null],billingOthersAmount:[null],billingSumAmount:[null]}),this.initPriceDetailSales=()=>({billingNetAmount:0,markupValue:null,billingGrossAmount:0,billingMarkupAmount:0,billingTaxAmount:0,billingAddAmount:0,billingProductAmount:0,billingCancelChargeAmount:0,billingPromotionAmount:0,billingOthersAmount:0,billingSumAmount:0}),this.generatePaymentManualPutForm=()=>this.fb.group({paymentDetailTypeCode:[null,[I.z.required]],depositTypeCode:[null,[I.z.required]],currencyCode:[null],paidAmount:[null,[I.z.required]],paidDate:[null,[I.z.required]],clientName:[null,[I.z.required]],confirmUno:[null],cardMasterCode:[null],cardNo:[null],cardHolderName:[null],cardValidPeriodYear:[null],cardValidPeriodMonth:[null],cardQuotaMonth:[null],cardApprovalNo:[null],giftCardTypeCode:[null],giftCardExpireDate:[null],paymentRelatedNo:[null]}),this.initPaymentManualPutForm=()=>({paymentDetailTypeCode:null,depositTypeCode:null,currencyCode:"KRW",paidAmount:null,paidDate:null,clientName:null,confirmUno:null,cardMasterCode:null,cardNo:null,cardHolderName:null,cardValidPeriodYear:null,cardValidPeriodMonth:null,cardQuotaMonth:null,cardApprovalNo:null,giftCardTypeCode:null,giftCardExpireDate:null,paymentRelatedNo:null}),this.initPaymentManualPutCondition=()=>({paymentDetailTypeCode:null,depositTypeCode:null,currencyCode:null,paidAmount:null,paidDate:null,clientName:null,confirmUno:null,card:{cardMasterCode:null,cardNo:null,cardHolderName:null,cardValidPeriod:null,cardQuotaMonth:null,cardApprovalNo:null},other:{giftCardTypeCode:null,giftCardExpireDate:null,paymentRelatedNo:null}}),this.initVendorPaymentPutForm=()=>({paidAmount:null,vccTypeCode:null,vccApprovalFromDatetime:G().format("YYYY-MM-DD"),vccApprovalToDatetime:G().format("YYYY-MM-DD")}),this.initDirectPutForm=()=>({appliedDate:null,roomNo:null,vendorNetAmount:null,vendorSellingNetAmount:null,vendorTaxAmount:null,vendorGrossAmount:null,vendorMspAmount:null,vendorContractAmount:null,vendorAddAmount:null,vendorCancelChargeAmount:null})}generateBookingDetailNoticePutForm(){return this.fb.group({answerDetail:[null],requestNo:[null]})}generateBookingDetailInfoRequestPutForm(){return this.fb.group({cancelConfirmUno:[null],cancelConfirmName:[null],cancelConfirmNo:[null]})}generateRoomsPutInitForm(){return this.fb.group({rooms:this.fb.array([this.fb.group({roomSeq:[null],roomNo:[null],travelers:this.fb.array([this.generateTravelerInitForm()])})])})}generateTravelerInitForm(){return this.fb.group({bookingTravelerCode:[{value:null,disabled:!0}],ageTypeCode:[null,[I.z.required]],gender:[null,[I.z.required]],name:[null,[I.z.required]],lastName:[null],firstName:[null],birthday:[null]})}generateRoomPutForm(e){return this.fb.group({isNew:[!0],roomSeq:[e],roomNo:[null],travelers:this.fb.array([this.generateTravelerInitForm()])})}generateRoomsPutForm(e){return this.fb.group({rooms:this.fb.array(e.map(e=>this.fb.group({roomSeq:[e.roomSeq],roomNo:[e.roomNo],travelers:this.fb.array(e.travelers.map(e=>this.fb.group({bookingTravelerCode:[e.bookingTravelerCode],ageTypeCode:[e.ageTypeCode,[I.z.required]],gender:[e.gender,[I.z.required]],name:[e.name,[I.z.required]],lastName:[e.lastName],firstName:[e.firstName],birthday:[e.birthday]})))})))})}generatePolicyMonitoringOutOfPolicyPutForm(){return this.fb.group({rowid:[null],outOfPolicyYn:[null],outOfPolicyReasonSeq:[null],outOfPolicyReasonComment:[null],missedCostOccurYn:[null]})}initPolicyMonitoringOutOfPolicyPutForm(){return{rowid:null,outOfPolicyYn:!1,outOfPolicyReasonSeq:null,outOfPolicyReasonComment:null,missedCostOccurYn:!1}}generateVendorIssuePutForm(){return this.fb.group({paidAmount:[null,[I.z.required]],vccTypeCode:[null,[I.z.required]],vccApprovalFromDatetime:[G().format("YYYY-MM-DD")],vccApprovalToDatetime:[G().format("YYYY-MM-DD")],vccIssueReason:[null]})}generateVendorPaymentPutForm(){return this.fb.group({paidAmount:[null,[I.z.required]],vccTypeCode:[null,[I.z.required]],vccApprovalFromDatetime:[G().format("YYYY-MM-DD")],vccApprovalToDatetime:[G().format("YYYY-MM-DD")],vccValidDate:[null],vccIssueReason:[null],pgResponseMessage:[{value:null,disabled:!0}]})}generateDirectPutForm(){return this.fb.group({nightly:this.fb.array([])})}generateDirectItemPutForm(e){return this.fb.group({appliedDate:[e.appliedDate,[I.z.required]],roomNo:[e.roomNo],vendorNetAmount:[e.vendorNetAmount||0,[I.z.required]],vendorSellingNetAmount:[e.vendorSellingNetAmount||0],vendorTaxAmount:[e.vendorTaxAmount||0,[I.z.required]],vendorGrossAmount:[e.vendorGrossAmount||0],vendorMspAmount:[e.vendorMspAmount||0],vendorContractAmount:[e.vendorContractAmount||0,[I.z.required]],vendorAddAmount:[e.vendorAddAmount||0,[I.z.required]],vendorCancelChargeAmount:[e.vendorCancelChargeAmount||0,[I.z.required]]})}}return e.\u0275fac=function(t){return new(t||e)(L.bc(I.f))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),YS=(()=>{class e{constructor(){}calculateTasfAmount(e){return e?e.reduce((e,t)=>e+(t.salesTasfAmount||0),0):0}calculateAgencyChargeAmount(e){return e?e.reduce((e,t)=>e+(t.agencyChargeAmount||0),0):0}calculateFareSum(e){return e?e.reduce((e,t)=>e+((t.salesSumAmount||0)-(t.salesTasfAmount||0)),0):0}calculateTotalChargeSum(e){return e?e.reduce((e,t)=>e+((t.salesSumAmount||0)-(t.agencyChargeAmount||0)),0):0}calculateChargeSum(e){return e?e.reduce((e,t)=>e+("EMD"===t.airlineChargeTypeCode?(t.salesSumAmount||0)-(t.agencyChargeAmount||0)-(t.airlineChargeAmount||0):(t.salesSumAmount||0)-(t.agencyChargeAmount||0)),0):0}calculateChargeEmdSum(e){return e?e.reduce((e,t)=>("EMD"===t.airlineChargeTypeCode&&(e+=t.airlineChargeAmount),e),0):0}calculateSalesSum(e){return e?e.reduce((e,t)=>e+(t.salesSumAmount||0),0):0}getOld(e,t){const n=K()(e,"YYYY-MM-DD"),i=K()(t,"YYYY-MM-DD"),o=Number(n.format("YYYY")),a=Number(i.format("YYYY")),c=Number(n.format("MM")),s=Number(i.format("MM")),r=Number(n.format("DD")),l=Number(i.format("DD")),d=o-a;return s<c?d:s>c||l>r?(console.info("age - 1",d-1),d-1):d}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var HS=n("T7XF");let qS=(()=>{class e{constructor(e,t){this.api=e,this.bookingDataService=t}getReservationFlightMasterInfo(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(TS.reservationFlightMasterInfo,t).pipe(Object(ye.a)(e=>{var t,n,i,o,a,c,s,r,l,d,b,u,p,m;if(e.succeedYn){const h=(null===(t=e.result)||void 0===t?void 0:t.master)||null,g=(null===(n=e.result)||void 0===n?void 0:n.bookingItems)||null,f=(null===(i=e.result)||void 0===i?void 0:i.summary)||null,v=(null===(o=e.result)||void 0===o?void 0:o.travelerInfo)||null,C=(null===(a=e.result)||void 0===a?void 0:a.segmentInfo)||null,y=(null===(c=e.result)||void 0===c?void 0:c.paymentEvidences)||null,k=(null===(s=e.result)||void 0===s?void 0:s.priceInfo)||null,I=(null===(r=e.result)||void 0===r?void 0:r.chargeInfo)||null,O=(null===(l=e.result)||void 0===l?void 0:l.paymentInfo)||null,P=(null===(d=e.result)||void 0===d?void 0:d.ticketInfo)||null,j=(null===(b=e.result)||void 0===b?void 0:b.ancillaryInfo)||null,V=(null===(u=e.result)||void 0===u?void 0:u.changeRequests)||null,A=null===(p=e.result)||void 0===p?void 0:p.ticketingDsrFinishYn,W=null===(m=e.result)||void 0===m?void 0:m.refundDsrFinishYn;return Object(ve.a)({master:h,bookingItems:g,summary:f,travelerInfo:v,segmentInfo:C,paymentEvidences:y,priceInfo:k,chargeInfo:I,paymentInfo:O,ticketInfo:P,ancillaryInfo:j,changeRequests:V,ticketingDsrFinishYn:A,refundDsrFinishYn:W})}return Object(Ce.a)(e||"api response error")}))}putBookingFlightCancelBooking(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(TS.reservationFlightCancelBooking,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putBookingFlightItem(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putFlightBookingItem,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}getBookingFlightBasicInfo(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(TS.reservationFlightBasicInfo,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putBookingFlightBasicInfo(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.reservationFlightBasicInfo,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postBookingFlightFareRule(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(TS.postFareRule,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putBookingFlightFareRule(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putFareRule,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}deleteBookingFlightFareRule(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.delete(TS.deleteFareRule,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postBookingFlightPnrGds(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(TS.postPnrGds,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putTravelers(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putPax,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}deleteTravelers(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.delete(TS.deletePax,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postBookingFlightPnrLog(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(TS.postPnrLog,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putBookingFlightPnrLog(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putPnrLog,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putApis(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putApis,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putMileageCard(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putMileageCard,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putSegment(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putSegment,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}deleteSegment(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putSegment,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putEvidence(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putEvidence,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}deleteEvidence(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.deleteEvidence,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postBookingFlightPayment(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(TS.postBookingFlightPayment,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postPaymentCancel(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(TS.postPaymentCancel,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putPayment(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putPayment,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putPaymentBankReceipt(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putPaymentBankReceipt,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}cancelPaymentBankReceipt(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.cancelPaymentBankReceipt,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postRetieve(e,t){const n=Q.assign({},this.api.makeCustomParams({stationTypeCode:t}),{condition:e});return this.api.post(TS.postRetrieve,n).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}postPromotion(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(TS.postPromotion,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}putPromotionApply(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putPromotionApply,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postTicketInfo(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(TS.postTicketInfo,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putTicketInfo(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putTicketInfo,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postTicketNo(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(TS.postTicketNo,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.ticketNos):Object(Ce.a)(e||"api response error")))}deleteTicketInfo(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.delete(TS.deleteTicketInfo,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putFare(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putFare,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}deleteFare(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.delete(TS.deleteFare,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putTasfAgencyPl(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putTasfAgencyPl,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putCharge(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putCharge,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}deleteCharge(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.delete(TS.deleteCharge,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putAncillary(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putAncillary,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}deleteAncillary(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.delete(TS.deleteAncillary,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putTicketInfoMapping(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putTicketInfoMapping,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putDivide(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putDivide,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postRefundRequest(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(TS.postRefundRequest,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putRefundRequest(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putRefundRequest,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postRefundInfo(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(TS.postRefundInfo,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putRefundBilling(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putRefundBilling,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putRefundDsr(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putRefundDsr,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putRefundWithdraw(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putRefundWithdraw,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}getPaymentInfoNew(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(TS.postPaymentInfoNew,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putPaymentInfoNew(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putPaymentInfoNew,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}deletePaymentInfoNew(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.delete(TS.deletePaymentInfoNew,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}deleteAllPaymentInfo(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.delete(TS.deleteAllPaymentInfo,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putFlightPaymentCancel(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putFlightPaymentCancel,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postPaymentCouponCancel(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(TS.postPaymentCouponCancel,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postPaymentPointCancel(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(TS.postPaymentPointCancel,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putPaymentDepositManual(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putPaymentDepositManual,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postTasf(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(TS.postTasf,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postUnpaid(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(TS.postUnpaid,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}postPolicyMonitoring(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(TS.postPolicyMonitoring,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putCorporatePolicyMonitoring(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putCorporatePolicyMonitoring,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postCorporateReason(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(TS.postCorporateReason,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}postPaymentBankIssue(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(TS.postPaymentBankIssue,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putPaymentApproveOnly(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putPaymentApproveOnly,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}getCommonDetailCodeList(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(TS.postCommonDetailCode,t).pipe(Object(ye.a)(e=>e.succeedYn?e.result.list[0].detailCode.includes("BKS")?Object(ve.a)(this.bookingDataService.dataRemove("reservationFlight",e.result.list)):Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}getCommonCompList(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(TS.postCommonComp,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}getBookingTravelerList(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(TS.postBookingTraveler,t).pipe(Object(ye.a)(e=>{if(e.succeedYn){const t=e.result.travelers.map(e=>Object.assign(Object.assign({},e),{nameEn:`${e.lastName}/${e.firstName}`}));return Object(ve.a)(t)}return Object(Ce.a)(e||"api response error")}))}postBankReceipt(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(TS.postBankReceipt,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putBankReceiptCancel(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putBankReceiptCancel,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}deleteAccountPayments(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.delete(TS.deleteAccountPayments,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putBookingFlightRequestRemark(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putBookingFlightRequestRemark,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putDomesticRefundTicket(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(TS.putDomesticRefundTicket,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(z.a),L.bc(HS.a))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),US=(()=>{class e{constructor(e){this.fb=e,this.initBasisInfoPutCondition=()=>({bookingItemCode:null,groupOrFit:null,gdsCompCode:null,gdsMainPnr:null,gdsSubPnr:null,bookingStatusCode:null,paymentStatusCode:null,ticketingStatusCode:null,fareConfirmYn:null,bookingPicUno:null,clientCancelDeadline:null,clientTlFixedYn:null,domesticYn:null,lastTicketingPicUno:null,destinationCityCodeIata:null,routingTypeCode:null,departureTypeCode:null,billingTypeCode:null,autoTicketingStatusCode:null,myPageDisplayYn:null,evidenceNeededYn:null,apisRegisterYn:null,taxFixedYn:null}),this.generateTicketManualSinglePutForm=()=>this.fb.group({gdsSubPnr:[{value:null,disabled:!0},[I.z.required]],etEmdOtherTypeCode:[null,[I.z.required]],bookingTravelerCode:[null,[I.z.required]],airlineNumberCode:[null,[I.z.required]],ticketNo:[null,[I.z.required]],conjunctionTypeCode:[null,[I.z.required]],ticketVoidTypeCode:[null,[I.z.required]],ticketingStatusCode:[null,[I.z.required]],ticketingDate:[null,[I.z.required]],departureDate:[null,[I.z.required]],gdsAirlineCompCode:[null,[I.z.required]],billingTypeCode:[null,[I.z.required]],fareAmount:[null,[I.z.required]],discountAmount:[null,[I.z.required]],netAmount:[null,[I.z.required]],taxAmount:[null,[I.z.required]],salesAmount:[null,[I.z.required]],airlineCommCode:[null],airlineCommAmount:[null,[I.z.required]],airlineCommVat:[null,[I.z.required]],ticketingPicUno:[null],fopCode:[null,[I.z.required]],manualRegisterYn:[{value:null,disabled:!0}],cardAmount:[null,[I.z.required]],cashAmount:[null,[I.z.required]],itineraryDetail:[{value:null,disabled:!0}],originTicketingDetail:[null],currencyCode:[null]}),this.initTicketManualSinglePutForm=()=>({gdsSubPnr:null,etEmdOtherTypeCode:null,bookingTravelerCode:null,airlineNumberCode:null,ticketNo:null,conjunctionTypeCode:null,ticketVoidTypeCode:null,ticketingStatusCode:null,ticketingDate:null,departureDate:null,gdsAirlineCompCode:null,billingTypeCode:null,fareAmount:0,discountAmount:0,netAmount:0,taxAmount:0,salesAmount:0,airlineCommCode:null,airlineCommAmount:0,airlineCommVat:0,ticketingPicUno:null,fopCode:null,manualRegisterYn:!0,cardAmount:0,cashAmount:0,itineraryDetail:null,originTicketingDetail:null,currencyCode:"KRW"}),this.initTicketManualSinglePutCondition=()=>({gdsSubPnr:null,bookingItemCode:null,etEmdOtherTypeCode:null,bookingTravelerCode:null,airlineNumberCode:null,ticketNo:null,conjunctionTypeCode:null,ticketVoidTypeCode:null,ticketingStatusCode:null,ticketingDate:null,departureDate:null,gdsAirlineCompCode:null,billingTypeCode:null,fareAmount:null,discountAmount:null,netAmount:null,taxAmount:null,salesAmount:null,airlineCommCode:null,airlineCommAmount:null,airlineCommVat:null,ticketingPicUno:null,fopCode:null,cardAmount:null,cashAmount:null,originTicketingDetail:null,currencyCode:"KRW"}),this.generateTicketManualManyTicketInfosInitPutForm=()=>this.fb.group({ticketInfos:this.fb.array([])}),this.initTicketManualManyTicketInfosPutForm=()=>({ticketInfos:[]}),this.generateTicketManualManyTicketInfosPutForm=e=>this.fb.group({ticketInfos:this.fb.array(e.map(e=>this.fb.group({gdsSubPnr:[null],bookingItemCode:[null],etEmdOtherTypeCode:[null,[I.z.required]],bookingTravelerCode:[e.bookingTravelerCode],nameEn:[e.nameEn],ticketNo:[null,[I.z.required]],ticketVoidTypeCode:[null,[I.z.required]],ticketingStatusCode:[null,[I.z.required]],conjunctionTypeCode:[null,[I.z.required]],billingTypeCode:[null,[I.z.required]],fareAmount:[0,[I.z.required]],netAmount:[0,[I.z.required]],taxAmount:[0,[I.z.required]],salesAmount:[0,[I.z.required]],airlineCommAmount:[0,[I.z.required]],airlineCommCode:[null],cardAmount:[0,[I.z.required]],ticketingDate:[null,[I.z.required]],departureDate:[null,[I.z.required]],airlineNumberCode:[null,[I.z.required]],gdsAirlineCompCode:[null,[I.z.required]],discountAmount:[0,[I.z.required]],airlineCommVat:[0,[I.z.required]],ticketingPicUno:[null],ticketingPicName:[null],fopCode:[null,[I.z.required]],cashAmount:[0,[I.z.required]],currencyCode:"KRW"})))}),this.generateChargeInfoPutForm=()=>this.fb.group({ticketNos:[null],bookingTravelerCodes:[null],chargeTypeCode:[null],addFareAmount:[{value:null,disabled:!0},[I.z.required]],addTaxAmount:[{value:null,disabled:!0},[I.z.required]],airlineChargeTypeCode:[{value:null}],airlineChargeAmount:[{value:null,disabled:!0},[I.z.required]],waiverYn:[null],adjustReasonCode:[{value:null,disabled:!0}],adjustReasonComment:[{value:null,disabled:!0}]}),this.initChargeInfoPutForm=()=>({ticketNos:[],bookingTravelerCodes:[],chargeTypeCode:"CRG01",addFareAmount:0,addTaxAmount:0,airlineChargeTypeCode:null,airlineChargeAmount:0,waiverYn:!1,adjustReasonCode:null,adjustReasonComment:null}),this.generateChargeInfoPutUpdateForm=()=>this.fb.group({rowid:[null],bookingTravelerCode:[null],chargeTypeCode:[null],addFareAmount:[null],addTaxAmount:[null],airlineChargeAmount:[null],agencyChargeAmount:[null,[I.z.required]],waiverYn:[null],adjustReasonCode:[null],adjustReasonComment:[null]}),this.initChargeInfoPutUpdateForm=()=>({rowid:null,bookingTravelerCode:null,chargeTypeCode:null,addFareAmount:0,addTaxAmount:0,airlineChargeAmount:0,agencyChargeAmount:0,waiverYn:!1,adjustReasonCode:null,adjustReasonComment:null}),this.generateFlightFarePutForm=()=>this.fb.group({bookingTravelerCode:[null,[I.z.required]],bookingFareTypeCode:[{value:null,disabled:!0}],ticketingNetAmount:[null,[I.z.required]],salesNetAmount:[null,[I.z.required]],salesTaxAmount:[null,[I.z.required]],salesFuelAmount:[null,[I.z.required]],salesQAmount:[null,[I.z.required]],salesAppliedValue:[null],salesTasfAmount:[{value:null,disabled:!0}],salesOthersAmount:[null,[I.z.required]],salesSumAmount:[{value:null,disabled:!0}],airlineCommAmount:[null],agencyPostCommYn:[null],agencyCommAmount:[null],agencyCommVat:[null],agencyTasfAmount:[null],tasfAgencyPlYn:[null],adjustAmount:[null],agencyUpAmount:[null],agencyUpPayOutAmount:[null],agencyCommRate:[null]}),this.initFlightFarePutForm=()=>({bookingTravelerCode:null,bookingFareTypeCode:"BKF02",ticketingNetAmount:0,salesNetAmount:0,salesTaxAmount:0,salesFuelAmount:0,salesQAmount:0,salesAppliedValue:0,salesTasfAmount:0,salesOthersAmount:0,salesSumAmount:0,airlineCommAmount:0,agencyPostCommYn:!1,agencyCommAmount:0,agencyCommVat:0,agencyTasfAmount:0,tasfAgencyPlYn:!1,adjustAmount:0,agencyUpAmount:0,agencyUpPayOutAmount:0,agencyCommRate:0}),this.initFlightFarePutCondition=()=>({bookingTravelerCode:null,bookingFareTypeCode:null,ticketingNetAmount:null,salesAppliedValue:null,salesNetAmount:null,salesQAmount:null,salesTaxAmount:null,salesFuelAmount:null,airlineCommCode:null,salesTasfAmount:null,salesSumAmount:null,salesOthersAmount:null,adjustReasonCode:null,adjustAmount:null,airlineCommAmount:null,tasfAgencyPlYn:null,agencyTasfAmount:null,agencyPostCommYn:null,agencyCommRate:null,agencyCommAmount:null,agencyCommVat:null,agencyUpAmount:null,agencyUpPayOutAmount:null}),this.generateAncillaryPutForm=()=>this.fb.group({bookingTravelerCodes:[null],segmentRowid:[null,[I.z.required]],itineraryNo:[null],segmentNo:[null],ancillaryTypeCode:[null,[I.z.required]],ancillaryCode:[{value:null,disabled:!0}],ancillaryDetail:[null,[I.z.required]],ancillaryAmount:[null,[I.z.required]],commAmount:[null,[I.z.required]],gdsStatusCode:[{value:null,disabled:!0}],ancillaryStatusCode:[{value:null,disabled:!0}]}),this.initAncillaryPutForm=()=>({bookingTravelerCodes:null,segmentRowid:null,itineraryNo:null,segmentNo:null,ancillaryTypeCode:null,ancillaryCode:null,ancillaryDetail:null,ancillaryAmount:null,commAmount:null,gdsStatusCode:null,ancillaryStatusCode:null}),this.initAncillaryPutCondition=()=>({itineraryNo:null,segmentNo:null,ancillaryTypeCode:null,ancillaryDetail:null,ancillaryAmount:null,commAmount:null}),this.generateTravelerDivideInitPutForm=()=>this.fb.group({newGdsSubPnr:[null]}),this.initTravelerDividePutForm=()=>({newGdsSubPnr:null}),this.generateRefundRequestsInitPutForm=()=>this.fb.group({requests:this.fb.array([])}),this.generateRefundRequestInitPutForm=()=>this.fb.group({changeRequestSeq:[null],changeRequestStatusCode:[null,[I.z.required]],requestDatetime:[null],refundRegisteredYn:[null],refundPicName:[null],changeRequestTypeName:[null],ticketInfo:this.fb.array([])}),this.generateRefundRequestInitTicketForm=()=>this.fb.group({ticketNo:[null],nameEn:[null]}),this.initRefundRequestsPutForm=()=>({requests:[]}),this.initRefundRequestPutCondition=()=>({changeRequestSeq:null,changeRequestStatusCode:null}),this.generateRefundRegisterBillingInitPutForm=()=>this.fb.group({ticketingDate:[null],ticketNo:[null],refundAppliedDate:[null,[I.z.required]],billingYear:[null,[I.z.required]],billingMonth:[null,[I.z.required]],billingPeriodCode:[null,[I.z.required]],refundFareAmount:[null,[I.z.required]],airlinePenaltyAmount:[null,[I.z.required]],refundTaxAmount:[null,[I.z.required]],refundCashAmount:[null,[I.z.required]],refundCardAmount:[null,[I.z.required]],refundSumAmount:[null,[I.z.required]],airlineRecallCommAmount:[null,[I.z.required]],airlineRecallCommVat:[null,[I.z.required]],controlRemark:[null]}),this.initRefundRegisterBillingPutForm=()=>({ticketingDate:null,ticketNo:null,refundAppliedDate:null,billingYear:null,billingMonth:null,billingPeriodCode:null,controlRemark:null,refundFareAmount:null,airlinePenaltyAmount:null,refundTaxAmount:null,refundCashAmount:null,refundCardAmount:null,refundSumAmount:null,airlineRecallCommAmount:null,airlineRecallCommVat:null}),this.initRefundRegisterBillingPutCondition=()=>({ticketingDate:null,ticketNo:null,refundAppliedDate:null,billingYearMonth:null,billingPeriodCode:null,controlRemark:null}),this.generateRefundRegisterDsrInitPutForm=()=>this.fb.group({refundReceiveDate:[null,[I.z.required]],billingTypeCode:[null,[I.z.required]],refundPicUno:[null],raRefundNo:[null],refundFareAmount:[null,[I.z.required]],refundTaxAmount:[null,[I.z.required]],refundPenaltyAmount:[null,[I.z.required]],refundCardAmount:[null,[I.z.required]],refundCashAmount:[null,[I.z.required]],airlineCommAmount:[null,[I.z.required]],airlineCommVat:[null,[I.z.required]],discountUpsellAdjustAmount:[null],airlinePenaltyAdjustAmount:[null],agencyUpAdjustAmount:[null],couponAdjustAmount:[null],affiliateCouponAdjustAmount:[null],gdsAirlineCompCode:[null,[I.z.required]],refundPicName:[null]}),this.initRefundRegisterDsrPutForm=()=>({dsr:{refundReceiveDate:null,refundPicName:null,raRefundNo:null,billingTypeCode:null,gdsAirlineCompCode:null,refundPicUno:null,airlinePenaltyAmount:null,refundFareAmount:null,refundTaxAmount:null,refundPenaltyAmount:null,refundCardAmount:null,refundCashAmount:null,refundSumAmount:null,airlineCommAmount:null,airlineCommVat:null,discountUpsellAdjustAmount:null,airlinePenaltyAdjustAmount:null,agencyUpAdjustAmount:null,couponAdjustAmount:null,affiliateCouponAdjustAmount:null,airlinePenalty:null,affiliateCouponSumAmount:null},client:{refundAgencyCommAmount:null,refundAgencyCommVat:null,affiliateDepositAmount:null,payOutBankMasterCode:null,payOutBankAccountNo:null,payOutBankDepositorName:null}}),this.initRefundRegisterDsrPutCondition=()=>({ticketingDate:null,ticketNo:null,dsr:{refundReceiveDate:null,billingTypeCode:null,refundPicUno:null,raRefundNo:null,refundFareAmount:null,refundTaxAmount:null,refundPenaltyAmount:null,refundCardAmount:null,refundCashAmount:null,airlineCommAmount:null,airlineCommVat:null,discountUpsellAdjustAmount:null,airlinePenaltyAdjustAmount:null,agencyUpAdjustAmount:null,couponAdjustAmount:null,affiliateCouponAdjustAmount:null,gdsAirlineCompCode:null},client:{affiliateDepositAmount:null,refundAgencyCommAmount:null,refundAgencyCommVat:null,payOutBankMasterCode:null,payOutBankAccountNo:null,payOutBankDepositorName:null}}),this.setDefaultValueOfRefundRegisterDsrPutCondtion=()=>({discountUpsellAdjustAmount:0,airlinePenaltyAdjustAmount:0,agencyUpAdjustAmount:0,couponAdjustAmount:0,affiliateCouponAdjustAmount:0}),this.setDefaultValueOfRefundRegisterClientPutCondtion=()=>({affiliateDepositAmount:0,refundAgencyCommAmount:0,refundAgencyCommVat:0}),this.generateRefundRegisterPaymentInitPutForm=()=>this.fb.group({list:this.fb.array([this.fb.group({ticketingDate:[null],ticketNo:[null],withdrawMethodCode:[null],withdrawAmount:[null]}),this.fb.group({ticketingDate:[null],ticketNo:[null],withdrawMethodCode:[null],withdrawAmount:[{value:null,disabled:!0}]}),this.fb.group({ticketingDate:[null],ticketNo:[null],withdrawMethodCode:[null],withdrawAmount:[{value:null,disabled:!0}]}),this.fb.group({ticketingDate:[null],ticketNo:[null],withdrawMethodCode:[null],withdrawAmount:[{value:null,disabled:!0}]}),this.fb.group({ticketingDate:[null],ticketNo:[null],withdrawMethodCode:[null],withdrawAmount:[{value:null,disabled:!0}]}),this.fb.group({ticketingDate:[null],ticketNo:[null],withdrawMethodCode:[null],withdrawAmount:[{value:null,disabled:!0}]}),this.fb.group({ticketingDate:[null],ticketNo:[null],withdrawMethodCode:[null],withdrawAmount:[{value:null,disabled:!0}]}),this.fb.group({ticketingDate:[null],ticketNo:[null],withdrawMethodCode:[null],withdrawAmount:[{value:null,disabled:!0}]}),this.fb.group({ticketingDate:[null],ticketNo:[null],withdrawMethodCode:[null],withdrawAmount:[{value:null,disabled:!0}]})])}),this.initRefundRegisterPaymentPutForm=()=>({list:[{ticketingDate:null,ticketNo:null,withdrawMethodCode:"CCRP",withdrawAmount:null},{ticketingDate:null,ticketNo:null,withdrawMethodCode:"PGIN",withdrawAmount:null},{ticketingDate:null,ticketNo:null,withdrawMethodCode:"SMKK",withdrawAmount:null},{ticketingDate:null,ticketNo:null,withdrawMethodCode:"PGCI",withdrawAmount:null},{ticketingDate:null,ticketNo:null,withdrawMethodCode:"CCDP",withdrawAmount:null},{ticketingDate:null,ticketNo:null,withdrawMethodCode:"CCCA",withdrawAmount:null},{ticketingDate:null,ticketNo:null,withdrawMethodCode:"CCCC",withdrawAmount:null},{ticketingDate:null,ticketNo:null,withdrawMethodCode:"CCPT",withdrawAmount:null},{ticketingDate:null,ticketNo:null,withdrawMethodCode:"CCGF",withdrawAmount:null}]}),this.initRefundRegisterPaymentPutCondition=()=>({ticketingDate:null,ticketNo:null,withdrawMethodCode:null,withdrawAmount:null}),this.generatePaymentInfoModalPutInitForm=e=>{var t,n,i,o,a,c,s,r;return this.fb.group({bookingTravelerCode:[(null==e?void 0:e.bookingTravelerCode)||null],name:[(null==e?void 0:e.name)||null],nameEn:[(null==e?void 0:e.nameEn)||null],paymentDetailTypeCode:[(null==e?void 0:e.paymentDetailTypeCode)||null,[I.z.required]],paymentSeq:[(null==e?void 0:e.paymentSeq)||null],paxFareSeq:[(null==e?void 0:e.paxFareSeq)||null],chargeSeq:[(null==e?void 0:e.chargeSeq)||null],cardInfo:this.fb.group({paymentSeq:[(null===(t=null==e?void 0:e.cardInfo)||void 0===t?void 0:t.paymentSeq)||null],paxFareSeq:[(null===(n=null==e?void 0:e.cardInfo)||void 0===n?void 0:n.paxFareSeq)||null],chargeSeq:[(null===(i=null==e?void 0:e.cardInfo)||void 0===i?void 0:i.chargeSeq)||null],salesSumAmount:[{value:(null==e?void 0:e.salesSumAmount)||0,disabled:!0}],depositTypeCode:[(null===(o=null==e?void 0:e.cardInfo)||void 0===o?void 0:o.depositTypeCode)||null],paidAmount:[null,[I.z.required]],cardHolderTypeCode:[null,[I.z.required]],cardHolderRelationCode:[null],cardMasterCode:[null,[I.z.required]],cardNo:[null,[I.z.required]],cardQuotaMonth:[null,[I.z.required]],cardHolderName:[null],cardHolderBirthday:[null],cardHolderTaxPayerNo:[null],cardPassword:[null,[I.z.required]],autoResponsePhoneNo:[null],callableDatetime:[null],cardValidPeriodYear:[null,[I.z.required]],cardValidPeriodMonth:[null,[I.z.required]]}),bankInfo:this.fb.group({paymentSeq:[(null===(a=null==e?void 0:e.bankInfo)||void 0===a?void 0:a.paymentSeq)||null],paxFareSeq:[(null===(c=null==e?void 0:e.bankInfo)||void 0===c?void 0:c.paxFareSeq)||null],chargeSeq:[(null===(s=null==e?void 0:e.bankInfo)||void 0===s?void 0:s.chargeSeq)||null],depositTypeCode:[(null===(r=null==e?void 0:e.bankInfo)||void 0===r?void 0:r.depositTypeCode)||null],bankMasterCode:[null],bankMasterName:[null],paidAmount:[null,[I.z.required]],bankAccountNo:[null],bankRemitName:[null],depositDueDatetime:[null]})})},this.generatePaymentInfoModalPutForm=e=>{var t,n,i,o,a,c,s,r,l,d,b,u,p,m,h,g,f,v,C,y,k,O,P,j,V,A,W,R,F,S,T;const[N,E]=(null===(n=null===(t=null==e?void 0:e.cardInfo)||void 0===t?void 0:t.cardValidPeriod)||void 0===n?void 0:n.split("/"))||[null,null],M=Q.isNil(null===(i=null==e?void 0:e.bankInfo)||void 0===i?void 0:i.depositDueDatetime)?null:G(null===(o=null==e?void 0:e.bankInfo)||void 0===o?void 0:o.depositDueDatetime).format("YYYY-MM-DD HH:mm");return this.fb.group({bookingTravelerCode:[(null==e?void 0:e.bookingTravelerCode)||null],name:[(null==e?void 0:e.name)||null],nameEn:[(null==e?void 0:e.nameEn)||null],paymentDetailTypeCode:[(null==e?void 0:e.paymentDetailTypeCode)||null,[I.z.required]],paymentSeq:[(null==e?void 0:e.paymentSeq)||null],paxFareSeq:[(null==e?void 0:e.paxFareSeq)||null],chargeSeq:[(null==e?void 0:e.chargeSeq)||null],cardInfo:this.fb.group({paymentSeq:[(null===(a=null==e?void 0:e.cardInfo)||void 0===a?void 0:a.paymentSeq)||null],paxFareSeq:[(null===(c=null==e?void 0:e.cardInfo)||void 0===c?void 0:c.paxFareSeq)||null],chargeSeq:[(null===(s=null==e?void 0:e.cardInfo)||void 0===s?void 0:s.chargeSeq)||null],salesSumAmount:[{value:(null==e?void 0:e.salesSumAmount)||0,disabled:!0}],depositTypeCode:[null===(r=null==e?void 0:e.cardInfo)||void 0===r?void 0:r.depositTypeCode],paidAmount:[(null===(l=null==e?void 0:e.cardInfo)||void 0===l?void 0:l.paidAmount)||null,Q.isNil(null==e?void 0:e.cardInfo)?null:[I.z.required]],cardHolderTypeCode:[(null===(d=null==e?void 0:e.cardInfo)||void 0===d?void 0:d.cardHolderTypeCode)||null,Q.isNil(null==e?void 0:e.cardInfo)?null:[I.z.required]],cardHolderRelationCode:[(null===(b=null==e?void 0:e.cardInfo)||void 0===b?void 0:b.cardHolderRelationCode)||null],cardMasterCode:[(null===(u=null==e?void 0:e.cardInfo)||void 0===u?void 0:u.cardMasterCode)||null,Q.isNil(null==e?void 0:e.cardInfo)?null:[I.z.required]],cardNo:[(null===(p=null==e?void 0:e.cardInfo)||void 0===p?void 0:p.cardNo)||null,Q.isNil(null==e?void 0:e.cardInfo)?null:[I.z.required]],cardQuotaMonth:[(null===(m=null==e?void 0:e.cardInfo)||void 0===m?void 0:m.cardQuotaMonth)||null,Q.isNil(null==e?void 0:e.cardInfo)?null:[I.z.required]],cardHolderName:[(null===(h=null==e?void 0:e.cardInfo)||void 0===h?void 0:h.cardHolderName)||null],cardHolderBirthday:[(null===(g=null==e?void 0:e.cardInfo)||void 0===g?void 0:g.cardHolderBirthday)||null,Q.isNil(null==e?void 0:e.cardInfo)||"CCH03"===(null===(f=null==e?void 0:e.cardInfo)||void 0===f?void 0:f.cardHolderTypeCode)?null:[I.z.required]],cardHolderTaxPayerNo:[(null===(v=null==e?void 0:e.cardInfo)||void 0===v?void 0:v.cardHolderTaxPayerNo)||null,Q.isNil(null==e?void 0:e.cardInfo)||"CCH03"!==(null===(C=null==e?void 0:e.cardInfo)||void 0===C?void 0:C.cardHolderTypeCode)?null:[I.z.required]],cardPassword:[(null===(y=null==e?void 0:e.cardInfo)||void 0===y?void 0:y.cardPassword)||null,Q.isNil(null==e?void 0:e.cardInfo)?null:[I.z.required]],autoResponsePhoneNo:[(null===(k=null==e?void 0:e.cardInfo)||void 0===k?void 0:k.autoResponsePhoneNo)||null],callableDatetime:[(null===(O=null==e?void 0:e.cardInfo)||void 0===O?void 0:O.callableDatetime)||null],cardValidPeriodYear:[E?`20${E}`:null,Q.isNil(null==e?void 0:e.cardInfo)?null:[I.z.required]],cardValidPeriodMonth:[N||null,Q.isNil(null==e?void 0:e.cardInfo)?null:[I.z.required]]}),bankInfo:this.fb.group({paymentSeq:[(null===(P=null==e?void 0:e.bankInfo)||void 0===P?void 0:P.paymentSeq)||null],paxFareSeq:[(null===(j=null==e?void 0:e.bankInfo)||void 0===j?void 0:j.paxFareSeq)||null],chargeSeq:[(null===(V=null==e?void 0:e.bankInfo)||void 0===V?void 0:V.chargeSeq)||null],depositTypeCode:[(null===(A=null==e?void 0:e.bankInfo)||void 0===A?void 0:A.depositTypeCode)||null],bankMasterCode:[(null===(W=null==e?void 0:e.bankInfo)||void 0===W?void 0:W.bankMasterCode)||null],bankMasterName:[(null===(R=null==e?void 0:e.bankInfo)||void 0===R?void 0:R.bankMasterName)||null],paidAmount:[(null===(F=null==e?void 0:e.bankInfo)||void 0===F?void 0:F.paidAmount)||null,Q.isNil(null==e?void 0:e.bankInfo)?null:[I.z.required]],bankAccountNo:[(null===(S=null==e?void 0:e.bankInfo)||void 0===S?void 0:S.bankAccountNo)||null],bankRemitName:[(null===(T=null==e?void 0:e.bankInfo)||void 0===T?void 0:T.bankRemitName)||null],depositDueDatetime:[M||null]})})},this.initPaymentInfoModalPutForm=()=>({paymentInfos:[]}),this.initPaymentInfoModalPaymentInfoItemPutForm=()=>({bookingTravelerCode:null,name:null,nameEn:null,paymentDetailTypeCode:null,paymentSeq:null,paxFareSeq:null,chargeSeq:null,cardInfo:{paymentSeq:null,paxFareSeq:null,chargeSeq:null,salesSumAmount:null,depositTypeCode:null,paidAmount:null,cardHolderTypeCode:null,cardHolderRelationCode:null,cardMasterCode:null,cardNo:null,cardQuotaMonth:null,cardHolderName:null,cardHolderBirthday:null,cardHolderTaxPayerNo:null,cardPassword:null,autoResponsePhoneNo:null,callableDatetime:null,cardValidPeriodYear:null,cardValidPeriodMonth:null},bankInfo:{paymentSeq:null,paxFareSeq:null,chargeSeq:null,depositTypeCode:null,bankMasterCode:null,bankMasterName:null,paidAmount:null,bankAccountNo:null,bankRemitName:null,depositDueDatetime:null}}),this.initPaymentInfoModalPaymentInfoItemPutCondition=()=>({bookingTravelerCode:null,paymentSeq:null,paxFareSeq:null,chargeSeq:null,paymentDetailTypeCode:null}),this.initPaymentInfoModalPaymentInfoItemInsertCondition=()=>({bookingTravelerCode:null,paxFareSeq:null,chargeSeq:null,paymentDetailTypeCode:null}),this.initPaymentInfoModalPaymentInfoItemCardInfoPutCondition=()=>({paidAmount:null,depositTypeCode:null,cardHolderTypeCode:null,cardHolderRelationCode:null,cardMasterCode:null,cardNo:null,cardQuotaMonth:null,cardValidPeriod:null,cardHolderName:null,cardHolderBirthday:null,cardHolderTaxPayerNo:null,cardPassword:null,autoResponsePhoneNo:null,callableDatetime:null}),this.initPaymentInfoModalPaymentInfoItemBankInfoPutCondition=()=>({depositTypeCode:null,bankMasterCode:null,paidAmount:null,bankAccountNo:null,bankRemitName:null,depositDueDatetime:null}),this.generatePaymentInfoModalPaymentInfosPutForm=()=>this.fb.group({paymentInfos:this.fb.array([])}),this.generatePaymentInfosRegisterPutForm=()=>this.fb.group({paymentInfos:this.fb.array([])}),this.initPaymentInfosRegisterPutForm=()=>({paymentInfos:[]}),this.generatePaymentInfoRegisterPutForm=()=>this.fb.group({bookingFareInfoTypeCode:[null],cardInfo:this.fb.group({salesSumAmount:[null],paymentDetailTypeCode:[null,[I.z.required]],depositTypeCode:[null,[I.z.required]],cardHolderTypeCode:[null,[I.z.required]],cardHolderRelationCode:[null],cardMasterCode:[null,[I.z.required]],cardNo:[null,[I.z.required]],cardValidPeriodYear:[null,[I.z.required,I.z.minLength(4),I.z.maxLength(4)]],cardValidPeriodMonth:[null,[I.z.required,I.z.minLength(2),I.z.maxLength(2)]],cardQuotaMonth:[null,[I.z.required]],cardPassword:[null],cardHolderName:[null],cardHolderBirthday:[null],cardHolderTaxPayerNo:[null],paxPayments:this.fb.array([])})}),this.initPaymentInfoRegisterPutForm=()=>({bookingFareInfoTypeCode:null,cardInfo:{salesSumAmount:null,paymentDetailTypeCode:null,depositTypeCode:"CCBP",cardHolderTypeCode:null,cardHolderRelationCode:null,cardMasterCode:null,cardNo:null,cardValidPeriodYear:null,cardValidPeriodMonth:null,cardQuotaMonth:null,cardPassword:null,cardHolderName:null,cardHolderBirthday:null,cardHolderTaxPayerNo:null,paxPayments:[]}}),this.initPaymentInfoRegisterPutCondition=()=>({paymentDetailTypeCode:null,depositTypeCode:null,cardHolderTypeCode:null,cardHolderRelationCode:null,cardMasterCode:null,cardNo:null,cardValidPeriod:null,cardQuotaMonth:null,cardPassword:null,cardHolderName:null,cardHolderBirthday:null,cardHolderTaxPayerNo:null,paxPayments:[]}),this.generatePaymentInfoRegisterPaxPaymentPutForm=()=>this.fb.group({nameEn:[null],salesSumAmount:[null],requestSumAmount:[null],balanceSumAmount:[null],bookingTravelerCode:[null,[I.z.required]],requestAmount:[null,[I.z.required]],requestCashAmount:[null],paxFareSeq:[null],chargeSeq:[null],ancillarySeq:[null]}),this.initPaymentInfoRegisterPaxPaymentPutForm=()=>({nameEn:null,salesSumAmount:null,requestSumAmount:null,balanceSumAmount:null,bookingTravelerCode:null,requestAmount:null,requestCashAmount:null,paxFareSeq:null,chargeSeq:null,ancillarySeq:null}),this.initPaymentInfoRegisterPaxPaymentPutCondition=()=>({nameEn:null,salesSumAmount:null,requestSumAmount:null,balanceSumAmount:null,bookingTravelerCode:null,requestAmount:null,requestCashAmount:null,paxFareSeq:null,chargeSeq:null,ancillarySeq:null}),this.generatePaymentInfosUpdatePutForm=()=>this.fb.group({bookingItemCode:[null],paymentInfos:this.fb.array([])}),this.initPaymentInfosUpdatePutForm=()=>({bookingItemCode:null,paymentInfos:[]}),this.generatePaymentInfoUpdatePutForm=()=>this.fb.group({paymentSeq:[null]}),this.initPaymentInfoUpdatePutForm=()=>({paymentSeq:null}),this.generatePaymentInfoUpdateCardPutForm=()=>this.fb.group({salesSumAmount:[null],paymentDetailTypeCode:[null,[I.z.required]],depositTypeName:[null],depositTypeCode:[null,[I.z.required]],cardHolderTypeCode:[null,[I.z.required]],cardHolderRelationCode:[null],cardMasterCode:[null,[I.z.required]],cardNo:[null,[I.z.required]],cardValidPeriodYear:[null,[I.z.required,I.z.minLength(4),I.z.maxLength(4)]],cardValidPeriodMonth:[null,[I.z.required,I.z.minLength(2),I.z.maxLength(2)]],cardQuotaMonth:[null,[I.z.required]],cardPassword:[null],cardHolderName:[null],cardHolderBirthday:[null],cardHolderTaxPayerNo:[null],autoResponsePhoneNo:[null],callableDate:[null],callableTime:[null],paidDatetime:[null],paxPayments:this.fb.array([])}),this.initPaymentInfoUpdateCardPutForm=()=>({salesSumAmount:null,paymentDetailTypeCode:null,depositTypeName:null,depositTypeCode:null,cardHolderTypeCode:null,cardHolderRelationCode:null,cardMasterCode:null,cardNo:null,cardValidPeriodYear:null,cardValidPeriodMonth:null,cardQuotaMonth:null,cardPassword:null,cardHolderName:null,cardHolderBirthday:null,cardHolderTaxPayerNo:null,autoResponsePhoneNo:null,callableDate:null,callableTime:null,paidDatetime:null,paxPayments:[]}),this.initPaymentInfoUpdateCardPutCondition=()=>({paymentDetailTypeCode:null,depositTypeCode:null,cardHolderTypeCode:null,cardHolderRelationCode:null,cardMasterCode:null,cardNo:null,cardValidPeriod:null,cardQuotaMonth:null,cardPassword:null,cardHolderName:null,cardHolderBirthday:null,cardHolderTaxPayerNo:null,autoResponsePhoneNo:null,paxPayments:[]}),this.generatePaymentInfoUpdateBankPutForm=()=>this.fb.group({depositTypeName:[null],salesSumAmount:[null],bankMasterName:[null],bankAccountNo:[null],depositDueDatetime:[null],paymentDetailTypeCode:[null],paidDatetime:[null],paxPayments:this.fb.array([])}),this.initPaymentInfoUpdateBankPutForm=()=>({depositTypeName:null,salesSumAmount:null,bankMasterName:null,bankAccountNo:null,depositDueDatetime:null,paymentDetailTypeCode:null,paidDatetime:null,paxPayments:[]}),this.generatePaymentInfoUpdatePaxPaymentPutForm=()=>this.fb.group({bookingTravelerCode:[null,[I.z.required]],requestAmount:[null,[I.z.required]],requestCashAmount:[null],paxFareSeq:[null],chargeSeq:[null],ancillarySeq:[null],bookingFareTypeCode:[null],requestSumAmount:[null],salesSumAmount:[null],balanceSumAmount:[null],name:[null],nameEn:[null]}),this.initPaymentInfoUpdatePaxPaymentPutForm=()=>({bookingTravelerCode:null,requestAmount:null,requestCashAmount:null,paxFareSeq:null,chargeSeq:null,ancillarySeq:null,bookingFareTypeCode:null,requestSumAmount:null,salesSumAmount:null,balanceSumAmount:null,name:null,nameEn:null}),this.initPaymentInfoUpdatePaxPaymentPutCondition=()=>({bookingTravelerCode:null,requestAmount:null,requestCashAmount:null,paxFareSeq:null,chargeSeq:null,ancillarySeq:null}),this.generatePaymentCancelPutForm=()=>this.fb.group({stationTypeCode:[null],bookingItemCode:[null],bookingTravelerCode:[null],paymentSeq:[null],paymentDetailTypeCode:[null],depositTypeCode:[null],cancelAmount:[null],adjustReasonCode:[null]}),this.initPaymentCancelPutForm=()=>({stationTypeCode:null,bookingItemCode:null,bookingTravelerCode:null,paymentSeq:null,paymentDetailTypeCode:null,depositTypeCode:null,cancelAmount:null,adjustReasonCode:null}),this.initPaymentCancelPutCondition=()=>({stationTypeCode:null,bookingItemCode:null,bookingTravelerCode:null,paymentSeq:null,paymentDetailTypeCode:null,depositTypeCode:null,cancelAmount:null,adjustReasonCode:null}),this.generatePaymentManualPutForm=()=>this.fb.group({paymentDetailTypeCode:[null,[I.z.required]],depositTypeCode:[null,[I.z.required]],currencyCode:[null],paidAmount:[null,[I.z.required]],paidDate:[null,[I.z.required]],clientName:[null,[I.z.required]],confirmUno:[null],cardMasterCode:[null],cardNo:[null],cardHolderName:[null],cardValidPeriodYear:[null],cardValidPeriodMonth:[null],cardQuotaMonth:[null],cardApprovalNo:[null],giftCardTypeCode:[null],giftCardExpireDate:[null],paymentRelatedNo:[null]}),this.initPaymentManualPutForm=()=>({paymentDetailTypeCode:null,depositTypeCode:null,currencyCode:"KRW",paidAmount:null,paidDate:null,clientName:null,confirmUno:null,cardMasterCode:null,cardNo:null,cardHolderName:null,cardValidPeriodYear:null,cardValidPeriodMonth:null,cardQuotaMonth:null,cardApprovalNo:null,giftCardTypeCode:null,giftCardExpireDate:null,paymentRelatedNo:null}),this.initPaymentManualPutCondition=()=>({paymentDetailTypeCode:null,depositTypeCode:null,currencyCode:null,paidAmount:null,paidDate:null,clientName:null,confirmUno:null,card:{cardMasterCode:null,cardNo:null,cardHolderName:null,cardValidPeriod:null,cardQuotaMonth:null,cardApprovalNo:null},other:{giftCardTypeCode:null,giftCardExpireDate:null,paymentRelatedNo:null}})}generateChangeRequestsPutForm(){return this.fb.group({changeRequests:this.fb.array([])})}generateRequestRemarkPutForm(){return this.fb.group({changeRequestSeq:null,requestRemark:null})}initChangeRequestsPutForm(){return{changeRequests:[]}}initRequestRemarkPutForm(){return{changeRequestSeq:null,requestRemark:null}}generateBasisInfoPutForm(){return this.fb.group({bookingItemCode:[null,I.z.required],groupOrFit:[null,I.z.required],gdsCompCode:[null],gdsMainPnr:[null],gdsSubPnr:[null],bookingStatusCode:[null,I.z.required],paymentStatusCode:[null,I.z.required],ticketingStatusCode:[null,I.z.required],fareConfirmYn:[null,I.z.required],bookingPicUno:[null,I.z.required],clientCancelDeadline:[null,I.z.required],clientCancelDeadlineDate:[null],clientCancelDeadlineTime:[null],clientTlFixedYn:[null,I.z.required],domesticYn:[null,I.z.required],lastTicketingPicUno:[null],destinationCityCodeIata:[null,I.z.required],routingTypeCode:[null],departureTypeCode:[null,I.z.required],billingTypeCode:[null,I.z.required],autoTicketingStatusCode:[null],myPageDisplayYn:[null,I.z.required],evidenceNeededYn:[null,I.z.required],apisRegisterYn:[null,I.z.required],taxFixedYn:[null,I.z.required]})}initBasisInfoPutForm(){return{bookingItemCode:null,groupOrFit:null,gdsCompCode:null,gdsMainPnr:null,gdsSubPnr:null,bookingStatusCode:"BKS01",paymentStatusCode:null,ticketingStatusCode:null,fareConfirmYn:!1,bookingPicUno:null,clientCancelDeadline:null,clientCancelDeadlineDate:null,clientCancelDeadlineTime:null,clientTlFixedYn:!1,domesticYn:!1,lastTicketingPicUno:null,destinationCityCodeIata:null,routingTypeCode:null,departureTypeCode:null,billingTypeCode:null,autoTicketingStatusCode:null,myPageDisplayYn:null,evidenceNeededYn:null,apisRegisterYn:null,taxFixedYn:null}}generateBasisPnrPutForm(){return this.fb.group({gdsMainPnr:[null,[I.z.required]],gdsSubPnr:[null]})}initBasisPnrPutForm(){return{gdsMainPnr:null,gdsSubPnr:null}}generateBasisDataPutForm(){return this.fb.group({destinationCityCodeIata:[null,[I.z.required]],departureTypeCode:[null,[I.z.required]],autoTicketingStatusCode:[null],ticketingCompCode:[null],billingTypeCode:[null],stockAirlineCode:[null,[I.z.minLength(2),I.z.maxLength(2)]],controlBranchCode:[null,[I.z.required]],myPageDisplayYn:[!0,[I.z.required]],evidenceNeededYn:[!1,[I.z.required]],evidenceConfirmYn:[!1,[I.z.required]],airlineReportYn:[!1,[I.z.required]],taxFixedYn:[!1,[I.z.required]]})}initBasisDataPutForm(){return{destinationCityCodeIata:null,departureTypeCode:null,autoTicketingStatusCode:null,ticketingCompCode:null,billingTypeCode:null,stockAirlineCode:null,controlBranchCode:null,myPageDisplayYn:!0,evidenceNeededYn:!1,evidenceConfirmYn:!1,airlineReportYn:!1,taxFixedYn:!1}}generateFareRuleSectionsPutInitForm(){return this.fb.group({fareRuleSections:this.fb.array([])})}generateFareRuleSectionItemPutInitForm(){return this.fb.group({isNew:[!0],displayOrder:[null],marketingAirlineCode:[null,I.z.required],bookingClassCode:[null,[I.z.required]],fareBasisCode:[null],originAirportCode:[null,[I.z.required]],destinationAirportCode:[null,[I.z.required]]})}generateFareRulSectionsPutForm(e){return this.fb.group({fareRuleSections:this.fb.array(e.list.map(e=>{const{segmentSeq:t,displayOrder:n,marketingAirlineCode:i,bookingClassCode:o,fareBasisCode:a,origin:c,destination:s,fareRules:r}=e;return this.fb.group({isNew:[!1],segmentSeq:[t],displayOrder:[n],marketingAirlineCode:[i,I.z.required],bookingClassCode:[o,[I.z.required]],fareBasisCode:[a],originAirportCode:[c.airport,[I.z.required]],destinationAirportCode:[s.airport,[I.z.required]],fareRules:[r]})}))})}initFareRuleSectionsPutForm(){return{fareRuleSections:[this.initFareRuleSelctionItemPutForm()]}}initFareRuleSelctionItemPutForm(){return{isNew:!0,displayOrder:null,marketingAirlineCode:null,bookingClassCode:null,fareBasisCode:null,originAirportCode:null,destinationAirportCode:null}}generateFareRulesPutInitForm(){return this.fb.group({fareRules:this.fb.array([this.generateFareRuleItemPutInitForm()])})}generateFareRuleItemPutInitForm(){return this.fb.group({checked:[!1],isEditting:[!1],displayOrder:[null],ruleName:[null,[I.z.required]],ruleDetail:[null]})}initFareRulesPutForm(){return{fareRules:[this.initFareRuleItemPutForm()]}}initFareRuleItemPutForm(){return{checked:!1,isEditting:!1,displayOrder:null,ruleName:null,ruleDetail:null}}generateFareRulePutForm(e){return this.fb.group({fareRules:this.fb.array(e.map(e=>{const{rowid:t,fareRuleSeq:n,displayOrder:i,ruleName:o,ruleDetail:a}=e;return this.fb.group({checked:[!1],isEditting:[!1],rowid:[t],fareRuleSeq:[n],displayOrder:[i],ruleName:[o,[I.z.required]],ruleDetail:[a]})}))})}generatePnrLogMemosPutInitForm(){return this.fb.group({memos:this.fb.array([])})}generatePnrLogMemosPutForm(e){return this.fb.group({memos:this.fb.array(e.map(e=>this.generatePnrLogMemoPutForm(e)))})}generatePnrLogMemoPutForm(e){return this.fb.group({rowid:[e.rowId],pnrLogSeq:[e.pnrLogSeq],gdsCompCode:[e.gdsCompCode],gdsMainPnr:[e.gdsMainPnr],bookingItemCode:[e.bookingItemCode],pnrDetail:[e.pnrDetail],lastUpdateName:[e.lastUpdateName],firstInsertDatetime:[e.firstInsertDatetime],controlRemark:[e.controlRemark]})}generateTravelersPutInitForm(){return this.fb.group({travelers:this.fb.array([])})}generateTravelerPutInitForm(){return this.fb.group({travelerNo:[null],travelerUno:[null],bookingTravelerCode:[null],name:[null,[I.z.required,I.z.pattern("[\uac00-\ud7a3\u3131-\u314e\u314f-\u3163]+$")]],lastName:[null,[I.z.required,rn.a.eng(),I.z.minLength(2)]],firstName:[null,[I.z.required,rn.a.eng()]],gender:[null,[I.z.required]],ageTypeCode:[null,[I.z.required]],birthday:[null,[I.z.required]],userTypeName:[null],deptName:[null],positionName:[null],outsideStaffTypeName:[null]})}generateTravelerPutForm(e){return this.fb.group({travelers:this.fb.array(e.map(e=>{const{travelerNo:t,travelerUno:n,bookingTravelerCode:i,name:o,lastName:a,firstName:c,gender:s,ageTypeCode:r,birthday:l,userTypeName:d,deptName:b,positionName:u,outsideStaffTypeName:p}=e;return this.fb.group({travelerNo:[t],travelerUno:[n],bookingTravelerCode:[i],name:[o,[I.z.required,I.z.pattern("[\uac00-\ud7a3\u3131-\u314e\u314f-\u3163]+$")]],lastName:[a,[I.z.required,rn.a.eng(),I.z.minLength(2)]],firstName:[c,[I.z.required,rn.a.eng()]],gender:[s,[I.z.required]],ageTypeCode:[r,[I.z.required]],birthday:[l,[I.z.required]],userTypeName:[d],deptName:[b],positionName:[u],outsideStaffTypeName:[p]})}))})}initTravelersPutForm(){return{travelers:[this.initTravelerPutForm()]}}initTravelerPutForm(){return{travelerNo:null,travelerUno:null,bookingTravelerCode:null,name:null,lastName:null,firstName:null,gender:null,ageTypeCode:null,birthday:null,userTypeName:null,deptName:null,positionName:null,outsideStaffTypeName:null}}generateApisListPutInitForm(){return this.fb.group({apisList:this.fb.array([])})}generateApisItemPutInitForm(){return this.fb.group({name:[null],lastName:[null],firstName:[null],birthday:[null],bookingTravelerCode:[null],passportNo:[null,[I.z.pattern("^[A-Z0-9]*$"),I.z.required]],expireDate:[null,[I.z.required]],nationalityCode:[null,[I.z.minLength(2),I.z.maxLength(2),rn.a.eng(),I.z.required]],issueCountryCode:[null,[I.z.minLength(2),I.z.maxLength(2),rn.a.eng(),I.z.required]],ageTypeCode:[null],lastUpdateDatetime:[null]})}generateApisListPutForm(e){return this.fb.group({apisList:this.fb.array(e.map(e=>{const{name:t,lastName:n,firstName:i,birthday:o,bookingTravelerCode:a,passportNo:c,expireDate:s,nationalityCode:r,issueCountryCode:l,ageTypeCode:d,gender:b,lastUpdateDatetime:u}=e;return this.fb.group({name:[t],lastName:[n],firstName:[i],birthday:[o],bookingTravelerCode:[a],passportNo:[c,[I.z.pattern("^[A-Z0-9]*$"),I.z.required]],expireDate:[s,[I.z.required]],nationalityCode:[r,[I.z.minLength(2),I.z.maxLength(2),rn.a.eng(),I.z.required]],issueCountryCode:[l,[I.z.minLength(2),I.z.maxLength(2),rn.a.eng(),I.z.required]],ageTypeCode:[d],gender:[b],lastUpdateDatetime:[u]})}))})}initApisListPutInitForm(){return{apisList:[]}}initApisItemPutInitForm(){return{name:null,lastName:null,birthday:null,bookingTravelerCode:null,passportNo:null,expireDate:null,nationalityCode:null,issueCountryCode:null,ageTypeCode:null,gender:null,lastUpdateDatetime:null}}generateMileageCardsPutInitForm(){return this.fb.group({mileageCards:this.fb.array([])})}generateMileageCardPutInitForm(){return this.fb.group({checked:[!1],name:[null],lastName:[null],firstName:[null],bookingTravelerCode:[null],mileageCardSeq:[null],boardAirlineCode:[null,[I.z.maxLength(2),I.z.pattern("^[A-Z0-9]*$")]],appliedAirlineCode:[null,[I.z.maxLength(2),I.z.pattern("^[A-Z0-9]*$")]],mileageCardNo:[null],mileageSendDatetime:[null]})}generateMileageCardsPutForm(e){return this.fb.group({mileageCards:this.fb.array(e.map(e=>{const{name:t,lastName:n,firstName:i,bookingTravelerCode:o,boardAirlineCode:a,appliedAirlineCode:c,mileageCardNo:s,mileageSendDatetime:r}=e;return this.fb.group({checked:[!1],name:[t],lastName:[n],firstName:[i],bookingTravelerCode:[o],boardAirlineCode:[a,[I.z.maxLength(2),I.z.pattern("^[A-Z0-9]*$")]],appliedAirlineCode:[c,[I.z.maxLength(2),I.z.pattern("^[A-Z0-9]*$")]],mileageCardNo:[s],mileageSendDatetime:[r]})}))})}initMileageCardsPutForm(){return{mileageCards:[]}}initMileageCardPutForm(){return{checked:!1,name:null,lastName:null,firstName:null,bookingTravelerCode:null,boardAirlineCode:null,appliedAirlineCode:null,mileageCardNo:null}}generateSchedulePutForm(){return this.fb.group({marketingAirlineCode:[null,[I.z.required,rn.a.airlineCodesStringValidator]],marketingFlightNumber:[null,[I.z.required,rn.a.minLength(1),rn.a.maxLength(4)]],operatingAirlineCode:[null,[rn.a.airlineCodesStringValidator]],bookingClassCode:[null,[I.z.required,rn.a.minLength(1),rn.a.maxLength(2)]],departureDate:[null,[I.z.required]],departureTime:[null,[I.z.required]],originAirportCode:[null,[I.z.required,rn.a.airportCodeValidator]],segmentStatusCode:[null,[I.z.required,rn.a.minLength(1),rn.a.maxLength(10)]],arrivalDate:[null,[I.z.required]],arrivalTime:[null,[I.z.required]],destinationAirportCode:[null,[I.z.required,rn.a.airportCodeValidator]],cabinClassCode:[null,[I.z.required,rn.a.minLength(1),rn.a.maxLength(1)]],airlinePnr:[null,[rn.a.minLength(1),rn.a.maxLength(10)]],flyingTime:[null,[I.z.required,rn.a.maxLength(7),rn.a.regexValidator(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/)]],itineraryNo:[null,[rn.a.num(),I.z.required]],segmentNo:[null,[rn.a.num(),I.z.required]],segmentSeq:[null],deleteYn:[null]})}initSchedulePutForm(){return{marketingAirlineCode:null,marketingFlightNumber:null,operatingAirlineCode:null,bookingClassCode:null,departureDate:null,departureTime:null,originAirportCode:null,segmentStatusCode:null,arrivalDate:null,arrivalTime:null,destinationAirportCode:null,cabinClassCode:null,airlinePnr:null,equipmentTypeCode:null,flyingTime:null,itineraryNo:null,segmentNo:null,deleteYn:!1,segmentSeq:null}}generateFareEvidenceFilePutForm(){return this.fb.group({evidenceSeq:[null,[I.z.required]],bookingItemCode:[null,[I.z.required]],bookingTravelerCode:[null,[I.z.required]],evidenceFileName:[null],evidenceFileUrl:[null],evidenceConfirmYn:[null,[I.z.required]],evidenceConfirmUno:[null],evidenceDisplayYn:[null,[I.z.required]],deleteYn:[null,[I.z.required]]})}initFareEvidenceFilePutForm(){return{evidenceSeq:null,bookingItemCode:null,bookingTravelerCode:null,evidenceFileName:null,evidenceFileUrl:null,evidenceConfirmYn:null,evidenceConfirmUno:null,evidenceDisplayYn:!1,deleteYn:null}}generateFareEvidencePutForm(){return this.fb.group({bookingTravelerCode:[null,[I.z.required]],evidenceDisplayYn:[null,[I.z.required]],evidenceFileUrl:[null],evidenceFileName:[null]})}initFareEvidencePutForm(){return{bookingTravelerCode:null,evidenceDisplayYn:!1,evidenceFileUrl:null,evidenceFileName:null}}generatePaymentEvidencePutForm(){return this.fb.group({evidenceDisplayYn:[null,[I.z.required]],evidenceFileUrl:[null],evidenceFileName:[null]})}initPaymentEvidencePutForm(){return{evidenceDisplayYn:!1,evidenceFileUrl:null,evidenceFileName:null}}generatePgCreditCardSalesPutForm(){return this.fb.group({cardNo:[null,[I.z.required]],cardHolderName:[null,[I.z.required]],cardQuotaMonth:[null,[I.z.required]],cardValidPeriodYear:[null,[I.z.required]],cardValidPeriodMonth:[null,[I.z.required]],cardHolderTypeCode:[null,[I.z.required]],cardMasterCode:[null,[I.z.required]],cardPassword:[null,[I.z.required]],cardHolderBirthday:[null],cardHolderTaxPayerNo:[null,[I.z.maxLength(10)]]})}initPgCreditCardSalesPutForm(){return{cardNo:null,cardHolderName:null,cardQuotaMonth:null,cardValidPeriodYear:null,cardValidPeriodMonth:null,cardHolderTypeCode:null,cardMasterCode:null,cardPassword:null,cardHolderBirthday:null,cardHolderTaxPayerNo:null}}initPgCreditCardSalesPutCondition(){return{paymentDetailTypeCode:null,cards:null}}initPgCreditCardSalesPutCardCondition(){return{paxFareSeq:null,cardNo:null,cardHolderName:null,cardQuotaMonth:null,cardValidPeriodYear:null,cardValidPeriodMonth:null,paidAmount:null,cardHolderTypeCode:null,cardMasterCode:null,cardPassword:null,cardHolderBirthday:null,bookingTravelerCode:null,cardValidPeriod:null}}initPgCreditCardSalesPutCorporateCardCondition(){return{paxFareSeq:null,cardNo:null,cardHolderName:null,cardQuotaMonth:null,cardValidPeriodYear:null,cardValidPeriodMonth:null,paidAmount:null,cardHolderTypeCode:null,cardMasterCode:null,cardPassword:null,cardHolderTaxPayerNo:null,bookingTravelerCode:null,cardValidPeriod:null}}initPgCreditCardSalesPutTotalCondition(){return{cards:null}}initPgCreditCardSalesPutTotalCardCondition(){return{paxFareSeq:null,cardNo:null,cardHolderName:null,cardQuotaMonth:null,cardValidPeriodYear:null,cardValidPeriodMonth:null,cardHolderTypeCode:null,cardMasterCode:null,cardPassword:null,cardHolderBirthday:null,bookingTravelerCode:null,cardValidPeriod:null}}initPgCreditCardSalesPutTotalCorporateCardCondition(){return{paxFareSeq:null,cardNo:null,cardHolderName:null,cardQuotaMonth:null,cardValidPeriodYear:null,cardValidPeriodMonth:null,cardHolderTypeCode:null,cardMasterCode:null,cardPassword:null,cardHolderTaxPayerNo:null,bookingTravelerCode:null,cardValidPeriod:null}}generatePgCreditCardChargePutForm(){return this.fb.group({paymentDetailTypeCode:[null],cardNo:[null,[I.z.required]],cardHolderName:[null,[I.z.required]],cardQuotaMonth:[null,[I.z.required]],cardValidPeriodYear:[null,[I.z.required]],cardValidPeriodMonth:[null,[I.z.required]],paidAmount:[{value:null,disabled:!0},[I.z.required]],cardHolderTypeCode:[null,[I.z.required]],cardMasterCode:[null,[I.z.required]],cardPassword:[null,[I.z.required]],cardHolderBirthday:[null,[I.z.required]],cardHolderTaxPayerNo:[null,[I.z.minLength(10),I.z.maxLength(10)]]})}initPgCreditCardChargePutForm(){return{paymentDetailTypeCode:"AIRCM",cardNo:null,cardHolderName:null,cardQuotaMonth:null,cardValidPeriodYear:null,cardValidPeriodMonth:null,paidAmount:null,cardHolderTypeCode:null,cardMasterCode:null,cardPassword:null,cardHolderBirthday:null,cardHolderTaxPayerNo:null}}initPgCreditCardChargePutCondition(){return{bookingTravelerCode:null,cardNo:null,cardHolderName:null,cardQuotaMonth:null,cardValidPeriod:null,paidAmount:null,cardHolderTypeCode:null,cardMasterCode:null,cardPassword:null,cardHolderBirthday:null,chargeSeq:null,paxFareSeq:null}}initPgCreditCorporateCardChargePutCondition(){return{bookingTravelerCode:null,cardNo:null,cardHolderName:null,cardQuotaMonth:null,cardValidPeriod:null,paidAmount:null,cardHolderTypeCode:null,cardMasterCode:null,cardPassword:null,cardHolderTaxPayerNo:null,chargeSeq:null,paxFareSeq:null}}generatePgCreditCardAncillaryPutForm(){return this.fb.group({paymentDetailTypeCode:[null],cardNo:[null,[I.z.required]],cardHolderName:[null,[I.z.required]],cardQuotaMonth:[null,[I.z.required]],cardValidPeriodYear:[null,[I.z.required]],cardValidPeriodMonth:[null,[I.z.required]],paidAmount:[{value:null,disabled:!0}],cardHolderTypeCode:[null,[I.z.required]],cardMasterCode:[null,[I.z.required]],cardPassword:[null,[I.z.required]],cardHolderBirthday:[null,[I.z.required]],cardHolderTaxPayerNo:[null,[I.z.minLength(10),I.z.maxLength(10)]]})}initPgCreditCardAncillaryPutForm(){return{paymentDetailTypeCode:"AIRRV",cardNo:null,cardHolderName:null,cardQuotaMonth:null,cardValidPeriodYear:null,cardValidPeriodMonth:null,paidAmount:null,cardHolderTypeCode:null,cardMasterCode:null,cardPassword:null,cardHolderBirthday:null,cardHolderTaxPayerNo:null}}initPgCreditCardAncillaryPutCondition(){return{bookingTravelerCode:null,cardNo:null,cardHolderName:null,cardQuotaMonth:null,cardValidPeriod:null,paidAmount:null,cardHolderTypeCode:null,cardMasterCode:null,cardPassword:null,cardHolderBirthday:null}}initPgCreditCorporateCardAncillaryPutCondition(){return{bookingTravelerCode:null,cardNo:null,cardHolderName:null,cardQuotaMonth:null,cardValidPeriod:null,paidAmount:null,cardHolderTypeCode:null,cardMasterCode:null,cardPassword:null,cardHolderTaxPayerNo:null}}generatePgBankAncillaryPutForm(){return this.fb.group({paymentDetailTypeCode:[null],paidAmount:[{value:null,disabled:!0}],bankMasterCode:[null,[I.z.required]],depositDueDate:[null,[I.z.required]],depositDueTime:[null,[I.z.required]],depositRemitName:[null,[I.z.required]]})}initPgBankAncillaryPutForm(){return{paymentDetailTypeCode:"AIRRV",paidAmount:null,bankMasterCode:null,depositDueDate:null,depositDueTime:null,depositRemitName:null}}generatePgBankSalesPutForm(){return this.fb.group({bankMasterCode:[null,[I.z.required]],depositDueDate:[null,[I.z.required]],depositDueTime:[null,[I.z.required]],depositRemitName:[null,[I.z.required]]})}initPgBankSalesPutForm(){return{bankMasterCode:null,depositDueDate:null,depositDueTime:null,depositRemitName:null}}initPgBankSalesPutCondition(){return{paymentDetailTypeCode:null,banks:null}}initPgBankSalesPutCardCondition(){return{bankMasterCode:null,depositDueDatetime:null,depositRemitName:null,paidAmount:null,bookingTravelerCode:null,paxFareSeq:null}}initPgBankSalesPutTotalCondition(){return{banks:null}}initPgBankSalesPutTotalCardCondition(){return{bankMasterCode:null,depositDueDatetime:null,depositRemitName:null,bookingTravelerCode:null}}generatePgBankChargePutForm(){return this.fb.group({paymentDetailTypeCode:[null],paidAmount:[{value:null,disabled:!0},[I.z.required]],bankMasterCode:[null,[I.z.required]],depositDueDate:[null,[I.z.required]],depositDueTime:[null,[I.z.required]],depositRemitName:[null,[I.z.required]]})}initPgBankChargePutForm(){return{paymentDetailTypeCode:"AIRRV",paidAmount:null,bankMasterCode:null,depositDueDate:null,depositDueTime:null,depositRemitName:null}}generateCashReceiptIssuePutForm(){return this.fb.group({cashReceiptPurposeCode:[null,[I.z.required]],issueName:[null,[I.z.required]],paidAmount:[null,[I.z.required]],cashReceiptKindCode:[null,[I.z.required]],cashReceiptRelatedNo:[null,[I.z.required]],emailAddress:[null]})}generateCashReceiptIssuePaxPutForm(){return this.fb.group({bookingTravelerCode:[null],cashReceiptPurposeCode:[null,[I.z.required]],issueName:[null,[I.z.required]],paidAmount:[null,[I.z.required]],cashReceiptKindCode:[null,[I.z.required]],cashReceiptRelatedNo:[null,[I.z.required]],emailAddress:[null]})}generateCashReceiptIssuePaxesPutForm(){return this.fb.group({paxes:this.fb.array([])})}initCashReceiptIssuePutForm(){return{cashReceiptPurposeCode:"CRP01",issueName:null,paidAmount:null,cashReceiptKindCode:null,cashReceiptRelatedNo:null,emailAddress:null}}initCashReceiptIssuePaxPutForm(){return{bookingTravelerCode:null,cashReceiptPurposeCode:"CRP01",issueName:null,paidAmount:null,cashReceiptKindCode:null,cashReceiptRelatedNo:null,emailAddress:null}}initCashReceiptIssuePaxesPutForm(){return{paxes:[]}}generatePaymentInfoTypeSelectPutForm(){return this.fb.group({bookingTravelerCode:[null,[I.z.required]],paymentInfoTypeCode:[null],bookingFareInfoTypeCode:[null],isBundlePayment:[null]})}initPaymentInfoTypeSelectPutForm(){return{bookingTravelerCode:null,paymentInfoTypeCode:"F",bookingFareInfoTypeCode:"S",isBundlePayment:!0}}generatePolicyMonitoringOutOfPolicyPutForm(){return this.fb.group({rowid:[null],outOfPolicyYn:[null],outOfPolicyReasonSeq:[null],outOfPolicyReasonComment:[null]})}initPolicyMonitoringOutOfPolicyPutForm(){return{rowid:null,outOfPolicyYn:!1,outOfPolicyReasonSeq:null,outOfPolicyReasonComment:null}}initFlightBookingSegmentPutForm(){return{bookingItemCode:null,segmentSeq:null,itineraryNo:null,segmentNo:null,segmentTatoo:null,marketingAirlineCode:null,marketingFlightNumber:null,operatingAirlineCode:null,operatingFlightNumber:null,cabinClassCode:null,bookingClassCode:null,originAirportCode:null,destinationAirportCode:null,departureDateOrigin:null,departureTime:null,departureDatetime:null,arrivalDateOrigin:null,arrivalTime:null,arrivalDatetime:null,segmentStatusCode:null,paxCount:null,flyingTime:null,airlinePnr:null,deleteYn:null}}}return e.\u0275fac=function(t){return new(t||e)(L.bc(I.f))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),QS=(()=>{class e{constructor(e,t){this.api=e,this.bookingDataService=t}getReservationActivityMasterInfo(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(DS.reservationActivityMasterInfo,t).pipe(Object(ye.a)(e=>{var t,n,i,o,a,c,s,r,l;if(e.succeedYn){const d=(null===(t=e.result)||void 0===t?void 0:t.master)||null,b=(null===(n=e.result)||void 0===n?void 0:n.bookingItems)||null,u=(null===(i=e.result)||void 0===i?void 0:i.summary)||null,p=(null===(o=e.result)||void 0===o?void 0:o.bookingInfo)||null,m=(null===(a=e.result)||void 0===a?void 0:a.travelers)||null,h=(null===(c=e.result)||void 0===c?void 0:c.neededInfo)||null,g=(null===(s=e.result)||void 0===s?void 0:s.price)||null,f=(null===(r=e.result)||void 0===r?void 0:r.paymentInfo)||null,v=(null===(l=e.result)||void 0===l?void 0:l.plFinishYn)||!1;return Object(ve.a)({master:d,bookingItems:b,summary:u,bookingInfo:p,travelers:m,neededInfo:h,price:g,paymentInfo:f,plFinishYn:v})}return Object(Ce.a)(e||"api response error")}))}postRetieve(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(DS.postRetrieve,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}putBookingActivityItem(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(DS.reservationActivityMasterInfo,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postBasic(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(DS.postBasic,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putBasic(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(DS.putBasic,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postCancelPolicy(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(DS.postCancelPolicy,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putCancelPolicy(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(DS.putCancelPolicy,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putTraveler(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(DS.putTraveler,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putNeededInfo(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(DS.putNeededInfo,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}deleteTraveler(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.delete(DS.deleteTraveler,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postBookingActivityCancelBooking(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(DS.postBookingCancel,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postCancelChargeAmount(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(DS.postCancelChargeAmount,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putPayment(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(DS.putPayment,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postPaymentCancel(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(DS.postPaymentCancel,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}deleteAccountPayments(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.delete(DS.deleteAccountPayments,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postPaymentCouponCancel(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(DS.postPaymentCouponCancel,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postPaymentPointCancel(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(DS.postPaymentPointCancel,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putPaymentBankReceipt(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(DS.putPaymentBankReceipt,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postPaymentPoint(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(DS.postPaymentPoint,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}getAmount(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(DS.postAmount,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}saveAmountVendor(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(DS.putAmountVendor,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}saveAmountSales(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(DS.putAmountSales,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}getCommonDetailCodeList(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(DS.postCommonDetailCode,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}getCommonCompList(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(DS.postCommonComp,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}getActivityContentsOption(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(DS.postActivityContentsOption,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}putPaymentDepositManual(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(DS.putPaymentDepositManual,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}postBankReceipt(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(DS.postBankReceipt,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putBankReceiptCancel(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(DS.putBankReceiptCancel,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}getSmartInfiniProductStatus(e){e=Object.assign(Object.assign({},e),{adminYn:!0});const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(DS.postCheckProdState,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}putCreatePayment(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(DS.putCreatePayment,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}getVendorPayment(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(DS.vendorPayment,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}putPaymentVcc(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.put(DS.paymentVcc,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}deletePaymentVcc(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.delete(DS.paymentVccCancel,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result.list):Object(Ce.a)(e||"api response error")))}postPaymentVccGet(e){const t=Q.assign({},this.api.defaultParams,{condition:e});return this.api.post(DS.paymentVccGet,t).pipe(Object(ye.a)(e=>e.succeedYn?Object(ve.a)(e.result):Object(Ce.a)(e||"api response error")))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(z.a),L.bc(HS.a))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),GS=(()=>{class e{constructor(e){this.fb=e,this.generateBasisPutForm=()=>this.fb.group({bookingPicUno:[null,[I.z.required]],bookingPicName:[null],handleStatusCode:[null],unableReasonCode:[null],clientNonRefundableYn:[null,[I.z.required]],clientCancelDeadlineDate:[null],clientCancelDeadlineTime:[null],clientPaymentStatusCode:[null]}),this.initBasisPutForm=()=>({bookingPicUno:null,bookingPicName:null,handleStatusCode:null,unableReasonCode:null,clientNonRefundableYn:!1,clientCancelDeadlineDate:null,clientCancelDeadlineTime:null,clientPaymentStatusCode:null}),this.initBasisPutCondition=()=>({bookingPicUno:null,bookingPicName:null,bookingStatusCode:null,unableReasonCode:null,clientNonRefundableYn:null,vendorNonRefundableYn:null,clientPaymentStatusCode:null}),this.generateCancelPolicyForm=()=>this.fb.group({bookingItemCode:[null],clientCancelPolicies:this.fb.array([]),vendorCancelPolicies:this.fb.array([]),cancelChargeDesc:[null]}),this.generateCancelPolicyInfoFormArray=e=>{const t=this.fb.array([]);return e.forEach(e=>{t.push(this.fb.group({cancelPolicySeq:[e.cancelPolicySeq],cancelFromDate:[e.cancelFromDate||null],cancelFromTime:[e.cancelFromTime||null],cancelToDate:[e.cancelToDate||null],cancelToTime:[e.cancelToTime||null],currencyCode:[e.currencyCode||null],cancelChargeAmount:[e.cancelChargeAmount||null]}))}),t},this.initCancelPolicyForm=()=>({bookingItemCode:null,clientCancelPolicies:[],vendorCancelPolicies:[],cancelChargeDesc:null}),this.initCancelPolicyPutCondition=()=>({bookingItemCode:null,clientCancelPolicies:[],vendorCancelPolicies:[],cancelChargeDesc:null}),this.generateBookingInfoPutForm=()=>this.fb.group({vendorBookingCode:[null],vendorBookingItemCode:[null],deliveryTypeCode:[null,[I.z.required]],activityMasterSeq:[null],activityOptionSeq:[{value:null,disabled:!0}],serviceFromDate:[null],meetingHour:[null],meetingMinutes:[null],meetingPointNameEn:[null],deliveryStatusCode:[null],deliveryMethodCode:[null],deliveryAddress:[null],deliveryZipCode:[null],deliveryCompCode:[null],waybillNo:[null],deliverySendDate:[null],bookingStatusCode:[null],clientPaymentStatusCode:[null]}),this.initBookingInfoPutForm=()=>({vendorBookingCode:null,vendorBookingItemCode:null,deliveryTypeCode:null,activityMasterSeq:null,activityOptionSeq:null,serviceFromDate:G().format("YYYY-MM-DD"),meetingHour:"00",meetingMinutes:"00",meetingPointNameEn:null,deliveryStatusCode:null,deliveryMethodCode:null,deliveryAddress:null,deliveryZipCode:null,deliveryCompCode:null,waybillNo:null,deliverySendDate:G().format("YYYY-MM-DD"),bookingStatusCode:null,clientPaymentStatusCode:null}),this.initBookingInfoPutCondition=()=>({rowid:null,vendorCompCode:null,vendorBookingCode:null,vendorBookingItemCode:null,cityCode:null,activityCategoryCode:null,deliveryTypeCode:null,activityMasterSeq:null,activityOptionSeq:null,serviceFromDate:null,meetingTime:null,meetingPointNameEn:null,deliveryStatusCode:null,deliveryMethodCode:null,deliveryAddress:null,deliveryZipCode:null,deliveryCompCode:null,waybillNo:null,deliverySendDate:null,bookingStatusCode:null}),this.generateTravelersPutInitForm=()=>this.fb.group({travelers:this.fb.array([])}),this.generateTravelerPutInitForm=()=>this.fb.group({bookingTravelerCode:[null],name:[null,[I.z.required]],lastName:[null],firstName:[null],gender:[null,[I.z.required]],ageTypeCode:[null,[I.z.required]],birthday:[null]}),this.generateTravelersPutForm=e=>this.fb.group({travelers:this.fb.array(e.map(e=>{const{bookingTravelerCode:t,name:n,lastName:i,firstName:o,gender:a,ageTypeCode:c,birthday:s}=e;return this.fb.group({bookingTravelerCode:[t],name:[n,[I.z.required]],lastName:[i],firstName:[o],gender:[a,[I.z.required]],ageTypeCode:[c,[I.z.required]],birthday:[s]})}))}),this.initTravelersPutForm=()=>({travelers:[]}),this.generateNeededInfosPutInitForm=()=>this.fb.group({neededInfos:this.fb.array([])}),this.generateNeededInfosPutForm=e=>this.fb.group({neededInfos:this.fb.array(e.map(e=>{const{infoSeq:t,infoName:n,infoCode:i,bookingTravelerName:o,insertValue:a,addValue:c}=e;return this.fb.group({infoSeq:[t],infoCode:[i,[I.z.minLength(1),I.z.maxLength(10)]],infoName:[n],bookingTravelerName:[o,[I.z.minLength(1),I.z.maxLength(20)]],insertValue:[a,[I.z.minLength(1),I.z.maxLength(300)]],addValue:[c,[I.z.minLength(1),I.z.maxLength(300)]]})}))}),this.initNeededInfosPutForm=()=>({neededInfos:[]}),this.initNeededInfoPutCondition=()=>({rowid:null,infoCode:null,insertValue:null,infoSeq:null}),this.generatePriceDetailVendor=()=>this.fb.group({bookingItemCode:[null],vendorGrossAmount:[{value:null,disabled:!0}],vendorTaxAmount:[null],vendorNetAmount:[null],vendorAddAmount:[null],vendorSumAmount:[{value:null,disabled:!0}],vendorCancelChargeAmount:[null],vendorPromotionAmount:[null],vendorRevenueAmount:[null],vendorBalanceAmount:[null]}),this.initPriceDetailVendor=()=>({bookingItemCode:null,vendorNetAmount:null,vendorTaxAmount:null,vendorGrossAmount:null,vendorSumAmount:null,vendorAddAmount:null,vendorCancelChargeAmount:null,vendorPromotionAmount:null,vendorRevenueAmount:null,vendorBalanceAmount:null}),this.generatePriceDetailSales=()=>this.fb.group({billingNetAmount:[{value:null,disabled:!0}],billingMarkupAmount:[{value:null,disabled:!0}],billingProductAmount:[{value:null,disabled:!0}],billingTaxAmount:[null],billingGrossAmount:[{value:null,disabled:!0}],billingPromotionAmount:[{value:null,disabled:!0}],billingAddAmount:[null],billingCancelChargeAmount:[null],billingOthersAmount:[null],billingSumAmount:[{value:null,disabled:!0}],billingBalanceAmount:[null],billingRevenueAmount:[null],deliveryAmount:[null],markupValue:[null],vendorDeliveryYn:[null]}),this.initPriceDetailSales=()=>({billingNetAmount:null,billingMarkupAmount:null,billingProductAmount:null,billingTaxAmount:null,billingGrossAmount:null,billingPromotionAmount:null,billingAddAmount:null,billingCancelChargeAmount:null,billingOthersAmount:null,billingSumAmount:null,billingBalanceAmount:null,billingRevenueAmount:null,deliveryAmount:null,vendorDeliveryYn:null}),this.generatePaymentManualPutForm=()=>this.fb.group({paymentDetailTypeCode:[null,[I.z.required]],depositTypeCode:[null,[I.z.required]],currencyCode:[null],paidAmount:[null,[I.z.required]],paidDate:[null,[I.z.required]],clientName:[null,[I.z.required]],confirmUno:[null],cardMasterCode:[null],cardNo:[null],cardHolderName:[null],cardValidPeriodYear:[null],cardValidPeriodMonth:[null],cardQuotaMonth:[null],cardApprovalNo:[null],giftCardTypeCode:[null],giftCardExpireDate:[null],paymentRelatedNo:[null]}),this.initPaymentManualPutForm=()=>({paymentDetailTypeCode:null,depositTypeCode:null,currencyCode:"KRW",paidAmount:null,paidDate:null,clientName:null,confirmUno:null,cardMasterCode:null,cardNo:null,cardHolderName:null,cardValidPeriodYear:null,cardValidPeriodMonth:null,cardQuotaMonth:null,cardApprovalNo:null,giftCardTypeCode:null,giftCardExpireDate:null,paymentRelatedNo:null}),this.initPaymentManualPutCondition=()=>({paymentDetailTypeCode:null,depositTypeCode:null,currencyCode:null,paidAmount:null,paidDate:null,clientName:null,confirmUno:null,card:{cardMasterCode:null,cardNo:null,cardHolderName:null,cardValidPeriod:null,cardQuotaMonth:null,cardApprovalNo:null},other:{giftCardTypeCode:null,giftCardExpireDate:null,paymentRelatedNo:null}}),this.initVendorPaymentPutForm=()=>({paidAmount:null,vccTypeCode:null,vccApprovalFromDatetime:G().format("YYYY-MM-DD"),vccApprovalToDatetime:G().format("YYYY-MM-DD")})}generateVendorPaymentPutForm(){return this.fb.group({paidAmount:[null,[I.z.required]],vccTypeCode:[null,[I.z.required]],vccApprovalFromDatetime:[G().format("YYYY-MM-DD")],vccApprovalToDatetime:[G().format("YYYY-MM-DD")],vccValidDate:[null],vccIssueReason:[null],pgResponseMessage:[{value:null,disabled:!0}]})}}return e.\u0275fac=function(t){return new(t||e)(L.bc(I.f))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const KS=function(){return{userTypeCode:"U01"}},zS=function(){return["userNo","name","deptName","positionName"]};let XS=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.closeEvent=new L.n,this.submitEvent=new L.n,this._unsubscribe$=new Fe.a,this.putForm=e.generatePaymentManualPutForm(),this.putFormData=e.initPaymentManualPutForm()}get bankMasterList(){return"CCCC"===this.putForm.get("depositTypeCode").value?this.paymentBankMasterList:[]}ngOnInit(){this._initState(),this._initSubscription()}ngOnDestroy(){this._unsubscribe$.next(),this._unsubscribe$.complete()}onClose(){this.closeEvent.emit()}onSubmit(){if(this.putForm.invalid)return void(this.checkValid=!0);const e=this._setPutCondition();this.submitEvent.emit(e)}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}_setPutCondition(){const e=this._dataService.initPaymentManualPutCondition(),t=this.putForm.value;let n=void 0,i=void 0;const{depositTypeCode:o,cardValidPeriodYear:a,cardValidPeriodMonth:c}=t;if("CCCC"===o){const i=`${a}/${c}`;n=Object.assign({},Q.pick(t,Object.keys(e.card)),{cardValidPeriod:i})}else"CCGF"===o&&(i=Object.assign({},Q.pick(t,Object.keys(e.other))));return Object.assign({},Q.pick(t,Object.keys(e)),{card:n,other:i,bookingItemCode:this.bookingItemCode,bookingTravelerCode:this.bookingTravelerCode})}_initState(){this.cardQuotaMonthList=[{value:"00",label:"\uc77c\uc2dc\ubd88"}];for(let e=1;e<25;e++){const t=Q.padStart(String(e),2,"0");this.cardQuotaMonthList.push({value:t,label:t})}}_initSubscription(){this.putForm.get("depositTypeCode").valueChanges.pipe(Object(Ci.a)(this._unsubscribe$)).subscribe(e=>{this.checkValid=!1,Q.isNil(e)||"CCCA"===e||"CCRP"===e?(this.putForm.get("cardNo").disable(),this.putForm.get("cardHolderName").disable(),this.putForm.get("cardValidPeriodYear").disable(),this.putForm.get("cardValidPeriodMonth").disable(),this.putForm.get("cardQuotaMonth").disable(),this.putForm.get("cardApprovalNo").disable(),this.putForm.get("paymentRelatedNo").disable(),this.putForm.get("giftCardTypeCode").disable(),this.putForm.get("giftCardExpireDate").disable(),this.putForm.get("cardMasterCode").clearValidators(),this.putForm.get("cardNo").clearValidators(),this.putForm.get("cardValidPeriodYear").clearValidators(),this.putForm.get("cardValidPeriodMonth").clearValidators(),this.putForm.get("cardQuotaMonth").clearValidators(),this.putForm.get("cardApprovalNo").clearValidators(),this.putForm.get("giftCardTypeCode").clearValidators(),this.putForm.get("giftCardExpireDate").clearValidators(),this.putForm.get("paymentRelatedNo").clearValidators(),this.putForm.get("cardNo").setValue(null),this.putForm.get("cardHolderName").setValue(null),this.putForm.get("cardValidPeriodYear").setValue(null),this.putForm.get("cardValidPeriodMonth").setValue(null),this.putForm.get("cardQuotaMonth").setValue(null),this.putForm.get("cardApprovalNo").setValue(null),this.putForm.get("paymentRelatedNo").setValue(null),this.putForm.get("giftCardTypeCode").setValue(null),this.putForm.get("giftCardExpireDate").setValue(null),this.putForm.get("cardMasterCode").updateValueAndValidity(),this.putForm.get("cardNo").updateValueAndValidity(),this.putForm.get("cardValidPeriodYear").updateValueAndValidity(),this.putForm.get("cardValidPeriodMonth").updateValueAndValidity(),this.putForm.get("cardQuotaMonth").updateValueAndValidity(),this.putForm.get("cardApprovalNo").updateValueAndValidity(),this.putForm.get("giftCardTypeCode").updateValueAndValidity(),this.putForm.get("giftCardExpireDate").updateValueAndValidity(),this.putForm.get("paymentRelatedNo").updateValueAndValidity(),this.putForm.updateValueAndValidity()):"CCCC"===e?(this.putForm.get("cardNo").enable(),this.putForm.get("cardHolderName").enable(),this.putForm.get("cardValidPeriodYear").enable(),this.putForm.get("cardValidPeriodMonth").enable(),this.putForm.get("cardQuotaMonth").enable(),this.putForm.get("cardApprovalNo").enable(),this.putForm.get("paymentRelatedNo").disable(),this.putForm.get("giftCardTypeCode").disable(),this.putForm.get("giftCardExpireDate").disable(),this.putForm.get("cardMasterCode").setValidators([I.z.required]),this.putForm.get("cardNo").setValidators([I.z.required]),this.putForm.get("cardValidPeriodYear").setValidators([I.z.required]),this.putForm.get("cardValidPeriodMonth").setValidators([I.z.required]),this.putForm.get("cardQuotaMonth").setValidators([I.z.required]),this.putForm.get("cardApprovalNo").setValidators([I.z.required]),this.putForm.get("giftCardTypeCode").clearValidators(),this.putForm.get("giftCardExpireDate").clearValidators(),this.putForm.get("paymentRelatedNo").clearValidators(),this.putForm.get("giftCardTypeCode").setValue(null),this.putForm.get("giftCardExpireDate").setValue(null),this.putForm.get("paymentRelatedNo").setValue(null),this.putForm.get("cardMasterCode").updateValueAndValidity(),this.putForm.get("cardNo").updateValueAndValidity(),this.putForm.get("cardValidPeriodYear").updateValueAndValidity(),this.putForm.get("cardValidPeriodMonth").updateValueAndValidity(),this.putForm.get("cardQuotaMonth").updateValueAndValidity(),this.putForm.get("cardApprovalNo").updateValueAndValidity(),this.putForm.get("giftCardTypeCode").updateValueAndValidity(),this.putForm.get("giftCardExpireDate").updateValueAndValidity(),this.putForm.get("paymentRelatedNo").updateValueAndValidity()):"CCGF"===e&&(this.putForm.get("cardNo").disable(),this.putForm.get("cardHolderName").disable(),this.putForm.get("cardValidPeriodYear").disable(),this.putForm.get("cardValidPeriodMonth").disable(),this.putForm.get("cardQuotaMonth").disable(),this.putForm.get("cardApprovalNo").disable(),this.putForm.get("paymentRelatedNo").enable(),this.putForm.get("giftCardTypeCode").enable(),this.putForm.get("giftCardExpireDate").enable(),this.putForm.get("giftCardTypeCode").setValidators([I.z.required]),this.putForm.get("giftCardExpireDate").setValidators([I.z.required]),this.putForm.get("paymentRelatedNo").setValidators([I.z.required]),this.putForm.get("cardMasterCode").clearValidators(),this.putForm.get("cardNo").clearValidators(),this.putForm.get("cardValidPeriodYear").clearValidators(),this.putForm.get("cardValidPeriodMonth").clearValidators(),this.putForm.get("cardQuotaMonth").clearValidators(),this.putForm.get("cardApprovalNo").clearValidators(),this.putForm.get("cardMasterCode").setValue(null),this.putForm.get("cardNo").setValue(null),this.putForm.get("cardValidPeriodYear").setValue(null),this.putForm.get("cardValidPeriodMonth").setValue(null),this.putForm.get("cardQuotaMonth").setValue(null),this.putForm.get("cardApprovalNo").setValue(null),this.putForm.get("cardMasterCode").updateValueAndValidity(),this.putForm.get("cardNo").updateValueAndValidity(),this.putForm.get("cardValidPeriodYear").updateValueAndValidity(),this.putForm.get("cardValidPeriodMonth").updateValueAndValidity(),this.putForm.get("cardQuotaMonth").updateValueAndValidity(),this.putForm.get("cardApprovalNo").updateValueAndValidity(),this.putForm.get("giftCardTypeCode").updateValueAndValidity(),this.putForm.get("giftCardExpireDate").updateValueAndValidity(),this.putForm.get("paymentRelatedNo").updateValueAndValidity())})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(BS),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-car-payment-manual-modal"]],inputs:{bookingItemCode:"bookingItemCode",bookingTravelerCode:"bookingTravelerCode",paymentDetailTypeList:"paymentDetailTypeList",depositTypeList:"depositTypeList",paymentBankMasterList:"paymentBankMasterList",giftCardTypeList:"giftCardTypeList"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent"},decls:89,vars:31,consts:[[1,"component-wrap"],[1,"button-area","align-r","mb5"],["type","submit",1,"btn","btn-secondary","sm",3,"click"],[3,"formGroup","connectForm"],[1,"table","table-bordered"],["width","20%"],["width","30%"],["scope","row",1,"th-bg"],["formControlName","paymentDetailTypeCode","displayKey","detailCodeNameEn","dataKey","detailCode",3,"options","isInvalid"],["formControlName","depositTypeCode","displayKey","detailCodeNameEn","dataKey","detailCode",3,"options","isInvalid"],["formControlName","cardMasterCode","displayKey","detailCodeNameEn","dataKey","detailCode",3,"options","isInvalid"],["formControlName","paidAmount","valueType","number","inputFormat","currency",3,"isInvalid"],["formControlName","paidDate","inputFormat","date",3,"isInvalid"],["formControlName","clientName",3,"isInvalid"],["formControlName","confirmUno","apiUrl","admin/common/staff","dataKey","userNo","inputFieldFormat","{0}-{1}&,{2}&,{3}","placeholder","\uc774\ub984 \uac80\uc0c9",1,"d-inline-flex","flex-fill",3,"apiCondition","apiSearchTerm","inputFieldFormatKeyList","inputFieldValue","inputId","isInvalid"],["formControlName","cardNo","placeholder","- \uc5c6\uc774 \uc785\ub825",3,"isInvalid"],["formControlName","cardHolderName","inputFormat","uppserCaseEnOnly",3,"isInvalid"],[1,"form-group"],["formControlName","cardValidPeriodYear","placeholder","YYYY",3,"isInvalid"],["formControlName","cardValidPeriodMonth","placeholder","MM",3,"isInvalid"],["formControlName","cardQuotaMonth",3,"options","isInvalid"],["formControlName","cardApprovalNo",3,"isInvalid"],["formControlName","paymentRelatedNo",3,"isInvalid"],["formControlName","giftCardTypeCode","displayKey","detailCodeNameEn","dataKey","detailCode",3,"options","isInvalid"],["formControlName","giftCardExpireDate","inputFormat","date","placeholder","YYYY-MM-DD",3,"isInvalid"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"button",2),L.fc("click",(function(){return t.onSubmit()})),L.Pc(3,"\uc800\uc7a5"),L.Vb(),L.Vb(),L.Wb(4,"form",3),L.Wb(5,"div",4),L.Wb(6,"table"),L.Wb(7,"caption"),L.Pc(8," \uacb0\uc81c \uc218\ub3d9 \ub4f1\ub85d "),L.Vb(),L.Wb(9,"colgroup"),L.Rb(10,"col",5),L.Rb(11,"col",6),L.Rb(12,"col",5),L.Rb(13,"col",6),L.Vb(),L.Wb(14,"tbody"),L.Wb(15,"tr"),L.Wb(16,"th",7),L.Pc(17,"\uc608\uc57d\ucf54\ub4dc"),L.Vb(),L.Wb(18,"td"),L.Pc(19),L.Vb(),L.Wb(20,"th",7),L.Pc(21,"\uc804\uc1a1\uad6c\ubd84"),L.Vb(),L.Wb(22,"td"),L.Rb(23,"app-selectbox",8),L.Vb(),L.Vb(),L.Wb(24,"tr"),L.Wb(25,"th",7),L.Pc(26,"\uc785\uae08\uad6c\ubd84"),L.Vb(),L.Wb(27,"td"),L.Rb(28,"app-selectbox",9),L.Vb(),L.Wb(29,"th",7),L.Pc(30,"\uc138\ubd80\uad6c\ubd84"),L.Vb(),L.Wb(31,"td"),L.Rb(32,"app-selectbox",10),L.Vb(),L.Vb(),L.Wb(33,"tr"),L.Wb(34,"th",7),L.Pc(35,"\uc785\uae08\uc561"),L.Vb(),L.Wb(36,"td"),L.Rb(37,"app-input-text",11),L.Vb(),L.Wb(38,"th",7),L.Pc(39,"\uc785\uae08\uc77c\uc790"),L.Vb(),L.Wb(40,"td"),L.Rb(41,"app-input-text",12),L.Vb(),L.Vb(),L.Wb(42,"tr"),L.Wb(43,"th",7),L.Pc(44,"\uc785\uae08\uace0\uac1d"),L.Vb(),L.Wb(45,"td"),L.Rb(46,"app-input-text",13),L.Vb(),L.Wb(47,"th",7),L.Pc(48,"\uc785\uae08\uc0ac\uc6d0"),L.Vb(),L.Wb(49,"td"),L.Rb(50,"app-auto-complete",14),L.Vb(),L.Vb(),L.Wb(51,"tr"),L.Wb(52,"th",7),L.Pc(53,"\uce74\ub4dc\ubc88\ud638"),L.Vb(),L.Wb(54,"td"),L.Rb(55,"app-input-text",15),L.Vb(),L.Wb(56,"th",7),L.Pc(57,"\uce74\ub4dc\uc18c\uc720\uc790\uba85"),L.Vb(),L.Wb(58,"td"),L.Rb(59,"app-input-text",16),L.Vb(),L.Vb(),L.Wb(60,"tr"),L.Wb(61,"th",7),L.Pc(62,"\uce74\ub4dc \uc720\ud6a8\uae30\uac04"),L.Vb(),L.Wb(63,"td"),L.Wb(64,"div",17),L.Rb(65,"app-input-text",18),L.Rb(66,"app-input-text",19),L.Vb(),L.Vb(),L.Wb(67,"th",7),L.Pc(68,"\ud560\ubd80"),L.Vb(),L.Wb(69,"td"),L.Rb(70,"app-selectbox",20),L.Vb(),L.Vb(),L.Wb(71,"tr"),L.Wb(72,"th",7),L.Pc(73,"\uce74\ub4dc\uc2b9\uc778\ubc88\ud638"),L.Vb(),L.Wb(74,"td"),L.Rb(75,"app-input-text",21),L.Vb(),L.Wb(76,"th",7),L.Pc(77,"\uc0c1\ud488\uad8c\ubc88\ud638"),L.Vb(),L.Wb(78,"td"),L.Rb(79,"app-input-text",22),L.Vb(),L.Vb(),L.Wb(80,"tr"),L.Wb(81,"th",7),L.Pc(82,"\uc0c1\ud488\uad8c\uad6c\ubd84"),L.Vb(),L.Wb(83,"td"),L.Rb(84,"app-selectbox",23),L.Vb(),L.Wb(85,"th",7),L.Pc(86,"\uc0c1\ud488\uad8c\uc720\ud6a8\uae30\uac04"),L.Vb(),L.Wb(87,"td"),L.Rb(88,"app-input-text",24),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(4),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(15),L.Qc(t.bookingItemCode),L.Cb(4),L.pc("options",t.paymentDetailTypeList)("isInvalid",t.checkIsInvalid("paymentDetailTypeCode")),L.Cb(5),L.pc("options",t.depositTypeList)("isInvalid",t.checkIsInvalid("depositTypeCode")),L.Cb(4),L.pc("options",t.bankMasterList)("isInvalid",t.checkIsInvalid("cardMasterCode")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("paidAmount")),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("paidDate")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("clientName")),L.Cb(4),L.pc("apiCondition",L.tc(29,KS))("apiSearchTerm","name")("inputFieldFormatKeyList",L.tc(30,zS))("inputFieldValue","")("inputId","refundPicUnoInput")("isInvalid",t.checkIsInvalid("confirmUno")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("cardNo")),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("cardHolderName")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("cardValidPeriodYear")),L.Cb(1),L.pc("isInvalid",t.checkIsInvalid("cardValidPeriodMonth")),L.Cb(4),L.pc("options",t.cardQuotaMonthList)("isInvalid",t.checkIsInvalid("cardQuotaMonth")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("cardApprovalNo")),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("paymentRelatedNo")),L.Cb(5),L.pc("options",t.giftCardTypeList)("isInvalid",t.checkIsInvalid("giftCardTypeCode")),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("giftCardExpireDate")))},directives:[I.B,I.s,I.k,J.a,Se.a,I.r,I.i,ee.a,ne.a],encapsulation:2,changeDetection:0}),e})(),ZS=(()=>{class e{constructor(){this.submitEvent=new L.n,this.closeEvent=new L.n}ngOnInit(){}ngOnDestroy(){}onClickBookingCancel(){this.submitEvent.emit({bookingItemCode:this.bookingItemCode})}onClose(){this.closeEvent.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-car-cancel-modal"]],inputs:{bookingItemCode:"bookingItemCode",cancelChargeAmount:"cancelChargeAmount"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:11,vars:0,consts:[[1,"component-wrap"],[1,"align-c","pt20","pb20"],[1,"font-weight-bold","font-size-lg"],[1,"font-size-xs","color-danger"],[1,"button-area","align-c","mt10"],["type","button",1,"btn","btn-secondary","sm",3,"click"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"p",2),L.Pc(3,"Are you sure you want to cancel this booking?"),L.Vb(),L.Wb(4,"p",3),L.Pc(5,"* If it was cancelled, it could not to be revert to origin"),L.Vb(),L.Vb(),L.Wb(6,"div",4),L.Wb(7,"button",5),L.fc("click",(function(){return t.onClickBookingCancel()})),L.Pc(8,"Cancel"),L.Vb(),L.Wb(9,"button",6),L.fc("click",(function(){return t.onClose()})),L.Pc(10,"Close"),L.Vb(),L.Vb(),L.Vb())},encapsulation:2,changeDetection:0}),e})();function JS(e,t){1&e&&(L.Wb(0,"button",11),L.Pc(1,"Save"),L.Vb())}const eT=function(){return{userTypeCode:"U01"}},tT=function(){return["userNo","name","deptName","positionName"]};let nT=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.submitEvent=new L.n,this._$unsubscribe=new Fe.a,this.putForm=e.generateBasicPutForm()}get basicInfo(){return this._basicInfo}set basicInfo(e){this._basicInfo=e,this.putFormData=this._setFormData(e)}ngOnInit(){this._initState(),this._initSubscription()}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete()}onSubmit(){const{msg:e,isValid:t}=this._checkValidBookingStatusCode();t?this.submitEvent.emit(this._setPutCondition()):this.alertService.alert(e)}onOffManualText(e){return"O"===e?"ONLINE":"OFFLINE"}_setFormData(e){const t=this._dataService.initBasicPutForm();if(Q.isNil(e))return t;const n={clientCancelDeadlineDate:null,clientCancelDeadlineTime:null,vendorCancelDeadlineDate:null,vendorCancelDeadlineTime:null};return e.clientCancelDeadline&&(n.clientCancelDeadlineDate=G(e.clientCancelDeadline).format("YYYY-MM-DD"),n.clientCancelDeadlineTime=G(e.clientCancelDeadline).format("HH:mm")),e.vendorCancelDeadline&&(n.vendorCancelDeadlineDate=G(e.vendorCancelDeadline).format("YYYY-MM-DD"),n.vendorCancelDeadlineTime=G(e.vendorCancelDeadline).format("HH:mm")),Object.assign({},t,Q.pick(e,Object.keys(t)),n)}_setPutCondition(){const e=this._dataService.initBasisPutCondition(),t=this.putForm.value;let n=void 0,i=void 0;Q.isNil(null==t?void 0:t.clientCancelDeadlineDate)||Q.isNil(null==t?void 0:t.clientCancelDeadlineTime)||(n=G(t.clientCancelDeadlineDate+" "+t.clientCancelDeadlineTime).format("YYYY-MM-DD HH:mm:ss")),Q.isNil(null==t?void 0:t.vendorCancelDeadlineDate)||Q.isNil(null==t?void 0:t.vendorCancelDeadlineTime)||(i=G(t.vendorCancelDeadlineDate+" "+t.vendorCancelDeadlineTime).format("YYYY-MM-DD HH:mm:ss"));const o=Object.assign({},Q.pick(t,Object.keys(e)),{clientCancelDeadline:n,vendorCancelDeadline:i});return Q.omitBy(o,Q.isNil)}_checkValidBookingStatusCode(){const{bookingStatusCode:e}=this.basicInfo,t=this.putForm.get("bookingStatusCode").value;let n="",i=!0;return e===t||("BKS12"===e?"BKS14"!==t&&(i=!1,n="If you are a refund requestor, you can only change your booking to Refunded."):"BKS14"===e&&(i=!1,n="You can't change the status of a fully refunded booking.")),{msg:n,isValid:i}}_initState(){}_initSubscription(){}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(BS),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-car-basis-info"]],inputs:{plFinishYn:"plFinishYn",stationTypeList:"stationTypeList",bookingStatusList:"bookingStatusList",requestStatusList:"requestStatusList",vendorList:"vendorList",vehicleVendorList:"vehicleVendorList",clientPaymentStatusCodeList:"clientPaymentStatusCodeList",bookingInfo:"bookingInfo",basicInfo:"basicInfo"},outputs:{submitEvent:"submitEvent"},decls:72,vars:19,consts:[[1,"page-item",3,"formGroup","connectForm","ngSubmit"],[1,"page-item-header"],[1,"title"],[1,"table","table-bordered","table-responsive"],["width","160px"],["scope","row",1,"th-bg"],["formControlName","bookingStatusCode","displayWord","detailCodeName","useAllOptionName","Select",3,"options"],["formControlName","clientPaymentStatusCode","displayWord","detailCodeName","dataKey","detailCode","useAllOptionName","Select",3,"options"],["formControlName","bookingPicUno","apiUrl","admin/common/staff","dataKey","userNo","inputFieldFormat","{0}-{1}&,{2}&,{3}","placeholder","Name",3,"apiSearchTerm","apiCondition","inputFieldFormatKeyList"],[1,"button-area","align-r","mt10"],["type","submit","class","btn btn-secondary sm","role","button",4,"ngIf"],["type","submit","role","button",1,"btn","btn-secondary","sm"]],template:function(e,t){1&e&&(L.Wb(0,"form",0),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(1,"div",1),L.Wb(2,"p",2),L.Pc(3,"Basic Information"),L.Vb(),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," \uae30\ubcf8\uc815\ubcf4 "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col",4),L.Rb(10,"col"),L.Vb(),L.Wb(11,"tbody"),L.Wb(12,"tr"),L.Wb(13,"th",5),L.Pc(14,"Booking Date"),L.Vb(),L.Wb(15,"td"),L.Pc(16),L.Vb(),L.Vb(),L.Wb(17,"tr"),L.Wb(18,"th",5),L.Wb(19,"sup"),L.Pc(20,"Booking Status"),L.Vb(),L.Vb(),L.Wb(21,"td"),L.Rb(22,"app-selectbox-detailcode",6),L.Vb(),L.Vb(),L.Wb(23,"tr"),L.Wb(24,"th",5),L.Wb(25,"sup"),L.Pc(26,"C.Payment Status"),L.Vb(),L.Vb(),L.Wb(27,"td"),L.Rb(28,"app-selectbox-detailcode",7),L.Vb(),L.Vb(),L.Wb(29,"tr"),L.Wb(30,"th",5),L.Wb(31,"sup"),L.Pc(32,"Booking PIC"),L.Vb(),L.Vb(),L.Wb(33,"td"),L.Rb(34,"app-auto-complete",8),L.Vb(),L.Vb(),L.Wb(35,"tr"),L.Wb(36,"th",5),L.Pc(37,"Vendor"),L.Vb(),L.Wb(38,"td"),L.Pc(39),L.Vb(),L.Vb(),L.Wb(40,"tr"),L.Wb(41,"th",5),L.Pc(42,"Vendor BKG Code"),L.Vb(),L.Wb(43,"td"),L.Pc(44),L.Vb(),L.Vb(),L.Wb(45,"tr"),L.Wb(46,"th",5),L.Pc(47,"Car Vendor"),L.Vb(),L.Wb(48,"td"),L.Pc(49),L.Vb(),L.Vb(),L.Wb(50,"tr"),L.Wb(51,"th",5),L.Pc(52,"Car Vendor BKG Code"),L.Vb(),L.Wb(53,"td"),L.Pc(54),L.Vb(),L.Vb(),L.Wb(55,"tr"),L.Wb(56,"th",5),L.Pc(57,"Client Cancellation D/L"),L.Vb(),L.Wb(58,"td"),L.Pc(59),L.Vb(),L.Vb(),L.Wb(60,"tr"),L.Wb(61,"th",5),L.Pc(62,"Vendor Cancellation D/L"),L.Vb(),L.Wb(63,"td"),L.Pc(64),L.Vb(),L.Vb(),L.Wb(65,"tr"),L.Wb(66,"th",5),L.Pc(67,"Device / Route"),L.Vb(),L.Wb(68,"td"),L.Pc(69),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(70,"div",9),L.Nc(71,JS,2,0,"button",10),L.Vb(),L.Vb()),2&e&&(L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(16),L.Rc(" ",null==t.basicInfo?null:t.basicInfo.bookedDatetime," "),L.Cb(6),L.pc("options",t.bookingStatusList),L.Cb(6),L.pc("options",t.clientPaymentStatusCodeList),L.Cb(6),L.pc("apiSearchTerm","name")("apiCondition",L.tc(17,eT))("inputFieldFormatKeyList",L.tc(18,tT)),L.Cb(5),L.Rc(" ",null==t.basicInfo?null:t.basicInfo.vendorCompName," "),L.Cb(5),L.Rc(" ",null==t.basicInfo?null:t.basicInfo.vendorBookingCode," "),L.Cb(5),L.Rc(" ",null==t.bookingInfo?null:t.bookingInfo.vehicleVendorName," "),L.Cb(5),L.Rc(" ",null==t.bookingInfo?null:t.bookingInfo.vendorBookingItemCode," "),L.Cb(5),L.Rc(" ",null==t.basicInfo?null:t.basicInfo.clientCancelDeadline," "),L.Cb(5),L.Rc(" ",null==t.basicInfo?null:t.basicInfo.vendorCancelDeadline," "),L.Cb(5),L.Sc(" ",null==t.basicInfo?null:t.basicInfo.deviceTypeName," / ",t.onOffManualText(null==t.basicInfo?null:t.basicInfo.onOffManual)," "),L.Cb(2),L.pc("ngIf",!t.plFinishYn))},directives:[I.B,I.s,I.k,J.a,Pi.a,I.r,I.i,ne.a,k.o],encapsulation:2,changeDetection:0}),e})();function iT(e,t){if(1&e&&(L.Wb(0,"div",11),L.Wb(1,"span"),L.Pc(2),L.Vb(),L.Wb(3,"span",12),L.Pc(4),L.ic(5,"number"),L.Vb(),L.Vb()),2&e){const e=t.$implicit,n=t.index;L.Gb("mt5",n>0),L.pc("formGroupName",n),L.Cb(2),L.Uc("",e.value.cancelFromDate," ",e.value.cancelFromTime," ~ ",e.value.cancelToDate," ",e.value.cancelToTime," "),L.Cb(2),L.Sc("",e.value.currencyCode," ",L.jc(5,9,e.value.cancelChargeAmount),"")}}function oT(e,t){if(1&e&&(L.Ub(0,9),L.Nc(1,iT,6,11,"div",10),L.Tb()),2&e){const e=L.hc();L.Cb(1),L.pc("ngForOf",e.clientCancelPolicies.controls)}}function aT(e,t){if(1&e&&(L.Wb(0,"div",11),L.Wb(1,"span"),L.Pc(2),L.Vb(),L.Wb(3,"span",12),L.Pc(4),L.ic(5,"number"),L.Vb(),L.Vb()),2&e){const e=t.$implicit,n=t.index;L.Gb("mt5",n>0),L.pc("formGroupName",n),L.Cb(2),L.Uc("",e.value.cancelFromDate," ",e.value.cancelFromTime," ~ ",e.value.cancelToDate," ",e.value.cancelToTime," "),L.Cb(2),L.Sc("",e.value.currencyCode," ",L.jc(5,9,e.value.cancelChargeAmount),"")}}function cT(e,t){if(1&e&&(L.Ub(0,13),L.Nc(1,aT,6,11,"div",10),L.Tb()),2&e){const e=L.hc();L.Cb(1),L.pc("ngForOf",e.vendorCancelPolicies.controls)}}function sT(e,t){1&e&&L.Pc(0,"-")}let rT=(()=>{class e{constructor(e){this._dataService=e,this.saveCancelPolicyEvent=new L.n,this.putForm=e.generateCancelPolicyForm()}get cancelPolicy(){return this._cancelPolicy}set cancelPolicy(e){this._cancelPolicy=e,this._resetPutFormWithFormArray(e),this.putFormData=this._setFormData(e)}get clientCancelPolicies(){return this.putForm.get("clientCancelPolicies")}get vendorCancelPolicies(){return this.putForm.get("vendorCancelPolicies")}ngOnInit(){}onSubmit(){this.saveCancelPolicyEvent.emit(this._setPutCondition())}_setFormData(e){const t=this._dataService.initCancelPolicyForm();return Object.assign({},t,Q.pick(e,Object.keys(t)))}_setPutCondition(){const e=this._dataService.initCancelPolicyPutCondition(),t=this.putForm.value,n=t.clientCancelPolicies.length>0?t.clientCancelPolicies:null,i=t.vendorCancelPolicies.length>0?t.vendorCancelPolicies:null,o=Object.assign({},Q.pick(t,Object.keys(e)),{clientCancelPolicies:n,vendorCancelPolicies:i});return Q.omitBy(o,Q.isNil)}_resetPutFormWithFormArray(e){const{clientCancelPolicies:t,vendorCancelPolicies:n}=e;(null==t?void 0:t.length)>0&&this.putForm.setControl("clientCancelPolicies",this._dataService.generateCancelPolicyInfoFormArray(t)),(null==n?void 0:n.length)>0&&this.putForm.setControl("vendorCancelPolicies",this._dataService.generateCancelPolicyInfoFormArray(n))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(BS))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-car-basis-rule"]],inputs:{plFinishYn:"plFinishYn",cancelPolicy:"cancelPolicy"},outputs:{saveCancelPolicyEvent:"saveCancelPolicyEvent"},decls:24,vars:6,consts:[[1,"page-item",3,"formGroup","connectForm","ngSubmit"],[1,"page-item-header"],[1,"title"],[1,"table","table-bordered","table-responsive"],["width","160px"],["scope","row",1,"th-bg"],["formArrayName","clientCancelPolicies",4,"ngIf","ngIfElse"],["formArrayName","vendorCancelPolicies",4,"ngIf","ngIfElse"],["emptyCancelPoliciesTpl",""],["formArrayName","clientCancelPolicies"],["class","form-group",3,"formGroupName","mt5",4,"ngFor","ngForOf"],[1,"form-group",3,"formGroupName"],[1,"font-weight-bold","ml10"],["formArrayName","vendorCancelPolicies"]],template:function(e,t){if(1&e&&(L.Wb(0,"form",0),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(1,"div",1),L.Wb(2,"p",2),L.Pc(3,"Cancellation Policy"),L.Vb(),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," \ucde8\uc18c\uaddc\uc815 \uc0c1\uc138 "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col",4),L.Rb(10,"col"),L.Vb(),L.Wb(11,"tbody"),L.Wb(12,"tr"),L.Wb(13,"th",5),L.Pc(14," Client "),L.Vb(),L.Wb(15,"td"),L.Nc(16,oT,2,1,"ng-container",6),L.Vb(),L.Vb(),L.Wb(17,"tr"),L.Wb(18,"th",5),L.Pc(19," Vendor "),L.Vb(),L.Wb(20,"td"),L.Nc(21,cT,2,1,"ng-container",7),L.Vb(),L.Vb(),L.Nc(22,sT,1,0,"ng-template",null,8,L.Oc),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.Ec(23);L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(16),L.pc("ngIf",(null==t.clientCancelPolicies?null:t.clientCancelPolicies.controls.length)>0)("ngIfElse",e),L.Cb(5),L.pc("ngIf",(null==t.vendorCancelPolicies?null:t.vendorCancelPolicies.controls.length)>0)("ngIfElse",e)}},directives:[I.B,I.s,I.k,J.a,k.o,I.e,k.n,I.l],pipes:[k.f],encapsulation:2,changeDetection:0}),e})(),lT=(()=>{class e{constructor(e){this._store=e,this.saveBasicInfoEvent=new L.n,this.saveCancelPolicyEvent=new L.n,this.basicInfo$=this._store.select(Ok)}ngOnInit(){}ngAfterViewInit(){this._store.dispatch(p.loadBasicInfoAction({condition:{bookingItemCode:this.bookingItemCode}}))}onSaveBasisInfo(e){this.saveBasicInfoEvent.emit(e)}onSaveCancelPolicy(e){this.saveCancelPolicyEvent.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-car-basis"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",stationTypeList:"stationTypeList",bookingStatusList:"bookingStatusList",requestStatusList:"requestStatusList",vendorList:"vendorList",vehicleVendorList:"vehicleVendorList",clientPaymentStatusCodeList:"clientPaymentStatusCodeList",plFinishYn:"plFinishYn",bookingInfo:"bookingInfo",cancelPolicy:"cancelPolicy",bookingItemCode:"bookingItemCode"},outputs:{saveBasicInfoEvent:"saveBasicInfoEvent",saveCancelPolicyEvent:"saveCancelPolicyEvent"},decls:3,vars:13,consts:[[3,"stationTypeList","bookingStatusList","requestStatusList","vendorList","vehicleVendorList","clientPaymentStatusCodeList","plFinishYn","bookingInfo","basicInfo","submitEvent"],[3,"cancelPolicy","plFinishYn","saveCancelPolicyEvent"]],template:function(e,t){1&e&&(L.Wb(0,"app-reservation-car-basis-info",0),L.fc("submitEvent",(function(e){return t.onSaveBasisInfo(e)})),L.ic(1,"async"),L.Vb(),L.Wb(2,"app-reservation-car-basis-rule",1),L.fc("saveCancelPolicyEvent",(function(e){return t.onSaveCancelPolicy(e)})),L.Vb()),2&e&&(L.pc("stationTypeList",t.stationTypeList)("bookingStatusList",t.bookingStatusList)("requestStatusList",t.requestStatusList)("vendorList",t.vendorList)("vehicleVendorList",t.vehicleVendorList)("clientPaymentStatusCodeList",t.clientPaymentStatusCodeList)("plFinishYn",t.plFinishYn)("bookingInfo",t.bookingInfo)("basicInfo",L.jc(1,11,t.basicInfo$)),L.Cb(2),L.pc("cancelPolicy",t.cancelPolicy)("plFinishYn",t.plFinishYn))},directives:[nT,rT],pipes:[k.b],encapsulation:2,changeDetection:0}),e})(),dT=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-car-retrieve-form"]],decls:68,vars:0,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title"],[1,"table","table-bordered","table-responsive"],["width","200px"],["scope","col",1,"align-c"],["scope","row",1,"th-bg"],[1,"align-c"],[1,"button-area","align-r","mt10"],["href","#",1,"btn","btn-secondary","sm"],["href","#",1,"btn","btn-light","sm"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"p",2),L.Pc(3,"\ub9ac\ud2b8\ub9ac\ube0c"),L.Vb(),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," \ub9ac\ud2b8\ub9ac\ube0c "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col",4),L.Rb(10,"col"),L.Rb(11,"col"),L.Vb(),L.Wb(12,"thead"),L.Wb(13,"tr"),L.Wb(14,"th",5),L.Pc(15,"\ub0b4\uc6a9"),L.Vb(),L.Wb(16,"th",5),L.Pc(17,"Retrieve \uc804"),L.Vb(),L.Wb(18,"th",5),L.Pc(19,"Retrieve \ud6c4"),L.Vb(),L.Vb(),L.Vb(),L.Wb(20,"tbody"),L.Wb(21,"tr"),L.Wb(22,"th",6),L.Pc(23,"\uc608\uc57d\uc0c1\ud0dc"),L.Vb(),L.Wb(24,"td",7),L.Pc(25,"\ubbf8\uc804\uc1a1"),L.Vb(),L.Wb(26,"td",7),L.Pc(27,"\ud655\uc815"),L.Vb(),L.Vb(),L.Wb(28,"tr"),L.Wb(29,"th",6),L.Pc(30,"\uacf5\uae09\uc790 \uc608\uc57d\ucf54\ub4dc"),L.Vb(),L.Wb(31,"td",7),L.Pc(32,"123-456789"),L.Vb(),L.Wb(33,"td",7),L.Pc(34,"123-456789"),L.Vb(),L.Vb(),L.Wb(35,"tr"),L.Wb(36,"th",6),L.Pc(37,"\uc694\uae08"),L.Vb(),L.Wb(38,"td",7),L.Pc(39,"USD 100.00"),L.Vb(),L.Wb(40,"td",7),L.Pc(41,"USD 100.00"),L.Vb(),L.Vb(),L.Wb(42,"tr"),L.Wb(43,"th",6),L.Pc(44,"\uac1d\uc2e4\uba85"),L.Vb(),L.Wb(45,"td",7),L.Pc(46,"Double King or Twin Standard with Free Wifi & Non Smoking"),L.Vb(),L.Wb(47,"td",7),L.Pc(48,"Double King or Twin Standard with Free Wifi & Non Smoking"),L.Vb(),L.Vb(),L.Wb(49,"tr"),L.Wb(50,"th",6),L.Pc(51,"\uc219\ubc15\uae30\uac04"),L.Vb(),L.Wb(52,"td",7),L.Pc(53,"2019-12-12(\ubaa9) ~ 2019-12-15(\uc6d4)"),L.Vb(),L.Wb(54,"td",7),L.Pc(55,"2019-12-12(\ubaa9) ~ 2019-12-15(\uc6d4)"),L.Vb(),L.Vb(),L.Wb(56,"tr"),L.Wb(57,"th",6),L.Pc(58,"\uacf5\uae09\uc790 \ucde8\uc18c\ub9c8\uac10\uc77c"),L.Vb(),L.Wb(59,"td",7),L.Pc(60,"2020-01-01(\uc218) 23:59:59"),L.Vb(),L.Wb(61,"td",7),L.Pc(62,"2020-01-01(\uc218) 23:59:59"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(63,"div",8),L.Wb(64,"a",9),L.Pc(65,"\uc800\uc7a5"),L.Vb(),L.Wb(66,"a",10),L.Pc(67,"\ucde8\uc18c"),L.Vb(),L.Vb(),L.Vb())},encapsulation:2,changeDetection:0}),e})(),bT=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-car-retrieve"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active"},decls:1,vars:0,template:function(e,t){1&e&&L.Rb(0,"app-reservation-car-retrieve-form")},directives:[dT],encapsulation:2,changeDetection:0}),e})();function uT(e,t){if(1&e&&(L.Wb(0,"p"),L.Pc(1),L.Vb()),2&e){const e=L.hc();L.Cb(1),L.Qc(e.bookingInfo.pickupLocationPhoneNo)}}function pT(e,t){if(1&e&&(L.Wb(0,"p"),L.Pc(1),L.Vb()),2&e){const e=L.hc();L.Cb(1),L.Qc(e.bookingInfo.returnLocationPhoneNo)}}function mT(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"p"),L.Pc(2),L.Vb(),L.Tb()),2&e){const e=L.hc().$implicit;L.Cb(2),L.Qc(e.conditionDesc)}}function hT(e,t){if(1&e&&(L.Ub(0),L.Nc(1,mT,3,1,"ng-container",6),L.Tb()),2&e){const e=t.$implicit;L.Cb(1),L.pc("ngIf",e.defaultIncludedYn)}}function gT(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"div",20),L.Nc(2,hT,2,1,"ng-container",21),L.Vb(),L.Tb()),2&e){const e=L.hc();L.Cb(2),L.pc("ngForOf",e.conditions)}}function fT(e,t){1&e&&L.Pc(0,"-")}function vT(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",22),L.fc("click",(function(){return L.Fc(e),L.hc().onSubmit()})),L.Pc(1,"Save"),L.Vb()}}let CT=(()=>{class e{constructor(e){this._dataService=e,this.submitEvent=new L.n,this.putForm=e.generateBookingInfoForm()}get bookingInfo(){return this._bookingInfo}set bookingInfo(e){this._bookingInfo=e,this.putFormData=this._setFormData(e),this.rentDuration=e.rentDuration}get conditions(){return this.bookingInfo.conditions}ngOnInit(){}onSubmit(){if(this.putForm.invalid)return this._checkValid=!0,void Object.keys(this.putForm.controls).forEach(e=>{this.putForm.controls[e].invalid&&console.error(e+" is invalid")});const e=this._setPutCondition();this.submitEvent.emit(e)}checkIsInvalid(e){return this._checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}_setFormData(e){const t=this._dataService.initBookingInfoForm();return Object.assign({},t,Q.pick(e,Object.keys(t)))}_setPutCondition(){const e=this._dataService.initBookingInfoPutCondition(),t=this.putForm.value,n=this.bookingItemCode,i=t.pickupDate+" "+t.pickupTime+":00",o=t.returnDate+" "+t.returnTime+":00",a=Object.assign({},Q.pick(t,Object.keys(e)),{bookingItemCode:n,pickupDatetime:i,returnDatetime:o});return Q.omitBy(a,Q.isNil)}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(BS))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-car-booking-detail-info"]],inputs:{bookingItemCode:"bookingItemCode",plFinishYn:"plFinishYn",bookingInfo:"bookingInfo"},outputs:{submitEvent:"submitEvent"},decls:62,vars:26,consts:[[1,"page-item",3,"formGroup","connectForm"],[1,"page-item-header"],[1,"title"],[1,"table","table-bordered","table-responsive"],["width","160px"],["scope","row",1,"th-bg"],[4,"ngIf"],[1,"form-group"],[1,"input","calendar",2,"min-width","165px","max-width","165px"],[3,"for"],["type","text","placeholder","YYYY-MM-DD","formControlName","pickupDate",3,"matDatepicker"],["pickupDate",""],["formControlName","pickupTime","dataType","string","inputFormat","time","placeholder","HH:MM",2,"min-width","100px","max-width","100px",3,"isInvalid"],["type","text","placeholder","YYYY-MM-DD","formControlName","returnDate",3,"matDatepicker"],["returnDate",""],["formControlName","returnTime","dataType","string","inputFormat","time","placeholder","HH:MM",2,"min-width","100px","max-width","100px",3,"isInvalid"],[4,"ngIf","ngIfElse"],["emptyConditionsTpl",""],[1,"button-area","align-r","mt10"],["class","btn btn-secondary sm",3,"click",4,"ngIf"],["formArrayName","conditions"],[4,"ngFor","ngForOf"],[1,"btn","btn-secondary","sm",3,"click"]],template:function(e,t){if(1&e&&(L.Wb(0,"form",0),L.Wb(1,"div",1),L.Wb(2,"p",2),L.Pc(3,"Booking Detail"),L.Vb(),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," \uc598\uc57d\uc815\ubcf4 "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col",4),L.Rb(10,"col"),L.Vb(),L.Wb(11,"tbody"),L.Wb(12,"tr"),L.Wb(13,"th",5),L.Wb(14,"sup"),L.Pc(15,"Pick Up"),L.Vb(),L.Vb(),L.Wb(16,"td"),L.Wb(17,"p"),L.Pc(18),L.Vb(),L.Nc(19,uT,2,1,"p",6),L.Wb(20,"div",7),L.Wb(21,"div",8),L.Rb(22,"mat-datepicker-toggle",9),L.Rb(23,"input",10),L.Rb(24,"mat-datepicker",null,11),L.Vb(),L.Rb(26,"app-input-text",12),L.Vb(),L.Vb(),L.Vb(),L.Wb(27,"tr"),L.Wb(28,"th",5),L.Pc(29,"Return"),L.Vb(),L.Wb(30,"td"),L.Wb(31,"p"),L.Pc(32),L.Vb(),L.Nc(33,pT,2,1,"p",6),L.Wb(34,"div",7),L.Wb(35,"div",8),L.Rb(36,"mat-datepicker-toggle",9),L.Rb(37,"input",13),L.Rb(38,"mat-datepicker",null,14),L.Vb(),L.Rb(40,"app-input-text",15),L.Vb(),L.Vb(),L.Vb(),L.Wb(41,"tr"),L.Wb(42,"th",5),L.Pc(43,"Total Time to use"),L.Vb(),L.Wb(44,"td"),L.Pc(45),L.ic(46,"hhmmssToHms"),L.Vb(),L.Vb(),L.Wb(47,"tr"),L.Wb(48,"th",5),L.Pc(49,"Vehicle Name"),L.Vb(),L.Wb(50,"td"),L.Wb(51,"p"),L.Pc(52),L.Vb(),L.Vb(),L.Vb(),L.Wb(53,"tr"),L.Wb(54,"th",5),L.Pc(55,"Included"),L.Vb(),L.Wb(56,"td"),L.Nc(57,gT,3,1,"ng-container",16),L.Nc(58,fT,1,0,"ng-template",null,17,L.Oc),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(60,"div",18),L.Nc(61,vT,2,0,"button",19),L.Vb(),L.Vb()),2&e){const e=L.Ec(25),n=L.Ec(39),i=L.Ec(59);L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(18),L.Tc("",t.bookingInfo.pickupCityNameLn?t.bookingInfo.pickupCityNameLn:t.bookingInfo.pickupCityNameEn,"(",t.bookingInfo.pickupCityCodeIata,") ",t.bookingInfo.pickupLocationDesc,""),L.Cb(1),L.pc("ngIf",!!t.bookingInfo.pickupLocationPhoneNo),L.Cb(2),L.Gb("valid-error",t.checkIsInvalid("pickupDate")),L.Cb(1),L.pc("for",e),L.Cb(1),L.pc("matDatepicker",e),L.Cb(3),L.pc("isInvalid",t.checkIsInvalid("pickupTime")),L.Cb(6),L.Sc("",t.bookingInfo.returnCityNameLn?t.bookingInfo.returnCityNameLn:t.bookingInfo.returnCityNameEn," ",t.bookingInfo.returnLocationDesc,""),L.Cb(1),L.pc("ngIf",!!t.bookingInfo.returnLocationPhoneNo),L.Cb(2),L.Gb("valid-error",t.checkIsInvalid("returnDate")),L.Cb(1),L.pc("for",n),L.Cb(1),L.pc("matDatepicker",n),L.Cb(3),L.pc("isInvalid",t.checkIsInvalid("returnTime")),L.Cb(5),L.Qc(L.jc(46,24,t.rentDuration)),L.Cb(7),L.Qc(t.bookingInfo.vehicleNameLn?t.bookingInfo.vehicleNameLn:t.bookingInfo.vehicleNameEn),L.Cb(5),L.pc("ngIf",(null==t.conditions?null:t.conditions.length)>0)("ngIfElse",i),L.Cb(4),L.pc("ngIf",!t.plFinishYn)}},directives:[I.B,I.s,I.k,J.a,k.o,UW.a,I.c,QW.a,I.r,I.i,GW.a,ee.a,I.e,k.n],pipes:[xF.b],encapsulation:2,changeDetection:0}),e})();function yT(e,t){if(1&e){const e=L.Xb();L.Wb(0,"a",17),L.fc("click",(function(){return L.Fc(e),L.hc().onSubmit()})),L.Pc(1,"Save"),L.Vb()}}let kT=(()=>{class e{constructor(e){this._dataService=e,this.submitEvent=new L.n,this.gendorOptions=[{value:"M",label:"\ub0a8\uc790"},{value:"F",label:"\uc5ec\uc790"}],this.putForm=this._dataService.generateDriverPutForm()}get driverInfo(){return this._driverInfo}set driverInfo(e){this._driverInfo=e,this.putFormData=this._setFormData(e)}ngOnInit(){}onSubmit(){const e=[this._setPutCondition()];this.submitEvent.emit(e)}_setFormData(e){const t=this._dataService.initDriverPutData();return Object.assign({},t,Q.pick(e,Object.keys(t)))}_setPutCondition(){const e=this._dataService.initDriverPutData(),t=Object.assign({},Q.pick(this.putForm.value,Object.keys(e)));return Q.omitBy(t,Q.isNil)}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(BS))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-car-booking-detail-driver"]],inputs:{plFinishYn:"plFinishYn",ageTypeCodeList:"ageTypeCodeList",driverInfo:"driverInfo"},outputs:{submitEvent:"submitEvent"},decls:49,vars:7,consts:[[1,"page-item",3,"formGroup","connectForm"],[1,"page-item-header"],[1,"title"],[1,"table","table-bordered","table-responsive"],["width","45px"],["width","100px"],["scope","col",1,"align-c"],["formControlName","ageTypeCode","dataKey","detailCode","displayWord","detailCodeName",3,"options","useAllOptionYn"],["formControlName","gender",3,"options","useAllOptionYn"],["formControlName","name","placeholder","Name"],[1,"form-group"],["formControlName","lastName","placeholder","Last name",2,"min-width","70px"],[1,"dash"],["formControlName","firstName","placeholder","First name",2,"flex","2 1"],["formControlName","birthday","placeholder","Birthday","inputFormat","date"],[1,"button-area","align-r","mt10"],["class","btn btn-secondary sm",3,"click",4,"ngIf"],[1,"btn","btn-secondary","sm",3,"click"]],template:function(e,t){1&e&&(L.Wb(0,"form",0),L.Wb(1,"div",1),L.Wb(2,"p",2),L.Pc(3,"Driver"),L.Vb(),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," \uc6b4\uc804\uc790\uc815\ubcf4\ubcc0\uacbd "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col",4),L.Rb(10,"col",5),L.Rb(11,"col",5),L.Rb(12,"col"),L.Rb(13,"col"),L.Rb(14,"col"),L.Vb(),L.Wb(15,"thead"),L.Wb(16,"tr"),L.Wb(17,"th",6),L.Pc(18,"No."),L.Vb(),L.Wb(19,"th",6),L.Pc(20,"Age"),L.Vb(),L.Wb(21,"th",6),L.Pc(22,"Gender"),L.Vb(),L.Wb(23,"th",6),L.Pc(24,"Name(KO)"),L.Vb(),L.Wb(25,"th",6),L.Pc(26,"Last Name / First Name(EN)"),L.Vb(),L.Wb(27,"th",6),L.Pc(28,"Birthday"),L.Vb(),L.Vb(),L.Vb(),L.Wb(29,"tbody"),L.Wb(30,"tr"),L.Wb(31,"td"),L.Pc(32,"1"),L.Vb(),L.Wb(33,"td"),L.Rb(34,"app-selectbox-detailcode",7),L.Vb(),L.Wb(35,"td"),L.Rb(36,"app-selectbox",8),L.Vb(),L.Wb(37,"td"),L.Rb(38,"app-input-text",9),L.Vb(),L.Wb(39,"td"),L.Wb(40,"div",10),L.Rb(41,"app-input-text",11),L.Wb(42,"span",12),L.Pc(43,"/"),L.Vb(),L.Rb(44,"app-input-text",13),L.Vb(),L.Vb(),L.Wb(45,"td"),L.Rb(46,"app-input-text",14),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(47,"div",15),L.Nc(48,yT,2,0,"a",16),L.Vb(),L.Vb()),2&e&&(L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(34),L.pc("options",t.ageTypeCodeList)("useAllOptionYn",!1),L.Cb(2),L.pc("options",t.gendorOptions)("useAllOptionYn",!1),L.Cb(12),L.pc("ngIf",!t.plFinishYn))},directives:[I.B,I.s,I.k,J.a,Pi.a,I.r,I.i,Se.a,ee.a,k.o],encapsulation:2,changeDetection:0}),e})(),IT=(()=>{class e{constructor(){this.saveBookingDetailInfoEvent=new L.n,this.saveDriverEvent=new L.n}ngOnInit(){}onSaveRentInfo(e){this.saveBookingDetailInfoEvent.emit(e)}onSaveDriver(e){this.saveDriverEvent.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-car-booking-detail"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",plFinishYn:"plFinishYn",bookingItemCode:"bookingItemCode",bookingInfo:"bookingInfo",driverInfo:"driverInfo",ageTypeCodeList:"ageTypeCodeList",cancelPolicy:"cancelPolicy"},outputs:{saveBookingDetailInfoEvent:"saveBookingDetailInfoEvent",saveDriverEvent:"saveDriverEvent"},decls:2,vars:6,consts:[[3,"bookingItemCode","bookingInfo","plFinishYn","submitEvent"],[3,"driverInfo","plFinishYn","ageTypeCodeList","submitEvent"]],template:function(e,t){1&e&&(L.Wb(0,"app-reservation-car-booking-detail-info",0),L.fc("submitEvent",(function(e){return t.onSaveRentInfo(e)})),L.Vb(),L.Wb(1,"app-reservation-car-booking-detail-driver",1),L.fc("submitEvent",(function(e){return t.onSaveDriver(e)})),L.Vb()),2&e&&(L.pc("bookingItemCode",t.bookingItemCode)("bookingInfo",t.bookingInfo)("plFinishYn",t.plFinishYn),L.Cb(1),L.pc("driverInfo",t.driverInfo)("plFinishYn",t.plFinishYn)("ageTypeCodeList",t.ageTypeCodeList))},directives:[CT,kT],encapsulation:2,changeDetection:0}),e})();function OT(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",15),L.fc("click",(function(){return L.Fc(e),L.hc().onSubmit()})),L.Pc(1,"Save"),L.Vb()}}let PT=(()=>{class e{constructor(e){this._dataService=e,this.submitEvent=new L.n,this.putForm=e.generatePriceDetailVendor()}get vendorInfo(){return this._vendorInfo}set vendorInfo(e){this._vendorInfo=e,this.putFormData=this._setFormData(e)}ngOnInit(){900001===this.vendorCompCode&&Object.keys(this.putForm.controls).forEach(e=>{this.putForm.get(e).disable()})}ngOnDestroy(){}onSubmit(){if(this.putForm.invalid)return void(this._checkValid=!0);const e=this._setPutCondition();this.submitEvent.emit(e),this._checkValid=!1}checkIsInvalid(e){return this._checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}_setFormData(e){const t=this._dataService.initPriceDetailVendor();if(Q.isNil(t))return t;const n=e.addNetAdjustAmount||0,i=e.cancelChargeNetAdjustAmount||0;return Object.assign({},t,Q.pick(e,Object.keys(t)),{bookingItemCode:this.bookingItemCode,addNetAdjustAmount:n,cancelChargeNetAdjustAmount:i})}_setPutCondition(){const e=this.putForm.getRawValue();return Q.omit(e,["vendorSumAmount"])}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(BS))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-car-price-detail-vendor"]],inputs:{bookingItemCode:"bookingItemCode",vendorCompCode:"vendorCompCode",plFinishYn:"plFinishYn",vendorInfo:"vendorInfo"},outputs:{submitEvent:"submitEvent"},decls:50,vars:10,consts:[[1,"page-item-header"],[1,"title"],[3,"formGroup","connectForm"],[1,"table","table-bordered","table-responsive"],["width","25%"],["scope","row",1,"th-bg","align-l"],[1,"align-r"],["formControlName","vendorNetAmount","inputFormat","number","valueType","number",3,"isInvalid"],["formControlName","vendorTaxAmount","inputFormat","number","valueType","number",3,"isInvalid"],["formControlName","vendorGrossAmount","inputFormat","number","valueType","number",3,"isInvalid"],["formControlName","vendorAddAmount","inputFormat","number","valueType","number",3,"isInvalid"],["formControlName","vendorSumAmount","inputFormat","number","valueType","number",3,"isInvalid"],["formControlName","vendorCancelChargeAmount","inputFormat","number","valueType","number",3,"isInvalid"],[1,"button-area","align-r","mt10"],["type","button","class","btn btn-secondary sm",3,"click",4,"ngIf"],["type","button",1,"btn","btn-secondary","sm",3,"click"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Buying Rate"),L.Vb(),L.Vb(),L.Wb(3,"form",2),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," \uacf5\uae09 \uc694\uae08 "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col",4),L.Rb(10,"col",4),L.Rb(11,"col",4),L.Rb(12,"col",4),L.Vb(),L.Wb(13,"tbody"),L.Wb(14,"tr"),L.Wb(15,"th",5),L.Pc(16,"V. Currency"),L.Vb(),L.Wb(17,"td"),L.Pc(18),L.Vb(),L.Rb(19,"th",5),L.Rb(20,"td",6),L.Vb(),L.Wb(21,"tr"),L.Wb(22,"th",5),L.Pc(23,"V. Net Amt"),L.Vb(),L.Wb(24,"td",6),L.Rb(25,"app-input-text",7),L.Vb(),L.Wb(26,"th",5),L.Pc(27,"V. Extra Tax Amt"),L.Vb(),L.Wb(28,"td",6),L.Rb(29,"app-input-text",8),L.Vb(),L.Vb(),L.Wb(30,"tr"),L.Wb(31,"th",5),L.Pc(32,"V. Gross Amt"),L.Vb(),L.Wb(33,"td",6),L.Rb(34,"app-input-text",9),L.Vb(),L.Wb(35,"th",5),L.Pc(36,"V. Add Amt"),L.Vb(),L.Wb(37,"td",6),L.Rb(38,"app-input-text",10),L.Vb(),L.Vb(),L.Wb(39,"tr"),L.Wb(40,"th",5),L.Pc(41,"V. Sum Amt"),L.Vb(),L.Wb(42,"td"),L.Rb(43,"app-input-text",11),L.Vb(),L.Wb(44,"th",5),L.Pc(45,"V. CXL Charge Amt"),L.Vb(),L.Wb(46,"td",6),L.Rb(47,"app-input-text",12),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(48,"div",13),L.Nc(49,OT,2,0,"button",14),L.Vb()),2&e&&(L.Cb(3),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(15),L.Qc(null==t.vendorInfo?null:t.vendorInfo.vendorCurrencyCode),L.Cb(7),L.pc("isInvalid",t.checkIsInvalid("vendorNetAmount")),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("vendorTaxAmount")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("vendorGrossAmount")),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("vendorAddAmount")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("vendorSumAmount")),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("vendorCancelChargeAmount")),L.Cb(2),L.pc("ngIf",!t.plFinishYn))},directives:[I.B,I.s,I.k,J.a,ee.a,I.r,I.i,k.o],encapsulation:2,changeDetection:0}),e})();function jT(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",21),L.fc("click",(function(){return L.Fc(e),L.hc().onSubmit()})),L.Pc(1,"Save"),L.Vb()}}let VT=(()=>{class e{constructor(e){this._dataService=e,this.submitEvent=new L.n,this.putForm=e.generatePriceDetailSales()}get billingInfo(){return this._billingInfo}set billingInfo(e){this._billingInfo=e,this.putFormData=this._setFormData(e)}ngOnInit(){900001===this.vendorCompCode&&Object.keys(this.putForm.controls).forEach(e=>{this.putForm.get(e).disable()})}ngOnDestroy(){}onSubmit(){if(this.putForm.invalid)return void(this._checkValid=!0);const e=this._setPutCondition();this.submitEvent.emit(e)}checkIsInvalid(e){return this._checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}_setFormData(e){const t=this._dataService.initPriceDetailSales();if(Q.isNil(e))return t;const n=e.addAdjustAmount||0,i=e.cancelChargeAdjustAmount||0;return Object.assign({},t,Q.pick(e,Object.keys(t)),{bookingItemCode:this.bookingItemCode,addAdjustAmount:n,cancelChargeAdjustAmount:i})}_setPutCondition(){const e=this.putForm.getRawValue();return{bookingItemCode:e.bookingItemCode,billingAddAmount:e.billingAddAmount,billingCancelChargeAmount:e.billingCancelChargeAmount,billingOthersAmount:e.billingOthersAmount}}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(BS))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-car-price-detail-sales"]],inputs:{bookingItemCode:"bookingItemCode",vendorCompCode:"vendorCompCode",plFinishYn:"plFinishYn",billingInfo:"billingInfo"},outputs:{submitEvent:"submitEvent"},decls:79,vars:6,consts:[[1,"page-item-header"],[1,"title"],[3,"formGroup","connectForm"],[1,"table","table-bordered","table-responsive"],["width","25%"],["scope","row",1,"th-bg","align-l"],[1,"align-r"],["formControlName","billingNetAmount","inputFormat","number","valueType","number"],["formControlName","billingMarkupAmount","inputFormat","number","valueType","number"],["formControlName","billingGrossAmount","inputFormat","number","valueType","number"],["formControlName","billingTaxAmount","inputFormat","number","valueType","number"],["formControlName","billingAddAmount","inputFormat","number","valueType","number"],["formControlName","billingProductAmount","inputFormat","number","valueType","number"],["formControlName","billingCancelChargeAmount","inputFormat","number","valueType","number"],["formControlName","billingSumAmount","inputFormat","number","valueType","number"],["formControlName","billingOthersAmount","inputFormat","number","valueType","number"],["scope","row",1,"th-bg","align-l","color-red"],[1,"align-r","color-red"],[1,"color-red"],[1,"button-area","align-r","mt10"],["type","button","class","btn btn-secondary sm",3,"click",4,"ngIf"],["type","button",1,"btn","btn-secondary","sm",3,"click"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Selling Rate"),L.Vb(),L.Vb(),L.Wb(3,"form",2),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," \ud310\ub9e4 \uc694\uae08 "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col",4),L.Rb(10,"col",4),L.Rb(11,"col",4),L.Rb(12,"col",4),L.Vb(),L.Wb(13,"tbody"),L.Wb(14,"tr"),L.Wb(15,"th",5),L.Pc(16,"B. Currency"),L.Vb(),L.Wb(17,"td"),L.Pc(18),L.Vb(),L.Wb(19,"th",5),L.Pc(20,"Curr. Convert Rate"),L.Vb(),L.Wb(21,"td"),L.Pc(22),L.Vb(),L.Vb(),L.Wb(23,"tr"),L.Wb(24,"th",5),L.Pc(25,"B. Net Amt"),L.Vb(),L.Wb(26,"td",6),L.Rb(27,"app-input-text",7),L.Vb(),L.Wb(28,"th",5),L.Pc(29,"M/U Value"),L.Vb(),L.Wb(30,"td"),L.Rb(31,"app-input-text",8),L.Vb(),L.Vb(),L.Wb(32,"tr"),L.Wb(33,"th",5),L.Pc(34,"B. Gross Amt"),L.Vb(),L.Wb(35,"td",6),L.Rb(36,"app-input-text",9),L.Vb(),L.Wb(37,"th",5),L.Pc(38,"B. M/U Amt"),L.Vb(),L.Wb(39,"td"),L.Rb(40,"app-input-text",8),L.Vb(),L.Vb(),L.Wb(41,"tr"),L.Wb(42,"th",5),L.Pc(43,"B. Extra Tax Amt"),L.Vb(),L.Wb(44,"td",6),L.Rb(45,"app-input-text",10),L.Vb(),L.Wb(46,"th",5),L.Pc(47,"B. Add Amt"),L.Vb(),L.Wb(48,"td",6),L.Rb(49,"app-input-text",11),L.Vb(),L.Vb(),L.Wb(50,"tr"),L.Wb(51,"th",5),L.Pc(52,"B. Product Amt"),L.Vb(),L.Wb(53,"td",6),L.Rb(54,"app-input-text",12),L.Vb(),L.Wb(55,"th",5),L.Pc(56,"B. CXL Charge Amt"),L.Vb(),L.Wb(57,"td",6),L.Rb(58,"app-input-text",13),L.Vb(),L.Vb(),L.Wb(59,"tr"),L.Wb(60,"th",5),L.Pc(61,"B. Sum Amt"),L.Vb(),L.Wb(62,"td",6),L.Rb(63,"app-input-text",14),L.Vb(),L.Wb(64,"th",5),L.Pc(65,"B. Others Amt"),L.Vb(),L.Wb(66,"td",6),L.Rb(67,"app-input-text",15),L.Vb(),L.Vb(),L.Wb(68,"tr"),L.Wb(69,"th",16),L.Pc(70,"B. Revenue"),L.Vb(),L.Wb(71,"td",17),L.Pc(72),L.Vb(),L.Rb(73,"th",5),L.Rb(74,"td",6),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(75,"span",18),L.Pc(76,"* Extra tax, add and others amount will be displayed with Billing Product amount of the customer side"),L.Vb(),L.Vb(),L.Wb(77,"div",19),L.Nc(78,jT,2,0,"button",20),L.Vb()),2&e&&(L.Cb(3),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(15),L.Qc(null==t.billingInfo?null:t.billingInfo.billingCurrencyCode),L.Cb(4),L.Rc(" ",null==t.billingInfo?null:t.billingInfo.convertRateValue," "),L.Cb(50),L.Rc(" ",null==t.billingInfo?null:t.billingInfo.billingRevenueAmount," "),L.Cb(6),L.pc("ngIf",!t.plFinishYn))},directives:[I.B,I.s,I.k,J.a,ee.a,I.r,I.i,k.o],encapsulation:2,changeDetection:0}),e})(),AT=(()=>{class e{constructor(e){this.store=e,this.submitEvent=new L.n,this._subscribeStore()}ngOnInit(){}saveCarAmountVendorHandler(e){this.store.dispatch(p.saveAmountVendorAction({condition:e}))}saveCarAmountSalesHandler(e){this.store.dispatch(p.saveAmountSalesAction({condition:e}))}_subscribeStore(){this.amountInfo$=this.store.pipe(Object(P.u)(Tk)),this.plFinishYn$=this.store.pipe(Object(P.u)(Sk)),this.summary$=this.store.pipe(Object(P.u)(Vk))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-car-price-detail"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",vendorCompCode:"vendorCompCode",bookingItemCode:"bookingItemCode"},outputs:{submitEvent:"submitEvent"},decls:8,vars:16,consts:[[1,"page-item"],[3,"plFinishYn","bookingItemCode","vendorCompCode","vendorInfo","submitEvent"],[3,"plFinishYn","bookingItemCode","vendorCompCode","billingInfo","submitEvent"]],template:function(e,t){if(1&e&&(L.Wb(0,"div",0),L.Wb(1,"app-reservation-car-price-detail-vendor",1),L.fc("submitEvent",(function(e){return t.saveCarAmountVendorHandler(e)})),L.ic(2,"async"),L.ic(3,"async"),L.Vb(),L.Vb(),L.Wb(4,"div",0),L.Wb(5,"app-reservation-car-price-detail-sales",2),L.fc("submitEvent",(function(e){return t.saveCarAmountSalesHandler(e)})),L.ic(6,"async"),L.ic(7,"async"),L.Vb(),L.Vb()),2&e){var n;const e=null==(n=L.jc(3,10,t.amountInfo$))?null:n.vendorInfo;var i;const o=null==(i=L.jc(7,14,t.amountInfo$))?null:i.billingInfo;L.Cb(1),L.pc("plFinishYn",L.jc(2,8,t.plFinishYn$))("bookingItemCode",t.bookingItemCode)("vendorCompCode",t.vendorCompCode)("vendorInfo",e),L.Cb(4),L.pc("plFinishYn",L.jc(6,12,t.plFinishYn$))("bookingItemCode",t.bookingItemCode)("vendorCompCode",t.vendorCompCode)("billingInfo",o)}},directives:[PT,VT],pipes:[k.b],encapsulation:2,changeDetection:0}),e})(),WT=(()=>{class e{constructor(e){this.fb=e}initBookerForm(){return{bookerMobileNo:null,bookerEmailAddress:null}}generateBookerForm(){return this.fb.group({bookerMobileNo:[null,[rn.a.mobile(),I.z.required]],bookerEmailAddress:[null,[I.z.email,I.z.required]]})}}return e.\u0275fac=function(t){return new(t||e)(L.bc(I.f))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),RT=(()=>{class e{constructor(e){this._dataService=e,this.submitEvent=new L.n,this.upsertForm=e.generateBookerForm()}get masterInfo(){return this._masterInfo}set masterInfo(e){this._masterInfo=e,this.upsertFormData=this._convertItemToForm(e)}onSubmit(){if(this.upsertForm.invalid)return void(this.checkValid=!0);const e=this._convertFormToItem(this.upsertForm.value,this.masterInfo);this.submitEvent.emit(e)}checkIsInvalid(e){return this.checkValid&&this.upsertForm.get(e)&&this.upsertForm.get(e).invalid}_convertItemToForm(e){if(!e)return this._dataService.initBookerForm();const{bookerEmailAddress:t}=e;return{bookerMobileNo:Q.replace(e.bookerMobileNo,"-",""),bookerEmailAddress:t}}_convertFormToItem(e,t){const{bookerMobileNo:n,bookerEmailAddress:i}=e,{rowid:o,bookingCode:a}=t;return{bookerMobileNo:n,bookerEmailAddress:i,rowid:o,bookingCode:a}}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(WT))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-booker"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",masterInfo:"masterInfo"},outputs:{submitEvent:"submitEvent"},decls:35,vars:5,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered","table-responsive"],["width","100px"],["width","50%"],["scope","col",1,"align-c"],[1,"align-c"],[1,"form-group"],["formControlName","bookerMobileNo","inputFormat","numberOnly",3,"isInvalid"],["formControlName","bookerEmailAddress",3,"isInvalid"],[1,"d-flex","align-items-center","justify-content-between","mt10"],[1,"font-size-sm","color-danger"],["type","submit",1,"btn","btn-secondary","sm"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"p",2),L.Pc(3,"\uc608\uc57d\uc790 \uc815\ubcf4"),L.Vb(),L.Vb(),L.Wb(4,"form",3),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(5,"div",4),L.Wb(6,"table"),L.Wb(7,"caption"),L.Pc(8," \uc608\uc57d\uc790 \uc815\ubcf4 "),L.Vb(),L.Wb(9,"colgroup"),L.Rb(10,"col",5),L.Rb(11,"col"),L.Rb(12,"col",6),L.Vb(),L.Wb(13,"thead"),L.Wb(14,"tr"),L.Wb(15,"th",7),L.Pc(16,"\uc608\uc57d\uc790\uba85"),L.Vb(),L.Wb(17,"th",7),L.Pc(18,"\ud734\ub300\ud3f0 \ubc88\ud638"),L.Vb(),L.Wb(19,"th",7),L.Pc(20,"\uc774\uba54\uc77c\uc8fc\uc18c"),L.Vb(),L.Vb(),L.Vb(),L.Wb(21,"tbody"),L.Wb(22,"tr"),L.Wb(23,"td",8),L.Pc(24),L.Vb(),L.Wb(25,"td",8),L.Wb(26,"div",9),L.Rb(27,"app-input-text",10),L.Vb(),L.Vb(),L.Wb(28,"td"),L.Rb(29,"app-input-text",11),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(30,"div",12),L.Wb(31,"p",13),L.Pc(32,"\u203b \uc608\uc57d\uc790 \uc815\ubcf4\ub97c \ubcc0\uacbd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ubcf8 \uc608\uc57d\uc5d0 \ub300\ud574\uc11c\ub9cc \ubcc0\uacbd\uc774 \uc774\ub8e8\uc5b4\uc9c0\uba70, \ud68c\uc6d0 \uc815\ubcf4\uac00 \ubcc0\uacbd\ub418\ub294 \uac83\uc740 \uc544\ub2d9\ub2c8\ub2e4."),L.Vb(),L.Wb(33,"button",14),L.Pc(34,"\uc800\uc7a5"),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(4),L.pc("formGroup",t.upsertForm)("connectForm",t.upsertFormData),L.Cb(20),L.Qc(null==t.masterInfo?null:t.masterInfo.bookerName),L.Cb(3),L.pc("isInvalid",t.checkIsInvalid("bookerMobileNo")),L.Cb(2),L.pc("isInvalid",t.checkIsInvalid("bookerEmailAddress")))},directives:[I.B,I.s,I.k,J.a,ee.a,I.r,I.i],encapsulation:2,changeDetection:0}),e})();var FT=n("/Bmo");function ST(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-send-email-template",52),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().closeConfirmationHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("bookingItemCode",L.jc(1,3,e.bookingItemCode$))("templateGetInfo",L.jc(2,5,e.confirmationGetInfo$))("emailTitle","[OHMYHOTEL] "+L.jc(3,7,e.bookingItemCode$)+"'s\n                Confirmation")}}function TT(e,t){if(1&e&&(L.Wb(0,"app-reservation-send-email-template",53),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Pc(4,' (closeEvent)="closeInvoiceHandler()" '),L.Vb()),2&e){const e=L.hc();L.pc("bookingItemCode",L.jc(1,3,e.bookingItemCode$))("templateGetInfo",L.jc(2,5,e.invoiceGetInfo$))("emailTitle","[OHMYHOTEL] "+L.jc(3,7,e.bookingItemCode$)+"'s\n                Invoice")}}function NT(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-pg-credit-card",54),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().sendPgCreditCardPayment(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().closePgCreditCardModal()})),L.ic(1,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(1,1,e.price$))?null:n.balanceAmount;L.pc("paidAmount",t)}}function ET(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-pg-bank",54),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().sendPgBankPayment(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().closePgBankModal()})),L.ic(1,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(1,1,e.price$))?null:n.balanceAmount;L.pc("paidAmount",t)}}const MT=function(){return[]};function DT(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-credit-card-cancel",55),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().cancelCreditCard(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().closeCreditCardCancelModal()})),L.ic(1,"async"),L.ic(2,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=(null==(n=L.jc(1,2,e.payment$))?null:n.payments)||L.tc(6,MT);L.pc("payments",t)("paymentInfo",L.jc(2,4,e.selectedPayment$))}}function LT(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-coupon-point-payment-cancel",56),L.fc("cancelCouponEvent",(function(t){return L.Fc(e),L.hc().cancelCoupon(t)}))("cancelPointEvent",(function(t){return L.Fc(e),L.hc().cancelPoint(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().closeCouponPointCancelModal()})),L.ic(1,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("paymentInfo",L.jc(1,1,e.selectedPayment$))}}function _T(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-cash-receipt-issue",57),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().closeCashReceiptIssueModal()}))("submitEvent",(function(t){return L.Fc(e),L.hc().issueCashReceipt(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(1,4,e.master$))?null:n.bookerName;var i;const o=null==(i=L.jc(2,6,e.master$))?null:i.bookerEmailAddress;L.pc("issueName",t)("emailAddress",o)("selectedPaymentInfo",L.jc(3,8,e.selectedPayment$))("maxPaidAmount",e.sumCashPaidAmount)}}function $T(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-point-payment",58),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().closePointPaymentHandler()}))("submitEvent",(function(t){return L.Fc(e),L.hc().sendPointPaymentHandler(t)})),L.ic(1,"async"),L.ic(2,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(2,4,e.master$))?null:n.bookerUno;L.pc("bookingItemCode",L.jc(1,2,e.bookingItemCode$))("userNo",t)}}function BT(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-car-payment-manual-modal",59),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().closePaymentManualHandler()}))("submitEvent",(function(t){return L.Fc(e),L.hc().savePaymentDepositManual(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.ic(5,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("bookingItemCode",L.jc(1,5,e.bookingItemCode$))("paymentDetailTypeList",L.jc(2,7,e.paymentDetailTypeList$))("depositTypeList",L.jc(3,9,e.depositTypeList$))("paymentBankMasterList",L.jc(4,11,e.paymentBankMasterList$))("giftCardTypeList",L.jc(5,13,e.giftCardTypeList$))}}function wT(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-deposit-refund-detail",60),L.fc("completeEvent",(function(){return L.Fc(e),L.hc().completeRefundRegister()})),L.ic(1,"async"),L.ic(2,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(1,2,e.selectedPayment$))?null:n.paymentSeq;L.pc("paymentSeq",t)("depositInfo",L.jc(2,4,e.selectedPayment$))}}function xT(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-card-receipt-view",61),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().closeCardReceiptHandler()})),L.ic(1,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("receiptCondition",L.jc(1,1,e.cardReceiptInfo$))}}function YT(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-send-email-template",62),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().closeCashReceiptHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("templateGetInfo",L.jc(1,3,e.receiptGetInfo$))("bookingItemCode",L.jc(2,5,e.bookingItemCode$))("emailTitle","[OHMYHOTEL] "+L.jc(3,7,e.bookingItemCode$)+"'s\n                Receipt")}}function HT(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-car-cancel-modal",63),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().cancelSubmitHandler(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().clickCancelMoadalCloseHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(2,4,e.cancelCharge$))?null:n.cancelChargeAmount;L.pc("bookingItemCode",L.jc(1,2,e.bookingItemCode$))("cancelChargeAmount",t)}}function qT(e,t){if(1&e){const e=L.Xb();L.Wb(0,"li",64),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc().onClickCurrentSubTab(n)})),L.ic(1,"async"),L.Wb(2,"a",65),L.Pc(3),L.Vb(),L.Wb(4,"a",66),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc().onClickDelSubTab(n)})),L.Pc(5,"\ub2eb\uae30"),L.Vb(),L.Vb()}if(2&e){const e=t.$implicit,n=L.hc();L.pc("active",e===L.jc(1,2,n.currentSubTab$)),L.Cb(3),L.Qc(e)}}const UT=function(){return{}};function QT(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-car-basis",67),L.fc("saveBasicInfoEvent",(function(t){return L.Fc(e),L.hc().onSaveBasicInfo(t)}))("saveCancelPolicyEvent",(function(t){return L.Fc(e),L.hc().onSaveCancelPolicy(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.ic(5,"async"),L.ic(6,"async"),L.ic(7,"async"),L.ic(8,"async"),L.ic(9,"async"),L.ic(10,"async"),L.ic(11,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("active",L.jc(1,11,e.currentSubTab$)===e.tabNames.BASIS)("bookingItemCode",L.jc(2,13,e.bookingItemCode$))("stationTypeList",L.jc(3,15,e.stationTypeList$))("bookingStatusList",L.jc(4,17,e.bookingStatusList$))("requestStatusList",L.jc(5,19,e.requestStatusList$))("clientPaymentStatusCodeList",L.jc(6,21,e.clientPaymentStatusCodeList$))("vendorList",L.jc(7,23,e.vendorList$))("vehicleVendorList",L.jc(8,25,e.vehicleVendorList$))("plFinishYn",L.jc(9,27,e.plFinishYn$))("bookingInfo",L.jc(10,29,e.bookingInfo$))("cancelPolicy",L.jc(11,31,e.cancelPolicy$)||L.tc(33,UT))}}function GT(e,t){if(1&e&&(L.Rb(0,"app-reservation-car-retrieve",68),L.ic(1,"async")),2&e){const e=L.hc();L.pc("active",L.jc(1,1,e.currentSubTab$)===e.tabNames.RETRIEVE)}}function KT(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-car-booking-detail",69),L.fc("saveBookingDetailInfoEvent",(function(t){return L.Fc(e),L.hc().onSaveBookingDetailInfo(t)}))("saveDriverEvent",(function(t){return L.Fc(e),L.hc().onSaveDriverInfo(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.ic(5,"async"),L.ic(6,"async"),L.ic(7,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("active",L.jc(1,7,e.currentSubTab$)===e.tabNames.BOOKING_DETAIL)("cancelPolicy",L.jc(2,9,e.cancelPolicy$))("plFinishYn",L.jc(3,11,e.plFinishYn$))("bookingItemCode",L.jc(4,13,e.bookingItemCode$))("bookingInfo",L.jc(5,15,e.bookingInfo$)||L.tc(21,UT))("driverInfo",L.jc(6,17,e.driver$)||L.tc(22,UT))("ageTypeCodeList",L.jc(7,19,e.ageTypeCodeList$))}}function zT(e,t){if(1&e&&(L.Rb(0,"app-reservation-car-price-detail",70),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async")),2&e){const e=L.hc();var n;const t=null==(n=L.jc(2,5,e.summary$))?null:n.vendorCompCode;L.pc("active",L.jc(1,3,e.currentSubTab$)===e.tabNames.PRICE_DETAIL)("vendorCompCode",t)("bookingItemCode",L.jc(3,7,e.bookingItemCode$))}}function XT(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-booker",71),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().onSaveBookerInfo(t)})),L.ic(1,"async"),L.ic(2,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("active",L.jc(1,2,e.currentSubTab$)===e.tabNames.BOOKER)("masterInfo",L.jc(2,4,e.master$))}}function ZT(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-user",72),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().saveBookerInfoHandler(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(3,7,e.summary$))?null:n.stationTypeCode;L.pc("active",L.jc(1,3,e.currentSubTab$)===e.tabNames.USER_INFO)("bookerInfo",L.jc(2,5,e.bookerInfo$))("stationTypeCode",t)}}function JT(e,t){if(1&e&&(L.Rb(0,"app-reservation-history",73),L.ic(1,"async"),L.ic(2,"async")),2&e){const e=L.hc();L.pc("active",L.jc(1,2,e.currentSubTab$)===e.tabNames.HISTORY)("bookingLogList",L.jc(2,4,e.bookingLogList$))}}function eN(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-consulting",74),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().onSaveConsultingInfo(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("active",L.jc(1,3,e.currentSubTab$)===e.tabNames.CONSULTING)("consultingList",L.jc(2,5,e.consultingList$)||L.tc(9,MT))("consultingSeq",L.jc(3,7,e.consultingSeq$))}}function tN(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-memo",75),L.fc("saveMemoEvent",(function(t){return L.Fc(e),L.hc().onSaveMemo(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("active",L.jc(1,3,e.currentSubTab$)===e.tabNames.MEMO)("bookingItemCode",L.jc(2,5,e.bookingItemCode$))("memoList",L.jc(3,7,e.bookingMemoList$))}}const nN=function(e){return[e]};function iN(e,t){if(1&e&&(L.Rb(0,"app-ums",76),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.ic(5,"async")),2&e){const e=L.hc();L.pc("active",L.jc(1,5,e.currentSubTab$)===e.tabNames.UMS)("stationTypeCode",L.jc(2,7,e.summary$).stationTypeCode)("bookingItemCode",L.jc(3,9,e.bookingItemCode$))("bookingCode",L.jc(4,11,e.master$).bookingCode)("bookers",L.uc(15,nN,L.jc(5,13,e.bookerForUms$)))}}const oN={BASIS:"Basic Info",RETRIEVE:"Retrieve",BOOKING_DETAIL:"Booking Detail",PRICE_DETAIL:"Rate",UMS:"UMS",CONSULTING:"1:1 Consulting",VOUCHER:"Voucher",MEMO:"Memo",HISTORY:"History",MEMBER_BOOKER:"Member / Booker",BOOKER:"\uc608\uc57d\uc790 \uc815\ubcf4",USER_INFO:"\ud68c\uc6d0\uc815\ubcf4"};let aN=(()=>{class e extends oF{constructor(e,t,n,i){super(e),this.store=e,this.authStore=t,this._activatedRoute=n,this.alertService=i,this.sumCashPaidAmount=0,this.unsubscribe$=new Fe.a,this._subscribeStore()}get tabNames(){return oN}ngOnInit(){this._activatedRoute.queryParams.subscribe(e=>{const t=e.tabName;Q.isNil(t)||this.store.dispatch(p.setCurrentSubTabAction({tabName:this.tabNames[t]}))}),this._initDetailSubscription()}loadMasterInfo(){this.store.dispatch(p.loadMasterInfoAction({condition:{bookingItemCode:this._bookingItemCode}}))}loadSubInfo(){this._loadSubTabData()}clickDetailViewHandler(){this.onClickCurrentSubTab(this.tabNames.BASIS)}clickRetrieveHandler(){this.store.dispatch(p.retrieveAction({condition:{bookingItemCodes:[this._bookingItemCode]}}))}clickMypageHandler(){this.store.dispatch(u.openClientPageAction({path:`rent-booked-detail/${this._bookingItemCode}`}))}clickUmsHandler(){this.onClickCurrentSubTab(this.tabNames.UMS)}clickCancelHandler(){this.store.dispatch(p.loadCancelChargeAmountAction({condition:{bookingItemCode:this._bookingItemCode}})),this.store.dispatch(p.openCanceModalAction())}clickCancelMoadalCloseHandler(){this.store.dispatch(p.closeCanceModalAction())}clickConsultingHandler(){this.onClickCurrentSubTab(this.tabNames.CONSULTING)}clickMemoHandler(){this.onClickCurrentSubTab(this.tabNames.MEMO)}clickChangeLogHandler(){this.onClickCurrentSubTab(this.tabNames.HISTORY)}clickBookingInfoDetailViewHandler(){this.onClickCurrentSubTab(this.tabNames.BOOKING_DETAIL)}clickPriceDetailViewHandler(){this.onClickCurrentSubTab(this.tabNames.PRICE_DETAIL)}clickBookerViewHandler(){this.onClickCurrentSubTab(this.tabNames.BOOKER)}clickUserInfoViewHandler(){this.onClickCurrentSubTab(this.tabNames.USER_INFO)}onClickCurrentSubTab(e){this.store.dispatch(p.setCurrentSubTabAction({tabName:e}))}onClickDelSubTab(e){this.store.dispatch(p.delSubTabAction({tabName:e}))}onSaveBasicInfo(e){this.store.dispatch(p.saveBasicInfoAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode})}))}onSaveBookingDetailInfo(e){this.store.dispatch(p.saveBookingDetailAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode})}))}onSaveDriverInfo(e){this.store.dispatch(p.saveDriverAction({condition:{bookingItemCode:this._bookingItemCode,drivers:e}}))}onSaveCancelPolicy(e){this.store.dispatch(p.saveCancelPolicyAction({condition:e}))}onSaveBookerInfo(e){this.store.dispatch(u.saveBookerInfoAction({condition:e}))}saveBookerInfoHandler(e){const t=this._bookingItemCode.split("-")[0];this.store.dispatch(u.changeBookerInfoAction({condition:Object.assign(Object.assign({},e),{bookingCode:t})}))}onSaveConsultingInfo(e){this.store.dispatch(u.saveConsultingInfoAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode})}))}onSaveMemo(e){this.store.dispatch(u.saveBookingMemoAction({condition:e}))}cancelSubmitHandler(e){this.store.dispatch(p.cancelBookingAction({condition:Object.assign({},e)}))}openPgCreditCardModal(){this.store.dispatch(p.openPgCreditCardModalAction())}closePgCreditCardModal(){this.store.dispatch(p.closePgCreditCardModalAction())}openPgBankModal(){this.store.dispatch(p.openPgBankModalAction())}closePgBankModal(){this.store.dispatch(p.closePgBankModalAction())}sendPgCreditCardPayment(e){this.store.dispatch(p.sendPgCreditCardPaymentAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode,paymentDetailTypeCode:"CARRV"})}))}sendPgBankPayment(e){this.store.dispatch(p.sendPgBankPaymentAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode,paymentDetailTypeCode:"CARRV"})}))}openCashReceiptIssueModal(e){this.sumCashPaidAmount=e,this.store.dispatch(p.openCashReceiptIssueModalAction())}closeCashReceiptIssueModal(){this.sumCashPaidAmount=0,this.store.dispatch(p.closeCashReceiptIssueModalAction())}issueCashReceipt(e){this.store.dispatch(p.issueCashReceiptAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode})}))}cancelCreditCard(e){this.store.dispatch(p.cancelPaymentAction({condition:Object.assign({},e)}))}cancelCoupon(e){this.store.dispatch(p.cancelCouponPaymentAction({condition:Object.assign({},e)}))}cancelPoint(e){this.store.dispatch(p.cancelPointPaymentAction({condition:Object.assign({},e)}))}openCreditCardCancelModal(){this.store.dispatch(p.openCreditCardCancelModalAction())}closeCreditCardCancelModal(){this.store.dispatch(p.closeCreditCardCancelModalAction())}openCouponPointCancelModal(){this.store.dispatch(p.openCouponPointCancelModalAction())}closeCouponPointCancelModal(){this.store.dispatch(p.closeCouponPointCancelModalAction())}selectPaymentHandler(e){this.store.dispatch(p.selectPaymentInfoAction({paymentInfo:e}))}openPaymentManualHandler(){this.store.dispatch(p.openPaymentManualModalAction())}closePaymentManualHandler(){this.store.dispatch(p.closePaymentManualModalAction())}savePaymentDepositManual(e){this.store.dispatch(p.savePaymentDepositManualAction({condition:e}))}openConfirmationHandler(){this.store.dispatch(p.openConfirmationModalAction())}closeConfirmationHandler(){this.store.dispatch(p.closeConfirmationModalAction())}openInvoiceHandler(){this.store.dispatch(p.openInvoiceModalAction())}closeInvoiceHandler(){this.store.dispatch(p.closeInvoiceModalAction())}cancelCashReceipt(e){this.store.dispatch(p.cancelBankReceiptAction({condition:e}))}openCashReceiptHandler({receiptSeq:e}){const{stationTypeCode:t}=this.master;this.store.dispatch(p.openCashReceiptAction({receiptGetInfo:{itemCategoryCode:"IC03",bookingItemCode:this._bookingItemCode,stationTypeCode:t,receiptSeq:e,invoiceYn:!1}}))}closeCashReceiptHandler(){this.store.dispatch(p.closeCashReceiptAction())}openCardReceiptHandler(e){const t=Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode});this.store.dispatch(p.openCardReceiptAction({cardReceiptInfo:t}))}clickCreatePaymentEvent(e){this.store.dispatch(p.createPaymentAction({condition:e}))}closeCardReceiptHandler(){this.store.dispatch(p.closeCardReceiptAction())}openRefundRegister(){this.store.dispatch(p.openRefundRegisterAction())}closeRefundRegister(){this.store.dispatch(p.closeRefundRegisterAction())}completeRefundRegister(){this.store.dispatch(u.reloadBookingDetailAction()),this.store.dispatch(p.closeRefundRegisterAction())}openPointPaymentHandler(){this.store.dispatch(p.openPointPaymentAction())}closePointPaymentHandler(){this.store.dispatch(p.closePointPaymentAction())}sendPointPaymentHandler(e){this.store.dispatch(p.sendPointPaymentAction({condition:e}))}clickDeletePaymentHandler(e){this.store.dispatch(p.deletePaymentAction({condition:e}))}_subscribeStore(){this.auths$=this.store.pipe(Object(P.u)(rk)),this.loading$=this.store.pipe(Object(P.u)(vk)),this.master$=this.store.pipe(Object(P.u)(Ck)),this.bookingItems$=this.store.pipe(Object(P.u)(jk)),this.summary$=this.store.pipe(Object(P.u)(Vk)),this.bookingInfo$=this.store.pipe(Object(P.u)(Ak)),this.driver$=this.store.pipe(Object(P.u)(Wk)),this.price$=this.store.pipe(Object(P.u)(Rk)),this.isOpenCancelModal$=this.store.pipe(Object(P.u)(Ek)),this.payment$=this.store.pipe(Object(P.u)(Fk)),this.plFinishYn$=this.store.pipe(Object(P.u)(Sk)),this.freeNonCancelableYn$=this.store.pipe(Object(P.u)(uI)),this.isOpenCreditCardCancelModal$=this.store.pipe(Object(P.u)(Mk)),this.isOpenCouponPointCancelModal$=this.store.pipe(Object(P.u)(Dk)),this.isOpenCashReceiptIssueModal$=this.store.pipe(Object(P.u)(Lk)),this.isOpenPgCreditCardModal$=this.store.pipe(Object(P.u)(_k)),this.isOpenPgBankModal$=this.store.pipe(Object(P.u)($k)),this.isOpenPaymentManualModal$=this.store.pipe(Object(P.u)(Bk)),this.isOpenConfirmationModal$=this.store.pipe(Object(P.u)(wk)),this.isOpenInvoiceModal$=this.store.pipe(Object(P.u)(xk)),this.isOpenCardReceiptModal$=this.store.pipe(Object(P.u)(Yk)),this.isOpenCashReceiptModal$=this.store.pipe(Object(P.u)(Hk)),this.isOpenRefundRegisterModal$=this.store.pipe(Object(P.u)(qk)),this.isOpenPointPaymentModal$=this.store.pipe(Object(P.u)(Uk)),this.selectedPayment$=this.store.pipe(Object(P.u)(Kk)),this.subTabs$=this.store.pipe(Object(P.u)(zk)),this.currentSubTab$=this.store.pipe(Object(P.u)(Xk)),this.stationTypeList$=this.store.pipe(Object(P.u)(Zk)),this.bookingStatusList$=this.store.pipe(Object(P.u)(Jk)),this.requestStatusList$=this.store.pipe(Object(P.u)(eI)),this.vendorList$=this.store.pipe(Object(P.u)(tI)),this.vehicleVendorList$=this.store.pipe(Object(P.u)(nI)),this.paymentDetailTypeList$=this.store.pipe(Object(P.u)(iI)),this.depositTypeList$=this.store.pipe(Object(P.u)(oI)),this.paymentBankMasterList$=this.store.pipe(Object(P.u)(aI)),this.giftCardTypeList$=this.store.pipe(Object(P.u)(cI)),this.ageTypeCodeList$=this.store.pipe(Object(P.u)(rI)),this.clientPaymentStatusCodeList$=this.store.pipe(Object(P.u)(lI)),this.cancelPolicy$=this.store.pipe(Object(P.u)(dI)),this.bookerForUms$=this.store.pipe(Object(P.u)(yk)),this.confirmationGetInfo$=this.store.pipe(Object(P.u)(kk)),this.invoiceGetInfo$=this.store.pipe(Object(P.u)(Ik)),this.receiptGetInfo$=this.store.pipe(Object(P.u)(Pk)),this.cancelCharge$=this.store.pipe(Object(P.u)(Nk)),this.cardReceiptInfo$=this.store.pipe(Object(P.u)(Qk)),this.cashReceiptInfo$=this.store.pipe(Object(P.u)(Gk))}_loadSubTabData(){this.store.dispatch(p.loadStationTypeAction({condition:{masterCode:"BS002"}})),this.store.dispatch(p.loadBookingStatusAction({condition:{masterCode:"BK001",referCode1:"IC03"}})),this.store.dispatch(p.loadRequestStatusAction({condition:{masterCode:"RT005"}})),this.store.dispatch(p.loadVendorsAction({condition:{compTypeCodes:["CMP05","CMP06"],limits:[0,100],itemCategoryCode:"IC03"}})),this.store.dispatch(p.loadVehicleVendorsAction({condition:{masterCode:"RT002"}})),this.store.dispatch(p.loadPaymentDetailTypeList({condition:{masterCode:"PM005",referCode1:"IC03"}})),this.store.dispatch(p.loadDepositTypeList({condition:{masterCode:"PM006",referCode1:"MANUAL"}})),this.store.dispatch(p.loadPaymentBankMasterListAction({condition:{masterCode:"PM003"}})),this.store.dispatch(p.loadGiftCardTypeListAction({condition:{masterCode:"PM039"}})),this.store.dispatch(p.loadCancelPolicyAction({condition:{bookingItemCode:this._bookingItemCode}})),this.store.dispatch(p.loadAmountInfoAction({condition:{bookingItemCode:this._bookingItemCode}})),this.store.dispatch(p.loadAgeTypeCodeAction({condition:{masterCode:"BS011"}})),this.store.dispatch(p.loadClientPaymentStatusCodeListAction({condition:{masterCode:"BK002"}}))}_initDetailSubscription(){this.auths$.pipe(Object(Ci.a)(this.unsubscribe$)).subscribe(e=>{this.auths=e}),this.master$.pipe(Object(Ci.a)(this.unsubscribe$)).subscribe(e=>{this.master=e}),this.summary$.pipe(Object(Ci.a)(this.unsubscribe$)).subscribe(e=>{Q.isNil(e)||"STN05"!==e.stationTypeCode||(this.store.dispatch(p.loadPolicyMonitoringInfoAction({condition:{bookingItemCode:this._bookingItemCode}})),this.store.dispatch(p.loadCorporateReasonListAction({condition:{itemCategoryCode:"IC03",corporateCompCode:e.bookerCompCode,useYn:!0},isForceLoad:!0})))})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h),L.Qb(P.h),L.Qb(dt.a),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-car"]],features:[L.zb],decls:109,vars:187,consts:[[3,"reservationInfoMaster","bookingItemCode","bookingItemCodes","clickBookerNameEvent","clickUserInfoEvent","clickUmsEvent"],[1,"modal-body"],[1,"frame-wrap","both"],[1,"frame","main"],[3,"bookingItems","bookingItemCode","categoryCodeNameMap"],[1,"tabs-content"],[1,"tab-pane","active"],[1,"reservation-detail"],[3,"summary","cancelYn","freeNonCancelableYn","bookingItemCode","clickDetailViewEvent","clickRetrieveEvent","clickMypageEvent","clickUmsEvent","clickCancelEvent","clickConsultingEvent","clickMemoEvent","clickChangeLogEvent"],[3,"bookingInfo","summary","clickVoucherEvent","clicInvoiceEvent","clickDetailViewEvent","clickRetrieveEvent"],["header","Confirmation","modalSize","md","modalContentClass","pd-all",3,"visible","modal","visibleChange"],[3,"bookingItemCode","templateGetInfo","emailTitle","closeEvent",4,"ngIf"],["header","Invoice","modalSize","md","modalContentClass","pd-all",3,"visible","modal","visibleChange"],[3,"bookingItemCode","templateGetInfo","emailTitle",4,"ngIf"],[3,"driverInfo"],[3,"bookingInfo","priceInfo","clickPriceDetailViewEvent","clickPgCardEvent","clickPgBankEvent"],["modalSize","sm","modalContentClass","pd-all","header","Credit\n              Card Manual Approval",3,"modal","visible","visibleChange"],[3,"paidAmount","submitEvent","closeEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","Create\n              Virtual Bank Account",3,"modal","visible","visibleChange"],[3,"plFinishYn","bookingInfo","paymentInfo","clickCreditCardCancelEvent","clickCouponPointCancelEvent","clickCashReceiptIssueEvent","clickPaymentManualEvent","openCardReceiptEvent","clickCreatePaymentEvent","clickRefundRegisterEvent","clickPointPaymentEvent","clickDeletePaymentEvent","selectPayment"],["modalSize","sm","modalContentClass","pd-all","header","Cancel a card payment authorization",3,"modal","visible","visibleChange"],[3,"payments","paymentInfo","submitEvent","closeEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","\ucfe0\ud3f0/\ud3ec\uc778\ud2b8 \uacb0\uc81c \ucde8\uc18c",3,"modal","visible","visibleChange"],[3,"paymentInfo","cancelCouponEvent","cancelPointEvent","closeEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","Issue Cash Receipt",3,"modal","visible","visibleChange"],[3,"issueName","emailAddress","selectedPaymentInfo","maxPaidAmount","closeEvent","submitEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","\ud3ec\uc778\ud2b8\n              \uc218\ub3d9\uacb0\uc81c",3,"modal","visible","visibleChange"],[3,"bookingItemCode","userNo","closeEvent","submitEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","Manually enroll payments",3,"hasScroll","modal","visible","visibleChange"],[3,"bookingItemCode","paymentDetailTypeList","depositTypeList","paymentBankMasterList","giftCardTypeList","closeEvent","submitEvent",4,"ngIf"],["modalSize","md","modalContentClass","pd-all","header","Refund\n              Registration",3,"visible","modal","visibleChange"],["category","rent",3,"paymentSeq","depositInfo","completeEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","Credit Card Receipt",3,"modal","visible","visibleChange"],[3,"receiptCondition","closeEvent",4,"ngIf"],[3,"paymentInfo","openReceiptEvent","clickCashReceiptCancelEvent"],["modalSize","sm","modalContentClass","pd-all","header","Cash Receipt",3,"modal","visible","visibleChange"],[3,"templateGetInfo","bookingItemCode","emailTitle","closeEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","Alert",3,"modal","visible","visibleChange"],[3,"bookingItemCode","cancelChargeAmount","submitEvent","closeEvent",4,"ngIf"],[1,"frame","sub"],["mat-tab-nav-bar","",1,"tabs-main-group"],["mat-tab-link","","class","nav-item",3,"active","click",4,"ngFor","ngForOf"],[3,"active","bookingItemCode","stationTypeList","bookingStatusList","requestStatusList","clientPaymentStatusCodeList","vendorList","vehicleVendorList","plFinishYn","bookingInfo","cancelPolicy","saveBasicInfoEvent","saveCancelPolicyEvent",4,"ngIf"],[3,"active",4,"ngIf"],[3,"active","cancelPolicy","plFinishYn","bookingItemCode","bookingInfo","driverInfo","ageTypeCodeList","saveBookingDetailInfoEvent","saveDriverEvent",4,"ngIf"],[3,"active","vendorCompCode","bookingItemCode",4,"ngIf"],[3,"active","masterInfo","submitEvent",4,"ngIf"],[3,"active","bookerInfo","stationTypeCode","submitEvent",4,"ngIf"],[3,"active","bookingLogList",4,"ngIf"],["itemCategoryCode","IC03",3,"active","consultingList","consultingSeq","submitEvent",4,"ngIf"],[3,"active","bookingItemCode","memoList","saveMemoEvent",4,"ngIf"],["itemCategoryCode","IC03",3,"active","stationTypeCode","bookingItemCode","bookingCode","bookers",4,"ngIf"],[3,"bookingItemCode","templateGetInfo","emailTitle","closeEvent"],[3,"bookingItemCode","templateGetInfo","emailTitle"],[3,"paidAmount","submitEvent","closeEvent"],[3,"payments","paymentInfo","submitEvent","closeEvent"],[3,"paymentInfo","cancelCouponEvent","cancelPointEvent","closeEvent"],[3,"issueName","emailAddress","selectedPaymentInfo","maxPaidAmount","closeEvent","submitEvent"],[3,"bookingItemCode","userNo","closeEvent","submitEvent"],[3,"bookingItemCode","paymentDetailTypeList","depositTypeList","paymentBankMasterList","giftCardTypeList","closeEvent","submitEvent"],["category","rent",3,"paymentSeq","depositInfo","completeEvent"],[3,"receiptCondition","closeEvent"],[3,"templateGetInfo","bookingItemCode","emailTitle","closeEvent"],[3,"bookingItemCode","cancelChargeAmount","submitEvent","closeEvent"],["mat-tab-link","",1,"nav-item",3,"active","click"],[1,"nav-link"],["title","\ud0ed \ub2eb\uae30",1,"btn-tabs-close",3,"click"],[3,"active","bookingItemCode","stationTypeList","bookingStatusList","requestStatusList","clientPaymentStatusCodeList","vendorList","vehicleVendorList","plFinishYn","bookingInfo","cancelPolicy","saveBasicInfoEvent","saveCancelPolicyEvent"],[3,"active"],[3,"active","cancelPolicy","plFinishYn","bookingItemCode","bookingInfo","driverInfo","ageTypeCodeList","saveBookingDetailInfoEvent","saveDriverEvent"],[3,"active","vendorCompCode","bookingItemCode"],[3,"active","masterInfo","submitEvent"],[3,"active","bookerInfo","stationTypeCode","submitEvent"],[3,"active","bookingLogList"],["itemCategoryCode","IC03",3,"active","consultingList","consultingSeq","submitEvent"],[3,"active","bookingItemCode","memoList","saveMemoEvent"],["itemCategoryCode","IC03",3,"active","stationTypeCode","bookingItemCode","bookingCode","bookers"]],template:function(e,t){if(1&e&&(L.Wb(0,"app-reservation-header",0),L.fc("clickBookerNameEvent",(function(){return t.clickBookerViewHandler()}))("clickUserInfoEvent",(function(){return t.clickUserInfoViewHandler()}))("clickUmsEvent",(function(){return t.clickUmsHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb(),L.Wb(4,"div",1),L.Wb(5,"div",2),L.Wb(6,"div",3),L.Rb(7,"app-tabs-booking-items",4),L.ic(8,"async"),L.ic(9,"async"),L.Wb(10,"div",5),L.Wb(11,"div",6),L.Wb(12,"div",7),L.Wb(13,"app-reservation-car-summary",8),L.fc("clickDetailViewEvent",(function(){return t.clickDetailViewHandler()}))("clickRetrieveEvent",(function(){return t.clickRetrieveHandler()}))("clickMypageEvent",(function(){return t.clickMypageHandler()}))("clickUmsEvent",(function(){return t.clickUmsHandler()}))("clickCancelEvent",(function(){return t.clickCancelHandler()}))("clickConsultingEvent",(function(){return t.clickConsultingHandler()}))("clickMemoEvent",(function(){return t.clickMemoHandler()}))("clickChangeLogEvent",(function(){return t.clickChangeLogHandler()})),L.ic(14,"async"),L.ic(15,"async"),L.ic(16,"async"),L.ic(17,"async"),L.Vb(),L.Wb(18,"app-reservation-car-booking-info",9),L.fc("clickVoucherEvent",(function(){return t.openConfirmationHandler()}))("clicInvoiceEvent",(function(){return t.openInvoiceHandler()}))("clickDetailViewEvent",(function(){return t.clickBookingInfoDetailViewHandler()}))("clickRetrieveEvent",(function(){return t.clickRetrieveHandler()})),L.ic(19,"async"),L.ic(20,"async"),L.Vb(),L.Wb(21,"app-dialog",10),L.fc("visibleChange",(function(){return t.closeConfirmationHandler()})),L.ic(22,"async"),L.Nc(23,ST,4,9,"app-reservation-send-email-template",11),L.ic(24,"async"),L.Vb(),L.Wb(25,"app-dialog",12),L.fc("visibleChange",(function(){return t.closeInvoiceHandler()})),L.ic(26,"async"),L.Nc(27,TT,5,9,"app-reservation-send-email-template",13),L.ic(28,"async"),L.Vb(),L.Rb(29,"app-reservation-car-driver",14),L.ic(30,"async"),L.Wb(31,"app-reservation-car-price",15),L.fc("clickPriceDetailViewEvent",(function(){return t.clickPriceDetailViewHandler()}))("clickPgCardEvent",(function(){return t.openPgCreditCardModal()}))("clickPgBankEvent",(function(){return t.openPgBankModal()})),L.ic(32,"async"),L.ic(33,"async"),L.Vb(),L.Wb(34,"app-dialog",16),L.fc("visibleChange",(function(){return t.closePgCreditCardModal()})),L.ic(35,"async"),L.Nc(36,NT,2,3,"app-pg-credit-card",17),L.ic(37,"async"),L.Vb(),L.Wb(38,"app-dialog",18),L.fc("visibleChange",(function(){return t.closePgBankModal()})),L.ic(39,"async"),L.Nc(40,ET,2,3,"app-pg-bank",17),L.ic(41,"async"),L.Vb(),L.Wb(42,"app-reservation-car-payment",19),L.fc("clickCreditCardCancelEvent",(function(){return t.openCreditCardCancelModal()}))("clickCouponPointCancelEvent",(function(){return t.openCouponPointCancelModal()}))("clickCashReceiptIssueEvent",(function(e){return t.openCashReceiptIssueModal(e)}))("clickPaymentManualEvent",(function(){return t.openPaymentManualHandler()}))("openCardReceiptEvent",(function(e){return t.openCardReceiptHandler(e)}))("clickCreatePaymentEvent",(function(e){return t.clickCreatePaymentEvent(e)}))("clickRefundRegisterEvent",(function(){return t.openRefundRegister()}))("clickPointPaymentEvent",(function(){return t.openPointPaymentHandler()}))("clickDeletePaymentEvent",(function(e){return t.clickDeletePaymentHandler(e)}))("selectPayment",(function(e){return t.selectPaymentHandler(e)})),L.ic(43,"async"),L.ic(44,"async"),L.ic(45,"async"),L.Vb(),L.Wb(46,"app-dialog",20),L.fc("visibleChange",(function(){return t.closeCreditCardCancelModal()})),L.ic(47,"async"),L.Nc(48,DT,3,7,"app-credit-card-cancel",21),L.ic(49,"async"),L.Vb(),L.Wb(50,"app-dialog",22),L.fc("visibleChange",(function(){return t.closeCouponPointCancelModal()})),L.ic(51,"async"),L.Nc(52,LT,2,3,"app-coupon-point-payment-cancel",23),L.ic(53,"async"),L.Vb(),L.Wb(54,"app-dialog",24),L.fc("visibleChange",(function(){return t.closeCashReceiptIssueModal()})),L.ic(55,"async"),L.Nc(56,_T,4,10,"app-cash-receipt-issue",25),L.ic(57,"async"),L.Vb(),L.Wb(58,"app-dialog",26),L.fc("visibleChange",(function(){return t.closePointPaymentHandler()})),L.ic(59,"async"),L.Nc(60,$T,3,6,"app-reservation-point-payment",27),L.ic(61,"async"),L.Vb(),L.Wb(62,"app-dialog",28),L.fc("visibleChange",(function(){return t.closePaymentManualHandler()})),L.ic(63,"async"),L.Nc(64,BT,6,15,"app-reservation-car-payment-manual-modal",29),L.ic(65,"async"),L.Vb(),L.Wb(66,"app-dialog",30),L.fc("visibleChange",(function(){return t.closeRefundRegister()})),L.ic(67,"async"),L.Nc(68,wT,3,6,"app-deposit-refund-detail",31),L.ic(69,"async"),L.Vb(),L.Wb(70,"app-dialog",32),L.fc("visibleChange",(function(){return t.closeCardReceiptHandler()})),L.ic(71,"async"),L.Nc(72,xT,2,3,"app-card-receipt-view",33),L.ic(73,"async"),L.Vb(),L.Wb(74,"app-reservation-car-cash-receipts",34),L.fc("openReceiptEvent",(function(e){return t.openCashReceiptHandler(e)}))("clickCashReceiptCancelEvent",(function(e){return t.cancelCashReceipt(e)})),L.ic(75,"async"),L.Vb(),L.Wb(76,"app-dialog",35),L.fc("visibleChange",(function(){return t.closeCashReceiptHandler()})),L.ic(77,"async"),L.Nc(78,YT,4,9,"app-reservation-send-email-template",36),L.ic(79,"async"),L.Vb(),L.Wb(80,"app-dialog",37),L.fc("visibleChange",(function(){return t.clickCancelMoadalCloseHandler()})),L.ic(81,"async"),L.Nc(82,HT,3,6,"app-reservation-car-cancel-modal",38),L.ic(83,"async"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(84,"div",39),L.Wb(85,"div",40),L.Nc(86,qT,6,4,"li",41),L.ic(87,"async"),L.Vb(),L.Wb(88,"div",5),L.Nc(89,QT,12,34,"app-reservation-car-basis",42),L.ic(90,"async"),L.Nc(91,GT,2,3,"app-reservation-car-retrieve",43),L.ic(92,"async"),L.Nc(93,KT,8,23,"app-reservation-car-booking-detail",44),L.ic(94,"async"),L.Nc(95,zT,4,9,"app-reservation-car-price-detail",45),L.ic(96,"async"),L.Nc(97,XT,3,6,"app-reservation-booker",46),L.ic(98,"async"),L.Nc(99,ZT,4,9,"app-reservation-user",47),L.ic(100,"async"),L.Nc(101,JT,3,6,"app-reservation-history",48),L.ic(102,"async"),L.Nc(103,eN,4,10,"app-reservation-consulting",49),L.ic(104,"async"),L.Nc(105,tN,4,9,"app-reservation-memo",50),L.ic(106,"async"),L.Nc(107,iN,6,17,"app-ums",51),L.ic(108,"async"),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e){var n;const e=null==(n=L.jc(15,82,t.bookingInfo$))?null:n.buttons.cancelYn;L.pc("reservationInfoMaster",L.jc(1,70,t.master$))("bookingItemCode",L.jc(2,72,t.bookingItemCode$))("bookingItemCodes",L.jc(3,74,t.bookingItemCodes$)),L.Cb(7),L.pc("bookingItems",L.jc(8,76,t.bookingItems$))("bookingItemCode",L.jc(9,78,t.bookingItemCode$))("categoryCodeNameMap",t.categoryCodeNameMap),L.Cb(6),L.pc("summary",L.jc(14,80,t.summary$)||L.tc(180,UT))("cancelYn",e)("freeNonCancelableYn",L.jc(16,84,t.freeNonCancelableYn$))("bookingItemCode",L.jc(17,86,t.bookingItemCode$)),L.Cb(5),L.pc("bookingInfo",L.jc(19,88,t.bookingInfo$)||L.tc(181,UT))("summary",L.jc(20,90,t.summary$)||L.tc(182,UT)),L.Cb(3),L.pc("visible",L.jc(22,92,t.isOpenConfirmationModal$))("modal",!0),L.Cb(2),L.pc("ngIf",L.jc(24,94,t.isOpenConfirmationModal$)),L.Cb(2),L.pc("visible",L.jc(26,96,t.isOpenInvoiceModal$))("modal",!0),L.Cb(2),L.pc("ngIf",L.jc(28,98,t.isOpenInvoiceModal$)),L.Cb(2),L.pc("driverInfo",L.jc(30,100,t.driver$)||L.tc(183,UT)),L.Cb(2),L.pc("bookingInfo",L.jc(32,102,t.bookingInfo$)||L.tc(184,UT))("priceInfo",L.jc(33,104,t.price$)||L.tc(185,UT)),L.Cb(3),L.pc("modal",!0)("visible",L.jc(35,106,t.isOpenPgCreditCardModal$)),L.Cb(2),L.pc("ngIf",L.jc(37,108,t.isOpenPgCreditCardModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(39,110,t.isOpenPgBankModal$)),L.Cb(2),L.pc("ngIf",L.jc(41,112,t.isOpenPgBankModal$)),L.Cb(2),L.pc("plFinishYn",L.jc(43,114,t.plFinishYn$))("bookingInfo",L.jc(44,116,t.bookingInfo$))("paymentInfo",L.jc(45,118,t.payment$)||L.tc(186,UT)),L.Cb(4),L.pc("modal",!0)("visible",L.jc(47,120,t.isOpenCreditCardCancelModal$)),L.Cb(2),L.pc("ngIf",L.jc(49,122,t.isOpenCreditCardCancelModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(51,124,t.isOpenCouponPointCancelModal$)),L.Cb(2),L.pc("ngIf",L.jc(53,126,t.isOpenCouponPointCancelModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(55,128,t.isOpenCashReceiptIssueModal$)),L.Cb(2),L.pc("ngIf",L.jc(57,130,t.isOpenCashReceiptIssueModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(59,132,t.isOpenPointPaymentModal$)),L.Cb(2),L.pc("ngIf",L.jc(61,134,t.isOpenPointPaymentModal$)),L.Cb(2),L.pc("hasScroll",!1)("modal",!0)("visible",L.jc(63,136,t.isOpenPaymentManualModal$)),L.Cb(2),L.pc("ngIf",L.jc(65,138,t.isOpenPaymentManualModal$)),L.Cb(2),L.pc("visible",L.jc(67,140,t.isOpenRefundRegisterModal$))("modal",!0),L.Cb(2),L.pc("ngIf",L.jc(69,142,t.isOpenRefundRegisterModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(71,144,t.isOpenCardReceiptModal$)),L.Cb(2),L.pc("ngIf",L.jc(73,146,t.isOpenCardReceiptModal$)),L.Cb(2),L.pc("paymentInfo",L.jc(75,148,t.payment$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(77,150,t.isOpenCashReceiptModal$)),L.Cb(2),L.pc("ngIf",L.jc(79,152,t.isOpenCashReceiptModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(81,154,t.isOpenCancelModal$)),L.Cb(2),L.pc("ngIf",L.jc(83,156,t.isOpenCancelModal$)),L.Cb(4),L.pc("ngForOf",L.jc(87,158,t.subTabs$)),L.Cb(3),L.pc("ngIf",L.jc(90,160,t.currentSubTab$)===t.tabNames.BASIS),L.Cb(2),L.pc("ngIf",L.jc(92,162,t.currentSubTab$)===t.tabNames.RETRIEVE),L.Cb(2),L.pc("ngIf",L.jc(94,164,t.currentSubTab$)===t.tabNames.BOOKING_DETAIL),L.Cb(2),L.pc("ngIf",L.jc(96,166,t.currentSubTab$)===t.tabNames.PRICE_DETAIL),L.Cb(2),L.pc("ngIf",L.jc(98,168,t.currentSubTab$)===t.tabNames.BOOKER),L.Cb(2),L.pc("ngIf",L.jc(100,170,t.currentSubTab$)===t.tabNames.USER_INFO),L.Cb(2),L.pc("ngIf",L.jc(102,172,t.currentSubTab$)===t.tabNames.HISTORY),L.Cb(2),L.pc("ngIf",L.jc(104,174,t.currentSubTab$)===t.tabNames.CONSULTING),L.Cb(2),L.pc("ngIf",L.jc(106,176,t.currentSubTab$)===t.tabNames.MEMO),L.Cb(2),L.pc("ngIf",L.jc(108,178,t.currentSubTab$)===t.tabNames.UMS)}},directives:[rF,LF,wF,JF,un.a,k.o,tS,aS,mS,yS,AF,k.n,Kn,_i,to,OS,PS,gi,VS,XS,JR,XV,ZS,SF,lT,bT,IT,AT,RT,de,mt,Je,Cn,FT.a],pipes:[k.b],encapsulation:2}),e})(),cN=(()=>{class e{constructor(e){this.alertService=e}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-car-policy-monitoring-info"]],inputs:{policyMonitoringInfo:"policyMonitoringInfo"},decls:43,vars:6,consts:[[1,"page-item-header"],[1,"title"],[1,"control"],[1,"table","table-bordered","table-responsive"],["scope","col",1,"align-c"],[1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"\ucd9c\uc7a5\uaddc\uc815"),L.Vb(),L.Rb(3,"div",2),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," \ucd9c\uc7a5\uaddc\uc815 "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Rb(13,"col"),L.Rb(14,"col"),L.Vb(),L.Wb(15,"thead"),L.Wb(16,"tr"),L.Wb(17,"th",4),L.Pc(18,"\ucd9c\uc7a5\uaddc\uc815\uba85"),L.Vb(),L.Wb(19,"th",4),L.Pc(20,"\ubd80\uc11c"),L.Vb(),L.Wb(21,"th",4),L.Pc(22,"\uc9c1\uae09\uadf8\ub8f9"),L.Vb(),L.Wb(23,"th",4),L.Pc(24,"\uc9c1\uae09"),L.Vb(),L.Wb(25,"th",4),L.Pc(26,"\ucd9c\uc7a5\uaddc\uc815"),L.Vb(),L.Wb(27,"th",4),L.Pc(28,"\uc608\uc678\uaddc\uc815"),L.Vb(),L.Vb(),L.Vb(),L.Wb(29,"tbody"),L.Wb(30,"tr"),L.Wb(31,"td",5),L.Pc(32),L.Vb(),L.Wb(33,"td",5),L.Pc(34),L.Vb(),L.Wb(35,"td",5),L.Pc(36),L.Vb(),L.Wb(37,"td",5),L.Pc(38),L.Vb(),L.Wb(39,"td",5),L.Pc(40),L.Vb(),L.Wb(41,"td",5),L.Pc(42),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(32),L.Qc(null==t.policyMonitoringInfo?null:t.policyMonitoringInfo.policyMasterName),L.Cb(2),L.Qc(null==t.policyMonitoringInfo?null:t.policyMonitoringInfo.corporateDeptName),L.Cb(2),L.Qc(null==t.policyMonitoringInfo?null:t.policyMonitoringInfo.positionGroupName),L.Cb(2),L.Qc(null==t.policyMonitoringInfo?null:t.policyMonitoringInfo.positionName),L.Cb(2),L.Qc(null==t.policyMonitoringInfo?null:t.policyMonitoringInfo.policyGradeName),L.Cb(2),L.Qc(null==t.policyMonitoringInfo?null:t.policyMonitoringInfo.exceptionGradeName))},encapsulation:2,changeDetection:0}),e})(),sN=(()=>{class e{constructor(e,t){this._dataService=e,this._alertService=t,this.submitEvent=new L.n,this.putForm=e.generatePolicyMonitoringOutOfPolicyPutForm(),this.putFormData=e.initPolicyMonitoringOutOfPolicyPutForm()}get policyMonitoringInfo(){return this._policyMonitoringInfo}set policyMonitoringInfo(e){this._policyMonitoringInfo=e,this.putFormData=this._setFormData(e)}ngOnInit(){this.checkValid=!1}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}onSubmit(){if(this.putForm.invalid)return void(this.checkValid=!0);const e=Object.assign(Object.assign({},this.putForm.value),{bookingItemCode:this.bookingItemCode});this.submitEvent.emit(e)}_setFormData(e){const t=this._dataService.initPolicyMonitoringOutOfPolicyPutForm();return Q.isNil(e)?Object.assign({},t):Object.assign({},Q.pick(e,Object.keys(t)))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(BS),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-car-policy-monitoring-out-of-policy"]],inputs:{policyMonitoringInfo:"policyMonitoringInfo",corporateReasonList:"corporateReasonList",bookingItemCode:"bookingItemCode"},outputs:{submitEvent:"submitEvent"},decls:28,vars:5,consts:[[1,"page-item-header"],[1,"title"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","120px"],["scope","row",1,"th-bg"],["colspan","3"],[1,"form-group"],["formControlName","outOfPolicyYn","name","recommendYn","label","\uaddc\uc815\uc801\ud569",3,"value"],["formControlName","outOfPolicyYn","name","recommendYn","label","\uaddc\uc815\uc704\ubc18",3,"value"],["formControlName","outOfPolicyReasonSeq","useAllOptionName","__\uc0ac\uc720__","dataKey","policyReasonSeq","displayKey","policyReasonTitleLn",1,"ml10",3,"options"],["formControlName","outOfPolicyReasonComment"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"\uaddc\uc815\uc704\ubc18"),L.Vb(),L.Vb(),L.Wb(3,"form",2),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," \uaddc\uc815\uc704\ubc18 "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col",4),L.Rb(10,"col"),L.Vb(),L.Wb(11,"tbody"),L.Wb(12,"tr"),L.Wb(13,"th",5),L.Pc(14,"\ucd9c\uc7a5\uaddc\uc815 \uccb4\ud06c"),L.Vb(),L.Wb(15,"td",6),L.Wb(16,"div",7),L.Rb(17,"app-radio",8),L.Rb(18,"app-radio",9),L.Rb(19,"app-selectbox",10),L.Vb(),L.Vb(),L.Vb(),L.Wb(20,"tr"),L.Wb(21,"th",5),L.Pc(22,"\uae30\ud0c0\uc704\ubc18\uc0ac\uc720"),L.Vb(),L.Wb(23,"td",6),L.Rb(24,"app-input-text",11),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(25,"div",12),L.Wb(26,"button",13),L.Pc(27,"\uc800\uc7a5"),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(3),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(14),L.pc("value",!1),L.Cb(1),L.pc("value",!0),L.Cb(1),L.pc("options",t.corporateReasonList))},directives:[I.B,I.s,I.k,J.a,cS.a,I.r,I.i,Se.a,ee.a],encapsulation:2,changeDetection:0}),e})(),rN=(()=>{class e{constructor(e,t,n){this.alertService=e,this.store=t,this.authStore=n}ngOnInit(){this._subscribeStore()}savePolicyMonitoringHandler(e){this.store.dispatch(p.savePolicyMonitoringInfoAction({condition:e}))}_subscribeStore(){this.loginUser$=this.authStore.pipe(Object(P.u)(Xe.r)),this.policyMonitoringInfo$=this.store.pipe(Object(P.u)(bI)),this.corporateReasonList$=this.store.pipe(Object(P.u)(sI))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a),L.Qb(P.h),L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-car-policy-monitoring"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",bookingItemCode:"bookingItemCode"},decls:7,vars:10,consts:[[1,"page-item"],[3,"policyMonitoringInfo"],[3,"bookingItemCode","policyMonitoringInfo","corporateReasonList","submitEvent"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Rb(1,"app-reservation-car-policy-monitoring-info",1),L.ic(2,"async"),L.Vb(),L.Wb(3,"div",0),L.Wb(4,"app-reservation-car-policy-monitoring-out-of-policy",2),L.fc("submitEvent",(function(e){return t.savePolicyMonitoringHandler(e)})),L.ic(5,"async"),L.ic(6,"async"),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("policyMonitoringInfo",L.jc(2,4,t.policyMonitoringInfo$)),L.Cb(3),L.pc("bookingItemCode",t.bookingItemCode)("policyMonitoringInfo",L.jc(5,6,t.policyMonitoringInfo$))("corporateReasonList",L.jc(6,8,t.corporateReasonList$)))},directives:[cN,sN],pipes:[k.b],encapsulation:2,changeDetection:0}),e})();function lN(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"p"),L.Pc(2),L.Wb(3,"strong",5),L.Pc(4),L.ic(5,"number"),L.Vb(),L.Vb(),L.Tb()),2&e){const e=t.$implicit;L.Cb(2),L.Uc("",e.cancelFromDate," ",e.cancelFromTime," ~ ",e.cancelToDate," ",e.cancelToTime," "),L.Cb(2),L.Sc("",e.currencyCode," ",L.jc(5,6,e.cancelChargeAmount),"")}}function dN(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"p"),L.Pc(2),L.Wb(3,"strong",5),L.Pc(4),L.ic(5,"number"),L.Vb(),L.Vb(),L.Tb()),2&e){const e=t.$implicit;L.Cb(2),L.Uc("",e.cancelFromDate," ",e.cancelFromTime," ~ ",e.cancelToDate," ",e.cancelToTime," "),L.Cb(2),L.Sc("",e.currencyCode," ",L.jc(5,6,e.cancelChargeAmount),"")}}let bN=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-car-cancellation-policy"]],inputs:{cancelPolicy:"cancelPolicy"},decls:26,vars:4,consts:[[1,"page-item-header"],[1,"title"],[1,"table","table-bordered","table-responsive"],["width","160px"],[4,"ngFor","ngForOf"],[1,"ml10"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Cancellation Policy"),L.Vb(),L.Vb(),L.Wb(3,"div",2),L.Wb(4,"table"),L.Wb(5,"caption"),L.Pc(6," Cancellation Policy "),L.Vb(),L.Wb(7,"colgroup"),L.Rb(8,"col",3),L.Rb(9,"col"),L.Vb(),L.Rb(10,"thead"),L.Wb(11,"tbody"),L.Wb(12,"tr"),L.Wb(13,"td"),L.Pc(14,"Client "),L.Rb(15,"br"),L.Vb(),L.Wb(16,"td"),L.Nc(17,lN,6,8,"ng-container",4),L.Vb(),L.Vb(),L.Wb(18,"tr"),L.Wb(19,"td"),L.Pc(20,"Vendor "),L.Rb(21,"br"),L.Wb(22,"span"),L.Pc(23),L.Vb(),L.Vb(),L.Wb(24,"td"),L.Nc(25,dN,6,8,"ng-container",4),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(17),L.pc("ngForOf",null==t.cancelPolicy?null:t.cancelPolicy.clientCancelPolicies),L.Cb(6),L.Sc("",null==t.cancelPolicy?null:t.cancelPolicy.vendorTimeDisplay,"",null==t.cancelPolicy?null:t.cancelPolicy.vendorTimeZoneName,""),L.Cb(2),L.pc("ngForOf",null==t.cancelPolicy?null:t.cancelPolicy.vendorCancelPolicies))},directives:[k.n],pipes:[k.f],encapsulation:2}),e})();function uN(e,t){1&e&&(L.Wb(0,"p",22),L.Pc(1," | [Affiliate]"),L.Vb())}function pN(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"span",16),L.Pc(2,"B"),L.Vb(),L.Pc(3),L.Tb()),2&e){const e=L.hc();L.Cb(3),L.Rc(" ",e.basic.bookingCmsPmsCompName," ")}}function mN(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"span",16),L.Pc(2,"N"),L.Vb(),L.Pc(3),L.Tb()),2&e){const e=L.hc();L.Cb(3),L.Rc(" ",e.basic.sendCmsPmsCompName," ")}}function hN(e,t){if(1&e&&(L.Ub(0),L.Pc(1),L.Tb()),2&e){const e=L.hc();L.Cb(1),L.Rc("/",e.basic.vendorPaymentMethodName,"")}}let gN=(()=>{class e{constructor(){this.clickDetailViewEvent=new L.n,this.clickMypageEvent=new L.n,this.clickUmsEvent=new L.n,this.clickCancelEvent=new L.n,this.clickConsultingEvent=new L.n,this.clickMemoEvent=new L.n,this.clickChangeLogEvent=new L.n,this.clickPolicyMonitoringEvent=new L.n,this.clickPaymentViewEvent=new L.n}get summaryButtons(){var e;return(null===(e=this.summary)||void 0===e?void 0:e.buttons)||{}}get isBtms(){return"STN05"===this.summary.stationTypeCode}get isB2b(){return"STN04"===this.summary.stationTypeCode}onClickDetailView(){this.clickDetailViewEvent.emit()}onClickPayment(){this.clickPaymentViewEvent.emit()}onClickMyPage(){this.clickMypageEvent.emit()}onClickUms(){this.clickUmsEvent.emit()}onClickCancel(){this.clickCancelEvent.emit()}onClickConsulting(){this.clickConsultingEvent.emit()}onClickMemo(){this.clickMemoEvent.emit()}onClickChangeLog(){this.clickChangeLogEvent.emit()}onClickPolicyMonitoring(){this.clickPolicyMonitoringEvent.emit()}onDblclickBookingItemCode(){const e=document.getElementById("booking-item-code"),t=window.getSelection();t.removeAllRanges();const n=document.createRange();n.selectNodeContents(e),t.addRange(n)}isConfirmedBooking(){var e;return"BKS06"===(null===(e=this.summary)||void 0===e?void 0:e.bookingStatusCode)}isRefundRequest(){var e;return"BKS12"===(null===(e=this.summary)||void 0===e?void 0:e.bookingStatusCode)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-summary"]],inputs:{summary:"summary",bookingInfo:"bookingInfo",basic:"basic",plFinishYn:"plFinishYn",freeNonCancelableYn:"freeNonCancelableYn",bookingItemCode:"bookingItemCode"},outputs:{clickDetailViewEvent:"clickDetailViewEvent",clickMypageEvent:"clickMypageEvent",clickUmsEvent:"clickUmsEvent",clickCancelEvent:"clickCancelEvent",clickConsultingEvent:"clickConsultingEvent",clickMemoEvent:"clickMemoEvent",clickChangeLogEvent:"clickChangeLogEvent",clickPolicyMonitoringEvent:"clickPolicyMonitoringEvent",clickPaymentViewEvent:"clickPaymentViewEvent"},decls:109,vars:23,consts:[[1,"reservation-summary"],[1,"summary-header"],[1,"title"],[1,"form-group"],["id","booking-item-code",3,"dblclick"],[1,"font-size-xs","ml5"],["class","color-danger font-size-xs ml5",4,"ngIf"],[1,"font-size-xs",2,"text-align","right"],[1,"label-text"],[1,"color-danger"],[1,"summary-body"],[1,"frame-wrap","both"],[1,"frame"],[1,"dl-summary"],[1,"font-weight-bold"],[4,"ngIf"],[1,"label","square","mark","mr5"],[1,"align-m"],[1,"control-button-group",2,"padding-top","50px"],[1,"btn","btn-light",3,"click"],[1,"color-red"],[1,"btn","btn-reset","align-r","sm",3,"disabled","click"],[1,"color-danger","font-size-xs","ml5"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"div",2),L.Wb(3,"div",3),L.Wb(4,"span",4),L.fc("dblclick",(function(){return t.onDblclickBookingItemCode()})),L.Pc(5),L.Vb(),L.Wb(6,"p",5),L.Pc(7),L.Vb(),L.Nc(8,uN,2,0,"p",6),L.Vb(),L.Vb(),L.Wb(9,"div",7),L.Wb(10,"span",8),L.Pc(11),L.Vb(),L.Rb(12,"br"),L.Wb(13,"span",8),L.Pc(14,"Cancel Date "),L.Wb(15,"span",9),L.Pc(16),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(17,"div",10),L.Wb(18,"div",11),L.Wb(19,"div",12),L.Wb(20,"dl",13),L.Wb(21,"dt"),L.Pc(22,"Seller"),L.Vb(),L.Wb(23,"dd"),L.Pc(24),L.Wb(25,"span",14),L.Pc(26,"|"),L.Vb(),L.Pc(27),L.Wb(28,"span",14),L.Pc(29,"|"),L.Vb(),L.Pc(30),L.Wb(31,"span",14),L.Pc(32,"|"),L.Vb(),L.Pc(33),L.Vb(),L.Vb(),L.Wb(34,"dl",13),L.Wb(35,"dt"),L.Pc(36,"Seller Booking Code"),L.Vb(),L.Wb(37,"dd"),L.Pc(38),L.Vb(),L.Vb(),L.Wb(39,"dl",13),L.Wb(40,"dt"),L.Pc(41,"CMS/PMS"),L.Vb(),L.Wb(42,"dd"),L.Nc(43,pN,4,1,"ng-container",15),L.Nc(44,mN,4,1,"ng-container",15),L.Vb(),L.Vb(),L.Wb(45,"dl",13),L.Wb(46,"dt"),L.Pc(47,"Noti Rate Type"),L.Vb(),L.Wb(48,"dd"),L.Pc(49),L.Vb(),L.Vb(),L.Wb(50,"dl",13),L.Wb(51,"dt"),L.Pc(52,"Contract Type"),L.Vb(),L.Wb(53,"dd"),L.Pc(54),L.Vb(),L.Vb(),L.Vb(),L.Wb(55,"div",12),L.Wb(56,"dl",13),L.Wb(57,"dt"),L.Pc(58,"Booking Status"),L.Vb(),L.Wb(59,"dd"),L.Pc(60),L.Vb(),L.Vb(),L.Wb(61,"dl",13),L.Wb(62,"dt"),L.Pc(63,"Client CXL D/L"),L.Vb(),L.Wb(64,"dd"),L.Pc(65),L.Vb(),L.Vb(),L.Wb(66,"dl",13),L.Wb(67,"dt"),L.Wb(68,"span",16),L.Pc(69,"C"),L.Vb(),L.Wb(70,"span",17),L.Pc(71,"Payment"),L.Vb(),L.Vb(),L.Wb(72,"dd"),L.Pc(73),L.Vb(),L.Vb(),L.Wb(74,"dl",13),L.Wb(75,"dt"),L.Wb(76,"span",16),L.Pc(77,"V"),L.Vb(),L.Rb(78,"span",17),L.Pc(79,"Payment"),L.Vb(),L.Wb(80,"dd"),L.Pc(81),L.Vb(),L.Vb(),L.Wb(82,"dl",13),L.Wb(83,"dt"),L.Wb(84,"span",16),L.Pc(85,"V"),L.Vb(),L.Rb(86,"span",17),L.Pc(87,"Payment Type "),L.Vb(),L.Wb(88,"dd"),L.Pc(89),L.Nc(90,hN,2,1,"ng-container",15),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(91,"div",18),L.Wb(92,"button",19),L.fc("click",(function(){return t.onClickConsulting()})),L.Pc(93," 1:1 ("),L.Wb(94,"span",20),L.Pc(95),L.Vb(),L.Pc(96),L.Vb(),L.Wb(97,"button",19),L.fc("click",(function(){return t.onClickMemo()})),L.Pc(98,"Remark"),L.Vb(),L.Wb(99,"button",19),L.fc("click",(function(){return t.onClickUms()})),L.Pc(100,"UMS"),L.Vb(),L.Wb(101,"button",19),L.fc("click",(function(){return t.onClickChangeLog()})),L.Pc(102,"History"),L.Vb(),L.Wb(103,"button",19),L.fc("click",(function(){return t.onClickDetailView()})),L.Pc(104,"CXL POLICY"),L.Vb(),L.Wb(105,"button",19),L.fc("click",(function(){return t.onClickPayment()})),L.Pc(106,"V.Payment"),L.Vb(),L.Wb(107,"button",21),L.fc("click",(function(){return t.onClickCancel()})),L.Pc(108,"Cancel"),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(5),L.Qc(t.bookingItemCode||"-"),L.Cb(2),L.Qc(null==t.summary?null:t.summary.stationTypeName),L.Cb(1),L.pc("ngIf",t.summary.sellerLinkId),L.Cb(3),L.Rc("Booking Date ",t.summary.bookedDatetime,""),L.Cb(5),L.Qc(t.basic.cancelDatetime),L.Cb(8),L.Rc("",t.basic.bookerCompCode," "),L.Cb(3),L.Rc(" ",t.basic.bookerCompName," "),L.Cb(3),L.Rc(" ",t.summary.bookerCompTypeName," "),L.Cb(3),L.Qc(t.basic.sellerPaymentTypeName),L.Cb(5),L.Qc(t.bookingInfo.sellerBookingCode),L.Cb(5),L.pc("ngIf",t.basic.bookingCmsPmsCompName),L.Cb(1),L.pc("ngIf",t.basic.sendCmsPmsCompName),L.Cb(5),L.Qc(t.basic.sendAmountTypeName),L.Cb(5),L.Qc(t.basic.hotelContractTypeName),L.Cb(6),L.Qc(t.basic.bookingStatusName),L.Cb(5),L.Qc(t.basic.clientCancelDeadline),L.Cb(8),L.Qc(t.bookingInfo.clientPaymentStatusName),L.Cb(8),L.Qc(t.basic.vendorPaymentStatusName),L.Cb(8),L.Rc("",t.basic.vendorPaymentTypeName," "),L.Cb(1),L.pc("ngIf",t.basic.vendorPaymentMethodName),L.Cb(5),L.Qc(null==t.summary||null==t.summary.buttons?null:t.summary.buttons.notAnsweredCount),L.Cb(1),L.Rc("/",null==t.summary||null==t.summary.buttons?null:t.summary.buttons.consultingCount,") "),L.Cb(11),L.pc("disabled","BKS03"===t.summary.bookingStatusCode))},directives:[k.o],encapsulation:2,changeDetection:0}),e})();function fN(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",6),L.fc("click",(function(){return L.Fc(e),L.hc().clickInvoiceEvent.emit()})),L.Pc(1,"Invoice"),L.Vb()}}function vN(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",6),L.fc("click",(function(){return L.Fc(e),L.hc().clickVoucherEvent.emit()})),L.Pc(1,"Voucher"),L.Vb()}}function CN(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",6),L.fc("click",(function(){return L.Fc(e),L.hc().onClickDetailView()})),L.Pc(1," Booking Detail"),L.Vb()}}function yN(e,t){if(1&e&&(L.Ub(0),L.Pc(1),L.Wb(2,"span",11),L.Pc(3),L.Vb(),L.Tb()),2&e){const e=L.hc(2);L.Cb(1),L.Rc(" ",e.converRoomPlanSeq(e.bookingInfo)," | "),L.Cb(2),L.Qc(null==e.bookingInfo?null:e.bookingInfo.roomPlanNameEn)}}function kN(e,t){if(1&e&&(L.Ub(0),L.Pc(1),L.Wb(2,"span",11),L.Pc(3),L.Vb(),L.Tb()),2&e){const e=L.hc(2);L.Cb(1),L.Rc(" ",null==e.bookingInfo?null:e.bookingInfo.vendorPromotionSeq," | "),L.Cb(2),L.Sc(" ",null==e.bookingInfo?null:e.bookingInfo.vendorPromotionTypeName,"-",null==e.bookingInfo?null:e.bookingInfo.vendorPromotionNameEn," ")}}function IN(e,t){if(1&e&&(L.Wb(0,"span"),L.Pc(1),L.Vb()),2&e){const e=t.$implicit,n=t.index;L.Cb(1),L.Sc(" ",0==n?"":", "," ",e.surchargeName+" "+e.currencyCode+" "+e.includedAmount," ")}}function ON(e,t){if(1&e&&(L.Wb(0,"p"),L.Pc(1),L.Nc(2,IN,2,2,"span",17),L.Vb()),2&e){const e=t.$implicit,n=L.hc(3);L.Cb(1),L.Rc(" ",e,": "),L.Cb(1),L.pc("ngForOf",n.filterByChargeType(e,null==n.bookingInfo?null:n.bookingInfo.surcharges))}}function PN(e,t){if(1&e&&(L.Wb(0,"tr"),L.Wb(1,"th",9),L.Pc(2,"Surcharges"),L.Vb(),L.Wb(3,"td",10),L.Nc(4,ON,3,2,"p",17),L.Vb(),L.Vb()),2&e){const e=L.hc(2);L.Cb(4),L.pc("ngForOf",e.distinctMainSurcharge(null==e.bookingInfo?null:e.bookingInfo.surcharges))}}function jN(e,t){if(1&e){const e=L.Xb();L.Wb(0,"div",7),L.Wb(1,"table"),L.Wb(2,"caption"),L.Pc(3," Booking Detail "),L.Vb(),L.Wb(4,"colgroup"),L.Rb(5,"col",8),L.Rb(6,"col"),L.Vb(),L.Wb(7,"tbody"),L.Wb(8,"tr"),L.Wb(9,"th",9),L.Pc(10,"Region"),L.Vb(),L.Wb(11,"td"),L.Pc(12),L.Vb(),L.Vb(),L.Wb(13,"tr"),L.Wb(14,"th",9),L.Pc(15,"Hotel Name"),L.Vb(),L.Wb(16,"td",10),L.Wb(17,"span"),L.Pc(18),L.Vb(),L.Wb(19,"span",11),L.Wb(20,"a",12),L.fc("click",(function(){return L.Fc(e),L.hc().clickHotelContentDetailEvent.emit()})),L.Pc(21),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(22,"tr"),L.Wb(23,"th",9),L.Pc(24,"Check in / Out Date"),L.Vb(),L.Wb(25,"td",13),L.Pc(26),L.ic(27,"formatDate"),L.ic(28,"formatDate"),L.Vb(),L.Vb(),L.Wb(29,"tr"),L.Wb(30,"th",9),L.Pc(31,"Room Type / Counts"),L.Vb(),L.Wb(32,"td",10),L.Pc(33),L.Wb(34,"span",11),L.Pc(35),L.Vb(),L.Vb(),L.Vb(),L.Wb(36,"tr"),L.Wb(37,"th",9),L.Pc(38,"Room Plan"),L.Vb(),L.Wb(39,"td"),L.Nc(40,yN,4,2,"ng-container",14),L.Vb(),L.Vb(),L.Wb(41,"tr"),L.Wb(42,"th",9),L.Pc(43,"Vendor Promotion"),L.Vb(),L.Wb(44,"td"),L.Nc(45,kN,4,3,"ng-container",14),L.Vb(),L.Vb(),L.Wb(46,"tr"),L.Wb(47,"th",9),L.Pc(48,"Free Breakfast / Meal Type"),L.Vb(),L.Wb(49,"td"),L.Pc(50),L.Vb(),L.Vb(),L.Wb(51,"tr"),L.Wb(52,"th",9),L.Pc(53,"Traveler Counts"),L.Vb(),L.Wb(54,"td"),L.Wb(55,"span",11),L.Pc(56,"ADT"),L.Vb(),L.Pc(57),L.Wb(58,"span",11),L.Pc(59,"CHD"),L.Vb(),L.Pc(60),L.Wb(61,"span",11),L.Pc(62,"INF"),L.Vb(),L.Pc(63),L.Vb(),L.Vb(),L.Wb(64,"tr"),L.Wb(65,"th",9),L.Pc(66,"Special Request"),L.Vb(),L.Wb(67,"td",10),L.Pc(68),L.Wb(69,"div",15),L.Rb(70,"textarea",16),L.Vb(),L.Vb(),L.Vb(),L.Nc(71,PN,5,1,"tr",14),L.Vb(),L.Vb(),L.Vb()}if(2&e){const e=L.hc();L.Cb(12),L.Sc(" ",null==e.bookingInfo?null:e.bookingInfo.regionCode," | ",null==e.bookingInfo?null:e.bookingInfo.regionNameEn," "),L.Cb(6),L.Rc("",null==e.bookingInfo?null:e.bookingInfo.hotelCode," | "),L.Cb(3),L.Rc(" ",(null==e.bookingInfo?null:e.bookingInfo.hotelNameEn)||(null==e.bookingInfo?null:e.bookingInfo.hotelNameLn),""),L.Cb(5),L.Tc("",L.kc(27,21,null==e.bookingInfo?null:e.bookingInfo.checkInDate,"YYYY-MM-DD(ddd)")," ~ ",L.kc(28,24,null==e.bookingInfo?null:e.bookingInfo.checkOutDate,"YYYY-MM-DD(ddd)")," - ",null==e.bookingInfo?null:e.bookingInfo.nightsCount,"NTS"),L.Cb(7),L.Rc("",e.convertRoom(null==e.bookingInfo?null:e.bookingInfo.roomTypeCode)," | "),L.Cb(2),L.Tc(" ",(null==e.bookingInfo?null:e.bookingInfo.roomTypeNameEn)||(null==e.bookingInfo?null:e.bookingInfo.roomTypeNameLn)," x ",null==e.bookingInfo?null:e.bookingInfo.roomCount," ",1==(null==e.bookingInfo?null:e.bookingInfo.is3rdParty)&&(null==e.bookingInfo?null:e.bookingInfo.extraBedCount)>0?"("+(null==e.bookingInfo?null:e.bookingInfo.extraBedCount)+" extra "+((null==e.bookingInfo?null:e.bookingInfo.extraBedCount)>1?"beds":"bed")+" included)":""," "),L.Cb(5),L.pc("ngIf",null==e.bookingInfo?null:e.bookingInfo.roomPlanSeq),L.Cb(5),L.pc("ngIf",null==e.bookingInfo?null:e.bookingInfo.vendorPromotionSeq),L.Cb(5),L.Sc(" ",(null==e.bookingInfo?null:e.bookingInfo.freeBreakfastName)||"-"," / ",(null==e.bookingInfo?null:e.bookingInfo.mealBasisName)||"-"," "),L.Cb(7),L.Rc(" : ",null==e.bookingInfo?null:e.bookingInfo.adultCount," "),L.Cb(3),L.Rc(" : ",null==e.bookingInfo?null:e.bookingInfo.childCount," "),L.Cb(3),L.Rc(" :",null==e.bookingInfo?null:e.bookingInfo.infantCount,""),L.Cb(5),L.Rc("",e.clientOptions," "),L.Cb(2),L.pc("value",e.clientRequest||""),L.Cb(1),L.pc("ngIf",(null==e.bookingInfo?null:e.bookingInfo.is3rdParty)&&null!=(null==e.bookingInfo?null:e.bookingInfo.surcharges)&&(null==e.bookingInfo?null:e.bookingInfo.surcharges.length)>0)}}let VN=(()=>{class e{constructor(){this.clickVoucherEvent=new L.n,this.clickInvoiceEvent=new L.n,this.clickDetailViewEvent=new L.n,this.clickOperationWebSiteEvent=new L.n,this.clickHotelSearchPageEvent=new L.n,this.clickHotelContentDetailEvent=new L.n,this.clickRetrieveEvent=new L.n,this.clickCancelEvent=new L.n,this.clickFaxEvent=new L.n,this.isActiveToggle=!0}get bookingInfoButtons(){var e;return(null===(e=this.bookingInfo)||void 0===e?void 0:e.buttons)||{}}get starRatingClass(){if(!this.bookingInfo)return;const{starRating:e}=this.bookingInfo;return e?`hotel-rate-icon l${e.slice(0,1)}${"5"===e.slice(2,3)?"h":""}  ml20`:void 0}get clientOptions(){var e;if(!this.bookingInfo)return;if(!this.checkInList)return;const{requests:t}=this.bookingInfo;return t?null===(e=null==t?void 0:t.filter(e=>"BRQ99"!==(null==e?void 0:e.requestTypeCode)))||void 0===e?void 0:e.map(e=>{const{requestTypeCode:t,requestTypeName:n,requestAddValue:i}=e;return"BRQ03"===t?n+(i?`[${i}]`:""):n}).join(" / "):void 0}get clientRequest(){var e;if(!this.bookingInfo)return;let{requests:t}=this.bookingInfo;return t?(t=t.filter(e=>"BRQ99"===e.requestTypeCode),null===(e=t[0])||void 0===e?void 0:e.requestValue):void 0}onClickDetailView(){this.clickDetailViewEvent.emit()}onClickNotYet(){this.clickFaxEvent.emit()}onClickOperationWebSite(){var e,t;(null===(e=this.bookingInfo)||void 0===e?void 0:e.operationWebSiteUrl)&&window.open(null===(t=this.bookingInfo)||void 0===t?void 0:t.operationWebSiteUrl,"_blank","height=950,width=1600,left=0,top=0,toolbar=no,menubar=no,scrollbars=no,resizable=yes,location=no,status=no")}onClickHotelSearchPage(){const{cityCode:e,cityNameEn:t,cityNameLn:n,checkInDate:i,checkOutDate:o,hotelCode:a}=this.bookingInfo,c=this.rooms.map(e=>{const t=e.travelers.reduce((e,t)=>(Q.isNil(e[t.ageTypeCode])?e[t.ageTypeCode]=1:e[t.ageTypeCode]++,e),{});return`${t.ADT||0}^${t.CHD||0}^`}).join("@");this.clickHotelSearchPageEvent.emit(encodeURIComponent(`city[type]=quick&city[countryCode]=&city[countryNameLn]=&city[countryNameEn]=&city[cityNameLn]=${n}&city[cityNameEn]=${t}&city[cityCode]=${e}&city[name]=${n}&city[val]=${e}&city[codeName]=major&hCode=${a}&chkIn=${i}&chkOut=${o}&roomList=${c}&limits[0]=0&limits[1]=10`))}onClickToggle(){this.isActiveToggle=!this.isActiveToggle}onClickRetrieve(){this.clickRetrieveEvent.emit()}onClickCancel(){this.clickCancelEvent.emit()}distinctMainSurcharge(e){return Array.from(new Set(e.map(e=>e.chargeType)))}filterByChargeType(e,t){return t.filter(t=>t.chargeType===e)}convertRoom(e){return null==e?void 0:e.replace(/^[^_]+_/,"")}converRoomPlanSeq(e){let t=null==e?void 0:e.roomPlanSeq;return t=e.vendorPromotionTypeName&&"None"!==e.vendorPromotionTypeName?e.roomPlanSeq.split("^")[0]:e.roomPlanSeq.split("|")[0],t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-booking-info"]],inputs:{bookingInfo:"bookingInfo",rooms:"rooms",summary:"summary",checkInList:"checkInList"},outputs:{clickVoucherEvent:"clickVoucherEvent",clickInvoiceEvent:"clickInvoiceEvent",clickDetailViewEvent:"clickDetailViewEvent",clickOperationWebSiteEvent:"clickOperationWebSiteEvent",clickHotelSearchPageEvent:"clickHotelSearchPageEvent",clickHotelContentDetailEvent:"clickHotelContentDetailEvent",clickRetrieveEvent:"clickRetrieveEvent",clickCancelEvent:"clickCancelEvent",clickFaxEvent:"clickFaxEvent"},decls:9,vars:6,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title","toggle",3,"click"],[1,"control"],["class","btn btn-outline-dark sm",3,"click",4,"ngIf"],["class","table table-bordered table-responsive",4,"ngIf"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"table","table-bordered","table-responsive"],["width","190px"],["scope","row",1,"th-bg"],["colspan","3"],[1,"font-weight-bold"],[1,"text-underline",3,"click"],["colspan","3",1,"font-weight-bold"],[4,"ngIf"],[1,"textarea"],["cols","30","rows","3","disabled","",3,"value"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"a",2),L.fc("click",(function(){return t.onClickToggle()})),L.Pc(3,"Booking Detail"),L.Vb(),L.Wb(4,"div",3),L.Nc(5,fN,2,0,"button",4),L.Nc(6,vN,2,0,"button",4),L.Nc(7,CN,2,0,"button",4),L.Vb(),L.Vb(),L.Nc(8,jN,72,27,"div",5),L.Vb()),2&e&&(L.Cb(2),L.Gb("active",t.isActiveToggle),L.Cb(3),L.pc("ngIf",t.bookingInfoButtons.invoiceYn),L.Cb(1),L.pc("ngIf",t.bookingInfoButtons.voucherYn),L.Cb(1),L.pc("ngIf",t.bookingInfoButtons.detailViewYn),L.Cb(1),L.pc("ngIf",t.isActiveToggle))},directives:[k.o,k.n],pipes:[xF.a],encapsulation:2,changeDetection:0}),e})();function AN(e,t){if(1&e&&(L.Wb(0,"td",12),L.Pc(1),L.Vb()),2&e){const e=L.hc(2).$implicit;L.Db("rowspan",null==e.travelers?null:e.travelers.length),L.Cb(1),L.Rc("Room",e.roomNo,"")}}function WN(e,t){if(1&e&&(L.Wb(0,"tr"),L.Nc(1,AN,2,2,"td",11),L.Wb(2,"td",12),L.Pc(3),L.Vb(),L.Wb(4,"td",12),L.Wb(5,"span"),L.Pc(6),L.Vb(),L.Vb(),L.Wb(7,"td"),L.Pc(8),L.Vb(),L.Wb(9,"td"),L.Pc(10),L.Vb(),L.Wb(11,"td",12),L.Pc(12),L.Vb(),L.Wb(13,"td",12),L.Pc(14),L.Vb(),L.Vb()),2&e){const e=t.$implicit,n=t.index;L.Cb(1),L.pc("ngIf",0===n),L.Cb(2),L.Qc(e.ageTypeCode),L.Cb(3),L.Qc(e.gender),L.Cb(2),L.Qc(e.name),L.Cb(2),L.Sc("",e.lastName,"/",e.firstName,""),L.Cb(2),L.Qc(e.birthday),L.Cb(2),L.Qc(e.childAge)}}function RN(e,t){if(1&e&&(L.Ub(0),L.Nc(1,WN,15,8,"ng-template",10),L.Tb()),2&e){const e=t.$implicit;L.Cb(1),L.pc("ngForOf",null==e?null:e.travelers)}}function FN(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",13),L.Pc(3,"-"),L.Vb(),L.Vb(),L.Tb())}function SN(e,t){if(1&e&&(L.Wb(0,"div",6),L.Wb(1,"table"),L.Wb(2,"caption"),L.Pc(3," Travelers "),L.Vb(),L.Wb(4,"colgroup"),L.Rb(5,"col"),L.Rb(6,"col"),L.Rb(7,"col"),L.Rb(8,"col"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Rb(13,"col"),L.Rb(14,"col"),L.Vb(),L.Wb(15,"thead"),L.Wb(16,"tr"),L.Wb(17,"th",7),L.Pc(18,"Rooms"),L.Vb(),L.Wb(19,"th",7),L.Pc(20,"Age Type"),L.Vb(),L.Wb(21,"th",7),L.Pc(22,"Gender"),L.Vb(),L.Wb(23,"th",7),L.Pc(24,"Name(Local)"),L.Vb(),L.Wb(25,"th",7),L.Pc(26,"Last Name / First Name(EN)"),L.Vb(),L.Wb(27,"th",7),L.Pc(28,"Child Birthday"),L.Vb(),L.Wb(29,"th",7),L.Pc(30,"Child Age"),L.Vb(),L.Vb(),L.Vb(),L.Wb(31,"tbody"),L.Nc(32,RN,2,1,"ng-container",8),L.Nc(33,FN,4,0,"ng-container",9),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.hc();L.Cb(32),L.pc("ngForOf",e.rooms),L.Cb(1),L.pc("ngIf",!e.hasTravelers)}}let TN=(()=>{class e{constructor(){this.clickDetailViewEvent=new L.n,this.isActiveToggle=!0}get hasTravelers(){return this.rooms.reduce((e,t)=>e.concat(t.travelers||[]),[]).length>0}get isBtms(){return"STN05"===this.stationTypeCode}ngOnInit(){}onClickToggle(){this.isActiveToggle=!this.isActiveToggle}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-traveler"]],inputs:{rooms:"rooms",stationTypeCode:"stationTypeCode"},outputs:{clickDetailViewEvent:"clickDetailViewEvent"},decls:8,vars:3,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title","toggle",3,"click"],[1,"control"],[1,"btn","btn-outline-dark","sm",3,"click"],["class","table table-bordered table-responsive",4,"ngIf"],[1,"table","table-bordered","table-responsive"],["scope","col",1,"align-c"],[4,"ngFor","ngForOf"],[4,"ngIf"],["ngFor","",3,"ngForOf"],["class","align-c",4,"ngIf"],[1,"align-c"],["colspan","6",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"a",2),L.fc("click",(function(){return t.onClickToggle()})),L.Pc(3,"Travelers"),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"button",4),L.fc("click",(function(){return t.clickDetailViewEvent.emit()})),L.Pc(6,"View Detail"),L.Vb(),L.Vb(),L.Vb(),L.Nc(7,SN,34,2,"div",5),L.Vb()),2&e&&(L.Cb(2),L.Gb("active",t.isActiveToggle),L.Cb(5),L.pc("ngIf",t.isActiveToggle))},directives:[k.o,k.n],encapsulation:2,changeDetection:0}),e})();function NN(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"button",7),L.fc("click",(function(){return L.Fc(e),L.hc().onPgCardEvent()})),L.Pc(2,"CC PG Manual"),L.Vb(),L.Wb(3,"button",7),L.fc("click",(function(){return L.Fc(e),L.hc().onPgBankEvent()})),L.Pc(4,"Virtual Bank"),L.Vb(),L.Tb()}}function EN(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",7),L.fc("click",(function(){return L.Fc(e),L.hc().clickPriceDetailViewEvent.emit()})),L.Pc(1,"Rate Detail"),L.Vb()}}function MN(e,t){if(1&e&&(L.Wb(0,"div",8),L.Wb(1,"table"),L.Wb(2,"caption"),L.Pc(3," Selling Rate "),L.Vb(),L.Wb(4,"colgroup"),L.Rb(5,"col"),L.Rb(6,"col",9),L.Rb(7,"col",9),L.Rb(8,"col",9),L.Rb(9,"col",9),L.Rb(10,"col",9),L.Vb(),L.Wb(11,"thead"),L.Wb(12,"tr"),L.Wb(13,"th",10),L.Pc(14,"B. Curr"),L.Vb(),L.Wb(15,"th",10),L.Pc(16,"B. Product"),L.Vb(),L.Wb(17,"th",10),L.Pc(18,"B. Promotion"),L.Vb(),L.Wb(19,"th",10),L.Pc(20,"B. CXL Charge"),L.Vb(),L.Wb(21,"th",10),L.Pc(22,"B. Sum"),L.Vb(),L.Wb(23,"th",10),L.Pc(24,"B. Balance"),L.Vb(),L.Vb(),L.Vb(),L.Wb(25,"tbody"),L.Wb(26,"tr"),L.Wb(27,"td",11),L.Pc(28),L.Vb(),L.Wb(29,"td",12),L.Pc(30),L.ic(31,"number"),L.Vb(),L.Wb(32,"td",12),L.Pc(33),L.ic(34,"number"),L.Vb(),L.Wb(35,"td",12),L.Pc(36),L.ic(37,"number"),L.Vb(),L.Wb(38,"td",12),L.Pc(39),L.ic(40,"number"),L.Vb(),L.Wb(41,"td",12),L.Pc(42),L.ic(43,"number"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.hc();L.Cb(28),L.Qc(null==e.priceInfo?null:e.priceInfo.billingCurrencyCode),L.Cb(2),L.Qc(L.jc(31,6,null==e.priceInfo?null:e.priceInfo.productAmount)),L.Cb(3),L.Qc(L.jc(34,8,null==e.priceInfo?null:e.priceInfo.promotionAmount)),L.Cb(3),L.Qc(L.jc(37,10,null==e.priceInfo?null:e.priceInfo.cancelChargeAmount)),L.Cb(3),L.Qc(L.jc(40,12,null==e.priceInfo?null:e.priceInfo.sumAmount)),L.Cb(3),L.Qc(L.jc(43,14,null==e.priceInfo?null:e.priceInfo.balanceAmount))}}let DN=(()=>{class e{constructor(e){this.alertService=e,this.clickPgCardEvent=new L.n,this.clickPgBankEvent=new L.n,this.clickPriceDetailViewEvent=new L.n,this.isActiveToggle=!0}get priceButtons(){var e;return(null===(e=this.priceInfo)||void 0===e?void 0:e.buttons)||{}}checkPrice(e){return null===e?"-":e}onClickToggle(){this.isActiveToggle=!this.isActiveToggle}onPgCardEvent(){this.priceInfo.balanceAmount<=0?this.alertService.alert("There is no balance amount"):this.clickPgCardEvent.emit()}onPgBankEvent(){this.priceInfo.balanceAmount<=0?this.alertService.alert("There is no balance amount"):this.clickPgBankEvent.emit()}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-price"]],inputs:{priceInfo:"priceInfo"},outputs:{clickPgCardEvent:"clickPgCardEvent",clickPgBankEvent:"clickPgBankEvent",clickPriceDetailViewEvent:"clickPriceDetailViewEvent"},decls:8,vars:5,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title","toggle",3,"click"],[1,"control"],[4,"ngIf"],["class","btn btn-outline-dark sm",3,"click",4,"ngIf"],["class","table table-bordered",4,"ngIf"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"table","table-bordered"],["width","120px"],["scope","col",1,"align-c"],[1,"align-c"],[1,"align-r"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"a",2),L.fc("click",(function(){return t.onClickToggle()})),L.Pc(3,"Selling Rate"),L.Vb(),L.Wb(4,"div",3),L.Nc(5,NN,5,0,"ng-container",4),L.Nc(6,EN,2,0,"button",5),L.Vb(),L.Vb(),L.Nc(7,MN,44,16,"div",6),L.Vb()),2&e&&(L.Cb(2),L.Gb("active",t.isActiveToggle),L.Cb(3),L.pc("ngIf","KRW"===(null==t.priceInfo?null:t.priceInfo.billingCurrencyCode)),L.Cb(1),L.pc("ngIf",null==t.priceButtons?null:t.priceButtons.detailViewYn),L.Cb(1),L.pc("ngIf",t.isActiveToggle))},directives:[k.o],pipes:[k.f],encapsulation:2,changeDetection:0}),e})();function LN(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",5),L.fc("click",(function(){return L.Fc(e),L.hc().onClickCreditCardCancel()})),L.Pc(1,"Payment Cancel"),L.Vb()}}function _N(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td"),L.Wb(3,"app-radio",12),L.fc("ngModelChange",(function(t){return L.Fc(e),L.hc(2).selectedPaymentSeq=t}))("onClick",(function(){L.Fc(e);const n=t.$implicit;return L.hc(2).onClickPayment(n)})),L.Vb(),L.Vb(),L.Wb(4,"td",13),L.Wb(5,"span"),L.Pc(6),L.Vb(),L.Vb(),L.Wb(7,"td",13),L.Pc(8),L.Vb(),L.Wb(9,"td",13),L.Wb(10,"a",14),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc(2).onClickCardReceipt(n)})),L.Pc(11),L.Vb(),L.Vb(),L.Wb(12,"td",13),L.Wb(13,"a",14),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc(2).onClickCardReceipt(n)})),L.Pc(14),L.Vb(),L.Vb(),L.Wb(15,"td",13),L.Pc(16),L.Vb(),L.Wb(17,"td",15),L.Pc(18),L.ic(19,"number"),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,n=L.hc(2);L.Cb(3),L.pc("value",e.paymentSeq)("ngModel",n.selectedPaymentSeq),L.Cb(3),L.Qc(e.approvalOrCancel),L.Cb(2),L.Qc((null==e?null:e.payOutDepositTypeName)||(null==e?null:e.depositTypeName)),L.Cb(3),L.Qc(null==e?null:e.cardAccountInfo),L.Cb(3),L.Qc(null==e?null:e.approvalNo),L.Cb(1),L.Gb("color-red","C"===e.approvalOrCancel),L.Cb(1),L.Qc(null==e?null:e.paidDatetime),L.Cb(1),L.Gb("color-red","C"===e.approvalOrCancel),L.Cb(1),L.Rc("",L.jc(19,12,null==e?null:e.paidAmount)," ")}}function $N(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",16),L.Pc(3,"-"),L.Vb(),L.Vb(),L.Tb())}function BN(e,t){if(1&e&&(L.Wb(0,"div",7),L.Wb(1,"table"),L.Wb(2,"caption"),L.Pc(3," Payments "),L.Vb(),L.Wb(4,"colgroup"),L.Rb(5,"col",8),L.Rb(6,"col"),L.Rb(7,"col"),L.Rb(8,"col"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Rb(13,"col"),L.Rb(14,"col"),L.Rb(15,"col"),L.Vb(),L.Wb(16,"thead"),L.Wb(17,"tr"),L.Rb(18,"th",9),L.Wb(19,"th",9),L.Pc(20,"A/C"),L.Vb(),L.Wb(21,"th",9),L.Pc(22,"Payment Type"),L.Vb(),L.Wb(23,"th",9),L.Pc(24,"Detail Info"),L.Vb(),L.Wb(25,"th",9),L.Pc(26,"Approval No."),L.Vb(),L.Wb(27,"th",9),L.Pc(28,"App. or CXL Date"),L.Vb(),L.Wb(29,"th",9),L.Pc(30,"App. or CXL Amts"),L.Vb(),L.Vb(),L.Vb(),L.Wb(31,"tbody"),L.Nc(32,_N,20,14,"ng-container",10),L.Nc(33,$N,4,0,"ng-container",11),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.hc();L.Cb(32),L.pc("ngForOf",e.payments),L.Cb(1),L.pc("ngIf",0===e.payments.length)}}let wN=(()=>{class e{constructor(e){this.alertService=e,this.clickDetailViewEvent=new L.n,this.clickCreditCardCancelEvent=new L.n,this.clickCouponPointCancelEvent=new L.n,this.clickCashReceiptIssueEvent=new L.n,this.clickPointPaymentEvent=new L.n,this.clickPaymentManualEvent=new L.n,this.clickRefundRegisterEvent=new L.n,this.openCardReceiptEvent=new L.n,this.clickDeletePaymentEvent=new L.n,this.clickCreatePaymentEvent=new L.n,this.selectPayment=new L.n,this.isActiveToggle=!0}get paymentButtons(){var e;return null===(e=this.paymentInfo)||void 0===e?void 0:e.buttons}get payments(){var e;return(null===(e=this.paymentInfo)||void 0===e?void 0:e.payments)||[]}get cashReceipts(){var e;return null===(e=this.paymentInfo)||void 0===e?void 0:e.cashReceipts}get summary(){var e;return null===(e=this.paymentInfo)||void 0===e?void 0:e.summary}ngOnInit(){}ngOnDestroy(){}onClickToggle(){this.isActiveToggle=!this.isActiveToggle}onClickCreditCardCancel(){var e,t;if(!this.selectedPaymentSeq)return void this.alertService.alert("Please select the payment information to cancel first.");const n=Q.find(this.payments,e=>e.paymentSeq===this.selectedPaymentSeq);if("C"===n.approvalOrCancel)return void this.alertService.alert("The payment has already been canceled.");if("PGCI"===n.depositTypeCode)return void this.alertService.alert("Virtual accounts cannot be canceled.");if("CCCA"===n.depositTypeCode)return void this.alertService.alert("Cash is irrevocable.");if("CCGF"===n.depositTypeCode)return void this.alertService.alert("Gift certificates cannot be canceled. \nCancellation of registered gift certificate contents must be done by deleting, and refund must be done by manual registration.");if(Q.isNil(n.paidDatetime))return void this.alertService.alert("No amount has been authorized.");const{relatedPaymentSeq:i}=n;(null===(t=null===(e=this.payments)||void 0===e?void 0:e.filter(e=>e.relatedPaymentSeq===i))||void 0===t?void 0:t.reduce((e,t)=>e+t.paidAmount,0))<=0?this.alertService.alert("The payment has already been canceled and there are no payments left to cancel."):"CCCP"!==n.depositTypeCode&&"CCPT"!==n.depositTypeCode?this.clickCreditCardCancelEvent.emit():this.clickCouponPointCancelEvent.emit()}onClickCashReceiptIssue(){if(!this.selectedPaymentSeq)return void this.alertService.alert("Please select the payment information to issue the cash receipt first.");const e=Q.find(this.payments,e=>e.paymentSeq===this.selectedPaymentSeq);if("PGCI"!==e.depositTypeCode&&"CCCA"!==e.depositTypeCode&&"CCGF"!==e.depositTypeCode&&"CCDP"!==e.depositTypeCode)return void this.alertService.alert("You can only issue cash receipts for payments made with cash, virtual accounts, gift certificates, and bank deposits.");console.log(this.payments,"this.payments");const t=this.payments.filter(t=>"PGCI"===t.depositTypeCode||"CCCA"===t.depositTypeCode||"CCGF"===t.depositTypeCode||"CCDP"===e.depositTypeCode).reduce((e,t)=>(Q.isNil(t.paidDatetime)||(e+=t.paidAmount),e),0);this.clickCashReceiptIssueEvent.emit(Object.assign({maxPaidAmount:t},e))}onClickPointPayment(){this.clickPointPaymentEvent.emit()}onClickPayment(e){this.selectPayment.emit(e)}onClickPaymentManual(){this.clickPaymentManualEvent.emit()}onClickRefundRegister(){if(!this.selectedPaymentSeq)return void this.alertService.alert("Please select your payment information first.");const e=Q.find(this.payments,e=>e.paymentSeq===this.selectedPaymentSeq);Q.isNil(e.paidDatetime)?this.alertService.alert("Data that has not yet been paid for."):["CCDP","CCCA","CCGF","CCRP","PGCI","CCCC"].includes(e.depositTypeCode)?this.clickRefundRegisterEvent.emit():this.alertService.alert("Only the following payments can be manually registered for a refund: bank deposit, cash, gift certificate, bookkeeping alternative, virtual account, and card (in-person).")}onClickDeleteMapping(){this.alertService.alert("Preparing.")}onClickCreatePayment(){this.clickCreatePaymentEvent.emit()}onClickDeletePayment(){if(!this.selectedPaymentSeq)return void this.alertService.alert("Select the payment information you want to delete first.");const e=Q.find(this.payments,e=>e.paymentSeq===this.selectedPaymentSeq),{depositTypeCode:t,paidDatetime:n,paymentSeq:i}=e;["CCDP","CCCA","CCCC","CCGF","CCRP"].includes(t)||"PGCI"===t&&Q.isNil(n)?this.clickDeletePaymentEvent.emit({paymentSeqs:[i]}):this.alertService.alert("You can only delete bank deposits, cash, card (in person), gift certificates, bookkeeping substitutions, or virtual accounts before payment.")}onClickCardReceipt(e){const{paymentSeq:t}=e;this.openCardReceiptEvent.emit({paymentSeq:t,itemCategoryCode:"IC02",bookingInfo:this.bookingInfo})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-payment"]],inputs:{bookingInfo:"bookingInfo",paymentInfo:"paymentInfo",plFinishYn:"plFinishYn"},outputs:{clickDetailViewEvent:"clickDetailViewEvent",clickCreditCardCancelEvent:"clickCreditCardCancelEvent",clickCouponPointCancelEvent:"clickCouponPointCancelEvent",clickCashReceiptIssueEvent:"clickCashReceiptIssueEvent",clickPointPaymentEvent:"clickPointPaymentEvent",clickPaymentManualEvent:"clickPaymentManualEvent",clickRefundRegisterEvent:"clickRefundRegisterEvent",openCardReceiptEvent:"openCardReceiptEvent",clickDeletePaymentEvent:"clickDeletePaymentEvent",clickCreatePaymentEvent:"clickCreatePaymentEvent",selectPayment:"selectPayment"},decls:9,vars:4,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title","toggle",3,"click"],[1,"control"],["class","btn btn-outline-dark sm",3,"click",4,"ngIf"],[1,"btn","btn-outline-dark","sm",3,"click"],["class","table table-bordered table-responsive",4,"ngIf"],[1,"table","table-bordered","table-responsive"],["width","43px"],["scope","col",1,"align-c"],[4,"ngFor","ngForOf"],[4,"ngIf"],["styleClass","only",3,"value","ngModel","ngModelChange","onClick"],[1,"align-c"],[1,"text-underline",3,"click"],[1,"align-r"],["colspan","11",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"a",2),L.fc("click",(function(){return t.onClickToggle()})),L.Pc(3,"Payments"),L.Vb(),L.Wb(4,"div",3),L.Nc(5,LN,2,0,"button",4),L.Wb(6,"button",5),L.fc("click",(function(){return t.onClickCashReceiptIssue()})),L.Pc(7,"Issue Cash Receipt"),L.Vb(),L.Vb(),L.Vb(),L.Nc(8,BN,34,2,"div",6),L.Vb()),2&e&&(L.Cb(2),L.Gb("active",t.isActiveToggle),L.Cb(3),L.pc("ngIf",!t.plFinishYn),L.Cb(3),L.pc("ngIf",t.isActiveToggle))},directives:[k.o,k.n,cS.a,I.r,I.u],pipes:[k.f],encapsulation:2,changeDetection:0}),e})();function xN(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"A"),L.Vb())}function YN(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"C"),L.Vb())}function HN(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td"),L.Wb(3,"app-radio",11),L.fc("ngModelChange",(function(t){return L.Fc(e),L.hc(2).selectedReceiptSeq=t})),L.Vb(),L.Vb(),L.Wb(4,"td",12),L.Nc(5,xN,2,0,"span",10),L.Nc(6,YN,2,0,"span",10),L.Vb(),L.Wb(7,"td",13),L.Pc(8),L.ic(9,"number"),L.Vb(),L.Wb(10,"td",12),L.Pc(11),L.Vb(),L.Wb(12,"td",12),L.Wb(13,"a",14),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc(2).onClickOpenReceipt(null==n?null:n.receiptSeq)})),L.Pc(14),L.Vb(),L.Vb(),L.Wb(15,"td",12),L.Pc(16),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,n=L.hc(2);L.Cb(3),L.pc("value",e.receiptSeq)("ngModel",n.selectedReceiptSeq),L.Cb(1),L.Gb("color-red",!0===(null==e?null:e.cashReceiptCancelYn)),L.Cb(1),L.pc("ngIf",!1===(null==e?null:e.cashReceiptCancelYn)),L.Cb(1),L.pc("ngIf",!0===(null==e?null:e.cashReceiptCancelYn)),L.Cb(1),L.Gb("color-red",!0===(null==e?null:e.cashReceiptCancelYn)),L.Cb(1),L.Qc(L.jc(9,14,null==e?null:e.cashPaidAmount)),L.Cb(2),L.Gb("color-red",!0===(null==e?null:e.cashReceiptCancelYn)),L.Cb(1),L.Qc(null==e?null:e.issueDatetime),L.Cb(3),L.Qc(null==e?null:e.approvalNo),L.Cb(2),L.Qc(null==e?null:e.cashReceiptIssueName)}}function qN(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",15),L.Pc(3,"-"),L.Vb(),L.Vb(),L.Tb())}function UN(e,t){if(1&e&&(L.Wb(0,"div",6),L.Wb(1,"table"),L.Wb(2,"caption"),L.Pc(3," Cash Receipt "),L.Vb(),L.Wb(4,"colgroup"),L.Rb(5,"col",7),L.Rb(6,"col"),L.Rb(7,"col"),L.Rb(8,"col"),L.Rb(9,"col"),L.Rb(10,"col"),L.Vb(),L.Wb(11,"thead"),L.Wb(12,"tr"),L.Rb(13,"th",8),L.Wb(14,"th",8),L.Pc(15,"Status"),L.Vb(),L.Wb(16,"th",8),L.Pc(17,"App. or CXL Amts"),L.Vb(),L.Wb(18,"th",8),L.Pc(19,"App. or CXL Date"),L.Vb(),L.Wb(20,"th",8),L.Pc(21,"Approval No."),L.Vb(),L.Wb(22,"th",8),L.Pc(23,"User"),L.Vb(),L.Vb(),L.Vb(),L.Wb(24,"tbody"),L.Nc(25,HN,17,16,"ng-container",9),L.Nc(26,qN,4,0,"ng-container",10),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.hc();L.Cb(25),L.pc("ngForOf",e.cashReceipts),L.Cb(1),L.pc("ngIf",0===(null==e.cashReceipts?null:e.cashReceipts.length))}}let QN=(()=>{class e{constructor(e){this.alertService=e,this.clickCashReceiptCancelEvent=new L.n,this.openReceiptEvent=new L.n,this.isActiveToggle=!0}get paymentButtons(){var e;return null===(e=this.paymentInfo)||void 0===e?void 0:e.buttons}ngOnInit(){}ngOnDestroy(){}onClickToggle(){this.isActiveToggle=!this.isActiveToggle}onClickCashReceiptCancel(){this.selectedReceiptSeq?this.clickCashReceiptCancelEvent.emit({receiptSeqs:[this.selectedReceiptSeq]}):this.alertService.alert("Please select the payment information to cancel the cash receipt first.")}onClickOpenReceipt(e){Q.isNil(e)?this.alertService.alert("There is no data to look up cash receipts."):this.openReceiptEvent.emit({receiptSeq:e})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-cash-receipts"]],inputs:{paymentInfo:"paymentInfo",cashReceipts:"cashReceipts"},outputs:{clickCashReceiptCancelEvent:"clickCashReceiptCancelEvent",openReceiptEvent:"openReceiptEvent"},decls:8,vars:3,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title","toggle",3,"click"],[1,"control"],[1,"btn","btn-outline-dark","sm",3,"click"],["class","table table-bordered table-responsive",4,"ngIf"],[1,"table","table-bordered","table-responsive"],["width","42px"],["scope","col",1,"align-c"],[4,"ngFor","ngForOf"],[4,"ngIf"],["styleClass","only",3,"value","ngModel","ngModelChange"],[1,"align-c"],[1,"align-r"],[1,"text-underline",3,"click"],["colspan","6",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"a",2),L.fc("click",(function(){return t.onClickToggle()})),L.Pc(3,"Cash Receipt Issued List"),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"button",4),L.fc("click",(function(){return t.onClickCashReceiptCancel()})),L.Pc(6,"Cancel"),L.Vb(),L.Vb(),L.Vb(),L.Nc(7,UN,27,2,"div",5),L.Vb()),2&e&&(L.Cb(2),L.Gb("active",t.isActiveToggle),L.Cb(5),L.pc("ngIf",t.isActiveToggle))},directives:[k.o,k.n,cS.a,I.r,I.u],pipes:[k.f],encapsulation:2,changeDetection:0}),e})();var GN=n("Fqb2");const KN=function(){return{userTypeCode:"U01"}},zN=function(){return["userNo","name","deptName","positionName"]};let XN=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.closeEvent=new L.n,this.submitEvent=new L.n,this._unsubscribe$=new Fe.a,this.putForm=e.generatePaymentManualPutForm(),this.putFormData=e.initPaymentManualPutForm()}get bankMasterList(){return"CCCC"===this.putForm.get("depositTypeCode").value?this.paymentBankMasterList:[]}ngOnInit(){this._initState(),this._initSubscription()}ngOnDestroy(){this._unsubscribe$.next(),this._unsubscribe$.complete()}onClose(){this.closeEvent.emit()}onSubmit(){if(this.putForm.invalid)return void(this.checkValid=!0);const e=this._setPutCondition();this.submitEvent.emit(e)}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}_setPutCondition(){const e=this._dataService.initPaymentManualPutCondition(),t=this.putForm.value;let n=void 0,i=void 0;const{depositTypeCode:o,cardValidPeriodYear:a,cardValidPeriodMonth:c}=t;if("CCCC"===o){const i=`${a}/${c}`;n=Object.assign({},Q.pick(t,Object.keys(e.card)),{cardValidPeriod:i})}else"CCGF"===o&&(i=Object.assign({},Q.pick(t,Object.keys(e.other))));return Object.assign({},Q.pick(t,Object.keys(e)),{card:n,other:i,bookingItemCode:this.bookingItemCode,bookingTravelerCode:this.bookingTravelerCode})}_initState(){this.cardQuotaMonthList=[{value:"00",label:"\uc77c\uc2dc\ubd88"}];for(let e=1;e<25;e++){const t=Q.padStart(String(e),2,"0");this.cardQuotaMonthList.push({value:t,label:t})}}_initSubscription(){this.putForm.get("depositTypeCode").valueChanges.pipe(Object(Ci.a)(this._unsubscribe$)).subscribe(e=>{this.checkValid=!1,Q.isNil(e)||"CCCA"===e||"CCRP"===e?(this.putForm.get("cardNo").disable(),this.putForm.get("cardHolderName").disable(),this.putForm.get("cardValidPeriodYear").disable(),this.putForm.get("cardValidPeriodMonth").disable(),this.putForm.get("cardQuotaMonth").disable(),this.putForm.get("cardApprovalNo").disable(),this.putForm.get("paymentRelatedNo").disable(),this.putForm.get("giftCardTypeCode").disable(),this.putForm.get("giftCardExpireDate").disable(),this.putForm.get("cardMasterCode").clearValidators(),this.putForm.get("cardNo").clearValidators(),this.putForm.get("cardValidPeriodYear").clearValidators(),this.putForm.get("cardValidPeriodMonth").clearValidators(),this.putForm.get("cardQuotaMonth").clearValidators(),this.putForm.get("cardApprovalNo").clearValidators(),this.putForm.get("giftCardTypeCode").clearValidators(),this.putForm.get("giftCardExpireDate").clearValidators(),this.putForm.get("paymentRelatedNo").clearValidators(),this.putForm.get("cardNo").setValue(null),this.putForm.get("cardHolderName").setValue(null),this.putForm.get("cardValidPeriodYear").setValue(null),this.putForm.get("cardValidPeriodMonth").setValue(null),this.putForm.get("cardQuotaMonth").setValue(null),this.putForm.get("cardApprovalNo").setValue(null),this.putForm.get("paymentRelatedNo").setValue(null),this.putForm.get("giftCardTypeCode").setValue(null),this.putForm.get("giftCardExpireDate").setValue(null),this.putForm.get("cardMasterCode").updateValueAndValidity(),this.putForm.get("cardNo").updateValueAndValidity(),this.putForm.get("cardValidPeriodYear").updateValueAndValidity(),this.putForm.get("cardValidPeriodMonth").updateValueAndValidity(),this.putForm.get("cardQuotaMonth").updateValueAndValidity(),this.putForm.get("cardApprovalNo").updateValueAndValidity(),this.putForm.get("giftCardTypeCode").updateValueAndValidity(),this.putForm.get("giftCardExpireDate").updateValueAndValidity(),this.putForm.get("paymentRelatedNo").updateValueAndValidity(),this.putForm.updateValueAndValidity()):"CCCC"===e?(this.putForm.get("cardNo").enable(),this.putForm.get("cardHolderName").enable(),this.putForm.get("cardValidPeriodYear").enable(),this.putForm.get("cardValidPeriodMonth").enable(),this.putForm.get("cardQuotaMonth").enable(),this.putForm.get("cardApprovalNo").enable(),this.putForm.get("paymentRelatedNo").disable(),this.putForm.get("giftCardTypeCode").disable(),this.putForm.get("giftCardExpireDate").disable(),this.putForm.get("cardMasterCode").setValidators([I.z.required]),this.putForm.get("cardNo").setValidators([I.z.required]),this.putForm.get("cardValidPeriodYear").setValidators([I.z.required]),this.putForm.get("cardValidPeriodMonth").setValidators([I.z.required]),this.putForm.get("cardQuotaMonth").setValidators([I.z.required]),this.putForm.get("cardApprovalNo").setValidators([I.z.required]),this.putForm.get("giftCardTypeCode").clearValidators(),this.putForm.get("giftCardExpireDate").clearValidators(),this.putForm.get("paymentRelatedNo").clearValidators(),this.putForm.get("giftCardTypeCode").setValue(null),this.putForm.get("giftCardExpireDate").setValue(null),this.putForm.get("paymentRelatedNo").setValue(null),this.putForm.get("cardMasterCode").updateValueAndValidity(),this.putForm.get("cardNo").updateValueAndValidity(),this.putForm.get("cardValidPeriodYear").updateValueAndValidity(),this.putForm.get("cardValidPeriodMonth").updateValueAndValidity(),this.putForm.get("cardQuotaMonth").updateValueAndValidity(),this.putForm.get("cardApprovalNo").updateValueAndValidity(),this.putForm.get("giftCardTypeCode").updateValueAndValidity(),this.putForm.get("giftCardExpireDate").updateValueAndValidity(),this.putForm.get("paymentRelatedNo").updateValueAndValidity()):"CCGF"===e&&(this.putForm.get("cardNo").disable(),this.putForm.get("cardHolderName").disable(),this.putForm.get("cardValidPeriodYear").disable(),this.putForm.get("cardValidPeriodMonth").disable(),this.putForm.get("cardQuotaMonth").disable(),this.putForm.get("cardApprovalNo").disable(),this.putForm.get("paymentRelatedNo").enable(),this.putForm.get("giftCardTypeCode").enable(),this.putForm.get("giftCardExpireDate").enable(),this.putForm.get("giftCardTypeCode").setValidators([I.z.required]),this.putForm.get("giftCardExpireDate").setValidators([I.z.required]),this.putForm.get("paymentRelatedNo").setValidators([I.z.required]),this.putForm.get("cardMasterCode").clearValidators(),this.putForm.get("cardNo").clearValidators(),this.putForm.get("cardValidPeriodYear").clearValidators(),this.putForm.get("cardValidPeriodMonth").clearValidators(),this.putForm.get("cardQuotaMonth").clearValidators(),this.putForm.get("cardApprovalNo").clearValidators(),this.putForm.get("cardMasterCode").setValue(null),this.putForm.get("cardNo").setValue(null),this.putForm.get("cardValidPeriodYear").setValue(null),this.putForm.get("cardValidPeriodMonth").setValue(null),this.putForm.get("cardQuotaMonth").setValue(null),this.putForm.get("cardApprovalNo").setValue(null),this.putForm.get("cardMasterCode").updateValueAndValidity(),this.putForm.get("cardNo").updateValueAndValidity(),this.putForm.get("cardValidPeriodYear").updateValueAndValidity(),this.putForm.get("cardValidPeriodMonth").updateValueAndValidity(),this.putForm.get("cardQuotaMonth").updateValueAndValidity(),this.putForm.get("cardApprovalNo").updateValueAndValidity(),this.putForm.get("giftCardTypeCode").updateValueAndValidity(),this.putForm.get("giftCardExpireDate").updateValueAndValidity(),this.putForm.get("paymentRelatedNo").updateValueAndValidity())})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(xS),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-payment-manual-modal"]],inputs:{bookingItemCode:"bookingItemCode",bookingTravelerCode:"bookingTravelerCode",paymentDetailTypeList:"paymentDetailTypeList",depositTypeList:"depositTypeList",paymentBankMasterList:"paymentBankMasterList",giftCardTypeList:"giftCardTypeList"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent"},decls:89,vars:31,consts:[[1,"component-wrap"],[1,"button-area","align-r","mb5"],["type","submit",1,"btn","btn-secondary","sm",3,"click"],[3,"formGroup","connectForm"],[1,"table","table-bordered"],["width","20%"],["width","30%"],["scope","row",1,"th-bg"],["formControlName","paymentDetailTypeCode","displayKey","detailCodeNameEn","dataKey","detailCode",3,"options","isInvalid"],["formControlName","depositTypeCode","displayKey","detailCodeNameEn","dataKey","detailCode",3,"options","isInvalid"],["formControlName","cardMasterCode","displayKey","detailCodeNameEn","dataKey","detailCode",3,"options","isInvalid"],["formControlName","paidAmount","valueType","number","inputFormat","currency",3,"isInvalid"],["formControlName","paidDate","inputFormat","date",3,"isInvalid"],["formControlName","clientName",3,"isInvalid"],["formControlName","confirmUno","apiUrl","admin/common/staff","dataKey","userNo","inputFieldFormat","{0}-{1}&,{2}&,{3}","placeholder","\uc774\ub984 \uac80\uc0c9",1,"d-inline-flex","flex-fill",3,"apiCondition","apiSearchTerm","inputFieldFormatKeyList","inputFieldValue","inputId","isInvalid"],["formControlName","cardNo","placeholder","- \uc5c6\uc774 \uc785\ub825",3,"isInvalid"],["formControlName","cardHolderName","inputFormat","uppserCaseEnOnly",3,"isInvalid"],[1,"form-group"],["formControlName","cardValidPeriodYear","placeholder","YYYY",3,"isInvalid"],["formControlName","cardValidPeriodMonth","placeholder","MM",3,"isInvalid"],["formControlName","cardQuotaMonth",3,"options","isInvalid"],["formControlName","cardApprovalNo",3,"isInvalid"],["formControlName","paymentRelatedNo",3,"isInvalid"],["formControlName","giftCardTypeCode","displayKey","detailCodeNameEn","dataKey","detailCode",3,"options","isInvalid"],["formControlName","giftCardExpireDate","inputFormat","date","placeholder","YYYY-MM-DD",3,"isInvalid"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"button",2),L.fc("click",(function(){return t.onSubmit()})),L.Pc(3,"\uc800\uc7a5"),L.Vb(),L.Vb(),L.Wb(4,"form",3),L.Wb(5,"div",4),L.Wb(6,"table"),L.Wb(7,"caption"),L.Pc(8," \uacb0\uc81c \uc218\ub3d9 \ub4f1\ub85d "),L.Vb(),L.Wb(9,"colgroup"),L.Rb(10,"col",5),L.Rb(11,"col",6),L.Rb(12,"col",5),L.Rb(13,"col",6),L.Vb(),L.Wb(14,"tbody"),L.Wb(15,"tr"),L.Wb(16,"th",7),L.Pc(17,"\uc608\uc57d\ucf54\ub4dc"),L.Vb(),L.Wb(18,"td"),L.Pc(19),L.Vb(),L.Wb(20,"th",7),L.Pc(21,"\uc804\uc1a1\uad6c\ubd84"),L.Vb(),L.Wb(22,"td"),L.Rb(23,"app-selectbox",8),L.Vb(),L.Vb(),L.Wb(24,"tr"),L.Wb(25,"th",7),L.Pc(26,"\uc785\uae08\uad6c\ubd84"),L.Vb(),L.Wb(27,"td"),L.Rb(28,"app-selectbox",9),L.Vb(),L.Wb(29,"th",7),L.Pc(30,"\uc138\ubd80\uad6c\ubd84"),L.Vb(),L.Wb(31,"td"),L.Rb(32,"app-selectbox",10),L.Vb(),L.Vb(),L.Wb(33,"tr"),L.Wb(34,"th",7),L.Pc(35,"\uc785\uae08\uc561"),L.Vb(),L.Wb(36,"td"),L.Rb(37,"app-input-text",11),L.Vb(),L.Wb(38,"th",7),L.Pc(39,"\uc785\uae08\uc77c\uc790"),L.Vb(),L.Wb(40,"td"),L.Rb(41,"app-input-text",12),L.Vb(),L.Vb(),L.Wb(42,"tr"),L.Wb(43,"th",7),L.Pc(44,"\uc785\uae08\uace0\uac1d"),L.Vb(),L.Wb(45,"td"),L.Rb(46,"app-input-text",13),L.Vb(),L.Wb(47,"th",7),L.Pc(48,"\uc785\uae08\uc0ac\uc6d0"),L.Vb(),L.Wb(49,"td"),L.Rb(50,"app-auto-complete",14),L.Vb(),L.Vb(),L.Wb(51,"tr"),L.Wb(52,"th",7),L.Pc(53,"\uce74\ub4dc\ubc88\ud638"),L.Vb(),L.Wb(54,"td"),L.Rb(55,"app-input-text",15),L.Vb(),L.Wb(56,"th",7),L.Pc(57,"\uce74\ub4dc\uc18c\uc720\uc790\uba85"),L.Vb(),L.Wb(58,"td"),L.Rb(59,"app-input-text",16),L.Vb(),L.Vb(),L.Wb(60,"tr"),L.Wb(61,"th",7),L.Pc(62,"\uce74\ub4dc \uc720\ud6a8\uae30\uac04"),L.Vb(),L.Wb(63,"td"),L.Wb(64,"div",17),L.Rb(65,"app-input-text",18),L.Rb(66,"app-input-text",19),L.Vb(),L.Vb(),L.Wb(67,"th",7),L.Pc(68,"\ud560\ubd80"),L.Vb(),L.Wb(69,"td"),L.Rb(70,"app-selectbox",20),L.Vb(),L.Vb(),L.Wb(71,"tr"),L.Wb(72,"th",7),L.Pc(73,"\uce74\ub4dc\uc2b9\uc778\ubc88\ud638"),L.Vb(),L.Wb(74,"td"),L.Rb(75,"app-input-text",21),L.Vb(),L.Wb(76,"th",7),L.Pc(77,"\uc0c1\ud488\uad8c\ubc88\ud638"),L.Vb(),L.Wb(78,"td"),L.Rb(79,"app-input-text",22),L.Vb(),L.Vb(),L.Wb(80,"tr"),L.Wb(81,"th",7),L.Pc(82,"\uc0c1\ud488\uad8c\uad6c\ubd84"),L.Vb(),L.Wb(83,"td"),L.Rb(84,"app-selectbox",23),L.Vb(),L.Wb(85,"th",7),L.Pc(86,"\uc0c1\ud488\uad8c\uc720\ud6a8\uae30\uac04"),L.Vb(),L.Wb(87,"td"),L.Rb(88,"app-input-text",24),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(4),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(15),L.Qc(t.bookingItemCode),L.Cb(4),L.pc("options",t.paymentDetailTypeList)("isInvalid",t.checkIsInvalid("paymentDetailTypeCode")),L.Cb(5),L.pc("options",t.depositTypeList)("isInvalid",t.checkIsInvalid("depositTypeCode")),L.Cb(4),L.pc("options",t.bankMasterList)("isInvalid",t.checkIsInvalid("cardMasterCode")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("paidAmount")),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("paidDate")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("clientName")),L.Cb(4),L.pc("apiCondition",L.tc(29,KN))("apiSearchTerm","name")("inputFieldFormatKeyList",L.tc(30,zN))("inputFieldValue","")("inputId","refundPicUnoInput")("isInvalid",t.checkIsInvalid("confirmUno")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("cardNo")),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("cardHolderName")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("cardValidPeriodYear")),L.Cb(1),L.pc("isInvalid",t.checkIsInvalid("cardValidPeriodMonth")),L.Cb(4),L.pc("options",t.cardQuotaMonthList)("isInvalid",t.checkIsInvalid("cardQuotaMonth")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("cardApprovalNo")),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("paymentRelatedNo")),L.Cb(5),L.pc("options",t.giftCardTypeList)("isInvalid",t.checkIsInvalid("giftCardTypeCode")),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("giftCardExpireDate")))},directives:[I.B,I.s,I.k,J.a,Se.a,I.r,I.i,ee.a,ne.a],encapsulation:2,changeDetection:0}),e})(),ZN=(()=>{class e{constructor(){this.submitEvent=new L.n,this.closeEvent=new L.n}ngOnInit(){}ngOnDestroy(){}onClickBookingCancel(){this.submitEvent.emit({bookingItemCode:this.bookingItemCode})}onClose(){this.closeEvent.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-cancel-modal"]],inputs:{bookingItemCode:"bookingItemCode",vendorBookingItemCode:"vendorBookingItemCode",cancelChargeAmount:"cancelChargeAmount"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:10,vars:0,consts:[[1,"component-wrap"],[1,"align-c","pt20","pb20"],[1,"font-weight-bold","font-size-lg"],[1,"button-area","align-c","mt10"],["type","button",1,"btn","btn-secondary","sm",3,"click"],["cancelButton",""],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"p",2),L.Pc(3," Are you sure you want to cancel this booking? If it was cancelled, it could not to be revert to origin "),L.Vb(),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"button",4,5),L.fc("click",(function(){return t.onClickBookingCancel()})),L.Pc(7,"Cancel"),L.Vb(),L.Wb(8,"button",6),L.fc("click",(function(){return t.onClose()})),L.Pc(9,"Close"),L.Vb(),L.Vb(),L.Vb())},encapsulation:2,changeDetection:0}),e})();function JN(e,t){1&e&&(L.Ub(0),L.Pc(1," ONLINE "),L.Tb())}function eE(e,t){1&e&&(L.Ub(0),L.Pc(1," OFFLINE "),L.Tb())}function tE(e,t){1&e&&L.Sb(0)}function nE(e,t){if(1&e&&L.Pc(0),2&e){const e=L.hc();L.Sc(" [",(null==e.basicInfo?null:e.basicInfo.cancelName)||"-","] ",(null==e.basicInfo?null:e.basicInfo.cancelDatetime)||"-"," ")}}function iE(e,t){1&e&&(L.Wb(0,"button",20),L.Pc(1,"Save"),L.Vb())}const oE=function(){return{compCode:11e4,userTypeCode:"U01"}},aE=function(){return["userNo","name","deptName","positionName"]};let cE=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.submitEvent=new L.n,this.checkRefundableEvent=new L.n,this._$unsubscribe=new Fe.a,this.putForm=e.generateBasisPutForm()}get basicInfo(){return this._basicInfo}set basicInfo(e){this._basicInfo=e,this.putFormData=this._setFormData(e)}get bookingPicInputValue(){var e,t,n;return this.basicInfo&&(null===(e=this.basicInfo)||void 0===e?void 0:e.bookingPicUno)?`${null===(t=this.basicInfo)||void 0===t?void 0:t.bookingPicName}(${null===(n=this.basicInfo)||void 0===n?void 0:n.bookingPicUno})`:null}get bookerCompInputValue(){var e,t,n;return this.basicInfo&&(null===(e=this.basicInfo)||void 0===e?void 0:e.bookerCompCode)?`${null===(t=this.basicInfo)||void 0===t?void 0:t.bookerCompName} - ${null===(n=this.basicInfo)||void 0===n?void 0:n.bookerCompCode}`:null}get isBtms(){var e;return"STN05"===(null===(e=this.basicInfo)||void 0===e?void 0:e.stationTypeCode)}get isB2b(){var e;return"STN04"===(null===(e=this.basicInfo)||void 0===e?void 0:e.stationTypeCode)}ngOnInit(){this.checkValid=!1,this._initSubscription()}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete()}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}onSubmit(){if(!this.putForm.valid)return void(this.checkValid=!0);const{msg:e,isValid:t}=this._checkValidBookingStatusCode();if(!t)return void this.alertService.alert(e);const n=this._setPutCondition();this.submitEvent.emit(n)}_checkValidBookingStatusCode(){const{bookingStatusCode:e}=this.basicInfo,t=this.putForm.get("bookingStatusCode").value;let n="",i=!0;return e===t||("BKS12"===e?"BKS14"!==t&&"BKS20"!==t&&(i=!1,n="If you are a refund requestor, you can only change your reservation to Canceled or Refunded."):"BKS14"===e?"BKS20"!==t&&(i=!1,n="A refunded booking can only be changed to a canceled booking."):"BKS20"===e&&"BKS14"!==t&&(i=!1,n="Bookings that are canceled can only be changed to refunded.")),{msg:n,isValid:i}}_setFormData(e){const t=this._dataService.initBasisPutForm();if(Q.isNil(e))return t;const n={clientCancelDeadlineDate:null,clientCancelDeadlineTime:null,vendorCancelDeadlineDate:null,vendorCancelDeadlineTime:null};return e.clientCancelDeadline&&(n.clientCancelDeadlineDate=K()(e.clientCancelDeadline).format("YYYY-MM-DD"),n.clientCancelDeadlineTime=K()(e.clientCancelDeadline).format("HH:mm")),e.vendorCancelDeadline&&(n.vendorCancelDeadlineDate=K()(e.vendorCancelDeadline).format("YYYY-MM-DD"),n.vendorCancelDeadlineTime=K()(e.vendorCancelDeadline).format("HH:mm")),Object.assign({},t,Q.pick(e,Object.keys(t)),n)}_setPutCondition(){this._dataService.initBasisPutCondition();const e=this.putForm.getRawValue();let t=null;return Q.isNil(null==e?void 0:e.clientCancelDeadlineDate)||Q.isNil(null==e?void 0:e.clientCancelDeadlineTime)||(t=K()(e.clientCancelDeadlineDate+" "+e.clientCancelDeadlineTime).format("YYYY-MM-DD HH:mm:ss")),{bookingItemCode:this.bookingItemCode,bookingPicUno:e.bookingPicUno,bookingPicName:e.bookingPicName,clientCancelDeadline:t,clientNonRefundableYn:e.clientNonRefundableYn}}_initSubscription(){this.putForm.get("clientNonRefundableYn").valueChanges.pipe(Object(Ci.a)(this._$unsubscribe)).subscribe(e=>{e?(this.putForm.get("clientCancelDeadlineDate").disable(),this.putForm.get("clientCancelDeadlineTime").disable()):(this.putForm.get("clientCancelDeadlineDate").enable(),this.putForm.get("clientCancelDeadlineTime").enable())})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(xS),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-basis-info"]],inputs:{bookingItemCode:"bookingItemCode",plFinishYn:"plFinishYn",basicInfo:"basicInfo",stationList:"stationList",bookingStatusList:"bookingStatusList",handleStatusList:"handleStatusList",deviceTypeList:"deviceTypeList"},outputs:{submitEvent:"submitEvent",checkRefundableEvent:"checkRefundableEvent"},decls:54,vars:21,consts:[[1,"page-item-header"],[1,"title"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["scope","row",1,"th-bg"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["others",""],["formControlName","bookingPicUno","apiUrl","admin/common/staff","dataKey","userNo","inputFieldFormat","{0}-{1}&,{2}&,{3}","placeholder","Name",3,"inputFieldValue","isInvalid","apiCondition","apiSearchTerm","inputFieldFormatKeyList"],[1,"form-group"],[1,"input","calendar",2,"flex","2 1","min-width","140px"],[3,"for"],["type","text","placeholder","YYYY-MM-DD","formControlName","clientCancelDeadlineDate",3,"matDatepicker"],["clientCancelDeadlineDatePicker",""],["formControlName","clientCancelDeadlineTime","dataType","string","inputFormat","time",2,"min-width","50px",3,"isInvalid"],[1,"d-flex","align-items-center",2,"padding-left","10px"],["formControlName","clientNonRefundableYn","binary","true",3,"click"],[1,"color-danger"],[1,"button-area","align-r","mt10"],["type","submit","class","btn btn-secondary sm",4,"ngIf"],["type","submit",1,"btn","btn-secondary","sm"]],template:function(e,t){if(1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Basic Information"),L.Vb(),L.Vb(),L.Wb(3,"form",2),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," Basic Information "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col"),L.Rb(10,"col"),L.Vb(),L.Wb(11,"tbody"),L.Wb(12,"tr"),L.Wb(13,"th",4),L.Pc(14,"Domain"),L.Vb(),L.Wb(15,"td"),L.Pc(16),L.Vb(),L.Vb(),L.Wb(17,"tr"),L.Wb(18,"th",4),L.Pc(19,"Device / On OFF"),L.Vb(),L.Wb(20,"td"),L.Pc(21),L.Nc(22,JN,2,0,"ng-container",5),L.Nc(23,eE,2,0,"ng-container",5),L.Vb(),L.Vb(),L.Wb(24,"tr"),L.Wb(25,"th",4),L.Pc(26,"Booking Cancel Date / User"),L.Vb(),L.Wb(27,"td"),L.Nc(28,tE,1,0,"ng-container",6),L.Nc(29,nE,1,2,"ng-template",null,7,L.Oc),L.Vb(),L.Vb(),L.Wb(31,"tr"),L.Wb(32,"th",4),L.Wb(33,"sup"),L.Pc(34,"Booking PIC"),L.Vb(),L.Vb(),L.Wb(35,"td"),L.Rb(36,"app-auto-complete",8),L.Vb(),L.Vb(),L.Wb(37,"tr"),L.Wb(38,"th",4),L.Pc(39,"Client Cancellation D/L"),L.Vb(),L.Wb(40,"td"),L.Wb(41,"div",9),L.Wb(42,"div",10),L.Rb(43,"mat-datepicker-toggle",11),L.Rb(44,"input",12),L.Rb(45,"mat-datepicker",null,13),L.Vb(),L.Rb(47,"app-input-text",14),L.Wb(48,"div",15),L.Wb(49,"app-checkbox",16),L.fc("click",(function(){return t.checkRefundableEvent.emit(t.putForm.value.clientNonRefundableYn)})),L.Vb(),L.Wb(50,"span",17),L.Pc(51,"Non Refundable"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(52,"div",18),L.Nc(53,iE,2,0,"button",19),L.Vb(),L.Vb()),2&e){const e=L.Ec(30),n=L.Ec(46);L.Cb(3),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(13),L.Qc((null==t.basicInfo?null:t.basicInfo.domainAddress)||"-"),L.Cb(5),L.Rc("",(null==t.basicInfo?null:t.basicInfo.deviceTypeName)||"-","/ "),L.Cb(1),L.pc("ngIf","O"===(null==t.basicInfo?null:t.basicInfo.onOffManual)),L.Cb(1),L.pc("ngIf","F"===(null==t.basicInfo?null:t.basicInfo.onOffManual)),L.Cb(5),L.pc("ngIf",!(null!=t.basicInfo&&t.basicInfo.cancelDatetime||null!=t.basicInfo&&t.basicInfo.cancelName))("ngIfElse",e),L.Cb(8),L.pc("inputFieldValue",t.bookingPicInputValue)("isInvalid",t.checkIsInvalid("bookingPicUno"))("apiCondition",L.tc(19,oE))("apiSearchTerm","name")("inputFieldFormatKeyList",L.tc(20,aE)),L.Cb(6),L.Gb("valid-error",t.checkIsInvalid("clientCancelDeadlineDate")),L.Cb(1),L.pc("for",n),L.Cb(1),L.pc("matDatepicker",n),L.Cb(3),L.pc("isInvalid",t.checkIsInvalid("clientCancelDeadlineTime")),L.Cb(6),L.pc("ngIf",!t.plFinishYn)}},directives:[I.B,I.s,I.k,J.a,k.o,ne.a,I.r,I.i,UW.a,I.c,QW.a,GW.a,ee.a,Kt.a],encapsulation:2,changeDetection:0}),e})();function sE(e,t){if(1&e&&(L.Wb(0,"p"),L.Pc(1),L.Wb(2,"strong",7),L.Pc(3),L.ic(4,"number"),L.Vb(),L.Vb()),2&e){const e=L.hc().$implicit;L.Cb(1),L.Uc("",e.cancelFromDate," ",e.cancelFromTime," ~ ",e.cancelToDate," ",e.cancelToTime," "),L.Cb(2),L.Sc("",e.currencyCode," ",L.jc(4,6,e.cancelChargeAmount),"")}}function rE(e,t){if(1&e&&(L.Ub(0),L.Nc(1,sE,5,8,"p",6),L.Tb()),2&e){const e=L.hc();L.Cb(1),L.pc("ngIf",!e.checkRefundFlag)}}function lE(e,t){if(1&e&&(L.Wb(0,"p"),L.Pc(1),L.Wb(2,"strong",7),L.Pc(3),L.ic(4,"number"),L.Vb(),L.Vb()),2&e){const e=L.hc().$implicit;L.Cb(1),L.Uc("",e.cancelFromDate," ",e.cancelFromTime," ~ ",e.cancelToDate," ",e.cancelToTime," "),L.Cb(2),L.Sc("",e.currencyCode," ",L.jc(4,6,e.cancelChargeAmount),"")}}function dE(e,t){if(1&e&&(L.Ub(0),L.Nc(1,lE,5,8,"p",6),L.Tb()),2&e){const e=L.hc();L.Cb(1),L.pc("ngIf",!e.checkRefundFlag)}}let bE=(()=>{class e{constructor(e){this._dataService=e,this.submitEvent=new L.n,this.upsertForm=this._dataService.generateBasisRulePutInitForm()}get cancelPolicy(){return this._cancelPolicy}set cancelPolicy(e){this._cancelPolicy=e,this.upsertFormData=this._convertItemToForm(e),this._makeCancelPolicyForm(e)}get clientCancelPoliciesControl(){return this.upsertForm&&this.upsertForm.get("clientCancelPolicies").controls}get vendorCancelPoliciesControl(){return this.upsertForm&&this.upsertForm.get("vendorCancelPolicies").controls}ngOnInit(){}ngOnDestroy(){}_convertItemToForm(e){if(!e)return this._dataService.initBasisRuleForm();const{clientCancelPolicies:t,vendorCancelPolicies:n,cancelChargeDesc:i}=e;return{clientCancelPolicies:[...t],vendorCancelPolicies:[...n],cancelChargeDesc:i}}_makeCancelPolicyForm(e){this.upsertForm=e?this._dataService.generateBasisRulePutForm(e):this._dataService.generateBasisRulePutInitForm()}checkIsInvalid(e){return this.checkValid&&this.upsertForm.get(e)&&this.upsertForm.get(e).invalid}onSubmit(){if(!this.upsertForm.valid)return void(this.checkValid=!0);const e=this._convertFormToItem(this.upsertForm.value,this.cancelPolicy);this.submitEvent.emit(e)}_convertFormToItem(e,t){const n=Object.keys({bookingItemCode:void 0,clientCancelPolicies:void 0,vendorCancelPolicies:void 0,cancelChargeDesc:void 0});return null===t?e:Q.assign(Q.pick(t,n),e)}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(xS))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-basis-rule"]],inputs:{bookingItemCode:"bookingItemCode",plFinishYn:"plFinishYn",checkRefundFlag:"checkRefundFlag",cancelPolicy:"cancelPolicy"},outputs:{submitEvent:"submitEvent"},decls:42,vars:6,consts:[[1,"page-item-header"],[1,"title"],[1,"table","table-bordered","table-responsive"],["scope","col"],[4,"ngFor","ngForOf"],[1,"ml5","mr5"],[4,"ngIf"],[1,"ml10"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Cancellation Policy"),L.Vb(),L.Vb(),L.Wb(3,"div",2),L.Wb(4,"table"),L.Wb(5,"caption"),L.Pc(6," Cancellation Policy "),L.Vb(),L.Wb(7,"colgroup"),L.Rb(8,"col"),L.Rb(9,"col"),L.Vb(),L.Wb(10,"thead"),L.Wb(11,"tr"),L.Wb(12,"th",3),L.Pc(13,"Client"),L.Wb(14,"span"),L.Pc(15),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(16,"tbody"),L.Wb(17,"tr"),L.Wb(18,"td"),L.Nc(19,rE,2,1,"ng-container",4),L.Rb(20,"br"),L.Wb(21,"span",5),L.Pc(22,"After check in date, it will be full stay charge"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(23,"table"),L.Wb(24,"caption"),L.Pc(25," Cancellation Policy "),L.Vb(),L.Wb(26,"colgroup"),L.Rb(27,"col"),L.Rb(28,"col"),L.Vb(),L.Wb(29,"thead"),L.Wb(30,"tr"),L.Wb(31,"th",3),L.Pc(32,"Vendor"),L.Wb(33,"span"),L.Pc(34),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(35,"tbody"),L.Wb(36,"tr"),L.Wb(37,"td"),L.Nc(38,dE,2,1,"ng-container",4),L.Rb(39,"br"),L.Wb(40,"span",5),L.Pc(41,"After check in date, it will be full stay charge"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(15),L.Sc("",null==t.cancelPolicy?null:t.cancelPolicy.clientTimeDisplay,"",null==t.cancelPolicy?null:t.cancelPolicy.clientTimeZoneName,""),L.Cb(4),L.pc("ngForOf",null==t.cancelPolicy?null:t.cancelPolicy.clientCancelPolicies),L.Cb(15),L.Sc("",null==t.cancelPolicy?null:t.cancelPolicy.vendorTimeDisplay,"",null==t.cancelPolicy?null:t.cancelPolicy.vendorTimeZoneName,""),L.Cb(4),L.pc("ngForOf",null==t.cancelPolicy?null:t.cancelPolicy.vendorCancelPolicies))},directives:[k.n,k.o],pipes:[k.f],encapsulation:2,changeDetection:0}),e})(),uE=(()=>{class e{constructor(){this.saveBasicInfoEvent=new L.n,this.saveCancelPolicyEvent=new L.n,this.checkRefundFlag=!1}ngOnInit(){}onSaveBasicInfo(e){this.saveBasicInfoEvent.emit(e)}onSaveCancelPolicy(e){this.saveCancelPolicyEvent.emit(e)}checkRefundable(e){this.checkRefundFlag=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-basis"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",basicInfo:"basicInfo",cancelPolicy:"cancelPolicy",plFinishYn:"plFinishYn",stationList:"stationList",bookingStatusList:"bookingStatusList",handleStatusList:"handleStatusList",deviceTypeList:"deviceTypeList"},outputs:{saveBasicInfoEvent:"saveBasicInfoEvent",saveCancelPolicyEvent:"saveCancelPolicyEvent"},decls:4,vars:9,consts:[[1,"page-item"],[3,"basicInfo","plFinishYn","stationList","bookingStatusList","handleStatusList","deviceTypeList","submitEvent","checkRefundableEvent"],[3,"checkRefundFlag","cancelPolicy","plFinishYn","submitEvent"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"app-reservation-hotel-basis-info",1),L.fc("submitEvent",(function(e){return t.onSaveBasicInfo(e)}))("checkRefundableEvent",(function(e){return t.checkRefundable(e)})),L.Vb(),L.Vb(),L.Wb(2,"div",0),L.Wb(3,"app-reservation-hotel-basis-rule",2),L.fc("submitEvent",(function(e){return t.onSaveCancelPolicy(e)})),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("basicInfo",t.basicInfo)("plFinishYn",t.plFinishYn)("stationList",t.stationList)("bookingStatusList",t.bookingStatusList)("handleStatusList",t.handleStatusList)("deviceTypeList",t.deviceTypeList),L.Cb(2),L.pc("checkRefundFlag",t.checkRefundFlag)("cancelPolicy",t.cancelPolicy)("plFinishYn",t.plFinishYn))},directives:[cE,bE],encapsulation:2,changeDetection:0}),e})(),pE=(()=>{class e{constructor(e){this._dataService=e,this.submitEvent=new L.n,this.roomCountDropDownList=[],this.travelerCountDropDownList=[],this.nightsCountDropDownList=[],this.putForm=e.generateBookingDetailInfoPutForm(),this._initDropDownList()}get bookingInfo(){return this._bookingInfo}set bookingInfo(e){this.putFormData=this._setFormData(e),this._bookingInfo=e}get clientOptions(){var e;if(!this.bookingInfo)return;const{requests:t}=this.bookingInfo;return t?null===(e=null==t?void 0:t.filter(e=>"BRQ99"!==(null==e?void 0:e.requestTypeCode)))||void 0===e?void 0:e.map(e=>{const{requestTypeCode:t,requestValue:n,requestTypeName:i}=e;return"BRQ03"===t?n:i}).join(" / "):void 0}get hotelInputField(){if(!this.bookingInfo)return null;const{hotelCode:e,hotelNameLn:t,hotelNameEn:n}=this.bookingInfo;return`[${e}] ${t||n}`}get checkInDate(){return this.putForm&&this.putForm.get("checkInDate").value}ngOnInit(){}ngOnDestroy(){}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}onSelectHotel(e){this.putForm.get("hotelNameEn").setValue(e.hotelNameEn),this.putForm.get("hotelNameLn").setValue(e.hotelNameLn)}onChangeNightsCount({value:e}){const t=this.putForm.get("checkInDate").value;if(t){const n=K()(t).add(e,"days");this.putForm.get("checkOutDate").setValue(n)}}onSubmit(){if(!this.putForm.valid)return void(this.checkValid=!0);const e=this._setPutCondition();this.submitEvent.emit(e)}_initDropDownList(){for(let e=0;e<10;e++)this.roomCountDropDownList.push({value:e+1,label:`${e+1}\uac1c`});for(let e=0;e<10;e++)this.travelerCountDropDownList.push({value:e+1,label:`${e+1}\uba85`});for(let e=0;e<30;e++)this.nightsCountDropDownList.push({value:e+1,label:`${e+1}\ubc15`})}_setFormData(e){const t=this._dataService.initBookingDetailInfoPutForm();return Object.assign({},t,Q.pick(e,Object.keys(t)))}_setPutCondition(){const e=this._dataService.initBookingDetailInfoPutForm();let t=Object.assign({},Q.pick(this.putForm.value,Object.keys(e)));return t=Q.omit(t,["checkInDate","checkOutDate","hotelNameEn","hotelNameLn","vendorBookingCode"]),""===t.vendorBookingItemCode&&(t.vendorBookingItemCode=null),Q.omitBy(t,Q.isNil)}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(xS))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-booking-detail-info"]],inputs:{plFinishYn:"plFinishYn",bookingItemCode:"bookingItemCode",vendorList:"vendorList",bookingStatusList:"bookingStatusList",roomTypeList:"roomTypeList",mealList:"mealList",freeBreakFastList:"freeBreakFastList",clientPayment:"clientPayment",bookingInfo:"bookingInfo"},outputs:{submitEvent:"submitEvent"},decls:53,vars:7,consts:[[1,"page-item-header"],[1,"title"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered","table-responsive"],["width","180px"],["scope","row",1,"th-bg"],[1,"form-group"],["formControlName","bookingStatusCode","useAllOptionName","Select","dataKey","detailCode","displayWord","detailCodeName",3,"options"],[1,"color-danger","font-size-xs","ml5"],["formControlName","clientPaymentStatusCode","useAllOptionName","Select","displayWord","detailCodeName","dataKey","detailCode",3,"options"],["formControlName","sellerBookingCode"],[1,"font-weight-bold"],["formControlName","vendorBookingItemCode"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Booking Detail"),L.Vb(),L.Vb(),L.Wb(3,"form",2),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," Booking "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col",4),L.Rb(10,"col"),L.Vb(),L.Wb(11,"tbody"),L.Wb(12,"tr"),L.Wb(13,"th",5),L.Wb(14,"sup"),L.Pc(15,"Booking Status"),L.Vb(),L.Vb(),L.Wb(16,"td"),L.Wb(17,"div",6),L.Rb(18,"app-selectbox-detailcode",7),L.Wb(19,"p",8),L.Pc(20,"* it just only change of booking status for a client side."),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(21,"tr"),L.Wb(22,"th",5),L.Wb(23,"sup"),L.Pc(24,"Client Payment Status"),L.Vb(),L.Vb(),L.Wb(25,"td"),L.Wb(26,"div",6),L.Rb(27,"app-selectbox-detailcode",9),L.Vb(),L.Vb(),L.Vb(),L.Wb(28,"tr"),L.Wb(29,"th",5),L.Pc(30,"Seller Booking Code"),L.Vb(),L.Wb(31,"td"),L.Rb(32,"app-input-text",10),L.Vb(),L.Vb(),L.Wb(33,"tr"),L.Wb(34,"th",5),L.Pc(35,"Vendor"),L.Vb(),L.Wb(36,"td"),L.Pc(37),L.Wb(38,"span",11),L.Pc(39),L.Vb(),L.Vb(),L.Vb(),L.Wb(40,"tr"),L.Wb(41,"th",5),L.Pc(42,"Vendor/ CMS Booking Code"),L.Vb(),L.Wb(43,"td"),L.Pc(44),L.Vb(),L.Vb(),L.Wb(45,"tr"),L.Wb(46,"th",5),L.Pc(47,"Confirm No."),L.Vb(),L.Wb(48,"td"),L.Rb(49,"app-input-text",12),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(50,"div",13),L.Wb(51,"button",14),L.Pc(52,"Save"),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(3),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(15),L.pc("options",t.bookingStatusList),L.Cb(9),L.pc("options",t.clientPayment),L.Cb(10),L.Rc(" ",null==t.bookingInfo?null:t.bookingInfo.vendorCompCode," | "),L.Cb(2),L.Qc(null==t.bookingInfo?null:t.bookingInfo.vendorCompName),L.Cb(5),L.Rc(" ",null==t.bookingInfo?null:t.bookingInfo.vendorBookingCode," "))},directives:[I.B,I.s,I.k,J.a,Pi.a,I.r,I.i,ee.a],encapsulation:2,changeDetection:0}),e})(),mE=(()=>{class e{constructor(e){this._dataService=e,this.submitEvent=new L.n,this.upsertForm=e.generateBookingDetailNoticePutForm()}get bookingInfo(){return this._bookingInfo}set bookingInfo(e){this.upsertFormData=this._convertItemToForm(e),this._bookingInfo=e}ngOnInit(){}ngOnDestroy(){}get clientOptions(){var e;if(!this.bookingInfo)return;const{requests:t}=this.bookingInfo;return t?null===(e=null==t?void 0:t.filter(e=>"BRQ99"!==(null==e?void 0:e.requestTypeCode)))||void 0===e?void 0:e.map((e,t)=>{const{requestTypeCode:n,requestValue:i,requestTypeName:o}=e;return"BRQ03"===n?i:o}).join(" / "):void 0}get clientRequest(){var e;if(!this.bookingInfo)return;let{requests:t}=this.bookingInfo;return t?(t=t.filter(e=>"BRQ99"===e.requestTypeCode),null===(e=t[0])||void 0===e?void 0:e.requestValue):void 0}_convertItemToForm(e){var t;if(!e)return null===(t=this.bookingInfo)||void 0===t||t.requests.forEach((e,t)=>{t===this.bookingInfo.requests.length-1&&(this.user=e.answerName,this.lastUpdateDate=e.lastUpdateDatetime)}),this._dataService.initBookingDetailNoticePutForm();if(e){const t=e.requests.filter(e=>"BRQ99"===e.requestTypeCode);let n=null,i=null;t.forEach(e=>{if(n)return!1;n=e.answerDetail,i=e.requestNo}),this.upsertForm.get("answerDetail").setValue(n),this.upsertForm.get("requestNo").setValue(i)}const{checkInGuide:n,checkInGuideSpecial:i,cancelChargeDesc:o}=e;return{checkInGuide:n,checkInGuideSpecial:i,cancelChargeDesc:o}}checkIsInvalid(e){return this.checkValid&&this.upsertForm.get(e)&&this.upsertForm.get(e).invalid}onSubmit(){if(!this.upsertForm.valid)return void(this.checkValid=!0);const e={requests:[{requestTypeCode:"BRQ99",requestTypeName:"Others",answerDetail:this.upsertForm.value.answerDetail,requestNo:this.upsertForm.value.requestNo||void 0}]};this._convertFormToItem(this.upsertForm.value,this.bookingInfo),this.submitEvent.emit(e)}_convertFormToItem(e,t){const{rowid:n}=t,{checkInGuide:i,checkInGuideSpecial:o,cancelChargeDesc:a}=e;return{rowid:n,checkInGuide:i,checkInGuideSpecial:o,cancelChargeDesc:a}}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(xS))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-booking-detail-notice"]],inputs:{bookingInfo:"bookingInfo"},outputs:{submitEvent:"submitEvent"},decls:35,vars:6,consts:[[1,"page-item-header"],[1,"title"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered","table-responsive"],["width","210px"],["scope","row",1,"th-bg"],["colspan","3"],[1,"textarea"],["cols","30","rows","3","disabled","",3,"value"],["cols","30","rows","3","formControlName","answerDetail"],[1,"button-area","align-r","color-dark-color3","font-size-xs","mt10"],[1,"mr5","ml5"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Special Request & Answer"),L.Vb(),L.Vb(),L.Wb(3,"form",2),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," Special Request & Answer "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col",4),L.Rb(10,"col"),L.Vb(),L.Wb(11,"tbody"),L.Wb(12,"tr"),L.Wb(13,"th",5),L.Pc(14,"Client"),L.Vb(),L.Wb(15,"td",6),L.Pc(16),L.Wb(17,"div",7),L.Rb(18,"textarea",8),L.Vb(),L.Vb(),L.Vb(),L.Wb(19,"tr"),L.Wb(20,"th",5),L.Pc(21,"Admin"),L.Vb(),L.Wb(22,"td",6),L.Wb(23,"div",7),L.Rb(24,"textarea",9),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(25,"div",10),L.Wb(26,"span"),L.Pc(27),L.Vb(),L.Wb(28,"span",11),L.Pc(29,"|"),L.Vb(),L.Wb(30,"span"),L.Pc(31),L.Vb(),L.Vb(),L.Wb(32,"div",12),L.Wb(33,"button",13),L.Pc(34,"Save"),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(3),L.pc("formGroup",t.upsertForm)("connectForm",t.upsertFormData),L.Cb(13),L.Rc("",t.clientOptions," "),L.Cb(2),L.pc("value",t.clientRequest||""),L.Cb(9),L.Rc("User: ",(null==t.bookingInfo||null==t.bookingInfo.requests[(null==t.bookingInfo?null:t.bookingInfo.requests.length)-1]?null:t.bookingInfo.requests[(null==t.bookingInfo?null:t.bookingInfo.requests.length)-1].answerName)||"-",""),L.Cb(4),L.Rc("Last Update Date: ",(null==t.bookingInfo||null==t.bookingInfo.requests[(null==t.bookingInfo?null:t.bookingInfo.requests.length)-1]?null:t.bookingInfo.requests[(null==t.bookingInfo?null:t.bookingInfo.requests.length)-1].lastUpdateDatetime)||"-"," "))},directives:[I.B,I.s,I.k,J.a,I.c,I.r,I.i],encapsulation:2,changeDetection:0}),e})();const hE=function(){return{userTypeCode:"U01"}},gE=function(){return["userNo","name","deptName","positionName"]};let fE=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.submitEvent=new L.n,this.upsertForm=e.generateBookingDetailInfoRequestPutForm()}get basicInfo(){return this._basicInfo}set basicInfo(e){this._basicInfo=e,this.upsertFormData=this._convertItemToForm(e)}ngOnInit(){}ngOnDestroy(){}checkIsInvalid(){return this.checkValid}onSubmit(){let e=this.upsertForm.value;if(null===e.cancelConfirmUno&&null===e.cancelConfirmName)return void(this.checkValid=!0);this.checkValid=!1;const t=Object.assign({bookingItemCode:this.bookingItemCode},this.upsertForm.value);this.submitEvent.emit(Q.omitBy(t,Q.isNil))}_convertItemToForm(e){const t=this._dataService.initBookingDetailRequestPutForm();return Q.isEmpty(e)?t:Object.assign({},t,Q.pick(e,Object.keys(t)))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(xS),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-booking-detail-request"]],inputs:{bookingItemCode:"bookingItemCode",loginUserNo:"loginUserNo",loginUser:"loginUser",requestInfo:"requestInfo",lateCheckInTypeList:"lateCheckInTypeList",basicInfo:"basicInfo"},outputs:{submitEvent:"submitEvent"},decls:35,vars:11,consts:[[1,"page-item-header"],[1,"title"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered","table-responsive"],["width","180px"],["scope","row",1,"th-bg"],["formControlName","cancelConfirmUno","apiUrl","admin/common/staff","dataKey","userNo","inputFieldFormat","{0}-{1}&,{2}&,{3}","placeholder","Name",3,"inputFieldValue","apiCondition","apiSearchTerm","inputFieldFormatKeyList","isInvalid"],["formControlName","cancelConfirmName","placeholder","Vendor staff name",3,"isInvalid"],["formControlName","cancelConfirmNo"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Booking Cancel Confirm"),L.Vb(),L.Vb(),L.Wb(3,"form",2),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," Booking Cancel Confirm "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col",4),L.Rb(10,"col"),L.Vb(),L.Wb(11,"tbody"),L.Wb(12,"tr"),L.Wb(13,"th",5),L.Pc(14,"User (OMH)"),L.Vb(),L.Wb(15,"td"),L.Rb(16,"app-auto-complete",6),L.Vb(),L.Vb(),L.Wb(17,"tr"),L.Wb(18,"th",5),L.Pc(19,"User (Vendor)"),L.Vb(),L.Wb(20,"td"),L.Rb(21,"app-input-text",7),L.Vb(),L.Vb(),L.Wb(22,"tr"),L.Wb(23,"th",5),L.Pc(24,"Cancel Confirm No"),L.Vb(),L.Wb(25,"td"),L.Rb(26,"app-input-text",8),L.Vb(),L.Vb(),L.Wb(27,"tr"),L.Wb(28,"th",5),L.Pc(29,"Cancel Confirm Date"),L.Vb(),L.Wb(30,"td"),L.Pc(31),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(32,"div",9),L.Wb(33,"button",10),L.Pc(34,"Save"),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(3),L.pc("formGroup",t.upsertForm)("connectForm",t.upsertFormData),L.Cb(13),L.pc("inputFieldValue",t.unoInput)("apiCondition",L.tc(9,hE))("apiSearchTerm","name")("inputFieldFormatKeyList",L.tc(10,gE))("isInvalid",t.checkIsInvalid()),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid()),L.Cb(10),L.Rc(" ",null==t.basicInfo?null:t.basicInfo.cancelDatetime," "))},directives:[I.B,I.s,I.k,J.a,ne.a,I.r,I.i,ee.a],encapsulation:2,changeDetection:0}),e})(),vE=(()=>{class e{constructor(){this.saveDetailInfoEvent=new L.n,this.saveNoticeEvent=new L.n,this.saveRequestEvent=new L.n}ngOnInit(){}submitDetailInfoHandler(e){this.saveDetailInfoEvent.emit(e)}submitNoticeHandler(e){this.saveNoticeEvent.emit(e)}submitRequestHandler(e){e.bookingItemCode=this.bookingItemCode,this.saveRequestEvent.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-booking-detail"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",bookingItemCode:"bookingItemCode",plFinishYn:"plFinishYn",bookingInfo:"bookingInfo",rooms:"rooms",vendorList:"vendorList",ageTypeList:"ageTypeList",lateCheckInTypeList:"lateCheckInTypeList",loginUser:"loginUser",loginUserNo:"loginUserNo",bookingStatusList:"bookingStatusList",basicInfo:"basicInfo",roomTypeList:"roomTypeList",mealList:"mealList",freeBreakFastList:"freeBreakFastList",clientPayment:"clientPayment"},outputs:{saveDetailInfoEvent:"saveDetailInfoEvent",saveNoticeEvent:"saveNoticeEvent",saveRequestEvent:"saveRequestEvent"},decls:6,vars:14,consts:[[1,"page-item"],[3,"plFinishYn","bookingInfo","vendorList","bookingStatusList","roomTypeList","mealList","clientPayment","freeBreakFastList","submitEvent"],[3,"bookingInfo","submitEvent"],[3,"bookingItemCode","basicInfo","loginUser","loginUserNo","lateCheckInTypeList","submitEvent"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"app-reservation-hotel-booking-detail-info",1),L.fc("submitEvent",(function(e){return t.submitDetailInfoHandler(e)})),L.Vb(),L.Vb(),L.Wb(2,"div",0),L.Wb(3,"app-reservation-hotel-booking-detail-notice",2),L.fc("submitEvent",(function(e){return t.submitNoticeHandler(e)})),L.Vb(),L.Vb(),L.Wb(4,"div",0),L.Wb(5,"app-reservation-hotel-booking-detail-request",3),L.fc("submitEvent",(function(e){return t.submitRequestHandler(e)})),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("plFinishYn",t.plFinishYn)("bookingInfo",t.bookingInfo)("vendorList",t.vendorList)("bookingStatusList",t.bookingStatusList)("roomTypeList",t.roomTypeList)("mealList",t.mealList)("clientPayment",t.clientPayment)("freeBreakFastList",t.freeBreakFastList),L.Cb(2),L.pc("bookingInfo",t.bookingInfo),L.Cb(2),L.pc("bookingItemCode",t.bookingItemCode)("basicInfo",t.basicInfo)("loginUser",t.loginUser)("loginUserNo",t.loginUserNo)("lateCheckInTypeList",t.lateCheckInTypeList))},directives:[pE,mE,fE],encapsulation:2,changeDetection:0}),e})();function CE(e,t){if(1&e&&(L.Wb(0,"td"),L.Wb(1,"div",16),L.Wb(2,"span",21),L.Pc(3),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.hc(2).$implicit;var n;const t=null==(n=L.hc().getTravelerFormControl(e.get("travelers")))?null:n.length;L.Db("rowspan",t),L.Cb(3),L.Rc("Room",e.get("roomNo").value,"")}}const yE=function(e,t){return["rooms",e,"travelers",t,"name"]},kE=function(e){return{corporateCompCode:e}},IE=function(){return["userNo","name","deptName","positionName"]},OE=function(e,t){return["rooms",e,"travelers",t,"travelerUno"]};function PE(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-auto-complete",22),L.fc("onSelect",(function(t){L.Fc(e);const n=L.hc().$implicit;return L.hc(2).onSelectTraveler(t,n)})),L.Vb()}if(2&e){const e=L.hc().index,t=L.hc().index,n=L.hc();L.pc("inputFieldValue",n.upsertForm.get(L.vc(5,yE,t,e)).value)("apiSearchTerm","name")("apiCondition",L.uc(8,kE,n.corporateCompCode))("inputFieldFormatKeyList",L.tc(10,IE))("isInvalid",n.checkIsInvalid(L.vc(11,OE,t,e)))}}function jE(e,t){if(1&e&&L.Rb(0,"app-input-text",23),2&e){const e=L.hc().index,t=L.hc().index,n=L.hc();L.pc("isInvalid",n.checkIsInvalid(L.vc(1,yE,t,e)))}}function VE(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"div",24),L.Rb(2,"mat-datepicker-toggle",25),L.Rb(3,"input",26),L.Rb(4,"mat-datepicker",null,27),L.Vb(),L.Tb()),2&e){const e=L.Ec(5);L.Cb(2),L.pc("for",e),L.Cb(1),L.pc("matDatepicker",e)}}const AE=function(e,t){return["rooms",e,"travelers",t,"ageTypeCode"]},WE=function(e,t){return["rooms",e,"travelers",t,"gender"]};function RE(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"tr",10),L.Nc(2,CE,4,2,"td",7),L.Ub(3,11),L.Ub(4,10),L.Wb(5,"td"),L.Rb(6,"app-selectbox",12),L.Vb(),L.Wb(7,"td"),L.Rb(8,"app-selectbox",13),L.Vb(),L.Wb(9,"td"),L.Nc(10,PE,1,14,"app-auto-complete",14),L.Nc(11,jE,1,4,"app-input-text",15),L.Vb(),L.Wb(12,"td"),L.Wb(13,"div",16),L.Rb(14,"app-input-text",17),L.Wb(15,"span",18),L.Pc(16,"/"),L.Vb(),L.Rb(17,"app-input-text",19),L.Vb(),L.Vb(),L.Wb(18,"td",20),L.Nc(19,VE,6,2,"ng-container",7),L.Vb(),L.Tb(),L.Tb(),L.Vb(),L.Tb()),2&e){const e=t.$implicit,n=t.index,i=L.hc().index,o=L.hc();L.Cb(1),L.pc("formGroupName",i),L.Cb(1),L.pc("ngIf",0===n),L.Cb(2),L.pc("formGroupName",n),L.Cb(2),L.pc("options",o.ageTypeList)("isInvalid",o.checkIsInvalid(L.vc(10,AE,i,n))),L.Cb(2),L.pc("options",o.genderDropDownList)("isInvalid",o.checkIsInvalid(L.vc(13,WE,i,n))),L.Cb(2),L.pc("ngIf",o.isBtms),L.Cb(1),L.pc("ngIf",!o.isBtms),L.Cb(8),L.pc("ngIf","CHD"===e.get("ageTypeCode").value||"INF"===e.get("ageTypeCode").value)}}function FE(e,t){if(1&e&&(L.Ub(0),L.Nc(1,RE,20,16,"ng-container",6),L.Tb()),2&e){const e=t.$implicit,n=L.hc();L.Cb(1),L.pc("ngForOf",n.getTravelerFormControl(e.get("travelers")))}}function SE(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",28),L.Pc(3,"-"),L.Vb(),L.Vb(),L.Tb())}function TE(e,t){1&e&&(L.Wb(0,"button",29),L.Pc(1,"Save"),L.Vb())}let NE=(()=>{class e{constructor(e,t,n){this._dataService=e,this.alertService=t,this._service=n,this.submitEvent=new L.n,this.roomCountDropDownList=[],this.travelerCountDropDownList=[],this.genderDropDownList=[],this.roomAddingCount=null,this.checkedRoomSeqs=[],this.deleteRoomSeqs=[],this.policyAppliedTraveler=null,this.upsertForm=e.generateRoomsPutInitForm()}get rooms(){return this._rooms}set rooms(e){this._rooms=e,this.upsertFormData=this._convertItemToForm(e),this._makeRoomsForm(e),this.checkedRoomSeqs=[],this.deleteRoomSeqs=[],this._checkValid=!1}get roomsFormControl(){return this.upsertForm&&this.upsertForm.get("rooms").controls}get isAllChecked(){return this.checkedRoomSeqs.length>0&&this.checkedRoomSeqs.length===this.upsertForm.get("rooms").controls.length}get isBtms(){return"STN05"===this.stationTypeCode}ngOnInit(){this._initDropDownList()}ngOnDestroy(){}_initDropDownList(){for(let e=0;e<10;e++)this.roomCountDropDownList.push({value:e+1,label:`${e+1}\uac1c`});for(let e=0;e<10;e++)this.travelerCountDropDownList.push({value:e+1,label:`${e+1}\uba85`});this.genderDropDownList=[{value:"M",label:"M"},{value:"F",label:"F"}]}getTravelerFormControl(e){return e&&e.controls}checkIsInvalid(e){return this._checkValid&&this.upsertForm.get(e)&&this.upsertForm.get(e).invalid}_convertItemToForm(e){return e?{rooms:e.map(e=>({roomSeq:e.roomSeq,roomNo:e.roomNo,bedTypeCode:e.bedTypeCode,travelers:[...e.travelers]}))}:this._dataService.initRoomsForm()}_makeRoomsForm(e){this.upsertForm=e?this._dataService.generateRoomsPutForm(e):this._dataService.generateRoomsPutInitForm()}addRoomForm(){var e,t;if(this.roomAddingCount)for(let n=0;n<this.roomAddingCount;n++){const n=((null===(t=null===(e=Q.last(this.roomsFormControl))||void 0===e?void 0:e.get("roomNo"))||void 0===t?void 0:t.value)||0)+1;this.upsertForm.get("rooms").push(this._dataService.generateRoomPutForm(n))}else this.alertService.alert("Select the number of rooms you want to add.")}removeRoomForm(){var e;if(0!==this.checkedRoomSeqs.length){for(const t of this.checkedRoomSeqs)for(let n=0;n<this.roomsFormControl.length;n++){const i=this.upsertForm.get("rooms").at(n);t===i.get("roomNo").value&&(!(null===(e=i.get("isNew"))||void 0===e?void 0:e.value)&&this.deleteRoomSeqs.push(t),this.upsertForm.get("rooms").removeAt(n))}this.checkedRoomSeqs=[]}else this.alertService.alert("No rooms have been selected.")}onCheckRow(e,t){e?this.checkedRoomSeqs.push(t):this.checkedRoomSeqs=this.checkedRoomSeqs.filter(e=>e!==t)}onCheckAll(e){this.checkedRoomSeqs=e?this.upsertForm.get("rooms").controls.map(e=>e.value.roomSeq):[]}onChangeTravelerCount(e,t){const n={BDT01:1,BDT02:2,BDT03:2,BDT04:2,BDT05:3,BDT06:4}[e.value],i=t.controls.length;if(i>n)for(let o=0;o<i-n;o++)t.removeAt(t.controls.length-1);else for(let o=0;o<n-i;o++)t.push(this._dataService.generateTravelerInitForm())}onClickRadio(e){this.policyAppliedTraveler=e.get("bookingTravelerCode").value,this.roomsFormControl.forEach(e=>{e.get("travelers").controls.forEach(e=>{e.get("policyAppliedTravelerYn").setValue(!1)})}),e.get("policyAppliedTravelerYn").setValue(!0)}onSelectTraveler(e,t){const{name:n,lastName:i,firstName:o,gender:a,birthday:c}=e;let s="ADT";const r=K()().format("YYYY-MM-DD"),l=this._service.getOld(r,c);s=l>12?"ADT":l>2?"CHD":"INF",t.patchValue({name:n,lastName:i,firstName:o,gender:a,birthday:c,ageTypeCode:s})}onSubmit(){if(console.log(this.upsertForm,"this.upsertForm"),!this.upsertForm.valid)return void(this._checkValid=!0);const e=this._setPutCondition();this.submitEvent.emit(e)}_setPutCondition(){const e=this.upsertForm.value.rooms.reduce((e,t)=>(e.push({roomNo:t.roomNo,bedTypeCode:t.bedTypeCode,travelers:[...t.travelers]}),e),[]),t=this.deleteRoomSeqs.length>0&&{rooms:this.deleteRoomSeqs.map(e=>({roomNo:e})),bookingItemCode:this.bookingItemCode};return{upsertInfo:{rooms:e,bookingItemCode:this.bookingItemCode},deleteInfo:t}}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(xS),L.Qb(Ae.a),L.Qb(_S))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-travelers-modify"]],inputs:{bookingItemCode:"bookingItemCode",stationTypeCode:"stationTypeCode",corporateCompCode:"corporateCompCode",ageTypeList:"ageTypeList",bedTypeList:"bedTypeList",plFinishYn:"plFinishYn",rooms:"rooms"},outputs:{submitEvent:"submitEvent"},decls:34,vars:5,consts:[[1,"page-item-header"],[1,"title"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered",2,"min-width","300px","overflow","auto"],["scope","col",1,"align-c"],["formArrayName","rooms"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"button-area","align-r","mt10"],["type","submit","class","btn btn-secondary sm",4,"ngIf"],[3,"formGroupName"],["formArrayName","travelers"],["dataKey","detailCode","displayKey","detailCodeNameEn","formControlName","ageTypeCode",2,"min-width","100px",3,"options","isInvalid"],["formControlName","gender",2,"min-width","100px",3,"options","isInvalid"],["style","min-width: 100px","formControlName","travelerUno","apiUrl","admin/corporate/staff","dataKey","userNo","inputFieldFormat","{0}-{1}&,{2}&,{3}","placeholder","\ucd9c\uc7a5\uc790 \uac80\uc0c9",3,"inputFieldValue","apiSearchTerm","apiCondition","inputFieldFormatKeyList","isInvalid","onSelect",4,"ngIf"],["style","min-width: 120px","formControlName","name","dataType","string","placeholder","\ud55c\uae00 \uc774\ub984",3,"isInvalid",4,"ngIf"],[1,"form-group"],["formControlName","lastName","dataType","string",2,"min-width","100px"],[1,"dash"],["formControlName","firstName","dataType","string",2,"min-width","180px","flex","2 1"],[2,"min-width","140px"],[1,"text",2,"min-width","45px"],["formControlName","travelerUno","apiUrl","admin/corporate/staff","dataKey","userNo","inputFieldFormat","{0}-{1}&,{2}&,{3}","placeholder","\ucd9c\uc7a5\uc790 \uac80\uc0c9",2,"min-width","100px",3,"inputFieldValue","apiSearchTerm","apiCondition","inputFieldFormatKeyList","isInvalid","onSelect"],["formControlName","name","dataType","string","placeholder","\ud55c\uae00 \uc774\ub984",2,"min-width","120px",3,"isInvalid"],[1,"input","calendar",2,"min-width","140px"],[3,"for"],["type","text","placeholder","YYYY-MM-DD","formControlName","birthday",3,"matDatepicker"],["birthdayPicker",""],["colspan","7",1,"align-c"],["type","submit",1,"btn","btn-secondary","sm"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Travelers"),L.Vb(),L.Vb(),L.Wb(3,"form",2),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," Travelers "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Rb(13,"col"),L.Rb(14,"col"),L.Vb(),L.Wb(15,"thead"),L.Wb(16,"tr"),L.Wb(17,"th",4),L.Pc(18,"Rooms"),L.Vb(),L.Wb(19,"th",4),L.Pc(20,"Age"),L.Vb(),L.Wb(21,"th",4),L.Pc(22,"Gender"),L.Vb(),L.Wb(23,"th",4),L.Pc(24,"Name(Local)"),L.Vb(),L.Wb(25,"th",4),L.Pc(26,"Last Name / First Name(EN)"),L.Vb(),L.Wb(27,"th",4),L.Pc(28,"Child Birthday"),L.Vb(),L.Vb(),L.Vb(),L.Wb(29,"tbody",5),L.Nc(30,FE,2,1,"ng-container",6),L.Nc(31,SE,4,0,"ng-container",7),L.Vb(),L.Vb(),L.Vb(),L.Wb(32,"div",8),L.Nc(33,TE,2,0,"button",9),L.Vb(),L.Vb()),2&e&&(L.Cb(3),L.pc("formGroup",t.upsertForm)("connectForm",t.upsertFormData),L.Cb(27),L.pc("ngForOf",t.roomsFormControl),L.Cb(1),L.pc("ngIf",0===t.roomsFormControl.length),L.Cb(2),L.pc("ngIf",!t.plFinishYn))},directives:[I.B,I.s,I.k,J.a,I.e,k.n,k.o,I.l,Se.a,I.r,I.i,ee.a,ne.a,UW.a,I.c,QW.a,GW.a],encapsulation:2,changeDetection:0}),e})(),EE=(()=>{class e{constructor(){this.submitEvent=new L.n}ngOnInit(){}submitTravelersRoomHandler({upsertInfo:e,deleteInfo:t,bookingItemCode:n}){this.submitEvent.emit({bookingItemCode:n,upsertInfo:e,deleteInfo:t})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-travelers"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{bookingItemCode:"bookingItemCode",plFinishYn:"plFinishYn",active:"active",rooms:"rooms",corporateCompCode:"corporateCompCode",stationTypeCode:"stationTypeCode",ageTypeList:"ageTypeList",bedTypeList:"bedTypeList"},outputs:{submitEvent:"submitEvent"},decls:2,vars:7,consts:[[1,"page-item"],[3,"bookingItemCode","corporateCompCode","stationTypeCode","plFinishYn","rooms","ageTypeList","bedTypeList","submitEvent"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"app-reservation-hotel-travelers-modify",1),L.fc("submitEvent",(function(e){return t.submitTravelersRoomHandler(e)})),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("bookingItemCode",t.bookingItemCode)("corporateCompCode",t.corporateCompCode)("stationTypeCode",t.stationTypeCode)("plFinishYn",t.plFinishYn)("rooms",t.rooms)("ageTypeList",t.ageTypeList)("bedTypeList",t.bedTypeList))},directives:[NE],encapsulation:2,changeDetection:0}),e})();function ME(e,t){if(1&e&&(L.Ub(0,10),L.Wb(1,"tr"),L.Wb(2,"td",11),L.Pc(3),L.Vb(),L.Wb(4,"td",11),L.Pc(5),L.Vb(),L.Wb(6,"td",11),L.Rb(7,"app-input-text",12),L.Vb(),L.Wb(8,"td",11),L.Rb(9,"app-input-text",13),L.Vb(),L.Wb(10,"td",11),L.Rb(11,"app-input-text",14),L.Vb(),L.Wb(12,"td",11),L.Rb(13,"app-input-text",15),L.Vb(),L.Wb(14,"td",11),L.Rb(15,"app-input-text",16),L.Vb(),L.Wb(16,"td",11),L.Rb(17,"app-input-text",17),L.Vb(),L.Wb(18,"td",11),L.Rb(19,"app-input-text",18),L.Vb(),L.Wb(20,"td",11),L.Rb(21,"app-input-text",19),L.Vb(),L.Vb(),L.Tb()),2&e){const e=t.$implicit,n=t.index,i=L.hc();L.pc("formGroupName",n),L.Cb(3),L.Qc(e.value.appliedDate),L.Cb(2),L.Qc(e.value.roomNo),L.Cb(2),L.pc("isInvalid",i.checkIsInvalid("vendorNetAmount",n)),L.Cb(2),L.pc("isInvalid",i.checkIsInvalid("vendorSellingNetAmount",n)),L.Cb(2),L.pc("isInvalid",i.checkIsInvalid("vendorTaxAmount",n)),L.Cb(2),L.pc("isInvalid",i.checkIsInvalid("vendorGrossAmount",n)),L.Cb(2),L.pc("isInvalid",i.checkIsInvalid("vendorContractAmount",n)),L.Cb(2),L.pc("isInvalid",i.checkIsInvalid("vendorMspAmount",n)),L.Cb(2),L.pc("isInvalid",i.checkIsInvalid("vendorAddAmount",n)),L.Cb(2),L.pc("isInvalid",i.checkIsInvalid("vendorCancelChargeAmount",n))}}let DE=(()=>{class e{constructor(e){this._dataService=e,this.submitEvent=new L.n,this.closeEvent=new L.n,this.checkValid=!1,this.putForm=e.generateDirectPutForm()}get nightly(){return this._nightly}set nightly(e){this._nightly=e,this._setFormData(e)}get detailsFormArray(){var e;return null===(e=this.putForm)||void 0===e?void 0:e.get("nightly")}ngOnInit(){}onSave(){if(this.putForm.invalid)return void(this.checkValid=!0);const e=this._setPutCondition();this.submitEvent.emit(e),this.closeEvent.emit()}checkIsInvalid(e,t){return this.checkValid&&this.detailsFormArray.controls[t].get(e)&&this.detailsFormArray.controls[t].get(e).invalid}_setPutCondition(){const e=this.detailsFormArray.value,t=[];for(const n of e){const e=t.find(e=>e.roomNo===n.roomNo);e?e.amounts.push(Q.omit(n,["roomNo"])):t.push({roomNo:n.roomNo,amounts:[Q.omit(n,["roomNo"])]})}return t}_setFormData(e){const t=[];e.forEach(e=>{e.amount.forEach(n=>{t.push(Object.assign({roomNo:e.roomNo},n))})}),t.forEach(e=>{this.detailsFormArray.push(this._dataService.generateDirectItemPutForm(e))})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(xS))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-direct-form"]],inputs:{nightly:"nightly"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:45,vars:3,consts:[[1,"page-item"],[3,"formGroup","connectForm"],[1,"table","table-bordered"],["width","180px"],["scope","col",1,"align-c"],["formArrayName","nightly"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"button-area","align-r","mt10"],[1,"btn","btn-secondary","sm",3,"click"],[1,"btn","btn-light","sm",3,"click"],[3,"formGroupName"],[1,"align-c"],["inputFormat","number","valueType","number","formControlName","vendorNetAmount",3,"isInvalid"],["inputFormat","number","valueType","number","formControlName","vendorSellingNetAmount",3,"isInvalid"],["inputFormat","number","valueType","number","formControlName","vendorTaxAmount",3,"isInvalid"],["inputFormat","number","valueType","number","formControlName","vendorGrossAmount",3,"isInvalid"],["inputFormat","number","valueType","number","formControlName","vendorContractAmount",3,"isInvalid"],["inputFormat","number","valueType","number","formControlName","vendorMspAmount",3,"isInvalid"],["inputFormat","number","valueType","number","formControlName","vendorAddAmount",3,"isInvalid"],["inputFormat","number","valueType","number","formControlName","vendorCancelChargeAmount",3,"isInvalid"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"form",1),L.Wb(2,"div",2),L.Wb(3,"table"),L.Wb(4,"caption"),L.Pc(5," Buying Rate Details & Modify "),L.Vb(),L.Wb(6,"colgroup"),L.Rb(7,"col"),L.Rb(8,"col"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Rb(13,"col"),L.Rb(14,"col"),L.Rb(15,"col",3),L.Vb(),L.Wb(16,"thead"),L.Wb(17,"tr"),L.Wb(18,"th",4),L.Pc(19,"Date"),L.Vb(),L.Wb(20,"th",4),L.Pc(21,"Rooms"),L.Vb(),L.Wb(22,"th",4),L.Pc(23,"NET"),L.Vb(),L.Wb(24,"th",4),L.Pc(25,"Selling Net"),L.Vb(),L.Wb(26,"th",4),L.Pc(27,"Extra Tax"),L.Vb(),L.Wb(28,"th",4),L.Pc(29,"Gross"),L.Vb(),L.Wb(30,"th",4),L.Pc(31,"Contract"),L.Vb(),L.Wb(32,"th",4),L.Pc(33,"MSP"),L.Vb(),L.Wb(34,"th",4),L.Pc(35,"Add"),L.Vb(),L.Wb(36,"th",4),L.Pc(37,"Cancel Charge"),L.Vb(),L.Vb(),L.Vb(),L.Wb(38,"tbody",5),L.Nc(39,ME,22,11,"ng-container",6),L.Vb(),L.Vb(),L.Vb(),L.Wb(40,"div",7),L.Wb(41,"a",8),L.fc("click",(function(){return t.onSave()})),L.Pc(42,"Save"),L.Vb(),L.Wb(43,"a",9),L.fc("click",(function(){return t.closeEvent.emit()})),L.Pc(44,"Close"),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(38),L.pc("ngForOf",t.detailsFormArray.controls))},directives:[I.B,I.s,I.k,J.a,I.e,k.n,I.l,ee.a,I.r,I.i],encapsulation:2,changeDetection:0}),e})();function LE(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"p",6),L.Pc(2,"Buying Rate (Direct)"),L.Vb(),L.Wb(3,"div",7),L.Wb(4,"button",8),L.fc("click",(function(){return L.Fc(e),L.hc().onModifyDirect()})),L.Pc(5," Modify "),L.Vb(),L.Vb(),L.Tb()}}function _E(e,t){1&e&&(L.Wb(0,"p",6),L.Pc(1,"Buying Rate (3rd Party)"),L.Vb())}function $E(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"div",9),L.Wb(2,"table"),L.Wb(3,"caption"),L.Pc(4," Buying Rate (Direct) "),L.Vb(),L.Wb(5,"colgroup"),L.Rb(6,"col",10),L.Rb(7,"col",11),L.Rb(8,"col",10),L.Rb(9,"col"),L.Vb(),L.Wb(10,"tbody"),L.Wb(11,"tr"),L.Wb(12,"th",12),L.Pc(13,"V. Currency"),L.Vb(),L.Wb(14,"td"),L.Pc(15),L.Vb(),L.Wb(16,"th",12),L.Pc(17,"V. Contract Amt"),L.Vb(),L.Wb(18,"td"),L.Pc(19),L.ic(20,"number"),L.Vb(),L.Vb(),L.Wb(21,"tr"),L.Wb(22,"th",12),L.Pc(23,"V. Net Amt"),L.Vb(),L.Wb(24,"td"),L.Pc(25),L.ic(26,"number"),L.Vb(),L.Wb(27,"th",12),L.Pc(28,"V. Selling Net Amt"),L.Vb(),L.Wb(29,"td"),L.Pc(30),L.ic(31,"number"),L.Vb(),L.Vb(),L.Wb(32,"tr"),L.Wb(33,"th",12),L.Pc(34,"V. Extra Tax Amt"),L.Vb(),L.Wb(35,"td"),L.Pc(36),L.ic(37,"number"),L.Vb(),L.Wb(38,"th",12),L.Pc(39,"V. MSP Amt"),L.Vb(),L.Wb(40,"td"),L.Pc(41),L.ic(42,"number"),L.Vb(),L.Vb(),L.Wb(43,"tr"),L.Wb(44,"th",12),L.Pc(45,"V. Gross Amt"),L.Vb(),L.Wb(46,"td"),L.Pc(47),L.ic(48,"number"),L.Vb(),L.Wb(49,"th",12),L.Pc(50,"V. Add Amt"),L.Vb(),L.Wb(51,"td"),L.Pc(52),L.ic(53,"number"),L.Vb(),L.Vb(),L.Wb(54,"tr"),L.Wb(55,"th",12),L.Pc(56,"V. CXL Charge Amt"),L.Vb(),L.Wb(57,"td"),L.Pc(58),L.ic(59,"number"),L.Vb(),L.Wb(60,"th",12),L.Pc(61,"V. Revenue Amt"),L.Vb(),L.Wb(62,"td"),L.Pc(63),L.ic(64,"number"),L.Vb(),L.Vb(),L.Wb(65,"tr"),L.Wb(66,"th",12),L.Pc(67,"V. Sum Amt"),L.Vb(),L.Wb(68,"td"),L.Pc(69),L.ic(70,"number"),L.Vb(),L.Wb(71,"th",12),L.Pc(72,"V. Balance"),L.Vb(),L.Wb(73,"td"),L.Pc(74),L.ic(75,"number"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(76,"p",13),L.Pc(77,"Gross | Comm Rate : 15% | Extra Tax Payment : Y"),L.Vb(),L.Tb()),2&e){const e=L.hc();L.Cb(15),L.Qc(null==e.vendorInfo?null:e.vendorInfo.vendorCurrencyCode),L.Cb(4),L.Qc(L.jc(20,12,null==e.vendorInfo?null:e.vendorInfo.vendorContractAmount)),L.Cb(6),L.Qc(L.jc(26,14,null==e.vendorInfo?null:e.vendorInfo.vendorNetAmount)),L.Cb(5),L.Qc(L.jc(31,16,null==e.vendorInfo?null:e.vendorInfo.vendorSellingNetAmount)),L.Cb(6),L.Qc(L.jc(37,18,null==e.vendorInfo?null:e.vendorInfo.vendorTaxAmount)),L.Cb(5),L.Qc(L.jc(42,20,null==e.vendorInfo?null:e.vendorInfo.vendorMspAmount)),L.Cb(6),L.Qc(L.jc(48,22,null==e.vendorInfo?null:e.vendorInfo.vendorGrossAmount)),L.Cb(5),L.Qc(L.jc(53,24,null==e.vendorInfo?null:e.vendorInfo.vendorAddAmount)),L.Cb(6),L.Qc(L.jc(59,26,null==e.vendorInfo?null:e.vendorInfo.vendorCancelChargeAmount)),L.Cb(5),L.Qc(L.jc(64,28,null==e.vendorInfo?null:e.vendorInfo.vendorRevenueAmount)),L.Cb(6),L.Qc(L.jc(70,30,null==e.vendorInfo?null:e.vendorInfo.vendorSumAmount)),L.Cb(5),L.Qc(L.jc(75,32,null==e.vendorInfo?null:e.vendorInfo.vendorBalanceAmount))}}function BE(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"form",14),L.Wb(2,"div",9),L.Wb(3,"table"),L.Wb(4,"caption"),L.Pc(5," Buying Rate (3rd Party) "),L.Vb(),L.Wb(6,"colgroup"),L.Rb(7,"col",10),L.Rb(8,"col",11),L.Rb(9,"col",10),L.Rb(10,"col"),L.Vb(),L.Wb(11,"tbody"),L.Wb(12,"tr"),L.Wb(13,"th",12),L.Pc(14,"V. Currency"),L.Vb(),L.Wb(15,"td"),L.Pc(16),L.Vb(),L.Wb(17,"th",12),L.Pc(18,"V. Add Amt"),L.Vb(),L.Wb(19,"td"),L.Rb(20,"app-input-text",15),L.Vb(),L.Vb(),L.Wb(21,"tr"),L.Wb(22,"th",12),L.Pc(23,"V. Net Amt"),L.Vb(),L.Wb(24,"td"),L.Rb(25,"app-input-text",16),L.Vb(),L.Wb(26,"th",12),L.Pc(27,"V. CXL Charge Amt"),L.Vb(),L.Wb(28,"td"),L.Rb(29,"app-input-text",17),L.Vb(),L.Vb(),L.Wb(30,"tr"),L.Wb(31,"th",12),L.Pc(32,"V. Extra Tax Amt"),L.Vb(),L.Wb(33,"td"),L.Rb(34,"app-input-text",18),L.Vb(),L.Wb(35,"th",12),L.Pc(36,"V. Revenue Amt"),L.Vb(),L.Wb(37,"td"),L.Pc(38),L.ic(39,"number"),L.Vb(),L.Vb(),L.Wb(40,"tr"),L.Wb(41,"th",12),L.Pc(42,"V. Gross Amt"),L.Vb(),L.Wb(43,"td"),L.Rb(44,"app-input-text",19),L.Vb(),L.Wb(45,"th",12),L.Pc(46,"V. Balance Amt"),L.Vb(),L.Wb(47,"td"),L.Pc(48),L.ic(49,"number"),L.Vb(),L.Vb(),L.Wb(50,"tr"),L.Wb(51,"th",12),L.Pc(52,"V. Sum Amt"),L.Vb(),L.Wb(53,"td",20),L.Pc(54),L.ic(55,"number"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Tb()),2&e){const e=L.hc();L.Cb(1),L.pc("formGroup",e.putForm)("connectForm",e.putFormData),L.Cb(15),L.Qc(null==e.vendorInfo?null:e.vendorInfo.vendorCurrencyCode),L.Cb(4),L.pc("isInvalid",e.checkIsInvalid("vendorAddAmount")),L.Cb(5),L.pc("isInvalid",e.checkIsInvalid("vendorNetAmount"))("disabled",!0),L.Cb(4),L.pc("isInvalid",e.checkIsInvalid("vendorCancelChargeAmount")),L.Cb(5),L.pc("isInvalid",e.checkIsInvalid("vendorTaxAmount"))("disabled",!0),L.Cb(4),L.Rc(" ",L.jc(39,14,null==e.vendorInfo?null:e.vendorInfo.vendorRevenueAmount)," "),L.Cb(6),L.pc("isInvalid",e.checkIsInvalid("vendorGrossAmount"))("disabled",!0),L.Cb(4),L.Rc(" ",L.jc(49,16,null==e.vendorInfo?null:e.vendorInfo.vendorBalanceAmount)," "),L.Cb(6),L.Rc(" ",L.jc(55,18,null==e.vendorInfo?null:e.vendorInfo.vendorSumAmount)," ")}}function wE(e,t){if(1&e){const e=L.Xb();L.Wb(0,"div",21),L.Wb(1,"button",8),L.fc("click",(function(){return L.Fc(e),L.hc().onSubmitThirdParty()})),L.Pc(2,"Save"),L.Vb(),L.Vb()}}function xE(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-hotel-direct-form",22),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().modifyDirectEventHandler(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().closeDirectModalEventHandler()})),L.Vb()}if(2&e){const e=L.hc();L.pc("nightly",e.vendorInfo.nightly)}}let YE=(()=>{class e{constructor(e){this._dataService=e,this.submitThirdPartyEvent=new L.n,this.modifyDirectEvent=new L.n,this.isOpenDetailPopup=!1}ngOnInit(){this.putForm=this._generatePutForm()}ngOnChanges(e){e.vendorInfo&&(this.putFormData=this._setFormData(this.vendorInfo))}ngOnDestroy(){}onModifyDirect(){!1!==this.directYn?this.isOpenDetailPopup=!0:console.error("Modify is only available for direct contract, When you see this message, report this error to developer")}onSubmitThirdParty(){if(this.putForm.invalid)this._checkValid=!0;else if(!1===this.directYn){const e=this.putForm.getRawValue();this.submitThirdPartyEvent.emit(e)}else console.error("Save button is only available for 3rd party contract, When you see this message, report this error to developer")}checkIsInvalid(e){return this._checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}closeDirectModalEventHandler(){this.isOpenDetailPopup=!1}modifyDirectEventHandler(e){this.modifyDirectEvent.emit({bookingItemCode:this.bookingItemCode,nightly:e})}_setFormData(e){if(this.directYn)return null;const t=this._dataService.initPriceDetailVendorThirdParty();return Q.isNil(e)?t:Object.assign({},t,Q.pick(e,Object.keys(t)),{bookingItemCode:this.bookingItemCode})}_generatePutForm(){if(!Q.isNil(this.directYn))return this.directYn?null:this._dataService.generatePriceDetailVendorThirdParty();console.error("directYn is null or undefined",this.directYn)}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(xS))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-price-detail-vendor"]],inputs:{bookingItemCode:"bookingItemCode",directYn:"directYn",vendorInfo:"vendorInfo"},outputs:{submitThirdPartyEvent:"submitThirdPartyEvent",modifyDirectEvent:"modifyDirectEvent"},features:[L.Ab],decls:8,vars:8,consts:[[1,"page-item-header"],[4,"ngIf"],["class","title",4,"ngIf"],["class","button-area align-r mt10",4,"ngIf"],["modalSize","md","modalContentClass","pd-all","header","Buying Rate Details & Modify",3,"visible","modal","visibleChange"],[3,"nightly","submitEvent","closeEvent",4,"ngIf"],[1,"title"],[1,"ml-auto"],["type","button",1,"btn","btn-secondary","sm",3,"click"],[1,"table","table-bordered","table-responsive"],["width","150px"],["width","40%"],["scope","row",1,"th-bg","align-l"],[1,"font-size-xs","ml5"],[3,"formGroup","connectForm"],["formControlName","vendorAddAmount","inputFormat","number","valueType","number",3,"isInvalid"],["formControlName","vendorNetAmount","inputFormat","number","valueType","number",3,"isInvalid","disabled"],["formControlName","vendorCancelChargeAmount","inputFormat","number","valueType","number",3,"isInvalid"],["formControlName","vendorTaxAmount","inputFormat","number","valueType","number",3,"isInvalid","disabled"],["formControlName","vendorGrossAmount","inputFormat","number","valueType","number",3,"isInvalid","disabled"],["rowspan","2"],[1,"button-area","align-r","mt10"],[3,"nightly","submitEvent","closeEvent"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Nc(1,LE,6,0,"ng-container",1),L.Nc(2,_E,2,0,"p",2),L.Vb(),L.Nc(3,$E,78,34,"ng-container",1),L.Nc(4,BE,56,20,"ng-container",1),L.Nc(5,wE,3,0,"div",3),L.Wb(6,"app-dialog",4),L.fc("visibleChange",(function(){return t.closeDirectModalEventHandler()})),L.Nc(7,xE,1,1,"app-reservation-hotel-direct-form",5),L.Vb()),2&e&&(L.Cb(1),L.pc("ngIf",t.directYn),L.Cb(1),L.pc("ngIf",!t.directYn),L.Cb(1),L.pc("ngIf",!0===t.directYn),L.Cb(1),L.pc("ngIf",!1===t.directYn),L.Cb(1),L.pc("ngIf",!1===t.directYn),L.Cb(1),L.pc("visible",t.isOpenDetailPopup)("modal",!0),L.Cb(1),L.pc("ngIf",t.isOpenDetailPopup))},directives:[k.o,un.a,I.B,I.s,I.k,J.a,ee.a,I.r,I.i,DE],pipes:[k.f],encapsulation:2,changeDetection:0}),e})();function HE(e,t){if(1&e&&(L.Wb(0,"tr"),L.Wb(1,"td",2),L.Pc(2),L.Vb(),L.Wb(3,"td",2),L.Pc(4),L.Vb(),L.Wb(5,"td",2),L.Pc(6),L.ic(7,"number"),L.Vb(),L.Vb()),2&e){const e=t.$implicit;L.Cb(2),L.Rc(" ",e.roomNo," "),L.Cb(2),L.Rc(" ",e.appliedDate," "),L.Cb(2),L.Rc(" ",L.jc(7,3,e.billingProductAmount)," ")}}function qE(e,t){if(1&e&&(L.Ub(0),L.Nc(1,HE,8,5,"tr",4),L.Tb()),2&e){const e=t.$implicit;L.Cb(1),L.pc("ngForOf",e.amount)}}let UE=(()=>{class e{constructor(){this.closeEvent=new L.n}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-selling-rate"]],inputs:{nightly:"nightly"},outputs:{closeEvent:"closeEvent"},decls:24,vars:1,consts:[[1,"component-wrap"],[1,"table","table-bordered"],[1,"align-c"],["scope","col"],[4,"ngFor","ngForOf"],[1,"justify-content-between","mt10"],[1,"button-area","align-r"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"form"),L.Wb(2,"div",1),L.Wb(3,"table"),L.Wb(4,"caption"),L.Pc(5," Selling Rate Details "),L.Vb(),L.Wb(6,"colgroup"),L.Rb(7,"col"),L.Rb(8,"col"),L.Rb(9,"col"),L.Vb(),L.Wb(10,"thead"),L.Wb(11,"tr",2),L.Wb(12,"th",3),L.Pc(13,"Rooms"),L.Vb(),L.Wb(14,"th",3),L.Pc(15,"Date"),L.Vb(),L.Wb(16,"th",3),L.Pc(17,"Billing Product Amt"),L.Vb(),L.Vb(),L.Vb(),L.Wb(18,"tbody"),L.Nc(19,qE,2,1,"ng-container",4),L.Vb(),L.Vb(),L.Vb(),L.Wb(20,"div",5),L.Wb(21,"div",6),L.Wb(22,"button",7),L.fc("click",(function(){return t.closeEvent.emit()})),L.Pc(23,"Close"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(19),L.pc("ngForOf",t.nightly))},directives:[I.B,I.s,I.t,k.n],pipes:[k.f],encapsulation:2}),e})();function QE(e,t){1&e&&(L.Wb(0,"th",6),L.Pc(1,"B. Product Amt "),L.Vb())}function GE(e,t){if(1&e){const e=L.Xb();L.Wb(0,"th",22),L.Wb(1,"a",23),L.fc("click",(function(){return L.Fc(e),L.hc().onDetail()})),L.Pc(2,"B. Product Amt"),L.Vb(),L.Vb()}}function KE(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-selling-rate",24),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().closeModal()})),L.Vb()}if(2&e){const e=L.hc();L.pc("nightly",e.billingInfo.nightly)}}let zE=(()=>{class e{constructor(e){this._dataService=e,this.submitEvent=new L.n,this.modalFlag=!1,this.putForm=e.generatePriceDetailSales()}get billingInfo(){return this._billingInfo}set billingInfo(e){this._billingInfo=e,this.putFormData=this._setFormData(e)}get vendorInfo(){return this._vendorInfo}set vendorInfo(e){this._vendorInfo=e,this.putForm.patchValue({markupValue:e.markupValue})}ngOnInit(){}ngOnDestroy(){}onSubmit(){this.putForm.invalid?this._checkValid=!0:this.submitEvent.emit({bookingItemCode:this.bookingItemCode,billingAddAmount:this.putForm.value.billingAddAmount,billingCancelChargeAmount:this.putForm.value.billingCancelChargeAmount,billingOthersAmount:this.putForm.value.billingOthersAmount})}checkIsInvalid(e){return this._checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}onDetail(){this.modalFlag=!0}closeModal(){this.modalFlag=!1}_setFormData(e){const t=this._dataService.initPriceDetailSales();if(Q.isNil(t))return t;const n=(null==e?void 0:e.addAdjustAmount)||0,i=(null==e?void 0:e.cancelChargeAdjustAmount)||0;return Object.assign({},t,Q.pick(e,Object.keys(t)),{bookingItemCode:this.bookingItemCode,addAdjustAmount:n,cancelChargeAdjustAmount:i})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(xS))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-price-detail-sales"]],inputs:{bookingItemCode:"bookingItemCode",directYn:"directYn",billingInfo:"billingInfo",vendorInfo:"vendorInfo"},outputs:{submitEvent:"submitEvent"},decls:97,vars:30,consts:[[1,"page-item-header"],[1,"title"],[3,"formGroup","connectForm"],[1,"table","table-bordered","table-responsive"],["width","150px"],["width","40%"],["scope","row",1,"th-bg","align-l"],["formControlName","billingNetAmount","inputFormat","number","valueType","number",3,"isInvalid","disabled"],["formControlName","billingMarkupAmount","inputFormat","number","valueType","number",3,"isInvalid","disabled"],["formControlName","billingGrossAmount","inputFormat","number","valueType","number",3,"isInvalid","disabled"],["formControlName","billingAddAmount","inputFormat","number","valueType","number",3,"isInvalid"],["formControlName","billingTaxAmount","inputFormat","number","valueType","number",3,"isInvalid","disabled"],["formControlName","billingCancelChargeAmount","inputFormat","number","valueType","number",3,"isInvalid"],["scope","row","class","th-bg align-l",4,"ngIf"],["scope","row","class","th-bg align-l text-underline",4,"ngIf"],["formControlName","billingProductAmount","inputFormat","number","valueType","number",3,"isInvalid","disabled"],["formControlName","billingPromotionAmount","inputFormat","number","valueType","number",3,"isInvalid","disabled"],["formControlName","billingSumAmount","inputFormat","number","valueType","number",3,"isInvalid","disabled"],[1,"button-area","align-r","mt10"],["type","button",1,"btn","btn-secondary","sm",3,"click"],["modalSize","sm","modalContentClass","pd-all","header","Selling Rate Details",3,"modal","visible","visibleChange"],[3,"nightly","closeEvent",4,"ngIf"],["scope","row",1,"th-bg","align-l","text-underline"],[3,"click"],[3,"nightly","closeEvent"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Selling Rate"),L.Vb(),L.Vb(),L.Wb(3,"form",2),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," Selling Rate "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col",4),L.Rb(10,"col",5),L.Rb(11,"col",4),L.Rb(12,"col"),L.Vb(),L.Wb(13,"tbody"),L.Wb(14,"tr"),L.Wb(15,"th",6),L.Pc(16,"B. Currency"),L.Vb(),L.Wb(17,"td"),L.Pc(18),L.Vb(),L.Wb(19,"th",6),L.Pc(20,"Curr. Convert Rate"),L.Vb(),L.Wb(21,"td"),L.Pc(22),L.Vb(),L.Vb(),L.Wb(23,"tr"),L.Wb(24,"th",6),L.Pc(25,"B. Net Amt"),L.Vb(),L.Wb(26,"td"),L.Rb(27,"app-input-text",7),L.Vb(),L.Wb(28,"th",6),L.Pc(29,"B. M/U Amt"),L.Vb(),L.Wb(30,"td"),L.Rb(31,"app-input-text",8),L.Vb(),L.Vb(),L.Wb(32,"tr"),L.Wb(33,"th",6),L.Pc(34,"B. Gross Amt"),L.Vb(),L.Wb(35,"td"),L.Rb(36,"app-input-text",9),L.Vb(),L.Wb(37,"th",6),L.Pc(38,"B. Add Amt"),L.Vb(),L.Wb(39,"td"),L.Rb(40,"app-input-text",10),L.Vb(),L.Vb(),L.Wb(41,"tr"),L.Wb(42,"th",6),L.Pc(43,"B. Extra Tax Amt"),L.Vb(),L.Wb(44,"td"),L.Rb(45,"app-input-text",11),L.Vb(),L.Wb(46,"th",6),L.Pc(47,"B. CXL Charge Amt"),L.Vb(),L.Wb(48,"td"),L.Rb(49,"app-input-text",12),L.Vb(),L.Vb(),L.Wb(50,"tr"),L.Nc(51,QE,2,0,"th",13),L.Nc(52,GE,3,0,"th",14),L.Wb(53,"td"),L.Rb(54,"app-input-text",15),L.Vb(),L.Wb(55,"th",6),L.Pc(56,"B. Promotion Amt"),L.Vb(),L.Wb(57,"td"),L.Rb(58,"app-input-text",16),L.Vb(),L.Vb(),L.Wb(59,"tr"),L.Wb(60,"th",6),L.Pc(61,"B. Sum Amt"),L.Vb(),L.Wb(62,"td"),L.Rb(63,"app-input-text",17),L.Vb(),L.Wb(64,"th",6),L.Pc(65,"B. Revenue"),L.Vb(),L.Wb(66,"td"),L.Pc(67),L.ic(68,"number"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(69,"div",18),L.Wb(70,"button",19),L.fc("click",(function(){return t.onSubmit()})),L.Pc(71,"Save"),L.Vb(),L.Vb(),L.Wb(72,"div"),L.Wb(73,"div",0),L.Wb(74,"p",1),L.Pc(75,"Affiliate Commission Rate"),L.Vb(),L.Vb(),L.Wb(76,"div",3),L.Wb(77,"table"),L.Wb(78,"caption"),L.Pc(79," Affiliate Commission Rate "),L.Vb(),L.Wb(80,"colgroup"),L.Rb(81,"col",4),L.Rb(82,"col",5),L.Rb(83,"col",4),L.Rb(84,"col"),L.Vb(),L.Wb(85,"tbody"),L.Wb(86,"tr"),L.Wb(87,"th",6),L.Pc(88,"Comm Rate (%)"),L.Vb(),L.Wb(89,"td"),L.Pc(90),L.Vb(),L.Wb(91,"th",6),L.Pc(92,"Comm Amount"),L.Vb(),L.Wb(93,"td"),L.Pc(94),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(95,"app-dialog",20),L.fc("visibleChange",(function(){return t.closeModal()})),L.Nc(96,KE,1,1,"app-reservation-selling-rate",21),L.Vb()),2&e&&(L.Cb(3),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(15),L.Qc(null==t.billingInfo?null:t.billingInfo.billingCurrencyCode),L.Cb(4),L.Qc(null==t.billingInfo?null:t.billingInfo.convertRateValue),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("billingNetAmount"))("disabled",!0),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("billingMarkupAmount"))("disabled",!0),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("billingGrossAmount"))("disabled",!0),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("billingAddAmount")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("billingTaxAmount"))("disabled",!0),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("billingCancelChargeAmount")),L.Cb(2),L.pc("ngIf",!t.directYn||0===t.billingInfo.nightly.length),L.Cb(1),L.pc("ngIf",t.directYn&&0!==t.billingInfo.nightly.length),L.Cb(2),L.pc("isInvalid",t.checkIsInvalid("billingProductAmount"))("disabled",!0),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("billingPromotionAmount"))("disabled",!0),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("billingSumAmount"))("disabled",!0),L.Cb(4),L.Qc(L.jc(68,28,null==t.billingInfo?null:t.billingInfo.billingRevenueAmount)),L.Cb(23),L.Qc(null==t.billingInfo?null:t.billingInfo.sellerCommRate),L.Cb(4),L.Qc(null==t.billingInfo?null:t.billingInfo.sellerCommAmount),L.Cb(1),L.pc("modal",!0)("visible",t.modalFlag),L.Cb(1),L.pc("ngIf",t.modalFlag))},directives:[I.B,I.s,I.k,J.a,ee.a,I.r,I.i,k.o,un.a,UE],pipes:[k.f],encapsulation:2,changeDetection:0}),e})(),XE=(()=>{class e{constructor(e){this.store=e,this.submitEvent=new L.n,this._subscribeStore()}ngOnInit(){}saveHotelAmountVendorHandler(e){this.store.dispatch(m.saveAmountVendorAction({condition:e}))}saveHotelAmountSalesHandler(e){this.store.dispatch(m.saveAmountSalesAction({condition:e}))}_subscribeStore(){this.amountInfo$=this.store.pipe(Object(P.u)(xI)),this.summary$=this.store.pipe(Object(P.u)(kI)),this.bookingInfo$=this.store.pipe(Object(P.u)(II))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-price-detail"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",bookingItemCode:"bookingItemCode"},outputs:{submitEvent:"submitEvent"},decls:9,vars:17,consts:[[1,"page-item"],[3,"bookingItemCode","vendorInfo","directYn","submitThirdPartyEvent","modifyDirectEvent"],[3,"bookingItemCode","directYn","billingInfo","vendorInfo","submitEvent"]],template:function(e,t){if(1&e&&(L.Wb(0,"div",0),L.Wb(1,"app-reservation-hotel-price-detail-vendor",1),L.fc("submitThirdPartyEvent",(function(e){return t.saveHotelAmountVendorHandler(e)}))("modifyDirectEvent",(function(e){return t.saveHotelAmountVendorHandler(e)})),L.ic(2,"async"),L.ic(3,"async"),L.Vb(),L.Vb(),L.Wb(4,"div",0),L.Wb(5,"app-reservation-hotel-price-detail-sales",2),L.fc("submitEvent",(function(e){return t.saveHotelAmountSalesHandler(e)})),L.ic(6,"async"),L.ic(7,"async"),L.ic(8,"async"),L.Vb(),L.Vb()),2&e){var n;const e=null==(n=L.jc(2,7,t.amountInfo$))?null:n.vendorInfo;var i;const s=null==(i=L.jc(3,9,t.bookingInfo$))?null:i.directYn;var o;const r=null==(o=L.jc(6,11,t.bookingInfo$))?null:o.directYn;var a;const l=null==(a=L.jc(7,13,t.amountInfo$))?null:a.billingInfo;var c;const d=null==(c=L.jc(8,15,t.amountInfo$))?null:c.vendorInfo;L.Cb(1),L.pc("bookingItemCode",t.bookingItemCode)("vendorInfo",e)("directYn",s),L.Cb(4),L.pc("bookingItemCode",t.bookingItemCode)("directYn",r)("billingInfo",l)("vendorInfo",d)}},directives:[YE,zE],pipes:[k.b],encapsulation:2,changeDetection:0}),e})(),ZE=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-retrieve-form"]],decls:68,vars:0,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title"],[1,"table","table-bordered","table-responsive"],["width","200px"],["scope","col",1,"align-c"],["scope","row",1,"th-bg"],[1,"align-c"],[1,"button-area","align-r","mt10"],["href","#",1,"btn","btn-secondary","sm"],["href","#",1,"btn","btn-light","sm"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"p",2),L.Pc(3,"\ub9ac\ud2b8\ub9ac\ube0c"),L.Vb(),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," \ub9ac\ud2b8\ub9ac\ube0c "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col",4),L.Rb(10,"col"),L.Rb(11,"col"),L.Vb(),L.Wb(12,"thead"),L.Wb(13,"tr"),L.Wb(14,"th",5),L.Pc(15,"\ub0b4\uc6a9"),L.Vb(),L.Wb(16,"th",5),L.Pc(17,"Retrieve \uc804"),L.Vb(),L.Wb(18,"th",5),L.Pc(19,"Retrieve \ud6c4"),L.Vb(),L.Vb(),L.Vb(),L.Wb(20,"tbody"),L.Wb(21,"tr"),L.Wb(22,"th",6),L.Pc(23,"\uc608\uc57d\uc0c1\ud0dc"),L.Vb(),L.Wb(24,"td",7),L.Pc(25,"\ubbf8\uc804\uc1a1"),L.Vb(),L.Wb(26,"td",7),L.Pc(27,"\ud655\uc815"),L.Vb(),L.Vb(),L.Wb(28,"tr"),L.Wb(29,"th",6),L.Pc(30,"\uacf5\uae09\uc790 \uc608\uc57d\ucf54\ub4dc"),L.Vb(),L.Wb(31,"td",7),L.Pc(32,"123-456789"),L.Vb(),L.Wb(33,"td",7),L.Pc(34,"123-456789"),L.Vb(),L.Vb(),L.Wb(35,"tr"),L.Wb(36,"th",6),L.Pc(37,"\uc694\uae08"),L.Vb(),L.Wb(38,"td",7),L.Pc(39,"USD 100.00"),L.Vb(),L.Wb(40,"td",7),L.Pc(41,"USD 100.00"),L.Vb(),L.Vb(),L.Wb(42,"tr"),L.Wb(43,"th",6),L.Pc(44,"\uac1d\uc2e4\uba85"),L.Vb(),L.Wb(45,"td",7),L.Pc(46,"Double King or Twin Standard with Free Wifi & Non Smoking"),L.Vb(),L.Wb(47,"td",7),L.Pc(48,"Double King or Twin Standard with Free Wifi & Non Smoking"),L.Vb(),L.Vb(),L.Wb(49,"tr"),L.Wb(50,"th",6),L.Pc(51,"\uc219\ubc15\uae30\uac04"),L.Vb(),L.Wb(52,"td",7),L.Pc(53,"2019-12-12(\ubaa9) ~ 2019-12-15(\uc6d4)"),L.Vb(),L.Wb(54,"td",7),L.Pc(55,"2019-12-12(\ubaa9) ~ 2019-12-15(\uc6d4)"),L.Vb(),L.Vb(),L.Wb(56,"tr"),L.Wb(57,"th",6),L.Pc(58,"\uacf5\uae09\uc790 \ucde8\uc18c\ub9c8\uac10\uc77c"),L.Vb(),L.Wb(59,"td",7),L.Pc(60,"2020-01-01(\uc218) 23:59:59"),L.Vb(),L.Wb(61,"td",7),L.Pc(62,"2020-01-01(\uc218) 23:59:59"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(63,"div",8),L.Wb(64,"a",9),L.Pc(65,"\uc800\uc7a5"),L.Vb(),L.Wb(66,"a",10),L.Pc(67,"\ucde8\uc18c"),L.Vb(),L.Vb(),L.Vb())},encapsulation:2,changeDetection:0}),e})(),JE=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-retrieve"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active"},decls:1,vars:0,template:function(e,t){1&e&&L.Rb(0,"app-reservation-hotel-retrieve-form")},directives:[ZE],encapsulation:2,changeDetection:0}),e})(),eM=(()=>{class e{constructor(e){this.alertService=e}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-policy-monitoring-info"]],inputs:{policyMonitoringInfo:"policyMonitoringInfo"},decls:43,vars:7,consts:[[1,"page-item-header"],[1,"title"],[1,"control"],[1,"table","table-bordered","table-responsive"],["scope","col",1,"align-c"],[1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"\ucd9c\uc7a5\uaddc\uc815"),L.Vb(),L.Rb(3,"div",2),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," \ucd9c\uc7a5\uaddc\uc815 "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Rb(13,"col"),L.Rb(14,"col"),L.Vb(),L.Wb(15,"thead"),L.Wb(16,"tr"),L.Wb(17,"th",4),L.Pc(18,"\ucd9c\uc7a5\uaddc\uc815\uba85"),L.Vb(),L.Wb(19,"th",4),L.Pc(20,"\ubd80\uc11c"),L.Vb(),L.Wb(21,"th",4),L.Pc(22,"\uc9c1\uae09\uadf8\ub8f9"),L.Vb(),L.Wb(23,"th",4),L.Pc(24,"\uc9c1\uae09"),L.Vb(),L.Wb(25,"th",4),L.Pc(26,"\ucd9c\uc7a5\uaddc\uc815"),L.Vb(),L.Wb(27,"th",4),L.Pc(28,"\uc608\uc678\uaddc\uc815"),L.Vb(),L.Vb(),L.Vb(),L.Wb(29,"tbody"),L.Wb(30,"tr"),L.Wb(31,"td",5),L.Pc(32),L.Vb(),L.Wb(33,"td",5),L.Pc(34),L.Vb(),L.Wb(35,"td",5),L.Pc(36),L.Vb(),L.Wb(37,"td",5),L.Pc(38),L.Vb(),L.Wb(39,"td",5),L.Pc(40),L.Vb(),L.Wb(41,"td",5),L.Pc(42),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(32),L.Qc(null==t.policyMonitoringInfo?null:t.policyMonitoringInfo.policyMasterName),L.Cb(2),L.Qc(null==t.policyMonitoringInfo?null:t.policyMonitoringInfo.corporateDeptName),L.Cb(2),L.Qc(null==t.policyMonitoringInfo?null:t.policyMonitoringInfo.positionGroupName),L.Cb(2),L.Qc(null==t.policyMonitoringInfo?null:t.policyMonitoringInfo.positionName),L.Cb(2),L.Sc("1\ubc15\ub2f9 ",null==t.policyMonitoringInfo?null:t.policyMonitoringInfo.policyLimitAmount," ",null==t.policyMonitoringInfo?null:t.policyMonitoringInfo.policyCurrencyCode,""),L.Cb(2),L.Qc(null==t.policyMonitoringInfo?null:t.policyMonitoringInfo.exceptionGradeName))},encapsulation:2,changeDetection:0}),e})(),tM=(()=>{class e{constructor(e,t){this._dataService=e,this._alertService=t,this.submitEvent=new L.n,this.putForm=e.generatePolicyMonitoringOutOfPolicyPutForm(),this.putFormData=e.initPolicyMonitoringOutOfPolicyPutForm()}get policyMonitoringInfo(){return this._policyMonitoringInfo}set policyMonitoringInfo(e){this._policyMonitoringInfo=e,this.putFormData=this._setFormData(e)}ngOnInit(){this.checkValid=!1}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}onSubmit(){if(this.putForm.invalid)return void(this.checkValid=!0);const e=Object.assign(Object.assign({},this.putForm.value),{bookingItemCode:this.bookingItemCode});this.submitEvent.emit(e)}_setFormData(e){const t=this._dataService.initPolicyMonitoringOutOfPolicyPutForm();return Q.isNil(e)?Object.assign({},t):Object.assign({},Q.pick(e,Object.keys(t)))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(xS),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-policy-monitoring-out-of-policy"]],inputs:{policyMonitoringInfo:"policyMonitoringInfo",corporateReasonList:"corporateReasonList",bookingItemCode:"bookingItemCode"},outputs:{submitEvent:"submitEvent"},decls:28,vars:5,consts:[[1,"page-item-header"],[1,"title"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","120px"],["scope","row",1,"th-bg"],["colspan","3"],[1,"form-group"],["formControlName","outOfPolicyYn","name","recommendYn","label","\uaddc\uc815\uc801\ud569",3,"value"],["formControlName","outOfPolicyYn","name","recommendYn","label","\uaddc\uc815\uc704\ubc18",3,"value"],["formControlName","outOfPolicyReasonSeq","useAllOptionName","__\uc0ac\uc720__","dataKey","policyReasonSeq","displayKey","policyReasonTitleLn",1,"ml10",3,"options"],["formControlName","outOfPolicyReasonComment"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"\uaddc\uc815\uc704\ubc18"),L.Vb(),L.Vb(),L.Wb(3,"form",2),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," \uaddc\uc815\uc704\ubc18 "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col",4),L.Rb(10,"col"),L.Vb(),L.Wb(11,"tbody"),L.Wb(12,"tr"),L.Wb(13,"th",5),L.Pc(14,"\ucd9c\uc7a5\uaddc\uc815 \uccb4\ud06c"),L.Vb(),L.Wb(15,"td",6),L.Wb(16,"div",7),L.Rb(17,"app-radio",8),L.Rb(18,"app-radio",9),L.Rb(19,"app-selectbox",10),L.Vb(),L.Vb(),L.Vb(),L.Wb(20,"tr"),L.Wb(21,"th",5),L.Pc(22,"\uae30\ud0c0\uc704\ubc18\uc0ac\uc720"),L.Vb(),L.Wb(23,"td",6),L.Rb(24,"app-input-text",11),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(25,"div",12),L.Wb(26,"button",13),L.Pc(27,"\uc800\uc7a5"),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(3),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(14),L.pc("value",!1),L.Cb(1),L.pc("value",!0),L.Cb(1),L.pc("options",t.corporateReasonList))},directives:[I.B,I.s,I.k,J.a,cS.a,I.r,I.i,Se.a,ee.a],encapsulation:2,changeDetection:0}),e})(),nM=(()=>{class e{constructor(e,t,n){this.alertService=e,this.store=t,this.authStore=n}ngOnInit(){this._subscribeStore()}savePolicyMonitoringHandler(e){this.store.dispatch(m.savePolicyMonitoringInfoAction({condition:e}))}_subscribeStore(){this.loginUser$=this.authStore.pipe(Object(P.u)(Xe.r)),this.policyMonitoringInfo$=this.store.pipe(Object(P.u)(HI)),this.corporateReasonList$=this.store.pipe(Object(P.u)(wI))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a),L.Qb(P.h),L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-policy-monitoring"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",bookingItemCode:"bookingItemCode"},decls:7,vars:10,consts:[[1,"page-item"],[3,"policyMonitoringInfo"],[3,"bookingItemCode","policyMonitoringInfo","corporateReasonList","submitEvent"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Rb(1,"app-reservation-hotel-policy-monitoring-info",1),L.ic(2,"async"),L.Vb(),L.Wb(3,"div",0),L.Wb(4,"app-reservation-hotel-policy-monitoring-out-of-policy",2),L.fc("submitEvent",(function(e){return t.savePolicyMonitoringHandler(e)})),L.ic(5,"async"),L.ic(6,"async"),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("policyMonitoringInfo",L.jc(2,4,t.policyMonitoringInfo$)),L.Cb(3),L.pc("bookingItemCode",t.bookingItemCode)("policyMonitoringInfo",L.jc(5,6,t.policyMonitoringInfo$))("corporateReasonList",L.jc(6,8,t.corporateReasonList$)))},directives:[eM,tM],pipes:[k.b],encapsulation:2,changeDetection:0}),e})(),iM=(()=>{class e{constructor(e){this._dataService=e,this.submitEvent=new L.n,this.closeEvent=new L.n,this.checkValid=!1,this.putForm=e.generateVendorIssuePutForm()}ngOnInit(){const e=K()(this.bookingInfo.checkOutDate).add(5,"days").format("YYYY-MM-DD");this.putForm.get("paidAmount").setValue(this.amountInfo.vendorInfo.vendorBalanceAmount),this.putForm.get("vccApprovalFromDatetime").setValue(this.bookingInfo.checkInDate),this.putForm.get("vccApprovalToDatetime").setValue(e)}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}onSave(){if(this.putForm.invalid)return void(this.checkValid=!0);const e=this._setPutCondition();this.submitEvent.emit(Q.omitBy(e,Q.isNil))}_setPutCondition(){return this.putForm.value}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(xS))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-vendor-new-issue"]],inputs:{vccTypeList:"vccTypeList",amountInfo:"amountInfo",bookingInfo:"bookingInfo"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:50,vars:13,consts:[[1,"page-item"],[3,"formGroup"],[1,"table","table-bordered","table-responsive"],["width","200px"],["scope","row",1,"th-bg"],[1,"align-r"],["valueType","number","inputFormat","number","formControlName","paidAmount",3,"isInvalid"],["useAllOptionName","Select","formControlName","vccTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn",3,"isInvalid","options"],[1,"d-flex","align-items-center"],[1,"input","calendar"],[3,"for"],["type","text","placeholder","YYYY-MM-DD","formControlName","vccApprovalFromDatetime",3,"matDatepicker"],["vccApprovalFromDatetimePicker",""],[1,"ml5","mr5"],["type","text","placeholder","YYYY-MM-DD","formControlName","vccApprovalToDatetime",3,"matDatepicker","min"],["vccApprovalToDatetimePicker",""],["formControlName","vccIssueReason"],[1,"button-area","align-r","mt10"],[1,"btn","btn-secondary","sm",3,"click"],[1,"btn","btn-light","sm",3,"click"]],template:function(e,t){if(1&e&&(L.Wb(0,"div",0),L.Wb(1,"form",1),L.Wb(2,"div",2),L.Wb(3,"table"),L.Wb(4,"caption"),L.Pc(5," \ub9ac\ud2b8\ub9ac\ube0c "),L.Vb(),L.Wb(6,"colgroup"),L.Rb(7,"col",3),L.Rb(8,"col"),L.Vb(),L.Wb(9,"tbody"),L.Wb(10,"tr"),L.Wb(11,"th",4),L.Wb(12,"sup"),L.Pc(13,"Amounts"),L.Vb(),L.Vb(),L.Wb(14,"td",5),L.Rb(15,"app-input-text",6),L.Vb(),L.Vb(),L.Wb(16,"tr"),L.Wb(17,"th",4),L.Wb(18,"sup"),L.Pc(19,"VCC Info by Country"),L.Vb(),L.Vb(),L.Wb(20,"td",5),L.Rb(21,"app-selectbox",7),L.Vb(),L.Vb(),L.Wb(22,"tr"),L.Wb(23,"th",4),L.Wb(24,"sup"),L.Pc(25,"VCC Available Payment Period"),L.Vb(),L.Vb(),L.Wb(26,"td"),L.Wb(27,"div",8),L.Wb(28,"div",9),L.Rb(29,"mat-datepicker-toggle",10),L.Rb(30,"input",11),L.Rb(31,"mat-datepicker",null,12),L.Vb(),L.Wb(33,"span",13),L.Pc(34,"~"),L.Vb(),L.Wb(35,"div",9),L.Rb(36,"mat-datepicker-toggle",10),L.Rb(37,"input",14),L.Rb(38,"mat-datepicker",null,15),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(40,"tr"),L.Wb(41,"th",4),L.Pc(42,"Issue Reason"),L.Vb(),L.Wb(43,"td",5),L.Rb(44,"app-input-text",16),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(45,"div",17),L.Wb(46,"a",18),L.fc("click",(function(){return t.onSave()})),L.Pc(47,"Save"),L.Vb(),L.Wb(48,"a",19),L.fc("click",(function(){return t.closeEvent.emit()})),L.Pc(49,"Cancel"),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.Ec(32),n=L.Ec(39);L.Cb(1),L.pc("formGroup",t.putForm),L.Cb(14),L.pc("isInvalid",t.checkIsInvalid("paidAmount")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("vccTypeCode"))("options",t.vccTypeList),L.Cb(7),L.Gb("valid-error",t.checkIsInvalid("vccApprovalFromDatetime")),L.Cb(1),L.pc("for",e),L.Cb(1),L.pc("matDatepicker",e),L.Cb(5),L.Gb("valid-error",t.checkIsInvalid("vccApprovalToDatetime")),L.Cb(1),L.pc("for",n),L.Cb(1),L.pc("matDatepicker",n)("min",e)}},directives:[I.B,I.s,I.k,ee.a,I.r,I.i,Se.a,UW.a,I.c,QW.a,GW.a],encapsulation:2,changeDetection:0}),e})();function oM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"div",11),L.Wb(1,"button",12),L.fc("click",(function(){return L.Fc(e),L.hc().clickNew()})),L.Pc(2,"New VCN Issue"),L.Vb(),L.Vb()}}function aM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"tr"),L.Wb(1,"td",13),L.Wb(2,"a",14),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc().onDetail(n)})),L.Pc(3),L.Vb(),L.Vb(),L.Wb(4,"td",15),L.Pc(5),L.Vb(),L.Wb(6,"td",13),L.Pc(7),L.Vb(),L.Wb(8,"td",16),L.Pc(9),L.ic(10,"number"),L.Vb(),L.Wb(11,"td",13),L.Pc(12),L.Vb(),L.Vb()}if(2&e){const e=t.$implicit;L.Cb(3),L.Rc(" ",e.paymentSeq," "),L.Cb(2),L.Qc(e.depositTypeName),L.Cb(2),L.Qc(e.cardPaymentStatusName),L.Cb(2),L.Sc("",e.currencyCode," ",L.jc(10,6,e.firstDepositAmount),""),L.Cb(3),L.Qc(e.paidDate)}}function cM(e,t){1&e&&(L.Wb(0,"tr"),L.Wb(1,"td",17),L.Pc(2,"-"),L.Vb(),L.Vb())}function sM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"form",19),L.Wb(1,"div",1),L.Wb(2,"p",2),L.Pc(3,"VCC Information"),L.Vb(),L.Wb(4,"div",11),L.Wb(5,"button",12),L.fc("click",(function(){return L.Fc(e),L.hc(2).onReissue()})),L.Pc(6,"VCC Reissue"),L.Vb(),L.Wb(7,"button",12),L.fc("click",(function(){return L.Fc(e),L.hc(2).onCancel()})),L.Pc(8,"Cancel"),L.Vb(),L.Wb(9,"button",12),L.fc("click",(function(){return L.Fc(e),L.hc(2).onVccDataUpdate()})),L.Pc(10,"VCC Data Update"),L.Vb(),L.Vb(),L.Vb(),L.Wb(11,"div",20),L.Wb(12,"table"),L.Wb(13,"caption"),L.Pc(14," Vendor Information "),L.Vb(),L.Wb(15,"colgroup"),L.Rb(16,"col"),L.Rb(17,"col"),L.Vb(),L.Wb(18,"tbody"),L.Wb(19,"tr"),L.Wb(20,"th",21),L.Pc(21,"PM SEQ"),L.Vb(),L.Wb(22,"td"),L.Pc(23),L.Vb(),L.Vb(),L.Wb(24,"tr"),L.Wb(25,"th",21),L.Pc(26,"Payment Status"),L.Vb(),L.Wb(27,"td"),L.Pc(28),L.Vb(),L.Vb(),L.Wb(29,"tr"),L.Wb(30,"th",21),L.Pc(31,"VCC Error Message"),L.Vb(),L.Wb(32,"td"),L.Pc(33),L.Vb(),L.Vb(),L.Wb(34,"tr"),L.Wb(35,"th",21),L.Pc(36,"Issued Time"),L.Vb(),L.Wb(37,"td"),L.Pc(38),L.Vb(),L.Vb(),L.Wb(39,"tr"),L.Wb(40,"th",21),L.Pc(41,"Purchase Request ID"),L.Vb(),L.Wb(42,"td"),L.Pc(43),L.Vb(),L.Vb(),L.Wb(44,"tr"),L.Wb(45,"th",21),L.Pc(46,"VCN Information"),L.Vb(),L.Wb(47,"td",22),L.Wb(48,"span",23),L.Pc(49,"VCN"),L.Vb(),L.Pc(50),L.Rb(51,"br"),L.Wb(52,"span",23),L.Pc(53,"Valid Thru."),L.Vb(),L.Pc(54),L.Rb(55,"br"),L.Wb(56,"span",23),L.Pc(57,"CVC2"),L.Vb(),L.Pc(58),L.Vb(),L.Vb(),L.Wb(59,"tr"),L.Wb(60,"th",21),L.Wb(61,"sup"),L.Pc(62,"Amount"),L.Vb(),L.Vb(),L.Wb(63,"td"),L.Wb(64,"div",24),L.Rb(65,"app-input-text",25),L.Wb(66,"span",26),L.Pc(67),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(68,"tr"),L.Wb(69,"th",21),L.Wb(70,"sup"),L.Pc(71,"Available Payment Period"),L.Vb(),L.Vb(),L.Wb(72,"td"),L.Wb(73,"div",27),L.Wb(74,"div",28),L.Rb(75,"mat-datepicker-toggle",29),L.Rb(76,"input",30),L.Rb(77,"mat-datepicker",null,31),L.Vb(),L.Wb(79,"span",32),L.Pc(80,"~"),L.Vb(),L.Wb(81,"div",28),L.Rb(82,"mat-datepicker-toggle",29),L.Rb(83,"input",33),L.Rb(84,"mat-datepicker",null,34),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(86,"tr"),L.Wb(87,"th",21),L.Wb(88,"sup"),L.Pc(89,"Info by Country"),L.Vb(),L.Vb(),L.Wb(90,"td"),L.Rb(91,"app-selectbox",35),L.Vb(),L.Vb(),L.Wb(92,"tr"),L.Wb(93,"th",21),L.Pc(94,"Issue Reason"),L.Vb(),L.Wb(95,"td"),L.Rb(96,"app-input-text",36),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()}if(2&e){const e=L.Ec(78),t=L.Ec(85),n=L.hc(2);L.pc("formGroup",n.putForm),L.Cb(23),L.Qc(null==n.selectItem?null:n.selectItem.paymentSeq),L.Cb(5),L.Rc(" ",null==n.selectItem?null:n.selectItem.cardPaymentStatusName," "),L.Cb(5),L.Rc(" ",null==n.selectItem?null:n.selectItem.vccErrorMessage," "),L.Cb(5),L.Sc("",null==n.selectItem?null:n.selectItem.firstInsertDatetime," (Vendor Local Time : ",null==n.selectItem?null:n.selectItem.firstInsertVendorLocalDatetime,")"),L.Cb(5),L.Rc(" ",null==n.selectItem?null:n.selectItem.pgTransactionId," "),L.Cb(7),L.Rc(" : ",n.addSpaceEvery4Digits(null==n.selectItem?null:n.selectItem.cardNo)," "),L.Cb(4),L.Rc(" : ",null==n.selectItem?null:n.selectItem.vccValidDate," "),L.Cb(4),L.Rc(" : ",null==n.selectItem?null:n.selectItem.cardCvcNo," "),L.Cb(7),L.pc("isInvalid",n.checkIsInvalid("paidAmount")),L.Cb(2),L.Qc(n.selectItem.currencyCode),L.Cb(7),L.Gb("valid-error",n.checkIsInvalid("vccApprovalFromDatetime")),L.Cb(1),L.pc("for",e),L.Cb(1),L.pc("matDatepicker",e),L.Cb(5),L.Gb("valid-error",n.checkIsInvalid("vccApprovalToDatetime")),L.Cb(1),L.pc("for",t),L.Cb(1),L.pc("matDatepicker",t)("min",e),L.Cb(8),L.pc("isInvalid",n.checkIsInvalid("vccTypeCode"))("options",n.vccTypeList)}}function rM(e,t){if(1&e&&(L.Wb(0,"form",19),L.Wb(1,"div",1),L.Wb(2,"p",2),L.Pc(3,"Vendor Payment Information"),L.Vb(),L.Vb(),L.Wb(4,"div",20),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," Vendor Payment Information "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col"),L.Rb(10,"col"),L.Vb(),L.Wb(11,"tbody"),L.Wb(12,"tr"),L.Wb(13,"th",21),L.Pc(14,"PM SEQ"),L.Vb(),L.Wb(15,"td"),L.Pc(16),L.Vb(),L.Vb(),L.Wb(17,"tr"),L.Wb(18,"th",21),L.Pc(19,"PM Deposit Type"),L.Vb(),L.Wb(20,"td"),L.Pc(21),L.Vb(),L.Vb(),L.Wb(22,"tr"),L.Wb(23,"th",21),L.Wb(24,"sup"),L.Pc(25,"Amount"),L.Vb(),L.Vb(),L.Wb(26,"td"),L.Wb(27,"div",24),L.Rb(28,"app-input-text",25),L.Wb(29,"span",26),L.Pc(30),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(31,"tr"),L.Wb(32,"th",21),L.Pc(33,"Paid Date"),L.Vb(),L.Wb(34,"td"),L.Pc(35),L.Vb(),L.Vb(),L.Wb(36,"tr"),L.Wb(37,"th",21),L.Pc(38,"Bank Name"),L.Vb(),L.Wb(39,"td"),L.Pc(40),L.Vb(),L.Vb(),L.Wb(41,"tr"),L.Wb(42,"th",21),L.Pc(43,"Card Status"),L.Vb(),L.Wb(44,"td"),L.Pc(45),L.Vb(),L.Vb(),L.Wb(46,"tr"),L.Wb(47,"th",21),L.Pc(48,"Approval No."),L.Vb(),L.Wb(49,"td"),L.Pc(50),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.hc(2);L.pc("formGroup",e.putForm),L.Cb(16),L.Qc(null==e.selectItem?null:e.selectItem.paymentSeq),L.Cb(5),L.Qc(null==e.selectItem?null:e.selectItem.depositTypeName),L.Cb(7),L.pc("isInvalid",e.checkIsInvalid("paidAmount")),L.Cb(2),L.Qc(e.selectItem.currencyCode),L.Cb(5),L.Rc(" ",null==e.selectItem?null:e.selectItem.paidDate," "),L.Cb(5),L.Rc(" ",null==e.selectItem?null:e.selectItem.depositDetailTypeName," "),L.Cb(5),L.Rc(" ",null==e.selectItem?null:e.selectItem.cardPaymentStatusName," "),L.Cb(5),L.Rc(" ",null==e.selectItem?null:e.selectItem.cardApprovalNo," ")}}function lM(e,t){if(1&e&&(L.Wb(0,"div",0),L.Nc(1,sM,97,23,"form",18),L.Nc(2,rM,51,9,"form",18),L.Vb()),2&e){const e=L.hc();L.Cb(1),L.pc("ngIf","CCVP"===e.selectItem.depositTypeCode),L.Cb(1),L.pc("ngIf","CCVP"!==e.selectItem.depositTypeCode)}}let dM=(()=>{class e{constructor(e){this._dataService=e,this.submitNewEvent=new L.n,this.reissueEvent=new L.n,this.cancelEvent=new L.n,this.vccDataUpdateEvent=new L.n,this.checkValid=!1,this.newFlag=!1,this.detailFlag=!1,this.putForm=e.generateVendorPaymentPutForm()}ngOnInit(){}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}clickNew(){this.newFlag=!0}closeDetailPopup(){this.newFlag=!1}onDetail(e){this.selectItem=e,this.detailFlag=!0,this.setFormData(e)}submitEvent(e){this.submitNewEvent.emit(e)}onReissue(){if(this.putForm.invalid)return void(this.checkValid=!0);const e=this.selectItem,t=K()(e.vccValidDate,"MM/YYYY").format("YYYY-MM-DD"),n={paymentSeq:e.paymentSeq||null,bookingItemCode:e.bookingItemCode,currencyCode:e.currencyCode,paidAmount:this.putForm.value.paidAmount,vccTypeCode:this.putForm.value.vccTypeCode,vccApprovalFromDatetime:K()(this.putForm.value.vccApprovalFromDatetime).format("YYYY-MM-DD"),vccApprovalToDatetime:K()(this.putForm.value.vccApprovalToDatetime).format("YYYY-MM-DD"),vccValidDate:t,vccIssueReason:this.putForm.value.vccIssueReason};this.reissueEvent.emit(Q.omitBy(n,Q.isNil))}onCancel(){var e;Q.isNil(null===(e=this.selectItem)||void 0===e?void 0:e.paymentSeq)||this.cancelEvent.emit(this.selectItem)}onVccDataUpdate(){var e;Q.isNil(null===(e=this.selectItem)||void 0===e?void 0:e.paymentSeq)||this.vccDataUpdateEvent.emit(this.selectItem)}closeNewIssueModalEvent(){this.newFlag=!1}addSpaceEvery4Digits(e){return e.replace(/\s/g,"").replace(/(\d{4})(?=\d)/g,"$1 ")}setFormData(e){this.putForm.get("paidAmount").setValue(e.firstDepositAmount),this.putForm.get("vccTypeCode").setValue(e.vccTypeCode),this.putForm.get("vccApprovalFromDatetime").setValue(e.vccApprovalFromDatetime),this.putForm.get("vccApprovalToDatetime").setValue(e.vccApprovalToDatetime),this.putForm.get("vccIssueReason").setValue(e.vccIssueReason),this.putForm.get("pgResponseMessage").setValue(e.pgResponseMessage)}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(xS))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-vendor-payment"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{vendorPayment:"vendorPayment",active:"active",vccTypeList:"vccTypeList",amountInfo:"amountInfo",bookingInfo:"bookingInfo"},outputs:{submitNewEvent:"submitNewEvent",reissueEvent:"reissueEvent",cancelEvent:"cancelEvent",vccDataUpdateEvent:"vccDataUpdateEvent"},decls:34,vars:9,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title"],["class","control",4,"ngIf"],[1,"table","table-bordered","table-responsive","table-fixed",2,"max-height","360px","overflow","auto"],["scope","col",1,"align-c"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","page-item",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","New VCN Issue",3,"visible","modal","visibleChange"],[3,"bookingInfo","amountInfo","vccTypeList","submitEvent","closeEvent"],[1,"control"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"align-c"],[1,"underline",3,"click"],[1,"align-l"],[1,"align-r"],["colspan","5",1,"align-c"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"table","table-bordered"],["scope","row",1,"th-bg"],["colspan","3"],[1,"font-weight-bold"],[1,"form-group"],["formControlName","paidAmount","valueType","number","inputFormat","number",3,"isInvalid"],[1,"ml10"],[1,"d-flex","align-items-center"],[1,"input","calendar"],[3,"for"],["type","text","placeholder","YYYY-MM-DD","formControlName","vccApprovalFromDatetime",3,"matDatepicker"],["vccApprovalFromDatetimePicker",""],[1,"ml5","mr5"],["type","text","placeholder","YYYY-MM-DD","formControlName","vccApprovalToDatetime",3,"matDatepicker","min"],["vccApprovalToDatetimePicker",""],["formControlName","vccTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn",3,"isInvalid","options"],["formControlName","vccIssueReason"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"a",2),L.Pc(3,"Vendor Payment List"),L.Vb(),L.Nc(4,oM,3,0,"div",3),L.Vb(),L.Wb(5,"div",4),L.Wb(6,"table"),L.Wb(7,"caption"),L.Pc(8," Selling Rate "),L.Vb(),L.Wb(9,"colgroup"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Rb(13,"col"),L.Rb(14,"col"),L.Rb(15,"col"),L.Vb(),L.Wb(16,"thead"),L.Wb(17,"tr"),L.Wb(18,"th",5),L.Pc(19,"PM SEQ"),L.Vb(),L.Wb(20,"th",5),L.Pc(21,"PM Deposit Type"),L.Vb(),L.Wb(22,"th",5),L.Pc(23,"CC / VCC Status"),L.Vb(),L.Wb(24,"th",5),L.Pc(25,"Amount"),L.Vb(),L.Wb(26,"th",5),L.Pc(27,"Paid Date"),L.Vb(),L.Vb(),L.Vb(),L.Wb(28,"tbody"),L.Nc(29,aM,13,8,"tr",6),L.Nc(30,cM,3,0,"tr",7),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Nc(31,lM,3,2,"div",8),L.Wb(32,"app-dialog",9),L.fc("visibleChange",(function(){return t.closeDetailPopup()})),L.Wb(33,"app-reservation-vendor-new-issue",10),L.fc("submitEvent",(function(e){return t.submitEvent(e)}))("closeEvent",(function(){return t.closeNewIssueModalEvent()})),L.Vb(),L.Vb()),2&e&&(L.Cb(4),L.pc("ngIf",t.bookingInfo.directYn),L.Cb(25),L.pc("ngForOf",t.vendorPayment),L.Cb(1),L.pc("ngIf",0===t.vendorPayment.length),L.Cb(1),L.pc("ngIf",t.detailFlag),L.Cb(1),L.pc("visible",t.newFlag)("modal",!0),L.Cb(1),L.pc("bookingInfo",t.bookingInfo)("amountInfo",t.amountInfo)("vccTypeList",t.vccTypeList))},directives:[k.o,k.n,un.a,iM,I.B,I.s,I.k,ee.a,I.r,I.i,UW.a,I.c,QW.a,GW.a,Se.a],pipes:[k.f],encapsulation:2,changeDetection:0}),e})();function bM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-hotel-detail",55),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().closeHotelContentDetailHandler()})),L.ic(1,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(1,1,e.bookingInfo$))?null:n.hotelCode;L.pc("hotelCode",t)}}function uM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-send-email-template",57),L.fc("closeEvent",(function(){return L.Fc(e),L.hc(2).closeVoucherHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc(2);L.pc("bookingItemCode",L.jc(1,3,e.bookingItemCode$))("templateGetInfo",L.jc(2,5,e.voucherGetInfo$))("emailTitle","[OHMYHOTEL] "+L.jc(3,7,e.bookingItemCode$)+(e.isAmadeus?"'s Confirmation.":"'s Voucher"))}}function pM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-dialog",56),L.fc("visibleChange",(function(){return L.Fc(e),L.hc().closeVoucherHandler()})),L.ic(1,"async"),L.Nc(2,uM,4,9,"app-reservation-send-email-template",14),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("visible",L.jc(1,3,e.isOpenVoucherModal$))("modal",!0),L.Cb(2),L.pc("ngIf",L.jc(3,5,e.isOpenVoucherModal$))}}function mM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-send-email-template",57),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().closeInvoiceHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("bookingItemCode",L.jc(1,3,e.bookingItemCode$))("templateGetInfo",L.jc(2,5,e.invoiceGetInfo$))("emailTitle","[OHMYHOTEL] "+L.jc(3,7,e.bookingItemCode$)+"'s\n                Invoice")}}function hM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-pg-credit-card",58),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().closePgCreditCardModal()}))("submitEvent",(function(t){return L.Fc(e),L.hc().sendPgCreditCardPayment(t)})),L.ic(1,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(1,1,e.price$))?null:n.balanceAmount;L.pc("paidAmount",t)}}const gM=function(){return{}};function fM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-pg-bank",59),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().closePgBankModal()}))("submitEvent",(function(t){return L.Fc(e),L.hc().sendPgBankPayment(t)})),L.ic(1,"async"),L.ic(2,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(1,2,e.price$))?null:n.balanceAmount;L.pc("paidAmount",t)("bookingInfo",L.jc(2,4,e.bookingInfo$)||L.tc(6,gM))}}const vM=function(){return[]};function CM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-credit-card-cancel",60),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().cancelCreditCard(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().closeCreditCardCancelModal()})),L.ic(1,"async"),L.ic(2,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=(null==(n=L.jc(1,2,e.payment$))?null:n.payments)||L.tc(6,vM);L.pc("payments",t)("paymentInfo",L.jc(2,4,e.selectedPayment$))}}function yM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-coupon-point-payment-cancel",61),L.fc("cancelCouponEvent",(function(t){return L.Fc(e),L.hc().cancelCoupon(t)}))("cancelPointEvent",(function(t){return L.Fc(e),L.hc().cancelPoint(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().closeCouponPointCancelModal()})),L.ic(1,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("paymentInfo",L.jc(1,1,e.selectedPayment$))}}function kM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-cash-receipt-issue",62),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().closeCashReceiptIssueModal()}))("submitEvent",(function(t){return L.Fc(e),L.hc().issueCashReceipt(t)})),L.ic(1,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(1,3,e.master$))?null:n.bookerName;L.pc("issueName",t)("selectedPaymentInfo",e.selectedPaymentInfo)("maxPaidAmount",e.sumCashPaidAmount)}}function IM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-point-payment",63),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().closePointPaymentHandler()}))("submitEvent",(function(t){return L.Fc(e),L.hc().sendPointPaymentHandler(t)})),L.ic(1,"async"),L.ic(2,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(2,4,e.master$))?null:n.bookerUno;L.pc("bookingItemCode",L.jc(1,2,e.bookingItemCode$))("userNo",t)}}function OM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-hotel-payment-manual-modal",64),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().closePaymentManualHandler()}))("submitEvent",(function(t){return L.Fc(e),L.hc().savePaymentDepositManual(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.ic(5,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("bookingItemCode",L.jc(1,5,e.bookingItemCode$))("paymentDetailTypeList",L.jc(2,7,e.paymentDetailTypeList$))("depositTypeList",L.jc(3,9,e.depositTypeList$))("paymentBankMasterList",L.jc(4,11,e.paymentBankMasterList$))("giftCardTypeList",L.jc(5,13,e.giftCardTypeList$))}}function PM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-deposit-refund-detail",65),L.fc("completeEvent",(function(){return L.Fc(e),L.hc().completeRefundRegister()})),L.ic(1,"async"),L.ic(2,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(1,2,e.selectedPayment$))?null:n.paymentSeq;L.pc("paymentSeq",t)("depositInfo",L.jc(2,4,e.selectedPayment$))}}function jM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-card-receipt-view",66),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().closeCardReceiptHandler()})),L.ic(1,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("receiptCondition",L.jc(1,1,e.cardReceiptInfo$))}}function VM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-send-email-template",57),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().closeCashReceiptHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("bookingItemCode",L.jc(1,3,e.bookingItemCode$))("templateGetInfo",L.jc(2,5,e.receiptGetInfo$))("emailTitle","[OHMYHOTEL] "+L.jc(3,7,e.bookingItemCode$)+"'s Receipt")}}function AM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-hotel-cancel-modal",67),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().cancelSubmitHandler(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().clickCancelModalCloseHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(2,5,e.bookingInfo$))?null:n.vendorBookingItemCode;var i;const o=null==(i=L.jc(3,7,e.cancelCharge$))?null:i.cancelChargeAmount;L.pc("bookingItemCode",L.jc(1,3,e.bookingItemCode$))("vendorBookingItemCode",t)("cancelChargeAmount",o)}}function WM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"li",68),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc().onClickCurrentSubTab(n)})),L.ic(1,"async"),L.Wb(2,"a",69),L.Pc(3),L.Vb(),L.Wb(4,"a",70),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc().onClickDelSubTab(n)})),L.Pc(5,"\ub2eb\uae30"),L.Vb(),L.Vb()}if(2&e){const e=t.$implicit,n=L.hc();L.pc("active",e===L.jc(1,2,n.currentSubTab$)),L.Cb(3),L.Qc(e)}}function RM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-hotel-basis",71),L.fc("saveBasicInfoEvent",(function(t){return L.Fc(e),L.hc().onSaveBasicInfo(t)}))("saveCancelPolicyEvent",(function(t){return L.Fc(e),L.hc().onSaveCancelPolicy(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.ic(5,"async"),L.ic(6,"async"),L.ic(7,"async"),L.ic(8,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("active",L.jc(1,8,e.currentSubTab$)===e.tabNames.BASIS)("basicInfo",L.jc(2,10,e.basic$))("cancelPolicy",L.jc(3,12,e.cancelPolicy$))("plFinishYn",L.jc(4,14,e.plFinishYn$))("stationList",L.jc(5,16,e.stationList$))("bookingStatusList",L.jc(6,18,e.bookingStatusList$))("handleStatusList",L.jc(7,20,e.handleStatusList$))("deviceTypeList",L.jc(8,22,e.deviceTypeList$))}}function FM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-hotel-booking-detail",72),L.fc("saveDetailInfoEvent",(function(t){return L.Fc(e),L.hc().onSaveDetailInfoHandler(t)}))("saveNoticeEvent",(function(t){return L.Fc(e),L.hc().onSaveNoticeHandler(t)}))("saveRequestEvent",(function(t){return L.Fc(e),L.hc().onSaveBasicInfo(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.ic(5,"async"),L.ic(6,"async"),L.ic(7,"async"),L.ic(8,"async"),L.ic(9,"async"),L.ic(10,"async"),L.ic(11,"async"),L.ic(12,"async"),L.ic(13,"async"),L.ic(14,"async"),L.ic(15,"async"),L.ic(16,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("active",L.jc(1,16,e.currentSubTab$)===e.tabNames.BOOKING_DETAIL)("plFinishYn",L.jc(2,18,e.plFinishYn$))("bookingItemCode",L.jc(3,20,e.bookingItemCode$))("bookingInfo",L.jc(4,22,e.bookingInfo$))("basicInfo",L.jc(5,24,e.basic$))("rooms",L.jc(6,26,e.rooms$))("vendorList",L.jc(7,28,e.vendorList$))("ageTypeList",L.jc(8,30,e.ageTypeList$))("lateCheckInTypeList",L.jc(9,32,e.lateCheckInTypeList$))("loginUser",L.jc(10,34,e.loginUser$))("clientPayment",L.jc(11,36,e.clientPayment$))("loginUserNo",L.jc(12,38,e.loginUserNo$))("roomTypeList",L.jc(13,40,e.roomTypeList$))("mealList",L.jc(14,42,e.mealList$))("freeBreakFastList",L.jc(15,44,e.freeBreakFastList$))("bookingStatusList",L.jc(16,46,e.bookingStatusList$))}}function SM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-hotel-travelers",73),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().onSaveTravelerInfo(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.ic(5,"async"),L.ic(6,"async"),L.ic(7,"async"),L.ic(8,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(4,14,e.summary$))?null:n.bookerCompCode;var i;const o=null==(i=L.jc(5,16,e.summary$))?null:i.stationTypeCode;L.pc("active",L.jc(1,8,e.currentSubTab$)===e.tabNames.TRAVELERS)("plFinishYn",L.jc(2,10,e.plFinishYn$))("rooms",L.jc(3,12,e.rooms$)||L.tc(24,vM))("corporateCompCode",t)("stationTypeCode",o)("ageTypeList",L.jc(6,18,e.ageTypeList$))("bedTypeList",L.jc(7,20,e.bedTypeList$))("bookingItemCode",L.jc(8,22,e.bookingItemCode$))}}function TM(e,t){if(1&e&&(L.Rb(0,"app-reservation-hotel-price-detail",74),L.ic(1,"async"),L.ic(2,"async")),2&e){const e=L.hc();L.pc("active",L.jc(1,2,e.currentSubTab$)===e.tabNames.PRICE_DETAIL)("bookingItemCode",L.jc(2,4,e.bookingItemCode$))}}function NM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-booker",75),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().onSaveBookerInfo(t)})),L.ic(1,"async"),L.ic(2,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("active",L.jc(1,2,e.currentSubTab$)===e.tabNames.BOOKER)("masterInfo",L.jc(2,4,e.master$))}}function EM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-user",76),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().saveBookerInfoHandler(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(2,6,e.summary$))?null:n.stationTypeCode;L.pc("active",L.jc(1,4,e.currentSubTab$)===e.tabNames.USER_INFO)("stationTypeCode",t)("bookerInfo",L.jc(3,8,e.bookerInfo$))("masterInfo",L.jc(4,10,e.master$))}}function MM(e,t){if(1&e&&(L.Rb(0,"app-reservation-hotel-retrieve",77),L.ic(1,"async")),2&e){const e=L.hc();L.pc("active",L.jc(1,1,e.currentSubTab$)===e.tabNames.RETRIEVE)}}function DM(e,t){if(1&e&&(L.Rb(0,"app-reservation-history",78),L.ic(1,"async"),L.ic(2,"async")),2&e){const e=L.hc();L.pc("active",L.jc(1,2,e.currentSubTab$)===e.tabNames.HISTORY)("bookingLogList",L.jc(2,4,e.bookingLogList$))}}function LM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-consulting",79),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().onSaveConsultingInfo(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("active",L.jc(1,3,e.currentSubTab$)===e.tabNames.CONSULTING)("consultingList",L.jc(2,5,e.consultingList$))("consultingSeq",L.jc(3,7,e.consultingSeq$))}}function _M(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-memo",80),L.fc("saveMemoEvent",(function(t){return L.Fc(e),L.hc().onSaveMemo(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("active",L.jc(1,3,e.currentSubTab$)===e.tabNames.MEMO)("bookingItemCode",L.jc(2,5,e.bookingItemCode$))("memoList",L.jc(3,7,e.bookingMemoList$))}}function $M(e,t){if(1&e&&(L.Rb(0,"app-reservation-hotel-policy-monitoring",74),L.ic(1,"async"),L.ic(2,"async")),2&e){const e=L.hc();L.pc("active",L.jc(1,2,e.currentSubTab$)===e.tabNames.POLICY_MONITORING)("bookingItemCode",L.jc(2,4,e.bookingItemCode$))}}const BM=function(e){return[e]};function wM(e,t){if(1&e&&(L.Rb(0,"app-ums",81),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.ic(5,"async")),2&e){const e=L.hc();L.pc("active",L.jc(1,5,e.currentSubTab$)===e.tabNames.UMS)("stationTypeCode",L.jc(2,7,e.summary$).stationTypeCode)("bookingItemCode",L.jc(3,9,e.bookingItemCode$))("bookingCode",L.jc(4,11,e.master$).bookingCode)("bookers",L.uc(15,BM,L.jc(5,13,e.bookerForUms$)))}}function xM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-hotel-vendor-payment",82),L.fc("submitNewEvent",(function(t){return L.Fc(e),L.hc().submitNewEvent(t)}))("reissueEvent",(function(t){return L.Fc(e),L.hc().reissueEvent(t)}))("vccDataUpdateEvent",(function(t){return L.Fc(e),L.hc().vccDataUpdateEventHandler(t)}))("cancelEvent",(function(t){return L.Fc(e),L.hc().cancelPaymentEvent(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.ic(5,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("active",L.jc(1,5,e.currentSubTab$)===e.tabNames.VENDOR_PAYMENT)("vendorPayment",L.jc(2,7,e.vendorPayment$))("vccTypeList",L.jc(3,9,e.vccTypeList$))("amountInfo",L.jc(4,11,e.amountInfo$))("bookingInfo",L.jc(5,13,e.bookingInfo$))}}const YM={BASIS:"Basic Info.",RETRIEVE:"Retrieve",BOOKING_DETAIL:"Booking Detail",PRICE_DETAIL:"Price Detail",PAYMENT:"Payment",UMS:"UMS",CONSULTING:"1:1",VOUCHER:"Document",MEMO:"Remark",HISTORY:"History",BOOKER:"Booker",USER_INFO:"User Info",TRAVELERS:"Travelers",POLICY_MONITORING:"Policy",VENDOR_PAYMENT:"vendor payment"};let HM=(()=>{class e extends oF{constructor(e,t,n,i){super(e),this.store=e,this.authStore=t,this._activatedRoute=n,this.alertService=i,this.sumCashPaidAmount=0,this.unsubscribe$=new Fe.a,this._subscribeStore()}get tabNames(){return YM}get isAmadeus(){var e;return 900001===(null===(e=this.bookingInfo)||void 0===e?void 0:e.vendorCompCode)}ngOnInit(){this._activatedRoute.queryParams.subscribe(e=>{const t=e.tabName;Q.isNil(t)||this.store.dispatch(m.setCurrentSubTabAction({tabName:this.tabNames[t]}))})}ngAfterViewInit(){this._initDetailSubscription()}loadMasterInfo(){this.store.dispatch(m.loadMasterInfoAction({condition:{bookingItemCode:this._bookingItemCode}}))}loadSubInfo(){this._loadSubTabData()}clickDetailViewHandler(){this.onClickCurrentSubTab(this.tabNames.BASIS)}clickRetrieveHandler(){this.store.dispatch(m.retrieveAction({condition:{bookingItemCodes:[this._bookingItemCode]}}))}clickMypageHandler(){this.store.dispatch(u.openClientPageAction({path:`hotel-booked-detail/${this._bookingItemCode}`}))}clickFaxHandler(){this.alertService.alert("\uacf5\uc0ac\uc911")}clickUmsHandler(){this.onClickCurrentSubTab(this.tabNames.UMS)}clickCancelHandler(){this.store.dispatch(m.openCanceModalAction())}clickConsultingHandler(){this.onClickCurrentSubTab(this.tabNames.CONSULTING)}clickMemoHandler(){this.onClickCurrentSubTab(this.tabNames.MEMO)}clickChangeLogHandler(){this.onClickCurrentSubTab(this.tabNames.HISTORY)}clickBookingInfoDetailViewHandler(){this.onClickCurrentSubTab(this.tabNames.BOOKING_DETAIL)}clickOperationWebSiteHandler(){}openHotelSearchPageHandler(e){this.store.dispatch(u.openClientPageAction({path:`hotel-search-roomtype/${e}`}))}openHotelContentDetailHandler(){this.store.dispatch(m.openHotelContentDetailModalAction())}closeHotelContentDetailHandler(){this.store.dispatch(m.closeHotelContentDetaiModalAction())}openVoucherHandler(){this.store.dispatch(m.openVoucherModalAction())}closeVoucherHandler(){this.store.dispatch(m.closeVoucherModalAction())}openInvoiceHandler(){this.store.dispatch(m.openInvoiceModalAction())}closeInvoiceHandler(){this.store.dispatch(m.closeInvoiceModalAction())}clickPriceDetailViewHandler(){this.onClickCurrentSubTab(this.tabNames.PRICE_DETAIL)}clickPaymentDetailViewHandler(){this.onClickCurrentSubTab(this.tabNames.PAYMENT)}clickBookerViewHandler(){this.onClickCurrentSubTab(this.tabNames.BOOKER)}onSaveBookerInfo(e){this.store.dispatch(u.saveBookerInfoAction({condition:e}))}saveBookerInfoHandler(e){this.store.dispatch(u.changeBookerInfoAction({condition:e}))}onSaveMemo(e){this.store.dispatch(u.saveBookingMemoAction({condition:e}))}clickUserInfoViewHandler(){this.onClickCurrentSubTab(this.tabNames.USER_INFO)}clickTravelersViewHandler(){this.onClickCurrentSubTab(this.tabNames.TRAVELERS)}clickPolicyMonitoringViewHandler(){this.onClickCurrentSubTab(this.tabNames.POLICY_MONITORING)}onClickCurrentSubTab(e){this.store.dispatch(m.setCurrentSubTabAction({tabName:e}))}onClickDelSubTab(e){this.store.dispatch(m.delSubTabAction({tabName:e}))}clickCancelModalCloseHandler(){this.store.dispatch(m.closeCanceModalAction())}cancelSubmitHandler(e){this.store.dispatch(m.closeCanceModalAction()),this.store.dispatch(m.cancelBookingAction({condition:e}))}onSaveBasicInfo(e){this.store.dispatch(m.updateBasicInfoAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode})}))}onSaveTravelerInfo({deleteInfo:e,upsertInfo:t}){this.store.dispatch(m.updateHotelRoomAction({deleteInfo:e,upsertInfo:t}))}onSaveCancelPolicy(e){this.store.dispatch(m.updateCancelPolicyInfoAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode})}))}onSaveDetailInfoHandler(e){this.store.dispatch(m.updateBookingDetailInfoAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode})}))}onSaveNoticeHandler(e){this.store.dispatch(m.updateHotelBookingNoticeAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode})}))}onSaveRequestHandler(e){this.store.dispatch(m.updateHotelRequestAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode})}))}onSaveConsultingInfo(e){this.store.dispatch(u.saveConsultingInfoAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode})}))}openCashReceiptIssueModal(e){this.selectedPaymentInfo=e,this.sumCashPaidAmount=e.sumCashPaidAmount,this.store.dispatch(m.openCashReceiptIssueModalAction())}closeCashReceiptIssueModal(){this.store.dispatch(m.closeCashReceiptIssueModalAction())}selectPaymentHandler(e){this.store.dispatch(m.selectPaymentInfoAction({paymentInfo:e}))}openPgCreditCardModal(){this.store.dispatch(m.openPgCreditCardModalAction())}closePgCreditCardModal(){this.store.dispatch(m.closePgCreditCardModalAction())}openCreditCardCancelModal(){this.store.dispatch(m.openCreditCardCancelModalAction())}closeCreditCardCancelModal(){this.store.dispatch(m.closeCreditCardCancelModalAction())}openCouponPointCancelModal(){this.store.dispatch(m.openCouponPointCancelModalAction())}closeCouponPointCancelModal(){this.store.dispatch(m.closeCouponPointCancelModalAction())}openPgBankModal(){this.store.dispatch(m.openPgBankModalAction())}closePgBankModal(){this.store.dispatch(m.closePgBankModalAction())}sendPgCreditCardPayment(e){this.store.dispatch(m.sendPgCreditCardPaymentAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode,paymentDetailTypeCode:"HTLRV"})}))}sendPgBankPayment(e){console.log(e,"bankInfo"),this.store.dispatch(m.sendPgBankPaymentAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode,paymentDetailTypeCode:"HTLRV"})}))}issueCashReceipt(e){this.store.dispatch(m.issueCashReceiptAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode,emailAddress:this.master.bookerEmailAddress})}))}cancelCreditCard(e){this.store.dispatch(m.cancelPaymentAction({condition:Object.assign({},e)}))}cancelCoupon(e){this.store.dispatch(m.cancelCouponPaymentAction({condition:Object.assign({},e)}))}cancelPoint(e){this.store.dispatch(m.cancelPointPaymentAction({condition:Object.assign({},e)}))}openPaymentManualHandler(){this.store.dispatch(m.openPaymentManualModalAction())}closePaymentManualHandler(){this.store.dispatch(m.closePaymentManualModalAction())}savePaymentDepositManual(e){this.store.dispatch(m.savePaymentDepositManualAction({condition:e}))}cancelCashReceipt(e){this.store.dispatch(m.cancelBankReceiptAction({condition:e}))}openCashReceiptHandler({receiptSeq:e}){const{stationTypeCode:t}=this.master;this.store.dispatch(m.openCashReceiptAction({receiptGetInfo:{itemCategoryCode:"IC02",bookingItemCode:this._bookingItemCode,stationTypeCode:t,receiptSeq:e,invoiceYn:!1}}))}closeCashReceiptHandler(){this.store.dispatch(m.closeCashReceiptAction())}openCardReceiptHandler(e){const t=Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode});this.store.dispatch(m.openCardReceiptAction({cardReceiptInfo:t}))}closeCardReceiptHandler(){this.store.dispatch(m.closeCardReceiptAction())}openRefundRegister(){this.store.dispatch(m.openRefundRegisterAction())}closeRefundRegister(){this.store.dispatch(m.closeRefundRegisterAction())}completeRefundRegister(){this.store.dispatch(u.reloadBookingDetailAction()),this.store.dispatch(m.closeRefundRegisterAction())}openPointPaymentHandler(){this.store.dispatch(m.openPointPaymentAction())}closePointPaymentHandler(){this.store.dispatch(m.closePointPaymentAction())}sendPointPaymentHandler(e){this.store.dispatch(m.sendPointPaymentAction({condition:e}))}clickDeletePaymentHandler(e){this.store.dispatch(m.deletePaymentAction({condition:e}))}clickCreatePaymentEvent(){this.onClickCurrentSubTab(this.tabNames.VENDOR_PAYMENT)}submitNewEvent(e){let t=null;this.vendorPayment.forEach(e=>{"CCS01"===e.cardPaymentStatusCode&&(t=e.paymentSeq)}),this.handlePayment(e,t)}handlePayment(e,t){return Object(no.a)(this,void 0,void 0,(function*(){try{yield this.store.dispatch(m.cancelPaymentVcc({condition:{paymentSeq:t}}));const n=Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode,currencyCode:this.amountInfo.vendorInfo.vendorCurrencyCode});yield this.store.dispatch(m.putPaymentVcc({condition:n}))}catch(n){console.error("Error:",n)}}))}cancelPaymentEvent(e){this.store.dispatch(m.cancelPaymentVcc({condition:{bookingItemCode:this._bookingItemCode,paymentSeq:e.paymentSeq}}))}reissueEvent(e){this.store.dispatch(m.putPaymentVcc({condition:e}))}vccDataUpdateEventHandler(e){this.store.dispatch(m.getPaymentVcc({condition:{bookingItemCode:this._bookingItemCode,paymentSeq:e.paymentSeq}}))}_subscribeStore(){this.auths$=this.store.pipe(Object(P.u)(rk)),this.loading$=this.store.pipe(Object(P.u)(mI)),this.master$=this.store.pipe(Object(P.u)(hI)),this.bookingItems$=this.store.pipe(Object(P.u)(yI)),this.summary$=this.store.pipe(Object(P.u)(kI)),this.bookingInfo$=this.store.pipe(Object(P.u)(II)),this.rooms$=this.store.pipe(Object(P.u)(OI)),this.price$=this.store.pipe(Object(P.u)(PI)),this.payment$=this.store.pipe(Object(P.u)(jI)),this.amountInfo$=this.store.pipe(Object(P.u)(xI)),this.plFinishYn$=this.store.pipe(Object(P.u)(VI)),this.freeNonCancelableYn$=this.store.pipe(Object(P.u)(hO)),this.cashReceipts$=this.store.pipe(Object(P.u)(pO)),this.subTabs$=this.store.pipe(Object(P.u)(qI)),this.currentSubTab$=this.store.pipe(Object(P.u)(UI)),this.isOpenCancelModal$=this.store.pipe(Object(P.u)(QI)),this.isOpenCashReceiptIssueModal$=this.store.pipe(Object(P.u)(GI)),this.isOpenPgCreditCardModal$=this.store.pipe(Object(P.u)(KI)),this.isOpenPgBankModal$=this.store.pipe(Object(P.u)(zI)),this.isOpenCreditCardCancelModal$=this.store.pipe(Object(P.u)(XI)),this.isOpenCouponPointCancelModal$=this.store.pipe(Object(P.u)(ZI)),this.isOpenPaymentManualModal$=this.store.pipe(Object(P.u)(JI)),this.isOpenHotelContentDetailModal$=this.store.pipe(Object(P.u)(eO)),this.isOpenVoucherModal$=this.store.pipe(Object(P.u)(tO)),this.isOpenInvoiceModal$=this.store.pipe(Object(P.u)(nO)),this.isOpenCardReceiptModal$=this.store.pipe(Object(P.u)(iO)),this.isOpenCashReceiptModal$=this.store.pipe(Object(P.u)(oO)),this.isOpenRefundRegisterModal$=this.store.pipe(Object(P.u)(aO)),this.isOpenPointPaymentModal$=this.store.pipe(Object(P.u)(cO)),this.selectedPayment$=this.store.pipe(Object(P.u)(sO)),this.cardReceiptInfo$=this.store.pipe(Object(P.u)(rO)),this.cashReceiptInfo$=this.store.pipe(Object(P.u)(lO)),this.receiptGetInfo$=this.store.pipe(Object(P.u)(CI)),this.roomTypeList$=this.store.pipe(Object(P.u)(gO)),this.mealList$=this.store.pipe(Object(P.u)(fO)),this.freeBreakFastList$=this.store.pipe(Object(P.u)(vO)),this.stationList$=this.store.pipe(Object(P.u)(RI)),this.bookingStatusList$=this.store.pipe(Object(P.u)(FI)),this.handleStatusList$=this.store.pipe(Object(P.u)(SI)),this.deviceTypeList$=this.store.pipe(Object(P.u)(TI)),this.vendorList$=this.store.pipe(Object(P.u)(NI)),this.ageTypeList$=this.store.pipe(Object(P.u)(EI)),this.lateCheckInTypeList$=this.store.pipe(Object(P.u)(MI)),this.paymentDetailTypeList$=this.store.pipe(Object(P.u)(DI)),this.depositTypeList$=this.store.pipe(Object(P.u)(LI)),this.paymentBankMasterList$=this.store.pipe(Object(P.u)(_I)),this.giftCardTypeList$=this.store.pipe(Object(P.u)($I)),this.bedTypeList$=this.store.pipe(Object(P.u)(BI)),this.checkInList$=this.store.pipe(Object(P.u)(dO)),this.vccTypeList$=this.store.pipe(Object(P.u)(uO)),this.clientPayment$=this.store.pipe(Object(P.u)(mO)),this.cancelPolicy$=this.store.pipe(Object(P.u)(WI)),this.basic$=this.store.pipe(Object(P.u)(AI)),this.loginUser$=this.authStore.pipe(Object(P.u)(Xe.r)),this.loginUserNo$=this.authStore.pipe(Object(P.u)(Xe.t)),this.cancelCharge$=this.store.pipe(Object(P.u)(YI)),this.vendorPayment$=this.store.pipe(Object(P.u)(bO)),this.bookerForUms$=this.store.pipe(Object(P.u)(gI)),this.voucherGetInfo$=this.store.pipe(Object(P.u)(fI)),this.invoiceGetInfo$=this.store.pipe(Object(P.u)(vI))}_loadSubTabData(){this.store.dispatch(m.loadStationListAction({condition:{masterCode:"BS002"}})),this.store.dispatch(m.loadBookingStatusListAction({condition:{masterCode:"BK001",referCode1:"IC02"}})),this.store.dispatch(m.loadHandleStatusListAction({condition:{masterCode:"HO018"}})),this.store.dispatch(m.loadDeviceTypeListAction({condition:{masterCode:"BS037"}})),this.store.dispatch(m.loadVendorListAction({condition:{compTypeCodes:["CMP04","CMP06"],itemCategoryCode:"IC02",limits:[0,100]}})),this.store.dispatch(m.loadAgeTypeListAction({condition:{masterCode:"BS011",referCode1:"HOTEL"}})),this.store.dispatch(m.loadLateCheckInTypeListAction({condition:{masterCode:"HO022"}})),this.store.dispatch(m.loadPaymentDetailTypeList({condition:{masterCode:"PM005",referCode1:"IC02"}})),this.store.dispatch(m.loadDepositTypeList({condition:{masterCode:"PM006",referCode1:"MANUAL"}})),this.store.dispatch(m.loadPaymentBankMasterListAction({condition:{masterCode:"PM003",referCode2:"DOUZONE"}})),this.store.dispatch(m.loadBedTypeListAction({condition:{masterCode:"HO008"}})),this.store.dispatch(m.loadGiftCardTypeListAction({condition:{masterCode:"PM039"}})),this.store.dispatch(m.loadCancelPolicyInfoAction({condition:{bookingItemCode:this._bookingItemCode}})),this.store.dispatch(m.loadBasicInfoAction({condition:{bookingItemCode:this._bookingItemCode}})),this.store.dispatch(m.loadAmountInfoAction({condition:{bookingItemCode:this._bookingItemCode}})),this.store.dispatch(m.loadRoomCategoryList({condition:{masterCode:"HO036"}})),this.store.dispatch(m.loadMealBasisList({condition:{masterCode:"HO006"}})),this.store.dispatch(m.loadFreeBreakfastList({condition:{masterCode:"HO007"}})),this.store.dispatch(m.loadcheckInList({condition:{masterCode:"HO025"}})),this.store.dispatch(m.loadVendorPayment({condition:{bookingItemCode:this._bookingItemCode,limits:[0,50],salesOrVendor:"V"}})),this.store.dispatch(m.loadVccTypeList({condition:{masterCode:"PM013"}})),this.store.dispatch(m.loadClientPaymentStatus({condition:{masterCode:"BK002",referCode1:"IC02"}}))}_initDetailSubscription(){this.auths$.pipe(Object(Ci.a)(this.unsubscribe$)).subscribe(e=>{this.auths=e}),this.master$.pipe(Object(Ci.a)(this.unsubscribe$)).subscribe(e=>{this.master=e}),this.bookingInfo$.pipe(Object(Ci.a)(this.unsubscribe$)).subscribe(e=>{this.bookingInfo=e}),this.amountInfo$.pipe(Object(Ci.a)(this.unsubscribe$)).subscribe(e=>{this.amountInfo=e}),this.vendorPayment$.pipe(Object(Ci.a)(this.unsubscribe$)).subscribe(e=>{this.vendorPayment=e}),this.summary$.pipe(Object(Ci.a)(this.unsubscribe$)).subscribe(e=>{Q.isNil(e)||"STN05"!==e.stationTypeCode||(this.store.dispatch(m.loadPolicyMonitoringInfoAction({condition:{bookingItemCode:this._bookingItemCode}})),this.store.dispatch(m.loadCorporateReasonListAction({condition:{itemCategoryCode:"IC02",corporateCompCode:e.bookerCompCode,useYn:!0},isForceLoad:!0})))})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h),L.Qb(P.h),L.Qb(dt.a),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel"]],features:[L.zb],decls:122,vars:218,consts:[[3,"reservationInfoMaster","bookingItemCode","bookingItemCodes","clickBookerNameEvent","clickUserInfoEvent","clickUmsEvent"],[1,"modal-body"],[1,"frame-wrap","both"],[1,"frame","main"],[3,"bookingItems","bookingItemCode","categoryCodeNameMap"],[1,"tabs-content"],[1,"tab-pane","active"],[1,"reservation-detail"],[3,"summary","basic","bookingInfo","plFinishYn","freeNonCancelableYn","bookingItemCode","clickDetailViewEvent","clickPaymentViewEvent","clickMypageEvent","clickUmsEvent","clickCancelEvent","clickConsultingEvent","clickMemoEvent","clickChangeLogEvent","clickPolicyMonitoringEvent"],[3,"bookingInfo","rooms","summary","checkInList","clickHotelSearchPageEvent","clickVoucherEvent","clickInvoiceEvent","clickDetailViewEvent","clickOperationWebSiteEvent","clickHotelContentDetailEvent","clickRetrieveEvent","clickCancelEvent","clickFaxEvent"],["header","Hotel product information","modalSize","lg","modalContentClass","pd-all",3,"visible","modal","hasScroll","visibleChange"],[3,"hotelCode","closeEvent",4,"ngIf"],["header","Voucher","modalSize","md","modalContentClass","pd-all",3,"visible","modal","visibleChange",4,"ngIf"],["header","Invoice","modalSize","md","modalContentClass","pd-all",3,"visible","modal","visibleChange"],[3,"bookingItemCode","templateGetInfo","emailTitle","closeEvent",4,"ngIf"],[3,"stationTypeCode","rooms","clickDetailViewEvent"],[3,"priceInfo","clickPriceDetailViewEvent","clickPgCardEvent","clickPgBankEvent"],["modalSize","sm","modalContentClass","pd-all","header","Credit\n              Card Manual Approval",3,"modal","visible","visibleChange"],[3,"paidAmount","closeEvent","submitEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","Create\n              Virtual Bank Account",3,"modal","visible","visibleChange"],[3,"paidAmount","bookingInfo","closeEvent","submitEvent",4,"ngIf"],[3,"bookingInfo","paymentInfo","plFinishYn","clickDetailViewEvent","clickCreditCardCancelEvent","clickCouponPointCancelEvent","clickCashReceiptIssueEvent","clickPaymentManualEvent","openCardReceiptEvent","clickRefundRegisterEvent","clickPointPaymentEvent","clickDeletePaymentEvent","clickCreatePaymentEvent","selectPayment"],["modalSize","sm","modalContentClass","pd-all","header","Cancellation of Approval",3,"modal","visible","visibleChange"],[3,"payments","paymentInfo","submitEvent","closeEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","\ucfe0\ud3f0/\ud3ec\uc778\ud2b8\n              \uacb0\uc81c \ucde8\uc18c",3,"modal","visible","visibleChange"],[3,"paymentInfo","cancelCouponEvent","cancelPointEvent","closeEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","Issue\n              Cash Receipt",3,"modal","visible","visibleChange"],[3,"issueName","selectedPaymentInfo","maxPaidAmount","closeEvent","submitEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","\ud3ec\uc778\ud2b8\n              \uc218\ub3d9\uacb0\uc81c",3,"modal","visible","visibleChange"],[3,"bookingItemCode","userNo","closeEvent","submitEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","\uacb0\uc81c \uc218\ub3d9\n              \ub4f1\ub85d",3,"hasScroll","modal","visible","visibleChange"],[3,"bookingItemCode","paymentDetailTypeList","depositTypeList","paymentBankMasterList","giftCardTypeList","closeEvent","submitEvent",4,"ngIf"],["modalSize","md","modalContentClass","pd-all","header","\ud658\ubd88\ub4f1\ub85d",3,"visible","modal","visibleChange"],["category","hotel",3,"paymentSeq","depositInfo","completeEvent",4,"ngIf"],["modalSize","md","modalContentClass","pd-all","header","Credit\n              Card Receipt",3,"modal","visible","visibleChange"],[3,"receiptCondition","closeEvent",4,"ngIf"],[3,"paymentInfo","cashReceipts","openReceiptEvent","clickCashReceiptCancelEvent"],["modalSize","sm","modalContentClass","pd-all","header","Cash\n              Receipt",3,"modal","visible","visibleChange"],["modalSize","sm","modalContentClass","pd-all","header","Alert",3,"modal","visible","visibleChange"],[3,"bookingItemCode","vendorBookingItemCode","cancelChargeAmount","submitEvent","closeEvent",4,"ngIf"],[1,"frame","sub"],["mat-tab-nav-bar","",1,"tabs-main-group"],["mat-tab-link","","class","nav-item",3,"active","click",4,"ngFor","ngForOf"],[3,"active","basicInfo","cancelPolicy","plFinishYn","stationList","bookingStatusList","handleStatusList","deviceTypeList","saveBasicInfoEvent","saveCancelPolicyEvent",4,"ngIf"],[3,"active","plFinishYn","bookingItemCode","bookingInfo","basicInfo","rooms","vendorList","ageTypeList","lateCheckInTypeList","loginUser","clientPayment","loginUserNo","roomTypeList","mealList","freeBreakFastList","bookingStatusList","saveDetailInfoEvent","saveNoticeEvent","saveRequestEvent",4,"ngIf"],[3,"active","plFinishYn","rooms","corporateCompCode","stationTypeCode","ageTypeList","bedTypeList","bookingItemCode","submitEvent",4,"ngIf"],[3,"active","bookingItemCode",4,"ngIf"],[3,"active","masterInfo","submitEvent",4,"ngIf"],[3,"active","stationTypeCode","bookerInfo","masterInfo","submitEvent",4,"ngIf"],[3,"active",4,"ngIf"],[3,"active","bookingLogList",4,"ngIf"],["itemCategoryCode","IC02",3,"active","consultingList","consultingSeq","submitEvent",4,"ngIf"],[3,"active","bookingItemCode","memoList","saveMemoEvent",4,"ngIf"],["itemCategoryCode","IC02",3,"active","stationTypeCode","bookingItemCode","bookingCode","bookers",4,"ngIf"],[3,"active","vendorPayment","vccTypeList","amountInfo","bookingInfo","submitNewEvent","reissueEvent","vccDataUpdateEvent","cancelEvent",4,"ngIf"],[3,"hotelCode","closeEvent"],["header","Voucher","modalSize","md","modalContentClass","pd-all",3,"visible","modal","visibleChange"],[3,"bookingItemCode","templateGetInfo","emailTitle","closeEvent"],[3,"paidAmount","closeEvent","submitEvent"],[3,"paidAmount","bookingInfo","closeEvent","submitEvent"],[3,"payments","paymentInfo","submitEvent","closeEvent"],[3,"paymentInfo","cancelCouponEvent","cancelPointEvent","closeEvent"],[3,"issueName","selectedPaymentInfo","maxPaidAmount","closeEvent","submitEvent"],[3,"bookingItemCode","userNo","closeEvent","submitEvent"],[3,"bookingItemCode","paymentDetailTypeList","depositTypeList","paymentBankMasterList","giftCardTypeList","closeEvent","submitEvent"],["category","hotel",3,"paymentSeq","depositInfo","completeEvent"],[3,"receiptCondition","closeEvent"],[3,"bookingItemCode","vendorBookingItemCode","cancelChargeAmount","submitEvent","closeEvent"],["mat-tab-link","",1,"nav-item",3,"active","click"],[1,"nav-link"],["title","\ud0ed \ub2eb\uae30",1,"btn-tabs-close",3,"click"],[3,"active","basicInfo","cancelPolicy","plFinishYn","stationList","bookingStatusList","handleStatusList","deviceTypeList","saveBasicInfoEvent","saveCancelPolicyEvent"],[3,"active","plFinishYn","bookingItemCode","bookingInfo","basicInfo","rooms","vendorList","ageTypeList","lateCheckInTypeList","loginUser","clientPayment","loginUserNo","roomTypeList","mealList","freeBreakFastList","bookingStatusList","saveDetailInfoEvent","saveNoticeEvent","saveRequestEvent"],[3,"active","plFinishYn","rooms","corporateCompCode","stationTypeCode","ageTypeList","bedTypeList","bookingItemCode","submitEvent"],[3,"active","bookingItemCode"],[3,"active","masterInfo","submitEvent"],[3,"active","stationTypeCode","bookerInfo","masterInfo","submitEvent"],[3,"active"],[3,"active","bookingLogList"],["itemCategoryCode","IC02",3,"active","consultingList","consultingSeq","submitEvent"],[3,"active","bookingItemCode","memoList","saveMemoEvent"],["itemCategoryCode","IC02",3,"active","stationTypeCode","bookingItemCode","bookingCode","bookers"],[3,"active","vendorPayment","vccTypeList","amountInfo","bookingInfo","submitNewEvent","reissueEvent","vccDataUpdateEvent","cancelEvent"]],template:function(e,t){if(1&e&&(L.Wb(0,"app-reservation-header",0),L.fc("clickBookerNameEvent",(function(){return t.clickBookerViewHandler()}))("clickUserInfoEvent",(function(){return t.clickUserInfoViewHandler()}))("clickUmsEvent",(function(){return t.clickUmsHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb(),L.Wb(4,"div",1),L.Wb(5,"div",2),L.Wb(6,"div",3),L.Rb(7,"app-tabs-booking-items",4),L.ic(8,"async"),L.ic(9,"async"),L.Wb(10,"div",5),L.Wb(11,"div",6),L.Wb(12,"div",7),L.Wb(13,"app-reservation-hotel-summary",8),L.fc("clickDetailViewEvent",(function(){return t.clickDetailViewHandler()}))("clickPaymentViewEvent",(function(){return t.clickCreatePaymentEvent()}))("clickMypageEvent",(function(){return t.clickMypageHandler()}))("clickUmsEvent",(function(){return t.clickUmsHandler()}))("clickCancelEvent",(function(){return t.clickCancelHandler()}))("clickConsultingEvent",(function(){return t.clickConsultingHandler()}))("clickMemoEvent",(function(){return t.clickMemoHandler()}))("clickChangeLogEvent",(function(){return t.clickChangeLogHandler()}))("clickPolicyMonitoringEvent",(function(){return t.clickPolicyMonitoringViewHandler()})),L.ic(14,"async"),L.ic(15,"async"),L.ic(16,"async"),L.ic(17,"async"),L.ic(18,"async"),L.ic(19,"async"),L.Vb(),L.Wb(20,"app-reservation-hotel-booking-info",9),L.fc("clickHotelSearchPageEvent",(function(e){return t.openHotelSearchPageHandler(e)}))("clickVoucherEvent",(function(){return t.openVoucherHandler()}))("clickInvoiceEvent",(function(){return t.openInvoiceHandler()}))("clickDetailViewEvent",(function(){return t.clickBookingInfoDetailViewHandler()}))("clickOperationWebSiteEvent",(function(){return t.clickOperationWebSiteHandler()}))("clickHotelContentDetailEvent",(function(){return t.openHotelContentDetailHandler()}))("clickRetrieveEvent",(function(){return t.clickRetrieveHandler()}))("clickCancelEvent",(function(){return t.clickCancelHandler()}))("clickFaxEvent",(function(){return t.clickFaxHandler()})),L.ic(21,"async"),L.ic(22,"async"),L.ic(23,"async"),L.ic(24,"async"),L.Vb(),L.Wb(25,"app-dialog",10),L.fc("visibleChange",(function(){return t.closeHotelContentDetailHandler()})),L.ic(26,"async"),L.Nc(27,bM,2,3,"app-hotel-detail",11),L.ic(28,"async"),L.Vb(),L.Nc(29,pM,4,7,"app-dialog",12),L.ic(30,"async"),L.Wb(31,"app-dialog",13),L.fc("visibleChange",(function(){return t.closeInvoiceHandler()})),L.ic(32,"async"),L.Nc(33,mM,4,9,"app-reservation-send-email-template",14),L.ic(34,"async"),L.Vb(),L.Wb(35,"app-reservation-hotel-traveler",15),L.fc("clickDetailViewEvent",(function(){return t.clickTravelersViewHandler()})),L.ic(36,"async"),L.ic(37,"async"),L.Vb(),L.Wb(38,"app-reservation-hotel-price",16),L.fc("clickPriceDetailViewEvent",(function(){return t.clickPriceDetailViewHandler()}))("clickPgCardEvent",(function(){return t.openPgCreditCardModal()}))("clickPgBankEvent",(function(){return t.openPgBankModal()})),L.ic(39,"async"),L.Vb(),L.Wb(40,"app-dialog",17),L.fc("visibleChange",(function(){return t.closePgCreditCardModal()})),L.ic(41,"async"),L.Nc(42,hM,2,3,"app-pg-credit-card",18),L.ic(43,"async"),L.Vb(),L.Wb(44,"app-dialog",19),L.fc("visibleChange",(function(){return t.closePgBankModal()})),L.ic(45,"async"),L.Nc(46,fM,3,7,"app-pg-bank",20),L.ic(47,"async"),L.Vb(),L.Wb(48,"app-reservation-hotel-payment",21),L.fc("clickDetailViewEvent",(function(){return t.clickPaymentDetailViewHandler()}))("clickCreditCardCancelEvent",(function(){return t.openCreditCardCancelModal()}))("clickCouponPointCancelEvent",(function(){return t.openCouponPointCancelModal()}))("clickCashReceiptIssueEvent",(function(e){return t.openCashReceiptIssueModal(e)}))("clickPaymentManualEvent",(function(){return t.openPaymentManualHandler()}))("openCardReceiptEvent",(function(e){return t.openCardReceiptHandler(e)}))("clickRefundRegisterEvent",(function(){return t.openRefundRegister()}))("clickPointPaymentEvent",(function(){return t.openPointPaymentHandler()}))("clickDeletePaymentEvent",(function(e){return t.clickDeletePaymentHandler(e)}))("clickCreatePaymentEvent",(function(){return t.clickCreatePaymentEvent()}))("selectPayment",(function(e){return t.selectPaymentHandler(e)})),L.ic(49,"async"),L.ic(50,"async"),L.ic(51,"async"),L.Vb(),L.Wb(52,"app-dialog",22),L.fc("visibleChange",(function(){return t.closeCreditCardCancelModal()})),L.ic(53,"async"),L.Nc(54,CM,3,7,"app-credit-card-cancel",23),L.ic(55,"async"),L.Vb(),L.Wb(56,"app-dialog",24),L.fc("visibleChange",(function(){return t.closeCouponPointCancelModal()})),L.ic(57,"async"),L.Nc(58,yM,2,3,"app-coupon-point-payment-cancel",25),L.ic(59,"async"),L.Vb(),L.Wb(60,"app-dialog",26),L.fc("visibleChange",(function(){return t.closeCashReceiptIssueModal()})),L.ic(61,"async"),L.Nc(62,kM,2,5,"app-cash-receipt-issue",27),L.ic(63,"async"),L.Vb(),L.Wb(64,"app-dialog",28),L.fc("visibleChange",(function(){return t.closePointPaymentHandler()})),L.ic(65,"async"),L.Nc(66,IM,3,6,"app-reservation-point-payment",29),L.ic(67,"async"),L.Vb(),L.Wb(68,"app-dialog",30),L.fc("visibleChange",(function(){return t.closePaymentManualHandler()})),L.ic(69,"async"),L.Nc(70,OM,6,15,"app-reservation-hotel-payment-manual-modal",31),L.ic(71,"async"),L.Vb(),L.Wb(72,"app-dialog",32),L.fc("visibleChange",(function(){return t.closeRefundRegister()})),L.ic(73,"async"),L.Nc(74,PM,3,6,"app-deposit-refund-detail",33),L.ic(75,"async"),L.Vb(),L.Wb(76,"app-dialog",34),L.fc("visibleChange",(function(){return t.closeCardReceiptHandler()})),L.ic(77,"async"),L.Nc(78,jM,2,3,"app-card-receipt-view",35),L.ic(79,"async"),L.Vb(),L.Wb(80,"app-reservation-hotel-cash-receipts",36),L.fc("openReceiptEvent",(function(e){return t.openCashReceiptHandler(e)}))("clickCashReceiptCancelEvent",(function(e){return t.cancelCashReceipt(e)})),L.ic(81,"async"),L.ic(82,"async"),L.Vb(),L.Wb(83,"app-dialog",37),L.fc("visibleChange",(function(){return t.closeCashReceiptHandler()})),L.ic(84,"async"),L.Nc(85,VM,4,9,"app-reservation-send-email-template",14),L.ic(86,"async"),L.Vb(),L.Vb(),L.Vb(),L.Wb(87,"app-dialog",38),L.fc("visibleChange",(function(){return t.clickCancelModalCloseHandler()})),L.ic(88,"async"),L.Nc(89,AM,4,9,"app-reservation-hotel-cancel-modal",39),L.ic(90,"async"),L.Vb(),L.Vb(),L.Vb(),L.Wb(91,"div",40),L.Wb(92,"div",41),L.Nc(93,WM,6,4,"li",42),L.ic(94,"async"),L.Vb(),L.Wb(95,"div",5),L.Nc(96,RM,9,24,"app-reservation-hotel-basis",43),L.ic(97,"async"),L.Nc(98,FM,17,48,"app-reservation-hotel-booking-detail",44),L.ic(99,"async"),L.Nc(100,SM,9,25,"app-reservation-hotel-travelers",45),L.ic(101,"async"),L.Nc(102,TM,3,6,"app-reservation-hotel-price-detail",46),L.ic(103,"async"),L.Nc(104,NM,3,6,"app-reservation-booker",47),L.ic(105,"async"),L.Nc(106,EM,5,12,"app-reservation-user",48),L.ic(107,"async"),L.Nc(108,MM,2,3,"app-reservation-hotel-retrieve",49),L.ic(109,"async"),L.Nc(110,DM,3,6,"app-reservation-history",50),L.ic(111,"async"),L.Nc(112,LM,4,9,"app-reservation-consulting",51),L.ic(113,"async"),L.Nc(114,_M,4,9,"app-reservation-memo",52),L.ic(115,"async"),L.Nc(116,$M,3,6,"app-reservation-hotel-policy-monitoring",46),L.ic(117,"async"),L.Nc(118,wM,6,17,"app-ums",53),L.ic(119,"async"),L.Nc(120,xM,6,15,"app-reservation-hotel-vendor-payment",54),L.ic(121,"async"),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e){var n;const e=null==(n=L.jc(23,106,t.summary$))?null:n.buttons;var i;const o=null==(i=L.jc(36,120,t.summary$))?null:i.stationTypeCode;L.pc("reservationInfoMaster",L.jc(1,80,t.master$))("bookingItemCode",L.jc(2,82,t.bookingItemCode$))("bookingItemCodes",L.jc(3,84,t.bookingItemCodes$)),L.Cb(7),L.pc("bookingItems",L.jc(8,86,t.bookingItems$))("bookingItemCode",L.jc(9,88,t.bookingItemCode$))("categoryCodeNameMap",t.categoryCodeNameMap),L.Cb(6),L.pc("summary",L.jc(14,90,t.summary$)||L.tc(208,gM))("basic",L.jc(15,92,t.basic$)||L.tc(209,gM))("bookingInfo",L.jc(16,94,t.bookingInfo$)||L.tc(210,gM))("plFinishYn",L.jc(17,96,t.plFinishYn$))("freeNonCancelableYn",L.jc(18,98,t.freeNonCancelableYn$))("bookingItemCode",L.jc(19,100,t.bookingItemCode$)),L.Cb(7),L.pc("bookingInfo",L.jc(21,102,t.bookingInfo$)||L.tc(211,gM))("rooms",L.jc(22,104,t.rooms$)||L.tc(212,vM))("summary",e)("checkInList",L.jc(24,108,t.checkInList$)),L.Cb(5),L.pc("visible",L.jc(26,110,t.isOpenHotelContentDetailModal$))("modal",!0)("hasScroll",!1),L.Cb(2),L.pc("ngIf",L.jc(28,112,t.isOpenHotelContentDetailModal$)),L.Cb(2),L.pc("ngIf",L.jc(30,114,t.isOpenVoucherModal$)),L.Cb(2),L.pc("visible",L.jc(32,116,t.isOpenInvoiceModal$))("modal",!0),L.Cb(2),L.pc("ngIf",L.jc(34,118,t.isOpenInvoiceModal$)),L.Cb(2),L.pc("stationTypeCode",o)("rooms",L.jc(37,122,t.rooms$)||L.tc(213,vM)),L.Cb(3),L.pc("priceInfo",L.jc(39,124,t.price$)||L.tc(214,gM)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(41,126,t.isOpenPgCreditCardModal$)),L.Cb(2),L.pc("ngIf",L.jc(43,128,t.isOpenPgCreditCardModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(45,130,t.isOpenPgBankModal$)),L.Cb(2),L.pc("ngIf",L.jc(47,132,t.isOpenPgBankModal$)),L.Cb(2),L.pc("bookingInfo",L.jc(49,134,t.bookingInfo$)||L.tc(215,gM))("paymentInfo",L.jc(50,136,t.payment$)||L.tc(216,gM))("plFinishYn",L.jc(51,138,t.plFinishYn$)),L.Cb(4),L.pc("modal",!0)("visible",L.jc(53,140,t.isOpenCreditCardCancelModal$)),L.Cb(2),L.pc("ngIf",L.jc(55,142,t.isOpenCreditCardCancelModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(57,144,t.isOpenCouponPointCancelModal$)),L.Cb(2),L.pc("ngIf",L.jc(59,146,t.isOpenCouponPointCancelModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(61,148,t.isOpenCashReceiptIssueModal$)),L.Cb(2),L.pc("ngIf",L.jc(63,150,t.isOpenCashReceiptIssueModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(65,152,t.isOpenPointPaymentModal$)),L.Cb(2),L.pc("ngIf",L.jc(67,154,t.isOpenPointPaymentModal$)),L.Cb(2),L.pc("hasScroll",!1)("modal",!0)("visible",L.jc(69,156,t.isOpenPaymentManualModal$)),L.Cb(2),L.pc("ngIf",L.jc(71,158,t.isOpenPaymentManualModal$)),L.Cb(2),L.pc("visible",L.jc(73,160,t.isOpenRefundRegisterModal$))("modal",!0),L.Cb(2),L.pc("ngIf",L.jc(75,162,t.isOpenRefundRegisterModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(77,164,t.isOpenCardReceiptModal$)),L.Cb(2),L.pc("ngIf",L.jc(79,166,t.isOpenCardReceiptModal$)),L.Cb(2),L.pc("paymentInfo",L.jc(81,168,t.payment$)||L.tc(217,gM))("cashReceipts",L.jc(82,170,t.cashReceipts$)),L.Cb(3),L.pc("modal",!0)("visible",L.jc(84,172,t.isOpenCashReceiptModal$)),L.Cb(2),L.pc("ngIf",L.jc(86,174,t.isOpenCashReceiptModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(88,176,t.isOpenCancelModal$)),L.Cb(2),L.pc("ngIf",L.jc(90,178,t.isOpenCancelModal$)),L.Cb(4),L.pc("ngForOf",L.jc(94,180,t.subTabs$)),L.Cb(3),L.pc("ngIf",L.jc(97,182,t.currentSubTab$)===t.tabNames.BASIS),L.Cb(2),L.pc("ngIf",L.jc(99,184,t.currentSubTab$)===t.tabNames.BOOKING_DETAIL),L.Cb(2),L.pc("ngIf",L.jc(101,186,t.currentSubTab$)===t.tabNames.TRAVELERS),L.Cb(2),L.pc("ngIf",L.jc(103,188,t.currentSubTab$)===t.tabNames.PRICE_DETAIL),L.Cb(2),L.pc("ngIf",L.jc(105,190,t.currentSubTab$)===t.tabNames.BOOKER),L.Cb(2),L.pc("ngIf",L.jc(107,192,t.currentSubTab$)===t.tabNames.USER_INFO),L.Cb(2),L.pc("ngIf",L.jc(109,194,t.currentSubTab$)===t.tabNames.RETRIEVE),L.Cb(2),L.pc("ngIf",L.jc(111,196,t.currentSubTab$)===t.tabNames.HISTORY),L.Cb(2),L.pc("ngIf",L.jc(113,198,t.currentSubTab$)===t.tabNames.CONSULTING),L.Cb(2),L.pc("ngIf",L.jc(115,200,t.currentSubTab$)===t.tabNames.MEMO),L.Cb(2),L.pc("ngIf",L.jc(117,202,t.currentSubTab$)===t.tabNames.POLICY_MONITORING),L.Cb(2),L.pc("ngIf",L.jc(119,204,t.currentSubTab$)===t.tabNames.UMS),L.Cb(2),L.pc("ngIf",L.jc(121,206,t.currentSubTab$)===t.tabNames.VENDOR_PAYMENT)}},directives:[rF,LF,gN,VN,un.a,k.o,TN,DN,wN,QN,AF,k.n,GN.a,Kn,_i,to,OS,PS,gi,VS,XN,JR,XV,ZN,SF,uE,vE,EE,XE,RT,de,JE,mt,Je,Cn,nM,FT.a,dM],pipes:[k.b],encapsulation:2}),e})(),qM=(()=>{class e{constructor(){this.submitEvent=new L.n,this.clickPgCreditCardEvent=new L.n,this.clickPgBankEvent=new L.n,this.clickCashReceiptIssueEvent=new L.n,this.clickCashReceiptViewEvent=new L.n,this.clickAddPaymentInfoEvent=new L.n,this.clickCreditCardCancelEvent=new L.n}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-payment-detail-info"]],outputs:{submitEvent:"submitEvent",clickPgCreditCardEvent:"clickPgCreditCardEvent",clickPgBankEvent:"clickPgBankEvent",clickCashReceiptIssueEvent:"clickCashReceiptIssueEvent",clickCashReceiptViewEvent:"clickCashReceiptViewEvent",clickAddPaymentInfoEvent:"clickAddPaymentInfoEvent",clickCreditCardCancelEvent:"clickCreditCardCancelEvent"},decls:61,vars:0,consts:[[1,"page-item-header"],[1,"title"],[1,"control"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"btn","btn-outline-secondary","sm",3,"click"],[1,"table","table-bordered","table-responsive"],["width","42px"],["scope","col",1,"align-c"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"\uacb0\uc81c \uc815\ubcf4"),L.Vb(),L.Wb(3,"div",2),L.Wb(4,"button",3),L.fc("click",(function(){return t.clickPgCreditCardEvent.emit()})),L.Pc(5,"PG\uc218\uae30\uacb0\uc81c"),L.Vb(),L.Wb(6,"button",3),L.fc("click",(function(){return t.clickPgBankEvent.emit()})),L.Pc(7,"\uac00\uc0c1\uacc4\uc88c\ubc1c\ud589"),L.Vb(),L.Wb(8,"button",3),L.fc("click",(function(){return t.clickCashReceiptIssueEvent.emit()})),L.Pc(9,"\ud604\uae08\uc601\uc218\uc99d\ubc1c\ud589"),L.Vb(),L.Wb(10,"button",3),L.fc("click",(function(){return t.clickCashReceiptViewEvent.emit()})),L.Pc(11,"\ud604\uae08\uc601\uc218\uc99d\ubcf4\uae30"),L.Vb(),L.Wb(12,"button",3),L.fc("click",(function(){return t.clickAddPaymentInfoEvent.emit()})),L.Pc(13,"\uacb0\uc81c\uc815\ubcf4\ucd94\uac00"),L.Vb(),L.Wb(14,"button",4),L.fc("click",(function(){return t.clickCreditCardCancelEvent.emit()})),L.Pc(15,"\uacb0\uc81c\ucde8\uc18c"),L.Vb(),L.Vb(),L.Vb(),L.Wb(16,"div",5),L.Wb(17,"table"),L.Wb(18,"caption"),L.Pc(19," \uacb0\uc81c \uc815\ubcf4 "),L.Vb(),L.Wb(20,"colgroup"),L.Rb(21,"col",6),L.Rb(22,"col"),L.Rb(23,"col"),L.Rb(24,"col"),L.Rb(25,"col"),L.Rb(26,"col"),L.Rb(27,"col"),L.Vb(),L.Wb(28,"thead"),L.Wb(29,"tr"),L.Rb(30,"th",7),L.Wb(31,"th",7),L.Pc(32,"\uacb0\uc81c\uc218\ub2e8"),L.Vb(),L.Wb(33,"th",7),L.Pc(34,"\uacb0\uc81c\uc815\ubcf4"),L.Rb(35,"br"),L.Pc(36,"\uac00\uc0c1\uacc4\uc88c / \uacc4\uc88c \ub9cc\ub8cc\uc77c"),L.Vb(),L.Wb(37,"th",7),L.Pc(38,"\uacb0\uc81c\uc790"),L.Vb(),L.Wb(39,"th",7),L.Pc(40,"\uc2b9\uc778\ubc88\ud638"),L.Vb(),L.Wb(41,"th",7),L.Pc(42,"\uacb0\uc81c\uae08\uc561"),L.Rb(43,"br"),L.Pc(44,"\uacb0\uc81c\uc77c / \uc0ac\uc6a9\uc77c"),L.Vb(),L.Wb(45,"th",7),L.Pc(46,"\ucde8\uc18c\uae08\uc561"),L.Rb(47,"br"),L.Pc(48,"\ucde8\uc18c\uc77c"),L.Vb(),L.Vb(),L.Vb(),L.Wb(49,"tbody"),L.Wb(50,"tr"),L.Rb(51,"td"),L.Rb(52,"td"),L.Rb(53,"td"),L.Rb(54,"td"),L.Rb(55,"td"),L.Rb(56,"td"),L.Rb(57,"td"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(58,"div",8),L.Wb(59,"button",9),L.Pc(60,"\uc800\uc7a5"),L.Vb(),L.Vb())},encapsulation:2,changeDetection:0}),e})(),UM=(()=>{class e{constructor(){this.clickPgCreditCardEvent=new L.n,this.clickPgBankEvent=new L.n,this.clickCashReceiptIssueEvent=new L.n,this.clickCashReceiptViewEvent=new L.n,this.clickAddPaymentInfoEvent=new L.n,this.clickCreditCardCancelEvent=new L.n}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-payment-detail"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active"},outputs:{clickPgCreditCardEvent:"clickPgCreditCardEvent",clickPgBankEvent:"clickPgBankEvent",clickCashReceiptIssueEvent:"clickCashReceiptIssueEvent",clickCashReceiptViewEvent:"clickCashReceiptViewEvent",clickAddPaymentInfoEvent:"clickAddPaymentInfoEvent",clickCreditCardCancelEvent:"clickCreditCardCancelEvent"},decls:2,vars:0,consts:[[1,"page-item"],[3,"clickPgCreditCardEvent","clickPgBankEvent","clickCashReceiptIssueEvent","clickCashReceiptViewEvent","clickCreditCardCancelEvent"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"app-reservation-hotel-payment-detail-info",1),L.fc("clickPgCreditCardEvent",(function(){return t.clickPgCreditCardEvent.emit()}))("clickPgBankEvent",(function(){return t.clickPgBankEvent.emit()}))("clickCashReceiptIssueEvent",(function(){return t.clickCashReceiptIssueEvent.emit()}))("clickCashReceiptViewEvent",(function(){return t.clickCashReceiptViewEvent.emit()}))("clickCreditCardCancelEvent",(function(){return t.clickCreditCardCancelEvent.emit()})),L.Vb(),L.Vb())},directives:[qM],encapsulation:2,changeDetection:0}),e})();function QM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",12),L.fc("click",(function(){return L.Fc(e),L.hc().onClickConsulting()})),L.Pc(1," 1:1 ("),L.Wb(2,"span",13),L.Pc(3),L.Vb(),L.Pc(4),L.Vb()}if(2&e){const e=L.hc();L.Cb(3),L.Qc(null==e.summaryButtons?null:e.summaryButtons.notAnsweredCount),L.Cb(1),L.Rc("/",null==e.summaryButtons?null:e.summaryButtons.consultingCount,") ")}}function GM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",12),L.fc("click",(function(){return L.Fc(e),L.hc().onClickFareRule()})),L.Pc(1,"Fare Rule"),L.Vb()}}function KM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",12),L.fc("click",(function(){return L.Fc(e),L.hc().onClickGdsPnr()})),L.Pc(1,"GDS PNR"),L.Vb()}}function zM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",12),L.fc("click",(function(){return L.Fc(e),L.hc().onClickMemo()})),L.Pc(1,"Remark"),L.Vb()}}function XM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",12),L.fc("click",(function(){return L.Fc(e),L.hc().onClickUms()})),L.Pc(1,"UMS"),L.Vb()}}function ZM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",12),L.fc("click",(function(){return L.Fc(e),L.hc().onClickChangeLog()})),L.Pc(1,"History"),L.Vb()}}function JM(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",12),L.fc("click",(function(){return L.Fc(e),L.hc().onClickDetailView()})),L.Pc(1,"Basic Info"),L.Vb()}}function eD(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",12),L.fc("click",(function(){return L.Fc(e),L.hc().onClickRetrieve()})),L.Pc(1,"Retreive"),L.Vb()}}function tD(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",14),L.fc("click",(function(){return L.Fc(e),L.hc().onClickCancel()})),L.Pc(1,"Cancel"),L.Vb()}if(2&e){const e=L.hc();L.pc("disabled","BKS03"===(null==e.summaryInfo?null:e.summaryInfo.bookingStatusCode))}}let nD=(()=>{class e{constructor(e){this._alertService=e,this.clickDetailViewEvent=new L.n,this.clickRetrieveEvent=new L.n,this.clickMypageEvent=new L.n,this.clickUmsEvent=new L.n,this.clickCancelEvent=new L.n,this.clickConsultingEvent=new L.n,this.clickMemoEvent=new L.n,this.clickChangeLogEvent=new L.n,this.clickFareRuleEvent=new L.n,this.clickGdsPnrEvent=new L.n,this.clickDepositEvent=new L.n,this.clickPolicyMonitoringEvent=new L.n,this.cancelButtonClickYn=!1}get summaryButtons(){var e;return null===(e=this.summaryInfo)||void 0===e?void 0:e.buttons}get isBtms(){var e;return"STN05"===(null===(e=this.summaryInfo)||void 0===e?void 0:e.stationTypeCode)}get isB2b(){var e;return"STN04"===(null===(e=this.summaryInfo)||void 0===e?void 0:e.stationTypeCode)}onClickDetailView(){this.clickDetailViewEvent.emit()}onClickRetrieve(){this.clickRetrieveEvent.emit()}onClickMyPage(){this.clickMypageEvent.emit()}onClickUms(){this.clickUmsEvent.emit()}onClickCancel(){this.cancelButtonClickYn=!0;const{bookingStatusCode:e}=this.summaryInfo;["BKS01","BKS02","BKS04"].indexOf(e)<0?this._alertService.alert("This reservation is non-cancelable reservation."):this.clickCancelEvent.emit()}onClickConsulting(){this.clickConsultingEvent.emit()}onClickMemo(){this.clickMemoEvent.emit()}onClickChangeLog(){this.clickChangeLogEvent.emit()}onClickFareRule(){this.clickFareRuleEvent.emit()}onClickGdsPnr(){this.clickGdsPnrEvent.emit()}onClickDeposit(){this.clickDepositEvent.emit()}onClickPolicyMonitoring(){this.clickPolicyMonitoringEvent.emit()}onDblclickBookingItemCode(){const e=document.getElementById("booking-item-code"),t=window.getSelection();t.removeAllRanges();const n=document.createRange();n.selectNodeContents(e),t.addRange(n)}isConfirmedBooking(){var e;return"BKS06"===(null===(e=this.summaryInfo)||void 0===e?void 0:e.bookingStatusCode)}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-summary"]],inputs:{summaryInfo:"summaryInfo",bookingItemCode:"bookingItemCode"},outputs:{clickDetailViewEvent:"clickDetailViewEvent",clickRetrieveEvent:"clickRetrieveEvent",clickMypageEvent:"clickMypageEvent",clickUmsEvent:"clickUmsEvent",clickCancelEvent:"clickCancelEvent",clickConsultingEvent:"clickConsultingEvent",clickMemoEvent:"clickMemoEvent",clickChangeLogEvent:"clickChangeLogEvent",clickFareRuleEvent:"clickFareRuleEvent",clickGdsPnrEvent:"clickGdsPnrEvent",clickDepositEvent:"clickDepositEvent",clickPolicyMonitoringEvent:"clickPolicyMonitoringEvent"},decls:23,vars:11,consts:[[1,"reservation-summary"],[1,"summary-header"],[1,"title"],["id","booking-item-code",3,"dblclick"],[1,"flex-column"],[1,"control"],[1,"label-text"],[1,"font-size-sm"],[1,"summary-body"],[1,"control-button-group"],["class","btn btn-light",3,"click",4,"ngIf"],["class","btn btn-reset",3,"disabled","click",4,"ngIf"],[1,"btn","btn-light",3,"click"],[1,"color-red"],[1,"btn","btn-reset",3,"disabled","click"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"div",2),L.Wb(3,"span",3),L.fc("dblclick",(function(){return t.onDblclickBookingItemCode()})),L.Pc(4),L.Vb(),L.Vb(),L.Wb(5,"div",4),L.Wb(6,"ul",5),L.Wb(7,"li"),L.Wb(8,"span",6),L.Pc(9,"BKG Status:"),L.Vb(),L.Wb(10,"span",7),L.Pc(11),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(12,"div",8),L.Wb(13,"div",9),L.Nc(14,QM,5,2,"button",10),L.Nc(15,GM,2,0,"button",10),L.Nc(16,KM,2,0,"button",10),L.Nc(17,zM,2,0,"button",10),L.Nc(18,XM,2,0,"button",10),L.Nc(19,ZM,2,0,"button",10),L.Nc(20,JM,2,0,"button",10),L.Nc(21,eD,2,0,"button",10),L.Nc(22,tD,2,1,"button",11),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(4),L.Qc(t.bookingItemCode||"-"),L.Cb(7),L.Qc((null==t.summaryInfo?null:t.summaryInfo.bookingStatusName)||"-"),L.Cb(3),L.pc("ngIf",null==t.summaryButtons?null:t.summaryButtons.consultingYn),L.Cb(1),L.pc("ngIf",null==t.summaryButtons?null:t.summaryButtons.fareRuleYn),L.Cb(1),L.pc("ngIf",null==t.summaryButtons?null:t.summaryButtons.gdsPnrYn),L.Cb(1),L.pc("ngIf",null==t.summaryButtons?null:t.summaryButtons.remarkYn),L.Cb(1),L.pc("ngIf",null==t.summaryButtons?null:t.summaryButtons.umsYn),L.Cb(1),L.pc("ngIf",null==t.summaryButtons?null:t.summaryButtons.historyYn),L.Cb(1),L.pc("ngIf",null==t.summaryButtons?null:t.summaryButtons.basicInfoYn),L.Cb(1),L.pc("ngIf",null==t.summaryButtons?null:t.summaryButtons.retrieveYn),L.Cb(1),L.pc("ngIf",null==t.summaryButtons?null:t.summaryButtons.cancelYn))},directives:[k.o],encapsulation:2,changeDetection:0}),e})();function iD(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",6),L.fc("click",(function(){return L.Fc(e),L.hc().clickDivideModalEvent.emit()})),L.Pc(1," Booking Divided "),L.Vb()}}function oD(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",6),L.fc("click",(function(){return L.Fc(e),L.hc().clickDetailViewEvent.emit()})),L.Pc(1,"Travelers"),L.Vb()}}function aD(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",6),L.fc("click",(function(){return L.Fc(e),L.hc().clickApisMileageEvent.emit()})),L.Pc(1,"APIS/Mileage"),L.Vb()}}function cD(e,t){if(1&e&&(L.Wb(0,"tr"),L.Wb(1,"td",11),L.Pc(2),L.Vb(),L.Wb(3,"td"),L.Wb(4,"p"),L.Pc(5),L.Vb(),L.Wb(6,"p"),L.Pc(7),L.Vb(),L.Vb(),L.Wb(8,"td",11),L.Pc(9),L.Vb(),L.Wb(10,"td",11),L.Pc(11),L.Vb(),L.Wb(12,"td",11),L.Pc(13),L.Vb(),L.Wb(14,"td"),L.Wb(15,"p"),L.Pc(16),L.Vb(),L.Wb(17,"p"),L.Pc(18),L.Vb(),L.Vb(),L.Wb(19,"td",11),L.Pc(20),L.Vb(),L.Wb(21,"td",11),L.Pc(22),L.Vb(),L.Vb()),2&e){const e=L.hc(),t=e.$implicit,n=e.index,i=L.hc(3);L.Cb(2),L.Qc(t.travelerNo),L.Cb(3),L.Qc(t.nameEn),L.Cb(2),L.Qc(t.name),L.Cb(2),L.Qc(t.ageTypeCode),L.Cb(2),L.Qc(t.birthday),L.Cb(2),L.Qc(null==i.travelers[n+1]?null:i.travelers[n+1].travelerNo),L.Cb(3),L.Qc(null==i.travelers[n+1]?null:i.travelers[n+1].nameEn),L.Cb(2),L.Qc(null==i.travelers[n+1]?null:i.travelers[n+1].name),L.Cb(2),L.Qc(null==i.travelers[n+1]?null:i.travelers[n+1].ageTypeCode),L.Cb(2),L.Qc(null==i.travelers[n+1]?null:i.travelers[n+1].birthday)}}function sD(e,t){1&e&&L.Nc(0,cD,23,10,"tr",9),2&e&&L.pc("ngIf",t.even)}function rD(e,t){if(1&e&&(L.Ub(0),L.Nc(1,sD,1,1,"ng-template",10),L.Tb()),2&e){const e=L.hc(2);L.Cb(1),L.pc("ngForOf",e.travelers)}}function lD(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",12),L.Pc(3,"-"),L.Vb(),L.Vb(),L.Tb())}function dD(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"Y"),L.Vb())}function bD(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"N"),L.Vb())}function uD(e,t){if(1&e&&(L.Wb(0,"tr"),L.Wb(1,"td",11),L.Pc(2),L.Vb(),L.Wb(3,"td"),L.Wb(4,"p"),L.Pc(5),L.Vb(),L.Wb(6,"p"),L.Pc(7),L.Vb(),L.Vb(),L.Wb(8,"td",11),L.Pc(9),L.Vb(),L.Wb(10,"td",11),L.Pc(11),L.Vb(),L.Wb(12,"td",11),L.Pc(13),L.Vb(),L.Wb(14,"td",11),L.Pc(15),L.Vb(),L.Wb(16,"td",11),L.Pc(17),L.Vb(),L.Wb(18,"td",11),L.Pc(19),L.Vb(),L.Wb(20,"td",11),L.Nc(21,dD,2,0,"span",9),L.Nc(22,bD,2,0,"span",9),L.Vb(),L.Vb()),2&e){const e=t.$implicit;L.Cb(2),L.Qc(e.travelerNo),L.Cb(3),L.Qc(e.nameEn),L.Cb(2),L.Qc(e.name),L.Cb(2),L.Qc(e.ageTypeCode),L.Cb(2),L.Qc(e.birthday),L.Cb(2),L.Qc(e.userTypeName),L.Cb(2),L.Qc(e.deptName),L.Cb(2),L.Qc(e.positionName),L.Cb(2),L.Qc(e.outsideStaffTypeName),L.Cb(2),L.pc("ngIf",e.policyAppliedTravelerYn),L.Cb(1),L.pc("ngIf",!e.policyAppliedTravelerYn)}}function pD(e,t){if(1&e&&(L.Ub(0),L.Nc(1,uD,23,11,"ng-template",10),L.Tb()),2&e){const e=L.hc(3);L.Cb(1),L.pc("ngForOf",e.travelers)}}function mD(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",12),L.Pc(3,"\ud0d1\uc2b9\uc790 \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."),L.Vb(),L.Vb(),L.Tb())}function hD(e,t){if(1&e&&(L.Wb(0,"table"),L.Wb(1,"caption"),L.Pc(2," \ud0d1\uc2b9\uc790\uc815\ubcf4 "),L.Vb(),L.Wb(3,"colgroup"),L.Rb(4,"col"),L.Rb(5,"col"),L.Rb(6,"col"),L.Rb(7,"col"),L.Rb(8,"col"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Vb(),L.Wb(12,"thead"),L.Wb(13,"tr"),L.Wb(14,"th",8),L.Pc(15,"No."),L.Vb(),L.Wb(16,"th",8),L.Pc(17,"\uc774\ub984"),L.Vb(),L.Wb(18,"th",8),L.Pc(19,"\uc5f0\ub839\uad6c\ubd84"),L.Vb(),L.Wb(20,"th",8),L.Pc(21,"\uc0dd\ub144\uc6d4\uc77c"),L.Vb(),L.Wb(22,"th",8),L.Pc(23,"\uad6c\ubd84"),L.Vb(),L.Wb(24,"th",8),L.Pc(25,"\ubd80\uc11c"),L.Vb(),L.Wb(26,"th",8),L.Pc(27,"\uc9c1\uae09"),L.Vb(),L.Wb(28,"th",8),L.Pc(29,"\uc678\ubd80\uc9c1\uc6d0 \uad6c\ubd84"),L.Vb(),L.Wb(30,"th",8),L.Pc(31,"\ucd9c\uc7a5\uaddc\uc815\uae30\uc900\ub300\uc0c1"),L.Vb(),L.Vb(),L.Vb(),L.Wb(32,"tbody"),L.Nc(33,pD,2,1,"ng-container",9),L.Nc(34,mD,4,0,"ng-container",9),L.Vb(),L.Vb()),2&e){const e=L.hc(2);L.Cb(33),L.pc("ngIf",e.hasTravelers),L.Cb(1),L.pc("ngIf",!e.hasTravelers)}}function gD(e,t){if(1&e&&(L.Wb(0,"div",7),L.Wb(1,"table"),L.Wb(2,"caption"),L.Pc(3," Travelers "),L.Vb(),L.Wb(4,"colgroup"),L.Rb(5,"col"),L.Rb(6,"col"),L.Rb(7,"col"),L.Rb(8,"col"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Vb(),L.Wb(13,"thead"),L.Wb(14,"tr"),L.Wb(15,"th",8),L.Pc(16,"No."),L.Vb(),L.Wb(17,"th",8),L.Pc(18,"Name"),L.Vb(),L.Wb(19,"th",8),L.Pc(20,"Age Type"),L.Vb(),L.Wb(21,"th",8),L.Pc(22,"Birthday"),L.Vb(),L.Wb(23,"th",8),L.Pc(24,"No."),L.Vb(),L.Wb(25,"th",8),L.Pc(26,"Name"),L.Vb(),L.Wb(27,"th",8),L.Pc(28,"Age Type"),L.Vb(),L.Wb(29,"th",8),L.Pc(30,"Birthday"),L.Vb(),L.Vb(),L.Vb(),L.Wb(31,"tbody"),L.Nc(32,rD,2,1,"ng-container",9),L.Nc(33,lD,4,0,"ng-container",9),L.Vb(),L.Vb(),L.Nc(34,hD,35,2,"table",9),L.Vb()),2&e){const e=L.hc();L.Cb(32),L.pc("ngIf",e.hasTravelers),L.Cb(1),L.pc("ngIf",!e.hasTravelers),L.Cb(1),L.pc("ngIf",!1)}}let fD=(()=>{class e{constructor(e){this.dataService=e,this.clickDetailViewEvent=new L.n,this.clickApisMileageEvent=new L.n,this.clickDivideModalEvent=new L.n,this.isActiveToggle=!0}get travelers(){var e;return(null===(e=this.travelerInfo)||void 0===e?void 0:e.travelers)||[]}get travelerButtons(){var e;return null===(e=this.travelerInfo)||void 0===e?void 0:e.buttons}get hasTravelers(){var e,t;return(null===(t=null===(e=this.travelerInfo)||void 0===e?void 0:e.travelers)||void 0===t?void 0:t.length)>0}get isBtms(){var e;return"STN05"===(null===(e=this.summaryInfo)||void 0===e?void 0:e.stationTypeCode)}ngOnInit(){}onClickToggle(){this.isActiveToggle=!this.isActiveToggle}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-traveler"]],inputs:{travelerInfo:"travelerInfo",summaryInfo:"summaryInfo"},outputs:{clickDetailViewEvent:"clickDetailViewEvent",clickApisMileageEvent:"clickApisMileageEvent",clickDivideModalEvent:"clickDivideModalEvent"},decls:9,vars:6,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title","toggle",3,"click"],[1,"control"],["class","btn btn-outline-dark sm",3,"click",4,"ngIf"],["class","table table-bordered table-responsive",4,"ngIf"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"table","table-bordered","table-responsive"],["scope","col",1,"align-c"],[4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"align-c"],["colspan","8",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"a",2),L.fc("click",(function(){return t.onClickToggle()})),L.Pc(3," Travelers"),L.Vb(),L.Wb(4,"div",3),L.Nc(5,iD,2,0,"button",4),L.Nc(6,oD,2,0,"button",4),L.Nc(7,aD,2,0,"button",4),L.Vb(),L.Vb(),L.Nc(8,gD,35,3,"div",5),L.Vb()),2&e&&(L.Cb(2),L.Gb("active",t.isActiveToggle),L.Cb(3),L.pc("ngIf",(null==t.travelerButtons?null:t.travelerButtons.divideYn)&&!1===(null==t.summaryInfo?null:t.summaryInfo.domesticYn)),L.Cb(1),L.pc("ngIf",null==t.travelerButtons?null:t.travelerButtons.paxInfoYn),L.Cb(1),L.pc("ngIf",null==t.travelerButtons?null:t.travelerButtons.apisMileageYn),L.Cb(1),L.pc("ngIf",t.isActiveToggle))},directives:[k.o,k.n],encapsulation:2,changeDetection:0}),e})();function vD(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",7),L.fc("click",(function(){return L.Fc(e),L.hc().clickDetailViewEvent.emit()})),L.Pc(1,"View Detail"),L.Vb()}}function CD(e,t){if(1&e&&(L.Wb(0,"span"),L.Pc(1),L.Vb()),2&e){const e=L.hc().$implicit;L.Cb(1),L.Rc("(",null==e?null:e.operatingAirlineCode,")")}}function yD(e,t){if(1&e&&(L.Wb(0,"tr"),L.Wb(1,"td",12),L.Pc(2),L.Vb(),L.Wb(3,"td",12),L.Wb(4,"span"),L.Pc(5),L.Vb(),L.Wb(6,"span",13),L.Pc(7),L.Vb(),L.Nc(8,CD,2,1,"span",11),L.Vb(),L.Wb(9,"td",12),L.Pc(10),L.Vb(),L.Wb(11,"td",12),L.Pc(12),L.Vb(),L.Wb(13,"td",12),L.Pc(14),L.Vb(),L.Wb(15,"td",12),L.Pc(16),L.Vb(),L.Wb(17,"td",12),L.Pc(18),L.Vb(),L.Wb(19,"td",12),L.Pc(20),L.Vb(),L.Wb(21,"td",12),L.Wb(22,"span",14),L.Pc(23),L.Vb(),L.Wb(24,"span"),L.Pc(25),L.Vb(),L.Vb(),L.Wb(26,"td",12),L.Pc(27),L.Vb(),L.Wb(28,"td",12),L.Pc(29),L.Vb(),L.Wb(30,"td",12),L.Pc(31),L.Vb(),L.Wb(32,"td",12),L.Pc(33),L.Vb(),L.Vb()),2&e){const e=t.$implicit;L.Cb(2),L.Qc(e.itineraryNo),L.Cb(3),L.Qc(null==e?null:e.marketingAirlineCode),L.Cb(2),L.Qc(e.marketingFlightNumber),L.Cb(1),L.pc("ngIf",(null==e?null:e.operatingAirlineCode)&&e.marketingAirlineCode!==e.operatingAirlineCode),L.Cb(2),L.Qc(e.bookingClassCode),L.Cb(2),L.Qc(e.departureDate),L.Cb(2),L.Qc(e.departureWeekday),L.Cb(2),L.Qc(e.originAirportCode),L.Cb(2),L.Qc(e.destinationAirportCode),L.Cb(2),L.Qc(e.departureTime),L.Cb(3),L.Qc(null==e?null:e.arrivalTime),L.Cb(2),L.Qc(null==e?null:e.dayChange),L.Cb(2),L.Qc(e.segmentStatusCode),L.Cb(2),L.Qc(e.airlinePnr),L.Cb(2),L.Qc(e.freeBaggage),L.Cb(2),L.Qc(e.flyingTime)}}function kD(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",15),L.Pc(3,"-"),L.Vb(),L.Vb(),L.Tb())}function ID(e,t){if(1&e&&(L.Wb(0,"div",8),L.Wb(1,"table"),L.Wb(2,"caption"),L.Pc(3," Schedule "),L.Vb(),L.Wb(4,"colgroup"),L.Rb(5,"col"),L.Rb(6,"col"),L.Rb(7,"col"),L.Rb(8,"col"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Rb(13,"col"),L.Rb(14,"col"),L.Rb(15,"col"),L.Rb(16,"col"),L.Rb(17,"col"),L.Vb(),L.Wb(18,"thead"),L.Wb(19,"tr"),L.Wb(20,"th",9),L.Pc(21,"No."),L.Vb(),L.Wb(22,"th",9),L.Pc(23,"FL.No."),L.Vb(),L.Wb(24,"th",9),L.Pc(25,"B.CLS"),L.Vb(),L.Wb(26,"th",9),L.Pc(27,"Deptature"),L.Vb(),L.Wb(28,"th",9),L.Pc(29,"Day"),L.Vb(),L.Wb(30,"th",9),L.Pc(31,"Departure"),L.Vb(),L.Wb(32,"th",9),L.Pc(33,"Arrival"),L.Vb(),L.Wb(34,"th",9),L.Pc(35,"Dep. Time"),L.Vb(),L.Wb(36,"th",9),L.Pc(37,"Arr. Time"),L.Vb(),L.Wb(38,"th",9),L.Pc(39,"BKG Staus"),L.Vb(),L.Wb(40,"th",9),L.Pc(41,"Airline R/N"),L.Vb(),L.Wb(42,"th",9),L.Pc(43,"A.Baggage"),L.Vb(),L.Wb(44,"th",9),L.Pc(45,"F.Time"),L.Vb(),L.Vb(),L.Vb(),L.Wb(46,"tbody"),L.Nc(47,yD,34,16,"ng-template",10),L.Nc(48,kD,4,0,"ng-container",11),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.hc();L.Cb(47),L.pc("ngForOf",e.segments),L.Cb(1),L.pc("ngIf",e.segments.length<1)}}let OD=(()=>{class e{constructor(){this.clickDetailViewEvent=new L.n,this.clickSeatViewEvent=new L.n,this.fixSegmentEvent=new L.n,this.isActiveToggle=!0}get summaryInfo(){return this._summaryInfo}set summaryInfo(e){if(this._summaryInfo=e,!Q.isNil(e)){const{segmentFixedYn:t}=e;this.segmentFixedYn=t}}get bookingItemCode(){return this._bookingItemCode}set bookingItemCode(e){this._bookingItemCode=e}get segments(){var e,t;return(null===(t=null===(e=this.segmentInfo)||void 0===e?void 0:e.segments)||void 0===t?void 0:t.filter(e=>!1===e.deleteYn))||[]}get segmentButtons(){var e;return null===(e=this.segmentInfo)||void 0===e?void 0:e.buttons}ngOnInit(){}onChangeSegmentFixed(e){this.segmentFixedYn=e,this.fixSegmentEvent.emit({bookingItemCode:this.bookingItemCode,segmentFixedYn:e})}onClickToggle(){this.isActiveToggle=!this.isActiveToggle}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-segment"]],inputs:{segmentInfo:"segmentInfo",summaryInfo:"summaryInfo",bookingItemCode:"bookingItemCode"},outputs:{clickDetailViewEvent:"clickDetailViewEvent",clickSeatViewEvent:"clickSeatViewEvent",fixSegmentEvent:"fixSegmentEvent"},decls:8,vars:6,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title","toggle",3,"click"],[1,"control"],["label","Segment Fixed",1,"auth-other",3,"binary","ngModel","onChange","ngModelChange"],["class","btn btn-outline-dark sm ml10",3,"click",4,"ngIf"],["class","table table-bordered table-responsive",4,"ngIf"],[1,"btn","btn-outline-dark","sm","ml10",3,"click"],[1,"table","table-bordered","table-responsive"],["scope","col",1,"align-c"],["ngFor","",3,"ngForOf"],[4,"ngIf"],[1,"align-c"],[1,"ml5"],[1,"mr5"],["colspan","12",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"a",2),L.fc("click",(function(){return t.onClickToggle()})),L.Pc(3,"Schedule"),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"app-checkbox",4),L.fc("onChange",(function(e){return t.onChangeSegmentFixed(e)}))("ngModelChange",(function(e){return t.segmentFixedYn=e})),L.Vb(),L.Nc(6,vD,2,0,"button",5),L.Vb(),L.Vb(),L.Nc(7,ID,49,2,"div",6),L.Vb()),2&e&&(L.Cb(2),L.Gb("active",t.isActiveToggle),L.Cb(3),L.pc("binary",!0)("ngModel",t.segmentFixedYn),L.Cb(1),L.pc("ngIf",null==t.segmentButtons?null:t.segmentButtons.detailViewYn),L.Cb(1),L.pc("ngIf",t.isActiveToggle))},directives:[Kt.a,I.r,I.u,k.o,k.n],encapsulation:2,changeDetection:0}),e})();function PD(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",8),L.fc("click",(function(){return L.Fc(e),L.hc().clickInvoiceEvent.emit()})),L.Pc(1,"INVOICE"),L.Vb()}}function jD(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",8),L.fc("click",(function(){return L.Fc(e),L.hc().clickEvidenceViewEvent.emit()})),L.Pc(1,"Evidence"),L.Vb()}}function VD(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",8),L.fc("click",(function(){return L.Fc(e),L.hc().onClickBank()})),L.Pc(1,"Virtual Bank"),L.Vb()}}function AD(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",8),L.fc("click",(function(){return L.Fc(e),L.hc().clickPriceDetailViewEvent.emit()})),L.Pc(1,"View Detail"),L.Vb()}}function WD(e,t){1&e&&L.Rb(0,"col")}function RD(e,t){if(1&e){const e=L.Xb();L.Wb(0,"tr"),L.Wb(1,"td"),L.Wb(2,"app-checkbox",16),L.fc("ngModelChange",(function(t){return L.Fc(e),L.hc(3).checkedIndexs=t}))("onChange",(function(t){return L.Fc(e),L.hc(3).onCheckItem(t)})),L.Vb(),L.Vb(),L.Wb(3,"td",17),L.Pc(4),L.Vb(),L.Wb(5,"td",17),L.Pc(6),L.Vb(),L.Wb(7,"td",14),L.Pc(8),L.ic(9,"number"),L.Vb(),L.Wb(10,"td",14),L.Pc(11),L.ic(12,"number"),L.Vb(),L.Wb(13,"td",14),L.Pc(14),L.ic(15,"number"),L.Vb(),L.Wb(16,"td",14),L.Pc(17),L.ic(18,"number"),L.Vb(),L.Wb(19,"td",14),L.Pc(20),L.ic(21,"number"),L.Vb(),L.Wb(22,"td",14),L.Pc(23),L.ic(24,"number"),L.Vb(),L.Wb(25,"td",14),L.Pc(26),L.ic(27,"number"),L.Vb(),L.Wb(28,"td",14),L.Pc(29),L.ic(30,"number"),L.Vb(),L.Vb()}if(2&e){const e=t.$implicit,n=t.index,i=L.hc(3);L.Cb(2),L.pc("value",n)("ngModel",i.checkedIndexs),L.Cb(2),L.Qc(e.rowNo),L.Cb(2),L.Sc("",e.name,"[",e.priceSeq,"]"),L.Cb(2),L.Qc(L.jc(9,13,e.ticketingNetAmount)),L.Cb(3),L.Qc(L.jc(12,15,e.salesAppliedValue)),L.Cb(3),L.Qc(L.jc(15,17,e.salesNetAmount)),L.Cb(3),L.Qc(L.jc(18,19,e.salesQAmount)),L.Cb(3),L.Qc(L.jc(21,21,(e.salesTaxAmount||0)+(e.salesOthersAmount||0))),L.Cb(3),L.Qc(L.jc(24,23,e.salesFuelAmount)),L.Cb(3),L.Qc(L.jc(27,25,e.salesTasfAmount)),L.Cb(3),L.Qc(L.jc(30,27,e.salesSumAmount))}}function FD(e,t){if(1&e&&(L.Ub(0),L.Nc(1,RD,31,29,"ng-template",15),L.Tb()),2&e){const e=L.hc(2);L.Cb(1),L.pc("ngForOf",e.prices)}}function SD(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",17),L.Pc(3,"-"),L.Vb(),L.Vb(),L.Tb()),2&e){const e=L.hc(2);L.Cb(2),L.Db("colSpan",e.isB2b?12:11)}}function TD(e,t){if(1&e){const e=L.Xb();L.Wb(0,"div",9),L.Wb(1,"table"),L.Wb(2,"caption"),L.Pc(3," Sales Price "),L.Vb(),L.Wb(4,"colgroup"),L.Rb(5,"col"),L.Rb(6,"col"),L.Rb(7,"col"),L.Rb(8,"col"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Rb(13,"col"),L.Rb(14,"col"),L.Nc(15,WD,1,0,"col",10),L.Rb(16,"col"),L.Vb(),L.Wb(17,"thead"),L.Wb(18,"tr"),L.Wb(19,"th",11),L.Wb(20,"app-checkbox",12),L.fc("ngModelChange",(function(t){return L.Fc(e),L.hc().isAllChecked=t}))("onChange",(function(t){return L.Fc(e),L.hc().onCheckAll(t)})),L.Vb(),L.Vb(),L.Wb(21,"th",11),L.Pc(22,"No."),L.Vb(),L.Wb(23,"th",11),L.Pc(24,"Travelers"),L.Vb(),L.Wb(25,"th",11),L.Pc(26,"TKT NET"),L.Vb(),L.Wb(27,"th",11),L.Pc(28,"Discout"),L.Vb(),L.Wb(29,"th",11),L.Pc(30,"Selling NET"),L.Vb(),L.Wb(31,"th",11),L.Pc(32,"Q-CHG"),L.Vb(),L.Wb(33,"th",11),L.Pc(34,"TAX"),L.Vb(),L.Wb(35,"th",11),L.Pc(36,"Fuel CHG"),L.Vb(),L.Wb(37,"th",11),L.Pc(38,"TASF"),L.Vb(),L.Wb(39,"th",11),L.Pc(40,"Sum Amt"),L.Vb(),L.Vb(),L.Vb(),L.Wb(41,"tbody"),L.Nc(42,FD,2,1,"ng-container",10),L.Nc(43,SD,4,1,"ng-container",10),L.Vb(),L.Wb(44,"tfoot"),L.Wb(45,"tr"),L.Wb(46,"td",13),L.Pc(47,"Sum Amount"),L.Vb(),L.Wb(48,"td",14),L.Pc(49),L.ic(50,"number"),L.Vb(),L.Wb(51,"td",14),L.Pc(52),L.ic(53,"number"),L.Vb(),L.Wb(54,"td",14),L.Pc(55),L.ic(56,"number"),L.Vb(),L.Wb(57,"td",14),L.Pc(58),L.ic(59,"number"),L.Vb(),L.Wb(60,"td",14),L.Pc(61),L.ic(62,"number"),L.Vb(),L.Wb(63,"td",14),L.Pc(64),L.ic(65,"number"),L.Vb(),L.Wb(66,"td",14),L.Pc(67),L.ic(68,"number"),L.Vb(),L.Wb(69,"td",14),L.Pc(70),L.ic(71,"number"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()}if(2&e){const e=L.hc();L.Cb(15),L.pc("ngIf",e.isB2b),L.Cb(5),L.pc("binary",!0)("ngModel",e.isAllChecked),L.Cb(22),L.pc("ngIf",e.hasPrices),L.Cb(1),L.pc("ngIf",!e.hasPrices),L.Cb(6),L.Qc(L.jc(50,13,null==e.sumInfo?null:e.sumInfo.ticketingNetAmount)),L.Cb(3),L.Qc(L.jc(53,15,null==e.sumInfo?null:e.sumInfo.salesAppliedValue)),L.Cb(3),L.Qc(L.jc(56,17,null==e.sumInfo?null:e.sumInfo.salesNetAmount)),L.Cb(3),L.Qc(L.jc(59,19,null==e.sumInfo?null:e.sumInfo.salesQAmount)),L.Cb(3),L.Qc(L.jc(62,21,((null==e.sumInfo?null:e.sumInfo.salesTaxAmount)||0)+((null==e.sumInfo?null:e.sumInfo.salesOthersAmount)||0))),L.Cb(3),L.Qc(L.jc(65,23,null==e.sumInfo?null:e.sumInfo.salesFuelAmount)),L.Cb(3),L.Qc(L.jc(68,25,null==e.sumInfo?null:e.sumInfo.salesTasfAmount)),L.Cb(3),L.Qc(L.jc(71,27,null==e.sumInfo?null:e.sumInfo.salesSumAmount))}}function ND(e,t){if(1&e&&(L.Wb(0,"div",18),L.Wb(1,"p"),L.Pc(2),L.Vb(),L.Vb()),2&e){const e=L.hc();L.Cb(2),L.Rc("\u203b Promotion Card Name : ",null==e.promotion?null:e.promotion.promotionCardName,"")}}let ED=(()=>{class e{constructor(e){this.alertService=e,this.clickInvoiceEvent=new L.n,this.clickPriceDetailViewEvent=new L.n,this.clickEvidenceViewEvent=new L.n,this.clickCreditCardEvent=new L.n,this.clickBankEvent=new L.n,this.checkPriceEvent=new L.n,this.isActiveToggle=!0,this.isAllChecked=!1,this.checkedIndexs=[]}get priceInfo(){return this._priceInfo}set priceInfo(e){this._priceInfo=e,this.isAllChecked=!1,this.checkedIndexs=[],this.checkPriceEvent.emit([])}get prices(){var e,t;const n=(null===(t=null===(e=this.priceInfo)||void 0===e?void 0:e.prices)||void 0===t?void 0:t.filter(e=>"BKF02"===e.bookingFareTypeCode))||[];return Q.sortBy(n,[e=>e.bookingTravelerCode])}get promotion(){var e;return null===(e=this.priceInfo)||void 0===e?void 0:e.promotion}get sumInfo(){var e;return null===(e=this.priceInfo)||void 0===e?void 0:e.sumInfo}get priceButtons(){var e;return null===(e=this.priceInfo)||void 0===e?void 0:e.buttons}get hasPrices(){var e;return(null===(e=this.prices)||void 0===e?void 0:e.length)>0}get isB2b(){return"STN04"===this.stationTypeCode}ngOnInit(){}onClickToggle(){this.isActiveToggle=!this.isActiveToggle}onCheckAll(e){this.checkedIndexs=e?this.prices.map((e,t)=>t):[];const t=this.checkedIndexs.map(e=>this.prices[e]);this.checkPriceEvent.emit(t)}onCheckItem(e){this.isAllChecked=!(!e||this.checkedIndexs.length!==this.prices.length);const t=this.checkedIndexs.map(e=>this.prices[e]);this.checkPriceEvent.emit(t)}onClickCreditCard(){this.checkedIndexs.length<1?this.alertService.alert("Please select a sales charge."):this.clickCreditCardEvent.emit()}onClickBank(){this.checkedIndexs.length<1?this.alertService.alert("Please select a sales charge."):this.clickBankEvent.emit()}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-price"]],inputs:{stationTypeCode:"stationTypeCode",priceInfo:"priceInfo"},outputs:{clickInvoiceEvent:"clickInvoiceEvent",clickPriceDetailViewEvent:"clickPriceDetailViewEvent",clickEvidenceViewEvent:"clickEvidenceViewEvent",clickCreditCardEvent:"clickCreditCardEvent",clickBankEvent:"clickBankEvent",checkPriceEvent:"checkPriceEvent"},decls:14,vars:8,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title","toggle",3,"click"],[1,"control"],["class","btn btn-outline-dark sm",3,"click",4,"ngIf"],["class","table table-bordered table-responsive",4,"ngIf"],["class","align-l color-blue mt5 font-size-sm","style","min-width: 120px",4,"ngIf"],[1,"align-r","color-danger","mt5","font-size-sm",2,"min-width","120px"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"table","table-bordered","table-responsive"],[4,"ngIf"],["scope","col",1,"align-c"],["styleClass","only",3,"binary","ngModel","ngModelChange","onChange"],["colspan","3",1,"align-c"],[1,"align-r"],["ngFor","",3,"ngForOf"],["styleClass","only",3,"value","ngModel","ngModelChange","onChange"],[1,"align-c"],[1,"align-l","color-blue","mt5","font-size-sm",2,"min-width","120px"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"a",2),L.fc("click",(function(){return t.onClickToggle()})),L.Pc(3,"Sales Price"),L.Vb(),L.Wb(4,"div",3),L.Nc(5,PD,2,0,"button",4),L.Nc(6,jD,2,0,"button",4),L.Nc(7,VD,2,0,"button",4),L.Nc(8,AD,2,0,"button",4),L.Vb(),L.Vb(),L.Nc(9,TD,72,29,"div",5),L.Nc(10,ND,3,1,"div",6),L.Wb(11,"div",7),L.Wb(12,"p"),L.Pc(13,"\u203b Q-CHG is added with fare amount"),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(2),L.Gb("active",t.isActiveToggle),L.Cb(3),L.pc("ngIf",null==t.priceButtons?null:t.priceButtons.invoiceYn),L.Cb(1),L.pc("ngIf",null==t.priceButtons?null:t.priceButtons.evidenceYn),L.Cb(1),L.pc("ngIf",null==t.priceButtons?null:t.priceButtons.vaccountYn),L.Cb(1),L.pc("ngIf",null==t.priceButtons?null:t.priceButtons.detailViewYn),L.Cb(1),L.pc("ngIf",t.isActiveToggle),L.Cb(1),L.pc("ngIf",t.promotion))},directives:[k.o,Kt.a,I.r,I.u,k.n],pipes:[k.f],encapsulation:2,changeDetection:0}),e})();function MD(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",6),L.fc("click",(function(){return L.Fc(e),L.hc().clickAddChargeInfoEvent.emit()})),L.Pc(1,"Add"),L.Vb()}}function DD(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",6),L.fc("click",(function(){return L.Fc(e),L.hc().onClickDeleteChargeInfo()})),L.Pc(1,"Delete"),L.Vb()}}function LD(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",6),L.fc("click",(function(){return L.Fc(e),L.hc().onClickBank()})),L.Pc(1,"Virtual Bank"),L.Vb()}}function _D(e,t){if(1&e&&(L.Wb(0,"span"),L.Pc(1),L.Vb()),2&e){const e=L.hc().$implicit;L.Cb(1),L.Rc("/",e.paxFareSeq2,"")}}function $D(e,t){if(1&e){const e=L.Xb();L.Wb(0,"tr"),L.Wb(1,"td",14),L.Wb(2,"app-checkbox",15),L.fc("ngModelChange",(function(t){return L.Fc(e),L.hc(3).checkedRowid=t}))("onChange",(function(t){return L.Fc(e),L.hc(3).onCheckItem(t)})),L.Vb(),L.Vb(),L.Wb(3,"td"),L.Wb(4,"p"),L.Pc(5),L.Vb(),L.Wb(6,"p"),L.Pc(7),L.Nc(8,_D,2,1,"span",10),L.Pc(9,"] "),L.Vb(),L.Vb(),L.Wb(10,"td",14),L.Pc(11),L.Vb(),L.Wb(12,"td",12),L.Pc(13),L.ic(14,"number"),L.Vb(),L.Wb(15,"td",12),L.Pc(16),L.ic(17,"number"),L.Vb(),L.Wb(18,"td",12),L.Pc(19),L.ic(20,"number"),L.Vb(),L.Wb(21,"td",12),L.Pc(22),L.ic(23,"number"),L.Vb(),L.Wb(24,"td",12),L.Pc(25),L.ic(26,"number"),L.Vb(),L.Vb()}if(2&e){const e=t.$implicit,n=L.hc(3);L.Cb(2),L.pc("value",e.rowid)("ngModel",n.checkedRowid),L.Cb(3),L.Qc(e.nameEn),L.Cb(2),L.Sc(" ",e.name," [",e.paxFareSeq1,""),L.Cb(1),L.pc("ngIf",e.paxFareSeq2),L.Cb(3),L.Qc(e.chargeTypeName),L.Cb(2),L.Qc(L.jc(14,12,e.addFareAmount)),L.Cb(3),L.Qc(L.jc(17,14,e.addTaxAmount)),L.Cb(3),L.Qc(L.jc(20,16,e.airlineChargeAmount)),L.Cb(3),L.Qc(L.jc(23,18,e.agencyChargeAmount)),L.Cb(3),L.Qc(L.jc(26,20,e.salesSumAmount))}}function BD(e,t){if(1&e&&(L.Ub(0),L.Nc(1,$D,27,22,"ng-template",13),L.Tb()),2&e){const e=L.hc(2);L.Cb(1),L.pc("ngForOf",e.prices)}}function wD(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",16),L.Pc(3,"--"),L.Vb(),L.Vb(),L.Tb())}function xD(e,t){if(1&e){const e=L.Xb();L.Wb(0,"div",7),L.Wb(1,"table"),L.Wb(2,"caption"),L.Pc(3," \ucd94\uac00\uc694\uae08 "),L.Vb(),L.Wb(4,"colgroup"),L.Rb(5,"col"),L.Rb(6,"col"),L.Rb(7,"col"),L.Rb(8,"col"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Vb(),L.Wb(13,"thead"),L.Wb(14,"tr"),L.Wb(15,"th",8),L.Wb(16,"app-checkbox",9),L.fc("onChange",(function(t){return L.Fc(e),L.hc().onCheckAll(t)})),L.Vb(),L.Vb(),L.Wb(17,"th",8),L.Pc(18,"Travelers"),L.Vb(),L.Wb(19,"th",8),L.Pc(20,"Type"),L.Vb(),L.Wb(21,"th",8),L.Pc(22,"Fare"),L.Vb(),L.Wb(23,"th",8),L.Pc(24,"TAX"),L.Vb(),L.Wb(25,"th",8),L.Pc(26," Airline P"),L.Vb(),L.Wb(27,"th",8),L.Pc(28,"Agency P"),L.Vb(),L.Wb(29,"th",8),L.Pc(30,"Sum Amt"),L.Vb(),L.Vb(),L.Vb(),L.Wb(31,"tbody"),L.Nc(32,BD,2,1,"ng-container",10),L.Nc(33,wD,4,0,"ng-container",10),L.Vb(),L.Wb(34,"tfoot"),L.Wb(35,"tr"),L.Wb(36,"td",11),L.Pc(37,"Sum Amount"),L.Vb(),L.Wb(38,"td",12),L.Pc(39),L.ic(40,"number"),L.Vb(),L.Wb(41,"td",12),L.Pc(42),L.ic(43,"number"),L.Vb(),L.Wb(44,"td",12),L.Pc(45),L.ic(46,"number"),L.Vb(),L.Wb(47,"td",12),L.Pc(48),L.ic(49,"number"),L.Vb(),L.Wb(50,"td",12),L.Pc(51),L.ic(52,"number"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()}if(2&e){const e=L.hc();L.Cb(16),L.pc("binary",!0)("ngModel",e.isAllChecked),L.Cb(16),L.pc("ngIf",e.hasChargePrices),L.Cb(1),L.pc("ngIf",!e.hasChargePrices),L.Cb(6),L.Qc(L.jc(40,9,null==e.sumInfo?null:e.sumInfo.addFareAmount)),L.Cb(3),L.Qc(L.jc(43,11,null==e.sumInfo?null:e.sumInfo.addTaxAmount)),L.Cb(3),L.Qc(L.jc(46,13,null==e.sumInfo?null:e.sumInfo.airlineChargeAmount)),L.Cb(3),L.Qc(L.jc(49,15,null==e.sumInfo?null:e.sumInfo.agencyChargeAmount)),L.Cb(3),L.Qc(L.jc(52,17,null==e.sumInfo?null:e.sumInfo.salesSumAmount))}}let YD=(()=>{class e{constructor(e){this.alertService=e,this.clickDetailViewEvent=new L.n,this.clickUpdateChargeInfoEvent=new L.n,this.clickAddChargeInfoEvent=new L.n,this.clickDeleteChargeInfoEvent=new L.n,this.clickCreditCardEvent=new L.n,this.clickBankEvent=new L.n,this.checkPriceEvent=new L.n,this.isActiveToggle=!0,this.checkedRowid=[]}get chargeInfo(){return this._chargeInfo}set chargeInfo(e){const t=e.prices?e.prices.reduce((e,t,n)=>(e.push(Object.assign(Object.assign({},t),{rowid:n.toString()})),e),[]):[];this._chargeInfo=Object.assign(Object.assign({},e),{prices:t}),this.checkedRowid=[],this.checkPriceEvent.emit([])}get prices(){var e;return(null===(e=this.chargeInfo)||void 0===e?void 0:e.prices)||[]}get sumInfo(){var e;return null===(e=this.chargeInfo)||void 0===e?void 0:e.sumInfo}get chargeButtons(){var e;return null===(e=this.chargeInfo)||void 0===e?void 0:e.buttons}get hasChargePrices(){var e,t;return(null===(t=null===(e=this.chargeInfo)||void 0===e?void 0:e.prices)||void 0===t?void 0:t.length)>0}get isAllChecked(){return this.checkedRowid.length>0&&this.checkedRowid.length===this.prices.length}get payments(){var e,t;return(null===(t=Q.find(null===(e=this.paymentInfo)||void 0===e?void 0:e.paymentTypes,e=>"PMC02"===e.categoryCode))||void 0===t?void 0:t.payments)||[]}get isB2b(){var e;return"STN04"===(null===(e=this.summary)||void 0===e?void 0:e.stationTypeCode)}ngOnInit(){}onClickToggle(){this.isActiveToggle=!this.isActiveToggle}onCheckAll(e){this.checkedRowid=e?this.prices.map(e=>e.rowid):[];const t=this.prices.filter(e=>this.checkedRowid.indexOf(e.rowid)>-1);this.checkPriceEvent.emit(t)}onCheckItem(e){const t=this.prices.filter(e=>this.checkedRowid.indexOf(e.rowid)>-1);this.checkPriceEvent.emit(t)}onClickUpdateChargeInfo(){if(this.checkedRowid.length<1)return void this.alertService.alert("Please select additional charge information to modify.");if(this.checkedRowid.length>1)return void this.alertService.alert("Please select one additional charge to modify.");const e=this.isB2b?this.prices:this.prices.filter(e=>"CRG02"!==e.chargeTypeCode);if(!this.isB2b&&e.length<1)return void this.alertService.alert("Only refund/reissue charges can be modified.");const t=Q.find(e,e=>e.rowid===this.checkedRowid[0]);this.clickUpdateChargeInfoEvent.emit(t)}onClickDeleteChargeInfo(){var e,t;if(this.checkedRowid.length<1)return void this.alertService.alert("Please select additional charge information to delete.");if(this.checkedRowid.length>1)return void this.alertService.alert("Please select one extra charge to delete.");const n=Q.find(this.prices,e=>e.rowid===this.checkedRowid[0]);(null===(t=null===(e=Q.find(this.payments,e=>e.chargeSeq===n.chargeSeq))||void 0===e?void 0:e.paymentSeqs)||void 0===t?void 0:t.length)>0?this.alertService.alert("Payment information is linked to the selected rate, so deletion is not possible."):this.clickDeleteChargeInfoEvent.emit(n.chargeSeq)}onClickCreditCard(){if(this.checkedRowid.length<1)return void this.alertService.alert("Please select an additional charge.");const e=this.prices.filter(e=>this.checkedRowid.indexOf(e.rowid)>-1).map(e=>e.chargeTypeCode);e.every(t=>t===e[0])?this.clickCreditCardEvent.emit():this.alertService.alert("You can pay only for the same classification fee at once.")}onClickBank(){if(this.checkedRowid.length<1)return void this.alertService.alert("Please select an additional charge.");const e=this.prices.filter(e=>this.checkedRowid.indexOf(e.rowid)>-1).map(e=>e.chargeTypeCode);e.every(t=>t===e[0])?this.clickBankEvent.emit():this.alertService.alert("You can pay only for the same classification at once.")}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-charge"]],inputs:{paymentInfo:"paymentInfo",chargeInfo:"chargeInfo",summary:"summary"},outputs:{clickDetailViewEvent:"clickDetailViewEvent",clickUpdateChargeInfoEvent:"clickUpdateChargeInfoEvent",clickAddChargeInfoEvent:"clickAddChargeInfoEvent",clickDeleteChargeInfoEvent:"clickDeleteChargeInfoEvent",clickCreditCardEvent:"clickCreditCardEvent",clickBankEvent:"clickBankEvent",checkPriceEvent:"checkPriceEvent"},decls:9,vars:6,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title","toggle",3,"click"],[1,"control"],["class","btn btn-outline-dark sm",3,"click",4,"ngIf"],["class","table table-bordered table-responsive",4,"ngIf"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"table","table-bordered","table-responsive"],["scope","col",1,"align-c"],[3,"binary","ngModel","onChange"],[4,"ngIf"],["colspan","3",1,"align-c"],[1,"align-r"],["ngFor","",3,"ngForOf"],[1,"align-c"],[3,"value","ngModel","ngModelChange","onChange"],["colspan","10",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"a",2),L.fc("click",(function(){return t.onClickToggle()})),L.Pc(3,"Added Price"),L.Vb(),L.Wb(4,"div",3),L.Nc(5,MD,2,0,"button",4),L.Nc(6,DD,2,0,"button",4),L.Nc(7,LD,2,0,"button",4),L.Vb(),L.Vb(),L.Nc(8,xD,53,19,"div",5),L.Vb()),2&e&&(L.Cb(2),L.Gb("active",t.isActiveToggle),L.Cb(3),L.pc("ngIf",null==t.chargeButtons?null:t.chargeButtons.addYn),L.Cb(1),L.pc("ngIf",null==t.chargeButtons?null:t.chargeButtons.deleteYn),L.Cb(1),L.pc("ngIf",null==t.chargeButtons?null:t.chargeButtons.vaccountYn),L.Cb(1),L.pc("ngIf",t.isActiveToggle))},directives:[k.o,Kt.a,I.r,I.u,k.n],pipes:[k.f],encapsulation:2,changeDetection:0}),e})();function HD(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",9),L.fc("click",(function(){return L.Fc(e),L.hc(2).clickDetailViewEvent.emit()})),L.Pc(1,"View Detail"),L.Vb()}}function qD(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"button",9),L.fc("click",(function(){return L.Fc(e),L.hc().onClickPaymentInfoApproveModalEvent()})),L.Pc(2,"CC PG Manual"),L.Vb(),L.Wb(3,"button",9),L.fc("click",(function(){return L.Fc(e),L.hc().onClickRegisterPaymentInfoModal()})),L.Pc(4,"Add. Payment Info"),L.Vb(),L.Wb(5,"button",9),L.fc("click",(function(){return L.Fc(e),L.hc().onClickUpdatePaymentInfoModal()})),L.Pc(6,"Modify Payment Info"),L.Vb(),L.Nc(7,HD,2,0,"button",10),L.Tb()}if(2&e){const e=L.hc();L.Cb(7),L.pc("ngIf",null==e.paymentButtons?null:e.paymentButtons.detailViewYn)}}function UD(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",9),L.fc("click",(function(){return L.Fc(e),L.hc(2).clickDetailViewEvent.emit()})),L.Pc(1,"View Detail"),L.Vb()}}function QD(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"button",9),L.fc("click",(function(){return L.Fc(e),L.hc().onClickPaymentInfoApproveModalEvent()})),L.Pc(2,"CC PG Manual"),L.Vb(),L.Wb(3,"button",9),L.fc("click",(function(){return L.Fc(e),L.hc().onClickRegisterPaymentInfoModal()})),L.Pc(4,"Add. Payment Info"),L.Vb(),L.Wb(5,"button",9),L.fc("click",(function(){return L.Fc(e),L.hc().onClickUpdatePaymentInfoModal()})),L.Pc(6,"Modify Payment Info"),L.Vb(),L.Nc(7,UD,2,0,"button",10),L.Tb()}if(2&e){const e=L.hc();L.Cb(7),L.pc("ngIf",null==e.paymentButtons?null:e.paymentButtons.detailViewYn)}}function GD(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"p"),L.Pc(2),L.Vb(),L.Tb()),2&e){const e=t.$implicit;L.Cb(2),L.Qc(e)}}function KD(e,t){if(1&e){const e=L.Xb();L.Wb(0,"tr"),L.Wb(1,"td"),L.Wb(2,"app-checkbox",18),L.fc("ngModelChange",(function(t){return L.Fc(e),L.hc(3).checkedIndexs=t}))("onChange",(function(t){return L.Fc(e),L.hc(3).onCheckItem(t)})),L.Vb(),L.Vb(),L.Wb(3,"td"),L.Wb(4,"p"),L.Pc(5),L.Vb(),L.Wb(6,"p"),L.Wb(7,"span"),L.Pc(8),L.Vb(),L.Wb(9,"span",19),L.Pc(10),L.Vb(),L.Vb(),L.Vb(),L.Wb(11,"td"),L.Pc(12),L.Vb(),L.Wb(13,"td"),L.Nc(14,GD,3,1,"ng-container",17),L.Vb(),L.Wb(15,"td",20),L.Pc(16),L.ic(17,"number"),L.Vb(),L.Wb(18,"td",20),L.Pc(19),L.ic(20,"number"),L.Vb(),L.Wb(21,"td",20),L.Pc(22),L.ic(23,"number"),L.Vb(),L.Vb()}if(2&e){const e=t.$implicit,n=t.index,i=L.hc(3);L.Cb(2),L.pc("value",n)("ngModel",i.checkedIndexs),L.Cb(3),L.Qc(e.nameEn),L.Cb(3),L.Qc(e.name),L.Cb(2),L.Rc("[",e.paxFareSeq,"]"),L.Cb(2),L.Qc(e.paymentDetailTypeName),L.Cb(2),L.pc("ngForOf",i.getCardAccountInfo(e.cardAccountInfo)),L.Cb(2),L.Qc(L.jc(17,10,e.sumPaidAmount)),L.Cb(3),L.Qc(L.jc(20,12,e.cashPaidAmount)),L.Cb(3),L.Qc(L.jc(23,14,e.cardPaidAmount))}}function zD(e,t){if(1&e&&(L.Ub(0),L.Nc(1,KD,24,16,"tr",17),L.Tb()),2&e){const e=L.hc(2);L.Cb(1),L.pc("ngForOf",e.payments)}}function XD(e,t){1&e&&(L.Wb(0,"tr"),L.Wb(1,"td",21),L.Pc(2,"-"),L.Vb(),L.Vb())}function ZD(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",22),L.Pc(3,"Sum Amount"),L.Vb(),L.Wb(4,"td",20),L.Pc(5),L.ic(6,"number"),L.Vb(),L.Wb(7,"td",20),L.Pc(8),L.ic(9,"number"),L.Vb(),L.Wb(10,"td",20),L.Pc(11),L.ic(12,"number"),L.Vb(),L.Vb(),L.Tb()),2&e){const e=L.hc().$implicit;L.Cb(5),L.Qc(L.jc(6,3,null==e.summary?null:e.summary.sumPaidAmount)),L.Cb(3),L.Qc(L.jc(9,5,null==e.summary?null:e.summary.cashPaidAmount)),L.Cb(3),L.Qc(L.jc(12,7,null==e.summary?null:e.summary.cardPaidAmount))}}function JD(e,t){if(1&e&&(L.Ub(0),L.Nc(1,ZD,13,9,"ng-container",7),L.Tb()),2&e){const e=t.$implicit,n=L.hc(2);L.Cb(1),L.pc("ngIf",(null==e?null:e.categoryCode)===n.selectedPaymentType)}}function eL(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",23),L.Pc(3,"Sum Amount"),L.Vb(),L.Rb(4,"td",24),L.Rb(5,"td",24),L.Rb(6,"td",24),L.Rb(7,"td",24),L.Vb(),L.Tb())}function tL(e,t){if(1&e){const e=L.Xb();L.Wb(0,"div",11),L.Wb(1,"table"),L.Wb(2,"caption"),L.Pc(3," \uacb0\uc81c\uc815\ubcf4 "),L.Vb(),L.Wb(4,"colgroup"),L.Rb(5,"col",12),L.Rb(6,"col"),L.Rb(7,"col"),L.Rb(8,"col"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Rb(13,"col"),L.Vb(),L.Wb(14,"thead"),L.Wb(15,"tr"),L.Wb(16,"th",13),L.Wb(17,"app-checkbox",14),L.fc("ngModelChange",(function(t){return L.Fc(e),L.hc().isAllChecked=t}))("onChange",(function(t){return L.Fc(e),L.hc().onCheckAll(t)})),L.Vb(),L.Vb(),L.Wb(18,"th",13),L.Pc(19,"Travelers"),L.Vb(),L.Wb(20,"th",13),L.Pc(21,"Type"),L.Vb(),L.Wb(22,"th",13),L.Pc(23,"Payment Info"),L.Vb(),L.Wb(24,"th",13),L.Pc(25,"Sum"),L.Vb(),L.Wb(26,"th",13),L.Pc(27,"Cash"),L.Vb(),L.Wb(28,"th",13),L.Pc(29,"CC"),L.Vb(),L.Vb(),L.Vb(),L.Wb(30,"tbody"),L.Nc(31,zD,2,1,"ng-container",15),L.Nc(32,XD,3,0,"ng-template",null,16,L.Oc),L.Vb(),L.Wb(34,"tfoot"),L.Nc(35,JD,2,1,"ng-container",17),L.Nc(36,eL,8,0,"ng-container",7),L.Vb(),L.Vb(),L.Vb()}if(2&e){const e=L.Ec(33),t=L.hc();L.Cb(17),L.pc("binary",!0)("ngModel",t.isAllChecked),L.Cb(14),L.pc("ngIf",(null==t.payments?null:t.payments.length)>0)("ngIfElse",e),L.Cb(4),L.pc("ngForOf",t.paymentTypes),L.Cb(1),L.pc("ngIf",(null==t.paymentTypes?null:t.paymentTypes.length)<1)}}let nL=(()=>{class e{constructor(e){this.alertService=e,this.clickPaymentInfoTypeSelectModalEvent=new L.n,this.clickPaymentInfoRegisterModalEvent=new L.n,this.clickPaymentInfoUpdateModalEvent=new L.n,this.clickPaymentInfoApproveModalEvent=new L.n,this.clickDetailViewEvent=new L.n,this.clickEvidenceViewEvent=new L.n,this.clickTasfPgCardEvent=new L.n,this.selectPaymentInfoEvent=new L.n,this.isActiveToggle=!0,this.selectedPaymentType="PMC01",this.isAllChecked=!1,this.checkedIndexs=[]}get paymentButtons(){var e;return null===(e=this.paymentInfo)||void 0===e?void 0:e.buttons}get paymentTypes(){var e;return(null===(e=this.paymentInfo)||void 0===e?void 0:e.paymentTypes)||[]}get payments(){var e;const t=null===(e=this.paymentTypes)||void 0===e?void 0:e.filter(e=>(null==e?void 0:e.categoryCode)===this.selectedPaymentType)[0];return(null==t?void 0:t.payments)||[]}ngOnInit(){}onClickPaymentType(e,t){e.stopPropagation(),this.selectedPaymentType=t,this.isAllChecked=!1,this.checkedIndexs=[]}onClickToggle(){this.isActiveToggle=!this.isActiveToggle}hasPaymentInfo(){var e;return(null===(e=this.paymentTypes)||void 0===e?void 0:e.length)>0&&this.paymentTypes.some(e=>e.categoryCode===this.selectedPaymentType)}getCardAccountInfo(e){return Q.isNil(e)?[]:e.split("|")}onDblclickCardInfo(e){const t=document.getElementById(e),n=window.getSelection();n.removeAllRanges();const i=document.createRange();i.selectNodeContents(t),n.addRange(i)}onCheckAll(e){if(e){this.checkedIndexs=this.payments.map((e,t)=>t);const e=this.checkedIndexs.map(e=>Object.assign({},this.payments[e]));this.selectPaymentInfoEvent.emit(e)}else this.checkedIndexs=[],this.selectPaymentInfoEvent.emit([])}onCheckItem(e){this.isAllChecked=!(!e||this.checkedIndexs.length!==this.payments.length);const t=this.checkedIndexs.map(e=>Object.assign({},this.payments[e]));this.selectPaymentInfoEvent.emit(t)}onClickTasfPgCard(){if(0===this.checkedIndexs.length)return void this.alertService.alert("Please select the TASF payment details to be paid by hand in PG.");if(this.checkedIndexs.length>1)return void this.alertService.alert("Please select one TASF payment details to pay by hand in PG.");const e=this.checkedIndexs.map(e=>Object.assign({},this.payments[e]))[0];if("AIRTF"!==e.paymentDetailTypeCode)return void this.alertService.alert("Only TASF payments can be selected.");if(e.paymentSeqs.filter(e=>"PGIN"===e.depositTypeCode).length<1)return void this.alertService.alert("Only PG handwritten approval payment data is available.");const t=Q.find(e.paymentSeqs,e=>Q.isNil(e.paidDatetime));if(Q.isNil(t))return void this.alertService.alert("Data that has already been paid for.");const{bookingTravelerCode:n}=e,{paymentSeq:i,paymentDetailTypeCode:o,depositTypeCode:a,paidAmount:c}=t;this.clickTasfPgCardEvent.emit({bookingTravelerCode:n,paymentSeq:i,paymentDetailTypeCode:o,depositTypeCode:a,paidAmount:c})}onClickRegisterPaymentInfoModal(){this.clickPaymentInfoTypeSelectModalEvent.emit()}onClickUpdatePaymentInfoModal(){if(0===this.checkedIndexs.length)return void this.alertService.alert("Please select the payment details to change.");const e=this.checkedIndexs.map(e=>Object.assign({},this.payments[e]));if(e.filter(e=>e.paymentSeqs.length>0&&e.paymentSeqs.every(e=>!Q.isNil(e.paidDatetime))).length>0)return void this.alertService.alert("Data already paid cannot be modified.");const t=e.reduce((e,t)=>{const{bookingFareTypeCode:n,paymentDetailTypeCode:i,bookingTravelerCode:o}=t;let a=void 0;"BKF02"===n?a="S":"BKF03"===n&&(a="R");const c="AIRCM"===i?"C":"F";return t.paymentSeqs.map(t=>{const{paymentSeq:n,paidDatetime:i}=t;!e.includes(n)&&Q.isNil(i)&&e.push({paymentSeq:n,bookingFareInfoTypeCode:a,paymentInfoTypeCode:c,bookingTravelerCode:o})}),e},[]);this.clickPaymentInfoUpdateModalEvent.emit(Q.uniqBy(t,"paymentSeq"))}onClickPaymentInfoApproveModalEvent(){if(0===this.checkedIndexs.length)return void this.alertService.alert("Please select the TASF payment details to be paid by hand in PG.");if(this.checkedIndexs.length>1)return void this.alertService.alert("Please select one TASF payment details to pay by hand in PG.");const e=this.checkedIndexs.map(e=>Object.assign({},this.payments[e]))[0];if(e.paymentSeqs.filter(e=>"PGIN"===e.depositTypeCode).length<1)return void this.alertService.alert("Only PG handwritten approval payment data is available.");const t=Q.find(e.paymentSeqs,e=>Q.isNil(e.paidDatetime));if(Q.isNil(t))return void this.alertService.alert("This data has already been paid.");const{bookingFareTypeCode:n}=e;let i=void 0;"BKF02"===n?i="S":"BKF03"===n&&(i="R");const{paymentSeq:o,paidAmount:a,depositTypeCode:c,paymentDetailTypeCode:s}=t;this.clickPaymentInfoApproveModalEvent.emit({paymentSeq:o,paymentDetailTypeCode:s,depositTypeCode:c,paidAmount:a})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-payment"]],inputs:{paymentInfo:"paymentInfo"},outputs:{clickPaymentInfoTypeSelectModalEvent:"clickPaymentInfoTypeSelectModalEvent",clickPaymentInfoRegisterModalEvent:"clickPaymentInfoRegisterModalEvent",clickPaymentInfoUpdateModalEvent:"clickPaymentInfoUpdateModalEvent",clickPaymentInfoApproveModalEvent:"clickPaymentInfoApproveModalEvent",clickDetailViewEvent:"clickDetailViewEvent",clickEvidenceViewEvent:"clickEvidenceViewEvent",clickTasfPgCardEvent:"clickTasfPgCardEvent",selectPaymentInfoEvent:"selectPaymentInfoEvent"},decls:14,vars:11,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title","toggle",3,"click"],[1,"tabs-nav","tabs-underline"],[1,"nav-item"],["role","tab",1,"nav-link",3,"click"],[1,"control"],[4,"ngIf"],["class","table table-bordered table-responsive",4,"ngIf"],[1,"btn","btn-outline-dark","sm",3,"click"],["class","btn btn-outline-dark sm",3,"click",4,"ngIf"],[1,"table","table-bordered","table-responsive"],["width","42px"],["scope","col",1,"align-c"],[3,"binary","ngModel","ngModelChange","onChange"],[4,"ngIf","ngIfElse"],["emptyPaymentsTpl",""],[4,"ngFor","ngForOf"],[3,"value","ngModel","ngModelChange","onChange"],[1,"ml5"],[1,"align-r"],["colspan","9",1,"align-c"],["colspan","4",1,"align-c"],["colspan","5",1,"align-c"],[1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"div",2),L.fc("click",(function(){return t.onClickToggle()})),L.Wb(3,"ul",3),L.Wb(4,"li",4),L.Wb(5,"a",5),L.fc("click",(function(e){return t.onClickPaymentType(e,"PMC01")})),L.Pc(6,"Sales"),L.Vb(),L.Vb(),L.Wb(7,"li",4),L.Wb(8,"a",5),L.fc("click",(function(e){return t.onClickPaymentType(e,"PMC02")})),L.Pc(9,"Add"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(10,"div",6),L.Nc(11,qD,8,1,"ng-container",7),L.Nc(12,QD,8,1,"ng-container",7),L.Vb(),L.Vb(),L.Nc(13,tL,37,6,"div",8),L.Vb()),2&e&&(L.Cb(2),L.Gb("active",t.isActiveToggle),L.Cb(3),L.Gb("active","PMC01"===t.selectedPaymentType),L.Db("aria-selected","PMC01"===t.selectedPaymentType),L.Cb(3),L.Gb("active","PMC02"===t.selectedPaymentType),L.Db("aria-selected","PMC02"===t.selectedPaymentType),L.Cb(3),L.pc("ngIf","PMC01"===t.selectedPaymentType),L.Cb(1),L.pc("ngIf","PMC02"===t.selectedPaymentType),L.Cb(1),L.pc("ngIf",t.isActiveToggle))},directives:[k.o,Kt.a,I.r,I.u,k.n],pipes:[k.f],encapsulation:2,changeDetection:0}),e})();function iL(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",7),L.Wb(3,"p"),L.Pc(4),L.Vb(),L.Vb(),L.Wb(5,"td",7),L.Pc(6),L.Vb(),L.Wb(7,"td",7),L.Pc(8),L.Vb(),L.Wb(9,"td",8),L.Pc(10),L.Vb(),L.Wb(11,"td",8),L.Wb(12,"app-input-text",9),L.fc("keyup",(function(){return L.Fc(e),L.hc().calculateExpectedRefundAmount()})),L.Vb(),L.Vb(),L.Wb(13,"td",8),L.Rb(14,"app-input-text",10),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=L.hc();L.Cb(4),L.Qc(e.ticket.nameEn),L.Cb(2),L.Qc(e.ticket.airlineNumberCode),L.Cb(2),L.Qc(e.ticket.ticketNo),L.Cb(2),L.Qc(e.payment.sumPaidAmount),L.Cb(2),L.pc("inputFormat","currency"),L.Cb(2),L.pc("inputFormat","currency")("readonly",!0)}}let oL=(()=>{class e{constructor(e,t,n){this.formBuilder=e,this._apiService=t,this.alertService=n,this.closeEvent=new L.n,this.formGroup=this.formBuilder.group({nonRefundableAmount:new I.g(""),expectedRefundableAmount:new I.g("")})}ngOnInit(){this.init$.subscribe(e=>{this.formGroup.reset(),this.originExpectedRefundAmount=e.expectedRefundAmount,this.formGroup.get("expectedRefundableAmount").setValue(this.originExpectedRefundAmount)})}calculateExpectedRefundAmount(){let e=this.originExpectedRefundAmount-this.formGroup.get("nonRefundableAmount").value;e<0&&(e=0),this.formGroup.get("expectedRefundableAmount").setValue(e)}onSubmit(){const e=this.formGroup.get("nonRefundableAmount").value;this._apiService.putDomesticRefundTicket({nonRefundableAmount:e,bookingItemCode:this.bookingItem.bookingItemCode,ticketNo:this.ticket.ticketNo}).subscribe(e=>{this.alertService.alert("You successfully canceled the payment."),this.close()},e=>{this.alertService.alert("The request failed\nReason:  "+e.errorMessage),this.close()})}close(){this.formGroup.reset(),this.closeEvent.emit(!0)}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(I.f),L.Qb(qS),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-ticket-refund-request-modal"]],inputs:{ticket:"ticket",bookingItem:"bookingItem",payment:"payment",isVisibleForRefundTicketInputModal:"isVisibleForRefundTicketInputModal",init$:"init$"},outputs:{closeEvent:"closeEvent"},decls:31,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"table","table-bordered","table-responsive"],["width","42px"],["scope","col",1,"align-c"],[4,"ngIf"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"],[1,"align-c"],[1,"align-r"],["formControlName","nonRefundableAmount","valueType","number",2,"min-width","100px",3,"inputFormat","keyup"],["formControlName","expectedRefundableAmount",3,"inputFormat","readonly"]],template:function(e,t){1&e&&(L.Wb(0,"form",0),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(1,"div",1),L.Wb(2,"table"),L.Wb(3,"caption"),L.Pc(4," \ud2f0\ucf13\ud658\ubd88 "),L.Vb(),L.Wb(5,"colgroup"),L.Rb(6,"col",2),L.Rb(7,"col"),L.Rb(8,"col"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Vb(),L.Wb(12,"thead"),L.Wb(13,"tr"),L.Wb(14,"th",3),L.Pc(15,"\ud0d1\uc2b9\uc790"),L.Vb(),L.Wb(16,"th",3),L.Pc(17,"\ud56d\uacf5\uc0ac"),L.Vb(),L.Wb(18,"th",3),L.Pc(19,"\ud2f0\ucf13\ubc88\ud638"),L.Vb(),L.Wb(20,"th",3),L.Pc(21,"\uacb0\uc81c\uae08\uc561"),L.Vb(),L.Wb(22,"th",3),L.Pc(23,"\ucde8\uc18c\uc218\uc218\ub8cc"),L.Vb(),L.Wb(24,"th",3),L.Pc(25,"\ud658\ubd88\uc608\uc0c1\uae08\uc561"),L.Vb(),L.Vb(),L.Vb(),L.Wb(26,"tbody"),L.Nc(27,iL,15,7,"ng-container",4),L.Vb(),L.Vb(),L.Vb(),L.Wb(28,"div",5),L.Wb(29,"button",6),L.Pc(30,"\uc804\uc1a1"),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.pc("formGroup",t.formGroup),L.Cb(27),L.pc("ngIf",t.ticket&&t.payment&&t.bookingItem))},directives:[I.B,I.s,I.k,k.o,ee.a,I.r,I.i],encapsulation:2,changeDetection:0}),e})();function aL(e,t){if(1&e){const e=L.Xb();L.Wb(0,"tr"),L.Wb(1,"td",13),L.Wb(2,"p"),L.Pc(3),L.Vb(),L.Wb(4,"p"),L.Pc(5),L.Vb(),L.Vb(),L.Wb(6,"td",14),L.Pc(7),L.Vb(),L.Wb(8,"td",14),L.Pc(9),L.Vb(),L.Wb(10,"td",15),L.Wb(11,"a",16),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc(3).clickTicketManualDetailViewEvent.emit(n)})),L.Pc(12),L.Vb(),L.Vb(),L.Wb(13,"td",14),L.Pc(14),L.Vb(),L.Wb(15,"td",14),L.Pc(16),L.Vb(),L.Wb(17,"td",14),L.Pc(18),L.Vb(),L.Wb(19,"td",14),L.Pc(20),L.Vb(),L.Wb(21,"td",14),L.Pc(22),L.Vb(),L.Vb()}if(2&e){const e=t.$implicit;L.Cb(3),L.Qc(e.nameEn),L.Cb(2),L.Qc(e.name),L.Cb(2),L.Qc(e.etEmdOtherTypeCode),L.Cb(2),L.Qc(e.airlineNumberCode),L.Cb(3),L.Qc(e.ticketNo),L.Cb(2),L.Qc(e.ticketingStatusName),L.Cb(2),L.Qc(e.ticketingDate),L.Cb(2),L.Qc(e.ticketingPicName),L.Cb(2),L.Qc(e.conjunctionTypeCode),L.Cb(2),L.Qc(e.refundReceiveDate)}}function cL(e,t){if(1&e&&(L.Ub(0),L.Nc(1,aL,23,10,"ng-template",12),L.Tb()),2&e){const e=L.hc(2);L.Cb(1),L.pc("ngForOf",e.tickets)}}function sL(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",17),L.Pc(3,"-"),L.Vb(),L.Vb(),L.Tb())}function rL(e,t){if(1&e&&(L.Wb(0,"div",8),L.Wb(1,"table"),L.Wb(2,"caption"),L.Pc(3," Tickets "),L.Vb(),L.Wb(4,"colgroup"),L.Rb(5,"col",9),L.Rb(6,"col"),L.Rb(7,"col"),L.Rb(8,"col"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Rb(13,"col"),L.Rb(14,"col"),L.Vb(),L.Wb(15,"thead"),L.Wb(16,"tr"),L.Wb(17,"th",10),L.Pc(18,"Travelers"),L.Vb(),L.Wb(19,"th",10),L.Pc(20,"Type"),L.Vb(),L.Wb(21,"th",10),L.Pc(22,"Airline"),L.Vb(),L.Wb(23,"th",10),L.Pc(24,"Ticket No."),L.Vb(),L.Wb(25,"th",10),L.Pc(26,"Status"),L.Vb(),L.Wb(27,"th",10),L.Pc(28,"Issued Date"),L.Vb(),L.Wb(29,"th",10),L.Pc(30,"TKT PIC"),L.Vb(),L.Wb(31,"th",10),L.Pc(32,"CONJ.TK"),L.Vb(),L.Wb(33,"th",10),L.Pc(34,"RFND RQ Date"),L.Vb(),L.Vb(),L.Vb(),L.Wb(35,"tbody"),L.Nc(36,cL,2,1,"ng-container",11),L.Nc(37,sL,4,0,"ng-container",11),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.hc();L.Cb(36),L.pc("ngIf",e.hasTickets),L.Cb(1),L.pc("ngIf",!e.hasTickets)}}let lL=(()=>{class e{constructor(e){this.store=e,this.clickDetailViewEvent=new L.n,this.clickTicketRefundViewEvent=new L.n,this.clickTickeManualViewEvent=new L.n,this.clickTicketManualDetailViewEvent=new L.n,this.clickTickeSaleTicketingViewEvent=new L.n,this.isVisibleForRefundTicketInputModal=!1,this.reservationFlightTicketRefundRequestModalComponentInit=new Fe.a,this.isActiveToggle=!0}get tickets(){var e;return(null===(e=this.ticketInfo)||void 0===e?void 0:e.tickets)||[]}get ticketButtons(){var e;return null===(e=this.ticketInfo)||void 0===e?void 0:e.buttons}get hasTickets(){var e,t;return(null===(t=null===(e=this.ticketInfo)||void 0===e?void 0:e.tickets)||void 0===t?void 0:t.length)>0}get bookingItem(){return this.bookingItems[0]}ngOnInit(){console.log(this.ticketInfo)}onClickToggle(){this.isActiveToggle=!this.isActiveToggle}closeRefundTicketInputModal(){this.isVisibleForRefundTicketInputModal=!1}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-ticket"]],inputs:{bookingItems:"bookingItems",ticketInfo:"ticketInfo",paymentInfos:"paymentInfos"},outputs:{clickDetailViewEvent:"clickDetailViewEvent",clickTicketRefundViewEvent:"clickTicketRefundViewEvent",clickTickeManualViewEvent:"clickTickeManualViewEvent",clickTicketManualDetailViewEvent:"clickTicketManualDetailViewEvent",clickTickeSaleTicketingViewEvent:"clickTickeSaleTicketingViewEvent"},decls:12,vars:9,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title","toggle",3,"click"],[1,"control"],[1,"btn","btn-outline-dark","sm",3,"click"],["class","table table-bordered table-responsive",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","\ud2f0\ucf13\ud658\ubd88",3,"modal","visible","visibleChange"],[3,"ticket","bookingItem","payment","init$","closeEvent"],[1,"table","table-bordered","table-responsive"],["width","42px"],["scope","col",1,"align-c"],[4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"align-l"],[1,"align-c"],[1,"align-c","text-underline"],[1,"auth-link",3,"click"],["colspan","10",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"a",2),L.fc("click",(function(){return t.onClickToggle()})),L.Pc(3,"Tickets"),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"button",4),L.fc("click",(function(){return t.clickTicketRefundViewEvent.emit()})),L.Pc(6,"Request List"),L.Vb(),L.Wb(7,"button",4),L.fc("click",(function(){return t.clickTickeSaleTicketingViewEvent.emit()})),L.Pc(8,"DSR"),L.Vb(),L.Vb(),L.Vb(),L.Nc(9,rL,38,2,"div",5),L.Wb(10,"app-dialog",6),L.fc("visibleChange",(function(){return t.closeRefundTicketInputModal()})),L.Wb(11,"app-reservation-flight-ticket-refund-request-modal",7),L.fc("closeEvent",(function(){return t.closeRefundTicketInputModal()})),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(2),L.Gb("active",t.isActiveToggle),L.Cb(7),L.pc("ngIf",t.isActiveToggle),L.Cb(1),L.pc("modal",!0)("visible",t.isVisibleForRefundTicketInputModal),L.Cb(1),L.pc("ticket",t.selectedTicket)("bookingItem",t.bookingItem)("payment",t.selectedPayment)("init$",t.reservationFlightTicketRefundRequestModalComponentInit))},directives:[k.o,un.a,oL,k.n],encapsulation:2,changeDetection:0}),e})();const dL=function(){return{standalone:!0}};function bL(e,t){if(1&e){const e=L.Xb();L.Ub(0,6),L.Wb(1,"div",7),L.Wb(2,"div",8),L.Wb(3,"div",9),L.Pc(4,"\uc694\uccad \ube44\uace0"),L.Vb(),L.Wb(5,"div",4),L.Rb(6,"textarea",10),L.Vb(),L.Vb(),L.Wb(7,"div",11),L.Wb(8,"div",12),L.Wb(9,"div",9),L.Pc(10,"\uc694\uccad \ube44\uace0 \ub4f1\ub85d"),L.Vb(),L.Wb(11,"button",13),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc().onSubmit(n)})),L.Pc(12,"\ub4f1\ub85d"),L.Vb(),L.Vb(),L.Wb(13,"div",4),L.Rb(14,"textarea",14),L.Vb(),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,n=t.index,i=L.hc();L.Cb(6),L.pc("ngModelOptions",L.tc(3,dL))("ngModel",i.getRequestRemark(e.get("changeRequestSeq").value)),L.Cb(1),L.pc("formGroupName",n)}}let uL=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.submitEvent=new L.n,this.putForm=e.generateChangeRequestsPutForm(),this.putFormData=e.initChangeRequestsPutForm()}get changeRequests(){return this._changeRequests}set changeRequests(e){this._changeRequests=e,this.putForm=this._setForm(e),this.putFormData=this._setFormData(e)}get originTicketInfo(){var e;return((null===(e=this.summaryInfo)||void 0===e?void 0:e.originTicketList)||[]).map(e=>`${e.ticketNo} ${e.ticketingDate} : ${e.nameEn}`).join("\n")}get requests(){return this.putForm.get("changeRequests")}ngOnInit(){}onSubmit(e){const t=e.value;if(Q.isNil(t.changeRequestSeq))return void this.alertService.alert("No modification is possible because there are no registered requests.");if(e.invalid)return void(this.checkValid=!0);const n=this._setPutCondition(t,this.bookingItemCode);this.submitEvent.emit(n)}getRequestRemark(e){const t=Q.find(this.changeRequests,t=>t.changeRequestSeq===e);if(t){const{requestRemark:e}=t;return null==e?void 0:e.replace(new RegExp("<br/>","g"),"\n")}return""}_setFormData(e){const t=this._dataService.initChangeRequestsPutForm();return Q.isNil(e)?t:{changeRequests:e.map(e=>{const t=this._dataService.initRequestRemarkPutForm();return Object.assign(t,Q.pick(e,Object.keys(t)),{requestRemark:null})})}}_setForm(e){const t=this._dataService.generateChangeRequestsPutForm();return Q.isNil(e)||e.map(e=>{t.get("changeRequests").push(this._dataService.generateRequestRemarkPutForm())}),t}_setPutCondition(e,t){return Object.assign(Object.assign({},e),{bookingItemCode:t})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-request-remark"]],inputs:{bookingItemCode:"bookingItemCode",changeRequests:"changeRequests",summaryInfo:"summaryInfo"},outputs:{submitEvent:"submitEvent"},decls:8,vars:5,consts:[[1,"page-item"],[3,"formGroup","connectForm"],["formArrayName","changeRequests",4,"ngFor","ngForOf"],[1,"font-weight-medium","ml5","mb5","mt5"],[1,"textarea"],["cols","30","rows","2",3,"ngModel","disabled"],["formArrayName","changeRequests"],[1,"d-flex","mb5",2,"width","100%"],[1,"flex-fill"],[1,"font-weight-medium","ml5","mb5"],["cols","30","rows","2","readonly","",3,"ngModelOptions","ngModel"],[1,"flex-fill","d-flex","flex-column","ml5",3,"formGroupName"],[1,"d-flex","justify-content-between"],[1,"btn","btn-outline-dark","sm",3,"click"],["cols","30","rows","2","formControlName","requestRemark"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"form",1),L.Nc(2,bL,15,4,"ng-container",2),L.Vb(),L.Wb(3,"div"),L.Wb(4,"div",3),L.Pc(5,"\uacfc\uac70\ud2f0\ucf13\uc815\ubcf4"),L.Vb(),L.Wb(6,"div",4),L.Rb(7,"textarea",5),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(1),L.pc("ngForOf",t.requests.controls),L.Cb(5),L.pc("ngModel",t.originTicketInfo)("disabled",!0))},directives:[I.B,I.s,I.k,J.a,k.n,I.c,I.r,I.u,I.e,I.l,I.i],encapsulation:2,changeDetection:0}),e})();const pL=function(){return{standalone:!0}};function mL(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr",13),L.Wb(2,"td",14),L.Wb(3,"app-checkbox",15),L.fc("ngModelChange",(function(t){return L.Fc(e),L.hc().checkedTravelers=t})),L.Vb(),L.Vb(),L.Wb(4,"td"),L.Pc(5),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,n=L.hc();L.Cb(3),L.pc("ngModel",n.checkedTravelers)("ngModelOptions",L.tc(4,pL))("value",e.bookingTravelerCode),L.Cb(2),L.Qc(e.nameEn)}}let hL=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.submitEvent=new L.n,this.closeEvent=new L.n,this.putForm=e.generateTravelerDivideInitPutForm(),this.putFormData=e.initTravelerDividePutForm()}ngOnInit(){this.checkedTravelers=[]}ngOnDestroy(){}onSubmit(){if(this.checkedTravelers.length<1)return void this.alertService.alert("Please select a copy target traveler.");if(this.checkedTravelers.length===this.travelers.length)return void this.alertService.alert("Cannot create a reservation with all occupants.");if(this.checkedTravelers.length>9)return void this.alertService.alert("Only a maximum of 9 occupants per PNR can be selected.");const e=this.setPutCondition();this.submitEvent.emit(e)}onClose(){this.closeEvent.emit()}setPutCondition(){return{newGdsSubPnr:this.putForm.value.newGdsSubPnr||"COPY",originGdsSubPnr:this.originGdsSubPnr,paxes:this.checkedTravelers,originBookingItemCode:this.bookingItemCode}}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-traveler-divide-modal"]],inputs:{travelers:"travelers",bookingItemCode:"bookingItemCode",originGdsSubPnr:"originGdsSubPnr"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:31,vars:3,consts:[[1,"component-wrap"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered","table-responsive"],["width","15%"],["scope","row",1,"th-bg"],[1,"form-group"],["formControlName","newGdsSubPnr","placeholder","COPY (default)"],[4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","justify-content-between","mt10"],[1,"font-size-xs","color-danger"],[1,"button-area"],["type","submit",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm",3,"click"],[2,"height","30px"],[1,"align-c"],[3,"ngModel","ngModelOptions","value","ngModelChange"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"form",1),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(2,"div",2),L.Wb(3,"table"),L.Wb(4,"caption"),L.Pc(5," Booking Divided "),L.Vb(),L.Wb(6,"colgroup"),L.Rb(7,"col",3),L.Rb(8,"col"),L.Vb(),L.Wb(9,"tbody"),L.Wb(10,"tr"),L.Wb(11,"th",4),L.Wb(12,"sup"),L.Pc(13,"PNR"),L.Vb(),L.Vb(),L.Wb(14,"td"),L.Wb(15,"div",5),L.Rb(16,"app-input-text",6),L.Vb(),L.Vb(),L.Vb(),L.Wb(17,"tr"),L.Wb(18,"th",4),L.Wb(19,"sup"),L.Pc(20,"Travelers to copy"),L.Vb(),L.Vb(),L.Wb(21,"td"),L.Nc(22,mL,6,5,"ng-container",7),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(23,"div",8),L.Wb(24,"p",9),L.Pc(25,"\u203b Affter this, a new booking will be created in the selected travelers. It's not effected on GDS "),L.Vb(),L.Wb(26,"div",10),L.Wb(27,"button",11),L.Pc(28,"Devide"),L.Vb(),L.Wb(29,"button",12),L.fc("click",(function(){return t.onClose()})),L.Pc(30,"Close"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(21),L.pc("ngForOf",t.travelers))},directives:[I.B,I.s,I.k,J.a,ee.a,I.r,I.i,k.n,Kt.a,I.u],encapsulation:2,changeDetection:0}),e})();const gL=function(){return{standalone:!0}};let fL=(()=>{class e{constructor(e,t){this._dataService=e,this._service=t,this.closeEvent=new L.n,this.submitEvent=new L.n,this.isTotalPayment=!1,this.paidAmount=0,this.paymentDetailTypeCode="AIRTF",this.travelerList=[],this.cardQuotaMonthList=[],this.cardValidPeriodMonthList=[],this.cardValidPeriodYearList=[],this._$unsubscribe=new Fe.a,this.putForm=e.generatePgCreditCardSalesPutForm()}get prices(){return this._prices}set prices(e){this._prices=e.filter(e=>"BKF02"===e.bookingFareTypeCode),this.putFormData=this._setPutFormData(this._prices)}get bookingTravelerCodes(){var e;return(null===(e=this.prices)||void 0===e?void 0:e.map(e=>e.bookingTravelerCode))||[]}get isCorporateCard(){return"CCH03"===this.putForm.get("cardHolderTypeCode").value}ngOnInit(){this._initSelectboxOptions(),this._initSubscription()}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete()}onClose(){this.closeEvent.emit()}onClickPriceType(e){if(this.prices.length<1)return;const t=e.target.value;let n=0;this.isFlightTasf(t)?n=this._service.calculateTasfAmount(this.prices):this.isFlightFare(t)&&(n=this._service.calculateFareSum(this.prices)),this.paidAmount=n,this.isTotalPayment=!1}onClickTotalPayment(e){this.prices.length<1||(this.paidAmount=this._service.calculateSalesSum(this.prices))}onSubmit(){if(this.putForm.invalid)return void(this.checkValid=!0);const e=this._setPutCondition(this.putForm.getRawValue());this.submitEvent.emit(e)}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}isFlightFare(e){return"AIRRV"===e}isFlightTasf(e){return"AIRTF"===e}_initSelectboxOptions(){this.cardQuotaMonthList.push({value:"00",label:"\uc77c\uc2dc\ubd88"});for(let t=1;t<25;t++){const e=Q.padStart(String(t),2,"0");this.cardQuotaMonthList.push({value:e,label:e})}for(let t=0;t<12;t++){const e=Q.padStart(String(t+1),2,"0");this.cardValidPeriodMonthList.push({value:e,label:`${t+1}\uc6d4`})}const e=(new Date).getFullYear();for(let t=0;t<20;t++)this.cardValidPeriodYearList.push({value:String(e+t).slice(2,4),label:`${e+t}\ub144`})}_setPutFormData(e){const t=this._dataService.initPgCreditCardSalesPutForm();return Q.isNil(e)?t:(this.paidAmount=this._service.calculateTasfAmount(e),Object.assign({},t))}_setPutCondition(e){const{cardNo:t,cardHolderName:n,cardQuotaMonth:i,cardValidPeriodYear:o,cardValidPeriodMonth:a,cardHolderTypeCode:c,cardMasterCode:s,cardPassword:r,cardHolderBirthday:l,cardHolderTaxPayerNo:d}=e,b=`${a}/${o}`,u={bookingItemCode:this.bookingItemCode,allPaymentYn:!0,multiTravelerYn:!1};let p=0;this.isTotalPayment?p=this._service.calculateSalesSum(this.prices):this.isFlightTasf(this.paymentDetailTypeCode)?p=this._service.calculateTasfAmount(this.prices):this.isFlightFare(this.paymentDetailTypeCode)&&(p=this._service.calculateFareSum(this.prices));const m=this.prices.reduce((e,t)=>((this.isTotalPayment||this.isFlightTasf(this.paymentDetailTypeCode))&&e.push({paymentDetailTypeCode:"AIRTF",travelerPaidAmount:this._service.calculateTasfAmount([t]),salesNetAmount:0,salesTaxAmount:0,bookingTravelerCode:t.bookingTravelerCode,paxFareSeq:t.priceSeq}),(this.isTotalPayment||this.isFlightFare(this.paymentDetailTypeCode))&&e.push({paymentDetailTypeCode:"AIRRV",travelerPaidAmount:this._service.calculateFareSum([t]),salesNetAmount:0,salesTaxAmount:0,bookingTravelerCode:t.bookingTravelerCode,paxFareSeq:t.priceSeq}),e),[]);return Object.assign(u,{cards:[{cardHolderTypeCode:c,cardMasterCode:s,cardNo:t,cardHolderName:n,cardHolderBirthday:l||void 0,cardHolderTaxPayerNo:d||void 0,cardQuotaMonth:i,cardValidPeriod:b,cardPassword:r,paidAmount:p,bookingTravelerCodes:m}]})}_initSubscription(){this.putForm.get("cardHolderTypeCode").valueChanges.pipe(Object(Ci.a)(this._$unsubscribe)).subscribe(e=>{"CCH03"===e?(this.putForm.get("cardHolderBirthday").setValue(null),this.putForm.get("cardHolderTaxPayerNo").setValidators([I.z.required,I.z.minLength(10),I.z.maxLength(10)]),this.putForm.get("cardHolderBirthday").clearValidators()):(this.putForm.get("cardHolderTaxPayerNo").setValue(null),this.putForm.get("cardHolderTaxPayerNo").clearValidators(),this.putForm.get("cardHolderBirthday").setValidators([I.z.required])),this.putForm.get("cardHolderTaxPayerNo").updateValueAndValidity(),this.putForm.get("cardHolderBirthday").updateValueAndValidity()})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(YS))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-pg-credit-card-sales-modal"]],inputs:{prices:"prices",bankList:"bankList",cardHolderTypeList:"cardHolderTypeList",bookingItemCode:"bookingItemCode"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent"},decls:85,vars:31,consts:[[1,"component-wrap"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","150px"],["scope","row",1,"th-bg"],[1,"form-group"],["name","type","value","AIRTF","label","TASF",3,"ngModel","ngModelOptions","ngModelChange","onClick"],["name","type","value","AIRRV","label","Flight Total Price",3,"ngModel","ngModelOptions","ngModelChange","onClick"],["name","type","label","Sales Sum Amts",3,"value","ngModel","ngModelOptions","ngModelChange","onClick"],["valueType","number","inputFormat","number",3,"ngModel","ngModelOptions","disabled"],["formControlName","cardMasterCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","cardNo",3,"isInvalid"],["formControlName","cardValidPeriodMonth","useAllOptionName","Month",3,"options","isInvalid"],["formControlName","cardValidPeriodYear","useAllOptionName","Year",3,"options","isInvalid"],["formControlName","cardQuotaMonth","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","cardHolderName","inputFormat","upperCase",3,"isInvalid"],["formControlName","cardHolderTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","cardHolderBirthday","inputFormat","date","placeholder","YYYY-MM-DD",3,"isInvalid"],["formControlName","cardPassword",3,"isInvalid"],["formControlName","cardHolderTaxPayerNo",3,"isInvalid"],[1,"button-area","align-r","mt5"],["type","submit",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"form",1),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(2,"div",2),L.Wb(3,"table"),L.Wb(4,"caption"),L.Pc(5," Credit Card Manual Approval : Sales Price "),L.Vb(),L.Wb(6,"colgroup"),L.Rb(7,"col",3),L.Rb(8,"col"),L.Vb(),L.Wb(9,"tbody"),L.Wb(10,"tr"),L.Wb(11,"th",4),L.Wb(12,"sup"),L.Pc(13,"Payment Item"),L.Vb(),L.Vb(),L.Wb(14,"td"),L.Wb(15,"div",5),L.Wb(16,"app-radio",6),L.fc("ngModelChange",(function(e){return t.paymentDetailTypeCode=e}))("onClick",(function(e){return t.onClickPriceType(e)})),L.Vb(),L.Wb(17,"app-radio",7),L.fc("ngModelChange",(function(e){return t.paymentDetailTypeCode=e}))("onClick",(function(e){return t.onClickPriceType(e)})),L.Vb(),L.Wb(18,"app-radio",8),L.fc("ngModelChange",(function(e){return t.isTotalPayment=e}))("onClick",(function(e){return t.onClickTotalPayment(e)})),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(19,"tr"),L.Wb(20,"th",4),L.Wb(21,"sup"),L.Pc(22,"Payment Amounts"),L.Vb(),L.Vb(),L.Wb(23,"td"),L.Rb(24,"app-input-text",9),L.Vb(),L.Vb(),L.Wb(25,"tr"),L.Wb(26,"th",4),L.Wb(27,"sup"),L.Pc(28,"Card"),L.Vb(),L.Vb(),L.Wb(29,"td"),L.Rb(30,"app-selectbox",10),L.Vb(),L.Vb(),L.Wb(31,"tr"),L.Wb(32,"th",4),L.Wb(33,"sup"),L.Pc(34,"Card Number"),L.Vb(),L.Vb(),L.Wb(35,"td"),L.Rb(36,"app-input-text",11),L.Vb(),L.Vb(),L.Wb(37,"tr"),L.Wb(38,"th",4),L.Wb(39,"sup"),L.Pc(40,"Valid Thru"),L.Vb(),L.Vb(),L.Wb(41,"td"),L.Wb(42,"div",5),L.Rb(43,"app-selectbox",12),L.Rb(44,"app-selectbox",13),L.Vb(),L.Vb(),L.Vb(),L.Wb(45,"tr"),L.Wb(46,"th",4),L.Wb(47,"sup"),L.Pc(48,"Installment"),L.Vb(),L.Vb(),L.Wb(49,"td"),L.Rb(50,"app-selectbox",14),L.Vb(),L.Vb(),L.Wb(51,"tr"),L.Wb(52,"th",4),L.Wb(53,"sup"),L.Pc(54,"Card Holder"),L.Vb(),L.Vb(),L.Wb(55,"td"),L.Rb(56,"app-input-text",15),L.Vb(),L.Vb(),L.Wb(57,"tr"),L.Wb(58,"th",4),L.Wb(59,"sup"),L.Pc(60,"Card Holder Type"),L.Vb(),L.Vb(),L.Wb(61,"td"),L.Rb(62,"app-selectbox",16),L.Vb(),L.Vb(),L.Wb(63,"tr"),L.Wb(64,"th",4),L.Pc(65,"Birthday"),L.Vb(),L.Wb(66,"td"),L.Rb(67,"app-input-text",17),L.Vb(),L.Vb(),L.Wb(68,"tr"),L.Wb(69,"th",4),L.Wb(70,"sup"),L.Pc(71,"CC PW(First 2 digit)"),L.Vb(),L.Vb(),L.Wb(72,"td"),L.Rb(73,"app-input-text",18),L.Vb(),L.Vb(),L.Wb(74,"tr"),L.Wb(75,"th",4),L.Wb(76,"sup"),L.Pc(77,"Tax Payer No."),L.Vb(),L.Vb(),L.Wb(78,"td"),L.Rb(79,"app-input-text",19),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(80,"div",20),L.Wb(81,"button",21),L.Pc(82,"Approve"),L.Vb(),L.Wb(83,"button",22),L.fc("click",(function(){return t.onClose()})),L.Pc(84,"Close"),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(15),L.pc("ngModel",t.paymentDetailTypeCode)("ngModelOptions",L.tc(27,gL)),L.Cb(1),L.pc("ngModel",t.paymentDetailTypeCode)("ngModelOptions",L.tc(28,gL)),L.Cb(1),L.pc("value",!0)("ngModel",t.isTotalPayment)("ngModelOptions",L.tc(29,gL)),L.Cb(6),L.pc("ngModel",t.paidAmount)("ngModelOptions",L.tc(30,gL))("disabled",!0),L.Cb(6),L.pc("options",t.bankList)("isInvalid",t.checkIsInvalid("cardMasterCode")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("cardNo")),L.Cb(7),L.pc("options",t.cardValidPeriodMonthList)("isInvalid",t.checkIsInvalid("cardValidPeriodMonth")),L.Cb(1),L.pc("options",t.cardValidPeriodYearList)("isInvalid",t.checkIsInvalid("cardValidPeriodYear")),L.Cb(6),L.pc("options",t.cardQuotaMonthList)("isInvalid",t.checkIsInvalid("cardQuotaMonth")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("cardHolderName")),L.Cb(6),L.pc("options",t.cardHolderTypeList)("isInvalid",t.checkIsInvalid("cardHolderTypeCode")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("cardHolderBirthday")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("cardPassword")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("cardHolderTaxPayerNo")))},directives:[I.B,I.s,I.k,J.a,cS.a,I.r,I.u,ee.a,Se.a,I.i],encapsulation:2,changeDetection:0}),e})();const vL=function(){return{standalone:!0}};let CL=(()=>{class e{constructor(e,t){this._dataService=e,this._service=t,this.closeEvent=new L.n,this.submitEvent=new L.n,this.sendSmsYn=!1,this.isTotalPayment=!1,this.paidAmount=0,this.paymentDetailTypeCode="AIRTF",this.putForm=e.generatePgBankSalesPutForm()}get prices(){return this._prices}set prices(e){this._prices=e.filter(e=>"BKF02"===e.bookingFareTypeCode),this.putFormData=this._setPutFormData(this._prices)}ngOnInit(){}ngOnDestroy(){}onClose(){this.closeEvent.emit()}onSubmit(){if(this.putForm.invalid)return void(this.checkValid=!0);const e=this._setPutCondition(this.putForm.getRawValue());this.submitEvent.emit(e)}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}isFlightFare(e){return"AIRRV"===e}isFlightTasf(e){return"AIRTF"===e}onClickPriceType(e){if(this.prices.length<1)return;const t=e.target.value;let n=0;this.isFlightTasf(t)?n=this._service.calculateTasfAmount(this.prices):this.isFlightFare(t)&&(n=this._service.calculateFareSum(this.prices)),this.paidAmount=n,this.isTotalPayment=!1}onClickTotalPayment(e){this.prices.length<1||(this.paidAmount=this._service.calculateSalesSum(this.prices))}_setPutFormData(e){const t=this._dataService.initPgBankSalesPutForm();return Q.isNil(e)?t:(this.paidAmount=this._service.calculateTasfAmount(e),Object.assign({},t))}_setPutCondition(e){let{bankMasterCode:t,depositDueDate:n,depositDueTime:i,depositRemitName:o}=e;t=t.substring(2);const a=`${n} ${i}`,c={bookingItemCode:this.bookingItemCode,sendSmsYn:this.sendSmsYn,allPaymentYn:!0,multiTravelerYn:!1};let s=0;this.isTotalPayment?s=this._service.calculateSalesSum(this.prices):this.isFlightTasf(this.paymentDetailTypeCode)?s=this._service.calculateTasfAmount(this.prices):this.isFlightFare(this.paymentDetailTypeCode)&&(s=this._service.calculateFareSum(this.prices));const r=this.prices.reduce((e,t)=>((this.isTotalPayment||this.isFlightTasf(this.paymentDetailTypeCode))&&e.push({paymentDetailTypeCode:"AIRTF",travelerPaidAmount:this._service.calculateTasfAmount([t]),salesNetAmount:0,salesTaxAmount:0,bookingTravelerCode:t.bookingTravelerCode,paxFareSeq:t.priceSeq}),(this.isTotalPayment||this.isFlightFare(this.paymentDetailTypeCode))&&e.push({paymentDetailTypeCode:"AIRRV",travelerPaidAmount:this._service.calculateFareSum([t]),salesNetAmount:0,salesTaxAmount:0,bookingTravelerCode:t.bookingTravelerCode,paxFareSeq:t.priceSeq}),e),[]);return Object.assign(c,{banks:[{bankMasterCode:t,depositDueDatetime:a,depositRemitName:o,paidAmount:s,bookingTravelerCodes:r}]})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(YS))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-pg-bank-sales-modal"]],inputs:{bookingItemCode:"bookingItemCode",bankMasterList:"bankMasterList",prices:"prices"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent"},decls:51,vars:21,consts:[[1,"component-wrap"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","150px"],["scope","row",1,"th-bg"],[1,"form-group"],["name","type","value","AIRTF","label","TASF",3,"ngModel","ngModelOptions","ngModelChange","onClick"],["name","type","value","AIRRV","label","Total Price",3,"ngModel","ngModelOptions","ngModelChange","onClick"],["name","type","label","Sales Sum Amts",3,"value","ngModel","ngModelOptions","ngModelChange","onClick"],["valueType","number","inputFormat","number",3,"ngModel","ngModelOptions","disabled"],["formControlName","bankMasterCode","dataKey","detailCode","displayWord","detailCodeName","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","depositDueDate","inputFormat","date","placeholder","YYYY-MM-DD",3,"isInvalid"],["formControlName","depositDueTime","inputFormat","time","placeholder","HH:MM",3,"isInvalid"],["formControlName","depositRemitName",3,"isInvalid"],[1,"d-flex","align-items-center","justify-content-end","mt10"],[1,"button-area"],["type","submit",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"form",1),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(2,"div",2),L.Wb(3,"table"),L.Wb(4,"caption"),L.Pc(5," Create Virtual Bank Account : Sales Price "),L.Vb(),L.Wb(6,"colgroup"),L.Rb(7,"col",3),L.Rb(8,"col"),L.Vb(),L.Wb(9,"tbody"),L.Wb(10,"tr"),L.Wb(11,"th",4),L.Wb(12,"sup"),L.Pc(13,"Payment Item"),L.Vb(),L.Vb(),L.Wb(14,"td"),L.Wb(15,"div",5),L.Wb(16,"app-radio",6),L.fc("ngModelChange",(function(e){return t.paymentDetailTypeCode=e}))("onClick",(function(e){return t.onClickPriceType(e)})),L.Vb(),L.Wb(17,"app-radio",7),L.fc("ngModelChange",(function(e){return t.paymentDetailTypeCode=e}))("onClick",(function(e){return t.onClickPriceType(e)})),L.Vb(),L.Wb(18,"app-radio",8),L.fc("ngModelChange",(function(e){return t.isTotalPayment=e}))("onClick",(function(e){return t.onClickTotalPayment(e)})),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(19,"tr"),L.Wb(20,"th",4),L.Wb(21,"sup"),L.Pc(22,"Amounts"),L.Vb(),L.Vb(),L.Wb(23,"td"),L.Rb(24,"app-input-text",9),L.Vb(),L.Vb(),L.Wb(25,"tr"),L.Wb(26,"th",4),L.Wb(27,"sup"),L.Pc(28,"Bank"),L.Vb(),L.Vb(),L.Wb(29,"td"),L.Rb(30,"app-selectbox-detailcode",10),L.Vb(),L.Vb(),L.Wb(31,"tr"),L.Wb(32,"th",4),L.Wb(33,"sup"),L.Pc(34,"Valid Thru"),L.Vb(),L.Vb(),L.Wb(35,"td"),L.Wb(36,"div",5),L.Rb(37,"app-input-text",11),L.Rb(38,"app-input-text",12),L.Vb(),L.Vb(),L.Vb(),L.Wb(39,"tr"),L.Wb(40,"th",4),L.Wb(41,"sup"),L.Pc(42,"Depositor"),L.Vb(),L.Vb(),L.Wb(43,"td"),L.Rb(44,"app-input-text",13),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(45,"div",14),L.Wb(46,"div",15),L.Wb(47,"button",16),L.Pc(48,"Issue"),L.Vb(),L.Wb(49,"button",17),L.fc("click",(function(){return t.onClose()})),L.Pc(50,"Close"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(15),L.pc("ngModel",t.paymentDetailTypeCode)("ngModelOptions",L.tc(17,vL)),L.Cb(1),L.pc("ngModel",t.paymentDetailTypeCode)("ngModelOptions",L.tc(18,vL)),L.Cb(1),L.pc("value",!0)("ngModel",t.isTotalPayment)("ngModelOptions",L.tc(19,vL)),L.Cb(6),L.pc("ngModel",t.paidAmount)("ngModelOptions",L.tc(20,vL))("disabled",!0),L.Cb(6),L.pc("options",t.bankMasterList)("isInvalid",t.checkIsInvalid("bankMasterCode")),L.Cb(7),L.pc("isInvalid",t.checkIsInvalid("depositDueDate")),L.Cb(1),L.pc("isInvalid",t.checkIsInvalid("depositDueTime")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("depositRemitName")))},directives:[I.B,I.s,I.k,J.a,cS.a,I.r,I.u,ee.a,Pi.a,I.i],encapsulation:2,changeDetection:0}),e})();var yL=n("U2QM");function kL(e,t){if(1&e&&L.Rb(0,"app-radio",22),2&e){const e=L.hc();L.pc("disabled",!e.isReissue)}}function IL(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"app-multi-select",23),L.fc("onChange",(function(t){return L.Fc(e),L.hc().onChangeTraveler(t)})),L.Vb(),L.Tb()}if(2&e){const e=L.hc();L.Cb(1),L.pc("options",e.bookingTravelerList)}}function OL(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-multi-select",24),L.fc("onChange",(function(t){return L.Fc(e),L.hc().onChangeTicket(t)})),L.Vb()}if(2&e){const e=L.hc();L.pc("options",e.ticketOptionList)}}const PL=function(){return{standalone:!0}};let jL=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.closeEvent=new L.n,this.submitEvent=new L.n,this.requestTasfInfo=new L.n,this.totalAmount=0,this.agencyChargeAmount=0,this._unsubscribe$=new Fe.a,this.putForm=e.generateChargeInfoPutForm(),this.putFormData=e.initChargeInfoPutForm(),this._initSubscription()}get ticketInfo(){return this._ticketInfo}set ticketInfo(e){this._ticketInfo=e,Q.isNil(e)||(this.ticketOptionList=this._makeTicketOptions(e))}get bookingTravelerList(){return this._bookingTravelerList}set bookingTravelerList(e){this._bookingTravelerList=e}get domesticYn(){var e;return!0===(null===(e=this.summaryInfo)||void 0===e?void 0:e.domesticYn)}get isBtms(){var e;return"STN05"===(null===(e=this.summaryInfo)||void 0===e?void 0:e.stationTypeCode)}get isB2b(){var e;return"STN04"===(null===(e=this.summaryInfo)||void 0===e?void 0:e.stationTypeCode)}ngOnInit(){}ngOnDestroy(){this._unsubscribe$.next(),this._unsubscribe$.complete()}onClose(){this.closeEvent.emit()}onSubmit(){this.putForm.invalid?this.checkValid=!0:this.isB2b||this.isBtms?this.submitWithoutTasfInfo():this.submitWithTasfInfo()}submitWithTasfInfo(){if(Q.isNil(this.tasfInfo)||0===this.tasfInfo.tasfAmounts.length)return void this.alertService.alert("The TASF information required to save is missing.");const e=this.putForm.getRawValue(),{ticketNos:t,bookingTravelerCodes:n}=e;if(0===t.length&&0===n.length)return void this.alertService.alert("Please select the number of people / ticket number.");const i=this._convertFormToItem(e,this.bookingItemCode);this.submitEvent.emit(i)}submitWithoutTasfInfo(){if(this.putForm.invalid)return void(this.checkValid=!0);const e=this.putForm.getRawValue(),{ticketNos:t,bookingTravelerCodes:n}=e;if(0===t.length&&0===n.length)return void this.alertService.alert("Please select the number of people / ticket number.");const i=this._convertFormToItemWithoutTasfInfo(e,this.bookingItemCode);this.submitEvent.emit(i)}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}isReissue(e){return"CRG03"===e}onChangeTraveler({value:e}){var t,n;if((e||[]).length<1)return;if(Q.isNil(this.tasfInfo))return;const i=null===(n=null===(t=this.tasfInfo)||void 0===t?void 0:t.tasfAmounts[0])||void 0===n?void 0:n.tasfAmount,o=this.putForm.get("waiverYn").value;this.agencyChargeAmount=o?0:i}onChangeTicket({value:e}){var t,n;const i=e||[];if(i.length<1)return;if(Q.isNil(this.tasfInfo))return;this.ticketOptionList.filter(e=>i.indexOf(e.ticketNo)>-1).map(e=>e.bookingTravelerCode);const o=null===(n=null===(t=this.tasfInfo)||void 0===t?void 0:t.tasfAmounts[0])||void 0===n?void 0:n.tasfAmount,a=this.putForm.get("waiverYn").value;this.agencyChargeAmount=a?0:o}_makeTicketOptions(e){const{tickets:t}=e;return t.map(e=>({ticketNo:e.ticketNo,ticketingDate:e.ticketingDate,bookingTravelerCode:e.bookingTravelerCode,name:`${e.name}[${e.ticketNo}]`}))}_initSubscription(){this.putForm.get("chargeTypeCode").valueChanges.pipe(Object(zn.a)(200),Object(Ci.a)(this._unsubscribe$)).subscribe(e=>{this.isReissue(e)?(this.putForm.get("ticketNos").setValue([]),this.putForm.get("bookingTravelerCodes").setValue([]),this.putForm.get("addFareAmount").setValue(0),this.putForm.get("addFareAmount").enable(),this.putForm.get("addTaxAmount").setValue(0),this.putForm.get("addTaxAmount").enable(),this.putForm.get("airlineChargeTypeCode").setValue(null),this.putForm.get("airlineChargeAmount").enable(),this.putForm.get("airlineChargeAmount").setValue(0),this.agencyChargeAmount=0):(this.putForm.get("ticketNos").setValue([]),this.putForm.get("bookingTravelerCodes").setValue([]),this.putForm.get("addFareAmount").setValue(0),this.putForm.get("addFareAmount").disable(),this.putForm.get("addTaxAmount").setValue(0),this.putForm.get("addTaxAmount").disable(),this.putForm.get("airlineChargeTypeCode").setValue(null),this.putForm.get("airlineChargeAmount").disable(),this.putForm.get("airlineChargeAmount").setValue(0),this.agencyChargeAmount=0),this.isB2b||this.isBtms||this.requestTasfInfo.emit({bookingItemCode:this.bookingItemCode,tasfDetailTypeCode:{CRG01:"TDC06",CRG02:"TDC04",CRG03:"TDC02"}[e],bookingTravelerCodes:this.bookingTravelerList.map(e=>e.bookingTravelerCode)})});const e=[this.putForm.get("addFareAmount").valueChanges,this.putForm.get("addTaxAmount").valueChanges,this.putForm.get("airlineChargeAmount").valueChanges];Object(NA.a)(e).pipe(Object(Ci.a)(this._unsubscribe$)).subscribe(([e,t,n])=>{this.totalAmount=e+t+n}),this.putForm.get("adjustReasonCode").valueChanges.pipe(Object(Ci.a)(this._unsubscribe$)).subscribe(e=>{"ADW99"===e?(this.putForm.get("adjustReasonComment").enable(),this.putForm.get("adjustReasonComment").setValidators([I.z.required])):(this.putForm.get("adjustReasonComment").setValue(null),this.putForm.get("adjustReasonComment").disable(),this.putForm.get("adjustReasonCode").clearValidators()),this.putForm.get("adjustReasonComment").updateValueAndValidity()}),this.putForm.get("waiverYn").valueChanges.pipe(Object(Ci.a)(this._unsubscribe$)).subscribe(e=>{var t,n,i;let o=0;if(this.isReissue(this.putForm.get("chargeTypeCode").value)){const e=this.putForm.get("bookingTravelerCodes").value;o=null===(t=this.tasfInfo)||void 0===t?void 0:t.tasfAmounts.reduce((t,n)=>(e.indexOf(n.bookingTravelerCode)>-1&&(t+=n.tasfAmount),t),0)}else{const e=this.putForm.get("ticketNos").value;this.ticketOptionList.filter(t=>e.indexOf(t.ticketNo)>-1).map(e=>e.bookingTravelerCode),o=null===(i=null===(n=this.tasfInfo)||void 0===n?void 0:n.tasfAmounts[0])||void 0===i?void 0:i.tasfAmount}!0===e?(this.putForm.get("adjustReasonCode").enable(),this.putForm.get("adjustReasonCode").setValidators([I.z.required]),this.agencyChargeAmount=0):(this.putForm.get("adjustReasonCode").disable(),this.putForm.get("adjustReasonCode").setValue(null),this.putForm.get("adjustReasonCode").clearValidators(),this.putForm.get("adjustReasonComment").disable(),this.putForm.get("adjustReasonComment").setValue(null),this.putForm.get("adjustReasonComment").clearValidators(),this.agencyChargeAmount=o),this.putForm.get("adjustReasonCode").updateValueAndValidity(),this.putForm.get("adjustReasonComment").updateValueAndValidity()}),this.putForm.get("ticketNos").valueChanges.pipe(Object(Ci.a)(this._unsubscribe$)).subscribe(e=>{Q.isNil(e)&&(this.putForm.get("addFareAmount").setValue(0),this.putForm.get("addTaxAmount").setValue(0),this.putForm.get("airlineChargeTypeCode").reset(),this.putForm.get("airlineChargeAmount").setValue(0),this.agencyChargeAmount=0,this.totalAmount=0,this.putForm.get("adjustReasonCode").reset(),this.putForm.get("adjustReasonComment").reset())})}_convertFormToItem(e,t){let n=[];const{chargeTypeCode:i,bookingTravelerCodes:o,ticketNos:a,addFareAmount:c,addTaxAmount:s,airlineChargeTypeCode:r,airlineChargeAmount:l,adjustReasonCode:d,adjustReasonComment:b,waiverYn:u}=e;return n=this.isReissue(i)?o.map(e=>{const n=this.tasfInfo.tasfAmounts.filter(t=>t.bookingTravelerCode===e)[0].tasfAmount||0;return{chargeTypeCode:i,bookingItemCode:t,bookingTravelerCode:e,addFareAmount:c,addTaxAmount:s,airlineChargeTypeCode:r,airlineChargeAmount:l,agencyChargeAmount:!0===u?0:n,adjustAmount:!0===u?n:0,adjustReasonCode:d,adjustReasonComment:b,waiverYn:u}}):this.ticketInfo.tickets.filter(e=>a.indexOf(e.ticketNo)>-1).map(e=>{const n=this.tasfInfo.tasfAmounts.filter(t=>t.bookingTravelerCode===e.bookingTravelerCode)[0].tasfAmount||0;return{chargeTypeCode:i,bookingItemCode:t,bookingTravelerCode:e.bookingTravelerCode,ticketNo:e.ticketNo,ticketingDate:e.ticketingDate,addFareAmount:c,addTaxAmount:s,airlineChargeTypeCode:r,airlineChargeAmount:l,agencyChargeAmount:!0===u?0:n,adjustAmount:!0===u?n:0,adjustReasonCode:d,adjustReasonComment:b,waiverYn:u}}),{charges:n}}_convertFormToItemWithoutTasfInfo(e,t){const{chargeTypeCode:n,bookingTravelerCodes:i,ticketNos:o,addFareAmount:a,addTaxAmount:c,airlineChargeTypeCode:s,airlineChargeAmount:r,adjustReasonCode:l,adjustReasonComment:d,waiverYn:b}=e;let u=[];return u=this.isReissue(n)?i.map(e=>{const i=this.agencyChargeAmount;return{chargeTypeCode:n,bookingItemCode:t,bookingTravelerCode:e,addFareAmount:a,addTaxAmount:c,airlineChargeTypeCode:s,airlineChargeAmount:r,agencyChargeAmount:!0===b?0:i,adjustAmount:!0===b?i:0,adjustReasonCode:l,adjustReasonComment:d,waiverYn:b}}):this.ticketInfo.tickets.filter(e=>o.indexOf(e.ticketNo)>-1).map(e=>{const i=this.agencyChargeAmount;return{chargeTypeCode:n,bookingItemCode:t,bookingTravelerCode:e.bookingTravelerCode,ticketNo:e.ticketNo,ticketingDate:e.ticketingDate,addFareAmount:a,addTaxAmount:c,airlineChargeTypeCode:s,airlineChargeAmount:r,agencyChargeAmount:!0===b?0:i,adjustAmount:!0===b?i:0,adjustReasonCode:l,adjustReasonComment:d,waiverYn:b}}),{charges:u}}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-charge-info-form"]],inputs:{bookingItemCode:"bookingItemCode",tasfInfo:"tasfInfo",summaryInfo:"summaryInfo",ticketInfo:"ticketInfo",airlineChargeTypeList:"airlineChargeTypeList",adjustReasonList:"adjustReasonList",bookingTravelerList:"bookingTravelerList"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent",requestTasfInfo:"requestTasfInfo"},decls:66,vars:21,consts:[[1,"component-wrap"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","150px"],["scope","row",1,"th-bg"],[1,"form-group"],["formControlName","chargeTypeCode","name","chargeTypeCode","value","CRG01","label","Refund"],["formControlName","chargeTypeCode","name","chargeTypeCode","value","CRG02","label","Void"],["formControlName","chargeTypeCode","name","chargeTypeCode","value","CRG03","label","Reissue",3,"disabled",4,"ngIf"],[4,"ngIf","ngIfElse"],["noReissue",""],["formControlName","addFareAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","addTaxAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","airlineChargeTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","Select",3,"options"],["formControlName","airlineChargeAmount","valueType","number","inputFormat","number",3,"isInvalid"],["valueType","number","inputFormat","number",3,"ngModel","ngModelOptions","disabled","ngModelChange"],["formControlName","waiverYn","binary","true","label","Waiver",1,"ml5",3,"value"],["formControlName","adjustReasonCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","adjustReasonComment",3,"isInvalid"],[1,"button-area","align-r","mt5"],["type","submit",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm",3,"click"],["formControlName","chargeTypeCode","name","chargeTypeCode","value","CRG03","label","Reissue",3,"disabled"],["formControlName","bookingTravelerCodes","dataKey","bookingTravelerCode","displayKey","name",3,"options","onChange"],["formControlName","ticketNos","dataKey","ticketNo","displayKey","name",3,"options","onChange"]],template:function(e,t){if(1&e&&(L.Wb(0,"div",0),L.Wb(1,"form",1),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(2,"div",2),L.Wb(3,"table"),L.Wb(4,"caption"),L.Pc(5," Added Price Detail "),L.Vb(),L.Wb(6,"colgroup"),L.Rb(7,"col",3),L.Rb(8,"col"),L.Vb(),L.Wb(9,"tbody"),L.Wb(10,"tr"),L.Wb(11,"th",4),L.Pc(12,"Charge Type"),L.Vb(),L.Wb(13,"td"),L.Wb(14,"div",5),L.Rb(15,"app-radio",6),L.Rb(16,"app-radio",7),L.Nc(17,kL,1,1,"app-radio",8),L.Vb(),L.Vb(),L.Vb(),L.Wb(18,"tr"),L.Wb(19,"th",4),L.Pc(20,"Traveler or Ticket No"),L.Vb(),L.Wb(21,"td"),L.Nc(22,IL,2,1,"ng-container",9),L.Nc(23,OL,1,1,"ng-template",null,10,L.Oc),L.Vb(),L.Vb(),L.Wb(25,"tr"),L.Wb(26,"th",4),L.Pc(27,"Add Fare(p/p)"),L.Vb(),L.Wb(28,"td"),L.Rb(29,"app-input-text",11),L.Vb(),L.Vb(),L.Wb(30,"tr"),L.Wb(31,"th",4),L.Pc(32,"Add Tax(p/p)"),L.Vb(),L.Wb(33,"td"),L.Rb(34,"app-input-text",12),L.Vb(),L.Vb(),L.Wb(35,"tr"),L.Wb(36,"th",4),L.Pc(37,"Airline Penalty (p/p)"),L.Vb(),L.Wb(38,"td"),L.Wb(39,"div",5),L.Rb(40,"app-selectbox",13),L.Rb(41,"app-input-text",14),L.Vb(),L.Vb(),L.Vb(),L.Wb(42,"tr"),L.Wb(43,"th",4),L.Pc(44,"Agency Penalty(p/p)"),L.Vb(),L.Wb(45,"td"),L.Wb(46,"div",5),L.Wb(47,"app-input-text",15),L.fc("ngModelChange",(function(e){return t.agencyChargeAmount=e})),L.Vb(),L.Rb(48,"app-checkbox",16),L.Vb(),L.Vb(),L.Vb(),L.Wb(49,"tr"),L.Wb(50,"th",4),L.Pc(51,"Sum Amts (p/p)"),L.Vb(),L.Wb(52,"td"),L.Wb(53,"app-input-text",15),L.fc("ngModelChange",(function(e){return t.totalAmount+(t.agencyChargeAmount=e)})),L.Vb(),L.Vb(),L.Vb(),L.Wb(54,"tr"),L.Wb(55,"th",4),L.Pc(56,"Agency P. Waiver Reason"),L.Vb(),L.Wb(57,"td"),L.Wb(58,"div",5),L.Rb(59,"app-selectbox",17),L.Rb(60,"app-input-text",18),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(61,"div",19),L.Wb(62,"button",20),L.Pc(63,"Save"),L.Vb(),L.Wb(64,"button",21),L.fc("click",(function(){return t.onClose()})),L.Pc(65,"Close"),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.Ec(24);L.Cb(1),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(16),L.pc("ngIf",!t.domesticYn),L.Cb(5),L.pc("ngIf",t.isReissue(t.putForm.get("chargeTypeCode").value))("ngIfElse",e),L.Cb(7),L.pc("isInvalid",t.checkIsInvalid("addFareAmount")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("addTaxAmount")),L.Cb(6),L.pc("options",t.airlineChargeTypeList),L.Cb(1),L.pc("isInvalid",t.checkIsInvalid("airlineChargeAmount")),L.Cb(6),L.pc("ngModel",t.agencyChargeAmount)("ngModelOptions",L.tc(19,PL))("disabled",!t.isB2b&&!t.isBtms),L.Cb(1),L.pc("value",!0),L.Cb(5),L.pc("ngModel",t.totalAmount+t.agencyChargeAmount)("ngModelOptions",L.tc(20,PL))("disabled",!0),L.Cb(6),L.pc("options",t.adjustReasonList)("isInvalid",t.checkIsInvalid("adjustReasonCode")),L.Cb(1),L.pc("isInvalid",t.checkIsInvalid("adjustReasonComment"))}},directives:[I.B,I.s,I.k,J.a,cS.a,I.r,I.i,k.o,ee.a,Se.a,I.u,Kt.a,yL.a],encapsulation:2,changeDetection:0}),e})(),VL=(()=>{class e{constructor(e){this.store=e,this._subscribeStore()}ngOnDestroy(){}ngOnInit(){}clickChargeInfoModalCloseHandler(){this.store.dispatch(h.closeChargeInfoModalAction())}saveChargeInfoHandler(e){this.store.dispatch(h.saveChargeInfoAction({condition:Object.assign({},e)}))}requestTasfInfoHandler(e){this.store.dispatch(h.loadTasfInfoAction({condition:e}))}_subscribeStore(){this.airlineChargeTypeList$=this.store.pipe(Object(P.u)(fP)),this.bookingTravelerList$=this.store.pipe(Object(P.u)(VP)),this.tasfInfo$=this.store.pipe(Object(P.u)(ZO)),this.summary$=this.store.pipe(Object(P.u)(AO)),this.ticketInfo$=this.store.pipe(Object(P.u)(EO)),this.adjustReasonList$=this.store.pipe(Object(P.u)(CP))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-charge-info-modal"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",bookingItemCode:"bookingItemCode"},decls:7,vars:19,consts:[[3,"bookingItemCode","airlineChargeTypeList","bookingTravelerList","tasfInfo","summaryInfo","ticketInfo","adjustReasonList","closeEvent","submitEvent","requestTasfInfo"]],template:function(e,t){1&e&&(L.Wb(0,"app-reservation-flight-charge-info-form",0),L.fc("closeEvent",(function(){return t.clickChargeInfoModalCloseHandler()}))("submitEvent",(function(e){return t.saveChargeInfoHandler(e)}))("requestTasfInfo",(function(e){return t.requestTasfInfoHandler(e)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.ic(5,"async"),L.ic(6,"async"),L.Vb()),2&e&&L.pc("bookingItemCode",t.bookingItemCode)("airlineChargeTypeList",L.jc(1,7,t.airlineChargeTypeList$))("bookingTravelerList",L.jc(2,9,t.bookingTravelerList$))("tasfInfo",L.jc(3,11,t.tasfInfo$))("summaryInfo",L.jc(4,13,t.summary$))("ticketInfo",L.jc(5,15,t.ticketInfo$))("adjustReasonList",L.jc(6,17,t.adjustReasonList$))},directives:[jL],pipes:[k.b],encapsulation:2,changeDetection:0}),e})();const AL=function(){return{standalone:!0}};let WL=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.closeEvent=new L.n,this.submitEvent=new L.n,this.totalAmount=0,this.agencyChargeAmount=0,this._unsubscribe$=new Fe.a,this.putForm=e.generateChargeInfoPutUpdateForm(),this.putFormData=e.initChargeInfoPutUpdateForm(),this._initSubscription()}get chargePriceInfo(){return this._chargePriceInfo}set chargePriceInfo(e){this._chargePriceInfo=e,this.putFormData=this._setFormData(e)}get domesticYn(){var e;return!0===(null===(e=this.summaryInfo)||void 0===e?void 0:e.domesticYn)}ngOnInit(){}ngOnDestroy(){this._unsubscribe$.next(),this._unsubscribe$.complete()}onClose(){this.closeEvent.emit()}onSubmit(){if(this.putForm.invalid)return void(this.checkValid=!0);const e=this.putForm.getRawValue(),t=this._setPutCondition(e,this.bookingItemCode);this.submitEvent.emit(t)}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}_initSubscription(){const e=[this.putForm.get("agencyChargeAmount").valueChanges];Object(NA.a)(e).pipe(Object(Ci.a)(this._unsubscribe$)).subscribe(([e])=>{this.totalAmount=e}),this.putForm.get("adjustReasonCode").valueChanges.pipe(Object(Ci.a)(this._unsubscribe$)).subscribe(e=>{"ADW99"===e?(this.putForm.get("adjustReasonComment").enable(),this.putForm.get("adjustReasonComment").setValidators([I.z.required])):(this.putForm.get("adjustReasonComment").setValue(null),this.putForm.get("adjustReasonComment").disable(),this.putForm.get("adjustReasonCode").clearValidators()),this.putForm.get("adjustReasonComment").updateValueAndValidity()}),this.putForm.get("waiverYn").valueChanges.pipe(Object(Ci.a)(this._unsubscribe$)).subscribe(e=>{!0===e?(this.putForm.get("adjustReasonCode").enable(),this.putForm.get("adjustReasonCode").setValidators([I.z.required])):(this.putForm.get("adjustReasonCode").disable(),this.putForm.get("adjustReasonCode").setValue(null),this.putForm.get("adjustReasonCode").clearValidators(),this.putForm.get("adjustReasonComment").disable(),this.putForm.get("adjustReasonComment").setValue(null),this.putForm.get("adjustReasonComment").clearValidators()),this.putForm.get("adjustReasonCode").updateValueAndValidity(),this.putForm.get("adjustReasonComment").updateValueAndValidity()})}_setFormData(e){const t=this._dataService.initChargeInfoPutUpdateForm();return Q.isNil(e)?t:Object.assign(t,Q.pick(e,Object.keys(t),{waiverYn:!1}))}_setPutCondition(e,t){return{charges:[Object.assign(Object.assign({},e),{bookingItemCode:t})]}}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-charge-info-update-modal"]],inputs:{bookingItemCode:"bookingItemCode",summaryInfo:"summaryInfo",airlineChargeTypeList:"airlineChargeTypeList",adjustReasonList:"adjustReasonList",chargePriceInfo:"chargePriceInfo"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent"},decls:44,vars:13,consts:[[1,"component-wrap"],[3,"formGroup","connectForm"],[1,"table","table-bordered"],["width","150px"],["scope","row",1,"th-bg"],[1,"form-group"],["formControlName","agencyChargeAmount","valueType","number","inputFormat","number"],["formControlName","waiverYn","binary","true","label","\uc624\ub9c8\uc774\ud638\ud154P/\uc7ac\ubc1c\ud589 T \uc6e8\uc774\ubc84",1,"ml5",3,"value"],["valueType","number","inputFormat","number",3,"ngModel","ngModelOptions","disabled","ngModelChange"],["formControlName","adjustReasonCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","__\uc120\ud0dd__",3,"options","isInvalid"],["formControlName","adjustReasonComment",3,"isInvalid"],[1,"button-area","align-r","mt5"],["type","button",1,"btn","btn-secondary","sm",3,"click"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"form",1),L.Wb(2,"div",2),L.Wb(3,"table"),L.Wb(4,"caption"),L.Pc(5," \ucd94\uac00\uc694\uae08\uc815\ubcf4 "),L.Vb(),L.Wb(6,"colgroup"),L.Rb(7,"col",3),L.Rb(8,"col"),L.Vb(),L.Wb(9,"tbody"),L.Wb(10,"tr"),L.Wb(11,"th",4),L.Pc(12,"\ucd94\uac00\uc694\uae08 \uad6c\ubd84"),L.Vb(),L.Wb(13,"td"),L.Pc(14),L.Vb(),L.Vb(),L.Wb(15,"tr"),L.Wb(16,"th",4),L.Pc(17,"\ud0d1\uc2b9\uac1d / \ud2f0\ucf13\ubc88\ud638"),L.Vb(),L.Wb(18,"td"),L.Pc(19),L.Vb(),L.Vb(),L.Wb(20,"tr"),L.Wb(21,"th",4),L.Pc(22,"\uc624\ub9c8\uc774\ud638\ud154P/\uc7ac\ubc1c\ud589T (1\uc778\uae30\uc900)"),L.Vb(),L.Wb(23,"td"),L.Wb(24,"div",5),L.Rb(25,"app-input-text",6),L.Rb(26,"app-checkbox",7),L.Vb(),L.Vb(),L.Vb(),L.Wb(27,"tr"),L.Wb(28,"th",4),L.Pc(29,"\ucd1d\uae08\uc561 (1\uc778\uae30\uc900)"),L.Vb(),L.Wb(30,"td"),L.Wb(31,"app-input-text",8),L.fc("ngModelChange",(function(e){return t.totalAmount+(t.agencyChargeAmount=e)})),L.Vb(),L.Vb(),L.Vb(),L.Wb(32,"tr"),L.Wb(33,"th",4),L.Pc(34,"\uc624\ub9c8\uc774\ud638\ud154P/\uc7ac\ubc1c\ud589T \uc6e8\uc774\ubc84\uc0ac\uc720"),L.Vb(),L.Wb(35,"td"),L.Wb(36,"div",5),L.Rb(37,"app-selectbox",9),L.Rb(38,"app-input-text",10),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(39,"div",11),L.Wb(40,"button",12),L.fc("click",(function(){return t.onSubmit()})),L.Pc(41,"\uc800\uc7a5"),L.Vb(),L.Wb(42,"button",13),L.fc("click",(function(){return t.onClose()})),L.Pc(43,"\ub2eb\uae30"),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(13),L.Qc(null==t.chargePriceInfo?null:t.chargePriceInfo.chargeTypeName),L.Cb(5),L.Sc("",null==t.chargePriceInfo?null:t.chargePriceInfo.name," / ",null==t.chargePriceInfo?null:t.chargePriceInfo.ticketNo,""),L.Cb(7),L.pc("value",!0),L.Cb(5),L.pc("ngModel",t.totalAmount+t.agencyChargeAmount)("ngModelOptions",L.tc(12,AL))("disabled",!0),L.Cb(6),L.pc("options",t.adjustReasonList)("isInvalid",t.checkIsInvalid("adjustReasonCode")),L.Cb(1),L.pc("isInvalid",t.checkIsInvalid("adjustReasonComment")))},directives:[I.B,I.s,I.k,J.a,ee.a,I.r,I.i,Kt.a,I.u,Se.a],encapsulation:2,changeDetection:0}),e})();function RL(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-radio",24),L.fc("onClick",(function(t){return L.Fc(e),L.hc().onClickPriceType(t)})),L.Vb()}}function FL(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-radio",25),L.fc("onClick",(function(t){return L.Fc(e),L.hc().onClickPriceType(t)})),L.Vb()}}function SL(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"th",4),L.Pc(2,"\uc0ac\uc5c5\uc790\ub4f1\ub85d\ubc88\ud638"),L.Vb(),L.Wb(3,"td"),L.Rb(4,"app-input-text",26),L.Vb(),L.Tb()),2&e){const e=L.hc();L.Cb(4),L.pc("isInvalid",e.checkIsInvalid("cardHolderTaxPayerNo"))}}function TL(e,t){if(1&e&&(L.Wb(0,"th",4),L.Pc(1,"\uce74\ub4dc\ud640\ub354 \uc0dd\ub144\uc6d4\uc77c"),L.Vb(),L.Wb(2,"td"),L.Rb(3,"app-input-text",27),L.Vb()),2&e){const e=L.hc();L.Cb(3),L.pc("isInvalid",e.checkIsInvalid("cardHolderBirthday"))}}const NL=function(){return{standalone:!0}};let EL=(()=>{class e{constructor(e,t){this._dataService=e,this._service=t,this.closeEvent=new L.n,this.submitEvent=new L.n,this.isTotalPayment=!1,this.hasPenaltyCharge=!1,this.hasTasfCharge=!1,this.travelerList=[],this.cardQuotaMonthList=[],this.cardValidPeriodMonthList=[],this.cardValidPeriodYearList=[],this._$unsubscribe=new Fe.a,this.putForm=e.generatePgCreditCardChargePutForm(),this._initSubscription()}get prices(){return this._prices}set prices(e){this._prices=e,this.hasPenaltyCharge=e.some(e=>"CRG01"===e.chargeTypeCode||"CRG02"===e.chargeTypeCode),this.hasTasfCharge=e.some(e=>"CRG03"===e.chargeTypeCode),this.putFormData=this._setPutFormData(e)}get paymentDetailTypeCode(){var e,t;return this.isTotalPayment?"AIRRV":null===(t=null===(e=this.putForm)||void 0===e?void 0:e.get("paymentDetailTypeCode"))||void 0===t?void 0:t.value}get isCorporateCard(){return"CCH03"===this.putForm.get("cardHolderTypeCode").value}ngOnInit(){this._initSelectboxOptions()}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete()}onClose(){this.closeEvent.emit()}onClickPriceType(e){if(this.prices.length<1)return;const t=e.target.value;let n=0;this.isFlightFare(t)?n=this._service.calculateTotalChargeSum(this.prices):(this.isYbPenalty(t)||this.isTasf(t))&&(n=this._service.calculateAgencyChargeAmount(this.prices)),this.putForm.get("paidAmount").setValue(n)}onClickTotalPayment(e){if(this.prices.length<1)return;const t=this._service.calculateSalesSum(this.prices);this.putForm.get("paidAmount").setValue(t)}onSubmit(){if(this.putForm.invalid)return void(this.checkValid=!0);const e=this._setPutCondition(this.putForm.getRawValue());this.submitEvent.emit(e)}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}isYbPenalty(e){return"AIRCM"===e}isTasf(e){return"AIRTF"===e}isFlightFare(e){return"AIRRV"===e}_initSelectboxOptions(){this.cardQuotaMonthList.push({value:"00",label:"\uc77c\uc2dc\ubd88"});for(let t=1;t<25;t++){const e=Q.padStart(String(t),2,"0");this.cardQuotaMonthList.push({value:e,label:e})}for(let t=0;t<12;t++){const e=Q.padStart(String(t+1),2,"0");this.cardValidPeriodMonthList.push({value:e,label:`${t+1}\uc6d4`})}const e=(new Date).getFullYear();for(let t=0;t<20;t++)this.cardValidPeriodYearList.push({value:String(e+t).slice(2,4),label:`${e+t}\ub144`})}_setPutFormData(e){const t=this._dataService.initPgCreditCardChargePutForm();if(Q.isNil(e))return t;const n=this._service.calculateAgencyChargeAmount(e),i=this.hasPenaltyCharge?"AIRCM":"AIRTF";return Object.assign(Object.assign({},t),{paidAmount:n,paymentDetailTypeCode:i})}_setPutCondition(e){const{cardNo:t,cardHolderName:n,cardQuotaMonth:i,cardValidPeriodYear:o,cardValidPeriodMonth:a,cardHolderTypeCode:c,cardMasterCode:s,cardPassword:r,cardHolderBirthday:l,cardHolderTaxPayerNo:d}=e,b=`${a}/${o}`,u={bookingItemCode:this.bookingItemCode,allPaymentYn:!0,multiTravelerYn:!1};let p=0;this.isTotalPayment?p=this._service.calculateSalesSum(this.prices):this.isFlightFare(this.paymentDetailTypeCode)?p=this._service.calculateTotalChargeSum(this.prices):(this.isYbPenalty(this.paymentDetailTypeCode)||this.isTasf(this.paymentDetailTypeCode))&&(p=this._service.calculateAgencyChargeAmount(this.prices));const m=this.prices.reduce((e,t)=>{const n=Q.isNil(t.paxFareSeq1)?void 0:t.paxFareSeq1,i=Q.isNil(t.paxFareSeq2)?void 0:t.paxFareSeq2;if(this.isFlightFare(this.paymentDetailTypeCode)||this.isTotalPayment){e.push({paymentDetailTypeCode:"AIRRV",travelerPaidAmount:this._service.calculateChargeSum([t]),salesNetAmount:0,salesTaxAmount:0,bookingTravelerCode:t.bookingTravelerCode,paxFareSeq:n,chargeSeq:t.chargeSeq});const o=this._service.calculateChargeEmdSum([t]);o>0&&e.push({paymentDetailTypeCode:"AIRRV",travelerPaidAmount:o,salesNetAmount:0,salesTaxAmount:0,bookingTravelerCode:t.bookingTravelerCode,paxFareSeq:i,chargeSeq:t.chargeSeq})}return(this.isTotalPayment&&this.hasPenaltyCharge||this.isYbPenalty(this.paymentDetailTypeCode))&&e.push({paymentDetailTypeCode:"AIRCM",travelerPaidAmount:this._service.calculateAgencyChargeAmount([t]),salesNetAmount:0,salesTaxAmount:0,bookingTravelerCode:t.bookingTravelerCode,paxFareSeq:n,chargeSeq:t.chargeSeq}),(this.isTotalPayment&&this.hasTasfCharge||this.isTasf(this.paymentDetailTypeCode))&&e.push({paymentDetailTypeCode:"AIRTF",travelerPaidAmount:this._service.calculateAgencyChargeAmount([t]),salesNetAmount:0,salesTaxAmount:0,bookingTravelerCode:t.bookingTravelerCode,paxFareSeq:n,chargeSeq:t.chargeSeq}),e},[]);return Object.assign(u,{cards:[{cardHolderTypeCode:c,cardMasterCode:s,cardNo:t,cardHolderName:n,cardHolderBirthday:l||void 0,cardHolderTaxPayerNo:d||void 0,cardQuotaMonth:i,cardValidPeriod:b,cardPassword:r,paidAmount:p,bookingTravelerCodes:m}]})}_initSubscription(){this.putForm.get("paymentDetailTypeCode").valueChanges.pipe(Object(Ci.a)(this._$unsubscribe)).subscribe(e=>{this.isTotalPayment=!1}),this.putForm.get("cardHolderTypeCode").valueChanges.pipe(Object(Ci.a)(this._$unsubscribe)).subscribe(e=>{"CCH03"===e?(this.putForm.get("cardHolderBirthday").setValue(null),this.putForm.get("cardHolderTaxPayerNo").setValidators([I.z.required,I.z.minLength(10),I.z.maxLength(10)]),this.putForm.get("cardHolderBirthday").clearValidators()):(this.putForm.get("cardHolderTaxPayerNo").setValue(null),this.putForm.get("cardHolderTaxPayerNo").clearValidators(),this.putForm.get("cardHolderBirthday").setValidators([I.z.required])),this.putForm.get("cardHolderTaxPayerNo").updateValueAndValidity(),this.putForm.get("cardHolderBirthday").updateValueAndValidity()})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(YS))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-pg-credit-card-charge-modal"]],inputs:{prices:"prices",bankList:"bankList",cardHolderTypeList:"cardHolderTypeList",bookingItemCode:"bookingItemCode"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent"},decls:70,vars:24,consts:[[1,"component-wrap"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","150px"],["scope","row",1,"th-bg"],[1,"form-group"],["name","type","value","AIRCM","label","\uc624\ub9c8\uc774\ud638\ud154P","formControlName","paymentDetailTypeCode",3,"onClick",4,"ngIf"],["name","type","value","AIRTF","label","\uc7ac\ubc1c\ud589T","formControlName","paymentDetailTypeCode",3,"onClick",4,"ngIf"],["name","type","value","AIRRV","label","\ud56d\uacf5\uc694\uae08","formControlName","paymentDetailTypeCode",3,"onClick"],["name","type","label","\ucd1d\uc561",3,"value","ngModel","ngModelOptions","ngModelChange","onClick"],["formControlName","paidAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","cardMasterCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","__\uc120\ud0dd__",3,"options","isInvalid"],["formControlName","cardNo",3,"isInvalid"],["formControlName","cardValidPeriodMonth","useAllOptionName","__\uc120\ud0dd__",3,"options","isInvalid"],["formControlName","cardValidPeriodYear","useAllOptionName","__\uc120\ud0dd__",3,"options","isInvalid"],["formControlName","cardQuotaMonth","useAllOptionName","__\uc120\ud0dd__",3,"options","isInvalid"],["formControlName","cardHolderName","inputFormat","upperCase",3,"isInvalid"],["formControlName","cardHolderTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","__\uc120\ud0dd__",3,"options","isInvalid"],[4,"ngIf","ngIfElse"],["birthdayTpl",""],["formControlName","cardPassword","placeholder","\uc55e 2\uc790\ub9ac",3,"isInvalid"],[1,"button-area","align-r","mt5"],["type","submit",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm",3,"click"],["name","type","value","AIRCM","label","\uc624\ub9c8\uc774\ud638\ud154P","formControlName","paymentDetailTypeCode",3,"onClick"],["name","type","value","AIRTF","label","\uc7ac\ubc1c\ud589T","formControlName","paymentDetailTypeCode",3,"onClick"],["formControlName","cardHolderTaxPayerNo","inputFormat","numberOnly","placeholder","-\ub97c \uc81c\uc678\ud55c 10\uc790\ub9ac \uc22b\uc790",3,"isInvalid"],["formControlName","cardHolderBirthday","inputFormat","date","placeholder","YYYY-MM-DD",3,"isInvalid"]],template:function(e,t){if(1&e&&(L.Wb(0,"div",0),L.Wb(1,"form",1),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(2,"div",2),L.Wb(3,"table"),L.Wb(4,"caption"),L.Pc(5," PG \uc2e0\uc6a9\uce74\ub4dc \uc218\uae30\uc2b9\uc778 "),L.Vb(),L.Wb(6,"colgroup"),L.Rb(7,"col",3),L.Rb(8,"col"),L.Vb(),L.Wb(9,"tbody"),L.Wb(10,"tr"),L.Wb(11,"th",4),L.Pc(12,"\uad6c\ubd84"),L.Vb(),L.Wb(13,"td"),L.Wb(14,"div",5),L.Nc(15,RL,1,0,"app-radio",6),L.Nc(16,FL,1,0,"app-radio",7),L.Wb(17,"app-radio",8),L.fc("onClick",(function(e){return t.onClickPriceType(e)})),L.Vb(),L.Wb(18,"app-radio",9),L.fc("ngModelChange",(function(e){return t.isTotalPayment=e}))("onClick",(function(e){return t.onClickTotalPayment(e)})),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(19,"tr"),L.Wb(20,"th",4),L.Pc(21,"\uacb0\uc81c\ub300\uc0c1\uae08\uc561"),L.Vb(),L.Wb(22,"td"),L.Rb(23,"app-input-text",10),L.Vb(),L.Vb(),L.Wb(24,"tr"),L.Wb(25,"th",4),L.Pc(26,"\uce74\ub4dc\uc0ac\uba85"),L.Vb(),L.Wb(27,"td"),L.Rb(28,"app-selectbox",11),L.Vb(),L.Vb(),L.Wb(29,"tr"),L.Wb(30,"th",4),L.Pc(31,"\uce74\ub4dc\ubc88\ud638"),L.Vb(),L.Wb(32,"td"),L.Rb(33,"app-input-text",12),L.Vb(),L.Vb(),L.Wb(34,"tr"),L.Wb(35,"th",4),L.Pc(36,"\uc720\ud6a8\uae30\uac04"),L.Vb(),L.Wb(37,"td"),L.Wb(38,"div",5),L.Rb(39,"app-selectbox",13),L.Rb(40,"app-selectbox",14),L.Vb(),L.Vb(),L.Vb(),L.Wb(41,"tr"),L.Wb(42,"th",4),L.Pc(43,"\ud560\ubd80\uac1c\uc6d4"),L.Vb(),L.Wb(44,"td"),L.Rb(45,"app-selectbox",15),L.Vb(),L.Vb(),L.Wb(46,"tr"),L.Wb(47,"th",4),L.Pc(48,"\uce74\ub4dc\ud640\ub354"),L.Vb(),L.Wb(49,"td"),L.Rb(50,"app-input-text",16),L.Vb(),L.Vb(),L.Wb(51,"tr"),L.Wb(52,"th",4),L.Pc(53,"\uce74\ub4dc\ud640\ub354\ud0c0\uc785"),L.Vb(),L.Wb(54,"td"),L.Rb(55,"app-selectbox",17),L.Vb(),L.Vb(),L.Wb(56,"tr"),L.Nc(57,SL,5,1,"ng-container",18),L.Nc(58,TL,4,1,"ng-template",null,19,L.Oc),L.Vb(),L.Wb(60,"tr"),L.Wb(61,"th",4),L.Pc(62,"\uce74\ub4dc \ube44\ubc00\ubc88\ud638"),L.Vb(),L.Wb(63,"td"),L.Rb(64,"app-input-text",20),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(65,"div",21),L.Wb(66,"button",22),L.Pc(67,"\uc800\uc7a5"),L.Vb(),L.Wb(68,"button",23),L.fc("click",(function(){return t.onClose()})),L.Pc(69,"\ub2eb\uae30"),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.Ec(59);L.Cb(1),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(14),L.pc("ngIf",t.hasPenaltyCharge),L.Cb(1),L.pc("ngIf",t.hasTasfCharge),L.Cb(2),L.pc("value",!0)("ngModel",t.isTotalPayment)("ngModelOptions",L.tc(23,NL)),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("paidAmount")),L.Cb(5),L.pc("options",t.bankList)("isInvalid",t.checkIsInvalid("cardMasterCode")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("cardNo")),L.Cb(6),L.pc("options",t.cardValidPeriodMonthList)("isInvalid",t.checkIsInvalid("cardValidPeriodMonth")),L.Cb(1),L.pc("options",t.cardValidPeriodYearList)("isInvalid",t.checkIsInvalid("cardValidPeriodYear")),L.Cb(5),L.pc("options",t.cardQuotaMonthList)("isInvalid",t.checkIsInvalid("cardQuotaMonth")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("cardHolderName")),L.Cb(5),L.pc("options",t.cardHolderTypeList)("isInvalid",t.checkIsInvalid("cardHolderTypeCode")),L.Cb(2),L.pc("ngIf",t.isCorporateCard)("ngIfElse",e),L.Cb(7),L.pc("isInvalid",t.checkIsInvalid("cardPassword"))}},directives:[I.B,I.s,I.k,J.a,k.o,cS.a,I.r,I.i,I.u,ee.a,Se.a],encapsulation:2,changeDetection:0}),e})();function ML(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-radio",18),L.fc("onClick",(function(t){return L.Fc(e),L.hc().onClickPriceType(t)})),L.Vb()}}const DL=function(){return{standalone:!0}};let LL=(()=>{class e{constructor(e,t){this._dataService=e,this._service=t,this.closeEvent=new L.n,this.submitEvent=new L.n,this.sendSmsYn=!1,this.isTotalPayment=!1,this.travelerList=[],this.hasPenaltyCharge=!1,this.hasTasfCharge=!1,this._$unsubscribe=new Fe.a,this.putForm=e.generatePgBankChargePutForm(),this._initSubscription()}get prices(){return this._prices}set prices(e){this._prices=e,this.hasPenaltyCharge=e.some(e=>"CRG01"===e.chargeTypeCode||"CRG02"===e.chargeTypeCode),this.hasTasfCharge=e.some(e=>"CRG03"===e.chargeTypeCode),this.putFormData=this._setPutFormData(e)}get paymentDetailTypeCode(){var e,t;return this.isTotalPayment?"AIRRV":null===(t=null===(e=this.putForm)||void 0===e?void 0:e.get("paymentDetailTypeCode"))||void 0===t?void 0:t.value}ngOnInit(){}ngOnDestroy(){}onClose(){this.closeEvent.emit()}onSubmit(){if(this.putForm.invalid)return void(this.checkValid=!0);const e=this._setPutCondtion(this.putForm.getRawValue());this.submitEvent.emit(e)}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}isTasf(e){return"AIRTF"===e}isYbPenalty(e){return"AIRCM"===e}isFlightFare(e){return"AIRRV"===e}onClickPriceType(e){if(this.prices.length<1)return;const t=e.target.value;let n=0;this.isFlightFare(t)?n=this._service.calculateTotalChargeSum(this.prices):(this.isYbPenalty(t)||this.isTasf(t))&&(n=this._service.calculateAgencyChargeAmount(this.prices)),this.putForm.get("paidAmount").setValue(n)}onClickTotalPayment(e){if(this.prices.length<1)return;const t=this._service.calculateSalesSum(this.prices);this.putForm.get("paidAmount").setValue(t)}_setPutFormData(e){const t=this._dataService.initPgBankChargePutForm();if(Q.isNil(e))return t;const n=this._service.calculateAgencyChargeAmount(e);return Object.assign(Object.assign({},t),{paidAmount:n})}_setPutCondtion(e){const{bankMasterCode:t,depositDueDate:n,depositDueTime:i,depositRemitName:o}=e,a=`${n} ${i}`,c={bookingItemCode:this.bookingItemCode,sendSmsYn:this.sendSmsYn,allPaymentYn:!0,multiTravelerYn:!1};let s=0;this.isTotalPayment?s=this._service.calculateSalesSum(this.prices):this.isFlightFare(this.paymentDetailTypeCode)?s=this._service.calculateTotalChargeSum(this.prices):(this.isYbPenalty(this.paymentDetailTypeCode)||this.isTasf(this.paymentDetailTypeCode))&&(s=this._service.calculateAgencyChargeAmount(this.prices));const r=this.prices.reduce((t,n)=>{const i=Q.isNil(n.paxFareSeq1)?void 0:n.paxFareSeq1,o=Q.isNil(n.paxFareSeq2)?void 0:n.paxFareSeq2;if(this.isFlightFare(this.paymentDetailTypeCode)||this.isTotalPayment){t.push({paymentDetailTypeCode:"AIRRV",travelerPaidAmount:this.hasPenaltyCharge?e.paidAmount:this._service.calculateChargeSum([n]),salesNetAmount:0,salesTaxAmount:0,bookingTravelerCode:n.bookingTravelerCode,paxFareSeq:i,chargeSeq:n.chargeSeq});const a=this._service.calculateChargeEmdSum([n]);a>0&&t.push({paymentDetailTypeCode:"AIRRV",travelerPaidAmount:this.hasPenaltyCharge?e.paidAmount:a,salesNetAmount:0,salesTaxAmount:0,bookingTravelerCode:n.bookingTravelerCode,paxFareSeq:o,chargeSeq:n.chargeSeq})}return(this.isTotalPayment&&this.hasPenaltyCharge||this.isYbPenalty(this.paymentDetailTypeCode))&&t.push({paymentDetailTypeCode:"AIRCM",travelerPaidAmount:this.hasPenaltyCharge?e.paidAmount:this._service.calculateAgencyChargeAmount([n]),salesNetAmount:0,salesTaxAmount:0,bookingTravelerCode:n.bookingTravelerCode,paxFareSeq:i,chargeSeq:n.chargeSeq}),(this.isTotalPayment&&this.hasTasfCharge||this.isTasf(this.paymentDetailTypeCode))&&t.push({paymentDetailTypeCode:"AIRTF",travelerPaidAmount:this.hasPenaltyCharge?e.paidAmount:this._service.calculateAgencyChargeAmount([n]),salesNetAmount:0,salesTaxAmount:0,bookingTravelerCode:n.bookingTravelerCode,paxFareSeq:i,chargeSeq:n.chargeSeq}),t},[]),l=[{bankMasterCode:t.substring(2),depositDueDatetime:a,depositRemitName:o,paidAmount:s,bookingTravelerCodes:r}];return Object.assign(c,{banks:l})}_initSubscription(){this.putForm.get("paymentDetailTypeCode").valueChanges.pipe(Object(Ci.a)(this._$unsubscribe)).subscribe(e=>{this.isTotalPayment=!1})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(YS))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-pg-bank-charge-modal"]],inputs:{bookingItemCode:"bookingItemCode",bankMasterList:"bankMasterList",prices:"prices"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent"},decls:51,vars:13,consts:[[1,"component-wrap"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","150px"],["scope","row",1,"th-bg"],[1,"form-group"],["name","type","value","AIRTF","label","TASF","formControlName","paymentDetailTypeCode",3,"onClick",4,"ngIf"],["name","type","value","AIRRV","label","Sales Sum Amts","formControlName","paymentDetailTypeCode",3,"onClick"],["name","type","label","Total Price",3,"value","ngModel","ngModelOptions","ngModelChange","onClick"],["formControlName","paidAmount","inputFormat","number","valueType","number",3,"isInvalid"],["formControlName","bankMasterCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","depositDueDate","inputFormat","date","placeholder","YYYY-MM-DD",3,"isInvalid"],["formControlName","depositDueTime","inputFormat","time","placeholder","HH:MM",3,"isInvalid"],["formControlName","depositRemitName",3,"isInvalid"],[1,"d-flex","align-items-center","justify-content-between","mt10"],[1,"button-area","ml-auto"],["type","submit",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm",3,"click"],["name","type","value","AIRTF","label","TASF","formControlName","paymentDetailTypeCode",3,"onClick"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"form",1),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(2,"div",2),L.Wb(3,"table"),L.Wb(4,"caption"),L.Pc(5," PG \uac00\uc0c1\uacc4\uc88c \ubc1c\ud589 "),L.Vb(),L.Wb(6,"colgroup"),L.Rb(7,"col",3),L.Rb(8,"col"),L.Vb(),L.Wb(9,"tbody"),L.Wb(10,"tr"),L.Wb(11,"th",4),L.Wb(12,"sup"),L.Pc(13,"Payment Item"),L.Vb(),L.Vb(),L.Wb(14,"td"),L.Wb(15,"div",5),L.Nc(16,ML,1,0,"app-radio",6),L.Wb(17,"app-radio",7),L.fc("onClick",(function(e){return t.onClickPriceType(e)})),L.Vb(),L.Wb(18,"app-radio",8),L.fc("ngModelChange",(function(e){return t.isTotalPayment=e}))("onClick",(function(e){return t.onClickTotalPayment(e)})),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(19,"tr"),L.Wb(20,"th",4),L.Wb(21,"sup"),L.Pc(22,"Amounts"),L.Vb(),L.Vb(),L.Wb(23,"td"),L.Rb(24,"app-input-text",9),L.Vb(),L.Vb(),L.Wb(25,"tr"),L.Wb(26,"th",4),L.Wb(27,"sup"),L.Pc(28,"Bank"),L.Vb(),L.Vb(),L.Wb(29,"td"),L.Rb(30,"app-selectbox",10),L.Vb(),L.Vb(),L.Wb(31,"tr"),L.Wb(32,"th",4),L.Wb(33,"sup"),L.Pc(34,"Valid Thru"),L.Vb(),L.Vb(),L.Wb(35,"td"),L.Wb(36,"div",5),L.Rb(37,"app-input-text",11),L.Rb(38,"app-input-text",12),L.Vb(),L.Vb(),L.Vb(),L.Wb(39,"tr"),L.Wb(40,"th",4),L.Wb(41,"sup"),L.Pc(42,"Depositor"),L.Vb(),L.Vb(),L.Wb(43,"td"),L.Rb(44,"app-input-text",13),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(45,"div",14),L.Wb(46,"div",15),L.Wb(47,"button",16),L.Pc(48,"Issue"),L.Vb(),L.Wb(49,"button",17),L.fc("click",(function(){return t.onClose()})),L.Pc(50,"Close"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(15),L.pc("ngIf",t.hasTasfCharge),L.Cb(2),L.pc("value",!0)("ngModel",t.isTotalPayment)("ngModelOptions",L.tc(12,DL)),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("paidAmount")),L.Cb(6),L.pc("options",t.bankMasterList)("isInvalid",t.checkIsInvalid("bankMasterCode")),L.Cb(7),L.pc("isInvalid",t.checkIsInvalid("depositDueDate")),L.Cb(1),L.pc("isInvalid",t.checkIsInvalid("depositDueTime")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("depositRemitName")))},directives:[I.B,I.s,I.k,J.a,k.o,cS.a,I.r,I.i,I.u,ee.a,Se.a],encapsulation:2,changeDetection:0}),e})(),_L=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.closeEvent=new L.n,this.submitEvent=new L.n,this._unsubscribe$=new Fe.a,this.putForm=e.generateAncillaryPutForm(),this._initSubscription()}get segments(){return this._segments}set segments(e){this._segments=e,this.segmentOptionList=this._makeSegmentOptions(e)}ngOnInit(){}ngOnDestroy(){this._unsubscribe$.next(),this._unsubscribe$.complete()}onClose(){this.closeEvent.emit()}onSubmit(){if(this.putForm.invalid)return void(this.checkValid=!0);if(!this.putForm.get("bookingTravelerCodes").value)return void this.alertService.alert("Please select the number of people.");const e=this._convertFormToItem(this.putForm.value);this.submitEvent.emit(e)}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}_makeSegmentOptions(e){return e.map(e=>({value:e.rowNo,label:`${e.marketingAirlineCode} ${e.marketingFlightNumber}${e.operatingAirlineCode&&e.marketingAirlineCode!==e.operatingAirlineCode?`(${e.operatingAirlineCode})`:""}`}))}_initSubscription(){this.putForm.get("segmentRowid").valueChanges.pipe(Object(Ci.a)(this._unsubscribe$)).subscribe(e=>{if(e){const t=Q.find(this.segments,t=>t.rowid===e);this.putForm.patchValue({itineraryNo:t.itineraryNo,segmentNo:t.segmentNo})}else this.putForm.patchValue({itineraryNo:null,segmentNo:null})})}_convertFormToItem(e){const{bookingTravelerCodes:t}=e,n=this._dataService.initAncillaryPutCondition();return{ancillaries:t.map(t=>Object.assign({bookingItemCode:this.bookingItemCode,bookingTravelerCode:t},Q.pick(e,Object.keys(n))))}}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-ancillary-info-modal"]],inputs:{priceInfo:"priceInfo",segments:"segments",bookingItemCode:"bookingItemCode",bookingTravelerList:"bookingTravelerList",ancillaryTypeList:"ancillaryTypeList",ancillaryStatusList:"ancillaryStatusList"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent"},decls:60,vars:11,consts:[[1,"component-wrap"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","150px"],["scope","row",1,"th-bg"],["formControlName","bookingTravelerCodes","dataKey","bookingTravelerCode","displayKey","name",3,"options"],["formControlName","segmentRowid",3,"options","isInvalid"],["formControlName","ancillaryTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn",3,"options","isInvalid"],["formControlName","ancillaryCode"],["formControlName","ancillaryDetail",3,"isInvalid"],["formControlName","ancillaryAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","commAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","gdsStatusCode"],["formControlName","ancillaryStatusCode","dataKey","detailCode","displayKey","detailCodeNameEn",3,"options"],[1,"button-area","align-r","mt5"],["type","submit",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"form",1),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(2,"div",2),L.Wb(3,"table"),L.Wb(4,"caption"),L.Pc(5," \ubd80\uac00\uc11c\ube44\uc2a4 \uc694\uae08\uc815\ubcf4 "),L.Vb(),L.Wb(6,"colgroup"),L.Rb(7,"col",3),L.Rb(8,"col"),L.Vb(),L.Wb(9,"tbody"),L.Wb(10,"tr"),L.Wb(11,"th",4),L.Pc(12,"\uc778\uc6d0\uc120\ud0dd"),L.Vb(),L.Wb(13,"td"),L.Rb(14,"app-multi-select",5),L.Vb(),L.Vb(),L.Wb(15,"tr"),L.Wb(16,"th",4),L.Pc(17,"\uad6c\uac04/\ube44\ud589\ud3b8\uba85"),L.Vb(),L.Wb(18,"td"),L.Rb(19,"app-selectbox",6),L.Vb(),L.Vb(),L.Wb(20,"tr"),L.Wb(21,"th",4),L.Pc(22,"\ubd80\uac00\uc11c\ube44\uc2a4 \uc885\ub958"),L.Vb(),L.Wb(23,"td"),L.Rb(24,"app-selectbox",7),L.Vb(),L.Vb(),L.Wb(25,"tr"),L.Wb(26,"th",4),L.Pc(27,"\ubd80\uac00\uc11c\ube44\uc2a4 \ucf54\ub4dc"),L.Vb(),L.Wb(28,"td"),L.Rb(29,"app-input-text",8),L.Vb(),L.Vb(),L.Wb(30,"tr"),L.Wb(31,"th",4),L.Pc(32,"\ubd80\uac00\uc11c\ube44\uc2a4 \ub0b4\uc6a9"),L.Vb(),L.Wb(33,"td"),L.Rb(34,"app-input-text",9),L.Vb(),L.Vb(),L.Wb(35,"tr"),L.Wb(36,"th",4),L.Pc(37,"\ubd80\uac00\uc11c\ube44\uc2a4 \uae08\uc561 (1\uc778)"),L.Vb(),L.Wb(38,"td"),L.Rb(39,"app-input-text",10),L.Vb(),L.Vb(),L.Wb(40,"tr"),L.Wb(41,"th",4),L.Pc(42,"\ucee4\ubbf8\uc158 \uae08\uc561"),L.Vb(),L.Wb(43,"td"),L.Rb(44,"app-input-text",11),L.Vb(),L.Vb(),L.Wb(45,"tr"),L.Wb(46,"th",4),L.Pc(47,"GDS \uc0c1\ud0dc\ucf54\ub4dc"),L.Vb(),L.Wb(48,"td"),L.Rb(49,"app-input-text",12),L.Vb(),L.Vb(),L.Wb(50,"tr"),L.Wb(51,"th",4),L.Pc(52,"\ubd80\uac00\uc11c\ube44\uc2a4 \uc0c1\ud0dc\ucf54\ub4dc"),L.Vb(),L.Wb(53,"td"),L.Rb(54,"app-selectbox",13),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(55,"div",14),L.Wb(56,"button",15),L.Pc(57,"\uc800\uc7a5"),L.Vb(),L.Wb(58,"button",16),L.fc("click",(function(){return t.onClose()})),L.Pc(59,"\ub2eb\uae30"),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(13),L.pc("options",t.bookingTravelerList),L.Cb(5),L.pc("options",t.segmentOptionList)("isInvalid",t.checkIsInvalid("segmentRowid")),L.Cb(5),L.pc("options",t.ancillaryTypeList)("isInvalid",t.checkIsInvalid("ancillaryTypeCode")),L.Cb(10),L.pc("isInvalid",t.checkIsInvalid("ancillaryDetail")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("ancillaryAmount")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("commAmount")),L.Cb(10),L.pc("options",t.ancillaryStatusList))},directives:[I.B,I.s,I.k,J.a,yL.a,I.r,I.i,Se.a,ee.a],encapsulation:2,changeDetection:0}),e})();function $L(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"th",4),L.Pc(2,"\uc0ac\uc5c5\uc790\ub4f1\ub85d\ubc88\ud638"),L.Vb(),L.Wb(3,"td"),L.Rb(4,"app-input-text",20),L.Vb(),L.Tb()),2&e){const e=L.hc();L.Cb(4),L.pc("isInvalid",e.checkIsInvalid("cardHolderTaxPayerNo"))}}function BL(e,t){if(1&e&&(L.Wb(0,"th",4),L.Pc(1,"\uce74\ub4dc\ud640\ub354 \uc0dd\ub144\uc6d4\uc77c"),L.Vb(),L.Wb(2,"td"),L.Rb(3,"app-input-text",21),L.Vb()),2&e){const e=L.hc();L.Cb(3),L.pc("isInvalid",e.checkIsInvalid("cardHolderBirthday"))}}let wL=(()=>{class e{constructor(e,t){this._dataService=e,this._service=t,this.closeEvent=new L.n,this.submitEvent=new L.n,this.travelerList=[],this.cardQuotaMonthList=[],this.cardValidPeriodMonthList=[],this.cardValidPeriodYearList=[],this._$unsubscribe=new Fe.a,this.putForm=e.generatePgCreditCardAncillaryPutForm()}get prices(){return this._prices}set prices(e){this._prices=e,this.putFormData=this._setPutFormData(e)}get isCorporateCard(){return"CCH03"===this.putForm.get("cardHolderTypeCode").value}ngOnInit(){this._initSelectboxOptions(),this._initSubscription()}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete()}onClose(){this.closeEvent.emit()}onSubmit(){if(this.putForm.invalid)return void(this.checkValid=!0);const e=this._setPutCondition(this.putForm.getRawValue());this.submitEvent.emit(e)}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}_initSelectboxOptions(){this.cardQuotaMonthList.push({value:"00",label:"\uc77c\uc2dc\ubd88"});for(let t=1;t<25;t++){const e=Q.padStart(String(t),2,"0");this.cardQuotaMonthList.push({value:e,label:e})}for(let t=0;t<12;t++){const e=Q.padStart(String(t+1),2,"0");this.cardValidPeriodMonthList.push({value:e,label:`${t+1}\uc6d4`})}const e=(new Date).getFullYear();for(let t=0;t<20;t++)this.cardValidPeriodYearList.push({value:String(e+t).slice(2,4),label:`${e+t}\ub144`})}_setPutFormData(e){const t=this._dataService.initPgCreditCardAncillaryPutForm();if(Q.isNil(e))return t;const n=e.reduce((e,t)=>e+t.ancillaryAmount,0);return Object.assign(Object.assign({},t),{paidAmount:n})}_setPutCondition(e){const{cardNo:t,cardHolderName:n,cardQuotaMonth:i,cardValidPeriodYear:o,cardValidPeriodMonth:a,cardHolderTypeCode:c,cardMasterCode:s,cardPassword:r,cardHolderBirthday:l,cardHolderTaxPayerNo:d}=e,b=`${a}/${o}`,u={bookingItemCode:this.bookingItemCode,allPaymentYn:!0,multiTravelerYn:!1},p=this.prices.reduce((e,t)=>e+t.ancillaryAmount,0),m=this.prices.map(e=>({paymentDetailTypeCode:"AIRRV",travelerPaidAmount:e.ancillaryAmount,salesNetAmount:0,salesTaxAmount:0,bookingTravelerCode:e.bookingTravelerCode,ancillarySeq:e.ancillarySeq}));return Object.assign(u,{cards:[{cardHolderTypeCode:c,cardMasterCode:s,cardNo:t,cardHolderName:n,cardHolderBirthday:l||void 0,cardHolderTaxPayerNo:d||void 0,cardQuotaMonth:i,cardValidPeriod:b,cardPassword:r,paidAmount:p,bookingTravelerCodes:m}]})}_initSubscription(){this.putForm.get("cardHolderTypeCode").valueChanges.pipe(Object(Ci.a)(this._$unsubscribe)).subscribe(e=>{"CCH03"===e?(this.putForm.get("cardHolderBirthday").setValue(null),this.putForm.get("cardHolderTaxPayerNo").setValidators([I.z.required,I.z.minLength(10),I.z.maxLength(10)]),this.putForm.get("cardHolderBirthday").clearValidators()):(this.putForm.get("cardHolderTaxPayerNo").setValue(null),this.putForm.get("cardHolderTaxPayerNo").clearValidators(),this.putForm.get("cardHolderBirthday").setValidators([I.z.required])),this.putForm.get("cardHolderTaxPayerNo").updateValueAndValidity(),this.putForm.get("cardHolderBirthday").updateValueAndValidity()})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(YS))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-pg-credit-card-ancillary-modal"]],inputs:{prices:"prices",bankList:"bankList",cardHolderTypeList:"cardHolderTypeList",bookingItemCode:"bookingItemCode"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent"},decls:61,vars:18,consts:[[1,"component-wrap"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","150px"],["scope","row",1,"th-bg"],["formControlName","paidAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","cardMasterCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","__\uc120\ud0dd__",3,"options","isInvalid"],["formControlName","cardNo",3,"isInvalid"],[1,"form-group"],["formControlName","cardValidPeriodMonth","useAllOptionName","__\uc120\ud0dd__",3,"options","isInvalid"],["formControlName","cardValidPeriodYear","useAllOptionName","__\uc120\ud0dd__",3,"options","isInvalid"],["formControlName","cardQuotaMonth","useAllOptionName","__\uc120\ud0dd__",3,"options","isInvalid"],["formControlName","cardHolderName","inputFormat","uppserCaseEnOnly",3,"isInvalid"],["formControlName","cardHolderTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","__\uc120\ud0dd__",3,"options","isInvalid"],[4,"ngIf","ngIfElse"],["birthdayTpl",""],["formControlName","cardPassword","placeholder","\uc55e 2\uc790\ub9ac",3,"isInvalid"],[1,"button-area","align-r","mt5"],["type","submit",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm",3,"click"],["formControlName","cardHolderTaxPayerNo","inputFormat","numberOnly","placeholder","-\ub97c \uc81c\uc678\ud55c 10\uc790\ub9ac \uc22b\uc790",3,"isInvalid"],["formControlName","cardHolderBirthday","inputFormat","date","placeholder","YYYY-MM-DD",3,"isInvalid"]],template:function(e,t){if(1&e&&(L.Wb(0,"div",0),L.Wb(1,"form",1),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(2,"div",2),L.Wb(3,"table"),L.Wb(4,"caption"),L.Pc(5," PG \uc2e0\uc6a9\uce74\ub4dc \uc218\uae30\uc2b9\uc778: \ubd80\uac00\uc11c\ube44\uc2a4 \uc694\uae08 "),L.Vb(),L.Wb(6,"colgroup"),L.Rb(7,"col",3),L.Rb(8,"col"),L.Vb(),L.Wb(9,"tbody"),L.Wb(10,"tr"),L.Wb(11,"th",4),L.Pc(12,"\uacb0\uc81c\uae08\uc561"),L.Vb(),L.Wb(13,"td"),L.Rb(14,"app-input-text",5),L.Vb(),L.Vb(),L.Wb(15,"tr"),L.Wb(16,"th",4),L.Pc(17,"\uce74\ub4dc\uc0ac\uba85"),L.Vb(),L.Wb(18,"td"),L.Rb(19,"app-selectbox",6),L.Vb(),L.Vb(),L.Wb(20,"tr"),L.Wb(21,"th",4),L.Pc(22,"\uce74\ub4dc\ubc88\ud638"),L.Vb(),L.Wb(23,"td"),L.Rb(24,"app-input-text",7),L.Vb(),L.Vb(),L.Wb(25,"tr"),L.Wb(26,"th",4),L.Pc(27,"\uc720\ud6a8\uae30\uac04"),L.Vb(),L.Wb(28,"td"),L.Wb(29,"div",8),L.Rb(30,"app-selectbox",9),L.Rb(31,"app-selectbox",10),L.Vb(),L.Vb(),L.Vb(),L.Wb(32,"tr"),L.Wb(33,"th",4),L.Pc(34,"\ud560\ubd80\uac1c\uc6d4"),L.Vb(),L.Wb(35,"td"),L.Rb(36,"app-selectbox",11),L.Vb(),L.Vb(),L.Wb(37,"tr"),L.Wb(38,"th",4),L.Pc(39,"\uce74\ub4dc\ud640\ub354"),L.Vb(),L.Wb(40,"td"),L.Rb(41,"app-input-text",12),L.Vb(),L.Vb(),L.Wb(42,"tr"),L.Wb(43,"th",4),L.Pc(44,"\uce74\ub4dc\ud640\ub354\ud0c0\uc785"),L.Vb(),L.Wb(45,"td"),L.Rb(46,"app-selectbox",13),L.Vb(),L.Vb(),L.Wb(47,"tr"),L.Nc(48,$L,5,1,"ng-container",14),L.Nc(49,BL,4,1,"ng-template",null,15,L.Oc),L.Vb(),L.Wb(51,"tr"),L.Wb(52,"th",4),L.Pc(53,"\uce74\ub4dc \ube44\ubc00\ubc88\ud638"),L.Vb(),L.Wb(54,"td"),L.Rb(55,"app-input-text",16),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(56,"div",17),L.Wb(57,"button",18),L.Pc(58,"\uc2b9\uc778"),L.Vb(),L.Wb(59,"button",19),L.fc("click",(function(){return t.onClose()})),L.Pc(60,"\ub2eb\uae30"),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.Ec(50);L.Cb(1),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(13),L.pc("isInvalid",t.checkIsInvalid("paidAmount")),L.Cb(5),L.pc("options",t.bankList)("isInvalid",t.checkIsInvalid("cardMasterCode")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("cardNo")),L.Cb(6),L.pc("options",t.cardValidPeriodMonthList)("isInvalid",t.checkIsInvalid("cardValidPeriodMonth")),L.Cb(1),L.pc("options",t.cardValidPeriodYearList)("isInvalid",t.checkIsInvalid("cardValidPeriodYear")),L.Cb(5),L.pc("options",t.cardQuotaMonthList)("isInvalid",t.checkIsInvalid("cardQuotaMonth")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("cardHolderName")),L.Cb(5),L.pc("options",t.cardHolderTypeList)("isInvalid",t.checkIsInvalid("cardHolderTypeCode")),L.Cb(2),L.pc("ngIf",t.isCorporateCard)("ngIfElse",e),L.Cb(7),L.pc("isInvalid",t.checkIsInvalid("cardPassword"))}},directives:[I.B,I.s,I.k,J.a,ee.a,I.r,I.i,Se.a,k.o],encapsulation:2,changeDetection:0}),e})();const xL=function(){return{standalone:!0}};let YL=(()=>{class e{constructor(e,t){this._dataService=e,this._service=t,this.closeEvent=new L.n,this.submitEvent=new L.n,this.sendSmsYn=!1,this.travelerList=[],this.putForm=e.generatePgBankAncillaryPutForm(),this.putFormData=e.initPgBankAncillaryPutForm()}get prices(){return this._prices}set prices(e){this._prices=e,this.putFormData=this._setPutFormData(e)}ngOnInit(){}ngOnDestroy(){}onClose(){this.closeEvent.emit()}onSubmit(){if(this.putForm.invalid)return void(this.checkValid=!0);const e=this._setPutCondition(this.putForm.getRawValue());this.submitEvent.emit(Object.assign(Object.assign({},e),{sendSmsYn:this.sendSmsYn}))}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}_setPutFormData(e){const t=this._dataService.initPgBankAncillaryPutForm();if(Q.isNil(e))return t;const n=e.reduce((e,t)=>e+t.ancillaryAmount,0);return Object.assign(Object.assign({},t),{paidAmount:n})}_setPutCondition(e){const{bankMasterCode:t,depositDueDate:n,depositDueTime:i,depositRemitName:o}=e,a=`${n} ${i}`,c={bookingItemCode:this.bookingItemCode,sendSmsYn:this.sendSmsYn,allPaymentYn:!0,multiTravelerYn:!1},s=this.prices.reduce((e,t)=>e+t.ancillaryAmount,0),r=this.prices.map(e=>({paymentDetailTypeCode:"AIRRV",travelerPaidAmount:e.ancillaryAmount,salesNetAmount:0,salesTaxAmount:0,bookingTravelerCode:e.bookingTravelerCode,ancillarySeq:e.ancillarySeq}));return Object.assign(c,{banks:[{bankMasterCode:t,depositDueDatetime:a,depositRemitName:o,paidAmount:s,bookingTravelerCodes:r}]})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(YS))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-pg-bank-ancillary-modal"]],inputs:{bookingItemCode:"bookingItemCode",bankMasterList:"bankMasterList",prices:"prices",isChargePrice:"isChargePrice"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent"},decls:39,vars:12,consts:[[1,"component-wrap"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","150px"],["scope","row",1,"th-bg"],["formControlName","paidAmount","inputFormat","number","valueType","number",3,"isInvalid"],["formControlName","bankMasterCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","__\uc120\ud0dd__",3,"options","isInvalid"],[1,"form-group"],["formControlName","depositDueDate","inputFormat","date","placeholder","YYYY-MM-DD",3,"isInvalid"],["formControlName","depositDueTime","inputFormat","time","placeholder","HH:MM",3,"isInvalid"],["formControlName","depositRemitName",3,"isInvalid"],[1,"d-flex","align-items-center","justify-content-between","mt10"],["label","\uacb0\uc81c\uc815\ubcf4 SMS \ubc1c\uc1a1",3,"binary","ngModel","ngModelOptions","ngModelChange"],[1,"button-area"],["type","submit",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"form",1),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(2,"div",2),L.Wb(3,"table"),L.Wb(4,"caption"),L.Pc(5," PG \uac00\uc0c1\uacc4\uc88c \ubc1c\ud589: \ubd80\uac00\uc11c\ube44\uc2a4 "),L.Vb(),L.Wb(6,"colgroup"),L.Rb(7,"col",3),L.Rb(8,"col"),L.Vb(),L.Wb(9,"tbody"),L.Wb(10,"tr"),L.Wb(11,"th",4),L.Pc(12,"\uac00\uc0c1\uacc4\uc88c \ubc1c\ud589\uae08\uc561"),L.Vb(),L.Wb(13,"td"),L.Rb(14,"app-input-text",5),L.Vb(),L.Vb(),L.Wb(15,"tr"),L.Wb(16,"th",4),L.Pc(17,"\uc740\ud589\uc120\ud0dd"),L.Vb(),L.Wb(18,"td"),L.Rb(19,"app-selectbox",6),L.Vb(),L.Vb(),L.Wb(20,"tr"),L.Wb(21,"th",4),L.Pc(22,"\uacc4\uc88c\ub9cc\ub8cc\uc2dc\uac01"),L.Vb(),L.Wb(23,"td"),L.Wb(24,"div",7),L.Rb(25,"app-input-text",8),L.Rb(26,"app-input-text",9),L.Vb(),L.Vb(),L.Vb(),L.Wb(27,"tr"),L.Wb(28,"th",4),L.Pc(29,"\uc785\uae08\uc790"),L.Vb(),L.Wb(30,"td"),L.Rb(31,"app-input-text",10),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(32,"div",11),L.Wb(33,"app-checkbox",12),L.fc("ngModelChange",(function(e){return t.sendSmsYn=e})),L.Vb(),L.Wb(34,"div",13),L.Wb(35,"button",14),L.Pc(36,"\uc800\uc7a5"),L.Vb(),L.Wb(37,"button",15),L.fc("click",(function(){return t.onClose()})),L.Pc(38,"\ub2eb\uae30"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(13),L.pc("isInvalid",t.checkIsInvalid("paidAmount")),L.Cb(5),L.pc("options",t.bankMasterList)("isInvalid",t.checkIsInvalid("bankMasterCode")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("depositDueDate")),L.Cb(1),L.pc("isInvalid",t.checkIsInvalid("depositDueTime")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("depositRemitName")),L.Cb(2),L.pc("binary",!0)("ngModel",t.sendSmsYn)("ngModelOptions",L.tc(11,xL)))},directives:[I.B,I.s,I.k,J.a,ee.a,I.r,I.i,Se.a,Kt.a,I.u],encapsulation:2,changeDetection:0}),e})();var HL=n("J2lu");function qL(e,t){1&e&&(L.Wb(0,"div",19),L.Pc(1,"\ud56d\uacf5\uc608\uc57d \uacb0\uc81c\uc815\ubcf4"),L.Vb())}function UL(e,t){1&e&&(L.Wb(0,"div",19),L.Pc(1,"\ud56d\uacf5TASF/\uc624\ub9c8\uc774\ud638\ud154P \uacb0\uc81c\uc815\ubcf4 \ub4f1\ub85d"),L.Vb())}function QL(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"\uc77c\uc2dc\ubd88"),L.Vb())}function GL(e,t){if(1&e&&(L.Wb(0,"span"),L.Pc(1),L.Vb()),2&e){const e=L.hc().$implicit;L.Cb(1),L.Qc(e.cardInfo.cardQuotaMonth)}}function KL(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",20),L.Pc(3),L.Vb(),L.Wb(4,"td",21),L.Pc(5),L.Vb(),L.Wb(6,"td",22),L.Pc(7),L.ic(8,"number"),L.Vb(),L.Wb(9,"td",22),L.Pc(10),L.ic(11,"number"),L.Vb(),L.Vb(),L.Tb()),2&e){const e=t.$implicit;L.Cb(3),L.Qc(e.paxFareSeq||e.chargeSeq||e.ancillarySeq),L.Cb(2),L.Qc(e.nameEn),L.Cb(2),L.Qc(L.jc(8,4,e.salesSumAmount)),L.Cb(3),L.Qc(L.jc(11,6,e.requestSumAmount||0))}}function zL(e,t){if(1&e&&(L.Ub(0),L.Nc(1,KL,12,8,"ng-container",1),L.Tb()),2&e){const e=L.hc().$implicit;L.Cb(1),L.pc("ngForOf",e.cardInfo.paxPayments)}}function XL(e,t){1&e&&(L.Wb(0,"tr"),L.Wb(1,"td",23),L.Pc(2,"\ud0d1\uc2b9\uc790 \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."),L.Vb(),L.Vb())}function ZL(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"div",3),L.Nc(2,qL,2,0,"div",4),L.Nc(3,UL,2,0,"div",4),L.Wb(4,"div",5),L.Wb(5,"button",6),L.fc("click",(function(){return L.Fc(e),L.hc().onApproveBefore()})),L.Pc(6,"\uc2b9\uc778"),L.Vb(),L.Vb(),L.Vb(),L.Wb(7,"div",7),L.Wb(8,"table"),L.Wb(9,"caption"),L.Pc(10," TASF PG \uc2b9\uc778 "),L.Vb(),L.Wb(11,"colgroup"),L.Rb(12,"col",8),L.Rb(13,"col",9),L.Rb(14,"col",8),L.Rb(15,"col",9),L.Vb(),L.Wb(16,"tbody"),L.Wb(17,"tr"),L.Wb(18,"th",10),L.Pc(19,"\uc785\uae08\uad6c\ubd84"),L.Vb(),L.Wb(20,"td"),L.Pc(21),L.Vb(),L.Wb(22,"th",10),L.Pc(23,"\uacb0\uc81c\ub300\uc0c1\uae08\uc561"),L.Vb(),L.Wb(24,"td"),L.Pc(25),L.ic(26,"number"),L.Vb(),L.Vb(),L.Wb(27,"tr"),L.Wb(28,"th",10),L.Pc(29,"\uce74\ub4dc\uad6c\ubd84"),L.Vb(),L.Wb(30,"td"),L.Pc(31),L.Vb(),L.Wb(32,"th",10),L.Pc(33,"\uce74\ub4dc\ud640\ub354"),L.Vb(),L.Wb(34,"td"),L.Pc(35),L.Vb(),L.Vb(),L.Wb(36,"tr"),L.Wb(37,"th",10),L.Pc(38,"\uce74\ub4dc\uc885\ub958"),L.Vb(),L.Wb(39,"td"),L.Pc(40),L.Vb(),L.Wb(41,"th",10),L.Pc(42,"\uc720\ud6a8\uae30\uac04/\ud560\ubd80\uae30\uac04"),L.Vb(),L.Wb(43,"td"),L.Wb(44,"span"),L.Pc(45),L.Vb(),L.Wb(46,"span",11),L.Pc(47,"/"),L.Vb(),L.Nc(48,QL,2,0,"span",2),L.Nc(49,GL,2,1,"span",2),L.Vb(),L.Vb(),L.Wb(50,"tr"),L.Wb(51,"th",10),L.Pc(52,"\uce74\ub4dc\ubc88\ud638"),L.Vb(),L.Wb(53,"td"),L.Pc(54),L.Vb(),L.Wb(55,"th",10),L.Pc(56,"\uce74\ub4dc\ube44\ubc00\ubc88\ud638(\uc55e 2\uc790\ub9ac)"),L.Vb(),L.Wb(57,"td"),L.Wb(58,"span"),L.Pc(59),L.Vb(),L.Vb(),L.Vb(),L.Wb(60,"tr"),L.Wb(61,"th",10),L.Pc(62,"\uc0dd\ub144\uc6d4\uc77c"),L.Vb(),L.Wb(63,"td"),L.Pc(64),L.Vb(),L.Wb(65,"th",10),L.Pc(66,"\uc0ac\uc5c5\uc790\ub4f1\ub85d\ubc88\ud638"),L.Vb(),L.Wb(67,"td"),L.Pc(68),L.Vb(),L.Vb(),L.Wb(69,"tr"),L.Wb(70,"th",10),L.Pc(71,"ARS \uc5f0\ub77d\ucc98(KE)"),L.Vb(),L.Wb(72,"td"),L.Pc(73),L.Vb(),L.Wb(74,"th",10),L.Pc(75,"\ud1b5\ud654\uac00\ub2a5\uc2dc\uac04(KE)"),L.Vb(),L.Wb(76,"td"),L.Pc(77),L.Vb(),L.Vb(),L.Wb(78,"tr"),L.Wb(79,"th",10),L.Pc(80,"\ud0d1\uc2b9\uc790\ubcc4\uc815\ubcf4"),L.Vb(),L.Wb(81,"td",12),L.Wb(82,"div",7),L.Wb(83,"table"),L.Wb(84,"caption"),L.Pc(85," TASF PG \uc2b9\uc778 - \ud0d1\uc2b9\uc790\ubcc4\uc815\ubcf4 "),L.Vb(),L.Wb(86,"colgroup"),L.Rb(87,"col",13),L.Rb(88,"col",14),L.Rb(89,"col",15),L.Rb(90,"col",15),L.Vb(),L.Wb(91,"thead"),L.Wb(92,"tr"),L.Wb(93,"th",16),L.Pc(94,"No."),L.Vb(),L.Wb(95,"th",16),L.Pc(96,"\ud0d1\uc2b9\uc790\uba85"),L.Vb(),L.Wb(97,"th",16),L.Pc(98,"\uacb0\uc81c\ub300\uc0c1\uae08\uc561"),L.Vb(),L.Wb(99,"th",16),L.Pc(100,"\uacb0\uc81c \uc694\uccad\ub41c \uae08\uc561"),L.Vb(),L.Vb(),L.Vb(),L.Wb(101,"tbody"),L.Nc(102,zL,2,1,"ng-container",17),L.Nc(103,XL,3,0,"ng-template",null,18,L.Oc),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,n=L.Ec(104);L.Cb(2),L.pc("ngIf","AIRRV"===e.cardInfo.paymentDetailTypeCode),L.Cb(1),L.pc("ngIf","AIRRV"!==e.cardInfo.paymentDetailTypeCode),L.Cb(18),L.Qc(e.cardInfo.depositTypeName),L.Cb(4),L.Qc(L.jc(26,18,e.cardInfo.salesSumAmount)),L.Cb(6),L.Qc(e.cardInfo.cardHolderTypeName),L.Cb(4),L.Qc(e.cardInfo.cardHolderName),L.Cb(5),L.Qc(e.cardInfo.cardMasterName),L.Cb(5),L.Qc(e.cardInfo.cardValidPeriod),L.Cb(3),L.pc("ngIf","00"===e.cardInfo.cardQuotaMonth),L.Cb(1),L.pc("ngIf","00"!==e.cardInfo.cardQuotaMonth),L.Cb(5),L.Qc(e.cardInfo.cardNo),L.Cb(5),L.Rc("",e.cardInfo.cardPassword,"**"),L.Cb(5),L.Qc(e.cardInfo.cardHolderBirthday),L.Cb(4),L.Qc(e.cardInfo.cardHolderTaxPayerNo),L.Cb(5),L.Qc(e.cardInfo.autoResponsePhoneNo),L.Cb(4),L.Qc(e.cardInfo.callableDatetime),L.Cb(25),L.pc("ngIf",(null==e||null==e.cardInfo?null:e.cardInfo.paxPayments.length)>0)("ngIfElse",n)}}function JL(e,t){1&e&&(L.Ub(0),L.Wb(1,"div",7),L.Wb(2,"table"),L.Wb(3,"caption"),L.Pc(4," \uacb0\uc81c\uc815\ubcf4\uc218\uc815 "),L.Vb(),L.Wb(5,"colgroup"),L.Rb(6,"col"),L.Vb(),L.Wb(7,"tbody"),L.Wb(8,"tr"),L.Wb(9,"td",20),L.Pc(10,"There is no rate information to register the payment."),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Tb())}let e_=(()=>{class e{constructor(e){this.alertService=e,this.closeEvent=new L.n,this.submitEvent=new L.n,this.debouncer=new Fe.a}get paymentInfos(){var e,t;return(null===(t=null===(e=this.paymentApproveInfo)||void 0===e?void 0:e.paymentInfo)||void 0===t?void 0:t.paymentInfos)||[]}ngOnInit(){this.debouncerSubscription=this.debouncer.pipe(Object(zn.a)(500)).subscribe(e=>this.onApprove())}ngOnDestroy(){this.debouncerSubscription.unsubscribe()}onClose(){this.closeEvent.emit()}onApproveBefore(){this.debouncer.next("")}onApprove(){if(Q.isNil(this.paymentApproveInfo))return void this.alertService.alert("There is no data to save.");const e=this._setPutCondition();this.submitEvent.emit(e)}_setPutCondition(){const{bookingItemCode:e}=this.paymentApproveInfo,{paymentSeq:t}=this.paymentInfos[0],{paymentDetailTypeCode:n,depositTypeCode:i,requestSumAmount:o}=this.paymentInfos[0].cardInfo;return{bookingItemCode:e,paymentSeq:t,paymentDetailTypeCode:n,depositTypeCode:i,paidAmount:o}}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-pg-credit-card-approve-modal"]],inputs:{paymentApproveInfo:"paymentApproveInfo"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent"},decls:3,vars:2,consts:[[1,"component-wrap"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"d-flex","justify-content-between","align-items-end"],["class","font-weight-medium mb5",4,"ngIf"],[1,"button-area","align-r","mt10","mb5"],["appOverLapClick","","type","button",1,"btn","btn-outline-dark","sm",3,"click"],[1,"table","table-bordered"],["width","15%"],["width","35%"],["scope","row",1,"th-bg"],[1,"dash"],["colspan","3"],["width","20%"],["width","40%"],["width","25%"],["scope","col",1,"align-c"],[4,"ngIf","ngIfElse"],["noPaxPayments",""],[1,"font-weight-medium","mb5"],[1,"align-c"],[1,"align-l"],[1,"align-r"],["colspan","5",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Nc(1,ZL,105,20,"ng-container",1),L.Nc(2,JL,11,0,"ng-container",2),L.Vb()),2&e&&(L.Cb(1),L.pc("ngForOf",t.paymentInfos),L.Cb(1),L.pc("ngIf",t.paymentInfos.length<1))},directives:[k.n,k.o,HL.a],pipes:[k.f],encapsulation:2,changeDetection:0}),e})();function t_(e,t){1&e&&(L.Wb(0,"tr"),L.Wb(1,"th",5),L.Wb(2,"sup"),L.Pc(3,"Sale/ Reissue"),L.Vb(),L.Vb(),L.Wb(4,"td"),L.Wb(5,"div",7),L.Rb(6,"app-radio",15),L.Rb(7,"app-radio",16),L.Vb(),L.Vb(),L.Vb())}let n_=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.submitEvent=new L.n,this.closeEvent=new L.n,this.putForm=e.generatePaymentInfoTypeSelectPutForm(),this.putFormData=e.initPaymentInfoTypeSelectPutForm()}get isFare(){return"F"===this.putForm.get("paymentInfoTypeCode").value}ngOnInit(){}ngOnDestroy(){}onSubmit(){if(Q.isNil(this.putForm.value.bookingTravelerCode))return void this.alertService.alert("Please select a traveler.");const e=this.putForm.value,{paymentInfoTypeCode:t}=e,n="F"===t?e.bookingFareInfoTypeCode:void 0,i=e.bookingTravelerCode.reduce((e,i)=>(e.push({bookingTravelerCode:i,paymentInfoTypeCode:t,bookingFareInfoTypeCode:n}),e),[]);this.submitEvent.emit({paymentRegisterInfo:e,condition:{bookingItemCode:this.bookingItemCode,paymentInfos:i,infoTypeCode:"I"}})}onClose(){this.closeEvent.emit()}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-payment-info-type-select-modal"]],inputs:{bookingTravelerList:"bookingTravelerList",bookingItemCode:"bookingItemCode"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:36,vars:7,consts:[[1,"component-wrap"],[3,"formGroup","connectForm"],[1,"table","table-bordered"],["width","30%"],["width","70%"],["scope","row",1,"th-bg"],["formControlName","bookingTravelerCode","dataKey","bookingTravelerCode","displayKey","name",3,"useAllOptionYn","options"],[1,"form-group"],["formControlName","paymentInfoTypeCode","name","paymentInfoTypeCode","value","F","label","Sale/Reissue"],["formControlName","paymentInfoTypeCode","name","paymentInfoTypeCode","value","C","label","Agency P.( Refund / Void)"],[4,"ngIf"],["formControlName","isBundlePayment","name","isBundlePayment","label","All",3,"value"],["formControlName","isBundlePayment","name","isBundlePayment","label","Per Traveler",3,"value"],[1,"button-area","align-c","mt10"],["type","submit",1,"btn","btn-outline-dark","sm",3,"click"],["formControlName","bookingFareInfoTypeCode","name","bookingFareInfoTypeCode","value","S","label","Sale"],["formControlName","bookingFareInfoTypeCode","name","bookingFareInfoTypeCode","value","R","label","Reissue"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"form",1),L.Wb(2,"div",2),L.Wb(3,"table"),L.Wb(4,"caption"),L.Pc(5," Sending Type "),L.Vb(),L.Wb(6,"colgroup"),L.Rb(7,"col",3),L.Rb(8,"col",4),L.Vb(),L.Wb(9,"tbody"),L.Wb(10,"tr"),L.Wb(11,"th",5),L.Wb(12,"sup"),L.Pc(13,"Travelers"),L.Vb(),L.Vb(),L.Wb(14,"td"),L.Rb(15,"app-multi-select",6),L.Vb(),L.Vb(),L.Wb(16,"tr"),L.Wb(17,"th",5),L.Wb(18,"sup"),L.Pc(19,"Fare Type"),L.Vb(),L.Vb(),L.Wb(20,"td"),L.Wb(21,"div",7),L.Rb(22,"app-radio",8),L.Rb(23,"app-radio",9),L.Vb(),L.Vb(),L.Vb(),L.Nc(24,t_,8,0,"tr",10),L.Wb(25,"tr"),L.Wb(26,"th",5),L.Wb(27,"sup"),L.Pc(28,"Payment All / Per Traveler"),L.Vb(),L.Vb(),L.Wb(29,"td"),L.Wb(30,"div",7),L.Rb(31,"app-radio",11),L.Rb(32,"app-radio",12),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(33,"div",13),L.Wb(34,"button",14),L.fc("click",(function(){return t.onSubmit()})),L.Pc(35,"Select"),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(14),L.pc("useAllOptionYn",!0)("options",t.bookingTravelerList),L.Cb(9),L.pc("ngIf",t.isFare),L.Cb(7),L.pc("value",!0),L.Cb(1),L.pc("value",!1))},directives:[I.B,I.s,I.k,J.a,yL.a,I.r,I.i,cS.a,k.o],encapsulation:2,changeDetection:0}),e})();function i_(e,t){1&e&&(L.Wb(0,"div",42),L.Pc(1,"Payment Details for Fare"),L.Vb())}function o_(e,t){1&e&&(L.Wb(0,"div",42),L.Pc(1,"Payment Details for TASF & Agency Penalty"),L.Vb())}function a_(e,t){if(1&e&&L.Rb(0,"app-radio",43),2&e){const e=L.hc().index;L.pc("name","depositTypeCode"+e)}}function c_(e,t){if(1&e&&L.Rb(0,"app-radio",44),2&e){const e=L.hc().index;L.pc("name","depositTypeCode"+e)}}const s_=function(e){return["paymentInfos",e,"cardInfo","cardHolderTypeCode"]};function r_(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-selectbox",45),L.fc("onChange",(function(t){L.Fc(e);const n=L.hc().index,i=L.hc();return i.onChangeCardHolderType(t,i.putForm.get(["paymentInfos",n,"cardInfo"]))})),L.Vb()}if(2&e){const e=L.hc().index,t=L.hc();L.pc("options",t.cardUseTypeList)("isInvalid",t.checkValidIndex===e&&t.checkIsInvalid(L.uc(2,s_,e)))}}function l_(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-selectbox",45),L.fc("onChange",(function(t){L.Fc(e);const n=L.hc().index,i=L.hc();return i.onChangeCardHolderType(t,i.putForm.get(["paymentInfos",n,"cardInfo"]))})),L.Vb()}if(2&e){const e=L.hc().index,t=L.hc();L.pc("options",t.cardHolderTypeList)("isInvalid",t.checkValidIndex===e&&t.checkIsInvalid(L.uc(2,s_,e)))}}const d_=function(e){return["paymentInfos",e,"cardInfo","cardHolderRelationCode"]};function b_(e,t){if(1&e&&L.Rb(0,"app-selectbox",46),2&e){const e=L.hc().index,t=L.hc();L.pc("options",t.cardHolderRelationList)("isInvalid",t.checkValidIndex===e&&t.checkIsInvalid(L.uc(2,d_,e)))}}function u_(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr",47),L.Wb(2,"td",48),L.Pc(3),L.Vb(),L.Wb(4,"td",49),L.Pc(5),L.Vb(),L.Wb(6,"td",50),L.Pc(7),L.ic(8,"number"),L.Vb(),L.Wb(9,"td",50),L.Pc(10),L.ic(11,"number"),L.Vb(),L.Wb(12,"td"),L.Wb(13,"app-input-text",51),L.fc("onInput",(function(n){L.Fc(e);const i=t.$implicit;return L.hc(3).onInput(n,i,"requestAmount")})),L.Vb(),L.Vb(),L.Wb(14,"td"),L.Wb(15,"app-input-text",52),L.fc("onInput",(function(n){L.Fc(e);const i=t.$implicit;return L.hc(3).onInput(n,i,"requestCashAmount")}))("focusin",(function(n){L.Fc(e);const i=t.$implicit;return L.hc(3).onFocus(n,i,"requestCashAmount")})),L.Vb(),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,c=t.index;var n=null,i=null,o=null,a=null;L.Cb(1),L.pc("formGroupName",c),L.Cb(2),L.Qc((null==e||null==(n=e.get("paxFareSeq"))?null:n.value)||(null==e||null==(n=e.get("chargeSeq"))?null:n.value)||(null==e||null==(n=e.get("ancillarySeq"))?null:n.value)),L.Cb(2),L.Qc(null==e||null==(i=e.get("nameEn"))?null:i.value),L.Cb(2),L.Qc(L.jc(8,5,null==e||null==(o=e.get("salesSumAmount"))?null:o.value)),L.Cb(3),L.Qc(L.jc(11,7,(null==e||null==(a=e.get("requestSumAmount"))?null:a.value)||0))}}const p_=function(){return["cardInfo","paxPayments"]};function m_(e,t){if(1&e&&(L.Ub(0),L.Nc(1,u_,16,9,"ng-container",2),L.Tb()),2&e){const e=L.hc().$implicit;L.Cb(1),L.pc("ngForOf",null==e?null:e.get(L.tc(1,p_)).controls)}}function h_(e,t){1&e&&(L.Wb(0,"tr"),L.Wb(1,"td",53),L.Pc(2,"No traveler information"),L.Vb(),L.Vb())}const g_=function(){return["cardInfo","paymentDetailTypeCode"]},f_=function(e){return["paymentInfos",e,"cardInfo","depositTypeCode"]},v_=function(e){return["paymentInfos",e,"cardInfo","cardHolderName"]},C_=function(e){return["paymentInfos",e,"cardInfo","cardMasterCode"]},y_=function(e){return["paymentInfos",e,"cardInfo","cardValidPeriodYear"]},k_=function(e){return["paymentInfos",e,"cardInfo","cardValidPeriodMonth"]},I_=function(e){return["paymentInfos",e,"cardInfo","cardQuotaMonth"]},O_=function(e){return["paymentInfos",e,"cardInfo","cardNo"]},P_=function(e){return["paymentInfos",e,"cardInfo","cardPassword"]};function j_(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"div",4),L.Nc(2,i_,2,0,"div",5),L.Nc(3,o_,2,0,"div",5),L.Wb(4,"div",6),L.Wb(5,"button",7),L.fc("click",(function(){L.Fc(e);const n=t.$implicit,i=t.index;return L.hc().onReset(n,i)})),L.Pc(6,"Reset"),L.Vb(),L.Wb(7,"button",8),L.fc("click",(function(){L.Fc(e);const n=t.$implicit,i=t.index;return L.hc().onSave(n,i)})),L.Pc(8,"Save"),L.Vb(),L.Vb(),L.Vb(),L.Wb(9,"div",9),L.Wb(10,"table",10),L.Wb(11,"caption"),L.Pc(12," \uc2e0\uaddc\uacb0\uc81c\uc815\ubcf4\ub4f1\ub85d "),L.Vb(),L.Wb(13,"colgroup"),L.Rb(14,"col",11),L.Rb(15,"col",12),L.Rb(16,"col",11),L.Rb(17,"col",12),L.Vb(),L.Wb(18,"tbody"),L.Wb(19,"tr"),L.Wb(20,"th",13),L.Pc(21,"Deposit Type"),L.Vb(),L.Wb(22,"td"),L.Wb(23,"div",14),L.Nc(24,a_,1,1,"app-radio",15),L.Nc(25,c_,1,1,"app-radio",16),L.Rb(26,"app-radio",17),L.Vb(),L.Vb(),L.Wb(27,"th",13),L.Pc(28,"Sales Sum Amounts"),L.Vb(),L.Wb(29,"td"),L.Pc(30),L.ic(31,"number"),L.Vb(),L.Vb(),L.Wb(32,"tr"),L.Wb(33,"th",13),L.Pc(34,"Card Holder Type"),L.Vb(),L.Wb(35,"td"),L.Wb(36,"div",14),L.Nc(37,r_,1,4,"app-selectbox",18),L.Nc(38,l_,1,4,"app-selectbox",18),L.Nc(39,b_,1,4,"app-selectbox",19),L.Vb(),L.Vb(),L.Wb(40,"th",13),L.Pc(41,"Card Holder Name"),L.Vb(),L.Wb(42,"td"),L.Rb(43,"app-input-text",20),L.Vb(),L.Vb(),L.Wb(44,"tr"),L.Wb(45,"th",13),L.Pc(46,"Card"),L.Vb(),L.Wb(47,"td"),L.Rb(48,"app-selectbox",21),L.Vb(),L.Wb(49,"th",13),L.Pc(50,"Valid Thru / Installment"),L.Vb(),L.Wb(51,"td"),L.Wb(52,"div",14),L.Rb(53,"app-input-text",22),L.Rb(54,"app-input-text",23),L.Rb(55,"app-selectbox",24),L.Vb(),L.Vb(),L.Vb(),L.Wb(56,"tr"),L.Wb(57,"th",13),L.Pc(58,"Card Number"),L.Vb(),L.Wb(59,"td"),L.Rb(60,"app-input-text",25),L.Vb(),L.Wb(61,"th",13),L.Pc(62,"CC PW(First 2 digit)"),L.Vb(),L.Wb(63,"td"),L.Wb(64,"div",14),L.Rb(65,"app-input-text",26),L.Wb(66,"span",27),L.Pc(67,"**"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(68,"tr"),L.Wb(69,"th",13),L.Pc(70,"Birthday"),L.Vb(),L.Wb(71,"td"),L.Rb(72,"app-input-text",28),L.Vb(),L.Wb(73,"th",13),L.Pc(74,"Tax Payer No."),L.Vb(),L.Wb(75,"td"),L.Rb(76,"app-input-text",29),L.Vb(),L.Vb(),L.Wb(77,"tr"),L.Wb(78,"th",30),L.Pc(79,"Details by Traveler"),L.Vb(),L.Vb(),L.Wb(80,"tr"),L.Wb(81,"td",31),L.Wb(82,"div",32),L.Wb(83,"table"),L.Wb(84,"caption"),L.Pc(85," \uacb0\uc81c\uc815\ubcf4\uc218\uc815 - \ud0d1\uc2b9\uc790\ubcc4\uc815\ubcf4 "),L.Vb(),L.Wb(86,"colgroup"),L.Rb(87,"col",33),L.Rb(88,"col",34),L.Rb(89,"col",35),L.Rb(90,"col",35),L.Rb(91,"col",36),L.Rb(92,"col",37),L.Vb(),L.Wb(93,"thead"),L.Wb(94,"tr"),L.Wb(95,"th",38),L.Pc(96,"No."),L.Vb(),L.Wb(97,"th",38),L.Pc(98,"Travelers"),L.Vb(),L.Wb(99,"th",38),L.Pc(100,"Sales Sum Amts"),L.Vb(),L.Wb(101,"th",38),L.Pc(102,"Requested Amts"),L.Vb(),L.Wb(103,"th",38),L.Pc(104,"RQ Card Amts"),L.Vb(),L.Wb(105,"th",38),L.Pc(106,"RQ Cash Amts"),L.Vb(),L.Vb(),L.Vb(),L.Wb(107,"tbody",39),L.Nc(108,m_,2,2,"ng-container",40),L.Nc(109,h_,3,0,"ng-template",null,41,L.Oc),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,s=t.index,r=L.Ec(110),l=L.hc();var n;const d="AIRRV"===(null==(n=e.get(L.tc(26,g_)))?null:n.value);var i;const b="AIRRV"!==(null==(i=e.get(L.tc(27,g_)))?null:i.value);var o=null,a=null,c=null;const u=(null==e||null==(c=e.get(L.tc(48,p_)))?null:c.length)>0;L.Cb(2),L.pc("ngIf",d),L.Cb(1),L.pc("ngIf",b),L.Cb(4),L.pc("disabled",l.registeredPaymentIndexs.includes(s)),L.Cb(2),L.pc("formGroupName",s),L.Cb(14),L.Gb("valid-error",l.checkValidIndex===s&&l.checkIsInvalid(L.uc(28,f_,s))),L.Cb(1),L.pc("ngIf","AIRRV"===e.get(L.tc(30,g_)).value),L.Cb(1),L.pc("ngIf","AIRRV"!==e.get(L.tc(31,g_)).value),L.Cb(1),L.pc("name","depositTypeCode"+s),L.Cb(4),L.Qc(L.jc(31,24,null==e||null==(o=e.get("cardInfo"))||null==(a=o.get("salesSumAmount"))?null:a.value)),L.Cb(7),L.pc("ngIf",l.isBtms),L.Cb(1),L.pc("ngIf",!l.isBtms),L.Cb(1),L.pc("ngIf","CCH02"===l.putForm.get(L.uc(32,s_,s)).value),L.Cb(4),L.pc("isInvalid",l.checkValidIndex===s&&l.checkIsInvalid(L.uc(34,v_,s))),L.Cb(5),L.pc("options",l.cardMasterList)("isInvalid",l.checkValidIndex===s&&l.checkIsInvalid(L.uc(36,C_,s))),L.Cb(5),L.pc("isInvalid",l.checkValidIndex===s&&l.checkIsInvalid(L.uc(38,y_,s))),L.Cb(1),L.pc("isInvalid",l.checkValidIndex===s&&l.checkIsInvalid(L.uc(40,k_,s))),L.Cb(1),L.pc("options",l.cardQuotaMonthList)("isInvalid",l.checkValidIndex===s&&l.checkIsInvalid(L.uc(42,I_,s))),L.Cb(5),L.pc("isInvalid",l.checkValidIndex===s&&l.checkIsInvalid(L.uc(44,O_,s))),L.Cb(5),L.pc("isInvalid",l.checkValidIndex===s&&l.checkIsInvalid(L.uc(46,P_,s))),L.Cb(43),L.pc("ngIf",u)("ngIfElse",r)}}function V_(e,t){1&e&&(L.Ub(0),L.Wb(1,"div",32),L.Wb(2,"table"),L.Wb(3,"caption"),L.Pc(4," \uc2e0\uaddc\uacb0\uc81c\uc815\ubcf4\ub4f1\ub85d "),L.Vb(),L.Wb(5,"colgroup"),L.Rb(6,"col"),L.Vb(),L.Wb(7,"tbody"),L.Wb(8,"tr"),L.Wb(9,"td",48),L.Pc(10,"There is no rate information to register the payment."),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Tb())}let A_=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.closeEvent=new L.n,this.submitEvent=new L.n,this.deleteEvent=new L.n,this.issueBankInfoEvent=new L.n,this.registeredPaymentIndexs=[],this.putForm=e.generatePaymentInfosRegisterPutForm(),this.putFormData=e.initPaymentInfosRegisterPutForm()}get paymentRegisterInfo(){return this._paymentRegisterInfo}set paymentRegisterInfo(e){this._paymentRegisterInfo=e,this.putForm=this._setPutForm(e),this.putFormData=this._setPutFormData(e)}get paymentInfos(){var e;return null===(e=this.putForm)||void 0===e?void 0:e.get("paymentInfos")}get isBtms(){return"STN05"===this.stationTypeCode}ngOnInit(){this._initSelectboxOptions()}ngOnDestroy(){}onClose(){this.closeEvent.emit()}onReset(e,t){this.checkValidIndex=null,this.registeredPaymentIndexs=this.registeredPaymentIndexs.filter(e=>e!==t);const n=Object.assign(Object.assign({},e.value.cardInfo),{autoResponsePhoneNo:null,callableDate:null,callableTime:null,cardHolderBirthday:null,cardHolderName:null,cardHolderRelationCode:null,cardHolderTaxPayerNo:null,cardHolderTypeCode:null,cardMasterCode:null,cardNo:null,cardPassword:null,cardQuotaMonth:null,cardValidPeriodMonth:null,cardValidPeriodYear:null,depositTypeCode:null});e.patchValue({cardInfo:n})}onSave(e,t){this.checkValidIndex=null;let n=!0;if(e.value.cardInfo.paxPayments.map((e,t)=>{console.log("index="+t+", value="+e.requestAmount),0===t&&0===e.requestAmount&&(n=!1)}),e.invalid&&n)return this._checkValid=!0,void(this.checkValidIndex=t);if(this.registeredPaymentIndexs.push(t),n){const t=this._setPutCondition(e.value);this.submitEvent.emit(t)}else{const t=this._setCashPutCondition(e.value);this.submitEvent.emit(t)}}onInput(e,t,n){const i=Number(e.target.value.replaceAll(",","")),o=t.get("salesSumAmount").value;let a=0;"requestAmount"===n?a=t.get("requestCashAmount").value:"requestCashAmount"===n&&(a=t.get("requestAmount").value),i+a>o&&("requestAmount"===n?(t.get("requestAmount").setValue(o),t.get("requestCashAmount").setValue(0)):"requestCashAmount"===n&&(t.get("requestAmount").setValue(a),t.get("requestCashAmount").setValue(o-a)),this.alertService.alert("You've exceeded the amount you can pay."))}onFocus(e,t,n){const i=t.get("requestAmount").value,o=t.get("salesSumAmount").value;t.get("requestCashAmount").setValue(o-i)}onChangeCardHolderType(e,t){t.get("cardHolderRelationCode").setValue(null)}checkIsInvalid(e){return this._checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}_initSelectboxOptions(){this.cardQuotaMonthList=[{value:"00",label:"00"}];for(let e=1;e<25;e++){const t=Q.padStart(String(e),2,"0");this.cardQuotaMonthList.push({value:t,label:t})}}_setPutForm(e){const t=this._dataService.generatePaymentInfosRegisterPutForm(),n=t.get("paymentInfos");return Q.isNil(e)?(n.push(this._dataService.generatePaymentInfoRegisterPutForm()),t):(this.isBundlePayment?e.paxPayments.reduce((e,t)=>(e.includes(t.paymentDetailTypeCode)||e.push(t.paymentDetailTypeCode),e),[]).forEach(t=>{const i=this._dataService.generatePaymentInfoRegisterPutForm();e.paxPayments.filter(e=>e.paymentDetailTypeCode===t).forEach(e=>{i.get("cardInfo").get("paxPayments").push(this._dataService.generatePaymentInfoRegisterPaxPaymentPutForm())}),n.push(i)}):e.paxPayments.forEach(e=>{const t=this._dataService.generatePaymentInfoRegisterPutForm();t.get("cardInfo").get("paxPayments").push(this._dataService.generatePaymentInfoRegisterPaxPaymentPutForm()),n.push(t)}),t)}_setPutFormData(e){const t=this._dataService.initPaymentInfosRegisterPutForm();if(Q.isNil(e))return t.paymentInfos.push(this._dataService.initPaymentInfoRegisterPutForm()),t;const{bookingItemCode:n}=e,i=this._dataService.initPaymentInfoRegisterPutForm(),o=this._dataService.initPaymentInfoRegisterPaxPaymentPutForm();if(this.isBundlePayment){const t=e.paxPayments.reduce((t,n)=>{if(!t.some(e=>{var t;return(null===(t=null==e?void 0:e.cardInfo)||void 0===t?void 0:t.paymentDetailTypeCode)===n.paymentDetailTypeCode})){const{paymentDetailTypeCode:o}=n,a=e.paxPayments.some(e=>e.paymentDetailTypeCode===o&&"BKF03"===e.bookingFareTypeCode)?"R":null,c=e.paxPayments.reduce((e,t)=>(t.paymentDetailTypeCode===o&&(e+=t.salesSumAmount),e),0);t.push({bookingFareInfoTypeCode:a,cardInfo:Object.assign({},i.cardInfo,{salesSumAmount:c,paymentDetailTypeCode:o})})}return t},[]);return t.forEach(t=>{const{paymentDetailTypeCode:n}=t.cardInfo,i=e.paxPayments.filter(e=>e.paymentDetailTypeCode===n).map(e=>Object.assign({},o,Q.pick(e,Object.keys(o)),{requestAmount:e.salesSumAmount,requestCashAmount:0}));t.cardInfo.paxPayments=i}),{bookingItemCode:n,paymentInfos:t}}return{bookingItemCode:n,paymentInfos:e.paxPayments.map(e=>{const{salesSumAmount:t,paymentDetailTypeCode:n,bookingFareTypeCode:a}=e,c="BKF03"===a?"R":null,s=[Object.assign({},o,Q.pick(e,Object.keys(o)),{requestAmount:e.salesSumAmount,requestCashAmount:0})];return{bookingFareInfoTypeCode:c,cardInfo:Object.assign({},i.cardInfo,{salesSumAmount:t,paymentDetailTypeCode:n,paxPayments:s})}})}}_setPutCondition(e){const t=this._dataService.initPaymentInfoUpdateCardPutCondition(),n=this._dataService.initPaymentInfoUpdatePaxPaymentPutCondition(),i=e.cardInfo.paxPayments.map(e=>Object.assign({},Q.pick(e,Object.keys(n)))),{callableDate:o,callableTime:a}=e.cardInfo,c=Q.isNil(o)||Q.isNil(a)?void 0:`${o} ${a}`,s=`${e.cardInfo.cardValidPeriodMonth}/${e.cardInfo.cardValidPeriodYear.slice(2,4)}`;return{paymentInfos:{cardInfo:Object.assign({},Q.pick(e.cardInfo,Object.keys(t)),{paxPayments:i,cardValidPeriod:s,callableDatetime:c}),bookingFareInfoTypeCode:Q.isNil(e.bookingFareInfoTypeCode)?void 0:e.bookingFareInfoTypeCode}}}_setCashPutCondition(e){const t=this._dataService.initPaymentInfoUpdateCardPutCondition(),n=this._dataService.initPaymentInfoUpdatePaxPaymentPutCondition(),i=e.cardInfo.paxPayments.map(e=>Object.assign({},Q.pick(e,Object.keys(n)))),{callableDate:o,callableTime:a}=e.cardInfo,c=Q.isNil(o)||Q.isNil(a)?void 0:`${o} ${a}`;return{paymentInfos:{cardInfo:Object.assign({},Q.pick(e.cardInfo,Object.keys(t)),{paxPayments:i,callableDatetime:c}),bookingFareInfoTypeCode:Q.isNil(e.bookingFareInfoTypeCode)?void 0:e.bookingFareInfoTypeCode}}}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-payment-info-register-form-modal"]],inputs:{paymentRegisterInfo:"paymentRegisterInfo",paymentDetailTypeList:"paymentDetailTypeList",cardHolderTypeList:"cardHolderTypeList",cardUseTypeList:"cardUseTypeList",cardHolderRelationList:"cardHolderRelationList",cardMasterList:"cardMasterList",isBundlePayment:"isBundlePayment",stationTypeCode:"stationTypeCode"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent",deleteEvent:"deleteEvent",issueBankInfoEvent:"issueBankInfoEvent"},decls:4,vars:4,consts:[[3,"formGroup","connectForm"],["formArrayName","paymentInfos",1,"component-wrap"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"d-flex","justify-content-between","align-items-end"],["class","font-weight-medium mb5",4,"ngIf"],[1,"button-area","align-r","mt10","mb5"],["type","submit",1,"btn","btn-outline-dark","sm",3,"click"],["type","button",1,"btn","btn-outline-dark","sm",3,"disabled","click"],[1,"table","table-bordered",3,"formGroupName"],["formGroupName","cardInfo"],["width","15%"],["width","35%"],["scope","row",1,"th-bg"],[1,"form-group"],["formControlName","depositTypeCode","value","CCBP","label","CC(BSP)",3,"name",4,"ngIf"],["formControlName","depositTypeCode","value","CCGD","label","GDS TASF",3,"name",4,"ngIf"],["formControlName","depositTypeCode","value","PGIN","label","CC(PG)",3,"name"],["formControlName","cardHolderTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","Select",3,"options","isInvalid","onChange",4,"ngIf"],["formControlName","cardHolderRelationCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","Select",3,"options","isInvalid",4,"ngIf"],["formControlName","cardHolderName","inputFormat","upperCase",3,"isInvalid"],["formControlName","cardMasterCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","cardValidPeriodYear","inputFormat","numberOnly","placeholder","yyyy",3,"isInvalid"],["formControlName","cardValidPeriodMonth","inputFormat","numberOnly","placeholder","mm",3,"isInvalid"],["formControlName","cardQuotaMonth","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","cardNo","inputFormat","numberOnly","placeholder","Numbers only",3,"isInvalid"],["formControlName","cardPassword","inputFormat","numberOnly",3,"isInvalid"],[1,"ml5"],["formControlName","cardHolderBirthday","inputFormat","date","placeholder","YYYY-MM-DD"],["formControlName","cardHolderTaxPayerNo","inputFormat","numberOnly","placeholder","10 digits"],["scope","row","colspan","4",1,"th-bg"],["colspan","4"],[1,"table","table-bordered"],["width","5%"],["width","30%"],["width","14%"],["width","19%"],["width","18%"],["scope","col",1,"align-c"],["formArrayName","paxPayments"],[4,"ngIf","ngIfElse"],["noPaxPayments",""],[1,"font-weight-medium","mb5"],["formControlName","depositTypeCode","value","CCBP","label","CC(BSP)",3,"name"],["formControlName","depositTypeCode","value","CCGD","label","GDS TASF",3,"name"],["formControlName","cardHolderTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","Select",3,"options","isInvalid","onChange"],["formControlName","cardHolderRelationCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","Select",3,"options","isInvalid"],[3,"formGroupName"],[1,"align-c"],[1,"align-l"],[1,"align-r"],["formControlName","requestAmount","inputFormat","number","valueType","number",3,"onInput"],["formControlName","requestCashAmount","inputFormat","number","valueType","number",3,"onInput","focusin"],["colspan","5",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"form",0),L.Wb(1,"div",1),L.Nc(2,j_,111,49,"ng-container",2),L.Nc(3,V_,11,0,"ng-container",3),L.Vb(),L.Vb()),2&e&&(L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(2),L.pc("ngForOf",t.paymentInfos.controls),L.Cb(1),L.pc("ngIf",t.paymentInfos.controls.length<1))},directives:[I.B,I.s,I.k,J.a,I.e,k.n,k.o,I.l,cS.a,I.r,I.i,ee.a,Se.a],pipes:[k.f],encapsulation:2,changeDetection:0}),e})(),W_=(()=>{class e{constructor(e){this.store=e,this._subscribeStore()}ngOnDestroy(){}ngOnInit(){}clickPaymentInfoModalCloseHandler(){this.store.dispatch(h.closePaymentInfoRegisterModalAction())}submitPaymentInfoRegisterHandler(e){this.store.dispatch(h.registerPaymentInfoAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this.bookingItemCode})}))}_subscribeStore(){this.paymentDetailTypeSalesList$=this.store.pipe(Object(P.u)(kP)),this.cardHolderTypeList$=this.store.pipe(Object(P.u)(lP)),this.cardUseTypeList$=this.store.pipe(Object(P.u)(dP)),this.cardMasterList$=this.store.pipe(Object(P.u)(cP)),this.cardHolderRelationList$=this.store.pipe(Object(P.u)(bP)),this.paymentRegisterInfo$=this.store.pipe(Object(P.u)(Tj)),this.summary$=this.store.pipe(Object(P.u)(AO)),this.isBundlePayment$=this.store.pipe(Object(P.u)(Sj))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-payment-info-register-modal"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",bookingItemCode:"bookingItemCode"},decls:8,vars:21,consts:[[3,"paymentRegisterInfo","cardHolderTypeList","cardUseTypeList","cardHolderRelationList","cardMasterList","isBundlePayment","stationTypeCode","submitEvent","closeEvent"]],template:function(e,t){if(1&e&&(L.Wb(0,"app-reservation-flight-payment-info-register-form-modal",0),L.fc("submitEvent",(function(e){return t.submitPaymentInfoRegisterHandler(e)}))("closeEvent",(function(){return t.clickPaymentInfoModalCloseHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.ic(5,"async"),L.ic(6,"async"),L.ic(7,"async"),L.Vb()),2&e){var n;const e=null==(n=L.jc(7,19,t.summary$))?null:n.stationTypeCode;L.pc("paymentRegisterInfo",L.jc(1,7,t.paymentRegisterInfo$))("cardHolderTypeList",L.jc(2,9,t.cardHolderTypeList$))("cardUseTypeList",L.jc(3,11,t.cardUseTypeList$))("cardHolderRelationList",L.jc(4,13,t.cardHolderRelationList$))("cardMasterList",L.jc(5,15,t.cardMasterList$))("isBundlePayment",L.jc(6,17,t.isBundlePayment$))("stationTypeCode",e)}},directives:[A_],pipes:[k.b],encapsulation:2,changeDetection:0}),e})();function R_(e,t){1&e&&(L.Wb(0,"div",40),L.Pc(1,"Payment Details for Fare"),L.Vb())}function F_(e,t){1&e&&(L.Wb(0,"div",40),L.Pc(1,"F-TASF/OhMyhotel Payment Details"),L.Vb())}function S_(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",41),L.fc("click",(function(){L.Fc(e);const t=L.hc(2).$implicit;return L.hc().onReset(t)})),L.Pc(1,"Reset"),L.Vb()}}function T_(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",41),L.fc("click",(function(){L.Fc(e);const t=L.hc(2).$implicit;return L.hc().onDelete(t)})),L.Pc(1,"Delete"),L.Vb()}}function N_(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",42),L.fc("click",(function(){L.Fc(e);const t=L.hc(2),n=t.$implicit,i=t.index;return L.hc().onSave(n,i)})),L.Pc(1,"Save"),L.Vb()}}const E_=function(e){return["paymentInfos",e,"cardInfo","cardHolderTypeCode"]};function M_(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-selectbox",43),L.fc("onChange",(function(t){L.Fc(e);const n=L.hc(2).index,i=L.hc();return i.onChangeCardHolderType(t,i.putForm.get(["paymentInfos",n,"cardInfo"]))})),L.Vb()}if(2&e){const e=L.hc(2).index,t=L.hc();L.pc("options",t.cardUseTypeList)("isInvalid",t.checkValidIndex===e&&t.checkIsInvalid(L.uc(2,E_,e)))}}function D_(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-selectbox",43),L.fc("onChange",(function(t){L.Fc(e);const n=L.hc(2).index,i=L.hc();return i.onChangeCardHolderType(t,i.putForm.get(["paymentInfos",n,"cardInfo"]))})),L.Vb()}if(2&e){const e=L.hc(2).index,t=L.hc();L.pc("options",t.cardHolderTypeList)("isInvalid",t.checkValidIndex===e&&t.checkIsInvalid(L.uc(2,E_,e)))}}const L_=function(e){return["paymentInfos",e,"cardInfo","cardHolderRelationCode"]};function __(e,t){if(1&e&&L.Rb(0,"app-selectbox",44),2&e){const e=L.hc(2).index,t=L.hc();L.pc("options",t.cardHolderRelationList)("isInvalid",t.checkValidIndex===e&&t.checkIsInvalid(L.uc(2,L_,e)))}}function $_(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr",45),L.Wb(2,"td",46),L.Pc(3),L.Vb(),L.Wb(4,"td",47),L.Pc(5),L.Vb(),L.Wb(6,"td",48),L.Pc(7),L.ic(8,"number"),L.Vb(),L.Wb(9,"td",48),L.Pc(10),L.ic(11,"number"),L.Vb(),L.Wb(12,"td"),L.Wb(13,"app-input-text",49),L.fc("onInput",(function(n){L.Fc(e);const i=t.$implicit;return L.hc(4).onInput(n,i,"requestAmount")})),L.Vb(),L.Vb(),L.Wb(14,"td"),L.Wb(15,"app-input-text",50),L.fc("onInput",(function(n){L.Fc(e);const i=t.$implicit;return L.hc(4).onInput(n,i,"requestCashAmount")}))("focusin",(function(n){L.Fc(e);const i=t.$implicit;return L.hc(4).onFocus(n,i,"requestCashAmount")})),L.Vb(),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,c=t.index;var n=null,i=null,o=null,a=null;L.Cb(1),L.pc("formGroupName",c),L.Cb(2),L.Qc((null==e||null==(n=e.get("paxFareSeq"))?null:n.value)||(null==e||null==(n=e.get("chargeSeq"))?null:n.value)||(null==e||null==(n=e.get("ancillarySeq"))?null:n.value)),L.Cb(2),L.Qc(null==e||null==(i=e.get("nameEn"))?null:i.value),L.Cb(2),L.Qc(L.jc(8,5,null==e||null==(o=e.get("salesSumAmount"))?null:o.value)),L.Cb(3),L.Qc(L.jc(11,7,(null==e||null==(a=e.get("requestSumAmount"))?null:a.value)||0))}}function B_(e,t){if(1&e&&(L.Ub(0),L.Nc(1,$_,16,9,"ng-container",2),L.Tb()),2&e){const e=L.hc(2).$implicit;var n=null;const t=null==e||null==(n=e.get("cardInfo"))?null:n.get("paxPayments").controls;L.Cb(1),L.pc("ngForOf",t)}}function w_(e,t){1&e&&(L.Wb(0,"tr"),L.Wb(1,"td",51),L.Pc(2,"-"),L.Vb(),L.Vb())}const x_=function(){return["cardInfo","paymentDetailTypeCode"]},Y_=function(){return["cardInfo","depositTypeName"]},H_=function(){return["cardInfo","salesSumAmount"]},q_=function(e){return["paymentInfos",e,"cardInfo","cardHolderName"]},U_=function(e){return["paymentInfos",e,"cardInfo","cardMasterCode"]},Q_=function(e){return["paymentInfos",e,"cardInfo","cardValidPeriodYear"]},G_=function(e){return["paymentInfos",e,"cardInfo","cardValidPeriodMonth"]},K_=function(e){return["paymentInfos",e,"cardInfo","cardQuotaMonth"]},z_=function(e){return["paymentInfos",e,"cardInfo","cardNo"]},X_=function(e){return["paymentInfos",e,"cardInfo","cardPassword"]},Z_=function(e){return["paymentInfos",e,"cardInfo","cardHolderBirthday"]};function J_(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"div",6),L.Nc(2,R_,2,0,"div",7),L.Nc(3,F_,2,0,"div",7),L.Wb(4,"div",8),L.Nc(5,S_,2,0,"button",9),L.Nc(6,T_,2,0,"button",9),L.Nc(7,N_,2,0,"button",10),L.Vb(),L.Vb(),L.Wb(8,"div",11),L.Wb(9,"table",12),L.Wb(10,"caption"),L.Pc(11," Payment Info "),L.Vb(),L.Wb(12,"colgroup"),L.Rb(13,"col",13),L.Rb(14,"col",14),L.Rb(15,"col",13),L.Rb(16,"col",14),L.Vb(),L.Wb(17,"tbody"),L.Wb(18,"tr"),L.Wb(19,"th",15),L.Pc(20,"Deposit Type"),L.Vb(),L.Wb(21,"td"),L.Pc(22),L.Vb(),L.Wb(23,"th",15),L.Pc(24,"Sales Sum Amounts"),L.Vb(),L.Wb(25,"td"),L.Pc(26),L.ic(27,"number"),L.Vb(),L.Vb(),L.Wb(28,"tr"),L.Wb(29,"th",15),L.Pc(30,"Card Holder Type"),L.Vb(),L.Wb(31,"td"),L.Wb(32,"div",16),L.Nc(33,M_,1,4,"app-selectbox",17),L.Nc(34,D_,1,4,"app-selectbox",17),L.Nc(35,__,1,4,"app-selectbox",18),L.Vb(),L.Vb(),L.Wb(36,"th",15),L.Pc(37,"Card Holder Name"),L.Vb(),L.Wb(38,"td"),L.Rb(39,"app-input-text",19),L.Vb(),L.Vb(),L.Wb(40,"tr"),L.Wb(41,"th",15),L.Pc(42,"Card"),L.Vb(),L.Wb(43,"td"),L.Rb(44,"app-selectbox",20),L.Vb(),L.Wb(45,"th",15),L.Pc(46,"Valid Thru / Installment"),L.Vb(),L.Wb(47,"td"),L.Wb(48,"div",16),L.Rb(49,"app-input-text",21),L.Rb(50,"app-input-text",22),L.Rb(51,"app-selectbox",23),L.Vb(),L.Vb(),L.Vb(),L.Wb(52,"tr"),L.Wb(53,"th",15),L.Pc(54,"Card Number"),L.Vb(),L.Wb(55,"td"),L.Rb(56,"app-input-text",24),L.Vb(),L.Wb(57,"th",15),L.Pc(58,"CC PW(First 2 digit)"),L.Vb(),L.Wb(59,"td"),L.Wb(60,"div",16),L.Rb(61,"app-input-text",25),L.Wb(62,"span",26),L.Pc(63,"**"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(64,"tr"),L.Wb(65,"th",15),L.Pc(66,"Birthday"),L.Vb(),L.Wb(67,"td"),L.Rb(68,"app-input-text",27),L.Vb(),L.Wb(69,"th",15),L.Pc(70,"Tax Payer No."),L.Vb(),L.Wb(71,"td"),L.Rb(72,"app-input-text",28),L.Vb(),L.Vb(),L.Wb(73,"tr"),L.Wb(74,"th",29),L.Pc(75,"Details by Travelers"),L.Vb(),L.Vb(),L.Wb(76,"tr"),L.Wb(77,"td",30),L.Wb(78,"div",31),L.Wb(79,"table"),L.Wb(80,"caption"),L.Pc(81," Travelers "),L.Vb(),L.Wb(82,"colgroup"),L.Rb(83,"col",32),L.Rb(84,"col",33),L.Rb(85,"col",34),L.Rb(86,"col",34),L.Rb(87,"col",35),L.Rb(88,"col",36),L.Vb(),L.Wb(89,"thead"),L.Wb(90,"tr"),L.Wb(91,"th",37),L.Pc(92,"No."),L.Vb(),L.Wb(93,"th",37),L.Pc(94,"Travelers"),L.Vb(),L.Wb(95,"th",37),L.Pc(96,"Sales Sum Amts"),L.Vb(),L.Wb(97,"th",37),L.Pc(98,"Requested Amts"),L.Vb(),L.Wb(99,"th",37),L.Pc(100,"RQ Card Amts"),L.Vb(),L.Wb(101,"th",37),L.Pc(102,"RQ Cash Amts"),L.Vb(),L.Vb(),L.Vb(),L.Wb(103,"tbody",38),L.Nc(104,B_,2,1,"ng-container",4),L.Nc(105,w_,3,0,"ng-template",null,39,L.Oc),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Tb()),2&e){const e=L.Ec(106),t=L.hc(),r=t.$implicit,l=t.index,d=L.hc();var n;const b="AIRRV"===(null==(n=r.get(L.tc(25,x_)))?null:n.value);var i;const u="AIRRV"!==(null==(i=r.get(L.tc(26,x_)))?null:i.value);var o=null,a=null,c=null,s=null;const p=(null==r||null==(c=r.get("cardInfo"))||null==(s=c.get("paxPayments"))?null:s.length)>0;L.Cb(2),L.pc("ngIf",b),L.Cb(1),L.pc("ngIf",u),L.Cb(2),L.pc("ngIf",null==d.buttons?null:d.buttons.resetYn),L.Cb(1),L.pc("ngIf",null==d.buttons?null:d.buttons.deleteYn),L.Cb(1),L.pc("ngIf",null==d.buttons?null:d.buttons.saveYn),L.Cb(1),L.pc("formGroupName",l),L.Cb(14),L.Qc(null==r||null==(o=r.get(L.tc(27,Y_)))?null:o.value),L.Cb(4),L.Qc(L.jc(27,23,null==r||null==(a=r.get(L.tc(28,H_)))?null:a.value)),L.Cb(7),L.pc("ngIf",d.isBtms),L.Cb(1),L.pc("ngIf",!d.isBtms),L.Cb(1),L.pc("ngIf","CCH02"===d.putForm.get(L.uc(29,E_,l)).value),L.Cb(4),L.pc("isInvalid",d.checkValidIndex===l&&d.checkIsInvalid(L.uc(31,q_,l))),L.Cb(5),L.pc("options",d.cardMasterList)("isInvalid",d.checkValidIndex===l&&d.checkIsInvalid(L.uc(33,U_,l))),L.Cb(5),L.pc("isInvalid",d.checkValidIndex===l&&d.checkIsInvalid(L.uc(35,Q_,l))),L.Cb(1),L.pc("isInvalid",d.checkValidIndex===l&&d.checkIsInvalid(L.uc(37,G_,l))),L.Cb(1),L.pc("options",d.cardQuotaMonthList)("isInvalid",d.checkValidIndex===l&&d.checkIsInvalid(L.uc(39,K_,l))),L.Cb(5),L.pc("isInvalid",d.checkValidIndex===l&&d.checkIsInvalid(L.uc(41,z_,l))),L.Cb(5),L.pc("isInvalid",d.checkValidIndex===l&&d.checkIsInvalid(L.uc(43,X_,l))),L.Cb(7),L.pc("isInvalid",d.checkValidIndex===l&&d.checkIsInvalid(L.uc(45,Z_,l))),L.Cb(36),L.pc("ngIf",p)("ngIfElse",e)}}function e$(e,t){1&e&&(L.Wb(0,"div",40),L.Pc(1,"Payment Details for Fare"),L.Vb())}function t$(e,t){1&e&&(L.Wb(0,"div",40),L.Pc(1,"Payment Details for TASF & Agency Penalty"),L.Vb())}function n$(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",41),L.fc("click",(function(){L.Fc(e);const t=L.hc(2).$implicit;return L.hc().onDeleteAll(t)})),L.Pc(1,"Delete All"),L.Vb()}}function i$(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",41),L.fc("click",(function(){L.Fc(e);const t=L.hc(2).$implicit;return L.hc().onDelete(t)})),L.Pc(1," Delete "),L.Vb()}}function o$(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"tr",45),L.Wb(2,"td",46),L.Pc(3),L.Vb(),L.Wb(4,"td",47),L.Pc(5),L.Vb(),L.Wb(6,"td",48),L.Pc(7),L.ic(8,"number"),L.Vb(),L.Wb(9,"td",48),L.Pc(10),L.ic(11,"number"),L.Vb(),L.Vb(),L.Tb()),2&e){const e=t.$implicit,c=t.index;var n=null,i=null,o=null,a=null;L.Cb(1),L.pc("formGroupName",c),L.Cb(2),L.Qc((null==e||null==(n=e.get("paxFareSeq"))?null:n.value)||(null==e||null==(n=e.get("chargeSeq"))?null:n.value)||(null==e||null==(n=e.get("ancillarySeq"))?null:n.value)),L.Cb(2),L.Qc(null==e||null==(i=e.get("nameEn"))?null:i.value),L.Cb(2),L.Qc(L.jc(8,5,null==e||null==(o=e.get("salesSumAmount"))?null:o.value)),L.Cb(3),L.Qc(L.jc(11,7,(null==e||null==(a=e.get("requestSumAmount"))?null:a.value)||0))}}const a$=function(){return["bankInfo","paxPayments"]};function c$(e,t){if(1&e&&(L.Ub(0),L.Nc(1,o$,12,9,"ng-container",2),L.Tb()),2&e){const e=L.hc(2).$implicit;L.Cb(1),L.pc("ngForOf",null==e?null:e.get(L.tc(1,a$)).controls)}}function s$(e,t){1&e&&(L.Wb(0,"tr"),L.Wb(1,"td",51),L.Pc(2,"-"),L.Vb(),L.Vb())}const r$=function(){return["bankInfo","paymentDetailTypeCode"]},l$=function(){return["bankInfo","depositTypeName"]},d$=function(){return["bankInfo","salesSumAmount"]},b$=function(){return["bankInfo","bankMasterName"]},u$=function(){return["bankInfo","bankAccountNo"]},p$=function(){return["bankInfo","depositDueDatetime"]};function m$(e,t){if(1&e&&(L.Wb(0,"div",6),L.Nc(1,e$,2,0,"div",7),L.Nc(2,t$,2,0,"div",7),L.Wb(3,"div",8),L.Nc(4,n$,2,0,"button",9),L.Nc(5,i$,2,0,"button",9),L.Vb(),L.Vb(),L.Wb(6,"div",11),L.Wb(7,"table",52),L.Wb(8,"caption"),L.Pc(9," Payment "),L.Vb(),L.Wb(10,"colgroup"),L.Rb(11,"col",13),L.Rb(12,"col",14),L.Rb(13,"col",13),L.Rb(14,"col",14),L.Vb(),L.Wb(15,"tbody"),L.Wb(16,"tr"),L.Wb(17,"th",15),L.Pc(18,"Deposit Type"),L.Vb(),L.Wb(19,"td"),L.Pc(20),L.Vb(),L.Wb(21,"th",15),L.Pc(22,"Sales Sum Amounts"),L.Vb(),L.Wb(23,"td"),L.Pc(24),L.ic(25,"number"),L.Vb(),L.Vb(),L.Wb(26,"tr"),L.Wb(27,"th",15),L.Pc(28,"bankInfo"),L.Vb(),L.Wb(29,"td",53),L.Wb(30,"span"),L.Pc(31),L.Vb(),L.Wb(32,"span",54),L.Pc(33,"/"),L.Vb(),L.Wb(34,"span"),L.Pc(35),L.Vb(),L.Wb(36,"span",54),L.Pc(37,"/"),L.Vb(),L.Wb(38,"span"),L.Pc(39),L.Vb(),L.Vb(),L.Vb(),L.Wb(40,"tr"),L.Wb(41,"th",15),L.Pc(42,"Travelers"),L.Vb(),L.Wb(43,"td",53),L.Wb(44,"div",31),L.Wb(45,"table"),L.Wb(46,"caption"),L.Pc(47," Travelers "),L.Vb(),L.Wb(48,"colgroup"),L.Rb(49,"col",55),L.Rb(50,"col",56),L.Rb(51,"col",57),L.Rb(52,"col",57),L.Vb(),L.Wb(53,"thead"),L.Wb(54,"tr"),L.Wb(55,"th",37),L.Pc(56,"No."),L.Vb(),L.Wb(57,"th",37),L.Pc(58,"Travelers"),L.Vb(),L.Wb(59,"th",37),L.Pc(60,"Sales Sum Amts"),L.Vb(),L.Wb(61,"th",37),L.Pc(62,"Requested Amts"),L.Vb(),L.Vb(),L.Vb(),L.Wb(63,"tbody",38),L.Nc(64,c$,2,2,"ng-container",4),L.Nc(65,s$,3,0,"ng-template",null,39,L.Oc),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.Ec(66),t=L.hc(),d=t.$implicit,b=t.index,u=L.hc();var n;const p="AIRRV"===(null==(n=d.get(L.tc(14,r$)))?null:n.value);var i;const m="AIRRV"!==(null==(i=d.get(L.tc(15,r$)))?null:i.value);var o,a,c,s,r,l=null;const h=(null==d||null==(l=d.get(L.tc(21,a$)))?null:l.length)>0;L.Cb(1),L.pc("ngIf",p),L.Cb(1),L.pc("ngIf",m),L.Cb(2),L.pc("ngIf",null==u.buttons?null:u.buttons.saveYn),L.Cb(1),L.pc("ngIf",null==u.buttons?null:u.buttons.saveYn),L.Cb(1),L.pc("formGroupName",b),L.Cb(14),L.Qc(null==(o=d.get(L.tc(16,l$)))?null:o.value),L.Cb(4),L.Qc(L.jc(25,12,null==(a=d.get(L.tc(17,d$)))?null:a.value)),L.Cb(7),L.Qc((null==(c=d.get(L.tc(18,b$)))?null:c.value)||"-"),L.Cb(4),L.Qc((null==(s=d.get(L.tc(19,u$)))?null:s.value)||"-"),L.Cb(4),L.Qc((null==(r=d.get(L.tc(20,p$)))?null:r.value)||"-"),L.Cb(25),L.pc("ngIf",h)("ngIfElse",e)}}function h$(e,t){if(1&e&&(L.Ub(0),L.Nc(1,J_,107,47,"ng-container",4),L.Nc(2,m$,67,22,"ng-template",null,5,L.Oc),L.Tb()),2&e){const e=t.$implicit,n=L.Ec(3);L.Cb(1),L.pc("ngIf",e.get("cardInfo"))("ngIfElse",n)}}function g$(e,t){1&e&&(L.Ub(0),L.Wb(1,"div",31),L.Wb(2,"table"),L.Wb(3,"caption"),L.Pc(4," \uacb0\uc81c\uc815\ubcf4\uc218\uc815 "),L.Vb(),L.Wb(5,"colgroup"),L.Rb(6,"col"),L.Vb(),L.Wb(7,"tbody"),L.Wb(8,"tr"),L.Wb(9,"td",46),L.Pc(10,"-"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Tb())}let f$=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.closeEvent=new L.n,this.submitEvent=new L.n,this.deleteEvent=new L.n,this.deleteAllEvent=new L.n,this.putForm=e.generatePaymentInfosUpdatePutForm(),this.putFormData=e.initPaymentInfosUpdatePutForm()}get paymentUpdateInfo(){return this._paymentUpdateInfo}set paymentUpdateInfo(e){this._paymentUpdateInfo=e,this.putForm=this._setPutForm(e),this.putFormData=this._setPutFormData(e)}get paymentInfos(){var e;return null===(e=this.putForm)||void 0===e?void 0:e.get("paymentInfos")}get buttons(){var e,t;return null===(t=null===(e=this.paymentUpdateInfo)||void 0===e?void 0:e.paymentInfo)||void 0===t?void 0:t.buttons}get isBtms(){return"STN05"===this.stationTypeCode}ngOnInit(){this._initSelectboxOptions()}ngOnDestroy(){}onClose(){this.closeEvent.emit()}onReset(e){this.checkValidIndex=null;const t=Object.assign(Object.assign({},e.value.cardInfo),{autoResponsePhoneNo:null,callableDatetime:null,cardHolderBirthday:null,cardHolderName:null,cardHolderRelationCode:null,cardHolderTaxPayerNo:null,cardHolderTypeCode:null,cardMasterCode:null,cardNo:null,cardPassword:null,cardQuotaMonth:null,cardValidPeriodMonth:null,cardValidPeriodYear:null,depositTypeCode:null,paidDatetime:null});e.patchValue({cardInfo:t})}onSave(e,t){if(this.checkValidIndex=null,e.invalid)return this._checkValid=!0,void(this.checkValidIndex=t);const n=this._setPutCondition(e.value);this.submitEvent.emit(n)}onDelete(e){const t=e.value;this.alertService.confirm({message:"Are you sure you want to delete it?",accept:()=>{const e=this.putForm.get("bookingItemCode").value,{paymentSeq:n}=t,{paymentDetailTypeCode:i,paxPayments:o,paidDatetime:a}=t.cardInfo||t.bankInfo,c=o.map(e=>({paymentSeq:n,paymentDetailTypeCode:i,bookingTravelerCode:e.bookingTravelerCode,paidDatetime:a}));this.deleteEvent.emit({bookingItemCode:e,paymentInfos:c})}})}onDeleteAll(e){const t=e.value;this.alertService.confirm({message:"Are you sure you want to delete it?",accept:()=>{const e=this.putForm.get("bookingItemCode").value,{paymentSeq:n}=t,{paymentDetailTypeCode:i,paidDatetime:o}=t.cardInfo||t.bankInfo;this.deleteAllEvent.emit({bookingItemCode:e,paymentInfos:[{paymentSeq:n,paymentDetailTypeCode:i,bookingTravelerCode:"delete",paidDatetime:o}]})}})}onInput(e,t,n){const i=Number(e.target.value.replaceAll(",","")),o=t.get("salesSumAmount").value;let a=0;"requestAmount"===n?a=t.get("requestCashAmount").value:"requestCashAmount"===n&&(a=t.get("requestAmount").value),i+a>o&&("requestAmount"===n?(t.get("requestAmount").setValue(o),t.get("requestCashAmount").setValue(0)):"requestCashAmount"===n&&(t.get("requestAmount").setValue(a),t.get("requestCashAmount").setValue(o-a)),this.alertService.alert("You have exceeded the amount you can pay."))}onFocus(e,t,n){const i=t.get("requestAmount").value,o=t.get("salesSumAmount").value;t.get("requestCashAmount").setValue(o-i)}onChangeCardHolderType(e,t){t.get("cardHolderRelationCode").setValue(null)}checkIsInvalid(e){return this._checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}_initSelectboxOptions(){this.cardQuotaMonthList=[{value:"00",label:"00"}];for(let e=1;e<25;e++){const t=Q.padStart(String(e),2,"0");this.cardQuotaMonthList.push({value:t,label:t})}}_setPutForm(e){const t=this._dataService.generatePaymentInfosUpdatePutForm(),n=t.get("paymentInfos");return Q.isNil(e)||e.paymentInfo.paymentInfos.forEach(e=>{if(Q.isNil(e.cardInfo)){const t=this._dataService.generatePaymentInfoUpdatePutForm(),i=this._dataService.generatePaymentInfoUpdateBankPutForm(),o=i.get("paxPayments");e.bankInfo.paxPayments.forEach(e=>{const t=this._dataService.generatePaymentInfoUpdatePaxPaymentPutForm();o.push(t)}),t.addControl("bankInfo",i),n.push(t)}else{const t=this._dataService.generatePaymentInfoUpdatePutForm(),i=this._dataService.generatePaymentInfoUpdateCardPutForm(),o=i.get("paxPayments");e.cardInfo.paxPayments.forEach(e=>{const t=this._dataService.generatePaymentInfoUpdatePaxPaymentPutForm();o.push(t)}),t.addControl("cardInfo",i),n.push(t)}}),t}_setPutFormData(e){const t=this._dataService.initPaymentInfosUpdatePutForm();if(Q.isNil(e))return t.paymentInfos.push(this._dataService.initPaymentInfoUpdatePutForm()),t;const{bookingItemCode:n}=e,i=this._dataService.initPaymentInfoUpdateCardPutForm(),o=this._dataService.initPaymentInfoUpdateBankPutForm(),a=this._dataService.initPaymentInfoUpdatePaxPaymentPutForm();return{bookingItemCode:n,paymentInfos:e.paymentInfo.paymentInfos.map(e=>{var t;const{paymentSeq:n}=e;if(Q.isNil(e.cardInfo)){const t=e.bankInfo.paxPayments.map(e=>Object.assign({},Q.pick(e,Object.keys(a))));return{paymentSeq:n,bankInfo:Object.assign({},Q.pick(e.bankInfo,Object.keys(o)),{paxPayments:t})}}{const[o,c]=(null===(t=e.cardInfo.callableDatetime)||void 0===t?void 0:t.split(" "))||[],[s,r]=e.cardInfo.cardValidPeriod.split("/"),l=`20${r}`,d=e.cardInfo.paxPayments.map(e=>Object.assign({},a,Q.pick(e,Object.keys(a)),{requestAmount:e.requestSumAmount,requestCashAmount:0}));return{paymentSeq:n,cardInfo:Object.assign({},Q.pick(e.cardInfo,Object.keys(i)),{cardValidPeriodMonth:s,cardValidPeriodYear:l,paxPayments:d,callableDate:o,callableTime:c})}}})}}_setPutCondition(e){const t=this.putForm.get("bookingItemCode").value,n=this._dataService.initPaymentInfoRegisterPutCondition(),i=this._dataService.initPaymentInfoUpdatePaxPaymentPutCondition(),o=e.cardInfo.paxPayments.map(e=>Object.assign({},Q.pick(e,Object.keys(i)))),{callableDate:a,callableTime:c}=e.cardInfo,s=Q.isNil(a)||Q.isNil(c)?null:`${a} ${c}`,r=`${e.cardInfo.cardValidPeriodMonth}/${e.cardInfo.cardValidPeriodYear.slice(2,4)}`,l=Object.assign({},Q.pick(e.cardInfo,Object.keys(n)),{paxPayments:o,cardValidPeriod:r,callableDatetime:s}),{paymentSeq:d}=e;let b=null;return this._paymentUpdateInfo.paymentInfo.paymentInfos.map(e=>{Q.isNil(e.bankInfo)||(b=e.paymentSeq)}),{bookingItemCode:t,paymentInfos:{paymentSeq:d,cardInfo:l,paymentSeqCash:b}}}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-payment-info-update-form-modal"]],inputs:{paymentDetailTypeList:"paymentDetailTypeList",cardHolderTypeList:"cardHolderTypeList",cardMasterList:"cardMasterList",cardUseTypeList:"cardUseTypeList",cardHolderRelationList:"cardHolderRelationList",stationTypeCode:"stationTypeCode",paymentUpdateInfo:"paymentUpdateInfo"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent",deleteEvent:"deleteEvent",deleteAllEvent:"deleteAllEvent"},decls:4,vars:4,consts:[[3,"formGroup","connectForm"],["formArrayName","paymentInfos",1,"component-wrap"],[4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["hasBankInfo",""],[1,"d-flex","justify-content-between","align-items-end"],["class","font-weight-medium mb5",4,"ngIf"],[1,"button-area","align-r","mt10","mb5"],["type","submit","class","btn btn-outline-dark sm",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-dark sm",3,"click",4,"ngIf"],[1,"table","table-bordered",3,"formGroupName"],["formGroupName","cardInfo"],["width","15%"],["width","35%"],["scope","row",1,"th-bg"],[1,"form-group"],["formControlName","cardHolderTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","Select",3,"options","isInvalid","onChange",4,"ngIf"],["formControlName","cardHolderRelationCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","Select",3,"options","isInvalid",4,"ngIf"],["formControlName","cardHolderName","inputFormat","upperCase",3,"isInvalid"],["formControlName","cardMasterCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","cardValidPeriodYear","inputFormat","numberOnly","placeholder","YYYY",3,"isInvalid"],["formControlName","cardValidPeriodMonth","inputFormat","numberOnly","placeholder","MM",3,"isInvalid"],["formControlName","cardQuotaMonth","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","cardNo","inputFormat","numberOnly","placeholder","-\uc81c\uc678",3,"isInvalid"],["formControlName","cardPassword","inputFormat","numberOnly",3,"isInvalid"],[1,"ml5"],["formControlName","cardHolderBirthday","inputFormat","date","placeholder","YYYY-MM-DD",3,"isInvalid"],["formControlName","cardHolderTaxPayerNo","inputFormat","numberOnly"],["scope","row","colspan","4",1,"th-bg"],["colspan","4"],[1,"table","table-bordered"],["width","5%"],["width","30%"],["width","14%"],["width","19%"],["width","18%"],["scope","col",1,"align-c"],["formArrayName","paxPayments"],["noPaxPayments",""],[1,"font-weight-medium","mb5"],["type","submit",1,"btn","btn-outline-dark","sm",3,"click"],["type","button",1,"btn","btn-outline-dark","sm",3,"click"],["formControlName","cardHolderTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","Select",3,"options","isInvalid","onChange"],["formControlName","cardHolderRelationCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","Select",3,"options","isInvalid"],[3,"formGroupName"],[1,"align-c"],[1,"align-l"],[1,"align-r"],["formControlName","requestAmount","inputFormat","number","valueType","number",3,"onInput"],["formControlName","requestCashAmount","inputFormat","number","valueType","number",3,"onInput","focusin"],["colspan","5",1,"align-c"],["formGroupName","bankInfo"],["colspan","3"],[1,"dash"],["width","10%"],["width","40%"],["width","25%"]],template:function(e,t){1&e&&(L.Wb(0,"form",0),L.Wb(1,"div",1),L.Nc(2,h$,4,2,"ng-container",2),L.Nc(3,g$,11,0,"ng-container",3),L.Vb(),L.Vb()),2&e&&(L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(2),L.pc("ngForOf",t.paymentInfos.controls),L.Cb(1),L.pc("ngIf",t.paymentInfos.controls.length<1))},directives:[I.B,I.s,I.k,J.a,I.e,k.n,k.o,I.l,ee.a,I.r,I.i,Se.a],pipes:[k.f],encapsulation:2,changeDetection:0}),e})(),v$=(()=>{class e{constructor(e){this.store=e,this._subscribeStore()}ngOnDestroy(){}ngOnInit(){}savePaymentInfoHandler(e){this.store.dispatch(h.updatePaymentInfoAction({condition:e}))}deletePaymentInfoHandler(e){this.store.dispatch(h.deletePaymentInfoAction({condition:e}))}deleteAllPaymentInfoHandler(e){this.store.dispatch(h.deleteAllPaymentInfoAction({condition:e}))}_subscribeStore(){this.selectedPaymentInfos$=this.store.pipe(Object(P.u)(wj)),this.paymentDetailTypeSalesList$=this.store.pipe(Object(P.u)(kP)),this.cardHolderTypeList$=this.store.pipe(Object(P.u)(lP)),this.cardUseTypeList$=this.store.pipe(Object(P.u)(dP)),this.cardMasterList$=this.store.pipe(Object(P.u)(cP)),this.cardHolderRelationList$=this.store.pipe(Object(P.u)(bP)),this.bankIssueInfo$=this.store.pipe(Object(P.u)(MP)),this.summary$=this.store.pipe(Object(P.u)(AO)),this.paymentUpdateInfo$=this.store.pipe(Object(P.u)(Ej))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-payment-info-update-modal"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",bookingItemCode:"bookingItemCode"},decls:7,vars:18,consts:[[3,"paymentUpdateInfo","cardHolderTypeList","cardUseTypeList","cardMasterList","cardHolderRelationList","stationTypeCode","submitEvent","deleteEvent","deleteAllEvent"]],template:function(e,t){if(1&e&&(L.Wb(0,"app-reservation-flight-payment-info-update-form-modal",0),L.fc("submitEvent",(function(e){return t.savePaymentInfoHandler(e)}))("deleteEvent",(function(e){return t.deletePaymentInfoHandler(e)}))("deleteAllEvent",(function(e){return t.deleteAllPaymentInfoHandler(e)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.ic(5,"async"),L.ic(6,"async"),L.Vb()),2&e){var n;const e=null==(n=L.jc(6,16,t.summary$))?null:n.stationTypeCode;L.pc("paymentUpdateInfo",L.jc(1,6,t.paymentUpdateInfo$))("cardHolderTypeList",L.jc(2,8,t.cardHolderTypeList$))("cardUseTypeList",L.jc(3,10,t.cardUseTypeList$))("cardMasterList",L.jc(4,12,t.cardMasterList$))("cardHolderRelationList",L.jc(5,14,t.cardHolderRelationList$))("stationTypeCode",e)}},directives:[f$],pipes:[k.b],encapsulation:2,changeDetection:0}),e})(),C$=(()=>{class e{constructor(){this.submitEvent=new L.n,this.closeEvent=new L.n}ngOnInit(){}ngOnDestroy(){}onClickBookingCancel(){this.submitEvent.emit({bookingItemCode:this.bookingItemCode})}onClose(){this.closeEvent.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-cancel-modal"]],inputs:{bookingItemCode:"bookingItemCode"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:11,vars:0,consts:[[1,"component-wrap"],[1,"align-c","pt20","pb20"],[1,"font-weight-bold","font-size-lg"],[1,"font-size-xs","color-danger","mt25"],[1,"button-area","align-c","mt10"],["type","button",1,"btn","btn-secondary","sm",3,"click"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"p",2),L.Pc(3,"Are you sure you want to cancel this booking?"),L.Vb(),L.Wb(4,"p",3),L.Pc(5,"* If it was cancelled, it could not to be revert to origin"),L.Vb(),L.Vb(),L.Wb(6,"div",4),L.Wb(7,"button",5),L.fc("click",(function(){return t.onClickBookingCancel()})),L.Pc(8,"Cancel"),L.Vb(),L.Wb(9,"button",6),L.fc("click",(function(){return t.onClose()})),L.Pc(10,"Close"),L.Vb(),L.Vb(),L.Vb())},encapsulation:2,changeDetection:0}),e})();function y$(e,t){1&e&&(L.Ub(0),L.Pc(1," Online "),L.Tb())}function k$(e,t){1&e&&(L.Ub(0),L.Pc(1," Offline "),L.Tb())}function I$(e,t){1&e&&(L.Ub(0),L.Pc(1," Y "),L.Tb())}function O$(e,t){1&e&&(L.Ub(0),L.Pc(1," N "),L.Tb())}const P$=function(){return{compCode:11e4,userTypeCode:"U01"}},j$=function(){return["userNo","name","deptName","positionName"]};let V$=(()=>{class e{constructor(e,t){this._dataService=e,this._alertService=t,this.submitEvent=new L.n,this.openPnrModalEvent=new L.n,this.priceConfirmList=[{value:!0,label:"Confirmed"},{value:!1,label:"Not Confirmed"}],this.tripTypeOptions=[{value:"OW",label:"OW"},{value:"RT",label:"RT"},{value:"MD",label:"MD"}],this._$unsubscribe=new Fe.a,this.putForm=e.generateBasisInfoPutForm()}get segments(){return this._segments}set segments(e){this._segments=e,Q.isNil(e)||(this.iataOptions=this._makeIataOptions(e))}get ticketingDsrFinishYn(){return this._ticketingDsrFinishYn}set ticketingDsrFinishYn(e){this._ticketingDsrFinishYn=e,this._setFinishFormDisabled(e)}get summaryInfo(){return this._summaryInfo}set summaryInfo(e){e&&(this._summaryInfo=e,this.putForm.get("paymentStatusCode").setValue(e.paymentStatusCode),this.putForm.get("ticketingStatusCode").setValue(e.ticketingStatusCode))}get basicInfo(){return this._basicInfo}set basicInfo(e){this._basicInfo=e,this.putFormData=this._setFormData(e)}get domesticYn(){var e;return!0===(null===(e=this.summaryInfo)||void 0===e?void 0:e.domesticYn)}get isBtms(){var e;return"STN05"===(null===(e=this.summaryInfo)||void 0===e?void 0:e.stationTypeCode)}get isB2b(){var e;return"STN04"===(null===(e=this.summaryInfo)||void 0===e?void 0:e.stationTypeCode)}get isB2c(){var e,t;return"STN05"!==(null===(e=this.summaryInfo)||void 0===e?void 0:e.stationTypeCode)&&"STN04"!==(null===(t=this.summaryInfo)||void 0===t?void 0:t.stationTypeCode)}get handlePicValue(){return this.summaryInfo&&this.summaryInfo.bookingPicUno?`${this.summaryInfo.bookingPicName}(${this.summaryInfo.bookingPicUno})`:null}get lastTicketingPicValue(){return this.summaryInfo&&this.summaryInfo.lastTicketingPicUno?`${this.summaryInfo.lastTicketingPicName}(${this.summaryInfo.lastTicketingPicUno})`:null}ngOnInit(){this.checkValid=!1}ngAfterViewInit(){this._initSubscription()}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete()}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}openPnrModal(){this.openPnrModalEvent.emit()}onSubmit(){if(this.putForm.invalid)return Object.keys(this.putForm.controls).forEach(e=>{this.putForm.controls[e].invalid&&console.error(e+" is invalid")}),void(this.checkValid=!0);this._alertService.confirm({message:"Do you want to save it?",accept:()=>{const e=this._setPutCondition();this.submitEvent.emit(e)},reject:()=>{}})}_setFormData(e){const t=this._dataService.initBasisInfoPutForm();if(!e)return t;const{lastTicketingPicUno:n,clientCancelDeadline:i}=e,[o,a]=i.split(" ");return Object.assign({},Q.pick(e,Object.keys(t)),{lastTicketingPicUno:n,clientCancelDeadlineDate:o,clientCancelDeadlineTime:a})}_setPutCondition(){const e=this._dataService.initBasisInfoPutCondition(),t=this.putForm.getRawValue();let n=null;Q.isNil(null==t?void 0:t.clientCancelDeadlineDate)||Q.isNil(null==t?void 0:t.clientCancelDeadlineTime)||(n=K()(t.clientCancelDeadlineDate+" "+t.clientCancelDeadlineTime).format("YYYY-MM-DD HH:mm:ss"));const{groupOrFit:i,gdsCompCode:o,apisRegisterYn:a,taxFixedYn:c}=this.basicInfo;return Object.assign({},Q.pick(t,Object.keys(e)),{clientCancelDeadline:n,groupOrFit:i,gdsCompCode:o,apisRegisterYn:a,taxFixedYn:c})}_setFinishFormDisabled(e){e?this.putForm.get("domesticYn").disable():this.putForm.get("domesticYn").enable()}_initSubscription(){this.putForm.get("clientTlFixedYn").valueChanges.subscribe(e=>{!0===e?(this.putForm.get("clientCancelDeadlineDate").disable(),this.putForm.get("clientCancelDeadlineTime").disable()):(this.putForm.get("clientCancelDeadlineDate").enable(),this.putForm.get("clientCancelDeadlineTime").enable())})}_makeIataOptions(e){const t=e.map(e=>({value:e.destinationCityCodeIata,label:e.destinationCityCodeIata}));return Q.uniqBy(t,"value")}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-basis-info"]],inputs:{departureTypeList:"departureTypeList",segments:"segments",ticketingDsrFinishYn:"ticketingDsrFinishYn",summaryInfo:"summaryInfo",basicInfo:"basicInfo",bookingItemCode:"bookingItemCode",bookingStatusList:"bookingStatusList",requestStatusList:"requestStatusList",deviceTypeList:"deviceTypeList",loginUser:"loginUser",paymentStatusCodeList:"paymentStatusCodeList",ticketingStatusCodeList:"ticketingStatusCodeList"},outputs:{submitEvent:"submitEvent",openPnrModalEvent:"openPnrModalEvent"},decls:172,vars:65,consts:[[1,"page-item-header"],[1,"title"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["scope","row",1,"th-bg"],["colspan","3"],[1,"form-group"],["formControlName","gdsMainPnr","dataType","string",3,"isInvalid"],["formControlName","gdsSubPnr","dataType","string",3,"isInvalid"],["formControlName","fareConfirmYn","dataKey","value","displayKey","label",3,"options","isInvalid","useAllOptionYn"],[1,"dash"],["formControlName","bookingStatusCode","dataKey","detailCode","displayWord","detailCodeName",3,"options","isInvalid","useAllOptionYn"],["formControlName","paymentStatusCode","dataKey","detailCode","displayWord","detailCodeName",3,"options","isInvalid","useAllOptionYn"],["formControlName","ticketingStatusCode","dataKey","detailCode","displayWord","detailCodeName",3,"options","isInvalid","useAllOptionYn"],["apiUrl","admin/common/staff","dataKey","userNo","inputFieldFormat","{0}-{1}&,{2}&,{3}","placeholder","Name","formControlName","bookingPicUno",3,"inputFieldValue","isInvalid","apiCondition","apiSearchTerm","inputFieldFormatKeyList"],[1,"border-right-none"],[1,"input","calendar",2,"flex","2 1","min-width","155px"],[3,"for"],["type","text","formControlName","clientCancelDeadlineDate","placeholder","YYYY-MM-DD",3,"matDatepicker"],["clientCancelDeadlineDatePicker",""],["formControlName","clientCancelDeadlineTime","dataType","string","inputFormat","time","placeholder","HH:MM",2,"min-width","70px",3,"isInvalid"],[1,"ml10"],["formControlName","clientTlFixedYn","label","Client TL Fixed","binary","true",1,"mr10"],["formControlName","domesticYn","name","domesticYn","label","International",3,"value"],["formControlName","domesticYn","name","domesticYn","label","Domestic",3,"value"],[4,"ngIf"],["apiUrl","admin/common/staff","dataKey","userNo","inputFieldFormat","{0}-{1}&,{2}&,{3}","placeholder","Name","formControlName","lastTicketingPicUno",3,"inputFieldValue","isInvalid","apiCondition","apiSearchTerm","inputFieldFormatKeyList"],["formControlName","destinationCityCodeIata","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","routingTypeCode","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","departureTypeCode","dataKey","detailCode","displayWord","detailCodeName","useAllOptionName","Select",2,"min-width","120px",3,"options","isInvalid"],["formControlName","billingTypeCode","name","billingTypeCode","label","BSP",3,"value"],["formControlName","billingTypeCode","name","billingTypeCode","label","ATR",3,"value"],["formControlName","autoTicketingStatusCode","name","autoTicketingStatusCode","label","Start",3,"value"],["formControlName","autoTicketingStatusCode","name","autoTicketingStatusCode","label","Progress",3,"value"],["formControlName","autoTicketingStatusCode","name","autoTicketingStatusCode","label","Error",3,"value"],["formControlName","autoTicketingStatusCode","name","autoTicketingStatusCode","label","End",3,"value"],["formControlName","autoTicketingStatusCode","name","autoTicketingStatusCode","label","Excluded",3,"value"],["formControlName","myPageDisplayYn","name","myPageDisplayYn","label","Y",3,"value"],["formControlName","myPageDisplayYn","name","myPageDisplayYn","label","N",3,"value"],["formControlName","evidenceNeededYn","name","evidenceNeededYn","label","Y",3,"value"],["formControlName","evidenceNeededYn","name","evidenceNeededYn","label","N",3,"value"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"]],template:function(e,t){if(1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Basic Information"),L.Vb(),L.Vb(),L.Wb(3,"form",2),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," Basic Information "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col"),L.Rb(10,"col"),L.Vb(),L.Wb(11,"tbody"),L.Wb(12,"tr"),L.Wb(13,"th",4),L.Pc(14,"Booking Date"),L.Vb(),L.Wb(15,"td"),L.Pc(16),L.Vb(),L.Vb(),L.Wb(17,"tr"),L.Wb(18,"th",4),L.Wb(19,"sup"),L.Pc(20,"PNR"),L.Vb(),L.Vb(),L.Wb(21,"td",5),L.Wb(22,"div",6),L.Rb(23,"app-input-text",7),L.Rb(24,"app-input-text",8),L.Vb(),L.Vb(),L.Vb(),L.Wb(25,"tr"),L.Wb(26,"th",4),L.Pc(27,"GDS"),L.Vb(),L.Wb(28,"td"),L.Pc(29),L.Vb(),L.Vb(),L.Wb(30,"tr"),L.Wb(31,"th",4),L.Wb(32,"sup"),L.Pc(33,"Fare"),L.Vb(),L.Pc(34," / "),L.Wb(35,"sup"),L.Pc(36,"Booking Status"),L.Vb(),L.Vb(),L.Wb(37,"td"),L.Wb(38,"div",6),L.Rb(39,"app-selectbox",9),L.Wb(40,"div",10),L.Pc(41,"/"),L.Vb(),L.Rb(42,"app-selectbox-detailcode",11),L.Vb(),L.Vb(),L.Vb(),L.Wb(43,"tr"),L.Wb(44,"th",4),L.Wb(45,"sup"),L.Pc(46,"C.Payment"),L.Vb(),L.Pc(47," / "),L.Wb(48,"sup"),L.Pc(49,"Issued Status"),L.Vb(),L.Vb(),L.Wb(50,"td"),L.Wb(51,"div",6),L.Rb(52,"app-selectbox-detailcode",12),L.Wb(53,"div",10),L.Pc(54,"/"),L.Vb(),L.Rb(55,"app-selectbox-detailcode",13),L.Vb(),L.Vb(),L.Vb(),L.Wb(56,"tr"),L.Wb(57,"th",4),L.Wb(58,"sup"),L.Pc(59,"Booking PIC"),L.Vb(),L.Vb(),L.Wb(60,"td"),L.Rb(61,"app-auto-complete",14),L.Vb(),L.Vb(),L.Wb(62,"tr"),L.Wb(63,"th",4),L.Pc(64,"Client TL"),L.Vb(),L.Wb(65,"td",15),L.Wb(66,"div",6),L.Wb(67,"div",16),L.Rb(68,"mat-datepicker-toggle",17),L.Rb(69,"input",18),L.Rb(70,"mat-datepicker",null,19),L.Vb(),L.Rb(72,"app-input-text",20),L.Wb(73,"div",21),L.Rb(74,"app-checkbox",22),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(75,"tr"),L.Wb(76,"th",4),L.Pc(77,"Fare TL"),L.Vb(),L.Wb(78,"td"),L.Pc(79),L.Vb(),L.Vb(),L.Wb(80,"tr"),L.Wb(81,"th",4),L.Pc(82,"Airline TL"),L.Vb(),L.Wb(83,"td"),L.Pc(84),L.Vb(),L.Vb(),L.Wb(85,"tr"),L.Wb(86,"th",4),L.Pc(87,"International or Domestic"),L.Vb(),L.Wb(88,"td"),L.Wb(89,"div",6),L.Rb(90,"app-radio",23),L.Rb(91,"app-radio",24),L.Vb(),L.Vb(),L.Vb(),L.Wb(92,"tr"),L.Wb(93,"th",4),L.Pc(94,"Device/Route"),L.Vb(),L.Wb(95,"td"),L.Pc(96),L.Nc(97,y$,2,0,"ng-container",25),L.Nc(98,k$,2,0,"ng-container",25),L.Vb(),L.Vb(),L.Wb(99,"tr"),L.Wb(100,"th",4),L.Pc(101,"Ticketing PIC"),L.Vb(),L.Wb(102,"td"),L.Rb(103,"app-auto-complete",26),L.Vb(),L.Vb(),L.Wb(104,"tr"),L.Wb(105,"th",4),L.Pc(106,"Stock Airline"),L.Vb(),L.Wb(107,"td"),L.Pc(108),L.Vb(),L.Vb(),L.Wb(109,"tr"),L.Wb(110,"th",4),L.Wb(111,"sup"),L.Pc(112,"Destination City"),L.Vb(),L.Vb(),L.Wb(113,"td"),L.Rb(114,"app-selectbox",27),L.Vb(),L.Vb(),L.Wb(115,"tr"),L.Wb(116,"th",4),L.Wb(117,"sup"),L.Pc(118,"Routing Type"),L.Vb(),L.Vb(),L.Wb(119,"td"),L.Rb(120,"app-selectbox",28),L.Vb(),L.Vb(),L.Wb(121,"tr"),L.Wb(122,"th",4),L.Wb(123,"sup"),L.Pc(124,"Departure Type"),L.Vb(),L.Vb(),L.Wb(125,"td"),L.Rb(126,"app-selectbox-detailcode",29),L.Vb(),L.Vb(),L.Wb(127,"tr"),L.Wb(128,"th",4),L.Pc(129,"FOP"),L.Vb(),L.Wb(130,"td"),L.Pc(131),L.Vb(),L.Vb(),L.Wb(132,"tr"),L.Wb(133,"th",4),L.Pc(134,"ATR / BSP"),L.Vb(),L.Wb(135,"td"),L.Wb(136,"div",6),L.Rb(137,"app-radio",30),L.Rb(138,"app-radio",31),L.Vb(),L.Vb(),L.Vb(),L.Wb(139,"tr"),L.Wb(140,"th",4),L.Pc(141,"Auto Ticketing Status"),L.Vb(),L.Wb(142,"td"),L.Wb(143,"div",6),L.Rb(144,"app-radio",32),L.Rb(145,"app-radio",33),L.Rb(146,"app-radio",34),L.Rb(147,"app-radio",35),L.Rb(148,"app-radio",36),L.Vb(),L.Vb(),L.Vb(),L.Wb(149,"tr"),L.Wb(150,"th",4),L.Pc(151,"Mypage Display YN"),L.Vb(),L.Wb(152,"td"),L.Wb(153,"div",6),L.Rb(154,"app-radio",37),L.Rb(155,"app-radio",38),L.Vb(),L.Vb(),L.Vb(),L.Wb(156,"tr"),L.Wb(157,"th",4),L.Pc(158,"Evidence Needed YN"),L.Vb(),L.Wb(159,"td"),L.Wb(160,"div",6),L.Rb(161,"app-radio",39),L.Rb(162,"app-radio",40),L.Vb(),L.Vb(),L.Vb(),L.Wb(163,"tr"),L.Wb(164,"th",4),L.Pc(165,"APIS Register YN"),L.Vb(),L.Wb(166,"td"),L.Nc(167,I$,2,0,"ng-container",25),L.Nc(168,O$,2,0,"ng-container",25),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(169,"div",41),L.Wb(170,"button",42),L.Pc(171,"Save"),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.Ec(71);L.Cb(3),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(13),L.Qc(null==t.summaryInfo?null:t.summaryInfo.bookedDatetime),L.Cb(7),L.pc("isInvalid",t.checkIsInvalid("gdsMainPnr")),L.Cb(1),L.pc("isInvalid",t.checkIsInvalid("gdsSubPnr")),L.Cb(5),L.Qc(null==t.summaryInfo?null:t.summaryInfo.gdsCompName),L.Cb(10),L.pc("options",t.priceConfirmList)("isInvalid",t.checkIsInvalid("fareConfirmYn"))("useAllOptionYn",!1),L.Cb(3),L.pc("options",t.bookingStatusList)("isInvalid",t.checkIsInvalid("bookingStatusCode"))("useAllOptionYn",!1),L.Cb(10),L.pc("options",t.paymentStatusCodeList)("isInvalid",t.checkIsInvalid("paymentStatusCode"))("useAllOptionYn",!1),L.Cb(3),L.pc("options",t.ticketingStatusCodeList)("isInvalid",t.checkIsInvalid("ticketingStatusCode"))("useAllOptionYn",!1),L.Cb(6),L.pc("inputFieldValue",t.handlePicValue)("isInvalid",t.checkIsInvalid("bookingPicUno"))("apiCondition",L.tc(61,P$))("apiSearchTerm","name")("inputFieldFormatKeyList",L.tc(62,j$)),L.Cb(6),L.Gb("valid-error",t.checkIsInvalid("clientCancelDeadlineDate")),L.Cb(1),L.pc("for",e),L.Cb(1),L.pc("matDatepicker",e),L.Cb(3),L.pc("isInvalid",t.checkIsInvalid("clientCancelDeadlineTime")),L.Cb(7),L.Qc(null==t.basicInfo?null:t.basicInfo.fareCancelDeadline),L.Cb(5),L.Qc(null!=t.basicInfo&&t.basicInfo.airlineCancelDeadline?null==t.basicInfo?null:t.basicInfo.airlineCancelDeadline:"-"),L.Cb(6),L.pc("value",!1),L.Cb(1),L.pc("value",!0),L.Cb(5),L.Rc(" ",null==t.summaryInfo?null:t.summaryInfo.deviceTypeCode,"/ "),L.Cb(1),L.pc("ngIf","O"===(null==t.summaryInfo?null:t.summaryInfo.onOffManual)),L.Cb(1),L.pc("ngIf","F"===(null==t.summaryInfo?null:t.summaryInfo.onOffManual)),L.Cb(5),L.pc("inputFieldValue",t.lastTicketingPicValue)("isInvalid",t.checkIsInvalid("lastTicketingPicUno"))("apiCondition",L.tc(63,P$))("apiSearchTerm","name")("inputFieldFormatKeyList",L.tc(64,j$)),L.Cb(5),L.Qc(null==t.basicInfo?null:t.basicInfo.stockAirlineCode),L.Cb(6),L.pc("options",t.iataOptions)("isInvalid",t.checkIsInvalid("destinationCityCodeIata")),L.Cb(6),L.pc("options",t.tripTypeOptions)("isInvalid",t.checkIsInvalid("routingTypeCode")),L.Cb(6),L.pc("options",t.departureTypeList)("isInvalid",t.checkIsInvalid("departureTypeCode")),L.Cb(5),L.Qc(null==t.basicInfo?null:t.basicInfo.fopName),L.Cb(6),L.pc("value","B"),L.Cb(1),L.pc("value","A"),L.Cb(6),L.pc("value","ATS01"),L.Cb(1),L.pc("value","ATS02"),L.Cb(1),L.pc("value","ATS03"),L.Cb(1),L.pc("value","ATS04"),L.Cb(1),L.pc("value","ATS05"),L.Cb(6),L.pc("value",!0),L.Cb(1),L.pc("value",!1),L.Cb(6),L.pc("value",!0),L.Cb(1),L.pc("value",!1),L.Cb(5),L.pc("ngIf",null==t.basicInfo?null:t.basicInfo.apisRegisterYn),L.Cb(1),L.pc("ngIf",!(null!=t.basicInfo&&t.basicInfo.apisRegisterYn))}},directives:[I.B,I.s,I.k,J.a,ee.a,I.r,I.i,Se.a,Pi.a,ne.a,UW.a,I.c,QW.a,GW.a,Kt.a,cS.a,k.o],encapsulation:2,changeDetection:0}),e})(),A$=(()=>{class e{constructor(e){this._dataService=e,this.submitEvent=new L.n,this.closeEvent=new L.n,this.upsertForm=e.generateBasisPnrPutForm()}get summaryInfo(){return this._summaryInfo}set summaryInfo(e){this._summaryInfo=e,this.upsertFormData=this._convertItemToForm(e)}ngOnInit(){}ngOnDestroy(){}onSubmit(){if(this.upsertForm.invalid)return void(this.checkValid=!0);const e=this._convertFormToItem(this.upsertForm.value,this.summaryInfo);this.submitEvent.emit(e)}onClose(){this.closeEvent.emit()}checkIsInvalid(e){return this.checkValid&&this.upsertForm.get(e)&&this.upsertForm.get(e).invalid}_convertItemToForm(e){if(!e)return this._dataService.initBasisPnrPutForm();const{gdsMainPnr:t,gdsSubPnr:n}=e;return{gdsMainPnr:t,gdsSubPnr:n}}_convertFormToItem(e,t){const{gdsMainPnr:n,gdsSubPnr:i}=e,{rowid:o}=t;return{rowid:o,gdsMainPnr:n,gdsSubPnr:i}}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-pnr-modify-modal"]],inputs:{summaryInfo:"summaryInfo"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:29,vars:4,consts:[[1,"component-wrap"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","150px"],["scope","row",1,"th-bg"],["formControlName","gdsMainPnr",3,"isInvalid"],["formControlName","gdsSubPnr",3,"isInvalid"],[1,"color-danger","font-size-xs","mt10"],[1,"button-area","align-r","mt5"],["type","submit",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"form",1),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(2,"div",2),L.Wb(3,"table"),L.Wb(4,"caption"),L.Pc(5," PNR No. \ubcc0\uacbd "),L.Vb(),L.Wb(6,"colgroup"),L.Rb(7,"col",3),L.Rb(8,"col"),L.Vb(),L.Wb(9,"tbody"),L.Wb(10,"tr"),L.Wb(11,"th",4),L.Wb(12,"sup"),L.Pc(13,"\uc601\ubb38 PNR (Main PNR)"),L.Vb(),L.Vb(),L.Wb(14,"td"),L.Rb(15,"app-input-text",5),L.Vb(),L.Vb(),L.Wb(16,"tr"),L.Wb(17,"th",4),L.Pc(18,"\uc22b\uc790 PNR (Sub PNR)"),L.Vb(),L.Wb(19,"td"),L.Rb(20,"app-input-text",6),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(21,"div",7),L.Wb(22,"p"),L.Pc(23," \u203b \uc800\uc7a5 \ud6c4 \ubc18\ub4dc\uc2dc \ub9ac\ud2b8\ub9ac\ube0c \ubc84\ud2bc\uc744 \uc774\uc6a9\ud558\uc5ec \uc608\uc57d\uc815\ubcf4\ub97c \uc5c5\ub370\uc774\ud2b8 \ud55c\ub2e4. \ub2e8, \uc6b4\uc784\uaddc\uc815\uc740 \uc5c5\ub370\uc774\ud2b8 \ub418\uc9c0 \uc54a\uae30 \ub54c\ubb38\uc5d0 \uae30\uc874 PNR \uacfc \ub2e4\ub978 \uaddc\uc815\uc778 \uacbd\uc6b0 \uc6b4\uc784\uaddc\uc815 \uc218\uc815\uc744 \ud574\uc57c\ud55c\ub2e4. "),L.Vb(),L.Vb(),L.Wb(24,"div",8),L.Wb(25,"button",9),L.Pc(26,"\uc800\uc7a5"),L.Vb(),L.Wb(27,"button",10),L.fc("click",(function(){return t.onClose()})),L.Pc(28,"\ucde8\uc18c"),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("formGroup",t.upsertForm)("connectForm",t.upsertFormData),L.Cb(14),L.pc("isInvalid",t.checkIsInvalid("gdsMainPnr")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("gdsSubPnr")))},directives:[I.B,I.s,I.k,J.a,ee.a,I.r,I.i],encapsulation:2,changeDetection:0}),e})();function W$(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-pnr-modify-modal",4),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().submitPnrInfoHandler(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().closePnrModifyModalHandler()})),L.ic(1,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("summaryInfo",L.jc(1,1,e.summaryInfo$))}}const R$=function(){return[]};let F$=(()=>{class e{constructor(e,t){this.store=e,this.authStore=t,this._subscribeStore()}ngOnInit(){}submitBasisInfoHandler(e){this.store.dispatch(h.updateBookingFlightItemAction({putCondition:Object.assign(Object.assign({},e),{bookingItemCode:this.bookingItemCode})}))}submitBasisDataInfoHandler(e){this.store.dispatch(h.updateBasicInfoAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this.bookingItemCode})}))}submitPnrInfoHandler(e){this.store.dispatch(h.updatePnrInfoAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this.bookingItemCode})}))}opePnrModifynModalHandler(){this.store.dispatch(h.openPnrModifyModalAction())}closePnrModifyModalHandler(){this.store.dispatch(h.closePnrModifyModalAction())}_subscribeStore(){this.summaryInfo$=this.store.pipe(Object(P.u)(AO)),this.basicInfo$=this.store.pipe(Object(P.u)(HO)),this.segmentInfo$=this.store.pipe(Object(P.u)(RO)),this.bookingStatusList$=this.store.pipe(Object(P.u)(tP)),this.requestStatusList$=this.store.pipe(Object(P.u)(nP)),this.deviceTypeList$=this.store.pipe(Object(P.u)(iP)),this.departureTypeList$=this.store.pipe(Object(P.u)(JO)),this.controlBranchList$=this.store.pipe(Object(P.u)(eP)),this.isOpenPnrModifyModal$=this.store.pipe(Object(P.u)(UP)),this.loginUser$=this.authStore.pipe(Object(P.u)(Xe.r)),this.ticketingDsrFinishYn$=this.store.pipe(Object(P.u)($O))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h),L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-basis"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",bookingItemCode:"bookingItemCode",paymentStatusCodeList:"paymentStatusCodeList",ticketingStatusCodeList:"ticketingStatusCodeList"},decls:15,vars:38,consts:[[1,"page-item"],[3,"ticketingDsrFinishYn","bookingItemCode","summaryInfo","basicInfo","loginUser","bookingStatusList","requestStatusList","paymentStatusCodeList","ticketingStatusCodeList","deviceTypeList","departureTypeList","segments","openPnrModalEvent","submitEvent"],["modalSize","sm","modalContentClass","pd-all","header","PNR No. \ubcc0\uacbd",3,"modal","visible","visibleChange"],[3,"summaryInfo","submitEvent","closeEvent",4,"ngIf"],[3,"summaryInfo","submitEvent","closeEvent"]],template:function(e,t){if(1&e&&(L.Wb(0,"div",0),L.Wb(1,"app-reservation-flight-basis-info",1),L.fc("openPnrModalEvent",(function(){return t.opePnrModifynModalHandler()}))("submitEvent",(function(e){return t.submitBasisDataInfoHandler(e)})),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.ic(5,"async"),L.ic(6,"async"),L.ic(7,"async"),L.ic(8,"async"),L.ic(9,"async"),L.ic(10,"async"),L.Vb(),L.Vb(),L.Wb(11,"app-dialog",2),L.fc("visibleChange",(function(){return t.closePnrModifyModalHandler()})),L.ic(12,"async"),L.Nc(13,W$,2,3,"app-reservation-flight-pnr-modify-modal",3),L.ic(14,"async"),L.Vb()),2&e){var n;const e=(null==(n=L.jc(10,31,t.segmentInfo$))?null:n.segments)||L.tc(37,R$);L.Cb(1),L.pc("ticketingDsrFinishYn",L.jc(2,15,t.ticketingDsrFinishYn$))("bookingItemCode",t.bookingItemCode)("summaryInfo",L.jc(3,17,t.summaryInfo$))("basicInfo",L.jc(4,19,t.basicInfo$))("loginUser",L.jc(5,21,t.loginUser$))("bookingStatusList",L.jc(6,23,t.bookingStatusList$))("requestStatusList",L.jc(7,25,t.requestStatusList$))("paymentStatusCodeList",t.paymentStatusCodeList)("ticketingStatusCodeList",t.ticketingStatusCodeList)("deviceTypeList",L.jc(8,27,t.deviceTypeList$))("departureTypeList",L.jc(9,29,t.departureTypeList$))("segments",e),L.Cb(10),L.pc("modal",!0)("visible",L.jc(12,33,t.isOpenPnrModifyModal$)),L.Cb(2),L.pc("ngIf",L.jc(14,35,t.isOpenPnrModifyModal$))}},directives:[V$,un.a,k.o,A$],pipes:[k.b],encapsulation:2,changeDetection:0}),e})();const S$=function(){return{standalone:!0}},T$=function(e){return["travelers",e,"name"]},N$=function(e){return["travelers",e,"lastName"]},E$=function(e){return["travelers",e,"firstName"]},M$=function(e){return["travelers",e,"gender"]},D$=function(e){return["travelers",e,"ageTypeCode"]},L$=function(e){return["travelers",e,"birthday"]};function _$(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr",12),L.Wb(2,"td"),L.Wb(3,"app-radio",13),L.fc("ngModelChange",(function(t){return L.Fc(e),L.hc().checkedIndex=t})),L.Vb(),L.Vb(),L.Wb(4,"td",14),L.Pc(5),L.Vb(),L.Wb(6,"td"),L.Rb(7,"app-input-text",15),L.Vb(),L.Wb(8,"td"),L.Wb(9,"div",16),L.Rb(10,"app-input-text",17),L.Rb(11,"app-input-text",18),L.Vb(),L.Vb(),L.Wb(12,"td"),L.Rb(13,"app-selectbox",19),L.Vb(),L.Wb(14,"td"),L.Rb(15,"app-selectbox",20),L.Vb(),L.Wb(16,"td"),L.Rb(17,"app-input-text",21),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,n=t.index,i=L.hc();L.Cb(1),L.pc("formGroupName",n),L.Cb(2),L.pc("ngModel",i.checkedIndex)("ngModelOptions",L.tc(13,S$))("value",n),L.Cb(2),L.Qc(null==e?null:e.get("travelerNo").value),L.Cb(2),L.pc("isInvalid",i.checkIsInvalid(L.uc(14,T$,n))),L.Cb(3),L.pc("isInvalid",i.checkIsInvalid(L.uc(16,N$,n))),L.Cb(1),L.pc("isInvalid",i.checkIsInvalid(L.uc(18,E$,n))),L.Cb(2),L.pc("options",i.genderDropDownList)("isInvalid",i.checkIsInvalid(L.uc(20,M$,n))),L.Cb(2),L.pc("isInvalid",i.checkIsInvalid(L.uc(22,D$,n)))("options",i.ageTypeList),L.Cb(2),L.pc("isInvalid",i.checkIsInvalid(L.uc(24,L$,n)))}}let $$=(()=>{class e{constructor(e,t,n){this._dataService=e,this.alertService=t,this._service=n,this.saveEvent=new L.n,this.deleteEvent=new L.n,this.genderDropDownList=[],this.upsertForm=e.generateTravelersPutInitForm()}get travelers(){return this._travelers}set travelers(e){e&&(this._travelers=e,this.upsertForm=this._convertItemToForm(e))}get isAllChecked(){return this.upsertForm.get("travelers").controls.every(e=>!0===e.value.checked)}get travelerList(){return this.upsertForm&&this.upsertForm.get("travelers")}get isBtms(){return"STN05"===this.stationTypeCode}get corporateCompCode(){return this.bookerCompCode}ngOnInit(){this._initDropDownList()}checkIsInvalid(e){return this.checkValid&&this.upsertForm.get(e)&&this.upsertForm.get(e).invalid}onClickAdd(){this.travelerList.push(this._dataService.generateTravelerPutInitForm())}onClickSave(){if(this.upsertForm.invalid)return void(this.checkValid=!0);const e=this._convertFormToItem(this.upsertForm.value);this.saveEvent.emit(e)}onClickDelete(){if(Q.isNil(this.checkedIndex))return void this.alertService.alert("Select the passengers you want to delete.");const e=this.travelerList.at(this.checkedIndex).value,{bookingTravelerCode:t}=e;t?this.deleteEvent.emit({bookingTravelerCode:t}):this.travelerList.removeAt(this.checkedIndex)}onSelectTraveler(e,t){const{name:n,lastName:i,firstName:o,gender:a,birthday:c,userTypeName:s,deptName:r,positionName:l,outsideStaffTypeName:d}=e;let b="ADT";const u=this.segmentInfo.segments[0].departureDatetime||K()().format("YYYY-MM-DD"),p=this._service.getOld(u,c);b=p>12?"ADT":p>2?"CHD":"INF",t.patchValue({name:n,lastName:i,firstName:o,gender:a,birthday:c,ageTypeCode:b,userTypeName:s,deptName:r,positionName:l,outsideStaffTypeName:d})}_convertItemToForm(e){return e?this._dataService.generateTravelerPutForm(e):this._dataService.generateTravelersPutInitForm()}_initDropDownList(){this.genderDropDownList=[{value:"M",label:"\ub0a8"},{value:"F",label:"\uc5ec"}]}_convertFormToItem(e){const{travelers:t}=e;return{paxes:t.map(e=>({travelerUno:Q.isNil(e.travelerUno)?void 0:e.travelerUno,bookingTravelerCode:Q.isNil(e.bookingTravelerCode)?void 0:e.bookingTravelerCode,name:e.name,lastName:e.lastName,firstName:e.firstName,gender:e.gender,ageTypeCode:e.ageTypeCode,birthday:e.birthday}))}}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(Ae.a),L.Qb(_S))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-travelers-modify"]],inputs:{ticketingDsrFinishYn:"ticketingDsrFinishYn",travelers:"travelers",segmentInfo:"segmentInfo",ageTypeList:"ageTypeList",stationTypeCode:"stationTypeCode",bookerCompCode:"bookerCompCode"},outputs:{saveEvent:"saveEvent",deleteEvent:"deleteEvent"},decls:41,vars:3,consts:[[1,"page-item-header"],[1,"title"],[1,"control"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"btn","btn-outline-secondary","sm",3,"click"],[3,"formGroup","connectForm"],[1,"table","table-bordered","table-responsive"],["width","42px"],["scope","col",1,"align-c"],["formArrayName","travelers"],[4,"ngFor","ngForOf"],[1,"align-r","color-danger","mt5","font-size-sm",2,"min-width","120px"],[3,"formGroupName"],["styleClass","only",3,"ngModel","ngModelOptions","value","ngModelChange"],[1,"align-c"],["formControlName","name",2,"min-width","100px",3,"isInvalid"],[1,"form-group"],["formControlName","lastName","inputFormat","upperCase",2,"min-width","100px",3,"isInvalid"],["formControlName","firstName","inputFormat","upperCase",2,"min-width","100px",3,"isInvalid"],["formControlName","gender","useAllOptionName","Select",2,"min-width","100px",3,"options","isInvalid"],["formControlName","ageTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","Select",2,"min-width","100px",3,"isInvalid","options"],["formControlName","birthday","inputFormat","date","valueType","string",2,"min-width","100px",3,"isInvalid"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Travelers"),L.Vb(),L.Wb(3,"div",2),L.Wb(4,"button",3),L.fc("click",(function(){return t.onClickSave()})),L.Pc(5,"Save"),L.Vb(),L.Wb(6,"button",4),L.fc("click",(function(){return t.onClickDelete()})),L.Pc(7,"Delete"),L.Vb(),L.Vb(),L.Vb(),L.Wb(8,"form",5),L.Wb(9,"div",6),L.Wb(10,"table"),L.Wb(11,"caption"),L.Pc(12," Travelers "),L.Vb(),L.Wb(13,"colgroup"),L.Rb(14,"col",7),L.Rb(15,"col"),L.Rb(16,"col"),L.Rb(17,"col"),L.Rb(18,"col"),L.Rb(19,"col"),L.Rb(20,"col"),L.Vb(),L.Wb(21,"thead"),L.Wb(22,"tr"),L.Rb(23,"th",8),L.Wb(24,"th",8),L.Pc(25,"No."),L.Vb(),L.Wb(26,"th",8),L.Pc(27,"Name(KO)"),L.Vb(),L.Wb(28,"th",8),L.Pc(29,"Last Name/First Name"),L.Vb(),L.Wb(30,"th",8),L.Pc(31,"Gender"),L.Vb(),L.Wb(32,"th",8),L.Pc(33,"Age Type"),L.Vb(),L.Wb(34,"th",8),L.Pc(35,"Birthday"),L.Vb(),L.Vb(),L.Vb(),L.Wb(36,"tbody",9),L.Nc(37,_$,18,26,"ng-container",10),L.Vb(),L.Vb(),L.Vb(),L.Wb(38,"div",11),L.Wb(39,"p"),L.Pc(40,"\u203b This change is not applied to GDS."),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(8),L.pc("formGroup",t.upsertForm)("connectForm",t.upsertFormData),L.Cb(29),L.pc("ngForOf",t.travelerList.controls))},directives:[I.B,I.s,I.k,J.a,I.e,k.n,I.l,cS.a,I.r,I.u,ee.a,I.i,Se.a],encapsulation:2,changeDetection:0}),e})(),B$=(()=>{class e{constructor(){this.saveEvent=new L.n,this.deleteEvent=new L.n}ngOnInit(){}saveTravelersHandler(e){this.saveEvent.emit(e)}deleteTravelerHandler(e){this.deleteEvent.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-travelers"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",ticketingDsrFinishYn:"ticketingDsrFinishYn",travelers:"travelers",segmentInfo:"segmentInfo",ageTypeList:"ageTypeList",stationTypeCode:"stationTypeCode",bookerCompCode:"bookerCompCode"},outputs:{saveEvent:"saveEvent",deleteEvent:"deleteEvent"},decls:2,vars:6,consts:[[1,"page-item"],[3,"ticketingDsrFinishYn","travelers","segmentInfo","ageTypeList","stationTypeCode","bookerCompCode","saveEvent","deleteEvent"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"app-reservation-flight-travelers-modify",1),L.fc("saveEvent",(function(e){return t.saveTravelersHandler(e)}))("deleteEvent",(function(e){return t.deleteTravelerHandler(e)})),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("ticketingDsrFinishYn",t.ticketingDsrFinishYn)("travelers",t.travelers)("segmentInfo",t.segmentInfo)("ageTypeList",t.ageTypeList)("stationTypeCode",t.stationTypeCode)("bookerCompCode",t.bookerCompCode))},directives:[$$],encapsulation:2,changeDetection:0}),e})();function w$(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"-"),L.Vb())}function x$(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"+"),L.Vb())}function Y$(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"%"),L.Vb())}function H$(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"\uc6d0"),L.Vb())}function q$(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"-"),L.Vb())}function U$(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"+"),L.Vb())}function Q$(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"%"),L.Vb())}function G$(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"\uc6d0"),L.Vb())}function K$(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"-"),L.Vb())}function z$(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"+"),L.Vb())}function X$(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"%"),L.Vb())}function Z$(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"\uc6d0"),L.Vb())}function J$(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"-"),L.Vb())}function eB(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"+"),L.Vb())}function tB(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"%"),L.Vb())}function nB(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"\uc6d0"),L.Vb())}let iB=(()=>{class e{constructor(){this.submitEvent=new L.n,this.clickChangeEvent=new L.n,this.clickSaveEvent=new L.n}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-price-detail-promotion"]],inputs:{ticketingDsrFinishYn:"ticketingDsrFinishYn",promotion:"promotion"},outputs:{submitEvent:"submitEvent",clickChangeEvent:"clickChangeEvent",clickSaveEvent:"clickSaveEvent"},decls:73,vars:30,consts:[[1,"page-item-header"],[1,"title"],[1,"control"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"table","table-bordered","table-responsive"],["scope","col",1,"align-c"],[1,"align-c"],[4,"ngIf"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Promotion Detail"),L.Vb(),L.Wb(3,"div",2),L.Wb(4,"a",3),L.fc("click",(function(){return t.clickChangeEvent.emit()})),L.Pc(5,"Modify"),L.Vb(),L.Vb(),L.Vb(),L.Wb(6,"div",4),L.Wb(7,"table"),L.Wb(8,"caption"),L.Pc(9," Promotion Detail "),L.Vb(),L.Wb(10,"colgroup"),L.Rb(11,"col"),L.Rb(12,"col"),L.Rb(13,"col"),L.Rb(14,"col"),L.Rb(15,"col"),L.Rb(16,"col"),L.Rb(17,"col"),L.Rb(18,"col"),L.Rb(19,"col"),L.Rb(20,"col"),L.Vb(),L.Wb(21,"thead"),L.Wb(22,"tr"),L.Wb(23,"th",5),L.Pc(24,"Promotion SEQ"),L.Vb(),L.Wb(25,"th",5),L.Pc(26,"Card Name"),L.Vb(),L.Wb(27,"th",5),L.Pc(28,"ADT"),L.Vb(),L.Wb(29,"th",5),L.Pc(30,"ADT Add"),L.Vb(),L.Wb(31,"th",5),L.Pc(32,"CHD"),L.Vb(),L.Wb(33,"th",5),L.Pc(34,"CHD Add"),L.Vb(),L.Vb(),L.Vb(),L.Wb(35,"tbody"),L.Wb(36,"tr"),L.Wb(37,"td",6),L.Pc(38),L.Vb(),L.Wb(39,"td",6),L.Pc(40),L.Vb(),L.Wb(41,"td",6),L.Nc(42,w$,2,0,"span",7),L.Nc(43,x$,2,0,"span",7),L.Wb(44,"span"),L.Pc(45),L.ic(46,"number"),L.Vb(),L.Nc(47,Y$,2,0,"span",7),L.Nc(48,H$,2,0,"span",7),L.Vb(),L.Wb(49,"td",6),L.Nc(50,q$,2,0,"span",7),L.Nc(51,U$,2,0,"span",7),L.Wb(52,"span"),L.Pc(53),L.ic(54,"number"),L.Vb(),L.Nc(55,Q$,2,0,"span",7),L.Nc(56,G$,2,0,"span",7),L.Vb(),L.Wb(57,"td",6),L.Nc(58,K$,2,0,"span",7),L.Nc(59,z$,2,0,"span",7),L.Wb(60,"span"),L.Pc(61),L.ic(62,"number"),L.Vb(),L.Nc(63,X$,2,0,"span",7),L.Nc(64,Z$,2,0,"span",7),L.Vb(),L.Wb(65,"td",6),L.Nc(66,J$,2,0,"span",7),L.Nc(67,eB,2,0,"span",7),L.Wb(68,"span"),L.Pc(69),L.ic(70,"number"),L.Vb(),L.Nc(71,tB,2,0,"span",7),L.Nc(72,nB,2,0,"span",7),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(38),L.Qc(null==t.promotion?null:t.promotion.promotionSeq),L.Cb(2),L.Qc((null==t.promotion?null:t.promotion.promotionCardName)||(null==t.promotion?null:t.promotion.cardBrandName)),L.Cb(2),L.pc("ngIf","D"===(null==t.promotion?null:t.promotion.adultDiscountOrUpsell)),L.Cb(1),L.pc("ngIf","U"===(null==t.promotion?null:t.promotion.adultDiscountOrUpsell)),L.Cb(2),L.Qc(L.jc(46,22,null==t.promotion?null:t.promotion.adultAppliedValue)),L.Cb(2),L.pc("ngIf","R"===(null==t.promotion?null:t.promotion.adultRateOrAmount)),L.Cb(1),L.pc("ngIf","A"===(null==t.promotion?null:t.promotion.adultRateOrAmount)),L.Cb(2),L.pc("ngIf","D"===(null==t.promotion?null:t.promotion.adultAddDiscountOrUpsell)),L.Cb(1),L.pc("ngIf","U"===(null==t.promotion?null:t.promotion.adultAddDiscountOrUpsell)),L.Cb(2),L.Qc(L.jc(54,24,null==t.promotion?null:t.promotion.adultAddAppliedValue)),L.Cb(2),L.pc("ngIf","R"===(null==t.promotion?null:t.promotion.adultAddRateOrAmount)),L.Cb(1),L.pc("ngIf","A"===(null==t.promotion?null:t.promotion.adultAddRateOrAmount)),L.Cb(2),L.pc("ngIf","D"===(null==t.promotion?null:t.promotion.childDiscountOrUpsell)),L.Cb(1),L.pc("ngIf","U"===(null==t.promotion?null:t.promotion.childDiscountOrUpsell)),L.Cb(2),L.Qc(L.jc(62,26,null==t.promotion?null:t.promotion.childAppliedValue)),L.Cb(2),L.pc("ngIf","R"===(null==t.promotion?null:t.promotion.childRateOrAmount)),L.Cb(1),L.pc("ngIf","A"===(null==t.promotion?null:t.promotion.childRateOrAmount)),L.Cb(2),L.pc("ngIf","D"===(null==t.promotion?null:t.promotion.childAddDiscountOrUpsell)),L.Cb(1),L.pc("ngIf","U"===(null==t.promotion?null:t.promotion.childAddDiscountOrUpsell)),L.Cb(2),L.Qc(L.jc(70,28,null==t.promotion?null:t.promotion.childAddAppliedValue)),L.Cb(2),L.pc("ngIf","R"===(null==t.promotion?null:t.promotion.childAddRateOrAmount)),L.Cb(1),L.pc("ngIf","A"===(null==t.promotion?null:t.promotion.childAddRateOrAmount)))},directives:[k.o],pipes:[k.f],encapsulation:2,changeDetection:0}),e})();function oB(e,t){if(1&e){const e=L.Xb();L.Wb(0,"a",13),L.fc("click",(function(){return L.Fc(e),L.hc(2).onClickFareType("BKF01")})),L.Pc(1,"First Booked"),L.Vb()}if(2&e){const e=L.hc(2);L.Gb("active","BKF01"===e.currentFareTypeCode),L.Db("aria-selected","BKF01"===e.currentFareTypeCode)}}function aB(e,t){if(1&e){const e=L.Xb();L.Wb(0,"a",13),L.fc("click",(function(){return L.Fc(e),L.hc(2).onClickFareType("BKF02")})),L.Pc(1,"Sales"),L.Vb()}if(2&e){const e=L.hc(2);L.Gb("active","BKF02"===e.currentFareTypeCode),L.Db("aria-selected","BKF02"===e.currentFareTypeCode)}}function cB(e,t){if(1&e){const e=L.Xb();L.Wb(0,"a",13),L.fc("click",(function(){return L.Fc(e),L.hc(2).onClickFareType("BKF03")})),L.Pc(1,"Reissue"),L.Vb()}if(2&e){const e=L.hc(2);L.Gb("active","BKF03"===e.currentFareTypeCode),L.Db("aria-selected","BKF03"===e.currentFareTypeCode)}}function sB(e,t){if(1&e){const e=L.Xb();L.Wb(0,"a",13),L.fc("click",(function(){return L.Fc(e),L.hc(2).onClickFareType("BKF04")})),L.Pc(1,"EMD(GDS)"),L.Vb()}if(2&e){const e=L.hc(2);L.Gb("active","BKF04"===e.currentFareTypeCode),L.Db("aria-selected","BKF04"===e.currentFareTypeCode)}}function rB(e,t){if(1&e){const e=L.Xb();L.Wb(0,"a",13),L.fc("click",(function(){return L.Fc(e),L.hc(2).onClickFareType("BKF99")})),L.Pc(1,"DIR"),L.Vb()}if(2&e){const e=L.hc(2);L.Gb("active","BKF99"===e.currentFareTypeCode),L.Db("aria-selected","BKF99"===e.currentFareTypeCode)}}function lB(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"li",11),L.Nc(2,oB,2,3,"a",12),L.Vb(),L.Wb(3,"li",11),L.Nc(4,aB,2,3,"a",12),L.Vb(),L.Wb(5,"li",11),L.Nc(6,cB,2,3,"a",12),L.Vb(),L.Wb(7,"li",11),L.Nc(8,sB,2,3,"a",12),L.Vb(),L.Wb(9,"li",11),L.Nc(10,rB,2,3,"a",12),L.Vb(),L.Tb()),2&e){const e=t.$implicit;L.Cb(2),L.pc("ngIf","BKF01"===e),L.Cb(2),L.pc("ngIf","BKF02"===e),L.Cb(2),L.pc("ngIf","BKF03"===e),L.Cb(2),L.pc("ngIf","BKF04"===e),L.Cb(2),L.pc("ngIf","BKF99"===e)}}function dB(e,t){1&e&&(L.Wb(0,"th",16),L.Pc(1,"AGT T"),L.Vb())}function bB(e,t){if(1&e&&(L.Wb(0,"td",20),L.Pc(1),L.ic(2,"number"),L.Vb()),2&e){const e=L.hc().$implicit;L.Cb(1),L.Qc(L.jc(2,1,e.agencyTasfAmount))}}function uB(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"\uc120\ucef4"),L.Vb())}function pB(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"\ud6c4\ucef4"),L.Vb())}function mB(e,t){if(1&e&&(L.Wb(0,"tr"),L.Rb(1,"td",19),L.Wb(2,"td",19),L.Nc(3,uB,2,0,"span",8),L.Nc(4,pB,2,0,"span",8),L.Vb(),L.Wb(5,"td",19),L.Pc(6),L.Vb(),L.Wb(7,"td",20),L.Pc(8),L.ic(9,"number"),L.Vb(),L.Wb(10,"td",20),L.Pc(11),L.ic(12,"number"),L.Vb(),L.Wb(13,"td",20),L.Pc(14),L.ic(15,"number"),L.Vb(),L.Wb(16,"td",20),L.Pc(17),L.ic(18,"number"),L.Vb(),L.Vb()),2&e){const e=L.hc().$implicit,t=L.hc(2);L.Cb(3),L.pc("ngIf",!1===e.agencyPostCommYn),L.Cb(1),L.pc("ngIf",!0===e.agencyPostCommYn),L.Cb(2),L.Rc("",e.agencyCommRate,"%"),L.Cb(2),L.Qc(L.jc(9,8,e.agencyCommAmount)),L.Cb(2),L.Db("colSpan",!0===t.isB2b?2:1),L.Cb(1),L.Qc(L.jc(12,10,e.agencyCommVat)),L.Cb(3),L.Qc(L.jc(15,12,e.agencyUpAmount)),L.Cb(3),L.Qc(L.jc(18,14,e.agencyUpPayOutAmount))}}function hB(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",19),L.Wb(3,"app-checkbox",17),L.fc("onChange",(function(n){L.Fc(e);const i=t.index;return L.hc(2).onChangeCheckbox(n,i)})),L.Vb(),L.Vb(),L.Wb(4,"td",19),L.Pc(5),L.Vb(),L.Wb(6,"td",20),L.Pc(7),L.ic(8,"number"),L.Vb(),L.Wb(9,"td",20),L.Pc(10),L.ic(11,"number"),L.Vb(),L.Wb(12,"td",20),L.Pc(13),L.ic(14,"number"),L.Vb(),L.Wb(15,"td",19),L.Pc(16),L.ic(17,"number"),L.Vb(),L.Rb(18,"td",20),L.Vb(),L.Wb(19,"tr"),L.Rb(20,"td",19),L.Wb(21,"td",20),L.Pc(22),L.ic(23,"number"),L.Vb(),L.Wb(24,"td",20),L.Pc(25),L.ic(26,"number"),L.Vb(),L.Wb(27,"td",20),L.Pc(28),L.ic(29,"number"),L.Vb(),L.Wb(30,"td",20),L.Pc(31),L.ic(32,"number"),L.Vb(),L.Nc(33,bB,3,3,"td",21),L.Wb(34,"td",20),L.Pc(35),L.ic(36,"number"),L.Vb(),L.Vb(),L.Nc(37,mB,19,16,"tr",8),L.Tb()}if(2&e){const e=t.$implicit,n=L.hc(2);L.Cb(2),L.Db("rowSpan",!0===n.isB2b?3:2),L.Cb(1),L.pc("binary",!0)("ngModel",e.checked),L.Cb(2),L.Tc("[",e.priceSeq,"]",e.nameEn," [",e.name,"]"),L.Cb(2),L.Qc(L.jc(8,20,e.ticketingNetAmount)),L.Cb(3),L.Qc(L.jc(11,22,e.salesNetAmount)),L.Cb(3),L.Qc(L.jc(14,24,e.salesTaxAmount)),L.Cb(2),L.Db("colSpan",!0===n.isB2b?2:1),L.Cb(1),L.Qc(L.jc(17,26,e.salesFuelAmount)),L.Cb(2),L.Db("colSpan",!0===n.isB2b?2:1),L.Cb(4),L.Qc(L.jc(23,28,e.salesAppliedValue)),L.Cb(3),L.Qc(L.jc(26,30,e.salesQAmount)),L.Cb(3),L.Qc(L.jc(29,32,e.salesOthersAmount)),L.Cb(3),L.Qc(L.jc(32,34,e.salesTasfAmount)),L.Cb(2),L.pc("ngIf",n.isB2b),L.Cb(1),L.Db("colSpan",!0===n.isB2b?2:1),L.Cb(1),L.Qc(L.jc(36,36,e.salesSumAmount)),L.Cb(2),L.pc("ngIf",!0===n.isB2b)}}function gB(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"div",14),L.Wb(2,"table"),L.Wb(3,"caption"),L.Pc(4," \ucd5c\ucd08\uc608\uc57d\uc694\uae08 "),L.Vb(),L.Wb(5,"colgroup"),L.Rb(6,"col",15),L.Rb(7,"col"),L.Rb(8,"col"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Vb(),L.Wb(13,"thead"),L.Wb(14,"tr"),L.Wb(15,"th",16),L.Wb(16,"app-checkbox",17),L.fc("onChange",(function(t){return L.Fc(e),L.hc().onCheckAll(t)})),L.Vb(),L.Vb(),L.Wb(17,"th",16),L.Pc(18,"Traveler"),L.Vb(),L.Wb(19,"th",16),L.Pc(20,"TKT NET"),L.Vb(),L.Wb(21,"th",16),L.Pc(22,"Selling NET"),L.Vb(),L.Wb(23,"th",16),L.Pc(24,"Tax"),L.Vb(),L.Wb(25,"th",16),L.Pc(26,"Fuel Charge"),L.Vb(),L.Rb(27,"th",16),L.Vb(),L.Wb(28,"tr"),L.Wb(29,"th",16),L.Pc(30,"TK No."),L.Vb(),L.Wb(31,"th",16),L.Pc(32,"Discount"),L.Vb(),L.Wb(33,"th",16),L.Pc(34,"Q-CHG"),L.Vb(),L.Wb(35,"th",16),L.Pc(36,"Others"),L.Vb(),L.Wb(37,"th",16),L.Pc(38,"TASF"),L.Vb(),L.Nc(39,dB,2,0,"th",18),L.Wb(40,"th",16),L.Pc(41,"Sum Amount"),L.Vb(),L.Vb(),L.Vb(),L.Wb(42,"tbody"),L.Nc(43,hB,38,38,"ng-container",3),L.Vb(),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=L.hc();L.Cb(15),L.Db("rowSpan",!0===e.isB2b?3:2),L.Cb(1),L.pc("binary",!0)("ngModel",e.isAllChecked),L.Cb(9),L.Db("colSpan",!0===e.isB2b?2:1),L.Cb(2),L.Db("colSpan",!0===e.isB2b?2:1),L.Cb(12),L.pc("ngIf",e.isB2b),L.Cb(1),L.Db("colSpan",!0===e.isB2b?2:1),L.Cb(3),L.pc("ngForOf",e.priceInfoMap.BKF01)}}function fB(e,t){1&e&&(L.Wb(0,"th",16),L.Pc(1,"AGT T"),L.Vb())}function vB(e,t){1&e&&(L.Wb(0,"tr"),L.Rb(1,"th",16),L.Wb(2,"th",16),L.Pc(3,"\uc120/\ud6c4\ucef4"),L.Vb(),L.Wb(4,"th",16),L.Pc(5,"\ucee4\ubbf8\uc158(\ud310)%"),L.Vb(),L.Wb(6,"th",16),L.Pc(7,"\ucee4\ubbf8\uc158(\ud310)"),L.Vb(),L.Wb(8,"th",22),L.Pc(9,"\ucee4\ubbf8\uc158(\ud310)VAT"),L.Vb(),L.Wb(10,"th",16),L.Pc(11,"UP \uac70\ub798\ucc98\uc9c0\uae09"),L.Vb(),L.Wb(12,"th",16),L.Pc(13,"UP \uc2e4\uc9c0\uae09\uc561"),L.Vb(),L.Vb())}function CB(e,t){if(1&e&&(L.Wb(0,"td",20),L.Pc(1),L.ic(2,"number"),L.Vb()),2&e){const e=L.hc().$implicit;L.Cb(1),L.Qc(L.jc(2,1,e.agencyTasfAmount))}}function yB(e,t){if(1&e&&(L.Wb(0,"tr"),L.Rb(1,"td",19),L.Wb(2,"td",19),L.Wb(3,"span"),L.Pc(4),L.Vb(),L.Vb(),L.Wb(5,"td",19),L.Pc(6),L.Vb(),L.Wb(7,"td",20),L.Pc(8),L.ic(9,"number"),L.Vb(),L.Wb(10,"td",20),L.Pc(11),L.ic(12,"number"),L.Vb(),L.Wb(13,"td",20),L.Pc(14),L.ic(15,"number"),L.Vb(),L.Wb(16,"td",20),L.Pc(17),L.ic(18,"number"),L.Vb(),L.Vb()),2&e){const e=L.hc().$implicit,t=L.hc(2);L.Cb(4),L.Qc(e.agencyPostCommYn),L.Cb(2),L.Rc("",e.agencyCommRate,"%"),L.Cb(2),L.Qc(L.jc(9,7,e.agencyCommAmount)),L.Cb(2),L.Db("colSpan",!0===t.isB2b?2:1),L.Cb(1),L.Qc(L.jc(12,9,e.agencyCommVat)),L.Cb(3),L.Qc(L.jc(15,11,e.agencyUpAmount)),L.Cb(3),L.Qc(L.jc(18,13,e.agencyUpPayOutAmount))}}function kB(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",19),L.Wb(3,"app-checkbox",17),L.fc("onChange",(function(n){L.Fc(e);const i=t.index;return L.hc(2).onChangeCheckbox(n,i)})),L.Vb(),L.Vb(),L.Wb(4,"td",23),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc(2).onClickTraveler(n)})),L.Wb(5,"a",24),L.Pc(6),L.Vb(),L.Vb(),L.Wb(7,"td",20),L.Pc(8),L.ic(9,"number"),L.Vb(),L.Wb(10,"td",20),L.Pc(11),L.ic(12,"number"),L.Vb(),L.Wb(13,"td",20),L.Pc(14),L.ic(15,"number"),L.Vb(),L.Wb(16,"td",20),L.Pc(17),L.ic(18,"number"),L.Vb(),L.Rb(19,"td",20),L.Vb(),L.Wb(20,"tr"),L.Wb(21,"td",19),L.Wb(22,"a",25),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc(2).onClickTicketNo(n)})),L.Pc(23),L.Vb(),L.Vb(),L.Wb(24,"td",20),L.Pc(25),L.ic(26,"number"),L.Vb(),L.Wb(27,"td",20),L.Pc(28),L.ic(29,"number"),L.Vb(),L.Wb(30,"td",20),L.Pc(31),L.ic(32,"number"),L.Vb(),L.Wb(33,"td",20),L.Pc(34),L.ic(35,"number"),L.Vb(),L.Nc(36,CB,3,3,"td",21),L.Wb(37,"td",20),L.Pc(38),L.ic(39,"number"),L.Vb(),L.Vb(),L.Nc(40,yB,19,15,"tr",8),L.Tb()}if(2&e){const e=t.$implicit,n=L.hc(2);L.Cb(2),L.Db("rowSpan",!0===n.isB2b?3:2),L.Cb(1),L.pc("binary",!0)("ngModel",e.checked),L.Cb(3),L.Tc("[",e.priceSeq,"]",e.nameEn," [",e.name,"]"),L.Cb(2),L.Qc(L.jc(9,21,e.ticketingNetAmount)),L.Cb(3),L.Qc(L.jc(12,23,e.salesNetAmount)),L.Cb(3),L.Qc(L.jc(15,25,e.salesTaxAmount)),L.Cb(2),L.Db("colSpan",!0===n.isB2b?2:1),L.Cb(1),L.Qc(L.jc(18,27,e.salesFuelAmount)),L.Cb(2),L.Db("colSpan",!0===n.isB2b?2:1),L.Cb(4),L.Qc(n.getTicketNo(e.tickets)),L.Cb(2),L.Qc(L.jc(26,29,e.salesAppliedValue)),L.Cb(3),L.Qc(L.jc(29,31,e.salesQAmount)),L.Cb(3),L.Qc(L.jc(32,33,e.salesOthersAmount)),L.Cb(3),L.Qc(L.jc(35,35,e.salesTasfAmount)),L.Cb(2),L.pc("ngIf",n.isB2b),L.Cb(1),L.Db("colSpan",!0===n.isB2b?2:1),L.Cb(1),L.Qc(L.jc(39,37,e.salesSumAmount)),L.Cb(2),L.pc("ngIf",!0===n.isB2b)}}function IB(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"div",14),L.Wb(2,"table"),L.Wb(3,"caption"),L.Pc(4," \ud310\ub9e4\uc694\uae08 "),L.Vb(),L.Wb(5,"colgroup"),L.Rb(6,"col",15),L.Rb(7,"col"),L.Rb(8,"col"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Vb(),L.Wb(13,"thead"),L.Wb(14,"tr"),L.Wb(15,"th",16),L.Wb(16,"app-checkbox",17),L.fc("onChange",(function(t){return L.Fc(e),L.hc().onCheckAll(t)})),L.Vb(),L.Vb(),L.Wb(17,"th",16),L.Pc(18,"Traveler"),L.Vb(),L.Wb(19,"th",16),L.Pc(20,"TKT NET"),L.Vb(),L.Wb(21,"th",16),L.Pc(22,"Selling NET"),L.Vb(),L.Wb(23,"th",16),L.Pc(24,"Tax"),L.Vb(),L.Wb(25,"th",16),L.Pc(26,"Fuel Charge"),L.Vb(),L.Rb(27,"th",16),L.Vb(),L.Wb(28,"tr"),L.Wb(29,"th",16),L.Pc(30,"TK No."),L.Vb(),L.Wb(31,"th",16),L.Pc(32,"Discount"),L.Vb(),L.Wb(33,"th",16),L.Pc(34,"Q-CHG"),L.Vb(),L.Wb(35,"th",16),L.Pc(36,"Others"),L.Vb(),L.Wb(37,"th",16),L.Pc(38,"TASF"),L.Vb(),L.Nc(39,fB,2,0,"th",18),L.Wb(40,"th",16),L.Pc(41,"Sum Amount"),L.Vb(),L.Vb(),L.Nc(42,vB,14,0,"tr",8),L.Vb(),L.Wb(43,"tbody"),L.Nc(44,kB,41,39,"ng-container",3),L.Vb(),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=L.hc();L.Cb(15),L.Db("rowSpan",!0===e.isB2b?3:2),L.Cb(1),L.pc("binary",!0)("ngModel",e.isAllChecked),L.Cb(9),L.Db("colSpan",!0===e.isB2b?2:1),L.Cb(2),L.Db("colSpan",!0===e.isB2b?2:1),L.Cb(12),L.pc("ngIf",e.isB2b),L.Cb(1),L.Db("colSpan",!0===e.isB2b?2:1),L.Cb(2),L.pc("ngIf",!0===e.isB2b),L.Cb(2),L.pc("ngForOf",e.priceInfoMap.BKF02)}}function OB(e,t){1&e&&L.Rb(0,"col")}function PB(e,t){1&e&&(L.Wb(0,"th",16),L.Pc(1,"AGT T"),L.Vb())}function jB(e,t){1&e&&(L.Wb(0,"tr"),L.Rb(1,"th",16),L.Wb(2,"th",16),L.Pc(3,"\uc120/\ud6c4\ucef4"),L.Vb(),L.Wb(4,"th",16),L.Pc(5,"\ucee4\ubbf8\uc158(\ud310)%"),L.Vb(),L.Wb(6,"th",16),L.Pc(7,"\ucee4\ubbf8\uc158(\ud310)"),L.Vb(),L.Wb(8,"th",22),L.Pc(9,"\ucee4\ubbf8\uc158(\ud310)VAT"),L.Vb(),L.Wb(10,"th",16),L.Pc(11,"UP \uac70\ub798\ucc98\uc9c0\uae09"),L.Vb(),L.Wb(12,"th",16),L.Pc(13,"UP \uc2e4\uc9c0\uae09\uc561"),L.Vb(),L.Vb())}function VB(e,t){if(1&e&&(L.Wb(0,"td",20),L.Pc(1),L.ic(2,"number"),L.Vb()),2&e){const e=L.hc().$implicit;L.Cb(1),L.Qc(L.jc(2,1,e.agencyTasfAmount))}}function AB(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"\uc120\ucef4"),L.Vb())}function WB(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"\ud6c4\ucef4"),L.Vb())}function RB(e,t){if(1&e&&(L.Wb(0,"tr"),L.Rb(1,"td",19),L.Wb(2,"td",19),L.Nc(3,AB,2,0,"span",8),L.Nc(4,WB,2,0,"span",8),L.Vb(),L.Wb(5,"td",19),L.Pc(6),L.Vb(),L.Wb(7,"td",20),L.Pc(8),L.ic(9,"number"),L.Vb(),L.Wb(10,"td",20),L.Pc(11),L.ic(12,"number"),L.Vb(),L.Wb(13,"td",20),L.Pc(14),L.ic(15,"number"),L.Vb(),L.Wb(16,"td",20),L.Pc(17),L.ic(18,"number"),L.Vb(),L.Vb()),2&e){const e=L.hc().$implicit,t=L.hc(2);L.Cb(3),L.pc("ngIf",!1===e.agencyPostCommYn),L.Cb(1),L.pc("ngIf",!0===e.agencyPostCommYn),L.Cb(2),L.Rc("",e.agencyCommRate,"%"),L.Cb(2),L.Qc(L.jc(9,8,e.agencyCommAmount)),L.Cb(2),L.Db("colSpan",!0===t.isB2b?2:1),L.Cb(1),L.Qc(L.jc(12,10,e.agencyCommVat)),L.Cb(3),L.Qc(L.jc(15,12,e.agencyUpAmount)),L.Cb(3),L.Qc(L.jc(18,14,e.agencyUpPayOutAmount))}}function FB(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",19),L.Wb(3,"app-checkbox",17),L.fc("onChange",(function(n){L.Fc(e);const i=t.index;return L.hc(2).onChangeCheckbox(n,i)})),L.Vb(),L.Vb(),L.Wb(4,"td",23),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc(2).onClickTraveler(n)})),L.Wb(5,"a",24),L.Pc(6),L.Vb(),L.Vb(),L.Wb(7,"td",20),L.Pc(8),L.ic(9,"number"),L.Vb(),L.Wb(10,"td",20),L.Pc(11),L.ic(12,"number"),L.Vb(),L.Wb(13,"td",20),L.Pc(14),L.ic(15,"number"),L.Vb(),L.Wb(16,"td",19),L.Pc(17),L.ic(18,"number"),L.Vb(),L.Rb(19,"td",20),L.Vb(),L.Wb(20,"tr"),L.Wb(21,"td",19),L.Wb(22,"a",25),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc(2).onClickTicketNo(n)})),L.Pc(23),L.Vb(),L.Vb(),L.Wb(24,"td",20),L.Pc(25),L.ic(26,"number"),L.Vb(),L.Wb(27,"td",20),L.Pc(28),L.ic(29,"number"),L.Vb(),L.Wb(30,"td",20),L.Pc(31),L.ic(32,"number"),L.Vb(),L.Wb(33,"td",20),L.Pc(34),L.ic(35,"number"),L.Vb(),L.Nc(36,VB,3,3,"td",21),L.Wb(37,"td",20),L.Pc(38),L.ic(39,"number"),L.Vb(),L.Vb(),L.Nc(40,RB,19,16,"tr",8),L.Tb()}if(2&e){const e=t.$implicit,n=L.hc(2);L.Cb(2),L.Db("rowSpan",!0===n.isB2b?3:2),L.Cb(1),L.pc("binary",!0)("ngModel",e.checked),L.Cb(3),L.Tc("[",e.priceSeq,"]",e.nameEn," [",e.name,"]"),L.Cb(2),L.Qc(L.jc(9,21,e.ticketingNetAmount)),L.Cb(3),L.Qc(L.jc(12,23,e.salesNetAmount)),L.Cb(3),L.Qc(L.jc(15,25,e.salesTaxAmount)),L.Cb(2),L.Db("colSpan",!0===n.isB2b?2:1),L.Cb(1),L.Qc(L.jc(18,27,e.salesFuelAmount)),L.Cb(2),L.Db("colSpan",!0===n.isB2b?2:1),L.Cb(4),L.Qc(n.getTicketNo(e.tickets)),L.Cb(2),L.Qc(L.jc(26,29,e.salesAppliedValue)),L.Cb(3),L.Qc(L.jc(29,31,e.salesQAmount)),L.Cb(3),L.Qc(L.jc(32,33,e.salesOthersAmount)),L.Cb(3),L.Qc(L.jc(35,35,e.salesTasfAmount)),L.Cb(2),L.pc("ngIf",n.isB2b),L.Cb(1),L.Db("colSpan",!0===n.isB2b?2:1),L.Cb(1),L.Qc(L.jc(39,37,e.salesSumAmount)),L.Cb(2),L.pc("ngIf",!0===n.isB2b)}}function SB(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"div",14),L.Wb(2,"table"),L.Wb(3,"caption"),L.Pc(4," \uc7ac\ubc1c\ud589\uc694\uae08 "),L.Vb(),L.Wb(5,"colgroup"),L.Rb(6,"col",15),L.Rb(7,"col"),L.Rb(8,"col"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Nc(13,OB,1,0,"col",8),L.Vb(),L.Wb(14,"thead"),L.Wb(15,"tr"),L.Wb(16,"th",16),L.Wb(17,"app-checkbox",17),L.fc("onChange",(function(t){return L.Fc(e),L.hc().onCheckAll(t)})),L.Vb(),L.Vb(),L.Wb(18,"th",16),L.Pc(19,"Traveler"),L.Vb(),L.Wb(20,"th",16),L.Pc(21,"TKT NET"),L.Vb(),L.Wb(22,"th",16),L.Pc(23,"Selling NET"),L.Vb(),L.Wb(24,"th",16),L.Pc(25,"Tax"),L.Vb(),L.Wb(26,"th",16),L.Pc(27,"Fuel Charge"),L.Vb(),L.Rb(28,"th",16),L.Vb(),L.Wb(29,"tr"),L.Wb(30,"th",16),L.Pc(31,"TK No."),L.Vb(),L.Wb(32,"th",16),L.Pc(33,"Discount"),L.Vb(),L.Wb(34,"th",16),L.Pc(35,"Q-CHG"),L.Vb(),L.Wb(36,"th",16),L.Pc(37,"Others"),L.Vb(),L.Wb(38,"th",16),L.Pc(39,"TASF"),L.Vb(),L.Nc(40,PB,2,0,"th",18),L.Wb(41,"th",16),L.Pc(42,"Sum Amount"),L.Vb(),L.Vb(),L.Nc(43,jB,14,0,"tr",8),L.Vb(),L.Wb(44,"tbody"),L.Nc(45,FB,41,39,"ng-container",3),L.Vb(),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=L.hc();L.Cb(13),L.pc("ngIf",!0===e.isB2b),L.Cb(3),L.Db("rowSpan",!0===e.isB2b?3:2),L.Cb(1),L.pc("binary",!0)("ngModel",e.isAllChecked),L.Cb(9),L.Db("colSpan",!0===e.isB2b?2:1),L.Cb(2),L.Db("colSpan",!0===e.isB2b?2:1),L.Cb(12),L.pc("ngIf",e.isB2b),L.Cb(1),L.Db("colSpan",!0===e.isB2b?2:1),L.Cb(2),L.pc("ngIf",!0===e.isB2b),L.Cb(2),L.pc("ngForOf",e.priceInfoMap.BKF03)}}function TB(e,t){1&e&&(L.Wb(0,"th",16),L.Pc(1,"AGT T"),L.Vb())}function NB(e,t){if(1&e&&(L.Wb(0,"td",20),L.Pc(1),L.ic(2,"number"),L.Vb()),2&e){const e=L.hc().$implicit;L.Cb(1),L.Qc(L.jc(2,1,e.agencyTasfAmount))}}function EB(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",19),L.Wb(3,"app-checkbox",17),L.fc("onChange",(function(n){L.Fc(e);const i=t.index;return L.hc(2).onChangeCheckbox(n,i)})),L.Vb(),L.Vb(),L.Wb(4,"td",23),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc(2).onClickTraveler(n)})),L.Wb(5,"a",24),L.Pc(6),L.Vb(),L.Vb(),L.Wb(7,"td",20),L.Pc(8),L.ic(9,"number"),L.Vb(),L.Wb(10,"td",20),L.Pc(11),L.ic(12,"number"),L.Vb(),L.Wb(13,"td",20),L.Pc(14),L.ic(15,"number"),L.Vb(),L.Wb(16,"td",20),L.Pc(17),L.ic(18,"number"),L.Vb(),L.Rb(19,"td",20),L.Vb(),L.Wb(20,"tr"),L.Wb(21,"td",19),L.Wb(22,"a",25),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc(2).onClickTicketNo(n)})),L.Pc(23),L.Vb(),L.Vb(),L.Wb(24,"td",20),L.Pc(25),L.ic(26,"number"),L.Vb(),L.Wb(27,"td",20),L.Pc(28),L.ic(29,"number"),L.Vb(),L.Wb(30,"td",20),L.Pc(31),L.ic(32,"number"),L.Vb(),L.Wb(33,"td",20),L.Pc(34),L.ic(35,"number"),L.Vb(),L.Nc(36,NB,3,3,"td",21),L.Wb(37,"td",20),L.Pc(38),L.ic(39,"number"),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,n=L.hc(2);L.Cb(2),L.Db("rowSpan",!0===n.isB2b?3:2),L.Cb(1),L.pc("binary",!0)("ngModel",e.checked),L.Cb(3),L.Tc("[",e.priceSeq,"]",e.nameEn," [",e.name,"]"),L.Cb(2),L.Qc(L.jc(9,20,e.ticketingNetAmount)),L.Cb(3),L.Qc(L.jc(12,22,e.salesNetAmount)),L.Cb(3),L.Qc(L.jc(15,24,e.salesTaxAmount)),L.Cb(2),L.Db("colSpan",!0===n.isB2b?2:1),L.Cb(1),L.Qc(L.jc(18,26,e.salesFuelAmount)),L.Cb(2),L.Db("colSpan",!0===n.isB2b?2:1),L.Cb(4),L.Qc(n.getTicketNo(e.tickets)),L.Cb(2),L.Qc(L.jc(26,28,e.salesAppliedValue)),L.Cb(3),L.Qc(L.jc(29,30,e.salesQAmount)),L.Cb(3),L.Qc(L.jc(32,32,e.salesOthersAmount)),L.Cb(3),L.Qc(L.jc(35,34,e.salesTasfAmount)),L.Cb(2),L.pc("ngIf",n.isB2b),L.Cb(1),L.Db("colSpan",!0===n.isB2b?2:1),L.Cb(1),L.Qc(L.jc(39,36,e.salesSumAmount))}}function MB(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"div",14),L.Wb(2,"table"),L.Wb(3,"caption"),L.Pc(4," EMD(GDS) "),L.Vb(),L.Wb(5,"colgroup"),L.Rb(6,"col",15),L.Rb(7,"col"),L.Rb(8,"col"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Vb(),L.Wb(13,"thead"),L.Wb(14,"tr"),L.Wb(15,"th",16),L.Wb(16,"app-checkbox",17),L.fc("onChange",(function(t){return L.Fc(e),L.hc().onCheckAll(t)})),L.Vb(),L.Vb(),L.Wb(17,"th",16),L.Pc(18,"Traveler"),L.Vb(),L.Wb(19,"th",16),L.Pc(20,"TKT NET"),L.Vb(),L.Wb(21,"th",16),L.Pc(22,"Selling NET"),L.Vb(),L.Wb(23,"th",16),L.Pc(24,"Tax"),L.Vb(),L.Wb(25,"th",16),L.Pc(26,"Fuel Charge"),L.Vb(),L.Rb(27,"th",16),L.Vb(),L.Wb(28,"tr"),L.Wb(29,"th",16),L.Pc(30,"TK No."),L.Vb(),L.Wb(31,"th",16),L.Pc(32,"Discount"),L.Vb(),L.Wb(33,"th",16),L.Pc(34,"Q-CHG"),L.Vb(),L.Wb(35,"th",16),L.Pc(36,"Others"),L.Vb(),L.Wb(37,"th",16),L.Pc(38,"TASF"),L.Vb(),L.Nc(39,TB,2,0,"th",18),L.Wb(40,"th",16),L.Pc(41,"Sum Amount"),L.Vb(),L.Vb(),L.Vb(),L.Wb(42,"tbody"),L.Nc(43,EB,40,38,"ng-container",3),L.Vb(),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=L.hc();L.Cb(15),L.Db("rowSpan",!0===e.isB2b?3:2),L.Cb(1),L.pc("binary",!0)("ngModel",e.isAllChecked),L.Cb(9),L.Db("colSpan",!0===e.isB2b?2:1),L.Cb(2),L.Db("colSpan",!0===e.isB2b?2:1),L.Cb(12),L.pc("ngIf",e.isB2b),L.Cb(1),L.Db("colSpan",!0===e.isB2b?2:1),L.Cb(3),L.pc("ngForOf",e.priceInfoMap.BKF04)}}function DB(e,t){1&e&&(L.Wb(0,"th",16),L.Pc(1,"AGT T"),L.Vb())}function LB(e,t){1&e&&(L.Wb(0,"tr"),L.Rb(1,"th",16),L.Wb(2,"th",16),L.Pc(3,"\uc120/\ud6c4\ucef4"),L.Vb(),L.Wb(4,"th",16),L.Pc(5,"\ucee4\ubbf8\uc158(\ud310)%"),L.Vb(),L.Wb(6,"th",16),L.Pc(7,"\ucee4\ubbf8\uc158(\ud310)"),L.Vb(),L.Wb(8,"th",22),L.Pc(9,"\ucee4\ubbf8\uc158(\ud310)VAT"),L.Vb(),L.Wb(10,"th",16),L.Pc(11,"UP \uac70\ub798\ucc98\uc9c0\uae09"),L.Vb(),L.Wb(12,"th",16),L.Pc(13,"UP \uc2e4\uc9c0\uae09\uc561"),L.Vb(),L.Vb())}function _B(e,t){if(1&e&&(L.Wb(0,"td",20),L.Pc(1),L.ic(2,"number"),L.Vb()),2&e){const e=L.hc().$implicit;L.Cb(1),L.Qc(L.jc(2,1,e.agencyTasfAmount))}}function $B(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"\uc120\ucef4"),L.Vb())}function BB(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"\ud6c4\ucef4"),L.Vb())}function wB(e,t){if(1&e&&(L.Wb(0,"tr"),L.Rb(1,"td",19),L.Wb(2,"td",19),L.Nc(3,$B,2,0,"span",8),L.Nc(4,BB,2,0,"span",8),L.Vb(),L.Wb(5,"td",19),L.Pc(6),L.Vb(),L.Wb(7,"td",20),L.Pc(8),L.ic(9,"number"),L.Vb(),L.Wb(10,"td",20),L.Pc(11),L.ic(12,"number"),L.Vb(),L.Wb(13,"td",20),L.Pc(14),L.ic(15,"number"),L.Vb(),L.Wb(16,"td",20),L.Pc(17),L.ic(18,"number"),L.Vb(),L.Vb()),2&e){const e=L.hc().$implicit,t=L.hc(2);L.Cb(3),L.pc("ngIf",!1===e.agencyPostCommYn),L.Cb(1),L.pc("ngIf",!0===e.agencyPostCommYn),L.Cb(2),L.Rc("",e.agencyCommRate,"%"),L.Cb(2),L.Qc(L.jc(9,8,e.agencyCommAmount)),L.Cb(2),L.Db("colSpan",!0===t.isB2b?2:1),L.Cb(1),L.Qc(L.jc(12,10,e.agencyCommVat)),L.Cb(3),L.Qc(L.jc(15,12,e.agencyUpAmount)),L.Cb(3),L.Qc(L.jc(18,14,e.agencyUpPayOutAmount))}}function xB(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",19),L.Wb(3,"app-checkbox",17),L.fc("onChange",(function(n){L.Fc(e);const i=t.index;return L.hc(2).onChangeCheckbox(n,i)})),L.Vb(),L.Vb(),L.Wb(4,"td",23),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc(2).onClickTraveler(n)})),L.Wb(5,"a",24),L.Pc(6),L.Vb(),L.Vb(),L.Wb(7,"td",20),L.Pc(8),L.ic(9,"number"),L.Vb(),L.Wb(10,"td",20),L.Pc(11),L.ic(12,"number"),L.Vb(),L.Wb(13,"td",20),L.Pc(14),L.ic(15,"number"),L.Vb(),L.Wb(16,"td",19),L.Pc(17),L.ic(18,"number"),L.Vb(),L.Rb(19,"td",20),L.Vb(),L.Wb(20,"tr"),L.Wb(21,"td",19),L.Wb(22,"a",25),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc(2).onClickTicketNo(n)})),L.Pc(23),L.Vb(),L.Vb(),L.Wb(24,"td",20),L.Pc(25),L.ic(26,"number"),L.Vb(),L.Wb(27,"td",20),L.Pc(28),L.ic(29,"number"),L.Vb(),L.Wb(30,"td",20),L.Pc(31),L.ic(32,"number"),L.Vb(),L.Wb(33,"td",20),L.Pc(34),L.ic(35,"number"),L.Vb(),L.Nc(36,_B,3,3,"td",21),L.Wb(37,"td",20),L.Pc(38),L.ic(39,"number"),L.Vb(),L.Vb(),L.Nc(40,wB,19,16,"tr",8),L.Tb()}if(2&e){const e=t.$implicit,n=L.hc(2);L.Cb(2),L.Db("rowSpan",!0===n.isB2b?3:2),L.Cb(1),L.pc("binary",!0)("ngModel",e.checked),L.Cb(3),L.Tc("[",e.priceSeq,"]",e.nameEn," [",e.name,"]"),L.Cb(2),L.Qc(L.jc(9,21,e.ticketingNetAmount)),L.Cb(3),L.Qc(L.jc(12,23,e.salesNetAmount)),L.Cb(3),L.Qc(L.jc(15,25,e.salesTaxAmount)),L.Cb(2),L.Db("colSpan",!0===n.isB2b?2:1),L.Cb(1),L.Qc(L.jc(18,27,e.salesFuelAmount)),L.Cb(2),L.Db("colSpan",!0===n.isB2b?2:1),L.Cb(4),L.Qc(n.getTicketNo(e.tickets)),L.Cb(2),L.Qc(L.jc(26,29,e.salesAppliedValue)),L.Cb(3),L.Qc(L.jc(29,31,e.salesQAmount)),L.Cb(3),L.Qc(L.jc(32,33,e.salesOthersAmount)),L.Cb(3),L.Qc(L.jc(35,35,e.agencyCommAmount)),L.Cb(2),L.pc("ngIf",n.isB2b),L.Cb(1),L.Db("colSpan",!0===n.isB2b?2:1),L.Cb(1),L.Qc(L.jc(39,37,e.salesSumAmount)),L.Cb(2),L.pc("ngIf",!0===n.isB2b)}}function YB(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"div",14),L.Wb(2,"table"),L.Wb(3,"caption"),L.Pc(4," \uae30\ud0c0\uc694\uae08(DIR) "),L.Vb(),L.Wb(5,"colgroup"),L.Rb(6,"col",15),L.Rb(7,"col"),L.Rb(8,"col"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Vb(),L.Wb(13,"thead"),L.Wb(14,"tr"),L.Wb(15,"th",16),L.Wb(16,"app-checkbox",17),L.fc("onChange",(function(t){return L.Fc(e),L.hc().onCheckAll(t)})),L.Vb(),L.Vb(),L.Wb(17,"th",16),L.Pc(18,"Traveler"),L.Vb(),L.Wb(19,"th",16),L.Pc(20,"TKT NET"),L.Vb(),L.Wb(21,"th",16),L.Pc(22,"Selling NET"),L.Vb(),L.Wb(23,"th",16),L.Pc(24,"Tax"),L.Vb(),L.Wb(25,"th",16),L.Pc(26,"Fuel Charge"),L.Vb(),L.Rb(27,"th",16),L.Vb(),L.Wb(28,"tr"),L.Wb(29,"th",16),L.Pc(30,"TK No."),L.Vb(),L.Wb(31,"th",16),L.Pc(32,"Discount"),L.Vb(),L.Wb(33,"th",16),L.Pc(34,"Q-CHG"),L.Vb(),L.Wb(35,"th",16),L.Pc(36,"Others"),L.Vb(),L.Wb(37,"th",16),L.Pc(38,"\uc624\ub9c8\uc774\ud638\ud154P"),L.Vb(),L.Nc(39,DB,2,0,"th",18),L.Wb(40,"th",16),L.Pc(41,"Sum Amount"),L.Vb(),L.Vb(),L.Nc(42,LB,14,0,"tr",8),L.Vb(),L.Wb(43,"tbody"),L.Nc(44,xB,41,39,"ng-container",3),L.Vb(),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=L.hc();L.Cb(15),L.Db("rowSpan",!0===e.isB2b?3:2),L.Cb(1),L.pc("binary",!0)("ngModel",e.isAllChecked),L.Cb(9),L.Db("colSpan",!0===e.isB2b?2:1),L.Cb(2),L.Db("colSpan",!0===e.isB2b?2:1),L.Cb(12),L.pc("ngIf",e.isB2b),L.Cb(1),L.Db("colSpan",!0===e.isB2b?2:1),L.Cb(2),L.pc("ngIf",!0===e.isB2b),L.Cb(2),L.pc("ngForOf",e.priceInfoMap.BKF99)}}function HB(e,t){1&e&&(L.Ub(0),L.Wb(1,"div",14),L.Wb(2,"table"),L.Wb(3,"tbody"),L.Wb(4,"tr"),L.Wb(5,"td",19),L.Pc(6,"-"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Tb())}function qB(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-checkbox",26),L.fc("onChange",(function(t){return L.Fc(e),L.hc().onCheckTasfAgencyPlYn(t)})),L.Vb()}if(2&e){const e=L.hc();L.pc("ngModel",e.tasfAgencyPlYn)("binary",!0)}}let UB=(()=>{class e{constructor(e){this.alertService=e,this.clickAddFareEvent=new L.n,this.clickTravelerEvent=new L.n,this.clickTicketMappingEvent=new L.n,this.clickManualPaymentEvent=new L.n,this.clickTicketNo=new L.n,this.checkFareEvent=new L.n,this.deleteFareEvent=new L.n,this.checkTasfAgencyPlYnEvent=new L.n,this.currentFareTypeCode="BKF02",this.priceInfoMap={}}get priceInfo(){return this._priceInfo}set priceInfo(e){console.log(e,"val"),this._priceInfo=e,e&&(this.priceInfoMap=this._convertViewInfo(e),console.log(this.priceInfoMap,"this.priceInfoMap"),this.currentFareTypeCode=Q.isNil(this.currentFareTypeCode)||Q.isNil(this.priceInfoMap[this.currentFareTypeCode])?this.buttons[0]:this.currentFareTypeCode)}get buttons(){return this.priceInfoMap&&Object.keys(this.priceInfoMap)}get isAllChecked(){const e=this.priceInfoMap[this.currentFareTypeCode]||[],t=null==e?void 0:e.filter(e=>e.checked);return e.length>0&&t.length===e.length}get isB2b(){var e;return"STN04"===(null===(e=this.summary)||void 0===e?void 0:e.stationTypeCode)}get tasfAgencyPlYn(){return this.priceInfo.prices[0].tasfAgencyPlYn}ngOnInit(){}onClickFareType(e){this.currentFareTypeCode=e}onCheckAll(e){this.priceInfoMap[this.currentFareTypeCode]=this.priceInfoMap[this.currentFareTypeCode].map(t=>Object.assign(Object.assign({},t),{checked:e})),this.checkFareEvent.emit()}onChangeCheckbox(e,t){this.priceInfoMap[this.currentFareTypeCode]=this.priceInfoMap[this.currentFareTypeCode].map((n,i)=>i===t?Object.assign(Object.assign({},n),{checked:e}):Object.assign({},n))}onClickTraveler(e){this.clickTravelerEvent.emit(e)}onClickTicketNo(e){this.clickTicketNo.emit(e)}onClickTicketMapping(){const e=this._getChekcedFare();0!==e.length?e.length>1?this.alertService.alert("Please select one rate information."):this.clickTicketMappingEvent.emit(e):this.alertService.alert("Please select the fare information.")}onClickManualPayment(){const e=this._getChekcedFare();0!==e.length?e.length>1?this.alertService.alert("Please select one rate information."):this.clickManualPaymentEvent.emit(e[0]):this.alertService.alert("Please select the fare information.")}getTicketNo(e){var t,n;if(Q.isNil(e))return"";const i=e.filter(e=>"C"!==e.conjunctionTypeCode),o=i.filter(e=>"TST03"===e.ticketingStatusCode);return o.length>0?null===(t=o[0])||void 0===t?void 0:t.ticketNo:null===(n=i[0])||void 0===n?void 0:n.ticketNo}onClickDelete(){var e;const t=this._getChekcedFare();if(0===t.length)return void this.alertService.alert("Please select the fare information.");if(t.length>1)return void this.alertService.alert("Please select one rate information.");const n=t[0];(null===(e=null==n?void 0:n.tickets)||void 0===e?void 0:e.some(e=>e.ticketingDsrFinishYn))?this.alertService.alert("\ub9c8\uac10\ub41c \uc6b4\uc784\uc785\ub2c8\ub2e4."):this.deleteFareEvent.emit({bookingTravelerCode:n.bookingTravelerCode,paxFareSeq:n.priceSeq})}onCheckTasfAgencyPlYn(e){this.checkTasfAgencyPlYnEvent.emit(e)}_convertViewInfo(e){const{prices:t}=e;return Q.sortBy(t,["bookingFareTypeCode"]).reduce((e,t)=>{const{bookingFareTypeCode:n}=t;return e[n]?e[n].push(Object.assign(Object.assign({},t),{checked:!1})):e[n]=[Object.assign(Object.assign({},t),{checked:!1})],e},{})}_getChekcedFare(){return(this.priceInfoMap[this.currentFareTypeCode]||[]).filter(e=>e.checked)}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-price-detail-info"]],inputs:{summary:"summary",priceInfo:"priceInfo",ticketingDsrFinishYn:"ticketingDsrFinishYn"},outputs:{clickAddFareEvent:"clickAddFareEvent",clickTravelerEvent:"clickTravelerEvent",clickTicketMappingEvent:"clickTicketMappingEvent",clickManualPaymentEvent:"clickManualPaymentEvent",clickTicketNo:"clickTicketNo",checkFareEvent:"checkFareEvent",deleteFareEvent:"deleteFareEvent",checkTasfAgencyPlYnEvent:"checkTasfAgencyPlYnEvent"},decls:22,vars:8,consts:[[1,"page-item-header"],[1,"title"],[1,"tabs-nav","tabs-underline","mb10"],[4,"ngFor","ngForOf"],[1,"tabs-content","tabs-no-padding"],["role","tabpanel",1,"active"],[1,"buttons","d-flex","justify-content-end","mb10"],[1,"btn","btn-outline-dark","sm","mr5",3,"click"],[4,"ngIf"],[1,"mt10"],["class","mt10","label","TASF \uc9c1\uc815\uc0b0",3,"ngModel","binary","onChange",4,"ngIf"],[1,"nav-item"],["class","nav-link","role","tab",3,"active","click",4,"ngIf"],["role","tab",1,"nav-link",3,"click"],[1,"table","table-bordered","table-responsive"],["width","42px"],["scope","col",1,"align-c"],[3,"binary","ngModel","onChange"],["scope","col","class","align-c",4,"ngIf"],[1,"align-c"],[1,"align-r"],["class","align-r",4,"ngIf"],["scope","col","colspan","2",1,"align-c"],[1,"align-c",3,"click"],[1,"text-underline"],[1,"text-underline","color-blue",3,"click"],["label","TASF \uc9c1\uc815\uc0b0",1,"mt10",3,"ngModel","binary","onChange"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Price Detail"),L.Vb(),L.Vb(),L.Wb(3,"ul",2),L.Nc(4,lB,11,5,"ng-container",3),L.Vb(),L.Wb(5,"div",4),L.Wb(6,"div",5),L.Wb(7,"div",6),L.Wb(8,"a",7),L.fc("click",(function(){return t.onClickTicketMapping()})),L.Pc(9,"TK Mapping"),L.Vb(),L.Wb(10,"a",7),L.fc("click",(function(){return t.clickAddFareEvent.emit()})),L.Pc(11,"New"),L.Vb(),L.Wb(12,"a",7),L.fc("click",(function(){return t.onClickDelete()})),L.Pc(13,"Delete"),L.Vb(),L.Vb(),L.Nc(14,gB,44,8,"ng-container",8),L.Nc(15,IB,45,9,"ng-container",8),L.Nc(16,SB,46,10,"ng-container",8),L.Nc(17,MB,44,8,"ng-container",8),L.Nc(18,YB,45,9,"ng-container",8),L.Nc(19,HB,7,0,"ng-container",8),L.Wb(20,"div",9),L.Nc(21,qB,1,2,"app-checkbox",10),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(4),L.pc("ngForOf",t.buttons),L.Cb(10),L.pc("ngIf","BKF01"===t.currentFareTypeCode),L.Cb(1),L.pc("ngIf","BKF02"===t.currentFareTypeCode),L.Cb(1),L.pc("ngIf","BKF03"===t.currentFareTypeCode),L.Cb(1),L.pc("ngIf","BKF04"===t.currentFareTypeCode),L.Cb(1),L.pc("ngIf","BKF99"===t.currentFareTypeCode),L.Cb(1),L.pc("ngIf",!t.currentFareTypeCode),L.Cb(2),L.pc("ngIf",!0===t.isB2b))},directives:[k.n,k.o,Kt.a,I.r,I.u],pipes:[k.f],encapsulation:2,changeDetection:0}),e})();function QB(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",6),L.Pc(3),L.Vb(),L.Wb(4,"td",6),L.Pc(5),L.Vb(),L.Wb(6,"td",6),L.Pc(7),L.ic(8,"number"),L.Vb(),L.Wb(9,"td",6),L.Pc(10),L.ic(11,"number"),L.Vb(),L.Wb(12,"td",6),L.Pc(13),L.Vb(),L.Wb(14,"td",6),L.Pc(15),L.Vb(),L.Vb(),L.Tb()),2&e){const e=t.$implicit;L.Cb(3),L.Qc(e.feePenaltyTypeName),L.Cb(2),L.Sc("",e.nameEn,"[",e.paxFareSeq,"]"),L.Cb(2),L.Qc(L.jc(8,7,e.feePenaltyAmount)),L.Cb(3),L.Qc(L.jc(11,9,e.adjustAmount)),L.Cb(3),L.Qc(e.adjustDate),L.Cb(2),L.Qc(e.adjustReasonName)}}function GB(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",7),L.Pc(3,"-"),L.Vb(),L.Vb(),L.Tb())}let KB=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-price-detail-fee-waivers"]],inputs:{feeWaivers:"feeWaivers"},decls:31,vars:2,consts:[[1,"page-item-header"],[1,"title"],[1,"table","table-bordered","table-responsive"],["scope","col",1,"align-c"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"align-c"],["colspan","6",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Agency Penalty Waiver List"),L.Vb(),L.Vb(),L.Wb(3,"div",2),L.Wb(4,"table"),L.Wb(5,"caption"),L.Pc(6," Agency Penalty Waiver List "),L.Vb(),L.Wb(7,"colgroup"),L.Rb(8,"col"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Rb(13,"col"),L.Vb(),L.Wb(14,"thead"),L.Wb(15,"tr"),L.Wb(16,"th",3),L.Pc(17,"Type"),L.Vb(),L.Wb(18,"th",3),L.Pc(19,"Travelers"),L.Vb(),L.Wb(20,"th",3),L.Pc(21,"Selling"),L.Vb(),L.Wb(22,"th",3),L.Pc(23,"Waiver"),L.Vb(),L.Wb(24,"th",3),L.Pc(25,"Waiver Date"),L.Vb(),L.Wb(26,"th",3),L.Pc(27,"Waiver Reason"),L.Vb(),L.Vb(),L.Vb(),L.Wb(28,"tbody"),L.Nc(29,QB,16,11,"ng-container",4),L.Nc(30,GB,4,0,"ng-container",5),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(29),L.pc("ngForOf",t.feeWaivers),L.Cb(1),L.pc("ngIf",(null==t.feeWaivers?null:t.feeWaivers.length)<1))},directives:[k.n,k.o],pipes:[k.f],encapsulation:2,changeDetection:0}),e})(),zB=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-price-detail-affiliate-promotion"]],inputs:{promotion:"promotion"},decls:22,vars:2,consts:[[1,"page-item-header"],[1,"title"],[1,"table","table-bordered","table-responsive"],["scope","col",1,"align-c"],[1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"\uc81c\ud734\uc0ac \ud504\ub85c\ubaa8\uc158\uc815\ubcf4"),L.Vb(),L.Vb(),L.Wb(3,"div",2),L.Wb(4,"table"),L.Wb(5,"caption"),L.Pc(6," \uc81c\ud734\uc0ac \ud504\ub85c\ubaa8\uc158\uc815\ubcf4 "),L.Vb(),L.Wb(7,"colgroup"),L.Rb(8,"col"),L.Rb(9,"col"),L.Vb(),L.Wb(10,"thead"),L.Wb(11,"tr"),L.Wb(12,"th",3),L.Pc(13,"\ud504\ub85c\ubaa8\uc158 ID"),L.Vb(),L.Wb(14,"th",3),L.Pc(15,"\ud504\ub85c\ubaa8\uc158"),L.Vb(),L.Vb(),L.Vb(),L.Wb(16,"tbody"),L.Wb(17,"tr"),L.Wb(18,"td",4),L.Pc(19),L.Vb(),L.Wb(20,"td",4),L.Pc(21),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(19),L.Qc(null==t.promotion?null:t.promotion.affiliatePromotionCode),L.Cb(2),L.Qc(null==t.promotion?null:t.promotion.affiliatePromotionName))},encapsulation:2,changeDetection:0}),e})();function XB(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td"),L.Wb(3,"app-radio",12),L.fc("ngModelChange",(function(t){return L.Fc(e),L.hc().selectedIndex=t})),L.Vb(),L.Vb(),L.Wb(4,"td",13),L.Pc(5),L.Vb(),L.Wb(6,"td",14),L.Pc(7),L.ic(8,"number"),L.Vb(),L.Wb(9,"td",14),L.Pc(10),L.ic(11,"number"),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,n=t.index,i=L.hc();L.Cb(3),L.pc("ngModel",i.selectedIndex)("value",n),L.Cb(2),L.Qc(e.promotionCardName||"\uc77c\ubc18"),L.Cb(2),L.Qc(L.jc(8,5,null==e?null:e.salesAmountSum)),L.Cb(3),L.Qc(L.jc(11,7,null==e?null:e.differenceAmountSum))}}function ZB(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",15),L.Pc(3,"No promotion data."),L.Vb(),L.Vb(),L.Tb())}let JB=(()=>{class e{constructor(e){this.alertService=e,this.submitEvent=new L.n,this.closeEvent=new L.n}ngOnInit(){}ngOnDestroy(){}onSubmit(){if(Q.isNil(this.selectedIndex))return void this.alertService.alert("Select a promotion.");const e=this.promotionList[this.selectedIndex],{promotionSeq:t}=e;this.submitEvent.emit({promotionSeq:Q.isNil(t)?0:t})}onClose(){this.closeEvent.emit()}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-promotion-change-modal"]],inputs:{promotionList:"promotionList"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:28,vars:2,consts:[[1,"component-wrap"],[1,"table","table-bordered","table-responsive"],["width","5%"],["width","35%"],["width","30%"],["scope","col",1,"align-c"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngSubmit"],[1,"button-area","align-r","mt5"],["type","submit",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm",3,"click"],["styleClass","only",3,"ngModel","value","ngModelChange"],[1,"align-c"],[1,"align-r"],["colspan","4",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"table"),L.Wb(3,"caption"),L.Pc(4," Change Promotion "),L.Vb(),L.Wb(5,"colgroup"),L.Rb(6,"col",2),L.Rb(7,"col",3),L.Rb(8,"col",4),L.Rb(9,"col",4),L.Vb(),L.Wb(10,"thead"),L.Wb(11,"tr"),L.Rb(12,"th"),L.Wb(13,"th",5),L.Pc(14,"Promotion Card"),L.Vb(),L.Wb(15,"th",5),L.Pc(16,"Sales Sum Amts"),L.Vb(),L.Wb(17,"th",5),L.Pc(18,"Differ."),L.Vb(),L.Vb(),L.Vb(),L.Wb(19,"tbody"),L.Nc(20,XB,12,9,"ng-container",6),L.Nc(21,ZB,4,0,"ng-container",7),L.Vb(),L.Vb(),L.Vb(),L.Wb(22,"form",8),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(23,"div",9),L.Wb(24,"button",10),L.Pc(25,"Save"),L.Vb(),L.Wb(26,"button",11),L.fc("click",(function(){return t.onClose()})),L.Pc(27,"Cancel"),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(20),L.pc("ngForOf",t.promotionList),L.Cb(1),L.pc("ngIf",t.promotionList.length<1))},directives:[k.n,k.o,I.B,I.s,I.t,cS.a,I.r,I.u],pipes:[k.f],encapsulation:2,changeDetection:0}),e})();function ew(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"th",4),L.Pc(3,"\uc120\ucef4/\ud6c4\ucef4"),L.Vb(),L.Wb(4,"td"),L.Wb(5,"div",20),L.Rb(6,"app-radio",21),L.Rb(7,"app-radio",22),L.Vb(),L.Vb(),L.Vb(),L.Wb(8,"tr"),L.Wb(9,"th",4),L.Pc(10,"\ucee4\ubbf8\uc158(\ud310) % / \uae08\uc561 / VAT"),L.Vb(),L.Wb(11,"td"),L.Wb(12,"div",20),L.Rb(13,"app-input-text",23),L.Wb(14,"span",24),L.Pc(15,"%"),L.Vb(),L.Wb(16,"span",24),L.Pc(17,"/"),L.Vb(),L.Rb(18,"app-input-text",25),L.Wb(19,"span",24),L.Pc(20,"/"),L.Vb(),L.Rb(21,"app-input-text",26),L.Vb(),L.Vb(),L.Vb(),L.Tb()),2&e){const e=L.hc();L.Cb(6),L.pc("value",!1),L.Cb(1),L.pc("value",!0),L.Cb(6),L.pc("isInvalid",e.checkIsInvalid("agencyCommRate")),L.Cb(5),L.pc("isInvalid",e.checkIsInvalid("agencyCommAmount")),L.Cb(3),L.pc("isInvalid",e.checkIsInvalid("agencyCommVat"))}}function tw(e,t){1&e&&(L.Wb(0,"button",27),L.Pc(1,"Save"),L.Vb())}let nw=(()=>{class e{constructor(e){this._dataService=e,this.submitEvent=new L.n,this.closeEvent=new L.n,this._unsubscribe$=new Fe.a,this.putForm=e.generateFlightFarePutForm(),this._initSubscription()}get stationTypeCode(){return this._stationTypeCode}set stationTypeCode(e){this._stationTypeCode=e,this.isB2b&&this.putForm.get("salesTasfAmount").enable()}get priceInfo(){return this._priceInfo}set priceInfo(e){var t,n,i;this._priceInfo=e,this.putFormData=this._setFormData(e),this.originSalesTasfAmount=((null==e?void 0:e.salesTasfAmount)||0)+((null==e?void 0:e.adjustAmount)||0),Q.isNil(null==e?void 0:e.bookingTravelerCode)?(null===(n=this.putForm)||void 0===n||n.get("bookingTravelerCode").enable(),null===(i=this.putForm)||void 0===i||i.get("salesTasfAmount").enable()):(null===(t=this.putForm)||void 0===t||t.get("bookingTravelerCode").disable(),this.ticketingDsrFinishYn=!Q.isNil(e.tickets)&&e.tickets.some(e=>e.ticketingDsrFinishYn))}get isB2b(){return"STN04"===this.stationTypeCode}ngOnInit(){}ngOnDestroy(){}onClose(){this.closeEvent.emit()}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}onSubmit(){if(this.putForm.invalid)return void(this.checkValid=!0);const e=this._setPutCondition();this.submitEvent.emit(e)}_setFormData(e){const t=this._dataService.initFlightFarePutForm();if(Q.isNil(e))return t;const n=e.salesAppliedValue||0,i=e.salesTasfAmount||0,o=e.adjustAmount||0,a=e.airlineCommAmount||0;return Object.assign({},t,Q.pick(e,Object.keys(t)),{salesAppliedValue:n,salesTasfAmount:i,adjustAmount:o,airlineCommAmount:a})}_setPutCondition(){var e;const t=this._dataService.initFlightFarePutCondition(),n=this.putForm.getRawValue(),i=null===(e=this.priceInfo)||void 0===e?void 0:e.priceSeq,{salesSumAmount:o}=n,a=o,c=o;return Object.assign({},Q.pick(n,Object.keys(t)),{priceSeq:i,b2bBillingAmount:0,iataFareAmount:a,mspFareAmount:c})}_initSubscription(){const e=[this.putForm.get("salesNetAmount").valueChanges,this.putForm.get("salesQAmount").valueChanges,this.putForm.get("salesTasfAmount").valueChanges,this.putForm.get("agencyTasfAmount").valueChanges,this.putForm.get("salesTaxAmount").valueChanges,this.putForm.get("salesFuelAmount").valueChanges,this.putForm.get("salesOthersAmount").valueChanges,this.putForm.get("agencyUpAmount").valueChanges,this.putForm.get("agencyCommAmount").valueChanges,this.putForm.get("agencyCommVat").valueChanges,this.putForm.get("tasfAgencyPlYn").valueChanges,this.putForm.get("agencyPostCommYn").valueChanges];Object(NA.a)(e).pipe(Object(Ci.a)(this._unsubscribe$)).subscribe(([e,t,n,i,o,a,c,s,r,l,d,b])=>{let u=e+t+n+o+a+c+s;d||(u+=i),b||(u-=r+l),this.putForm.get("salesSumAmount").setValue(u)}),this.putForm.get("adjustAmount").valueChanges.pipe(Object(Ci.a)(this._unsubscribe$)).subscribe(e=>{Q.isNil(!this.priceInfo)||this.putForm.get("salesTasfAmount").setValue(this.originSalesTasfAmount-(e||0))})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-add-fare-modal"]],inputs:{bookingTravelerList:"bookingTravelerList",bookingFareTypeList:"bookingFareTypeList",adjustReasonList:"adjustReasonList",bookingFareTypeCode:"bookingFareTypeCode",stationTypeCode:"stationTypeCode",priceInfo:"priceInfo"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:70,vars:17,consts:[[1,"component-wrap"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","150px"],["scope","row",1,"th-bg"],["formControlName","bookingTravelerCode","dataKey","bookingTravelerCode","displayKey","name","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","bookingFareTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn",3,"options","isInvalid"],["formControlName","ticketingNetAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","salesAppliedValue","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","salesNetAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","salesQAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","salesTaxAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","salesOthersAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","salesFuelAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","salesTasfAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","salesSumAmount","valueType","number","inputFormat","number",3,"isInvalid"],[4,"ngIf"],[1,"button-area","align-r","mt5"],["type","submit","class","btn btn-secondary sm",4,"ngIf"],["type","button",1,"btn","btn-light","sm",3,"click"],[1,"form-group"],["formControlName","agencyPostCommYn","name","agencyPostCommYn","label","\uc120\ucef4",3,"value"],["formControlName","agencyPostCommYn","name","agencyPostCommYn","label","\ud6c4\ucef4",3,"value"],["formControlName","agencyCommRate","valueType","number","inputFormat","number",3,"isInvalid"],[1,"dash"],["formControlName","agencyCommAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","agencyCommVat","valueType","number","inputFormat","number",3,"isInvalid"],["type","submit",1,"btn","btn-secondary","sm"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"form",1),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(2,"div",2),L.Wb(3,"table"),L.Wb(4,"caption"),L.Pc(5," Sales Fee Details - Add Charges "),L.Vb(),L.Wb(6,"colgroup"),L.Rb(7,"col",3),L.Rb(8,"col"),L.Vb(),L.Wb(9,"tbody"),L.Wb(10,"tr"),L.Wb(11,"th",4),L.Pc(12,"Traveler"),L.Vb(),L.Wb(13,"td"),L.Rb(14,"app-selectbox",5),L.Vb(),L.Vb(),L.Wb(15,"tr"),L.Wb(16,"th",4),L.Pc(17,"Booking Fare Type"),L.Vb(),L.Wb(18,"td"),L.Rb(19,"app-selectbox",6),L.Vb(),L.Vb(),L.Wb(20,"tr"),L.Wb(21,"th",4),L.Pc(22,"Ticketing NET"),L.Vb(),L.Wb(23,"td"),L.Rb(24,"app-input-text",7),L.Vb(),L.Vb(),L.Wb(25,"tr"),L.Wb(26,"th",4),L.Pc(27,"Discount"),L.Vb(),L.Wb(28,"td"),L.Rb(29,"app-input-text",8),L.Vb(),L.Vb(),L.Wb(30,"tr"),L.Wb(31,"th",4),L.Pc(32,"Selling NET"),L.Vb(),L.Wb(33,"td"),L.Rb(34,"app-input-text",9),L.Vb(),L.Vb(),L.Wb(35,"tr"),L.Wb(36,"th",4),L.Pc(37,"Q-CHG"),L.Vb(),L.Wb(38,"td"),L.Rb(39,"app-input-text",10),L.Vb(),L.Vb(),L.Wb(40,"tr"),L.Wb(41,"th",4),L.Pc(42,"Tax"),L.Vb(),L.Wb(43,"td"),L.Rb(44,"app-input-text",11),L.Vb(),L.Vb(),L.Wb(45,"tr"),L.Wb(46,"th",4),L.Pc(47,"Others"),L.Vb(),L.Wb(48,"td"),L.Rb(49,"app-input-text",12),L.Vb(),L.Vb(),L.Wb(50,"tr"),L.Wb(51,"th",4),L.Pc(52,"Fuel Charge"),L.Vb(),L.Wb(53,"td"),L.Rb(54,"app-input-text",13),L.Vb(),L.Vb(),L.Wb(55,"tr"),L.Wb(56,"th",4),L.Pc(57,"TASF"),L.Vb(),L.Wb(58,"td"),L.Rb(59,"app-input-text",14),L.Vb(),L.Vb(),L.Wb(60,"tr"),L.Wb(61,"th",4),L.Pc(62,"Sum Amounts"),L.Vb(),L.Wb(63,"td"),L.Rb(64,"app-input-text",15),L.Vb(),L.Vb(),L.Nc(65,ew,22,5,"ng-container",16),L.Vb(),L.Vb(),L.Vb(),L.Wb(66,"div",17),L.Nc(67,tw,2,0,"button",18),L.Wb(68,"button",19),L.fc("click",(function(){return t.onClose()})),L.Pc(69,"Close"),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(13),L.pc("options",t.bookingTravelerList)("isInvalid",t.checkIsInvalid("bookingTravelerCode")),L.Cb(5),L.pc("options",t.bookingFareTypeList)("isInvalid",t.checkIsInvalid("bookingTravelerCode")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("ticketingNetAmount")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("salesAppliedValue")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("salesNetAmount")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("salesQAmount")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("salesTaxAmount")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("salesOthersAmount")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("salesFuelAmount")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("salesTasfAmount")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("salesSumAmount")),L.Cb(1),L.pc("ngIf",t.isB2b),L.Cb(2),L.pc("ngIf",!t.ticketingDsrFinishYn))},directives:[I.B,I.s,I.k,J.a,Se.a,I.r,I.i,ee.a,k.o,cS.a],encapsulation:2,changeDetection:0}),e})();function iw(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"C"),L.Vb())}function ow(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td"),L.Wb(3,"app-radio",11),L.fc("ngModelChange",(function(t){return L.Fc(e),L.hc().selectedTicketNo=t})),L.Vb(),L.Vb(),L.Wb(4,"td",12),L.Pc(5),L.Vb(),L.Wb(6,"td",12),L.Pc(7),L.Vb(),L.Wb(8,"td",12),L.Nc(9,iw,2,0,"span",9),L.Vb(),L.Wb(10,"td",12),L.Pc(11),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,n=L.hc();L.Cb(3),L.pc("value",e.ticketNo)("ngModel",n.selectedTicketNo),L.Cb(2),L.Qc(e.airlineNumberCode),L.Cb(2),L.Qc(e.ticketNo),L.Cb(2),L.pc("ngIf","C"===e.conjunctionTypeCode),L.Cb(2),L.Qc(e.ticketingStatusName)}}function aw(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",13),L.Pc(3,"There is no ticket."),L.Vb(),L.Vb(),L.Tb())}let cw=(()=>{class e{constructor(e){this.alertService=e,this.submitEvent=new L.n,this.closeEvent=new L.n}get tickets(){var e,t;return(null===(t=null===(e=this.ticketInfo)||void 0===e?void 0:e.tickets)||void 0===t?void 0:t.filter(e=>Q.isNil(e.paxFareSeq)))||[]}ngOnInit(){}ngOnDestroy(){}onSubmit(){if(!this.selectedTicketNo)return void this.alertService.alert("Select the tickets you want to map.");const{ticketingDate:e,ticketNo:t}=Q.find(this.tickets,e=>e.ticketNo===this.selectedTicketNo),{bookingTravelerCode:n,priceSeq:i}=this.priceInfo;this.submitEvent.emit({ticketingDate:e,ticketNo:t,bookingTravelerCode:n,priceSeq:i})}onClose(){this.closeEvent.emit()}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-ticket-mapping-modal"]],inputs:{priceInfo:"priceInfo",ticketInfo:"ticketInfo"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:32,vars:2,consts:[[1,"component-wrap"],[1,"d-flex","align-items-center","justify-content-between","mb10"],[1,"ml-auto",3,"ngSubmit"],[1,"button-area"],["type","submit",1,"btn","btn-secondary","sm"],[1,"table","table-bordered","table-responsive"],["width","43px"],["scope","col",1,"align-c"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"color-danger","align-self-end","font-size-sm"],[3,"value","ngModel","ngModelChange"],[1,"align-c"],["colspan","5",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"form",2),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(3,"div",3),L.Wb(4,"button",4),L.Pc(5,"Save"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(6,"div",5),L.Wb(7,"table"),L.Wb(8,"caption"),L.Pc(9," Mapping Tickets "),L.Vb(),L.Wb(10,"colgroup"),L.Rb(11,"col",6),L.Rb(12,"col"),L.Rb(13,"col"),L.Rb(14,"col"),L.Rb(15,"col"),L.Vb(),L.Wb(16,"thead"),L.Wb(17,"tr"),L.Rb(18,"th"),L.Wb(19,"th",7),L.Pc(20,"Airline"),L.Vb(),L.Wb(21,"th",7),L.Pc(22,"Ticket No."),L.Vb(),L.Wb(23,"th",7),L.Pc(24,"CONJ"),L.Vb(),L.Wb(25,"th",7),L.Pc(26,"Ticket Status"),L.Vb(),L.Vb(),L.Vb(),L.Wb(27,"tbody"),L.Nc(28,ow,12,6,"ng-container",8),L.Nc(29,aw,4,0,"ng-container",9),L.Vb(),L.Vb(),L.Vb(),L.Wb(30,"div",10),L.Pc(31,"\u203b Map the ticket number to the selected person in the list of fares and to the fare."),L.Vb(),L.Vb()),2&e&&(L.Cb(28),L.pc("ngForOf",t.tickets),L.Cb(1),L.pc("ngIf",t.tickets.length<1))},directives:[I.B,I.s,I.t,k.n,k.o,cS.a,I.r,I.u],encapsulation:2,changeDetection:0}),e})();function sw(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"C"),L.Vb())}function rw(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td"),L.Wb(3,"app-radio",9),L.fc("ngModelChange",(function(t){return L.Fc(e),L.hc().selectedTicketNo=t})),L.Vb(),L.Vb(),L.Wb(4,"td",10),L.Pc(5),L.Vb(),L.Wb(6,"td",10),L.Pc(7),L.Vb(),L.Wb(8,"td",10),L.Nc(9,sw,2,0,"span",8),L.Vb(),L.Wb(10,"td",10),L.Pc(11),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,n=L.hc();L.Cb(3),L.pc("value",e.ticketNo)("ngModel",n.selectedTicketNo),L.Cb(2),L.Qc(e.airlineNumberCode),L.Cb(2),L.Qc(e.ticketNo),L.Cb(2),L.pc("ngIf","C"===e.conjunctionTypeCode),L.Cb(2),L.Qc(e.ticketingStatusName)}}function lw(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",11),L.Pc(3,"No ticket information is available."),L.Vb(),L.Vb(),L.Tb())}let dw=(()=>{class e{constructor(e){this.alertService=e,this.submitEvent=new L.n,this.closeEvent=new L.n}get tickets(){var e;return(null===(e=this.priceInfo)||void 0===e?void 0:e.tickets)||[]}ngOnInit(){}ngOnDestroy(){}onSubmit(){if(!this.selectedTicketNo)return void this.alertService.alert("Please select the tickets you want to unmap.");const e=Q.find(this.tickets,e=>e.ticketNo===this.selectedTicketNo),{ticketingDate:t,ticketNo:n,ticketingDsrFinishYn:i}=e;if(i)return void this.alertService.alert("Cannot be mapped to a closed ticket.");const{bookingTravelerCode:o}=this.priceInfo;this.submitEvent.emit({ticketingDate:t,ticketNo:n,bookingTravelerCode:o,priceSeq:null})}onClose(){this.closeEvent.emit()}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-ticket-mapping-delete-modal"]],inputs:{priceInfo:"priceInfo"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:29,vars:2,consts:[[1,"component-wrap"],[3,"ngSubmit"],[1,"button-area","align-r","mb5"],["type","submit",1,"btn","btn-secondary","sm"],[1,"table","table-bordered","table-responsive"],["width","43px"],["scope","col",1,"align-c"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value","ngModel","ngModelChange"],[1,"align-c"],["colspan","6",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"form",1),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(2,"div",2),L.Wb(3,"button",3),L.Pc(4,"Remove"),L.Vb(),L.Vb(),L.Vb(),L.Wb(5,"div",4),L.Wb(6,"table"),L.Wb(7,"caption"),L.Pc(8," \ud2f0\ucf13\ubc88\ud638 \ub9e4\ud551 \ud574\uc81c "),L.Vb(),L.Wb(9,"colgroup"),L.Rb(10,"col",5),L.Rb(11,"col"),L.Rb(12,"col"),L.Rb(13,"col"),L.Rb(14,"col"),L.Vb(),L.Wb(15,"thead"),L.Wb(16,"tr"),L.Rb(17,"th"),L.Wb(18,"th",6),L.Pc(19,"Airline"),L.Vb(),L.Wb(20,"th",6),L.Pc(21,"Ticket No."),L.Vb(),L.Wb(22,"th",6),L.Pc(23,"CONJ"),L.Vb(),L.Wb(24,"th",6),L.Pc(25,"Ticket Status"),L.Vb(),L.Vb(),L.Vb(),L.Wb(26,"tbody"),L.Nc(27,rw,12,6,"ng-container",7),L.Nc(28,lw,4,0,"ng-container",8),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(27),L.pc("ngForOf",t.tickets),L.Cb(1),L.pc("ngIf",t.tickets.length<1))},directives:[I.B,I.s,I.t,k.n,k.o,cS.a,I.r,I.u],encapsulation:2,changeDetection:0}),e})();const bw=function(){return{userTypeCode:"U01"}},uw=function(){return["userNo","name","deptName","positionName"]};let pw=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.closeEvent=new L.n,this.submitEvent=new L.n,this._unsubscribe$=new Fe.a,this.putForm=e.generatePaymentManualPutForm(),this.putFormData=e.initPaymentManualPutForm()}get bankMasterList(){return"CCCC"===this.putForm.get("depositTypeCode").value?this.paymentBankMasterList:[]}ngOnInit(){this._initState(),this._initSubscription()}ngOnDestroy(){this._unsubscribe$.next(),this._unsubscribe$.complete()}onClose(){this.closeEvent.emit()}onSubmit(){if(this.putForm.invalid)return void(this.checkValid=!0);const e=this._setPutCondition();this.submitEvent.emit(e)}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}_setPutCondition(){const e=this._dataService.initPaymentManualPutCondition(),t=this.putForm.value;let n=void 0,i=void 0,o=void 0,a=void 0;const{depositTypeCode:c,cardValidPeriodYear:s,cardValidPeriodMonth:r}=t;if("CCCC"===c){const i=`${s}/${r}`;n=Object.assign({},Q.pick(t,Object.keys(e.card)),{cardValidPeriod:i})}else"CCGF"===c&&(i=Object.assign({},Q.pick(t,Object.keys(e.other))));return Q.isNil(this.priceInfo)||(o=this.priceInfo.priceSeq),Q.isNil(this.chargeInfo)||(a=this.chargeInfo.chargeSeq),Object.assign({},Q.pick(t,Object.keys(e)),{card:n,other:i,paxFareSeq:o,chargeSeq:a,bookingItemCode:this.bookingItemCode,bookingTravelerCode:this.bookingTravelerCode})}_initState(){this.cardQuotaMonthList=[{value:"00",label:"\uc77c\uc2dc\ubd88"}];for(let e=1;e<25;e++){const t=Q.padStart(String(e),2,"0");this.cardQuotaMonthList.push({value:t,label:t})}}_initSubscription(){this.putForm.get("depositTypeCode").valueChanges.pipe(Object(Ci.a)(this._unsubscribe$)).subscribe(e=>{this.checkValid=!1,Q.isNil(e)||"CCCA"===e||"CCRP"===e?(this.putForm.get("cardNo").disable(),this.putForm.get("cardHolderName").disable(),this.putForm.get("cardValidPeriodYear").disable(),this.putForm.get("cardValidPeriodMonth").disable(),this.putForm.get("cardQuotaMonth").disable(),this.putForm.get("cardApprovalNo").disable(),this.putForm.get("paymentRelatedNo").disable(),this.putForm.get("giftCardTypeCode").disable(),this.putForm.get("giftCardExpireDate").disable(),this.putForm.get("cardMasterCode").clearValidators(),this.putForm.get("cardNo").clearValidators(),this.putForm.get("cardValidPeriodYear").clearValidators(),this.putForm.get("cardValidPeriodMonth").clearValidators(),this.putForm.get("cardQuotaMonth").clearValidators(),this.putForm.get("cardApprovalNo").clearValidators(),this.putForm.get("giftCardTypeCode").clearValidators(),this.putForm.get("giftCardExpireDate").clearValidators(),this.putForm.get("paymentRelatedNo").clearValidators(),this.putForm.get("cardNo").setValue(null),this.putForm.get("cardHolderName").setValue(null),this.putForm.get("cardValidPeriodYear").setValue(null),this.putForm.get("cardValidPeriodMonth").setValue(null),this.putForm.get("cardQuotaMonth").setValue(null),this.putForm.get("cardApprovalNo").setValue(null),this.putForm.get("paymentRelatedNo").setValue(null),this.putForm.get("giftCardTypeCode").setValue(null),this.putForm.get("giftCardExpireDate").setValue(null),this.putForm.get("cardMasterCode").updateValueAndValidity(),this.putForm.get("cardNo").updateValueAndValidity(),this.putForm.get("cardValidPeriodYear").updateValueAndValidity(),this.putForm.get("cardValidPeriodMonth").updateValueAndValidity(),this.putForm.get("cardQuotaMonth").updateValueAndValidity(),this.putForm.get("cardApprovalNo").updateValueAndValidity(),this.putForm.get("giftCardTypeCode").updateValueAndValidity(),this.putForm.get("giftCardExpireDate").updateValueAndValidity(),this.putForm.get("paymentRelatedNo").updateValueAndValidity(),this.putForm.updateValueAndValidity()):"CCCC"===e?(this.putForm.get("cardNo").enable(),this.putForm.get("cardHolderName").enable(),this.putForm.get("cardValidPeriodYear").enable(),this.putForm.get("cardValidPeriodMonth").enable(),this.putForm.get("cardQuotaMonth").enable(),this.putForm.get("cardApprovalNo").enable(),this.putForm.get("paymentRelatedNo").disable(),this.putForm.get("giftCardTypeCode").disable(),this.putForm.get("giftCardExpireDate").disable(),this.putForm.get("cardMasterCode").setValidators([I.z.required]),this.putForm.get("cardNo").setValidators([I.z.required]),this.putForm.get("cardValidPeriodYear").setValidators([I.z.required]),this.putForm.get("cardValidPeriodMonth").setValidators([I.z.required]),this.putForm.get("cardQuotaMonth").setValidators([I.z.required]),this.putForm.get("cardApprovalNo").setValidators([I.z.required]),this.putForm.get("giftCardTypeCode").clearValidators(),this.putForm.get("giftCardExpireDate").clearValidators(),this.putForm.get("paymentRelatedNo").clearValidators(),this.putForm.get("giftCardTypeCode").setValue(null),this.putForm.get("giftCardExpireDate").setValue(null),this.putForm.get("paymentRelatedNo").setValue(null),this.putForm.get("cardMasterCode").updateValueAndValidity(),this.putForm.get("cardNo").updateValueAndValidity(),this.putForm.get("cardValidPeriodYear").updateValueAndValidity(),this.putForm.get("cardValidPeriodMonth").updateValueAndValidity(),this.putForm.get("cardQuotaMonth").updateValueAndValidity(),this.putForm.get("cardApprovalNo").updateValueAndValidity(),this.putForm.get("giftCardTypeCode").updateValueAndValidity(),this.putForm.get("giftCardExpireDate").updateValueAndValidity(),this.putForm.get("paymentRelatedNo").updateValueAndValidity()):"CCGF"===e&&(this.putForm.get("cardNo").disable(),this.putForm.get("cardHolderName").disable(),this.putForm.get("cardValidPeriodYear").disable(),this.putForm.get("cardValidPeriodMonth").disable(),this.putForm.get("cardQuotaMonth").disable(),this.putForm.get("cardApprovalNo").disable(),this.putForm.get("paymentRelatedNo").enable(),this.putForm.get("giftCardTypeCode").enable(),this.putForm.get("giftCardExpireDate").enable(),this.putForm.get("giftCardTypeCode").setValidators([I.z.required]),this.putForm.get("giftCardExpireDate").setValidators([I.z.required]),this.putForm.get("paymentRelatedNo").setValidators([I.z.required]),this.putForm.get("cardMasterCode").clearValidators(),this.putForm.get("cardNo").clearValidators(),this.putForm.get("cardValidPeriodYear").clearValidators(),this.putForm.get("cardValidPeriodMonth").clearValidators(),this.putForm.get("cardQuotaMonth").clearValidators(),this.putForm.get("cardApprovalNo").clearValidators(),this.putForm.get("cardMasterCode").setValue(null),this.putForm.get("cardNo").setValue(null),this.putForm.get("cardValidPeriodYear").setValue(null),this.putForm.get("cardValidPeriodMonth").setValue(null),this.putForm.get("cardQuotaMonth").setValue(null),this.putForm.get("cardApprovalNo").setValue(null),this.putForm.get("cardMasterCode").updateValueAndValidity(),this.putForm.get("cardNo").updateValueAndValidity(),this.putForm.get("cardValidPeriodYear").updateValueAndValidity(),this.putForm.get("cardValidPeriodMonth").updateValueAndValidity(),this.putForm.get("cardQuotaMonth").updateValueAndValidity(),this.putForm.get("cardApprovalNo").updateValueAndValidity(),this.putForm.get("giftCardTypeCode").updateValueAndValidity(),this.putForm.get("giftCardExpireDate").updateValueAndValidity(),this.putForm.get("paymentRelatedNo").updateValueAndValidity())})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-payment-manual-modal"]],inputs:{priceInfo:"priceInfo",chargeInfo:"chargeInfo",bookingItemCode:"bookingItemCode",bookingTravelerCode:"bookingTravelerCode",paymentDetailTypeList:"paymentDetailTypeList",depositTypeList:"depositTypeList",paymentBankMasterList:"paymentBankMasterList",giftCardTypeList:"giftCardTypeList"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent"},decls:89,vars:31,consts:[[1,"component-wrap"],[1,"button-area","align-r","mb5"],["type","submit",1,"btn","btn-secondary","sm",3,"click"],[3,"formGroup","connectForm"],[1,"table","table-bordered"],["width","20%"],["width","30%"],["scope","row",1,"th-bg"],["formControlName","paymentDetailTypeCode","displayKey","detailCodeNameEn","dataKey","detailCode",3,"options","isInvalid"],["formControlName","depositTypeCode","displayKey","detailCodeNameEn","dataKey","detailCode",3,"options","isInvalid"],["formControlName","cardMasterCode","displayKey","detailCodeNameEn","dataKey","detailCode",3,"options","isInvalid"],["formControlName","paidAmount","valueType","number","inputFormat","currency",3,"isInvalid"],["formControlName","paidDate","inputFormat","date",3,"isInvalid"],["formControlName","clientName",3,"isInvalid"],["formControlName","confirmUno","apiUrl","admin/common/staff","dataKey","userNo","inputFieldFormat","{0}-{1}&,{2}&,{3}","placeholder","\uc774\ub984 \uac80\uc0c9",1,"d-inline-flex","flex-fill",3,"apiCondition","apiSearchTerm","inputFieldFormatKeyList","inputFieldValue","inputId","isInvalid"],["formControlName","cardNo","placeholder","- \uc5c6\uc774 \uc785\ub825",3,"isInvalid"],["formControlName","cardHolderName","inputFormat","uppserCaseEnOnly",3,"isInvalid"],[1,"form-group"],["formControlName","cardValidPeriodYear","placeholder","YYYY",3,"isInvalid"],["formControlName","cardValidPeriodMonth","placeholder","MM",3,"isInvalid"],["formControlName","cardQuotaMonth",3,"options","isInvalid"],["formControlName","cardApprovalNo",3,"isInvalid"],["formControlName","paymentRelatedNo",3,"isInvalid"],["formControlName","giftCardTypeCode","displayKey","detailCodeNameEn","dataKey","detailCode",3,"options","isInvalid"],["formControlName","giftCardExpireDate","inputFormat","date","placeholder","YYYY-MM-DD",3,"isInvalid"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"button",2),L.fc("click",(function(){return t.onSubmit()})),L.Pc(3,"\uc800\uc7a5"),L.Vb(),L.Vb(),L.Wb(4,"form",3),L.Wb(5,"div",4),L.Wb(6,"table"),L.Wb(7,"caption"),L.Pc(8," \uacb0\uc81c \uc218\ub3d9 \ub4f1\ub85d "),L.Vb(),L.Wb(9,"colgroup"),L.Rb(10,"col",5),L.Rb(11,"col",6),L.Rb(12,"col",5),L.Rb(13,"col",6),L.Vb(),L.Wb(14,"tbody"),L.Wb(15,"tr"),L.Wb(16,"th",7),L.Pc(17,"\uc608\uc57d\ucf54\ub4dc"),L.Vb(),L.Wb(18,"td"),L.Pc(19),L.Vb(),L.Wb(20,"th",7),L.Pc(21,"\uc804\uc1a1\uad6c\ubd84"),L.Vb(),L.Wb(22,"td"),L.Rb(23,"app-selectbox",8),L.Vb(),L.Vb(),L.Wb(24,"tr"),L.Wb(25,"th",7),L.Pc(26,"\uc785\uae08\uad6c\ubd84"),L.Vb(),L.Wb(27,"td"),L.Rb(28,"app-selectbox",9),L.Vb(),L.Wb(29,"th",7),L.Pc(30,"\uc138\ubd80\uad6c\ubd84"),L.Vb(),L.Wb(31,"td"),L.Rb(32,"app-selectbox",10),L.Vb(),L.Vb(),L.Wb(33,"tr"),L.Wb(34,"th",7),L.Pc(35,"\uc785\uae08\uc561"),L.Vb(),L.Wb(36,"td"),L.Rb(37,"app-input-text",11),L.Vb(),L.Wb(38,"th",7),L.Pc(39,"\uc785\uae08\uc77c\uc790"),L.Vb(),L.Wb(40,"td"),L.Rb(41,"app-input-text",12),L.Vb(),L.Vb(),L.Wb(42,"tr"),L.Wb(43,"th",7),L.Pc(44,"\uc785\uae08\uace0\uac1d"),L.Vb(),L.Wb(45,"td"),L.Rb(46,"app-input-text",13),L.Vb(),L.Wb(47,"th",7),L.Pc(48,"\uc785\uae08\uc0ac\uc6d0"),L.Vb(),L.Wb(49,"td"),L.Rb(50,"app-auto-complete",14),L.Vb(),L.Vb(),L.Wb(51,"tr"),L.Wb(52,"th",7),L.Pc(53,"\uce74\ub4dc\ubc88\ud638"),L.Vb(),L.Wb(54,"td"),L.Rb(55,"app-input-text",15),L.Vb(),L.Wb(56,"th",7),L.Pc(57,"\uce74\ub4dc\uc18c\uc720\uc790\uba85"),L.Vb(),L.Wb(58,"td"),L.Rb(59,"app-input-text",16),L.Vb(),L.Vb(),L.Wb(60,"tr"),L.Wb(61,"th",7),L.Pc(62,"\uce74\ub4dc \uc720\ud6a8\uae30\uac04"),L.Vb(),L.Wb(63,"td"),L.Wb(64,"div",17),L.Rb(65,"app-input-text",18),L.Rb(66,"app-input-text",19),L.Vb(),L.Vb(),L.Wb(67,"th",7),L.Pc(68,"\ud560\ubd80"),L.Vb(),L.Wb(69,"td"),L.Rb(70,"app-selectbox",20),L.Vb(),L.Vb(),L.Wb(71,"tr"),L.Wb(72,"th",7),L.Pc(73,"\uce74\ub4dc\uc2b9\uc778\ubc88\ud638"),L.Vb(),L.Wb(74,"td"),L.Rb(75,"app-input-text",21),L.Vb(),L.Wb(76,"th",7),L.Pc(77,"\uc0c1\ud488\uad8c\ubc88\ud638"),L.Vb(),L.Wb(78,"td"),L.Rb(79,"app-input-text",22),L.Vb(),L.Vb(),L.Wb(80,"tr"),L.Wb(81,"th",7),L.Pc(82,"\uc0c1\ud488\uad8c\uad6c\ubd84"),L.Vb(),L.Wb(83,"td"),L.Rb(84,"app-selectbox",23),L.Vb(),L.Wb(85,"th",7),L.Pc(86,"\uc0c1\ud488\uad8c\uc720\ud6a8\uae30\uac04"),L.Vb(),L.Wb(87,"td"),L.Rb(88,"app-input-text",24),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(4),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(15),L.Qc(t.bookingItemCode),L.Cb(4),L.pc("options",t.paymentDetailTypeList)("isInvalid",t.checkIsInvalid("paymentDetailTypeCode")),L.Cb(5),L.pc("options",t.depositTypeList)("isInvalid",t.checkIsInvalid("depositTypeCode")),L.Cb(4),L.pc("options",t.bankMasterList)("isInvalid",t.checkIsInvalid("cardMasterCode")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("paidAmount")),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("paidDate")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("clientName")),L.Cb(4),L.pc("apiCondition",L.tc(29,bw))("apiSearchTerm","name")("inputFieldFormatKeyList",L.tc(30,uw))("inputFieldValue","")("inputId","refundPicUnoInput")("isInvalid",t.checkIsInvalid("confirmUno")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("cardNo")),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("cardHolderName")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("cardValidPeriodYear")),L.Cb(1),L.pc("isInvalid",t.checkIsInvalid("cardValidPeriodMonth")),L.Cb(4),L.pc("options",t.cardQuotaMonthList)("isInvalid",t.checkIsInvalid("cardQuotaMonth")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("cardApprovalNo")),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("paymentRelatedNo")),L.Cb(5),L.pc("options",t.giftCardTypeList)("isInvalid",t.checkIsInvalid("giftCardTypeCode")),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("giftCardExpireDate")))},directives:[I.B,I.s,I.k,J.a,Se.a,I.r,I.i,ee.a,ne.a],encapsulation:2,changeDetection:0}),e})();function mw(e,t){if(1&e&&(L.Wb(0,"div",0),L.Rb(1,"app-reservation-flight-price-detail-affiliate-promotion",15),L.ic(2,"async"),L.Vb()),2&e){const e=L.hc();var n;const t=null==(n=L.jc(2,1,e.priceInfo$))?null:n.promotion;L.Cb(1),L.pc("promotion",t)}}const hw=function(){return[]};function gw(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-promotion-change-modal",16),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().clickSavePromotionHandler(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().clickPromotionChangeModalCloseHandler()})),L.ic(1,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("promotionList",L.jc(1,1,e.promotionList$)||L.tc(3,hw))}}function fw(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-add-fare-modal",17),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().saveFlightFareHandler(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().clickAddFareModalCloseHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.ic(5,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(1,5,e.summary$))?null:n.stationTypeCode;L.pc("stationTypeCode",t)("priceInfo",L.jc(2,7,e.selectedPriceInfo$))("bookingFareTypeList",L.jc(3,9,e.bookingFareTypeList$))("bookingTravelerList",L.jc(4,11,e.bookingTravelerList$))("adjustReasonList",L.jc(5,13,e.adjustReasonList$))}}function vw(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-ticket-mapping-modal",18),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().saveTicketMappingHandler(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().clickTicketMappingModalCloseHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.Vb()}if(2&e){const e=L.hc();var n=null;const t=null==(n=L.jc(1,2,e.checkedFareList$))?null:n.first();L.pc("priceInfo",t)("ticketInfo",L.jc(2,4,e.ticketInfo$))}}function Cw(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-ticket-mapping-delete-modal",19),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().deleteTicketMappingHandler(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().clickTicketMappingDeleteModalCloseHandler()})),L.ic(1,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("priceInfo",L.jc(1,1,e.selectedPriceInfo$))}}function yw(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-payment-manual-modal",20),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().closePaymentManualHandler()}))("submitEvent",(function(t){return L.Fc(e),L.hc().savePaymentDepositManual(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.ic(5,"async"),L.ic(6,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(2,9,e.selectedPriceInfo$))?null:n.bookingTravelerCode;L.pc("priceInfo",L.jc(1,7,e.selectedPriceInfo$))("bookingItemCode",e.bookingItemCode)("bookingTravelerCode",t)("paymentDetailTypeList",L.jc(3,11,e.paymentDetailTypeList$))("depositTypeList",L.jc(4,13,e.depositTypeList$))("paymentBankMasterList",L.jc(5,15,e.paymentBankMasterList$))("giftCardTypeList",L.jc(6,17,e.giftCardTypeList$))}}let kw=(()=>{class e{constructor(e,t){this.store=e,this.alertService=t,this._$unsubscribe=new Fe.a,this._subscribeStore()}get domesticYn(){var e;return!0===(null===(e=this._summary)||void 0===e?void 0:e.domesticYn)}get isB2c(){var e;return"STN03"===(null===(e=this._summary)||void 0===e?void 0:e.stationTypeCode)}ngOnInit(){this._initSubscribe()}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete()}submitPriceBillingHandler(e){}clickPromotionChangeModalOpenHandler(){this.store.dispatch(h.loadPromotionListAction({condition:{bookingItemCode:this.bookingItemCode}})),this.store.dispatch(h.openPromotionChangeModalAction())}clickPromotionChangeModalCloseHandler(){this.store.dispatch(h.closePromotionChangeModalAction())}clickAddFareModalOpenHandler(){this.store.dispatch(h.openAddFareModalAction())}clickAddFareModalCloseHandler(){this.store.dispatch(h.closeAddFareModalAction())}clickTravelerHandler(e){this.store.dispatch(h.openFareModalAction({priceInfo:e}))}clickTicketMappingModalOpenHandler(e){this.store.dispatch(h.openTicketMappingModalAction({fareList:e}))}clickTicketMappingModalCloseHandler(){this.store.dispatch(h.closeTicketMappingModalAction())}clickTicketMappingDeleteModalOpenHandler(e){this.store.dispatch(h.openTicketMappingDeleteModalAction({priceInfo:e}))}clickTicketMappingDeleteModalCloseHandler(){this.store.dispatch(h.closeTicketMappingDeleteModalAction())}clickSavePromotionHandler(e){this.store.dispatch(h.savePromotionInfoAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this.bookingItemCode})}))}saveFlightFareHandler(e){this.store.dispatch(h.saveFareAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this.bookingItemCode})}))}deleteFlightFareHandler(e){this.store.dispatch(h.deleteFareAction({condition:e}))}updateTasfAgencyPlYnHandler(e){this.store.dispatch(h.updateTasfAgencyPlYnAction({condition:{bookingItemCode:this.bookingItemCode,tasfAgencyPlYn:e}}))}saveTicketMappingHandler(e){this.store.dispatch(h.saveTicketMappingAction({condition:Object.assign({},e)}))}deleteTicketMappingHandler(e){this.store.dispatch(h.deleteTicketMappingAction({condition:Object.assign({},e)}))}openPaymentManualHandler(e){this.store.dispatch(h.openPricePaymentManualModalAction({priceInfo:e}))}closePaymentManualHandler(){this.store.dispatch(h.closePricePaymentManualModalAction())}savePaymentDepositManual(e){this.store.dispatch(h.savePaymentDepositManualAction({condition:e}))}_subscribeStore(){this.summary$=this.store.pipe(Object(P.u)(AO)),this.priceInfo$=this.store.pipe(Object(P.u)(SO)),this.ticketInfo$=this.store.pipe(Object(P.u)(EO)),this.ticketingDsrFinishYn$=this.store.pipe(Object(P.u)($O)),this.bookingTravelerList$=this.store.pipe(Object(P.u)(VP)),this.bookingFareTypeList$=this.store.pipe(Object(P.u)(RP)),this.isOpenPromotionChangeModal$=this.store.pipe(Object(P.u)(zP)),this.isOpenAddFareInfoModal$=this.store.pipe(Object(P.u)(XP)),this.isOpenTicketMappingModal$=this.store.pipe(Object(P.u)(ZP)),this.isOpenTicketMappingDeleteModal$=this.store.pipe(Object(P.u)(JP)),this.isOpenPricePaymentManualModal$=this.store.pipe(Object(P.u)(ej)),this.promotionList$=this.store.pipe(Object(P.u)(jO)),this.selectedPriceInfo$=this.store.pipe(Object(P.u)(Pj)),this.checkedFareList$=this.store.pipe(Object(P.u)(Vj)),this.adjustReasonList$=this.store.pipe(Object(P.u)(CP)),this.paymentDetailTypeList$=this.store.pipe(Object(P.u)(kP)),this.depositTypeList$=this.store.pipe(Object(P.u)(IP)),this.paymentBankMasterList$=this.store.pipe(Object(P.u)(OP)),this.giftCardTypeList$=this.store.pipe(Object(P.u)(PP))}_initSubscribe(){this.summary$.pipe(Object(Ci.a)(this._$unsubscribe)).subscribe(e=>{this._summary=e})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-price-detail"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",bookingItemCode:"bookingItemCode"},decls:33,vars:55,consts:[[1,"page-item"],[3,"ticketingDsrFinishYn","promotion","clickChangeEvent"],["class","page-item",4,"ngIf"],[3,"priceInfo","summary","ticketingDsrFinishYn","clickAddFareEvent","deleteFareEvent","clickTicketMappingEvent","clickTicketNo","clickManualPaymentEvent","clickTravelerEvent","checkTasfAgencyPlYnEvent"],[3,"feeWaivers"],["modalSize","sm","modalContentClass","pd-all","header","Change Promotion",3,"modal","visible","visibleChange"],[3,"promotionList","submitEvent","closeEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","Price Detail",3,"modal","visible","visibleChange"],[3,"stationTypeCode","priceInfo","bookingFareTypeList","bookingTravelerList","adjustReasonList","submitEvent","closeEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","Mapping Tickets",3,"modal","visible","visibleChange"],[3,"priceInfo","ticketInfo","submitEvent","closeEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","Remove to Mapped Tickets",3,"modal","visible","visibleChange"],[3,"priceInfo","submitEvent","closeEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","Manually enroll payments",3,"hasScroll","modal","visible","visibleChange"],[3,"priceInfo","bookingItemCode","bookingTravelerCode","paymentDetailTypeList","depositTypeList","paymentBankMasterList","giftCardTypeList","closeEvent","submitEvent",4,"ngIf"],[3,"promotion"],[3,"promotionList","submitEvent","closeEvent"],[3,"stationTypeCode","priceInfo","bookingFareTypeList","bookingTravelerList","adjustReasonList","submitEvent","closeEvent"],[3,"priceInfo","ticketInfo","submitEvent","closeEvent"],[3,"priceInfo","submitEvent","closeEvent"],[3,"priceInfo","bookingItemCode","bookingTravelerCode","paymentDetailTypeList","depositTypeList","paymentBankMasterList","giftCardTypeList","closeEvent","submitEvent"]],template:function(e,t){if(1&e&&(L.Wb(0,"div",0),L.Wb(1,"app-reservation-flight-price-detail-promotion",1),L.fc("clickChangeEvent",(function(){return t.clickPromotionChangeModalOpenHandler()})),L.ic(2,"async"),L.ic(3,"async"),L.Vb(),L.Vb(),L.Nc(4,mw,3,3,"div",2),L.Wb(5,"div",0),L.Wb(6,"app-reservation-flight-price-detail-info",3),L.fc("clickAddFareEvent",(function(){return t.clickAddFareModalOpenHandler()}))("deleteFareEvent",(function(e){return t.deleteFlightFareHandler(e)}))("clickTicketMappingEvent",(function(e){return t.clickTicketMappingModalOpenHandler(e)}))("clickTicketNo",(function(e){return t.clickTicketMappingDeleteModalOpenHandler(e)}))("clickManualPaymentEvent",(function(e){return t.openPaymentManualHandler(e)}))("clickTravelerEvent",(function(e){return t.clickTravelerHandler(e)}))("checkTasfAgencyPlYnEvent",(function(e){return t.updateTasfAgencyPlYnHandler(e)})),L.ic(7,"async"),L.ic(8,"async"),L.ic(9,"async"),L.Vb(),L.Vb(),L.Wb(10,"div",0),L.Rb(11,"app-reservation-flight-price-detail-fee-waivers",4),L.ic(12,"async"),L.Vb(),L.Wb(13,"app-dialog",5),L.fc("visibleChange",(function(){return t.clickPromotionChangeModalCloseHandler()})),L.ic(14,"async"),L.Nc(15,gw,2,4,"app-reservation-flight-promotion-change-modal",6),L.ic(16,"async"),L.Vb(),L.Wb(17,"app-dialog",7),L.fc("visibleChange",(function(){return t.clickAddFareModalCloseHandler()})),L.ic(18,"async"),L.Nc(19,fw,6,15,"app-reservation-flight-add-fare-modal",8),L.ic(20,"async"),L.Vb(),L.Wb(21,"app-dialog",9),L.fc("visibleChange",(function(){return t.clickTicketMappingModalCloseHandler()})),L.ic(22,"async"),L.Nc(23,vw,3,6,"app-reservation-flight-ticket-mapping-modal",10),L.ic(24,"async"),L.Vb(),L.Wb(25,"app-dialog",11),L.fc("visibleChange",(function(){return t.clickTicketMappingDeleteModalCloseHandler()})),L.ic(26,"async"),L.Nc(27,Cw,2,3,"app-reservation-flight-ticket-mapping-delete-modal",12),L.ic(28,"async"),L.Vb(),L.Wb(29,"app-dialog",13),L.fc("visibleChange",(function(){return t.closePaymentManualHandler()})),L.ic(30,"async"),L.Nc(31,yw,7,19,"app-reservation-flight-payment-manual-modal",14),L.ic(32,"async"),L.Vb()),2&e){var n;const e=null==(n=L.jc(3,25,t.priceInfo$))?null:n.promotion;var i;const o=null==(i=L.jc(12,33,t.priceInfo$))?null:i.feeWaivers;L.Cb(1),L.pc("ticketingDsrFinishYn",L.jc(2,23,t.ticketingDsrFinishYn$))("promotion",e),L.Cb(3),L.pc("ngIf",!t.domesticYn&&t.isB2c),L.Cb(2),L.pc("priceInfo",L.jc(7,27,t.priceInfo$))("summary",L.jc(8,29,t.summary$))("ticketingDsrFinishYn",L.jc(9,31,t.ticketingDsrFinishYn$)),L.Cb(5),L.pc("feeWaivers",o),L.Cb(2),L.pc("modal",!0)("visible",L.jc(14,35,t.isOpenPromotionChangeModal$)),L.Cb(2),L.pc("ngIf",L.jc(16,37,t.isOpenPromotionChangeModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(18,39,t.isOpenAddFareInfoModal$)),L.Cb(2),L.pc("ngIf",L.jc(20,41,t.isOpenAddFareInfoModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(22,43,t.isOpenTicketMappingModal$)),L.Cb(2),L.pc("ngIf",L.jc(24,45,t.isOpenTicketMappingModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(26,47,t.isOpenTicketMappingDeleteModal$)),L.Cb(2),L.pc("ngIf",L.jc(28,49,t.isOpenTicketMappingDeleteModal$)),L.Cb(2),L.pc("hasScroll",!1)("modal",!0)("visible",L.jc(30,51,t.isOpenPricePaymentManualModal$)),L.Cb(2),L.pc("ngIf",L.jc(32,53,t.isOpenPricePaymentManualModal$))}},directives:[iB,k.o,UB,KB,un.a,zB,JB,nw,cw,dw,pw],pipes:[k.b],encapsulation:2,changeDetection:0}),e})();const Iw=["selectionList"],Ow=["marketingAirlineInput"],Pw=function(){return{standalone:!0}};function jw(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr",12),L.Wb(2,"td"),L.Wb(3,"app-radio",13),L.fc("ngModelChange",(function(t){return L.Fc(e),L.hc().checkedIndex=t})),L.Vb(),L.Vb(),L.Wb(4,"td",14),L.Pc(5),L.Vb(),L.Wb(6,"td"),L.Rb(7,"app-input-text",15,16),L.Vb(),L.Wb(9,"td"),L.Rb(10,"app-input-text",17),L.Vb(),L.Wb(11,"td"),L.Rb(12,"app-input-text",18),L.Vb(),L.Wb(13,"td"),L.Rb(14,"app-input-text",19),L.Vb(),L.Wb(15,"td"),L.Rb(16,"app-input-text",20),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,n=t.index,i=L.hc();L.Cb(1),L.pc("formGroupName",n),L.Cb(2),L.pc("ngModel",i.checkedIndex)("ngModelOptions",L.tc(10,Pw))("value",n),L.Cb(2),L.Rc(" ",e.get("displayOrder").value||"-"," "),L.Cb(2),L.pc("isInvalid",i.checkIsInvalid("marketingAirlineCode",e)),L.Cb(3),L.pc("isInvalid",i.checkIsInvalid("originAirportCode",e)),L.Cb(2),L.pc("isInvalid",i.checkIsInvalid("destinationAirportCode",e)),L.Cb(2),L.pc("isInvalid",i.checkIsInvalid("bookingClassCode",e)),L.Cb(2),L.pc("isInvalid",i.checkIsInvalid("fareBasisCode",e))}}function Vw(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",21),L.Pc(3,"-"),L.Vb(),L.Vb(),L.Tb())}let Aw=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.saveEvent=new L.n,this.deleteEvent=new L.n,this.upsertForm=e.generateFareRuleSectionsPutInitForm()}get segments(){return this._segments}set segments(e){this._segments=null==e?void 0:e.filter(e=>!e.deleteYn)}get fareRuleInfo(){return this._fareRuleInfo}set fareRuleInfo(e){e&&(this._fareRuleInfo=e,this.upsertFormData=this._convertItemToForm(e),this.upsertForm=this._makeFareRuleSectionsForm(e))}get fareRuleSections(){return this.upsertForm&&this.upsertForm.get("fareRuleSections")}get isAllChecked(){const e=this.upsertForm.get("fareRuleSections").controls||[];return e.length>0&&e.every(e=>!0===e.value.checked)}ngOnInit(){this.checkValid=!1}ngOnDestroy(){}checkIsInvalid(e,t){return this.checkValid&&t.get(e)&&t.get(e).invalid}onClickSave(){if(this.upsertForm.invalid)return void(this.checkValid=!0);if(!this._isValidFareRule())return void this.alertService.alert("You can't save duplicate fare segments.");if(!this._isValidSegment())return void this.alertService.alert("You can't save fare segments that don't match your schedule.");const e=this._convertFormToItem(this.upsertForm.value.fareRuleSections);this.saveEvent.emit(e)}onClickAdd(){this.fareRuleSections.push(this._dataService.generateFareRuleSectionItemPutInitForm()),setTimeout(()=>{this._listEl.nativeElement.scrollTop=this._listEl.nativeElement.scrollHeight,this._inputEls.last.nativeElement.lastElementChild.focus()},0)}onClickDelete(){if(Q.isNil(this.checkedIndex))return void this.alertService.alert("Select the fare zone you want to delete.");const e=this.fareRuleSections.at(this.checkedIndex).value,{isNew:t}=e;if(t)this.fareRuleSections.removeAt(this.checkedIndex);else{const{segmentSeq:t,originAirportCode:n,destinationAirportCode:i,bookingClassCode:o,marketingAirlineCode:a}=e;this.deleteEvent.emit({segmentSeq:t,originAirportCode:n,destinationAirportCode:i,bookingClassCode:o,marketingAirlineCode:a})}}_convertItemToForm(e){return e||(this.upsertFormData=this._dataService.initFareRuleSectionsPutForm()),{fareRuleSections:e.list.map(e=>{const{segmentSeq:t,displayOrder:n,marketingAirlineCode:i,bookingClassCode:o,fareBasisCode:a,origin:c,destination:s,fareRules:r}=e;return{isNew:!1,checked:!1,segmentSeq:t,displayOrder:n,marketingAirlineCode:i,bookingClassCode:o,fareBasisCode:a,originAirportCode:c.airportCode,destinationAirportCode:s.airportCode,fareRules:r}})}}_isValidFareRule(){const{fareRuleSections:e}=this.upsertForm.value;let t=!0;return e.forEach((n,i)=>{e.forEach((e,o)=>{i!==o&&n.bookingClassCode===e.bookingClassCode&&n.marketingAirlineCode===e.marketingAirlineCode&&n.originAirportCode===e.originAirportCode&&n.destinationAirportCode===e.destinationAirportCode&&(t=!1)})}),t}_isValidSegment(){let e=!0;const{fareRuleSections:t}=this.upsertForm.value;return t.forEach(t=>{Q.find(this.segments,e=>e.bookingClassCode===t.bookingClassCode&&e.marketingAirlineCode===t.marketingAirlineCode&&e.originAirportCode===t.originAirportCode&&e.destinationAirportCode===t.destinationAirportCode)||(e=!1)}),e}_makeFareRuleSectionsForm(e){return e?this._dataService.generateFareRulSectionsPutForm(e):this._dataService.generateFareRuleSectionsPutInitForm()}_deleteCheckedForm(){const e=this.fareRuleSections.controls;for(let t of e.filter(e=>e.value.isNew&&e.value.checked)){const t=e.findIndex(e=>e.value.isNew&&e.value.checked);t>-1&&this.fareRuleSections.removeAt(t)}}_convertFormToItem(e){return{list:e.map(e=>({segmentSeq:e.segmentSeq,bookingClassCode:e.bookingClassCode,destinationAirportCode:e.destinationAirportCode,fareBasisCode:e.fareBasisCode,marketingAirlineCode:e.marketingAirlineCode,originAirportCode:e.originAirportCode}))}}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-fare-rule-section"]],viewQuery:function(e,t){var n;1&e&&(L.Xc(Iw,!0),L.Xc(Ow,!0,L.l)),2&e&&(L.Dc(n=L.gc())&&(t._listEl=n.first),L.Dc(n=L.gc())&&(t._inputEls=n))},inputs:{bookingItemCode:"bookingItemCode",segments:"segments",fareRuleInfo:"fareRuleInfo"},outputs:{saveEvent:"saveEvent",deleteEvent:"deleteEvent"},decls:42,vars:4,consts:[[1,"page-item-header"],[1,"title"],[1,"control"],[1,"btn","btn-outline-dark","sm",3,"click"],[3,"formGroup","connectForm"],[1,"table","table-bordered"],["selectionList",""],["width","42px"],["scope","col",1,"align-c"],["formArrayName","fareRuleSections"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"formGroupName"],["styleClass","only",3,"ngModel","ngModelOptions","value","ngModelChange"],[1,"align-c"],["formControlName","marketingAirlineCode",2,"min-width","100px",3,"isInvalid"],["marketingAirlineInput",""],["formControlName","originAirportCode",2,"min-width","100px",3,"isInvalid"],["formControlName","destinationAirportCode",2,"min-width","100px",3,"isInvalid"],["formControlName","bookingClassCode",2,"min-width","100px",3,"isInvalid"],["formControlName","fareBasisCode",2,"min-width","100px",3,"isInvalid"],["colspan","7",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Fare Basis by Segment"),L.Vb(),L.Wb(3,"div",2),L.Wb(4,"button",3),L.fc("click",(function(){return t.onClickAdd()})),L.Pc(5,"New"),L.Vb(),L.Wb(6,"button",3),L.fc("click",(function(){return t.onClickSave()})),L.Pc(7,"Save"),L.Vb(),L.Wb(8,"button",3),L.fc("click",(function(){return t.onClickDelete()})),L.Pc(9,"Delete"),L.Vb(),L.Vb(),L.Vb(),L.Wb(10,"form",4),L.Wb(11,"div",5,6),L.Wb(13,"table"),L.Wb(14,"caption"),L.Pc(15," Fare Basis by Segment "),L.Vb(),L.Wb(16,"colgroup"),L.Rb(17,"col",7),L.Rb(18,"col"),L.Rb(19,"col"),L.Rb(20,"col"),L.Rb(21,"col"),L.Rb(22,"col"),L.Rb(23,"col"),L.Vb(),L.Wb(24,"thead"),L.Wb(25,"tr"),L.Rb(26,"th",8),L.Wb(27,"th",8),L.Pc(28,"Display Order"),L.Vb(),L.Wb(29,"th",8),L.Pc(30,"Airline"),L.Vb(),L.Wb(31,"th",8),L.Pc(32,"Departure"),L.Vb(),L.Wb(33,"th",8),L.Pc(34,"Arrival"),L.Vb(),L.Wb(35,"th",8),L.Pc(36,"B.CLS"),L.Vb(),L.Wb(37,"th",8),L.Pc(38,"Fare Basis"),L.Vb(),L.Vb(),L.Vb(),L.Wb(39,"tbody",9),L.Nc(40,jw,17,11,"ng-container",10),L.Nc(41,Vw,4,0,"ng-container",11),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(10),L.pc("formGroup",t.upsertForm)("connectForm",t.upsertFormData),L.Cb(30),L.pc("ngForOf",t.fareRuleSections.controls),L.Cb(1),L.pc("ngIf",0===(null==t.fareRuleSections||null==t.fareRuleSections.controls?null:t.fareRuleSections.controls.length)))},directives:[I.B,I.s,I.k,J.a,I.e,k.n,k.o,I.l,cS.a,I.r,I.u,ee.a,I.i],encapsulation:2,changeDetection:0}),e})();const Ww=function(){return{standalone:!0}};function Rw(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-selectbox",16),L.fc("onChange",(function(t){return L.Fc(e),L.hc().onChangeFareRule(t)})),L.Vb()}if(2&e){const e=L.hc();L.pc("ngModel",e.selectedSection)("ngModelOptions",L.tc(4,Ww))("options",e.fareRuleOptions)("useAllOptionYn",!1)}}function Fw(e,t){1&e&&(L.Ub(0),L.Rb(1,"app-editor",25),L.Tb())}function Sw(e,t){if(1&e&&L.Rb(0,"div",26),2&e){const e=L.hc().$implicit,t=L.hc();L.pc("innerHTML",t.transformHtml(e.get("ruleDetail").value),L.Gc)}}function Tw(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"button",27),L.fc("click",(function(){L.Fc(e);const t=L.hc().$implicit;return L.hc().onClickConfirm(t)})),L.Pc(2,"Confirm"),L.Vb(),L.Tb()}}function Nw(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",27),L.fc("click",(function(){L.Fc(e);const t=L.hc().$implicit;return L.hc().onClickChange(t)})),L.Pc(1,"Modify"),L.Vb()}}function Ew(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr",17),L.Wb(2,"td",18),L.Wb(3,"app-checkbox",19),L.fc("onChange",(function(n){L.Fc(e);const i=t.$implicit;return L.hc().onCheckRow(n,i)})),L.Vb(),L.Vb(),L.Wb(4,"td"),L.Wb(5,"div",20),L.Rb(6,"app-input-text",21),L.Vb(),L.Vb(),L.Wb(7,"td"),L.Nc(8,Fw,2,0,"ng-container",22),L.Nc(9,Sw,1,1,"ng-template",null,23,L.Oc),L.Vb(),L.Wb(11,"td",18),L.Nc(12,Tw,3,0,"ng-container",22),L.Nc(13,Nw,2,0,"ng-template",null,24,L.Oc),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,n=t.index,i=L.Ec(10),o=L.Ec(14),a=L.hc();L.Cb(1),L.pc("formGroupName",n),L.Cb(5),L.pc("isInvalid",a.checkIsInvalid("ruleName",e)),L.Cb(2),L.pc("ngIf",!0===e.get("isEditting").value)("ngIfElse",i),L.Cb(4),L.pc("ngIf",!0===e.get("isEditting").value)("ngIfElse",o)}}function Mw(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",28),L.Pc(3,"\uc6b4\uc784\uaddc\uc815 \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."),L.Vb(),L.Vb(),L.Tb())}let Dw=(()=>{class e{constructor(e,t,n){this._dataService=e,this.domSanitizer=t,this.alertService=n,this.saveEvent=new L.n,this.deleteEvent=new L.n,this.openRuleModalEvent=new L.n,this.openResearchModalEvent=new L.n,this.isOpenModal=!1,this.checkedRowids=[],this.fareRuleOptions=[],this.upsertForm=e.generateFareRulesPutInitForm()}get fareRuleInfo(){return this._fareRuleInfo}set fareRuleInfo(e){e&&(this._fareRuleInfo=e,this.fareRuleOptions=this._makeFareRuleOptions(e),this.upsertFormData=this._convertItemToForm(e),this.upsertForm=this._makeFareRulesForm(e),this._setSectionInfo(e))}get fareRules(){return this.upsertForm&&this.upsertForm.get("fareRules")}get isAllChecked(){const e=this.upsertForm.get("fareRules").controls||[];return e.length>0&&e.every(e=>!0===e.value.checked)}get selectedSectionInfo(){var e,t;return null===(t=null===(e=this.fareRuleInfo)||void 0===e?void 0:e.list)||void 0===t?void 0:t.filter(e=>e.displayOrder===this.selectedSection).pop()}ngOnInit(){this.checkValid=!1}ngOnDestroy(){}onCheckAll(e){for(let t of this.fareRules.controls)t.get("checked").setValue(e)}onCheckRow(e,t){t.get("checked").setValue(e)}onChangeFareRule({value:e}){var t;this.selectedSection=e;const n=(null===(t=this.fareRuleInfo.list.filter(t=>t.displayOrder===e).pop())||void 0===t?void 0:t.fareRules)||[];this.upsertForm=this._dataService.generateFareRulePutForm(n)}onClickAdd(){const e=this._dataService.generateFareRuleItemPutInitForm(),t=Q.max(this.fareRules.controls.map(e=>e.value.displayOrder));e.get("displayOrder").setValue(t+1),this.fareRules.insert(0,e)}onClickDelete(){const e=this.fareRules.controls.filter(e=>e.value.checked&&!Q.isNil(e.value.rowid)).map(e=>e.value.rowid);e.length>0?this.deleteEvent.emit(e):this._deleteCheckedForm()}onClickSave(){if(this.upsertForm.invalid)return void(this.checkValid=!0);if(0===this.fareRules.controls.length)return void this.alertService.alert("There is no data to save.");if(!this.selectedSectionInfo)return void this.alertService.alert("Please select a fare zone first.");const e=this._convertFormToItem(this.upsertForm.value,this.selectedSectionInfo);this.saveEvent.emit(e)}onClickConfirm(e){const t=e.get("isEditting").value;e.get("isEditting").setValue(!t)}onClickChange(e){const t=e.get("isEditting").value;e.get("isEditting").setValue(!t)}closeModal(){this.fareRuleEnDetail=null,this.isOpenModal=!1}openRuleModal(e){this.openRuleModalEvent.emit(e)}openResearchModal(){this.openResearchModalEvent.emit()}transformHtml(e){return this.domSanitizer.bypassSecurityTrustHtml(e)}checkIsInvalid(e,t){return this.checkValid&&t.get(e)&&t.get(e).invalid}_makeFareRuleOptions(e){return e.list.map(e=>({value:e.displayOrder,label:`\uaddc\uc815 ${e.displayOrder}: ${e.origin.airportCode}-${e.destination.airportCode}`}))}_convertItemToForm(e){var t,n,i;if(!e)return this._dataService.initFareRulesPutForm();const o=this.selectedSection||(null===(n=null===(t=e.list)||void 0===t?void 0:t.first())||void 0===n?void 0:n.displayOrder);return{fareRules:((null===(i=e.list.filter(e=>e.displayOrder===o).pop())||void 0===i?void 0:i.fareRules)||[]).map(e=>{const{rowid:t,fareRuleSeq:n,ruleName:i,ruleDetail:o}=e;return{isEditting:!1,rowid:t,fareRuleSeq:n,ruleName:i,ruleDetail:o}})}}_makeFareRulesForm(e){var t,n;if(!e)return this._dataService.generateFareRulesPutInitForm();const i=(null===(n=null===(t=e.list)||void 0===t?void 0:t.first())||void 0===n?void 0:n.fareRules)||[];return this._dataService.generateFareRulePutForm(i)}_deleteCheckedForm(){const e=this.fareRules.controls;for(let t of e.filter(e=>e.value.checked&&!e.value.rowid)){const t=e.findIndex(e=>e.value.checked&&!e.value.rowid);t>-1&&this.upsertForm.get("fareRules").removeAt(t)}}_convertFormToItem(e,t){const n=e.fareRules.map(e=>{const{fareRuleSeq:t,ruleName:n,ruleDetail:i}=e;return Q.omitBy({fareRuleSeq:t,ruleName:n,ruleDetail:i},Q.isNil)}),{segmentSeq:i,bookingClassCode:o,origin:a,destination:c,fareBasisCode:s,fareTypeCode:r,marketingAirlineCode:l}=t;return{list:[{segmentSeq:i,bookingClassCode:o,fareBasisCode:s,fareTypeCode:r,marketingAirlineCode:l,fareRules:n,originAirportCode:a.airportCode,destinationAirportCode:c.airportCode}]}}_setSectionInfo(e){var t,n,i;if(Q.isNil(this.selectedSection)){const i=null===(n=null===(t=e.list)||void 0===t?void 0:t.first())||void 0===n?void 0:n.displayOrder;this.selectedSection=i}const o=(null===(i=e.list.filter(e=>e.displayOrder===this.selectedSection).pop())||void 0===i?void 0:i.fareRules)||[];this.upsertForm=this._dataService.generateFareRulePutForm(o)}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(pn.b),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-fare-rule-list"]],inputs:{fareRuleInfo:"fareRuleInfo"},outputs:{saveEvent:"saveEvent",deleteEvent:"deleteEvent",openRuleModalEvent:"openRuleModalEvent",openResearchModalEvent:"openResearchModalEvent"},decls:33,vars:8,consts:[[3,"formGroup","connectForm"],[1,"page-item-header"],[1,"title"],[1,"control"],["class","ml5",3,"ngModel","ngModelOptions","options","useAllOptionYn","onChange",4,"ngIf"],["type","button",1,"btn","btn-outline-dark","sm",3,"click"],[1,"table","table-bordered","table-responsive"],["formArrayName","fareRules"],["width","42px"],["width","150px"],["width","300px"],["width","60px"],["scope","col",1,"align-c"],["styleClass","only","binary","true",3,"ngModel","ngModelOptions","onChange"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"ml5",3,"ngModel","ngModelOptions","options","useAllOptionYn","onChange"],[3,"formGroupName"],[1,"align-c"],["styleClass","only","binary","true","formControlName","checked",3,"onChange"],[1,"form-group"],["formControlName","ruleName",2,"min-width","100px",3,"isInvalid"],[4,"ngIf","ngIfElse"],["noEditting",""],["change",""],["toolBarType","simple","formControlName","ruleDetail"],[1,"text-wrap",3,"innerHTML"],[1,"btn","btn-outline-dark","sm",2,"min-width","65px",3,"click"],["colspan","4",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"form",0),L.Wb(1,"div",1),L.Wb(2,"div",2),L.Pc(3," Fare Rule Detail "),L.Vb(),L.Wb(4,"div",3),L.Nc(5,Rw,1,5,"app-selectbox",4),L.Wb(6,"button",5),L.fc("click",(function(){return t.onClickAdd()})),L.Pc(7,"New"),L.Vb(),L.Wb(8,"button",5),L.fc("click",(function(){return t.onClickSave()})),L.Pc(9,"Save"),L.Vb(),L.Wb(10,"button",5),L.fc("click",(function(){return t.onClickDelete()})),L.Pc(11,"Delete"),L.Vb(),L.Vb(),L.Vb(),L.Wb(12,"div",6),L.Wb(13,"table",7),L.Wb(14,"caption"),L.Pc(15," Fare Rule Detail "),L.Vb(),L.Wb(16,"colgroup"),L.Rb(17,"col",8),L.Rb(18,"col",9),L.Rb(19,"col",10),L.Rb(20,"col",11),L.Vb(),L.Wb(21,"thead"),L.Wb(22,"tr"),L.Wb(23,"th",12),L.Wb(24,"app-checkbox",13),L.fc("onChange",(function(e){return t.onCheckAll(e)})),L.Vb(),L.Vb(),L.Wb(25,"th",12),L.Pc(26,"Item"),L.Vb(),L.Wb(27,"th",12),L.Pc(28,"Description"),L.Vb(),L.Rb(29,"th",12),L.Vb(),L.Vb(),L.Wb(30,"tbody"),L.Nc(31,Ew,15,6,"ng-container",14),L.Nc(32,Mw,4,0,"ng-container",15),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.pc("formGroup",t.upsertForm)("connectForm",t.upsertFormData),L.Cb(5),L.pc("ngIf",t.fareRuleOptions.length>0),L.Cb(19),L.pc("ngModel",t.isAllChecked)("ngModelOptions",L.tc(7,Ww)),L.Cb(7),L.pc("ngForOf",t.fareRules.controls),L.Cb(1),L.pc("ngIf",0===(null==t.fareRules||null==t.fareRules.controls?null:t.fareRules.controls.length)))},directives:[I.B,I.s,I.k,J.a,k.o,I.e,Kt.a,I.r,I.u,k.n,Se.a,I.l,I.i,ee.a,We.a],encapsulation:2,changeDetection:0}),e})(),Lw=(()=>{class e{constructor(){this.closeEvent=new L.n}ngOnInit(){}ngOnDestroy(){}onClose(){this.closeEvent.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-fare-rule-detail-modal"]],inputs:{description:"description"},outputs:{closeEvent:"closeEvent"},decls:4,vars:1,consts:[[1,"component-wrap"],[1,"textarea"],["cols","20","rows","20"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"textarea",2),L.Pc(3),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(3),L.Qc(t.description))},encapsulation:2,changeDetection:0}),e})(),_w=(()=>{class e{constructor(){this.closeEvent=new L.n}ngOnInit(){}ngOnDestroy(){}onClose(){this.closeEvent.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-fare-rule-research-modal"]],outputs:{closeEvent:"closeEvent"},decls:62,vars:0,consts:[[1,"component-wrap"],[1,"d-flex","align-items-center","justify-content-between","mb10"],[1,"font-weight-medium"],[1,"button-area"],["type","button",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm"],[1,"table","table-bordered","table-responsive"],["scope","col","rowspan","2",1,"align-c"],["scope","col","colspan","2",1,"align-c"],["scope","col",1,"align-c"],["colspan","8",1,"align-c"],[1,"d-flex","align-items-center","justify-content-between","mb10","mt20"],["colspan","2",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"div",2),L.Pc(3,"\uc694\uae08\uc870\ud68c"),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"button",4),L.Pc(6,"\uc870\ud68c"),L.Vb(),L.Wb(7,"button",5),L.Pc(8,"\uc801\uc6a9"),L.Vb(),L.Vb(),L.Vb(),L.Wb(9,"div",6),L.Wb(10,"table"),L.Rb(11,"caption"),L.Wb(12,"thead"),L.Wb(13,"tr"),L.Wb(14,"th",7),L.Pc(15,"\ud56d\uacf5\uc0ac"),L.Vb(),L.Wb(16,"th",8),L.Pc(17,"\uc131\uc778"),L.Vb(),L.Wb(18,"th",8),L.Pc(19,"\uc18c\uc544"),L.Vb(),L.Wb(20,"th",8),L.Pc(21,"\uc720\uc544"),L.Vb(),L.Wb(22,"th",7),L.Pc(23,"PTC"),L.Vb(),L.Vb(),L.Wb(24,"tr"),L.Wb(25,"th",9),L.Pc(26,"\ucd1d\uc561"),L.Vb(),L.Wb(27,"th",9),L.Pc(28,"TAX"),L.Vb(),L.Wb(29,"th",9),L.Pc(30,"\ucd1d\uc561"),L.Vb(),L.Wb(31,"th",9),L.Pc(32,"TAX"),L.Vb(),L.Wb(33,"th",9),L.Pc(34,"\ucd1d\uc561"),L.Vb(),L.Wb(35,"th",9),L.Pc(36,"TAX"),L.Vb(),L.Vb(),L.Vb(),L.Wb(37,"tbody"),L.Wb(38,"tr"),L.Wb(39,"td",10),L.Pc(40,"\uac80\uc0c9\ub41c \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(41,"div",11),L.Wb(42,"div",2),L.Pc(43,"\uc6b4\uc784\uaddc\uc815"),L.Vb(),L.Wb(44,"div",3),L.Wb(45,"button",4),L.Pc(46,"\uc870\ud68c"),L.Vb(),L.Wb(47,"button",5),L.Pc(48,"\uc801\uc6a9"),L.Vb(),L.Vb(),L.Vb(),L.Wb(49,"div",6),L.Wb(50,"table"),L.Rb(51,"caption"),L.Wb(52,"thead"),L.Wb(53,"tr"),L.Wb(54,"th",9),L.Pc(55,"\ud56d\ubaa9"),L.Vb(),L.Wb(56,"th",9),L.Pc(57,"\uc124\uba85"),L.Vb(),L.Vb(),L.Vb(),L.Wb(58,"tbody"),L.Wb(59,"tr"),L.Wb(60,"td",12),L.Pc(61,"\uac80\uc0c9\ub41c \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb())},encapsulation:2,changeDetection:0}),e})();function $w(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-fare-rule-detail-modal",6),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().closeOriginalFareRuleModalHandler()})),L.Vb()}}function Bw(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-fare-rule-research-modal",6),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().closeFareRuleResearchModalHandler()})),L.Vb()}}const ww=function(){return[]};let xw=(()=>{class e{constructor(e){this.store=e,this._subscribeStore()}ngOnInit(){}saveFareRuleSectionHandler(e){this.store.dispatch(h.saveFareRuleSectionInfoAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this.bookingItemCode})}))}deleteFareRuleSectionHandler(e){this.store.dispatch(h.deleteFareRuleSectionInfoAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this.bookingItemCode})}))}saveFareRuleHandler(e){this.store.dispatch(h.saveFareRuleInfoAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this.bookingItemCode})}))}deleteFareRuleHandler(e){this.store.dispatch(h.deleteFareRuleInfoAction({condition:{rowids:e}}))}openOriginalFareRuleModalHandler(e){this.store.dispatch(h.openOriginalFareRuleModalAction())}closeOriginalFareRuleModalHandler(){this.store.dispatch(h.closeOriginalFareRuleModalAction())}openResearchModalHandler(){this.store.dispatch(h.openFareRuleResearchModalAction())}closeFareRuleResearchModalHandler(){this.store.dispatch(h.closeFareRuleResearchModalAction())}_subscribeStore(){this.fareRuleInfo$=this.store.pipe(Object(P.u)(qO)),this.segmentInfo$=this.store.pipe(Object(P.u)(RO)),this.isOpenOriginalFareRuleModal$=this.store.pipe(Object(P.u)(QP)),this.isOpenFareRuleResearchModal$=this.store.pipe(Object(P.u)(GP))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-fare-rule"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",bookingItemCode:"bookingItemCode"},decls:15,vars:25,consts:[[1,"page-item"],[3,"bookingItemCode","fareRuleInfo","segments","saveEvent","deleteEvent"],[3,"fareRuleInfo","openRuleModalEvent","openResearchModalEvent","saveEvent","deleteEvent"],["modalSize","sm","modalContentClass","pd-all","header","\uc6d0\ubb38\uaddc\uc815",3,"modal","visible","visibleChange"],[3,"closeEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","\uaddc\uc815 \uc7ac \uc870\ud68c",3,"modal","visible","visibleChange"],[3,"closeEvent"]],template:function(e,t){if(1&e&&(L.Wb(0,"div",0),L.Wb(1,"app-reservation-flight-fare-rule-section",1),L.fc("saveEvent",(function(e){return t.saveFareRuleSectionHandler(e)}))("deleteEvent",(function(e){return t.deleteFareRuleSectionHandler(e)})),L.ic(2,"async"),L.ic(3,"async"),L.Vb(),L.Vb(),L.Wb(4,"div",0),L.Wb(5,"app-reservation-flight-fare-rule-list",2),L.fc("openRuleModalEvent",(function(e){return t.openOriginalFareRuleModalHandler(e)}))("openResearchModalEvent",(function(){return t.openResearchModalHandler()}))("saveEvent",(function(e){return t.saveFareRuleHandler(e)}))("deleteEvent",(function(e){return t.deleteFareRuleHandler(e)})),L.ic(6,"async"),L.Vb(),L.Vb(),L.Wb(7,"app-dialog",3),L.fc("visibleChange",(function(){return t.closeOriginalFareRuleModalHandler()})),L.ic(8,"async"),L.Nc(9,$w,1,0,"app-reservation-flight-fare-rule-detail-modal",4),L.ic(10,"async"),L.Vb(),L.Wb(11,"app-dialog",5),L.fc("visibleChange",(function(){return t.closeFareRuleResearchModalHandler()})),L.ic(12,"async"),L.Nc(13,Bw,1,0,"app-reservation-flight-fare-rule-research-modal",4),L.ic(14,"async"),L.Vb()),2&e){var n;const e=(null==(n=L.jc(3,12,t.segmentInfo$))?null:n.segments)||L.tc(24,ww);L.Cb(1),L.pc("bookingItemCode",t.bookingItemCode)("fareRuleInfo",L.jc(2,10,t.fareRuleInfo$))("segments",e),L.Cb(4),L.pc("fareRuleInfo",L.jc(6,14,t.fareRuleInfo$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(8,16,t.isOpenOriginalFareRuleModal$)),L.Cb(2),L.pc("ngIf",L.jc(10,18,t.isOpenOriginalFareRuleModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(12,20,t.isOpenFareRuleResearchModal$)),L.Cb(2),L.pc("ngIf",L.jc(14,22,t.isOpenFareRuleResearchModal$))}},directives:[Aw,Dw,un.a,k.o,Lw,_w],pipes:[k.b],encapsulation:2,changeDetection:0}),e})(),Yw=(()=>{class e{constructor(){this.clickRequestGdsPnrEvent=new L.n}ngOnInit(){}onClickRequestGdsPnr(){const{gdsCompCode:e,gdsMainPnr:t}=this.summaryInfo;this.clickRequestGdsPnrEvent.emit({gdsCompCode:e,gdsMainPnr:t})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-gds-pnr-info"]],inputs:{gdsPnrInfo:"gdsPnrInfo",summaryInfo:"summaryInfo"},outputs:{clickRequestGdsPnrEvent:"clickRequestGdsPnrEvent"},decls:16,vars:1,consts:[[1,"page-item-header"],[1,"title"],[1,"control"],[1,"btn","btn-outline-dark","sm","ml5",3,"click"],[1,"table","table-bordered","table-responsive",2,"max-height","600px","min-height","600px","overflow","auto"],["width","100%"],[3,"innerHTML"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Pc(2,"GDS Display"),L.Vb(),L.Wb(3,"div",2),L.Wb(4,"button",3),L.fc("click",(function(){return t.onClickRequestGdsPnr()})),L.Pc(5,"Search"),L.Vb(),L.Vb(),L.Vb(),L.Wb(6,"div",4),L.Wb(7,"table"),L.Wb(8,"caption"),L.Pc(9," GDS Display "),L.Vb(),L.Wb(10,"colgroup"),L.Rb(11,"col",5),L.Vb(),L.Wb(12,"tbody"),L.Wb(13,"tr"),L.Wb(14,"td"),L.Rb(15,"pre",6),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(15),L.pc("innerHTML",null==t.gdsPnrInfo?null:t.gdsPnrInfo.pnrDetail,L.Gc))},encapsulation:2,changeDetection:0}),e})();function Hw(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr",9),L.Wb(2,"td",10),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc().onClickRow(n.value)})),L.Wb(3,"a"),L.Pc(4),L.Vb(),L.Vb(),L.Wb(5,"td",11),L.Pc(6),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,n=t.index;L.Cb(1),L.pc("formGroupName",n),L.Cb(3),L.Qc(e.get("firstInsertDatetime").value),L.Cb(2),L.Qc(e.get("lastUpdateName").value)}}function qw(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",12),L.Pc(3,"-"),L.Vb(),L.Vb(),L.Tb())}let Uw=(()=>{class e{constructor(e){this._dataService=e,this.savePnrLogMemoEvent=new L.n,this.selectPnrLogMemoEvent=new L.n,this.upsertForm=e.generatePnrLogMemosPutInitForm()}get pnrLogInfo(){return this._pnrLogInfo}set pnrLogInfo(e){this._pnrLogInfo=e,this.upsertForm=this._convertItmeToForm(e)}get pnrLogList(){var e;return(null===(e=this.pnrLogInfo)||void 0===e?void 0:e.list)||[]}get memos(){return this.upsertForm&&this.upsertForm.get("memos")}ngOnInit(){}onSave(e){if(this.upsertForm.invalid)return void(this.checkValid=!0);const{rowid:t,controlRemark:n}=e;this.savePnrLogMemoEvent.emit({rowid:t,controlRemark:n})}onClickRow(e){this.selectPnrLogMemoEvent.emit(e)}isDisabledSaveBtn(e){return!Q.isNil(e.get("controlRemark").value)}_convertItmeToForm(e){var t;if(!e)return this._dataService.generatePnrLogMemosPutInitForm();const n=(null===(t=this.pnrLogInfo)||void 0===t?void 0:t.list)||[];return this._dataService.generatePnrLogMemosPutForm(n)}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-gds-pnr-log"]],inputs:{pnrLogInfo:"pnrLogInfo"},outputs:{savePnrLogMemoEvent:"savePnrLogMemoEvent",selectPnrLogMemoEvent:"selectPnrLogMemoEvent"},decls:20,vars:3,consts:[[1,"page-item-header"],[1,"title"],[1,"control"],[3,"formGroup"],[1,"table","table-bordered","table-responsive",2,"max-height","900px","overflow","auto"],["scope","col",1,"align-c"],["formArrayName","memos"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"formGroupName"],[1,"align-c","text-underline",3,"click"],[1,"align-c"],["colspan","4",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Rb(1,"p",1),L.Rb(2,"div",2),L.Vb(),L.Wb(3,"form",3),L.Wb(4,"div",4),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," GDS PNR "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col"),L.Rb(10,"col"),L.Vb(),L.Wb(11,"thead"),L.Wb(12,"tr"),L.Wb(13,"th",5),L.Pc(14,"Saved Time"),L.Vb(),L.Wb(15,"th",5),L.Pc(16,"User"),L.Vb(),L.Vb(),L.Vb(),L.Wb(17,"tbody",6),L.Nc(18,Hw,7,3,"ng-container",7),L.Nc(19,qw,4,0,"ng-container",8),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(3),L.pc("formGroup",t.upsertForm),L.Cb(15),L.pc("ngForOf",t.memos.controls),L.Cb(1),L.pc("ngIf",0===t.memos.controls.length))},directives:[I.B,I.s,I.k,I.e,k.n,k.o,I.l],encapsulation:2,changeDetection:0}),e})(),Qw=(()=>{class e{constructor(e){this.store=e,this._subscribeStore()}ngOnInit(){}requestGdsPnrHandler(e){this.store.dispatch(h.loadGdsPnrInfoAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this.bookingItemCode})}))}savePnrLogMemoHandler(e){this.store.dispatch(h.savePnrLogAction({condition:e}))}selectPnrLogMemoHandler(e){this.store.dispatch(h.selectGdsPnrAction({gdsPnr:e}))}_subscribeStore(){this.gdsPnrInfo$=this.store.pipe(Object(P.u)(UO)),this.pnrLogInfo$=this.store.pipe(Object(P.u)(QO)),this.summary$=this.store.pipe(Object(P.u)(AO))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-gds-pnr"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",bookingItemCode:"bookingItemCode"},decls:7,vars:9,consts:[[1,"page-item"],[3,"gdsPnrInfo","summaryInfo","clickRequestGdsPnrEvent"],[3,"pnrLogInfo","savePnrLogMemoEvent","selectPnrLogMemoEvent"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"app-reservation-flight-gds-pnr-info",1),L.fc("clickRequestGdsPnrEvent",(function(e){return t.requestGdsPnrHandler(e)})),L.ic(2,"async"),L.ic(3,"async"),L.Vb(),L.Vb(),L.Wb(4,"div",0),L.Wb(5,"app-reservation-flight-gds-pnr-log",2),L.fc("savePnrLogMemoEvent",(function(e){return t.savePnrLogMemoHandler(e)}))("selectPnrLogMemoEvent",(function(e){return t.selectPnrLogMemoHandler(e)})),L.ic(6,"async"),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("gdsPnrInfo",L.jc(2,3,t.gdsPnrInfo$))("summaryInfo",L.jc(3,5,t.summary$)),L.Cb(4),L.pc("pnrLogInfo",L.jc(6,7,t.pnrLogInfo$)))},directives:[Yw,Uw],pipes:[k.b],encapsulation:2,changeDetection:0}),e})();function Gw(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td"),L.Wb(3,"app-checkbox",11),L.fc("ngModelChange",(function(t){return L.Fc(e),L.hc().checkedIndexs=t}))("onChange",(function(t){return L.Fc(e),L.hc().onCheckItem(t)})),L.Vb(),L.Vb(),L.Wb(4,"td",12),L.Pc(5),L.Vb(),L.Wb(6,"td",12),L.Pc(7),L.Vb(),L.Wb(8,"td",12),L.Pc(9),L.Vb(),L.Wb(10,"td",13),L.Pc(11),L.ic(12,"number"),L.Vb(),L.Wb(13,"td",13),L.Pc(14),L.ic(15,"number"),L.Vb(),L.Wb(16,"td",13),L.Pc(17),L.ic(18,"number"),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,n=t.index,i=L.hc();L.Cb(3),L.pc("value",n)("ngModel",i.checkedIndexs),L.Cb(2),L.Qc(e.bookingFareTypeName),L.Cb(2),L.Qc(e.paymentDetailTypeName),L.Cb(2),L.Qc(e.bookingTravelerName),L.Cb(2),L.Qc(L.jc(12,8,e.sumAmount)),L.Cb(3),L.Qc(L.jc(15,10,e.paidAmount)),L.Cb(3),L.Qc(L.jc(18,12,e.balanceAmount))}}function Kw(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",14),L.Pc(3,"\ubbf8\uc218\ub0b4\uc5ed\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."),L.Vb(),L.Vb(),L.Tb())}let zw=(()=>{class e{constructor(){this.clickMappingEvent=new L.n,this.isAllChecked=!1,this.checkedIndexs=[]}ngOnInit(){}clickMapping(){const e=this.checkedIndexs.map(e=>Object.assign({},this.unpaidList[e]));this.clickMappingEvent.emit(e)}onCheckAll(e){this.checkedIndexs=e?this.unpaidList.map((e,t)=>t):null}onCheckItem(e){this.isAllChecked=!(!e||this.checkedIndexs.length!==this.unpaidList.length)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-deposit-unpaid-info"]],inputs:{unpaidList:"unpaidList"},outputs:{clickMappingEvent:"clickMappingEvent"},decls:41,vars:4,consts:[[1,"page-item-header"],[1,"title"],[1,"color-danger","font-size-xs","ml5"],[1,"control"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"table","table-bordered","table-responsive",2,"max-height","500px","overflow","auto"],["width","42px"],["scope","col",1,"align-c"],[3,"binary","ngModel","ngModelChange","onChange"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value","ngModel","ngModelChange","onChange"],[1,"align-c"],[1,"align-r"],["colspan","7",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Pc(2," \ubbf8\uc218\ub0b4\uc5ed "),L.Wb(3,"span",2),L.Pc(4,"\u203b \ud56d\uacf5\uad8c \uce74\ub4dc \ubc1c\uad8c \uae08\uc561 \ubd84\ub9cc DSR \uc5c5\ub85c\ub4dc\uc2dc \uc790\ub3d9 \ubc18\uc601 \ub418\uc5b4 \ubbf8\uc218\uae08 \ucc28\uac10"),L.Vb(),L.Vb(),L.Wb(5,"div",3),L.Wb(6,"button",4),L.fc("click",(function(){return t.clickMapping()})),L.Pc(7,"\uc785\uae08\uc5f0\uacb0"),L.Vb(),L.Vb(),L.Vb(),L.Wb(8,"div",5),L.Wb(9,"table"),L.Wb(10,"caption"),L.Pc(11," \ubbf8\uc218\ub0b4\uc5ed "),L.Vb(),L.Wb(12,"colgroup"),L.Rb(13,"col",6),L.Rb(14,"col"),L.Rb(15,"col"),L.Rb(16,"col"),L.Rb(17,"col"),L.Rb(18,"col"),L.Rb(19,"col"),L.Rb(20,"col"),L.Rb(21,"col"),L.Vb(),L.Wb(22,"thead"),L.Wb(23,"tr"),L.Wb(24,"th",7),L.Wb(25,"app-checkbox",8),L.fc("ngModelChange",(function(e){return t.isAllChecked=e}))("onChange",(function(e){return t.onCheckAll(e)})),L.Vb(),L.Vb(),L.Wb(26,"th",7),L.Pc(27,"\uc6b4\uc784\uad6c\ubd84"),L.Vb(),L.Wb(28,"th",7),L.Pc(29,"\uc804\uc1a1\uad6c\ubd84"),L.Vb(),L.Wb(30,"th",7),L.Pc(31,"\ud0d1\uc2b9\uc790"),L.Vb(),L.Wb(32,"th",7),L.Pc(33,"\uacb0\uc81c\ub300\uc0c1\uae08\uc561"),L.Vb(),L.Wb(34,"th",7),L.Pc(35,"\uacb0\uc81c\uc644\ub8cc\uae08\uc561"),L.Vb(),L.Wb(36,"th",7),L.Pc(37,"\ubbf8\uc218\uae08"),L.Vb(),L.Vb(),L.Vb(),L.Wb(38,"tbody"),L.Nc(39,Gw,19,14,"ng-container",9),L.Nc(40,Kw,4,0,"ng-container",10),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(25),L.pc("binary",!0)("ngModel",t.isAllChecked),L.Cb(14),L.pc("ngForOf",t.unpaidList),L.Cb(1),L.pc("ngIf",(null==t.unpaidList?null:t.unpaidList.length)<1))},directives:[Kt.a,I.r,I.u,k.n,k.o],pipes:[k.f],encapsulation:2,changeDetection:0}),e})();function Xw(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-payment-unpaid-mapping",4),L.fc("completeEvent",(function(){return L.Fc(e),L.hc().completeDepositMappingHandler()})),L.Vb()}if(2&e){const e=L.hc();L.pc("unpaidDataList",e.checkedUnpaidList)}}let Zw=(()=>{class e{constructor(e,t){this.store=e,this.alertService=t,this.checkedUnpaidList=[],this._subscribeStore()}ngOnInit(){}openDepositMappingHandler(e){this.checkedUnpaidList=e,e.length<1?this.alertService.alert("Please select Accounts Receivable."):this.store.dispatch(h.openDepositMappingModalAction())}closeDepositMappingHandler(){this.store.dispatch(h.closeDepositMappingModalAction())}completeDepositMappingHandler(){this.store.dispatch(h.closeDepositMappingModalAction()),this.store.dispatch(u.reloadBookingDetailAction()),this.store.dispatch(h.loadUnpaidInfoAction({condition:{bookingItemCode:this.bookingItemCode,itemCategoryCode:"IC01",unpaidYn:!0}}))}_subscribeStore(){this.unpaidList$=this.store.pipe(Object(P.u)(_O)),this.isOpenDepositMappingModal$=this.store.pipe(Object(P.u)(hj))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-unpaid"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",bookingItemCode:"bookingItemCode"},decls:7,vars:10,consts:[[1,"page-item"],[3,"unpaidList","clickMappingEvent"],["modalSize","lg","modalContentClass","pd-all","header","\uc785\uae08\ub9e4\ud551",3,"visible","modal","visibleChange"],[3,"unpaidDataList","completeEvent",4,"ngIf"],[3,"unpaidDataList","completeEvent"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"app-reservation-flight-deposit-unpaid-info",1),L.fc("clickMappingEvent",(function(e){return t.openDepositMappingHandler(e)})),L.ic(2,"async"),L.Vb(),L.Vb(),L.Wb(3,"app-dialog",2),L.fc("visibleChange",(function(){return t.closeDepositMappingHandler()})),L.ic(4,"async"),L.Nc(5,Xw,1,1,"app-payment-unpaid-mapping",3),L.ic(6,"async"),L.Vb()),2&e&&(L.Cb(1),L.pc("unpaidList",L.jc(2,4,t.unpaidList$)),L.Cb(2),L.pc("visible",L.jc(4,6,t.isOpenDepositMappingModal$))("modal",!0),L.Cb(2),L.pc("ngIf",L.jc(6,8,t.isOpenDepositMappingModal$)))},directives:[zw,un.a,k.o,fR],pipes:[k.b],encapsulation:2,changeDetection:0}),e})();const Jw=function(){return{standalone:!0}};function ex(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr",17),L.Wb(2,"td"),L.Wb(3,"app-checkbox",18),L.fc("onChange",(function(n){L.Fc(e);const i=t.$implicit;return L.hc().onCheckRow(n,i.get("bookingTravelerCode").value)})),L.Vb(),L.Vb(),L.Wb(4,"td"),L.Wb(5,"p"),L.Pc(6),L.Vb(),L.Wb(7,"p"),L.Pc(8),L.Vb(),L.Vb(),L.Wb(9,"td"),L.Rb(10,"app-input-text",19),L.Vb(),L.Wb(11,"td"),L.Rb(12,"app-input-text",20),L.Vb(),L.Wb(13,"td"),L.Rb(14,"app-input-text",21),L.Vb(),L.Wb(15,"td"),L.Rb(16,"app-input-text",22),L.Vb(),L.Wb(17,"td"),L.Rb(18,"app-input-text",23),L.Vb(),L.Wb(19,"td"),L.Wb(20,"p",24),L.Pc(21),L.Vb(),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,i=t.index,o=L.hc();var n;L.Cb(1),L.pc("formGroupName",i),L.Cb(2),L.pc("value",e.get("bookingTravelerCode").value)("ngModel",o.checkedTravelers)("ngModelOptions",L.tc(13,Jw)),L.Cb(3),L.Sc("",e.get("lastName").value," / ",e.get("firstName").value,""),L.Cb(2),L.Qc(e.get("name").value),L.Cb(2),L.pc("isInvalid",o.checkIsInvalid("birthday",e)),L.Cb(2),L.pc("isInvalid",o.checkIsInvalid("passportNo",e)),L.Cb(2),L.pc("isInvalid",o.checkIsInvalid("expireDate",e)),L.Cb(2),L.pc("isInvalid",o.checkIsInvalid("nationalityCode",e)),L.Cb(2),L.pc("isInvalid",o.checkIsInvalid("issueCountryCode",e)),L.Cb(3),L.Qc(null==(n=e.get("lastUpdateDatetime"))?null:n.value)}}function tx(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",25),L.Pc(3,"-"),L.Vb(),L.Vb(),L.Tb())}let nx=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.submitEvent=new L.n,this.checkedTravelers=[],this.upsertForm=e.generateApisListPutInitForm()}get travelers(){return this._travelers}set travelers(e){this._travelers=e,this.upsertForm=this._dataService.generateApisListPutForm(e),this.upsertFormData=this._convertItemToForm(e)}get isAllChecked(){return this.checkedTravelers.length>0&&this.checkedTravelers.length===this.travelers.length}get apisList(){return this.upsertForm&&this.upsertForm.get("apisList")}get hasApisList(){return this.upsertForm&&this.upsertForm.get("apisList").controls.length>0}ngOnInit(){}onCheckAll(e){this.checkedTravelers=e?this.travelers.map(e=>e.bookingTravelerCode):[]}onCheckRow(e,t){e?this.checkedTravelers.push(t):this.checkedTravelers=this.checkedTravelers.filter(e=>e!==t)}checkIsInvalid(e,t){return this.checkValid&&t.get(e)&&t.get(e).invalid&&this.checkedTravelers.indexOf(t.get("bookingTravelerCode").value)>-1}onSubmit(){if(this.checkedTravelers.length<1)return void this.alertService.alert("Please select a traveler to send & save APIS.");if(!this._isValidForm())return void(this.checkValid=!0);const e=this.apisList.controls.filter(e=>this.checkedTravelers.indexOf(e.value.bookingTravelerCode)>-1).map(e=>e.value),t=this._convertFormToItem(e);this.submitEvent.emit(t)}_convertItemToForm(e){return e?{apisList:e.map(e=>({name:e.name,lastName:e.lastName,firstName:e.firstName,birthday:e.birthday,passportNo:e.passportNo,expireDate:e.expireDate,nationalityCode:e.nationalityCode,issueCountryCode:e.issueCountryCode,ageTypeCode:e.ageTypeCode,gender:e.gender,lastUpdateDatetime:e.lastUpdateDatetime}))}:this._dataService.initApisListPutInitForm()}_convertFormToItem(e){return{travelers:e.map(e=>({bookingTravelerCode:e.bookingTravelerCode,birthday:e.birthday,apisTypeCode:"P",nationalityCode:e.nationalityCode,issueCountryCode:e.issueCountryCode,passportNo:e.passportNo,expireDate:e.expireDate})),paxes:e.map(e=>({bookingTravelerCode:e.bookingTravelerCode,birthday:e.birthday,passportNationalityCode:e.nationalityCode,passportIssueCountryCode:e.issueCountryCode,passportNo:e.passportNo,passportExpireDate:e.expireDate,ageTypeCode:e.ageTypeCode,name:e.name,gender:e.gender}))}}_isValidForm(){return this.apisList.controls.filter(e=>this.checkedTravelers.indexOf(e.value.bookingTravelerCode)>-1).every(e=>e.valid)}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-apis-mileage-apis-list"]],inputs:{travelers:"travelers"},outputs:{submitEvent:"submitEvent"},decls:42,vars:7,consts:[[1,"page-item-header"],[1,"title"],[1,"control"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered","table-responsive"],["width","42px"],["width","90px"],["width","130px"],["width","80px"],["width","100px"],["scope","col",1,"align-c"],["styleClass","only","binary","true",3,"ngModel","ngModelOptions","onChange"],["formArrayName","apisList"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"],[3,"formGroupName"],["styleClass","only",3,"value","ngModel","ngModelOptions","onChange"],["formControlName","birthday","placeholder","YYYY-MM-DD","inputFormat","date",3,"isInvalid"],["formControlName","passportNo",3,"isInvalid"],["formControlName","expireDate","placeholder","YYYY-MM-DD","inputFormat","date",3,"isInvalid"],["formControlName","nationalityCode","inputFormat","upperCase",3,"isInvalid"],["formControlName","issueCountryCode","inputFormat","upperCase",3,"isInvalid"],[2,"white-space","pre-wrap"],["colspan","7",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"APIS"),L.Vb(),L.Rb(3,"div",2),L.Vb(),L.Wb(4,"form",3),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(5,"div",4),L.Wb(6,"table"),L.Wb(7,"caption"),L.Pc(8," APIS "),L.Vb(),L.Wb(9,"colgroup"),L.Rb(10,"col",5),L.Rb(11,"col",6),L.Rb(12,"col",7),L.Rb(13,"col",7),L.Rb(14,"col",7),L.Rb(15,"col",8),L.Rb(16,"col",8),L.Rb(17,"col",9),L.Vb(),L.Wb(18,"thead"),L.Wb(19,"tr"),L.Wb(20,"th",10),L.Wb(21,"app-checkbox",11),L.fc("onChange",(function(e){return t.onCheckAll(e)})),L.Vb(),L.Vb(),L.Wb(22,"th",10),L.Pc(23,"Traveler"),L.Vb(),L.Wb(24,"th",10),L.Pc(25,"Birthday"),L.Vb(),L.Wb(26,"th",10),L.Pc(27,"Passport No."),L.Vb(),L.Wb(28,"th",10),L.Pc(29,"Expired Date"),L.Vb(),L.Wb(30,"th",10),L.Pc(31,"Nat."),L.Vb(),L.Wb(32,"th",10),L.Pc(33,"Issued"),L.Vb(),L.Wb(34,"th",10),L.Pc(35,"Send Date"),L.Vb(),L.Vb(),L.Vb(),L.Wb(36,"tbody",12),L.Nc(37,ex,22,14,"ng-container",13),L.Nc(38,tx,4,0,"ng-container",14),L.Vb(),L.Vb(),L.Vb(),L.Wb(39,"div",15),L.Wb(40,"button",16),L.Pc(41,"Save & Sending"),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(4),L.pc("formGroup",t.upsertForm)("connectForm",t.upsertFormData),L.Cb(17),L.pc("ngModel",t.isAllChecked)("ngModelOptions",L.tc(6,Jw)),L.Cb(16),L.pc("ngForOf",t.apisList.controls),L.Cb(1),L.pc("ngIf",!t.hasApisList))},directives:[I.B,I.s,I.k,J.a,Kt.a,I.r,I.u,I.e,k.n,k.o,I.l,ee.a,I.i],encapsulation:2,changeDetection:0}),e})();const ix=function(e){return["mileageCards",e,"boardAirlineCode"]},ox=function(e){return["mileageCards",e,"appliedAirlineCode"]};function ax(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"tr",13),L.Wb(2,"td"),L.Rb(3,"app-checkbox",14),L.Vb(),L.Wb(4,"td"),L.Wb(5,"p"),L.Pc(6),L.Vb(),L.Wb(7,"p"),L.Pc(8),L.Vb(),L.Vb(),L.Wb(9,"td"),L.Rb(10,"app-input-text",15),L.Vb(),L.Wb(11,"td"),L.Rb(12,"app-input-text",16),L.Vb(),L.Wb(13,"td"),L.Rb(14,"app-input-text",17),L.Vb(),L.Wb(15,"td"),L.Pc(16),L.Vb(),L.Vb(),L.Tb()),2&e){const e=t.$implicit,i=t.index,o=L.hc();var n=null;L.Cb(1),L.pc("formGroupName",i),L.Cb(5),L.Sc("",null==e?null:e.get("lastName").value," / ",null==e?null:e.get("firstName").value,""),L.Cb(2),L.Qc(null==e?null:e.get("name").value),L.Cb(2),L.pc("inputFormat","upperCase")("isInvalid",o.checkIsInvalid(L.uc(9,ix,i))),L.Cb(2),L.pc("inputFormat","upperCase")("isInvalid",o.checkIsInvalid(L.uc(11,ox,i))),L.Cb(4),L.Qc(null==e||null==(n=e.get("mileageSendDatetime"))?null:n.value)}}function cx(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",18),L.Pc(3,"-"),L.Vb(),L.Vb(),L.Tb())}const sx=function(){return{standalone:!0}};let rx=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.submitEvent=new L.n,this.upsertForm=e.generateMileageCardsPutInitForm()}get travelers(){return this._travelers}set travelers(e){if(e){this._travelers=e;const t=this._makeMileageCardList(e);this.upsertForm=this._dataService.generateMileageCardsPutForm(t),this.upsertFormData=this._convertItemToForm(e)}}get isAllChecked(){const e=this.upsertForm.get("mileageCards").controls||[];return e.length>0&&e.every(e=>!0===e.value.checked)}get mileageCards(){return this.upsertForm&&this.upsertForm.get("mileageCards")}ngOnInit(){}onCheckAll(e){for(let t of this.mileageCards.controls)t.get("checked").setValue(e)}checkIsInvalid(e){return this._checkValid&&this.upsertForm.get(e)&&this.upsertForm.get(e).invalid}onSubmit(){if(this.upsertForm.invalid)return void(this._checkValid=!0);const e=this.mileageCards.controls.filter(e=>!0===e.value.checked).map(e=>e.value);if(0===e.length)return void this.alertService.alert("Please select the mileage information you want to transfer & save first.");const t=e.map(e=>{const{bookingTravelerCode:t,boardAirlineCode:n,appliedAirlineCode:i,mileageCardNo:o}=e;return{bookingTravelerCode:t,boardAirlineCode:n,appliedAirlineCode:i,mileageCardNo:o}});this.submitEvent.emit({travelers:t})}_convertItemToForm(e){return e||this._dataService.initMileageCardsPutForm(),this._makeMileageCardList(e)}_makeMileageCardList(e){return e.reduce((e,t)=>{let n=[];return!Q.isNil(t.mileageCards)&&t.mileageCards.length?t.mileageCards.forEach(e=>{n.push({bookingTravelerCode:t.bookingTravelerCode,name:t.name,lastName:t.lastName,firstName:t.firstName,boardAirlineCode:e.boardAirlineCode,appliedAirlineCode:e.appliedAirlineCode,mileageCardNo:e.mileageCardNo,mileageSendDatetime:e.mileageSendDatetime})}):n.push({bookingTravelerCode:t.bookingTravelerCode,name:t.name,lastName:t.lastName,firstName:t.firstName,boardAirlineCode:null,appliedAirlineCode:null,mileageCardNo:null,mileageSendDatetime:null}),e.concat(n)},[])}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-apis-mileage-mileage-list"]],inputs:{travelers:"travelers"},outputs:{submitEvent:"submitEvent"},decls:35,vars:7,consts:[[1,"page-item-header"],[1,"title"],[1,"control"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered","table-responsive"],["width","42px"],["scope","col",1,"align-c"],["styleClass","only","binary","true",3,"ngModel","ngModelOptions","onChange"],["formArrayName","mileageCards"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"],[3,"formGroupName"],["formControlName","checked","styleClass","only","binary","true"],["formControlName","boardAirlineCode","placeholder","e.g. KE",2,"min-width","100px",3,"inputFormat","isInvalid"],["formControlName","appliedAirlineCode",2,"min-width","100px",3,"inputFormat","isInvalid"],["formControlName","mileageCardNo",2,"min-width","100px"],["colspan","6",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Mileage"),L.Vb(),L.Rb(3,"div",2),L.Vb(),L.Wb(4,"form",3),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(5,"div",4),L.Wb(6,"table"),L.Wb(7,"caption"),L.Pc(8," Mileage "),L.Vb(),L.Wb(9,"colgroup"),L.Rb(10,"col",5),L.Rb(11,"col"),L.Rb(12,"col"),L.Rb(13,"col"),L.Rb(14,"col"),L.Vb(),L.Wb(15,"thead"),L.Wb(16,"tr"),L.Wb(17,"th",6),L.Wb(18,"app-checkbox",7),L.fc("onChange",(function(e){return t.onCheckAll(e)})),L.Vb(),L.Vb(),L.Wb(19,"th",6),L.Pc(20,"Traveler"),L.Vb(),L.Wb(21,"th",6),L.Pc(22,"Board Airline"),L.Vb(),L.Wb(23,"th",6),L.Pc(24,"Applied Airline"),L.Vb(),L.Wb(25,"th",6),L.Pc(26,"Mileage Card No."),L.Vb(),L.Wb(27,"th",6),L.Pc(28,"Send Date"),L.Vb(),L.Vb(),L.Vb(),L.Wb(29,"tbody",8),L.Nc(30,ax,17,13,"ng-container",9),L.Nc(31,cx,4,0,"ng-container",10),L.Vb(),L.Vb(),L.Vb(),L.Wb(32,"div",11),L.Wb(33,"button",12),L.Pc(34,"Save & Sending"),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(4),L.pc("formGroup",t.upsertForm)("connectForm",t.upsertFormData),L.Cb(14),L.pc("ngModel",t.isAllChecked)("ngModelOptions",L.tc(6,sx)),L.Cb(12),L.pc("ngForOf",t.mileageCards.controls),L.Cb(1),L.pc("ngIf",0===t.mileageCards.controls.length))},directives:[I.B,I.s,I.k,J.a,Kt.a,I.r,I.u,I.e,k.n,k.o,I.l,I.i,ee.a],encapsulation:2,changeDetection:0}),e})();const lx=function(){return[]};let dx=(()=>{class e{constructor(e){this.store=e,this._subscribeStore()}ngOnInit(){}saveApisHandler({travelers:e,paxes:t}){this.store.dispatch(h.saveApisAction({travelers:e,paxes:t,bookingItemCode:this.bookingItemCode}))}saveMileageCards(e){this.store.dispatch(h.saveMileageCardAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this.bookingItemCode})}))}_subscribeStore(){this.travelerInfo$=this.store.pipe(Object(P.u)(WO))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-apis-mileage"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",bookingItemCode:"bookingItemCode"},decls:6,vars:8,consts:[[1,"page-item"],[3,"travelers","submitEvent"]],template:function(e,t){if(1&e&&(L.Wb(0,"div",0),L.Wb(1,"app-reservation-flight-apis-mileage-apis-list",1),L.fc("submitEvent",(function(e){return t.saveApisHandler(e)})),L.ic(2,"async"),L.Vb(),L.Vb(),L.Wb(3,"div",0),L.Wb(4,"app-reservation-flight-apis-mileage-mileage-list",1),L.fc("submitEvent",(function(e){return t.saveMileageCards(e)})),L.ic(5,"async"),L.Vb(),L.Vb()),2&e){var n;const e=(null==(n=L.jc(2,2,t.travelerInfo$))?null:n.travelers)||L.tc(6,lx);var i;const o=(null==(i=L.jc(5,4,t.travelerInfo$))?null:i.travelers)||L.tc(7,lx);L.Cb(1),L.pc("travelers",e),L.Cb(3),L.pc("travelers",o)}},directives:[nx,rx],pipes:[k.b],encapsulation:2,changeDetection:0}),e})();function bx(e,t){if(1&e&&(L.Wb(0,"span"),L.Pc(1),L.Vb()),2&e){const e=L.hc().$implicit;L.Cb(1),L.Rc(" (",null==e?null:e.operatingAirlineCode,") ")}}function ux(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td"),L.Wb(3,"p"),L.Pc(4),L.Vb(),L.Wb(5,"p"),L.Pc(6),L.Vb(),L.Vb(),L.Wb(7,"td",7),L.Pc(8),L.Vb(),L.Wb(9,"td",7),L.Wb(10,"span"),L.Pc(11),L.Vb(),L.Wb(12,"span",8),L.Pc(13),L.Vb(),L.Nc(14,bx,2,1,"span",6),L.Vb(),L.Wb(15,"td",7),L.Pc(16),L.Vb(),L.Wb(17,"td",7),L.Pc(18),L.Vb(),L.Vb(),L.Tb()),2&e){const e=t.$implicit;L.Cb(4),L.Qc(e.nameEn),L.Cb(2),L.Qc(e.name),L.Cb(2),L.Sc("",e.originAirportCode,"-",e.destinationAirportCode,""),L.Cb(3),L.Qc(null==e?null:e.marketingAirlineCode),L.Cb(2),L.Qc(e.marketingFlightNumber),L.Cb(1),L.pc("ngIf",(null==e?null:e.operatingAirlineCode)&&e.marketingAirlineCode!==e.operatingAirlineCode),L.Cb(2),L.Qc(e.requestSeatNo),L.Cb(2),L.Qc(e.lastUpdateDatetime)}}function px(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",9),L.Pc(3,"\uace0\uac1d \uc88c\uc11d \uc9c0\uc815 \ub0b4\uc5ed\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."),L.Vb(),L.Vb(),L.Tb())}let mx=(()=>{class e{constructor(){}get seats(){var e;return(null===(e=this.travelers)||void 0===e?void 0:e.reduce((e,t)=>{if(!Q.isNil(t.seats)){const n=t.seats.map(e=>({name:t.name,nameEn:t.nameEn,originAirportCode:e.originAirportCode,destinationAirportCode:e.destinationAirportCode,operatingAirlineCode:e.operatingAirlineCode,marketingFlightNumber:e.marketingFlightNumber,marketingAirlineCode:e.marketingAirlineCode,requestSeatNo:e.requestSeatNo,lastUpdateDatetime:e.lastUpdateDatetime}));e=e.concat(n)}return e},[]))||[]}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-seat-list"]],inputs:{travelers:"travelers"},decls:29,vars:2,consts:[[1,"page-item-header"],[1,"title"],[1,"control"],[1,"table","table-bordered","table-responsive"],["scope","col",1,"align-c"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"align-c"],[1,"ml5"],["colspan","5",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"\uace0\uac1d\uc88c\uc11d\uc9c0\uc815\ub0b4\uc5ed"),L.Vb(),L.Rb(3,"div",2),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," \uace0\uac1d\uc88c\uc11d\uc9c0\uc815\ub0b4\uc5ed "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Rb(13,"col"),L.Vb(),L.Wb(14,"thead"),L.Wb(15,"tr"),L.Wb(16,"th",4),L.Pc(17,"\ud0d1\uc2b9\uc790\uba85"),L.Vb(),L.Wb(18,"th",4),L.Pc(19,"\uad6c\uac04"),L.Vb(),L.Wb(20,"th",4),L.Pc(21,"\ube44\ud589\ud3b8\uba85"),L.Vb(),L.Wb(22,"th",4),L.Pc(23,"\uc88c\uc11d\ubc88\ud638"),L.Vb(),L.Wb(24,"th",4),L.Pc(25,"\uc804\uc1a1\uc77c\uc2dc"),L.Vb(),L.Vb(),L.Vb(),L.Wb(26,"tbody"),L.Nc(27,ux,19,9,"ng-container",5),L.Nc(28,px,4,0,"ng-container",6),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(27),L.pc("ngForOf",t.seats),L.Cb(1),L.pc("ngIf",(null==t.seats?null:t.seats.length)<1))},directives:[k.n,k.o],encapsulation:2,changeDetection:0}),e})(),hx=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-seat"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",travelers:"travelers"},decls:2,vars:1,consts:[[1,"page-item"],[3,"travelers"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Rb(1,"app-reservation-flight-seat-list",1),L.Vb()),2&e&&(L.Cb(1),L.pc("travelers",t.travelers))},directives:[mx],encapsulation:2,changeDetection:0}),e})();function gx(e,t){1&e&&(L.Wb(0,"span",8),L.Pc(1,"[0%]"),L.Vb())}function fx(e,t){if(1&e&&(L.Wb(0,"span",8),L.Pc(1),L.ic(2,"number"),L.Vb()),2&e){const e=L.hc();L.Cb(1),L.Rc("[",L.jc(2,1,null==e.payment?null:e.payment.revenueRate),"%]")}}let vx=(()=>{class e{constructor(){}get isCancelBooking(){return"BKS20"===this.bookingStatusCode||"BKS14"===this.bookingStatusCode}ngOnInit(){}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-price-detail-payment"]],inputs:{payment:"payment",bookingStatusCode:"bookingStatusCode"},decls:50,vars:20,consts:[[1,"page-item-header"],[1,"title"],[1,"table","table-bordered","table-responsive"],["width","16%"],["scope","row",1,"th-bg","align-l"],[1,"align-r"],["scope","row",1,"th-bg","align-l","font-weight-bold"],["class","color-blue ml5",4,"ngIf"],[1,"color-blue","ml5"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"\uacb0\uc81c/\uc218\uc775\ub0b4\uc5ed"),L.Vb(),L.Vb(),L.Wb(3,"div",2),L.Wb(4,"table"),L.Wb(5,"caption"),L.Pc(6," \uacb0\uc81c/\uc218\uc775\ub0b4\uc5ed "),L.Vb(),L.Wb(7,"colgroup"),L.Rb(8,"col",3),L.Rb(9,"col",3),L.Rb(10,"col",3),L.Rb(11,"col",3),L.Rb(12,"col",3),L.Rb(13,"col",3),L.Vb(),L.Wb(14,"tbody"),L.Wb(15,"tr"),L.Wb(16,"th",4),L.Pc(17,"\uacb0\uc81c\ub300\uc0c1\uae08\uc561"),L.Vb(),L.Wb(18,"td",5),L.Pc(19),L.ic(20,"number"),L.Vb(),L.Wb(21,"th",4),L.Pc(22,"\ucfe0\ud3f0"),L.Vb(),L.Wb(23,"td",5),L.Pc(24),L.ic(25,"number"),L.Vb(),L.Wb(26,"th",4),L.Pc(27,"\ud3ec\uc778\ud2b8"),L.Vb(),L.Wb(28,"td",5),L.Pc(29),L.ic(30,"number"),L.Vb(),L.Vb(),L.Wb(31,"tr"),L.Wb(32,"th",4),L.Pc(33,"\uc2e4\uacb0\uc81c\uae08\uc561"),L.Vb(),L.Wb(34,"td",5),L.Pc(35),L.ic(36,"number"),L.Vb(),L.Wb(37,"th",4),L.Pc(38,"\ubbf8\uc218\uc794\uc561"),L.Vb(),L.Wb(39,"td",5),L.Pc(40),L.ic(41,"number"),L.Vb(),L.Wb(42,"th",6),L.Pc(43,"\uc218\uc775(\uc0c1\ud488\uac00\ub300\ube44)"),L.Vb(),L.Wb(44,"td",5),L.Wb(45,"span"),L.Pc(46),L.ic(47,"number"),L.Vb(),L.Nc(48,gx,2,0,"span",7),L.Nc(49,fx,3,3,"span",7),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(19),L.Qc(L.jc(20,8,null==t.payment?null:t.payment.sumAmount)),L.Cb(5),L.Qc(L.jc(25,10,null==t.payment?null:t.payment.couponPaidAmount)),L.Cb(5),L.Qc(L.jc(30,12,null==t.payment?null:t.payment.mileagePaidAmount)),L.Cb(6),L.Qc(L.jc(36,14,null==t.payment?null:t.payment.paidAmount)),L.Cb(5),L.Qc(L.jc(41,16,null==t.payment?null:t.payment.balanceAmount)),L.Cb(6),L.Qc(L.jc(47,18,null==t.payment?null:t.payment.revenueAmount)),L.Cb(2),L.pc("ngIf",t.isCancelBooking),L.Cb(1),L.pc("ngIf",!t.isCancelBooking))},directives:[k.o],pipes:[k.f],encapsulation:2,changeDetection:0}),e})();function Cx(e,t){1&e&&(L.Wb(0,"span",10),L.Pc(1,"~"),L.Vb())}function yx(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",7),L.Pc(3),L.Vb(),L.Wb(4,"td",7),L.Pc(5),L.Vb(),L.Wb(6,"td",8),L.Pc(7),L.ic(8,"number"),L.Vb(),L.Wb(9,"td",7),L.Wb(10,"span"),L.Pc(11),L.Vb(),L.Nc(12,Cx,2,0,"span",9),L.Wb(13,"span"),L.Pc(14),L.Vb(),L.Vb(),L.Wb(15,"td"),L.Pc(16),L.Vb(),L.Vb(),L.Tb()),2&e){const e=t.$implicit;L.Cb(3),L.Qc(null==e?null:e.typeName),L.Cb(2),L.Qc(null==e?null:e.discountCode),L.Cb(2),L.Qc(L.jc(8,7,null==e?null:e.discountAmount)),L.Cb(4),L.Qc(null==e?null:e.fromDate),L.Cb(1),L.pc("ngIf",(null==e?null:e.fromDate)||(null==e?null:e.toDate)),L.Cb(2),L.Qc(null==e?null:e.toDate),L.Cb(2),L.Qc(null==e?null:e.description)}}function kx(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",11),L.Pc(3,"\ucfe0\ud3f0 \ubc0f \ud504\ub85c\ubaa8\uc158 \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."),L.Vb(),L.Vb(),L.Tb())}let Ix=(()=>{class e{constructor(){}ngOnInit(){}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-hotel-price-detail-discounts"]],inputs:{discounts:"discounts"},decls:28,vars:2,consts:[[1,"page-item-header"],[1,"title"],[1,"table","table-bordered","table-responsive"],["width","35%"],["scope","col",1,"align-c"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"align-c"],[1,"align-r"],["class","dash",4,"ngIf"],[1,"dash"],["colspan","5",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"\ucfe0\ud3f0 \ubc0f \ud504\ub85c\ubaa8\uc158 \uc815\ubcf4"),L.Vb(),L.Vb(),L.Wb(3,"div",2),L.Wb(4,"table"),L.Wb(5,"caption"),L.Pc(6," \ucfe0\ud3f0 \ubc0f \ud504\ub85c\ubaa8\uc158 \uc815\ubcf4 "),L.Vb(),L.Wb(7,"colgroup"),L.Rb(8,"col"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col",3),L.Vb(),L.Wb(13,"thead"),L.Wb(14,"tr"),L.Wb(15,"th",4),L.Pc(16,"\uad6c\ubd84"),L.Vb(),L.Wb(17,"th",4),L.Pc(18,"\ucf54\ub4dc"),L.Vb(),L.Wb(19,"th",4),L.Pc(20,"\ud560\uc778 \uae08\uc561"),L.Vb(),L.Wb(21,"th",4),L.Pc(22,"\uc0ac\uc6a9\uae30\uac04/\uc608\uc57d\uae30\uac04"),L.Vb(),L.Wb(23,"th",4),L.Pc(24,"\uc774\ub984"),L.Vb(),L.Vb(),L.Vb(),L.Wb(25,"tbody"),L.Nc(26,yx,17,9,"ng-container",5),L.Nc(27,kx,4,0,"ng-container",6),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(26),L.pc("ngForOf",t.discounts),L.Cb(1),L.pc("ngIf",(null==t.discounts?null:t.discounts.length)<1))},directives:[k.n,k.o],pipes:[k.f],encapsulation:2,changeDetection:0}),e})();function Ox(e,t){if(1&e){const e=L.Xb();L.Wb(0,"a",6),L.fc("click",(function(){return L.Fc(e),L.hc().clickAncillaryInfoEvent.emit()})),L.Pc(1,"\ucd94\uac00"),L.Vb()}}function Px(e,t){if(1&e){const e=L.Xb();L.Wb(0,"a",6),L.fc("click",(function(){return L.Fc(e),L.hc().onClickDeleteChargeInfo()})),L.Pc(1,"\uc0ad\uc81c"),L.Vb()}}function jx(e,t){if(1&e){const e=L.Xb();L.Wb(0,"a",6),L.fc("click",(function(){return L.Fc(e),L.hc().onClickCreditCard()})),L.Pc(1,"PG\uc218\uae30\uacb0\uc81c"),L.Vb()}}function Vx(e,t){if(1&e){const e=L.Xb();L.Wb(0,"a",6),L.fc("click",(function(){return L.Fc(e),L.hc().onClickBank()})),L.Pc(1,"\uac00\uc0c1\uacc4\uc88c\ubc1c\ud589"),L.Vb()}}function Ax(e,t){if(1&e&&(L.Wb(0,"span"),L.Pc(1),L.Vb()),2&e){const e=L.hc().$implicit;L.Cb(1),L.Rc("(",e.operatingAirlineCode,")")}}function Wx(e,t){if(1&e){const e=L.Xb();L.Wb(0,"tr"),L.Wb(1,"td",14),L.Wb(2,"app-checkbox",15),L.fc("ngModelChange",(function(t){return L.Fc(e),L.hc(3).checkedRowid=t}))("onChange",(function(t){return L.Fc(e),L.hc(3).onCheckItem(t)})),L.Vb(),L.Vb(),L.Wb(3,"td"),L.Wb(4,"p"),L.Pc(5),L.Vb(),L.Wb(6,"p"),L.Pc(7),L.Vb(),L.Vb(),L.Wb(8,"td",14),L.Wb(9,"span"),L.Pc(10),L.Vb(),L.Wb(11,"span",16),L.Pc(12),L.Vb(),L.Nc(13,Ax,2,1,"span",10),L.Vb(),L.Wb(14,"td",14),L.Pc(15),L.Vb(),L.Wb(16,"td",12),L.Pc(17),L.ic(18,"number"),L.Vb(),L.Wb(19,"td",12),L.Pc(20),L.ic(21,"number"),L.Vb(),L.Wb(22,"td",14),L.Pc(23),L.Vb(),L.Wb(24,"td",14),L.Pc(25),L.Vb(),L.Vb()}if(2&e){const e=t.$implicit,n=L.hc(3);L.Cb(2),L.pc("value",e.rowid)("ngModel",n.checkedRowid),L.Cb(3),L.Qc(e.nameEn),L.Cb(2),L.Qc(e.name),L.Cb(3),L.Qc(e.marketingAirlineCode),L.Cb(2),L.Qc(e.marketingFlightNumber),L.Cb(1),L.pc("ngIf",e.operatingAirlineCode&&e.marketingAirlineCode!==e.operatingAirlineCode),L.Cb(2),L.Qc(e.ancillaryTypeName),L.Cb(2),L.Qc(L.jc(18,12,e.ancillaryAmount)),L.Cb(3),L.Qc(L.jc(21,14,e.commAmount)),L.Cb(3),L.Qc(e.gdsStatusCode),L.Cb(2),L.Qc(e.ancillaryStatusName)}}function Rx(e,t){if(1&e&&(L.Ub(0),L.Nc(1,Wx,26,16,"ng-template",13),L.Tb()),2&e){const e=L.hc(2);L.Cb(1),L.pc("ngForOf",e.prices)}}function Fx(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",17),L.Pc(3,"\ucd94\uac00\uc694\uae08 \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."),L.Vb(),L.Vb(),L.Tb())}function Sx(e,t){if(1&e){const e=L.Xb();L.Wb(0,"div",7),L.Wb(1,"table"),L.Wb(2,"caption"),L.Pc(3," \ucd94\uac00\uc694\uae08 "),L.Vb(),L.Wb(4,"colgroup"),L.Rb(5,"col"),L.Rb(6,"col"),L.Rb(7,"col"),L.Rb(8,"col"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Vb(),L.Wb(13,"thead"),L.Wb(14,"tr"),L.Wb(15,"th",8),L.Wb(16,"app-checkbox",9),L.fc("onChange",(function(t){return L.Fc(e),L.hc().onCheckAll(t)})),L.Vb(),L.Vb(),L.Wb(17,"th",8),L.Pc(18,"\ud0d1\uc2b9\uc790"),L.Vb(),L.Wb(19,"th",8),L.Pc(20,"\uad6c\uac04/\ube44\ud589\ud3b8\uba85"),L.Vb(),L.Wb(21,"th",8),L.Pc(22,"\ubd80\uac00\uc11c\ube44\uc2a4 \uc885\ub958"),L.Vb(),L.Wb(23,"th",8),L.Pc(24,"\uae08\uc561"),L.Vb(),L.Wb(25,"th",8),L.Pc(26,"\ucee4\ubbf8\uc158\uae08\uc561"),L.Vb(),L.Wb(27,"th",8),L.Pc(28,"GDS\uc0c1\ud0dc\ucf54\ub4dc"),L.Vb(),L.Wb(29,"th",8),L.Pc(30,"\ubd80\uac00\uc11c\ube44\uc2a4\uc0c1\ud0dc\ucf54\ub4dc"),L.Vb(),L.Vb(),L.Vb(),L.Wb(31,"tbody"),L.Nc(32,Rx,2,1,"ng-container",10),L.Nc(33,Fx,4,0,"ng-container",10),L.Vb(),L.Wb(34,"tfoot"),L.Wb(35,"tr"),L.Wb(36,"td",11),L.Pc(37,"\ud569\uacc4"),L.Vb(),L.Wb(38,"td",12),L.Pc(39),L.ic(40,"number"),L.Vb(),L.Wb(41,"td",12),L.Pc(42),L.ic(43,"number"),L.Vb(),L.Rb(44,"td",12),L.Rb(45,"td",12),L.Vb(),L.Vb(),L.Vb(),L.Vb()}if(2&e){const e=L.hc();L.Cb(16),L.pc("binary",!0)("ngModel",e.isAllChecked),L.Cb(16),L.pc("ngIf",e.hasAncillaryPrices),L.Cb(1),L.pc("ngIf",!e.hasAncillaryPrices),L.Cb(6),L.Qc(L.jc(40,6,null==e.sumInfo?null:e.sumInfo.ancillaryAmount)),L.Cb(3),L.Qc(L.jc(43,8,null==e.sumInfo?null:e.sumInfo.commAmount))}}let Tx=(()=>{class e{constructor(e){this.alertService=e,this.clickAncillaryInfoEvent=new L.n,this.clickDeleteChargeInfoEvent=new L.n,this.clickCreditCardEvent=new L.n,this.clickBankEvent=new L.n,this.checkPriceEvent=new L.n,this.isActiveToggle=!0,this.checkedRowid=[]}get ancillaryInfo(){return this._ancillaryInfo}set ancillaryInfo(e){this._ancillaryInfo=e,this.checkedRowid=[],this.checkPriceEvent.emit([])}get prices(){var e;return(null===(e=this.ancillaryInfo)||void 0===e?void 0:e.prices)||[]}get sumInfo(){var e;return null===(e=this.ancillaryInfo)||void 0===e?void 0:e.sumInfo}get ancillaryButtons(){var e;return null===(e=this.ancillaryInfo)||void 0===e?void 0:e.buttons}get hasAncillaryPrices(){var e,t;return(null===(t=null===(e=this.ancillaryInfo)||void 0===e?void 0:e.prices)||void 0===t?void 0:t.length)>0}get isAllChecked(){return this.checkedRowid.length>0&&this.checkedRowid.length===this.prices.length}ngOnInit(){}onClickToggle(){this.isActiveToggle=!this.isActiveToggle}onCheckAll(e){this.checkedRowid=e?this.prices.map(e=>e.rowid):[];const t=this.prices.filter(e=>this.checkedRowid.indexOf(e.rowid)>-1);this.checkPriceEvent.emit(t)}onCheckItem(e){const t=this.prices.filter(e=>this.checkedRowid.indexOf(e.rowid)>-1);this.checkPriceEvent.emit(t)}onClickDeleteChargeInfo(){this.checkedRowid.length<1?this.alertService.alert("Select the additional service information you want to delete."):this.clickDeleteChargeInfoEvent.emit(this.checkedRowid)}onClickCreditCard(){this.checkedRowid.length<1?this.alertService.alert("Select an additional service."):this.clickCreditCardEvent.emit()}onClickBank(){this.checkedRowid.length<1?this.alertService.alert("Select an additional service."):this.clickBankEvent.emit()}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-ancillary"]],inputs:{ancillaryInfo:"ancillaryInfo"},outputs:{clickAncillaryInfoEvent:"clickAncillaryInfoEvent",clickDeleteChargeInfoEvent:"clickDeleteChargeInfoEvent",clickCreditCardEvent:"clickCreditCardEvent",clickBankEvent:"clickBankEvent",checkPriceEvent:"checkPriceEvent"},decls:10,vars:7,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title","toggle",3,"click"],[1,"control"],["class","btn btn-outline-dark sm",3,"click",4,"ngIf"],["class","table table-bordered table-responsive",4,"ngIf"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"table","table-bordered","table-responsive"],["scope","col",1,"align-c"],[3,"binary","ngModel","onChange"],[4,"ngIf"],["colspan","4",1,"align-c"],[1,"align-r"],["ngFor","",3,"ngForOf"],[1,"align-c"],[3,"value","ngModel","ngModelChange","onChange"],[1,"ml5"],["colspan","10",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"a",2),L.fc("click",(function(){return t.onClickToggle()})),L.Pc(3,"\ubd80\uac00\uc11c\ube44\uc2a4"),L.Vb(),L.Wb(4,"div",3),L.Nc(5,Ox,2,0,"a",4),L.Nc(6,Px,2,0,"a",4),L.Nc(7,jx,2,0,"a",4),L.Nc(8,Vx,2,0,"a",4),L.Vb(),L.Vb(),L.Nc(9,Sx,46,10,"div",5),L.Vb()),2&e&&(L.Cb(2),L.Gb("active",t.isActiveToggle),L.Cb(3),L.pc("ngIf",null==t.ancillaryButtons?null:t.ancillaryButtons.addYn),L.Cb(1),L.pc("ngIf",null==t.ancillaryButtons?null:t.ancillaryButtons.deleteYn),L.Cb(1),L.pc("ngIf",null==t.ancillaryButtons?null:t.ancillaryButtons.pgPayYn),L.Cb(1),L.pc("ngIf",null==t.ancillaryButtons?null:t.ancillaryButtons.vaccountYn),L.Cb(1),L.pc("ngIf",t.isActiveToggle))},directives:[k.o,Kt.a,I.r,I.u,k.n],pipes:[k.f],encapsulation:2,changeDetection:0}),e})();function Nx(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"\uac1c\uc778"),L.Vb())}function Ex(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"\ub2e8\uccb4"),L.Vb())}function Mx(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"Y"),L.Vb())}function Dx(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"N"),L.Vb())}function Lx(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"th",6),L.Pc(3,"\uc694\uccad\uc77c"),L.Vb(),L.Wb(4,"td"),L.Pc(5),L.Vb(),L.Wb(6,"th",6),L.Pc(7,"TAX \uace0\uc815"),L.Vb(),L.Wb(8,"td"),L.Rb(9,"app-checkbox",26),L.Vb(),L.Vb(),L.Tb()),2&e){const e=L.hc();L.Cb(5),L.Rc(" ",null==e.basicInfo?null:e.basicInfo.payRequestDatetime," ")}}function _x(e,t){if(1&e&&(L.Wb(0,"span"),L.Pc(1),L.Vb()),2&e){const e=L.hc(2);L.Cb(1),L.Rc("Y [",(null==e.basicInfo?null:e.basicInfo.gdsInicisCode)||" - ","]")}}function $x(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"N"),L.Vb())}function Bx(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"th",6),L.Pc(3,"\uc790\ub3d9\ubc1c\uad8c\uc0c1\ud0dc"),L.Vb(),L.Wb(4,"td"),L.Wb(5,"div",11),L.Rb(6,"app-radio",27),L.Rb(7,"app-radio",28),L.Rb(8,"app-radio",29),L.Rb(9,"app-radio",30),L.Rb(10,"app-radio",31),L.Vb(),L.Vb(),L.Wb(11,"th",6),L.Pc(12,"TAX \uace0\uc815"),L.Vb(),L.Wb(13,"td"),L.Rb(14,"app-checkbox",26),L.Vb(),L.Vb(),L.Wb(15,"tr"),L.Wb(16,"th",6),L.Pc(17,"\uc694\uccad\uc77c"),L.Vb(),L.Wb(18,"td"),L.Pc(19),L.Vb(),L.Wb(20,"th",6),L.Pc(21,"\uc774\ub2c8\uc2dc\uc2a4 \uc9c1\uac00\ub9f9"),L.Vb(),L.Wb(22,"td"),L.Nc(23,_x,2,1,"span",7),L.Nc(24,$x,2,0,"span",7),L.Vb(),L.Vb(),L.Tb()),2&e){const e=L.hc();L.Cb(19),L.Rc(" ",null==e.basicInfo?null:e.basicInfo.payRequestDatetime," "),L.Cb(4),L.pc("ngIf",!0===(null==e.basicInfo?null:e.basicInfo.inicisRegisterYn)),L.Cb(1),L.pc("ngIf",!1===(null==e.basicInfo?null:e.basicInfo.inicisRegisterYn))}}function wx(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"Y"),L.Vb())}function xx(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"N"),L.Vb())}function Yx(e,t){if(1&e&&(L.Ub(0),L.Nc(1,wx,2,0,"span",7),L.Nc(2,xx,2,0,"span",7),L.Tb()),2&e){const e=L.hc(2);L.Cb(1),L.pc("ngIf",!0===(null==e.basicInfo?null:e.basicInfo.apisRegisterYn)),L.Cb(1),L.pc("ngIf",!1===(null==e.basicInfo?null:e.basicInfo.apisRegisterYn))}}function Hx(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"th",6),L.Pc(3,"\uc790\ub3d9\ubc1c\uad8c\uc0c1\ud0dc"),L.Vb(),L.Wb(4,"td"),L.Wb(5,"div",11),L.Rb(6,"app-radio",27),L.Rb(7,"app-radio",28),L.Rb(8,"app-radio",29),L.Rb(9,"app-radio",30),L.Rb(10,"app-radio",31),L.Vb(),L.Vb(),L.Wb(11,"th",6),L.Pc(12,"TAX \uace0\uc815"),L.Vb(),L.Wb(13,"td"),L.Rb(14,"app-checkbox",26),L.Vb(),L.Vb(),L.Wb(15,"tr"),L.Wb(16,"th",6),L.Pc(17,"\uc694\uccad\uc77c"),L.Vb(),L.Wb(18,"td"),L.Pc(19),L.Vb(),L.Wb(20,"th",6),L.Pc(21),L.Vb(),L.Wb(22,"td"),L.Nc(23,Yx,3,2,"ng-container",7),L.Vb(),L.Vb(),L.Tb()),2&e){const e=L.hc();L.Cb(19),L.Rc(" ",null==e.basicInfo?null:e.basicInfo.payRequestDatetime," "),L.Cb(2),L.Rc(" ",e.domesticYn?"":"APIS \uc785\ub825\uc5ec\ubd80"," "),L.Cb(2),L.pc("ngIf",!e.domesticYn)}}const qx=function(){return["CMP01","CMP02","CMP03","CMP04","CMP05","CMP06","CMP07","CMP08","CMP09","CMP10","CMP11","CMP99"]},Ux=function(e){return{compTypeCodes:e}},Qx=function(){return["compCode","compName"]};let Gx=(()=>{class e{constructor(e,t){this._dataService=e,this._alertService=t,this.submitEvent=new L.n,this._$unsubscribe=new Fe.a,this.upsertForm=e.generateBasisDataPutForm()}get ticketingDsrFinishYn(){return this._ticketingDsrFinishYn}set ticketingDsrFinishYn(e){this._ticketingDsrFinishYn=e,this._setFinishFormDisabled(e)}get segments(){return this._segments}set segments(e){this._segments=e,Q.isNil(e)||(this.iataOptions=this._makeIataOptions(e))}get summaryInfo(){return this._summaryInfo}set summaryInfo(e){this._summaryInfo=e,Q.isNil(e)||this._setAutoTicketingStatusDisabled(e)}get basicInfo(){return this._basicInfo}set basicInfo(e){this._basicInfo=e,this.upsertFormData=this._convertItemToForm(e)}get cityInput(){return Q.isNil(this.basicInfo)?null:this.basicInfo.destinationCityCodeIata}get ticketingCompInput(){var e;return(null===(e=this.basicInfo)||void 0===e?void 0:e.ticketingCompName)||null}get domesticYn(){var e;return!0===(null===(e=this.summaryInfo)||void 0===e?void 0:e.domesticYn)}get isBtms(){var e;return"STN05"===(null===(e=this.summaryInfo)||void 0===e?void 0:e.stationTypeCode)}get isB2b(){var e;return"STN04"===(null===(e=this.summaryInfo)||void 0===e?void 0:e.stationTypeCode)}get isB2c(){var e,t;return"STN05"!==(null===(e=this.summaryInfo)||void 0===e?void 0:e.stationTypeCode)&&"STN04"!==(null===(t=this.summaryInfo)||void 0===t?void 0:t.stationTypeCode)}ngOnInit(){this._initSubscription()}checkIsInvalid(e){return this.checkValid&&this.upsertForm.get(e)&&this.upsertForm.get(e).invalid}onSubmit(){if(this.upsertForm.invalid)return void(this.checkValid=!0);const e=this._convertFormToItem(this.upsertForm.getRawValue(),this.basicInfo);this.submitEvent.emit(e)}onSelectCityCodeIata(e){const{cityCodeIata:t}=e;this.segments.some(e=>e.destinationAirportCode===t)||(this._alertService.alert("Please include the correct destination city."),this.upsertForm.get("destinationCityCodeIata").setValue(null))}_setFinishFormDisabled(e){e?(this.upsertForm.get("destinationCityCodeIata").disable(),this.upsertForm.get("departureTypeCode").disable(),this.upsertForm.get("billingTypeCode").disable(),this.upsertForm.get("stockAirlineCode").disable(),this.upsertForm.get("ticketingCompCode").disable(),this.upsertForm.get("autoTicketingStatusCode").disable(),this.upsertForm.get("controlBranchCode").disable()):(this.upsertForm.get("destinationCityCodeIata").enable(),this.upsertForm.get("departureTypeCode").enable(),this.upsertForm.get("billingTypeCode").enable(),this.upsertForm.get("stockAirlineCode").enable(),this.upsertForm.get("ticketingCompCode").enable(),this.upsertForm.get("autoTicketingStatusCode").enable(),this.upsertForm.get("controlBranchCode").enable())}_setAutoTicketingStatusDisabled(e){const{stationTypeCode:t,onOffManual:n}=e;"STN04"===t||"F"===n?this.upsertForm.get("autoTicketingStatusCode").disable():this.upsertForm.get("autoTicketingStatusCode").enable()}_makeIataOptions(e){const t=e.map(e=>({value:e.destinationCityCodeIata,label:e.destinationCityCodeIata}));return Q.uniqBy(t,"value")}_convertItemToForm(e){return e?{destinationCityCodeIata:e.destinationCityCodeIata,departureTypeCode:e.departureTypeCode,autoTicketingStatusCode:e.autoTicketingStatusCode,ticketingCompCode:e.ticketingCompCode,billingTypeCode:e.billingTypeCode,stockAirlineCode:e.stockAirlineCode,controlBranchCode:e.controlBranchCode,myPageDisplayYn:e.myPageDisplayYn,evidenceNeededYn:e.evidenceNeededYn,evidenceConfirmYn:e.evidenceConfirmYn,airlineReportYn:e.airlineReportYn,taxFixedYn:e.taxFixedYn}:this._dataService.initBasisDataPutForm()}_convertFormToItem(e,t){const{destinationCityCodeIata:n,departureTypeCode:i,autoTicketingStatusCode:o,ticketingCompCode:a,billingTypeCode:c,controlBranchCode:s,myPageDisplayYn:r,evidenceNeededYn:l,evidenceConfirmYn:d,airlineReportYn:b,taxFixedYn:u,stockAirlineCode:p}=e,{bookingItemCode:m,groupOrFit:h,routingTypeCode:g,apisRegisterYn:f}=t;return{destinationCityCodeIata:n,departureTypeCode:i,autoTicketingStatusCode:o,ticketingCompCode:a,billingTypeCode:c,controlBranchCode:s,myPageDisplayYn:r,evidenceNeededYn:l,evidenceConfirmYn:d,airlineReportYn:b,taxFixedYn:u,bookingItemCode:m,groupOrFit:h,routingTypeCode:g,apisRegisterYn:f,stockAirlineCode:p}}_initSubscription(){this.upsertForm.get("billingTypeCode").valueChanges.pipe(Object(Ci.a)(this._$unsubscribe)).subscribe(e=>{"A"===e?this.upsertForm.get("ticketingCompCode").enable():this.upsertForm.get("ticketingCompCode").disable()})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-basis-data-info"]],inputs:{ticketingDsrFinishYn:"ticketingDsrFinishYn",departureTypeList:"departureTypeList",controlBranchList:"controlBranchList",segments:"segments",summaryInfo:"summaryInfo",basicInfo:"basicInfo"},outputs:{submitEvent:"submitEvent"},decls:95,vars:33,consts:[[1,"page-item-header"],[1,"title"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","120px"],["width","140px"],["scope","row",1,"th-bg"],[4,"ngIf"],["formControlName","stockAirlineCode","placeholder","\ud56d\uacf5\uc0ac\ucf54\ub4dc 2\uc790\ub9ac \uc785\ub825","inputFormat","stockAirLine",3,"isInvalid"],["formControlName","destinationCityCodeIata",3,"options"],["formControlName","departureTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn",2,"min-width","120px",3,"options","isInvalid"],[1,"form-group"],["name","myPageDisplayYn","formControlName","myPageDisplayYn","label","Y",3,"value"],["name","myPageDisplayYn","formControlName","myPageDisplayYn","label","N",3,"value"],["name","evidenceNeededYn","formControlName","evidenceNeededYn","label","Y",3,"value"],["name","evidenceNeededYn","formControlName","evidenceNeededYn","label","N",3,"value"],["name","billingTypeCode","formControlName","billingTypeCode","value","B","label","BSP"],["name","billingTypeCode","formControlName","billingTypeCode","value","A","label","ATR"],["name","evidenceConfirmYn","formControlName","evidenceConfirmYn","label","Y",3,"value"],["name","evidenceConfirmYn","formControlName","evidenceConfirmYn","label","N",3,"value"],["apiUrl","common/comp","formControlName","ticketingCompCode","dataKey","compCode","inputFieldFormat","[{0}] {1}","placeholder","\uc774\ub984 \uac80\uc0c9",3,"inputFieldValue","apiCondition","apiSearchTerm","inputFieldFormatKeyList"],["name","airlineReportYn","formControlName","airlineReportYn","label","Y",3,"value"],["name","airlineReportYn","formControlName","airlineReportYn","label","N",3,"value"],["dataKey","detailCode","displayKey","detailCodeNameEn","formControlName","controlBranchCode",2,"min-width","120px",3,"options","isInvalid"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"],["formControlName","taxFixedYn","label","TAX \uace0\uc815","binary","true",1,"ml10"],["name","autoTicketingStatusCode","formControlName","autoTicketingStatusCode","value","ATS01","label","\ub300\uc0c1"],["name","autoTicketingStatusCode","formControlName","autoTicketingStatusCode","value","ATS02","label","\uc9c4\ud589"],["name","autoTicketingStatusCode","formControlName","autoTicketingStatusCode","value","ATS03","label","\uc624\ub958"],["name","autoTicketingStatusCode","formControlName","autoTicketingStatusCode","value","ATS04","label","\uc644\ub8cc"],["name","autoTicketingStatusCode","formControlName","autoTicketingStatusCode","value","ATS05","label","\uc81c\uc678"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"\uae30\ubcf8DATA \uc815\ubcf4"),L.Vb(),L.Vb(),L.Wb(3,"form",2),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," \uae30\ubcf8DATA \uc815\ubcf4 "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col",4),L.Rb(10,"col"),L.Rb(11,"col",5),L.Rb(12,"col"),L.Vb(),L.Wb(13,"tbody"),L.Wb(14,"tr"),L.Wb(15,"th",6),L.Pc(16,"\uac1c\uc778/\ub2e8\uccb4"),L.Vb(),L.Wb(17,"td"),L.Nc(18,Nx,2,0,"span",7),L.Nc(19,Ex,2,0,"span",7),L.Vb(),L.Wb(20,"th",6),L.Pc(21,"\ud56d\uacf5\uc0ac"),L.Vb(),L.Wb(22,"td"),L.Rb(23,"app-input-text",8),L.Vb(),L.Vb(),L.Wb(24,"tr"),L.Wb(25,"th",6),L.Pc(26,"\ubaa9\uc801\ub3c4\uc2dc"),L.Vb(),L.Wb(27,"td"),L.Rb(28,"app-selectbox",9),L.Vb(),L.Wb(29,"th",6),L.Pc(30,"\uc5ec\uc815\ud615\ud0dc"),L.Vb(),L.Wb(31,"td"),L.Pc(32),L.Vb(),L.Vb(),L.Wb(33,"tr"),L.Wb(34,"th",6),L.Pc(35,"\ucd9c\ubc1c/\ub3c4\ucc29\uc9c0"),L.Vb(),L.Wb(36,"td"),L.Rb(37,"app-selectbox",10),L.Vb(),L.Wb(38,"th",6),L.Pc(39,"\ub9c8\uc774\ud398\uc774\uc9c0 \ub178\ucd9c\uc5ec\ubd80"),L.Vb(),L.Wb(40,"td"),L.Wb(41,"div",11),L.Rb(42,"app-radio",12),L.Rb(43,"app-radio",13),L.Vb(),L.Vb(),L.Vb(),L.Wb(44,"tr"),L.Wb(45,"th",6),L.Pc(46,"\uacb0\uc81c\ubc29\ubc95"),L.Vb(),L.Wb(47,"td"),L.Pc(48),L.Vb(),L.Wb(49,"th",6),L.Pc(50,"\uc99d\ube59\ud544\uc694\uc5ec\ubd80"),L.Vb(),L.Wb(51,"td"),L.Wb(52,"div",11),L.Rb(53,"app-radio",14),L.Rb(54,"app-radio",15),L.Vb(),L.Vb(),L.Vb(),L.Wb(55,"tr"),L.Wb(56,"th",6),L.Pc(57,"ATR/BSP"),L.Vb(),L.Wb(58,"td"),L.Wb(59,"div",11),L.Rb(60,"app-radio",16),L.Rb(61,"app-radio",17),L.Vb(),L.Vb(),L.Wb(62,"th",6),L.Pc(63,"\uc99d\ube59\ud655\uc778"),L.Vb(),L.Wb(64,"td"),L.Wb(65,"div",11),L.Rb(66,"app-radio",18),L.Rb(67,"app-radio",19),L.Vb(),L.Vb(),L.Vb(),L.Wb(68,"tr"),L.Wb(69,"th",6),L.Pc(70,"TKT\ubc1c\uad8c\ucc98"),L.Vb(),L.Wb(71,"td"),L.Rb(72,"app-auto-complete",20),L.Vb(),L.Wb(73,"th",6),L.Pc(74,"\ud56d\uacf5\uc0ac\ubcf4\uace0"),L.Vb(),L.Wb(75,"td"),L.Wb(76,"div",11),L.Rb(77,"app-radio",21),L.Rb(78,"app-radio",22),L.Vb(),L.Vb(),L.Vb(),L.Wb(79,"tr"),L.Wb(80,"th",6),L.Pc(81,"\uc785\uae08\uc5ec\ubd80"),L.Vb(),L.Wb(82,"td"),L.Nc(83,Mx,2,0,"span",7),L.Nc(84,Dx,2,0,"span",7),L.Vb(),L.Wb(85,"th",6),L.Pc(86,"\uc9c0\uc810\uad6c\ubd84"),L.Vb(),L.Wb(87,"td"),L.Rb(88,"app-selectbox",23),L.Vb(),L.Vb(),L.Nc(89,Lx,10,1,"ng-container",7),L.Nc(90,Bx,25,3,"ng-container",7),L.Nc(91,Hx,24,3,"ng-container",7),L.Vb(),L.Vb(),L.Vb(),L.Wb(92,"div",24),L.Wb(93,"button",25),L.Pc(94,"\uc800\uc7a5"),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(3),L.pc("formGroup",t.upsertForm)("connectForm",t.upsertFormData),L.Cb(15),L.pc("ngIf","F"===(null==t.basicInfo?null:t.basicInfo.groupOrFit)),L.Cb(1),L.pc("ngIf","G"===(null==t.basicInfo?null:t.basicInfo.groupOrFit)),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("stockAirlineCode")),L.Cb(5),L.pc("options",t.iataOptions),L.Cb(4),L.Qc(null==t.basicInfo?null:t.basicInfo.routingTypeName),L.Cb(5),L.pc("options",t.departureTypeList)("isInvalid",t.checkIsInvalid("departureTypeCode")),L.Cb(5),L.pc("value",!0),L.Cb(1),L.pc("value",!1),L.Cb(5),L.Qc(null==t.basicInfo?null:t.basicInfo.fopName),L.Cb(5),L.pc("value",!0),L.Cb(1),L.pc("value",!1),L.Cb(12),L.pc("value",!0),L.Cb(1),L.pc("value",!1),L.Cb(5),L.pc("inputFieldValue",t.ticketingCompInput)("apiCondition",L.uc(30,Ux,L.tc(29,qx)))("apiSearchTerm","compName")("inputFieldFormatKeyList",L.tc(32,Qx)),L.Cb(5),L.pc("value",!0),L.Cb(1),L.pc("value",!1),L.Cb(5),L.pc("ngIf",!0===(null==t.basicInfo?null:t.basicInfo.paymentFinshedYn)),L.Cb(1),L.pc("ngIf",!1===(null==t.basicInfo?null:t.basicInfo.paymentFinshedYn)),L.Cb(4),L.pc("options",t.controlBranchList)("isInvalid",t.checkIsInvalid("controlBranchCode")),L.Cb(1),L.pc("ngIf",t.isBtms),L.Cb(1),L.pc("ngIf",t.isB2b),L.Cb(1),L.pc("ngIf",t.isB2c))},directives:[I.B,I.s,I.k,J.a,k.o,ee.a,I.r,I.i,Se.a,cS.a,ne.a,Kt.a],encapsulation:2,changeDetection:0}),e})();function Kx(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"A"),L.Vb())}function zx(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"C"),L.Vb())}function Xx(e,t){if(1&e&&(L.Wb(0,"span"),L.Pc(1),L.Vb()),2&e){const e=L.hc().$implicit;L.Cb(1),L.Qc(e.issueDatetime)}}function Zx(e,t){if(1&e&&(L.Wb(0,"span"),L.Pc(1),L.Vb()),2&e){const e=L.hc().$implicit;L.Cb(1),L.Qc(e.cancelDatetime)}}function Jx(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td"),L.Wb(3,"app-radio",10),L.fc("ngModelChange",(function(t){return L.Fc(e),L.hc().selectedReceiptSeq=t})),L.Vb(),L.Vb(),L.Wb(4,"td",11),L.Nc(5,Kx,2,0,"span",9),L.Nc(6,zx,2,0,"span",9),L.Vb(),L.Wb(7,"td",11),L.Pc(8),L.Vb(),L.Wb(9,"td",12),L.Pc(10),L.ic(11,"number"),L.Vb(),L.Wb(12,"td",11),L.Nc(13,Xx,2,1,"span",9),L.Nc(14,Zx,2,1,"span",9),L.Vb(),L.Wb(15,"td",11),L.Wb(16,"a",13),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc().onClickCashReceipt(null==n?null:n.receiptSeq)})),L.Pc(17),L.Vb(),L.Vb(),L.Wb(18,"td",11),L.Pc(19),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,n=L.hc();L.Cb(3),L.pc("ngModel",n.selectedReceiptSeq)("value",e.receiptSeq),L.Cb(1),L.Gb("color-red",!0===e.cashReceiptCancelYn),L.Cb(1),L.pc("ngIf",!1===e.cashReceiptCancelYn),L.Cb(1),L.pc("ngIf",!0===e.cashReceiptCancelYn),L.Cb(2),L.Qc(e.cashReceiptIssueName),L.Cb(1),L.Gb("color-red",!0===e.cashReceiptCancelYn),L.Cb(1),L.Qc(L.jc(11,16,e.cashPaidAmount)),L.Cb(2),L.Gb("color-red",!0===e.cashReceiptCancelYn),L.Cb(1),L.pc("ngIf",!1===e.cashReceiptCancelYn),L.Cb(1),L.pc("ngIf",!0===e.cashReceiptCancelYn),L.Cb(3),L.Qc(e.approvalNo),L.Cb(2),L.Qc(e.bookingTravelerName)}}function eY(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",14),L.Pc(3,"-"),L.Vb(),L.Vb(),L.Tb())}let tY=(()=>{class e{constructor(e){this.alertService=e,this.clickCashReceiptCancelEvent=new L.n,this.clickCashReceiptIssueEvent=new L.n,this.openCashReceiptEvent=new L.n,this.selectedReceiptSeq=null}get paymentDetailInfo(){return this._paymentDetailInfo}set paymentDetailInfo(e){var t;this._paymentDetailInfo=e,this.selectedReceiptSeq=null,this.cashReceipts=(null===(t=null==e?void 0:e.cashPaymentInfo)||void 0===t?void 0:t.cashReceipts)||[]}ngOnInit(){}onClickCashReceiptIssue(){this.clickCashReceiptIssueEvent.emit()}onClickCashReceiptCancel(){Q.isNil(this.selectedReceiptSeq)?this.alertService.alert("Select the cash receipt data that you want to cancel."):!0!==Q.find(this.cashReceipts,e=>e.receiptSeq===this.selectedReceiptSeq).cancelYn?this.clickCashReceiptCancelEvent.emit({receiptSeqs:[this.selectedReceiptSeq]}):this.alertService.alert("Already canceled.")}onClickCashReceipt(e){this.openCashReceiptEvent.emit({receiptSeq:e})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-payment-detail-cash-info"]],inputs:{bookingItemCode:"bookingItemCode",paymentDetailInfo:"paymentDetailInfo"},outputs:{clickCashReceiptCancelEvent:"clickCashReceiptCancelEvent",clickCashReceiptIssueEvent:"clickCashReceiptIssueEvent",openCashReceiptEvent:"openCashReceiptEvent"},decls:39,vars:2,consts:[[1,"page-item","mt50"],[1,"page-item-header"],[1,"title"],[1,"control"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"table","table-bordered","table-responsive",2,"max-height","300px","overflow","auto"],["width","42px"],["scope","col",1,"align-c"],[4,"ngFor","ngForOf"],[4,"ngIf"],["styleClass","only","name","receiptSeq",3,"ngModel","value","ngModelChange"],[1,"align-c"],[1,"align-r"],[1,"text-underline",3,"click"],["colspan","7",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"p",2),L.Pc(3,"Cash Receipt Issued List"),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"button",4),L.fc("click",(function(){return t.onClickCashReceiptCancel()})),L.Pc(6,"Cancel"),L.Vb(),L.Vb(),L.Vb(),L.Wb(7,"div",5),L.Wb(8,"table"),L.Wb(9,"caption"),L.Pc(10," Cash Receipt Issued List "),L.Vb(),L.Wb(11,"colgroup"),L.Rb(12,"col",6),L.Rb(13,"col"),L.Rb(14,"col"),L.Rb(15,"col"),L.Rb(16,"col"),L.Rb(17,"col"),L.Rb(18,"col"),L.Rb(19,"col"),L.Rb(20,"col"),L.Vb(),L.Wb(21,"thead"),L.Wb(22,"tr"),L.Rb(23,"th",7),L.Wb(24,"th",7),L.Pc(25,"Status"),L.Vb(),L.Wb(26,"th",7),L.Pc(27,"Traveler"),L.Vb(),L.Wb(28,"th",7),L.Pc(29,"App/CXL Amts"),L.Vb(),L.Wb(30,"th",7),L.Pc(31,"Issued/CXL Date"),L.Vb(),L.Wb(32,"th",7),L.Pc(33,"Approval No."),L.Vb(),L.Wb(34,"th",7),L.Pc(35,"User"),L.Vb(),L.Vb(),L.Vb(),L.Wb(36,"tbody"),L.Nc(37,Jx,20,18,"ng-container",8),L.Nc(38,eY,4,0,"ng-container",9),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(37),L.pc("ngForOf",t.cashReceipts),L.Cb(1),L.pc("ngIf",0===t.cashReceipts.length))},directives:[k.n,k.o,cS.a,I.r,I.u],pipes:[k.f],encapsulation:2,changeDetection:0}),e})(),nY=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-retrieve-form"]],decls:68,vars:0,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title"],[1,"table","table-bordered","table-responsive"],["width","200px"],["scope","col",1,"align-c"],["scope","row",1,"th-bg"],[1,"align-c"],[1,"button-area","align-r","mt10"],["href","#",1,"btn","btn-secondary","sm"],["href","#",1,"btn","btn-light","sm"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"p",2),L.Pc(3,"\ub9ac\ud2b8\ub9ac\ube0c"),L.Vb(),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," \ub9ac\ud2b8\ub9ac\ube0c "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col",4),L.Rb(10,"col"),L.Rb(11,"col"),L.Vb(),L.Wb(12,"thead"),L.Wb(13,"tr"),L.Wb(14,"th",5),L.Pc(15,"\ub0b4\uc6a9"),L.Vb(),L.Wb(16,"th",5),L.Pc(17,"Retrieve \uc804"),L.Vb(),L.Wb(18,"th",5),L.Pc(19,"Retrieve \ud6c4"),L.Vb(),L.Vb(),L.Vb(),L.Wb(20,"tbody"),L.Wb(21,"tr"),L.Wb(22,"th",6),L.Pc(23,"\uc608\uc57d\uc0c1\ud0dc"),L.Vb(),L.Wb(24,"td",7),L.Pc(25,"\ubbf8\uc804\uc1a1"),L.Vb(),L.Wb(26,"td",7),L.Pc(27,"\ud655\uc815"),L.Vb(),L.Vb(),L.Wb(28,"tr"),L.Wb(29,"th",6),L.Pc(30,"\uacf5\uae09\uc790 \uc608\uc57d\ucf54\ub4dc"),L.Vb(),L.Wb(31,"td",7),L.Pc(32,"123-456789"),L.Vb(),L.Wb(33,"td",7),L.Pc(34,"123-456789"),L.Vb(),L.Vb(),L.Wb(35,"tr"),L.Wb(36,"th",6),L.Pc(37,"\uc694\uae08"),L.Vb(),L.Wb(38,"td",7),L.Pc(39,"USD 100.00"),L.Vb(),L.Wb(40,"td",7),L.Pc(41,"USD 100.00"),L.Vb(),L.Vb(),L.Wb(42,"tr"),L.Wb(43,"th",6),L.Pc(44,"\uac1d\uc2e4\uba85"),L.Vb(),L.Wb(45,"td",7),L.Pc(46,"Double King or Twin Standard with Free Wifi & Non Smoking"),L.Vb(),L.Wb(47,"td",7),L.Pc(48,"Double King or Twin Standard with Free Wifi & Non Smoking"),L.Vb(),L.Vb(),L.Wb(49,"tr"),L.Wb(50,"th",6),L.Pc(51,"\uc219\ubc15\uae30\uac04"),L.Vb(),L.Wb(52,"td",7),L.Pc(53,"2019-12-12(\ubaa9) ~ 2019-12-15(\uc6d4)"),L.Vb(),L.Wb(54,"td",7),L.Pc(55,"2019-12-12(\ubaa9) ~ 2019-12-15(\uc6d4)"),L.Vb(),L.Vb(),L.Wb(56,"tr"),L.Wb(57,"th",6),L.Pc(58,"\uacf5\uae09\uc790 \ucde8\uc18c\ub9c8\uac10\uc77c"),L.Vb(),L.Wb(59,"td",7),L.Pc(60,"2020-01-01(\uc218) 23:59:59"),L.Vb(),L.Wb(61,"td",7),L.Pc(62,"2020-01-01(\uc218) 23:59:59"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(63,"div",8),L.Wb(64,"a",9),L.Pc(65,"\uc800\uc7a5"),L.Vb(),L.Wb(66,"a",10),L.Pc(67,"\ucde8\uc18c"),L.Vb(),L.Vb(),L.Vb())},encapsulation:2,changeDetection:0}),e})();function iY(e,t){if(1&e&&(L.Wb(0,"span"),L.Pc(1),L.Vb()),2&e){const e=L.hc().$implicit;L.Cb(1),L.Rc("(",null==e?null:e.operatingAirlineCode,")")}}function oY(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr",10),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc().onClickRow(n)})),L.Wb(2,"td",11),L.Wb(3,"app-radio",12),L.fc("ngModelChange",(function(t){return L.Fc(e),L.hc().checkedRowid=t}))("onClick",(function(t){return L.Fc(e),L.hc().onClickRadio(t)})),L.Vb(),L.Vb(),L.Wb(4,"td",11),L.Pc(5),L.Vb(),L.Wb(6,"td",11),L.Pc(7),L.Vb(),L.Wb(8,"td",11),L.Wb(9,"span",13),L.Pc(10),L.Vb(),L.Wb(11,"span"),L.Pc(12),L.Vb(),L.Nc(13,iY,2,1,"span",9),L.Vb(),L.Wb(14,"td",11),L.Pc(15),L.Vb(),L.Wb(16,"td",11),L.Pc(17),L.Vb(),L.Wb(18,"td",11),L.Pc(19),L.Vb(),L.Wb(20,"td",11),L.Pc(21),L.Vb(),L.Wb(22,"td",11),L.Pc(23),L.Vb(),L.Wb(24,"td",11),L.Pc(25),L.Vb(),L.Wb(26,"td",11),L.Wb(27,"span",13),L.Pc(28),L.Vb(),L.Wb(29,"span"),L.Pc(30),L.Vb(),L.Vb(),L.Wb(31,"td",11),L.Pc(32),L.Vb(),L.Wb(33,"td",11),L.Pc(34),L.Vb(),L.Wb(35,"td",11),L.Pc(36),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,n=L.hc();L.Cb(3),L.pc("ngModel",n.checkedRowid)("value",e.rowNo),L.Cb(2),L.Qc(null==e?null:e.itineraryNo),L.Cb(2),L.Qc(null==e?null:e.segmentNo),L.Cb(3),L.Qc(null==e?null:e.marketingAirlineCode),L.Cb(2),L.Qc(null==e?null:e.marketingFlightNumber),L.Cb(1),L.pc("ngIf",(null==e?null:e.operatingAirlineCode)&&(null==e?null:e.marketingAirlineCode)!==(null==e?null:e.operatingAirlineCode)),L.Cb(2),L.Qc(null==e?null:e.bookingClassCode),L.Cb(2),L.Qc(null==e?null:e.departureDate),L.Cb(2),L.Qc(null==e?null:e.departureWeekday),L.Cb(2),L.Qc(null==e?null:e.originAirportCode),L.Cb(2),L.Qc(null==e?null:e.destinationAirportCode),L.Cb(2),L.Qc(e.departureTime),L.Cb(3),L.Qc(null==e?null:e.arrivalTime),L.Cb(2),L.Qc(null==e?null:e.dayChange),L.Cb(2),L.Qc(null==e?null:e.segmentStatusCode),L.Cb(2),L.Qc(null==e?null:e.cabinClassCode),L.Cb(2),L.Qc(null==e?null:e.airlinePnr)}}function aY(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",14),L.Pc(3,"-"),L.Vb(),L.Vb(),L.Tb())}let cY=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.deleteEvent=new L.n,this.addEvent=new L.n,this.selectSegment=new L.n,this.checkSegmentRowid=new L.n}get segments(){return this._segments}set segments(e){this._segments=e.filter(e=>!1===e.deleteYn)}ngOnInit(){}onClickRadio(e){e.stopPropagation(),Q.isNil(e.target.value)||this.checkSegmentRowid.emit(e.target.value)}onDelete(){if(!this.checkedRowid)return void this.alertService.alert("Select the schedule you want to delete.");const e=this.segments.find(e=>e.rowNo===this.checkedRowid),t=this._convertFlyingTime(e.flyingTime),n=this._dataService.initFlightBookingSegmentPutForm(),i=this.bookingItemCode,o=Q.assign(Q.pick(e,Object.keys(n)),{bookingItemCode:i,flyingTime:t});o.deleteYn=!0,this.deleteEvent.emit(o)}onAdd(){this.segments.length>=9?this.alertService.alert("You can add up to nine schedules."):this.addEvent.emit()}onClickRow(e){this.selectSegment.emit(e)}_convertFlyingTime(e){return"00H 00M"}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-schedule-list"]],inputs:{segments:"segments",checkedRowid:"checkedRowid",bookingItemCode:"bookingItemCode"},outputs:{deleteEvent:"deleteEvent",addEvent:"addEvent",selectSegment:"selectSegment",checkSegmentRowid:"checkSegmentRowid"},decls:60,vars:2,consts:[[1,"page-item-header"],[1,"title"],[1,"control"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"table","table-bordered","table-responsive"],["width","45px"],["width","150px"],["scope","col",1,"align-c"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"click"],[1,"align-c"],["styleClass","only",3,"ngModel","value","ngModelChange","onClick"],[1,"mr5"],["colspan","13",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Schedule"),L.Vb(),L.Wb(3,"div",2),L.Wb(4,"button",3),L.fc("click",(function(){return t.onAdd()})),L.Pc(5,"New"),L.Vb(),L.Wb(6,"button",3),L.fc("click",(function(){return t.onDelete()})),L.Pc(7,"Delete"),L.Vb(),L.Vb(),L.Vb(),L.Wb(8,"div",4),L.Wb(9,"table"),L.Wb(10,"caption"),L.Pc(11," Schedule "),L.Vb(),L.Wb(12,"colgroup"),L.Rb(13,"col",5),L.Rb(14,"col",6),L.Rb(15,"col",6),L.Rb(16,"col",6),L.Rb(17,"col",6),L.Rb(18,"col",6),L.Rb(19,"col",6),L.Rb(20,"col",6),L.Rb(21,"col",6),L.Rb(22,"col",6),L.Rb(23,"col",6),L.Rb(24,"col",6),L.Rb(25,"col",6),L.Rb(26,"col",6),L.Rb(27,"col",6),L.Vb(),L.Wb(28,"thead"),L.Wb(29,"tr"),L.Rb(30,"th",7),L.Wb(31,"th",7),L.Pc(32,"Iti. No."),L.Vb(),L.Wb(33,"th",7),L.Pc(34,"Order"),L.Vb(),L.Wb(35,"th",7),L.Pc(36,"FL No."),L.Vb(),L.Wb(37,"th",7),L.Pc(38,"B.CLS"),L.Vb(),L.Wb(39,"th",7),L.Pc(40,"Dep. Date"),L.Vb(),L.Wb(41,"th",7),L.Pc(42,"Day"),L.Vb(),L.Wb(43,"th",7),L.Pc(44,"Dep"),L.Vb(),L.Wb(45,"th",7),L.Pc(46,"Dep. Time"),L.Vb(),L.Wb(47,"th",7),L.Pc(48,"Arr"),L.Vb(),L.Wb(49,"th",7),L.Pc(50,"Arr. Time"),L.Vb(),L.Wb(51,"th",7),L.Pc(52,"Status"),L.Vb(),L.Wb(53,"th",7),L.Pc(54,"C.CLS"),L.Vb(),L.Wb(55,"th",7),L.Pc(56,"Airline R/N"),L.Vb(),L.Vb(),L.Vb(),L.Wb(57,"tbody"),L.Nc(58,oY,37,18,"ng-container",8),L.Nc(59,aY,4,0,"ng-container",9),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(58),L.pc("ngForOf",t.segments),L.Cb(1),L.pc("ngIf",t.segments.length<1))},directives:[k.n,k.o,cS.a,I.r,I.u],encapsulation:2,changeDetection:0}),e})(),sY=(()=>{class e{constructor(e,t,n){this._dataService=e,this.alertService=t,this._changeDetictor=n,this.saveEvent=new L.n,this.addEvent=new L.n,this.upsertForm=e.generateSchedulePutForm()}get segment(){return this._segment}set segment(e){this._segment=e,this.checkValid=!1,this.upsertFormData=this._convertItemToForm(e)}ngOnInit(){}checkIsInvalid(e){return this.checkValid&&this.upsertForm.get(e)&&this.upsertForm.get(e).invalid}onSave(){if(this.upsertForm.invalid)return void(this.checkValid=!0);const e=this.bookingItemCode;if(Q.isNil(this.segment)){const t=Object.assign(this._convertFormToItem(this.upsertForm.value),{bookingItemCode:e});this.addEvent.emit(Object.assign(Object.assign({},t),{paxCount:this.travelers.length}))}else{const{paxCount:t,deleteYn:n}=this.segment,i=Object.assign(this._convertFormToItem(this.upsertForm.value),{bookingItemCode:e,paxCount:t,deleteYn:n});this.saveEvent.emit(i)}}_convertItemToForm(e){if(!e)return this._dataService.initSchedulePutForm();const t=K()(e.departureDatetime).format("YYYY-MM-DD"),n=K()(e.departureDatetime).format("HH:mm"),i=K()(e.arrivalDatetime).format("YYYY-MM-DD"),o=K()(e.arrivalDatetime).format("HH:mm"),a=e.flyingTime?`${e.flyingTime.slice(0,e.flyingTime.indexOf("H")).padStart(2,"0")}:${e.flyingTime.slice(e.flyingTime.indexOf(" ")+1,e.flyingTime.indexOf("M")).padStart(2,"0")}`:null;return{marketingAirlineCode:e.marketingAirlineCode,marketingFlightNumber:e.marketingFlightNumber,operatingAirlineCode:e.operatingAirlineCode,bookingClassCode:e.bookingClassCode,departureDate:t,departureTime:n,originAirportCode:e.originAirportCode,segmentStatusCode:e.segmentStatusCode,arrivalDate:i,arrivalTime:o,destinationAirportCode:e.destinationAirportCode,cabinClassCode:e.cabinClassCode,airlinePnr:e.airlinePnr,flyingTime:a,itineraryNo:e.itineraryNo,segmentNo:e.segmentNo,deleteYn:e.deleteYn,segmentSeq:e.segmentSeq}}_convertFormToItem(e){const{segmentSeq:t,itineraryNo:n,segmentNo:i,marketingAirlineCode:o,marketingFlightNumber:a,operatingAirlineCode:c,cabinClassCode:s,bookingClassCode:r,originAirportCode:l,destinationAirportCode:d,departureTime:b,arrivalTime:u,segmentStatusCode:p,flyingTime:m,airlinePnr:h,deleteYn:g,departureDate:f,arrivalDate:v}=e,[C,y]=(m||"").split(":"),k=C.padStart(2,"0")+"H "+y.padStart(2,"0")+"M",I={segmentSeq:Q.isNil(t)?void 0:t,itineraryNo:n,segmentNo:i,marketingAirlineCode:o,marketingFlightNumber:a,operatingAirlineCode:c,originAirportCode:l,cabinClassCode:s,bookingClassCode:r,destinationAirportCode:d,departureDateOrigin:f,departureTime:b,departureDatetime:`${f} ${b}:00`,arrivalDateOrigin:v,arrivalTime:u,arrivalDatetime:`${v} ${u}:00`,segmentStatusCode:p,flyingTime:k,airlinePnr:h,deleteYn:g};return Q.forEach(I,(e,t)=>{""===e&&(I[t]=null)})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(Ae.a),L.Qb(L.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-schedule-form"]],inputs:{travelers:"travelers",bookingItemCode:"bookingItemCode",segment:"segment"},outputs:{saveEvent:"saveEvent",addEvent:"addEvent"},decls:109,vars:18,consts:[[1,"page-item-header"],[1,"title"],[1,"control"],[1,"btn","btn-outline-dark","sm",3,"click"],[3,"formGroup","connectForm"],[1,"table","table-bordered","table-responsive"],["width","120px"],["scope","row",1,"th-bg"],["formControlName","marketingAirlineCode","placeholder","e.g. KE",3,"isInvalid"],["formControlName","marketingFlightNumber","placeholder","e.g. 333(numbers only)",3,"isInvalid"],["formControlName","operatingAirlineCode","placeholder","2\ucf54\ub4dc","placeholder","e.g. KE",3,"isInvalid"],["formControlName","bookingClassCode","placeholder","e.g. M",3,"isInvalid"],["formControlName","departureDate","placeholder","YYYY-MM-DD","inputFormat","date",3,"isInvalid"],["formControlName","departureTime","placeholder","hh:mm","inputFormat","time",3,"isInvalid"],["formControlName","originAirportCode","placeholder","e.g. ICN","inputFormat","upperCase",3,"isInvalid"],["formControlName","arrivalDate","placeholder","YYYY-MM-DD","inputFormat","date",3,"isInvalid"],["formControlName","arrivalTime","placeholder","hh:mm","inputFormat","time",3,"isInvalid"],["formControlName","destinationAirportCode","placeholder","e.g. ICN","inputFormat","upperCase",3,"isInvalid"],["formControlName","segmentStatusCode","placeholder","e.g. HK, UC, HL",3,"isInvalid"],["formControlName","cabinClassCode","placeholder","e.g. F,C,Y,W(Premium Economy)",3,"isInvalid"],["formControlName","airlinePnr",3,"isInvalid"],["formControlName","flyingTime","inputFormat","time","placeholder","hh:mm",3,"isInvalid"],["formControlName","itineraryNo","valueType","number",3,"isInvalid"],["formControlName","segmentNo","valueType","number",3,"isInvalid"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Resister or Modify schedule"),L.Vb(),L.Wb(3,"div",2),L.Wb(4,"button",3),L.fc("click",(function(){return t.onSave()})),L.Pc(5,"Save"),L.Vb(),L.Vb(),L.Vb(),L.Wb(6,"form",4),L.Wb(7,"div",5),L.Wb(8,"table"),L.Wb(9,"caption"),L.Pc(10," Resister or Modify schedule "),L.Vb(),L.Wb(11,"colgroup"),L.Rb(12,"col",6),L.Rb(13,"col"),L.Vb(),L.Wb(14,"tbody"),L.Wb(15,"tr"),L.Wb(16,"th",7),L.Wb(17,"sup"),L.Pc(18,"Airline Code"),L.Vb(),L.Vb(),L.Wb(19,"td"),L.Rb(20,"app-input-text",8),L.Vb(),L.Vb(),L.Wb(21,"tr"),L.Wb(22,"th",7),L.Wb(23,"sup"),L.Pc(24,"Flight No."),L.Vb(),L.Vb(),L.Wb(25,"td"),L.Rb(26,"app-input-text",9),L.Vb(),L.Vb(),L.Wb(27,"tr"),L.Wb(28,"th",7),L.Pc(29,"Operating Airline"),L.Vb(),L.Wb(30,"td"),L.Rb(31,"app-input-text",10),L.Vb(),L.Vb(),L.Wb(32,"tr"),L.Wb(33,"th",7),L.Wb(34,"sup"),L.Pc(35,"B.CLS"),L.Vb(),L.Vb(),L.Wb(36,"td"),L.Rb(37,"app-input-text",11),L.Vb(),L.Vb(),L.Wb(38,"tr"),L.Wb(39,"th",7),L.Wb(40,"sup"),L.Pc(41,"Departure Date"),L.Vb(),L.Vb(),L.Wb(42,"td"),L.Rb(43,"app-input-text",12),L.Vb(),L.Vb(),L.Wb(44,"tr"),L.Wb(45,"th",7),L.Wb(46,"sup"),L.Pc(47,"Departure Time"),L.Vb(),L.Vb(),L.Wb(48,"td"),L.Rb(49,"app-input-text",13),L.Vb(),L.Vb(),L.Wb(50,"tr"),L.Wb(51,"th",7),L.Wb(52,"sup"),L.Pc(53,"Departure Airport"),L.Vb(),L.Vb(),L.Wb(54,"td"),L.Rb(55,"app-input-text",14),L.Vb(),L.Vb(),L.Wb(56,"tr"),L.Wb(57,"th",7),L.Wb(58,"sup"),L.Pc(59,"Arrival Date"),L.Vb(),L.Vb(),L.Wb(60,"td"),L.Rb(61,"app-input-text",15),L.Vb(),L.Vb(),L.Wb(62,"tr"),L.Wb(63,"th",7),L.Wb(64,"sup"),L.Pc(65,"Arrival Time"),L.Vb(),L.Vb(),L.Wb(66,"td"),L.Rb(67,"app-input-text",16),L.Vb(),L.Vb(),L.Wb(68,"tr"),L.Wb(69,"th",7),L.Wb(70,"sup"),L.Pc(71,"Arrival Airport"),L.Vb(),L.Vb(),L.Wb(72,"td"),L.Rb(73,"app-input-text",17),L.Vb(),L.Vb(),L.Wb(74,"tr"),L.Wb(75,"th",7),L.Wb(76,"sup"),L.Pc(77,"Seats Status"),L.Vb(),L.Vb(),L.Wb(78,"td"),L.Rb(79,"app-input-text",18),L.Vb(),L.Vb(),L.Wb(80,"tr"),L.Wb(81,"th",7),L.Wb(82,"sup"),L.Pc(83,"C.CLS"),L.Vb(),L.Vb(),L.Wb(84,"td"),L.Rb(85,"app-input-text",19),L.Vb(),L.Vb(),L.Wb(86,"tr"),L.Wb(87,"th",7),L.Pc(88,"Airline R/N"),L.Vb(),L.Wb(89,"td"),L.Rb(90,"app-input-text",20),L.Vb(),L.Vb(),L.Wb(91,"tr"),L.Wb(92,"th",7),L.Wb(93,"sup"),L.Pc(94,"Flying Time"),L.Vb(),L.Vb(),L.Wb(95,"td"),L.Rb(96,"app-input-text",21),L.Vb(),L.Vb(),L.Wb(97,"tr"),L.Wb(98,"th",7),L.Wb(99,"sup"),L.Pc(100,"Itineray No."),L.Vb(),L.Vb(),L.Wb(101,"td"),L.Rb(102,"app-input-text",22),L.Vb(),L.Vb(),L.Wb(103,"tr"),L.Wb(104,"th",7),L.Wb(105,"sup"),L.Pc(106,"Display Order by Itinerary"),L.Vb(),L.Vb(),L.Wb(107,"td"),L.Rb(108,"app-input-text",23),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(6),L.pc("formGroup",t.upsertForm)("connectForm",t.upsertFormData),L.Cb(14),L.pc("isInvalid",t.checkIsInvalid("marketingAirlineCode")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("marketingFlightNumber")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("operatingAirlineCode")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("bookingClassCode")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("departureDate")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("departureTime")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("originAirportCode")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("arrivalDate")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("arrivalTime")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("destinationAirportCode")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("segmentStatusCode")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("cabinClassCode")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("airlinePnr")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("flyingTime")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("itineraryNo")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("segmentNo")))},directives:[I.B,I.s,I.k,J.a,ee.a,I.r,I.i],encapsulation:2,changeDetection:0}),e})();function rY(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"Y"),L.Vb())}function lY(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"N"),L.Vb())}function dY(e,t){if(1&e&&(L.Wb(0,"span"),L.Pc(1),L.Vb()),2&e){const e=L.hc(2).$implicit;L.Cb(1),L.Qc(e.lastUpdateDatetime)}}function bY(e,t){if(1&e){const e=L.Xb();L.Wb(0,"tr",12),L.fc("click",(function(){L.Fc(e);const t=L.hc().$implicit,n=L.hc().$implicit;return L.hc().onClickRow(n,t)})),L.Wb(1,"td"),L.Wb(2,"app-radio",13),L.fc("ngModelChange",(function(t){return L.Fc(e),L.hc(3).selectedEvidenceSeq=t}))("onClick",(function(t){return L.Fc(e),L.hc(3).onClickRadio(t)})),L.Vb(),L.Vb(),L.Wb(3,"td",14),L.Pc(4),L.Vb(),L.Wb(5,"td",14),L.Nc(6,rY,2,0,"span",10),L.Nc(7,lY,2,0,"span",10),L.Vb(),L.Wb(8,"td",14),L.Pc(9),L.Vb(),L.Wb(10,"td",14),L.Nc(11,dY,2,1,"span",10),L.Vb(),L.Vb()}if(2&e){const e=L.hc().$implicit,t=L.hc().$implicit,n=L.hc();L.Cb(2),L.pc("ngModel",n.selectedEvidenceSeq)("value",e.evidenceSeq),L.Cb(2),L.Qc(t.name),L.Cb(2),L.pc("ngIf",!0===e.evidenceConfirmYn),L.Cb(1),L.pc("ngIf",!1===e.evidenceConfirmYn),L.Cb(2),L.Qc(e.evidenceConfirmName),L.Cb(2),L.pc("ngIf",!0===e.evidenceConfirmYn)}}function uY(e,t){if(1&e&&(L.Ub(0),L.Nc(1,bY,12,7,"tr",11),L.Tb()),2&e){const e=t.$implicit;L.Cb(1),L.pc("ngIf",!e.deleteYn)}}function pY(e,t){if(1&e&&(L.Ub(0),L.Nc(1,uY,2,1,"ng-container",9),L.Tb()),2&e){const e=t.$implicit;L.Cb(1),L.pc("ngForOf",null==e?null:e.fareEvidences)}}function mY(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",15),L.Pc(3,"-"),L.Vb(),L.Vb(),L.Tb())}let hY=(()=>{class e{constructor(e){this.alertService=e,this.confirmEvidence=new L.n,this.cancelConfirmEvidence=new L.n,this.selectEvidence=new L.n,this.fareEvidences=[]}get selectedEvidenceInfo(){return this._selectedEvidenceInfo}set selectedEvidenceInfo({evidence:e,travelerName:t,bookingTravelerCode:n}){this._selectedEvidenceInfo={evidence:e,travelerName:t,bookingTravelerCode:n}}get travelers(){return this._travelers}set travelers(e){this._travelers=e,this.selectedEvidenceSeq=null}get hasFareEvidences(){return this.travelers&&this.travelers.reduce((e,t)=>{var n;const i=null===(n=t.fareEvidences)||void 0===n?void 0:n.filter(e=>!e.deleteYn);return e.concat(i||[])},[]).length>0}ngOnInit(){}onClickRow(e,t){this.selectEvidence.emit({evidence:t,travelerName:e.name,bookingTravelerCode:e.bookingTravelerCode})}onClickRadio(e){e.stopPropagation()}onConfirmEvidence(){this.selectedEvidenceSeq?this.confirmEvidence.emit(Q.omitBy({evidenceSeq:this.selectedEvidenceInfo.evidence.evidenceSeq,bookingTravelerCode:this.selectedEvidenceInfo.bookingTravelerCode,evidenceFileName:this.selectedEvidenceInfo.evidence.evidenceFileName,evidenceFileUrl:this.selectedEvidenceInfo.evidence.evidenceFileUrl,evidenceConfirmYn:!0,evidenceConfirmUno:this.loginUser.userNo,evidenceDisplayYn:this.selectedEvidenceInfo.evidence.evidenceDisplayYn,deleteYn:!1},Q.isNil)):this.alertService.alert("Please select the data to check the evidence first.")}onCancelConfirmEvidence(){this.selectedEvidenceSeq?this.cancelConfirmEvidence.emit(Q.omitBy({evidenceSeq:this.selectedEvidenceInfo.evidence.evidenceSeq,bookingTravelerCode:this.selectedEvidenceInfo.bookingTravelerCode,evidenceFileName:this.selectedEvidenceInfo.evidence.evidenceFileName,evidenceFileUrl:this.selectedEvidenceInfo.evidence.evidenceFileUrl,evidenceConfirmYn:!1,evidenceConfirmUno:this.loginUser.userNo,evidenceDisplayYn:this.selectedEvidenceInfo.evidence.evidenceDisplayYn,deleteYn:!1},Q.isNil)):this.alertService.alert("Please select the data to check the evidence first.")}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-fare-evidence-list"]],inputs:{selectedEvidenceInfo:"selectedEvidenceInfo",travelers:"travelers",loginUser:"loginUser"},outputs:{confirmEvidence:"confirmEvidence",cancelConfirmEvidence:"cancelConfirmEvidence",selectEvidence:"selectEvidence"},decls:32,vars:2,consts:[[1,"page-item-header"],[1,"title"],[1,"control"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"table","table-bordered","table-responsive"],["width","42px"],["width","100px"],["width","150px"],["scope","col",1,"align-c"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"click",4,"ngIf"],[3,"click"],["styleClass","only",3,"ngModel","value","ngModelChange","onClick"],[1,"align-c"],["colspan","6",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Evidence Check"),L.Vb(),L.Wb(3,"div",2),L.Wb(4,"button",3),L.fc("click",(function(){return t.onConfirmEvidence()})),L.Pc(5,"Confirm"),L.Vb(),L.Wb(6,"button",3),L.fc("click",(function(){return t.onCancelConfirmEvidence()})),L.Pc(7,"Not Confirmed"),L.Vb(),L.Vb(),L.Vb(),L.Wb(8,"div",4),L.Wb(9,"table"),L.Wb(10,"caption"),L.Pc(11," Evidence Check "),L.Vb(),L.Wb(12,"colgroup"),L.Rb(13,"col",5),L.Rb(14,"col"),L.Rb(15,"col",6),L.Rb(16,"col",7),L.Rb(17,"col",7),L.Vb(),L.Wb(18,"thead"),L.Wb(19,"tr"),L.Rb(20,"th",8),L.Wb(21,"th",8),L.Pc(22,"Travelers"),L.Vb(),L.Wb(23,"th",8),L.Pc(24,"Confirm YN"),L.Vb(),L.Wb(25,"th",8),L.Pc(26,"User"),L.Vb(),L.Wb(27,"th",8),L.Pc(28,"Confirm Date"),L.Vb(),L.Vb(),L.Vb(),L.Wb(29,"tbody"),L.Nc(30,pY,2,1,"ng-container",9),L.Nc(31,mY,4,0,"ng-container",10),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(30),L.pc("ngForOf",t.travelers),L.Cb(1),L.pc("ngIf",!t.hasFareEvidences))},directives:[k.n,k.o,cS.a,I.r,I.u],encapsulation:2,changeDetection:0}),e})(),gY=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.deleteEvent=new L.n,this.displayEvent=new L.n,this.putForm=e.generateFareEvidenceFilePutForm()}get fareEvidenceInfo(){return this._fareEvidenceInfo}set fareEvidenceInfo({evidence:e,travelerName:t,bookingTravelerCode:n}){this._fareEvidenceInfo={evidence:e,travelerName:t,bookingTravelerCode:n},this.putFormData=this._convertItemToForm(e,this.bookingItemCode,n)}get fareEvidence(){return this.fareEvidenceInfo&&this.fareEvidenceInfo.evidence}ngOnInit(){}changeEvidenceDisplay(e){const t=this.putForm.value;if(!t.evidenceSeq)return void this.alertService.alert("Select the proof from the list first.");const n=Q.omitBy(t,Q.isNil);this.displayEvent.emit(n)}onDelete(){const e=this.putForm.value;if(!e)return void this.alertService.alert("Select the proof from the list first.");if(!e.evidenceConfirmYn)return void this.alertService.alert("Please double check the status of evidence. Not confirmed evidence can not be deleted.");const t=Q.assign(e,{deleteYn:!0});this.deleteEvent.emit(t)}openFile(){const{evidenceFileUrl:e}=this.fareEvidence;Q.isNil(e)||window.open(this.fareEvidence.evidenceFileUrl,"_blank","height=950,width=1600,left=0,top=0,toolbar=no,menubar=no,scrollbars=no,resizable=yes,location=no,status=no")}_convertItemToForm(e,t,n){return e?{evidenceSeq:e.evidenceSeq,bookingItemCode:t,bookingTravelerCode:n,evidenceFileName:e.evidenceFileName,evidenceFileUrl:e.evidenceFileUrl,evidenceConfirmYn:e.evidenceConfirmYn,evidenceConfirmUno:e.evidenceConfirmUno,evidenceDisplayYn:e.evidenceDisplayYn,deleteYn:e.deleteYn}:this._dataService.initFareEvidenceFilePutForm()}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-fare-evidence-file"]],inputs:{bookingItemCode:"bookingItemCode",fareEvidenceInfo:"fareEvidenceInfo"},outputs:{deleteEvent:"deleteEvent",displayEvent:"displayEvent"},decls:37,vars:6,consts:[[1,"page-item-header"],[1,"title"],[1,"control"],[1,"btn","btn-outline-dark","sm",3,"click"],[3,"formGroup","connectForm"],[1,"table","table-bordered","table-responsive"],["width","80px"],["width","150px"],["scope","col",1,"align-c"],[1,"align-c"],[1,"text-underline",3,"click"],["styleClass","only","binary","true","formControlName","evidenceDisplayYn",3,"onChange"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2),L.Vb(),L.Wb(3,"div",2),L.Wb(4,"button",3),L.fc("click",(function(){return t.onDelete()})),L.Pc(5,"Delete"),L.Vb(),L.Vb(),L.Vb(),L.Wb(6,"form",4),L.Wb(7,"div",5),L.Wb(8,"table"),L.Wb(9,"caption"),L.Pc(10," File "),L.Vb(),L.Wb(11,"colgroup"),L.Rb(12,"col"),L.Rb(13,"col",6),L.Rb(14,"col",7),L.Rb(15,"col",7),L.Vb(),L.Wb(16,"thead"),L.Wb(17,"tr"),L.Wb(18,"th",8),L.Pc(19,"File Name"),L.Vb(),L.Wb(20,"th",8),L.Pc(21,"Display YN"),L.Vb(),L.Wb(22,"th",8),L.Pc(23,"Registered User"),L.Vb(),L.Wb(24,"th",8),L.Pc(25,"Registerd Date"),L.Vb(),L.Vb(),L.Vb(),L.Wb(26,"tbody"),L.Wb(27,"tr"),L.Wb(28,"td",9),L.Wb(29,"a",10),L.fc("click",(function(){return t.openFile()})),L.Pc(30),L.Vb(),L.Vb(),L.Wb(31,"td",9),L.Wb(32,"app-checkbox",11),L.fc("onChange",(function(e){return t.changeEvidenceDisplay(e)})),L.Vb(),L.Vb(),L.Wb(33,"td",9),L.Pc(34),L.Vb(),L.Wb(35,"td",9),L.Pc(36),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(2),L.Rc("",null==t.fareEvidenceInfo?null:t.fareEvidenceInfo.travelerName," File"),L.Cb(4),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(24),L.Qc(null==t.fareEvidence?null:t.fareEvidence.evidenceFileName),L.Cb(4),L.Qc(null==t.fareEvidence?null:t.fareEvidence.firstInsertName),L.Cb(2),L.Qc(null==t.fareEvidence?null:t.fareEvidence.firstInsertDatetime))},directives:[I.B,I.s,I.k,J.a,Kt.a,I.r,I.i],encapsulation:2,changeDetection:0}),e})();var fY=n("BA+4");let vY=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.uploadFileEvent=new L.n,this.submitEvent=new L.n,this.travelerList=[],this.evidenceDisplayYnOptions=[{label:"YES",value:!0},{label:"NO",value:!1}],this.putForm=e.generateFareEvidencePutForm()}get fileUrl(){return this._fileUrl}set fileUrl(e){this._fileUrl=e,this.checkValid=!1,e&&e!==this.putForm.get("evidenceFileUrl").value?this.putForm.get("evidenceFileUrl").setValue(e):this.putFormData=this._dataService.initFareEvidencePutForm()}get travelers(){return this._travelers}set travelers(e){this._travelers=e,e&&(this.travelerList=e.map(e=>({value:e.bookingTravelerCode,label:e.name})))}get displayFileName(){var e,t;return null===(t=null===(e=this.putForm)||void 0===e?void 0:e.get("evidenceFileName"))||void 0===t?void 0:t.value}ngOnInit(){}onFileError(e){alert(e)}onFileSelect({files:e,isInvalid:t}){if(e.length>0&&!t){const t=e[0];this.putForm.get("evidenceFileName").setValue(t.name),this.uploadFileEvent.emit(t)}else this.alertService.alert("It is not a valid file."),this.putForm.get("evidenceFileName").setValue(null)}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}onSubmit(){if(this.putForm.invalid)return void(this.checkValid=!0);if(Q.isNil(this.putForm.get("evidenceFileName").value))return void this.alertService.alert("Please upload a file.");const e=Object.assign(Object.assign({},this.putForm.value),{evidenceConfirmYn:!1,deleteYn:!1});this.submitEvent.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-fare-evidence-form"]],inputs:{evidenceTypeList:"evidenceTypeList",fileUrl:"fileUrl",travelers:"travelers"},outputs:{uploadFileEvent:"uploadFileEvent",submitEvent:"submitEvent"},decls:23,vars:8,consts:[[3,"formGroup","connectForm","ngSubmit"],[1,"page-item-header"],[1,"title"],[1,"control"],["type","submit",1,"btn","btn-outline-dark","sm"],[1,"table","table-bordered","table-responsive"],["width","20%"],["scope","row",1,"th-bg"],["formControlName","bookingTravelerCode","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","evidenceDisplayYn","useAllOptionName","Select",3,"options","isInvalid"],[3,"displayValue","maxFileSize","onError","onSelect"]],template:function(e,t){1&e&&(L.Wb(0,"form",0),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(1,"div",1),L.Wb(2,"p",2),L.Pc(3,"Register by administrator"),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"button",4),L.Pc(6,"Save"),L.Vb(),L.Vb(),L.Vb(),L.Wb(7,"div",5),L.Wb(8,"table"),L.Wb(9,"caption"),L.Pc(10," Register by administrator "),L.Vb(),L.Wb(11,"colgroup"),L.Rb(12,"col",6),L.Rb(13,"col",6),L.Rb(14,"col"),L.Vb(),L.Wb(15,"tbody"),L.Wb(16,"tr"),L.Wb(17,"th",7),L.Rb(18,"app-selectbox",8),L.Vb(),L.Wb(19,"th",7),L.Rb(20,"app-selectbox",9),L.Vb(),L.Wb(21,"th",7),L.Wb(22,"app-file-upload",10),L.fc("onError",(function(e){return t.onFileError(e)}))("onSelect",(function(e){return t.onFileSelect(e)})),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(18),L.pc("options",t.travelerList)("isInvalid",t.checkIsInvalid("bookingTravelerCode")),L.Cb(2),L.pc("options",t.evidenceDisplayYnOptions)("isInvalid",t.checkIsInvalid("evidenceDisplayYn")),L.Cb(2),L.pc("displayValue",t.displayFileName)("maxFileSize",2e6))},directives:[I.B,I.s,I.k,J.a,Se.a,I.r,I.i,fY.a],encapsulation:2,changeDetection:0}),e})();function CY(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"Y"),L.Vb())}function yY(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"N"),L.Vb())}function kY(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"\ud655\uc778"),L.Vb())}function IY(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"\ubbf8\ud655\uc778"),L.Vb())}function OY(e,t){if(1&e&&(L.Wb(0,"span"),L.Pc(1),L.Vb()),2&e){const e=L.hc().$implicit;L.Cb(1),L.Qc(e.lastUpdateDatetime)}}function PY(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td"),L.Wb(3,"app-radio",14),L.fc("ngModelChange",(function(t){return L.Fc(e),L.hc().selectedEvidenceRowid=t}))("onClick",(function(t){return L.Fc(e),L.hc().onClickRadio(t)})),L.Vb(),L.Vb(),L.Wb(4,"td",15),L.Wb(5,"a",16),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc().openFile(n.evidenceUrl)})),L.Pc(6),L.Vb(),L.Vb(),L.Wb(7,"td",15),L.Pc(8),L.Vb(),L.Wb(9,"td",15),L.Nc(10,CY,2,0,"span",13),L.Nc(11,yY,2,0,"span",13),L.Vb(),L.Wb(12,"td",15),L.Nc(13,kY,2,0,"span",13),L.Nc(14,IY,2,0,"span",13),L.Vb(),L.Wb(15,"td",15),L.Pc(16),L.Vb(),L.Wb(17,"td",15),L.Nc(18,OY,2,1,"span",13),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,n=L.hc();L.Cb(3),L.pc("ngModel",n.selectedEvidenceRowid)("value",e.rowid),L.Cb(3),L.Qc(e.evidenceFileName),L.Cb(2),L.Qc(e.firstInsertDatetime),L.Cb(2),L.pc("ngIf",!0===e.evidenceDisplayYn),L.Cb(1),L.pc("ngIf",!1===e.evidenceDisplayYn),L.Cb(2),L.pc("ngIf",!0===e.evidenceConfirmYn),L.Cb(1),L.pc("ngIf",!1===e.evidenceConfirmYn),L.Cb(2),L.Qc(e.evidenceConfirmName),L.Cb(2),L.pc("ngIf",!0===e.evidenceConfirmYn)}}function jY(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",17),L.Pc(3,"\uacb0\uc81c \uc99d\ube59 \ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."),L.Vb(),L.Vb(),L.Tb())}let VY=(()=>{class e{constructor(e){this.alertService=e,this.confirmEvent=new L.n,this.cancelEvent=new L.n,this.deleteEvent=new L.n,this.selectEvidenceEvent=new L.n}get evidences(){var e;return(null===(e=this.paymentEvidences)||void 0===e?void 0:e.filter(e=>!e.deleteYn))||[]}ngOnInit(){}onClickRadio(e){const{value:t}=e.target;this.selectEvidenceEvent.emit(t)}onConfirmEvidence(){this.selectedEvidenceRowid?this.confirmEvent.emit({rowid:this.selectedEvidenceRowid,evidenceConfirmYn:!0,evidenceConfirmUno:this.loginUser.userNo}):this.alertService.alert("Please select the data to check the evidence first.")}onCancelConfirmEvidence(){this.selectedEvidenceRowid?this.cancelEvent.emit({rowid:this.selectedEvidenceRowid,evidenceConfirmYn:!1,evidenceConfirmUno:null}):this.alertService.alert("Please select the data that you want to unassertify first.")}onDeleteEvidence(){var e;if(!this.selectedEvidenceRowid)return void this.alertService.alert("Please select the evidence data to delete first.");const t={rowid:this.selectedEvidenceRowid,deleteYn:!0},n=null===(e=this.paymentEvidences.filter(e=>e.rowid===this.selectedEvidenceRowid).pop())||void 0===e?void 0:e.evidenceFileUrl;this.deleteEvent.emit({deleteInfo:t,evidenceFileUrl:n})}openFile(e){Q.isNil(e)||window.open(e,"_blank","height=950,width=1600,left=0,top=0,toolbar=no,menubar=no,scrollbars=no,resizable=yes,location=no,status=no")}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-payment-evidence-list"]],inputs:{paymentEvidences:"paymentEvidences",loginUser:"loginUser",selectedEvidenceRowid:"selectedEvidenceRowid"},outputs:{confirmEvent:"confirmEvent",cancelEvent:"cancelEvent",deleteEvent:"deleteEvent",selectEvidenceEvent:"selectEvidenceEvent"},decls:40,vars:2,consts:[[1,"page-item-header"],[1,"title"],[1,"control"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"btn","btn-outline-secondary","sm",3,"click"],[1,"table","table-bordered","table-responsive"],["width","42px"],["width","150px"],["width","50px"],["width","70px"],["width","130px"],["scope","col",1,"align-c"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngModel","value","ngModelChange","onClick"],[1,"align-c"],[1,"text-underline",3,"click"],["colspan","7",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"\uacb0\uc81c\uc99d\ube59 \ud655\uc778"),L.Vb(),L.Wb(3,"div",2),L.Wb(4,"a",3),L.fc("click",(function(){return t.onConfirmEvidence()})),L.Pc(5,"\uc99d\ube59\ud655\uc778"),L.Vb(),L.Wb(6,"a",3),L.fc("click",(function(){return t.onCancelConfirmEvidence()})),L.Pc(7,"\ud655\uc778\ud574\uc81c"),L.Vb(),L.Wb(8,"a",4),L.fc("click",(function(){return t.onDeleteEvidence()})),L.Pc(9,"\uc0ad\uc81c"),L.Vb(),L.Vb(),L.Vb(),L.Wb(10,"div",5),L.Wb(11,"table"),L.Wb(12,"caption"),L.Pc(13," \uacb0\uc81c\uc99d\ube59 \ud655\uc778 "),L.Vb(),L.Wb(14,"colgroup"),L.Rb(15,"col",6),L.Rb(16,"col"),L.Rb(17,"col",7),L.Rb(18,"col",8),L.Rb(19,"col",9),L.Rb(20,"col",10),L.Rb(21,"col",7),L.Vb(),L.Wb(22,"thead"),L.Wb(23,"tr"),L.Rb(24,"th",11),L.Wb(25,"th",11),L.Pc(26,"\uc99d\ube59\ud30c\uc77c"),L.Vb(),L.Wb(27,"th",11),L.Pc(28,"\ub4f1\ub85d\uc77c\uc2dc"),L.Vb(),L.Wb(29,"th",11),L.Pc(30,"\uc99d\ube59\ub178\ucd9c"),L.Vb(),L.Wb(31,"th",11),L.Pc(32,"\uc2b9\uc778\uc5ec\ubd80"),L.Vb(),L.Wb(33,"th",11),L.Pc(34,"\ud655\uc778\uc790"),L.Vb(),L.Wb(35,"th",11),L.Pc(36,"\ud655\uc778\uc77c\uc2dc"),L.Vb(),L.Vb(),L.Vb(),L.Wb(37,"tbody"),L.Nc(38,PY,19,10,"ng-container",12),L.Nc(39,jY,4,0,"ng-container",13),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(38),L.pc("ngForOf",t.evidences),L.Cb(1),L.pc("ngIf",(null==t.evidences?null:t.evidences.length)<1))},directives:[k.n,k.o,cS.a,I.r,I.u],encapsulation:2,changeDetection:0}),e})(),AY=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.uploadFileEvent=new L.n,this.submitEvent=new L.n,this.evidenceDisplayYnOptions=[{label:"YES",value:!0},{label:"NO",value:!1}],this.putForm=e.generatePaymentEvidencePutForm()}get fileUrl(){return this._fileUrl}set fileUrl(e){this._fileUrl=e,this.checkValid=!1,e&&e!==this.putForm.get("evidenceFileUrl").value?this.putForm.get("evidenceFileUrl").setValue(e):this.putFormData=this._dataService.initPaymentEvidencePutForm()}get displayFileName(){var e,t;return null===(t=null===(e=this.putForm)||void 0===e?void 0:e.get("evidenceFileName"))||void 0===t?void 0:t.value}ngOnInit(){}onFileError(e){alert(e)}onFileSelect({files:e,isInvalid:t}){e.length>0&&!t?(this.uploadFileEvent.emit(e[0]),this.putForm.get("evidenceFileName").setValue(e[0].name)):(this.alertService.alert("It is not a valid file."),this.putForm.get("evidenceFileName").setValue(null))}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}onSubmit(){if(this.putForm.invalid)return void(this.checkValid=!0);if(Q.isNil(this.putForm.get("evidenceFileName").value))return void this.alertService.alert("Please upload the file.");const e=Object.assign(Object.assign({},this.putForm.value),{fareOrPayment:"P",evidenceConfirmYn:!1});this.submitEvent.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-payment-evidence-form"]],inputs:{fileUrl:"fileUrl"},outputs:{uploadFileEvent:"uploadFileEvent",submitEvent:"submitEvent"},decls:20,vars:6,consts:[[3,"formGroup","connectForm","ngSubmit"],[1,"page-item-header"],[1,"title"],[1,"control"],["type","submit",1,"btn","btn-outline-dark","sm"],[1,"table","table-bordered","table-responsive"],["width","20%"],["scope","row",1,"th-bg"],["formControlName","evidenceDisplayYn","useAllOptionName","__\uc99d\ube59\ub178\ucd9c__",3,"options","isInvalid"],["chooseLabel","\uc5c5\ub85c\ub4dc \ud560 \ud30c\uc77c\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694",3,"displayValue","maxFileSize","onError","onSelect"]],template:function(e,t){1&e&&(L.Wb(0,"form",0),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(1,"div",1),L.Wb(2,"p",2),L.Pc(3,"\uce74\ub4dc\uc99d\ube59 \uc218\ub3d9\ub4f1\ub85d"),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"button",4),L.Pc(6,"\uc800\uc7a5"),L.Vb(),L.Vb(),L.Vb(),L.Wb(7,"div",5),L.Wb(8,"table"),L.Wb(9,"caption"),L.Pc(10," \uce74\ub4dc\uc99d\ube59 \uc218\ub3d9\ub4f1\ub85d "),L.Vb(),L.Wb(11,"colgroup"),L.Rb(12,"col",6),L.Rb(13,"col"),L.Vb(),L.Wb(14,"tbody"),L.Wb(15,"tr"),L.Wb(16,"th",7),L.Rb(17,"app-selectbox",8),L.Vb(),L.Wb(18,"th",7),L.Wb(19,"app-file-upload",9),L.fc("onError",(function(e){return t.onFileError(e)}))("onSelect",(function(e){return t.onFileSelect(e)})),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(17),L.pc("options",t.evidenceDisplayYnOptions)("isInvalid",t.checkIsInvalid("evidenceDisplayYn")),L.Cb(2),L.pc("displayValue",t.displayFileName)("maxFileSize",2e6))},directives:[I.B,I.s,I.k,J.a,Se.a,I.r,I.i,fY.a],encapsulation:2,changeDetection:0}),e})();function WY(e,t){if(1&e&&(L.Wb(0,"td",18),L.Pc(1),L.Vb()),2&e){const e=L.hc(2),t=e.index;L.pc("rowSpan",e.$implicit.transactions.length),L.Cb(1),L.Qc(t+1)}}function RY(e,t){if(1&e&&(L.Wb(0,"td",19),L.Wb(1,"p"),L.Pc(2),L.Vb(),L.Wb(3,"p"),L.Pc(4),L.Vb(),L.Vb()),2&e){const e=L.hc(2).$implicit;L.pc("rowSpan",e.transactions.length),L.Cb(2),L.Qc(e.nameEn),L.Cb(2),L.Qc(e.name)}}function FY(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr"),L.Nc(2,WY,2,2,"td",13),L.Nc(3,RY,5,3,"td",14),L.Wb(4,"td",15),L.Wb(5,"app-radio",16),L.fc("onClick",(function(){L.Fc(e);const n=t.$implicit,i=L.hc().$implicit;return L.hc().onClickRadio(i,n)})),L.Vb(),L.Vb(),L.Wb(6,"td",15),L.Pc(7),L.Vb(),L.Wb(8,"td",15),L.Pc(9),L.Vb(),L.Wb(10,"td",15),L.Wb(11,"p"),L.Pc(12),L.Vb(),L.Wb(13,"a"),L.Pc(14),L.Vb(),L.Vb(),L.Wb(15,"td",15),L.Pc(16),L.Vb(),L.Wb(17,"td",15),L.Pc(18),L.Vb(),L.Wb(19,"td",17),L.Pc(20),L.ic(21,"number"),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,n=t.index;L.Cb(2),L.pc("ngIf",0===n),L.Cb(1),L.pc("ngIf",0===n),L.Cb(2),L.pc("ngModel",e.checked)("value",!0),L.Cb(2),L.Qc(e.approvalOrCancel),L.Cb(2),L.Qc(e.paymentDetailTypeName),L.Cb(3),L.Qc(e.depositTypeName),L.Cb(2),L.Qc(null==e?null:e.approvalNo),L.Cb(2),L.Qc(e.payRequestDatetime),L.Cb(1),L.Gb("color-red","C"===e.approvalOrCancel),L.Cb(1),L.Qc(e.paidDatetime),L.Cb(1),L.Gb("color-red","C"===e.approvalOrCancel),L.Cb(1),L.Qc(L.jc(21,15,e.paidAmount))}}function SY(e,t){if(1&e&&(L.Ub(0),L.Nc(1,FY,22,17,"ng-container",11),L.Tb()),2&e){const e=t.$implicit;L.Cb(1),L.pc("ngForOf",e.transactions)}}function TY(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",20),L.Pc(3,"-"),L.Vb(),L.Vb(),L.Tb())}let NY=(()=>{class e{constructor(e){this.alertService=e,this.clickCancelPaymentEvent=new L.n,this.clickCouponPointCancelEvent=new L.n,this.clickCashReceiptIssueEvent=new L.n,this.clickDeletePaymentEvent=new L.n,this.clickOpenPaymentCancelEvent=new L.n,this.selectPaymentInfoEvent=new L.n,this.categoryCode="PMC01",this.isPaid=!0}get paymentDetailInfo(){return this._paymentDetailInfo}set paymentDetailInfo(e){this._paymentDetailInfo=e,this._setPayments(e)}get paymentButtons(){var e,t;return null===(t=null===(e=this.paymentDetailInfo)||void 0===e?void 0:e.payment)||void 0===t?void 0:t.buttons}ngOnInit(){}onChangePaidCheck(e){this.isPaid=e,this._setPayments(this.paymentDetailInfo)}onClickRadio(e,t){this.payments=this.payments.map(n=>{const i=n.transactions.map(i=>Object.assign(Object.assign({},i),n.bookingTravelerCode===e.bookingTravelerCode&&i.paymentSeq===t.paymentSeq?{checked:!0}:{checked:!1}));return Object.assign(Object.assign({},n),{transactions:i})});const n=Object.assign(Object.assign({},e),{transactions:[t]});this.selectPaymentInfoEvent.emit({categoryCode:this.categoryCode,payments:[n]})}onClickPaymentCategory(e){this.categoryCode=e,this._setPayments(this.paymentDetailInfo)}onClickPaymentDelete(){const e=this.payments.reduce((e,t)=>{const n=t.transactions.filter(e=>!0===e.checked);return n.length>0&&(e=Object.assign(Object.assign({},t),{transactions:n})),e},null);if(Q.isNil(e))return void this.alertService.alert("Select the payment information you want to delete.");const{depositTypeCode:t,paidDatetime:n,paymentSeq:i}=e.transactions[0];["CCDP","CCCA","CCCC","CCGF","CCRP"].includes(t)||"PGCI"===t&&Q.isNil(n)?this.clickDeletePaymentEvent.emit({paymentSeqs:[i]}):this.alertService.alert("You can only delete bank deposits, cash, card (in person), gift certificates, bookkeeping substitutions, or virtual accounts before payment.")}onClickPaymentCancel(){const e=this.payments.reduce((e,t)=>{const n=t.transactions.filter(e=>!0===e.checked);return n.length>0&&(e=Object.assign(Object.assign({},t),{transactions:n})),e},null);if(Q.isNil(e))return void this.alertService.alert("Select the payment information you want to cancel.");if("C"===e.transactions[0].approvalOrCancel)return void this.alertService.alert("This payment has already been canceled.");if("PGCI"===e.transactions[0].depositTypeCode)return void this.alertService.alert("Virtual accounts cannot be canceled.");if("CCCA"===e.transactions[0].depositTypeCode)return void this.alertService.alert("Cash is irrevocable.");if("CCBP"===e.transactions[0].depositTypeCode)return void this.alertService.alert("This information is irrevocable.");if(Q.isNil(e.transactions[0].paidDatetime))return void this.alertService.alert("No amount has been authorized.");const{approvalNo:t}=e.transactions[0];if(this._calculatePaidAmount(t)<=0)this.alertService.alert("The payment has already been canceled and there are no payments left to cancel.");else if("CCCP"!==e.transactions[0].depositTypeCode&&"CCPT"!==e.transactions[0].depositTypeCode)this.clickOpenPaymentCancelEvent.emit();else{const t=Object.assign(Object.assign({},e),e.transactions[0]);this.clickCouponPointCancelEvent.emit(t)}}onClickCashReceiptIssue(){this.clickCashReceiptIssueEvent.emit()}_setPayments(e){var t,n,i;const o=(null===(i=null===(n=null===(t=null==e?void 0:e.payment)||void 0===t?void 0:t.paymentTypes)||void 0===n?void 0:n.filter(e=>e.categoryCode===this.categoryCode)[0])||void 0===i?void 0:i.payments)||[];this.payments=o.map(e=>{const t=e.transactions.filter(e=>!this.isPaid||!Q.isNil(e.paidDatetime)).map(e=>Object.assign(Object.assign({},e),{checked:!1}));return Object.assign(Object.assign({},e),{transactions:t})})}_calculatePaidAmount(e){return this.payments.reduce((t,n)=>(n.transactions.filter(e=>!0===e.checked).length>0&&(t=n.transactions.filter(t=>t.approvalNo===e)),t),[]).reduce((e,t)=>e+t.paidAmount,0)}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-payment-detail-info"]],inputs:{bookingItemCode:"bookingItemCode",paymentDetailInfo:"paymentDetailInfo"},outputs:{clickCancelPaymentEvent:"clickCancelPaymentEvent",clickCouponPointCancelEvent:"clickCouponPointCancelEvent",clickCashReceiptIssueEvent:"clickCashReceiptIssueEvent",clickDeletePaymentEvent:"clickDeletePaymentEvent",clickOpenPaymentCancelEvent:"clickOpenPaymentCancelEvent",selectPaymentInfoEvent:"selectPaymentInfoEvent"},decls:55,vars:8,consts:[[1,"page-item"],[1,"tabs-nav","tabs-underline"],[1,"nav-item"],["role","tab",1,"nav-link",3,"click"],[1,"tabs-content"],["role","tabpanel",1,"tab-pane","active"],[1,"buttons","d-flex","justify-content-end","mb5"],[1,"btn","btn-outline-dark","sm","ml5",3,"click"],[1,"table","table-bordered","table-responsive",2,"max-height","450px","overflow","auto"],["width","42px"],["scope","col",1,"align-c"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","align-c",3,"rowSpan",4,"ngIf"],[3,"rowSpan",4,"ngIf"],[1,"align-c"],["styleClass","only",3,"ngModel","value","onClick"],[1,"align-r"],[1,"align-c",3,"rowSpan"],[3,"rowSpan"],["colspan","13",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"ul",1),L.Wb(2,"li",2),L.Wb(3,"a",3),L.fc("click",(function(){return t.onClickPaymentCategory("PMC01")})),L.Pc(4,"Sales"),L.Vb(),L.Vb(),L.Wb(5,"li",2),L.Wb(6,"a",3),L.fc("click",(function(){return t.onClickPaymentCategory("PMC02")})),L.Pc(7,"Add"),L.Vb(),L.Vb(),L.Vb(),L.Wb(8,"div",4),L.Wb(9,"div",5),L.Wb(10,"div",6),L.Wb(11,"button",7),L.fc("click",(function(){return t.onClickCashReceiptIssue()})),L.Pc(12,"Issue Cash Receipt"),L.Vb(),L.Wb(13,"button",7),L.fc("click",(function(){return t.onClickPaymentCancel()})),L.Pc(14,"Payment Cancel"),L.Vb(),L.Vb(),L.Wb(15,"div",8),L.Wb(16,"table"),L.Wb(17,"caption"),L.Pc(18," Sales "),L.Vb(),L.Wb(19,"colgroup"),L.Rb(20,"col"),L.Rb(21,"col"),L.Rb(22,"col",9),L.Rb(23,"col"),L.Rb(24,"col"),L.Rb(25,"col"),L.Rb(26,"col"),L.Rb(27,"col"),L.Rb(28,"col"),L.Rb(29,"col"),L.Rb(30,"col"),L.Rb(31,"col"),L.Rb(32,"col"),L.Vb(),L.Wb(33,"thead"),L.Wb(34,"tr"),L.Wb(35,"th",10),L.Pc(36,"No."),L.Vb(),L.Wb(37,"th",10),L.Pc(38,"Travelers"),L.Vb(),L.Rb(39,"th",10),L.Wb(40,"th",10),L.Pc(41,"A/C"),L.Vb(),L.Wb(42,"th",10),L.Pc(43,"Type"),L.Vb(),L.Wb(44,"th",10),L.Pc(45,"Payment Info"),L.Vb(),L.Wb(46,"th",10),L.Pc(47,"RQ Date"),L.Vb(),L.Wb(48,"th",10),L.Pc(49,"App. or CXL Date"),L.Vb(),L.Wb(50,"th",10),L.Pc(51,"App. or CXL Amts"),L.Vb(),L.Vb(),L.Vb(),L.Wb(52,"tbody"),L.Nc(53,SY,2,1,"ng-container",11),L.Nc(54,TY,4,0,"ng-container",12),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(3),L.Gb("active","PMC01"===t.categoryCode),L.Db("aria-selected","PMC01"===t.categoryCode),L.Cb(3),L.Gb("active","PMC02"===t.categoryCode),L.Db("aria-selected","PMC02"===t.categoryCode),L.Cb(47),L.pc("ngForOf",t.payments),L.Cb(1),L.pc("ngIf",!(null!=t.payments[0]&&t.payments[0].transactions)||0===(null==t.payments[0]||null==t.payments[0].transactions?null:t.payments[0].transactions.length)))},directives:[k.n,k.o,cS.a,I.r,I.u],pipes:[k.f],encapsulation:2,changeDetection:0}),e})();const EY=function(){return{standalone:!0}};function MY(e,t){if(1&e){const e=L.Xb();L.Wb(0,"td",17),L.Wb(1,"app-radio",18),L.fc("ngModelChange",(function(t){return L.Fc(e),L.hc(3).selectedChangeRequestSeq=t})),L.Vb(),L.Vb()}if(2&e){const e=L.hc(2).$implicit,t=L.hc();L.pc("rowSpan",e.get("ticketInfo").controls.length),L.Cb(1),L.pc("ngModel",t.selectedChangeRequestSeq)("value",e.get("changeRequestSeq").value)("ngModelOptions",L.tc(4,EY))}}function DY(e,t){if(1&e&&(L.Wb(0,"td",19),L.Pc(1),L.Vb()),2&e){const e=L.hc(2).$implicit;L.pc("rowSpan",e.get("ticketInfo").controls.length),L.Cb(1),L.Qc(e.get("requestDatetime").value)}}function LY(e,t){if(1&e&&(L.Wb(0,"td",19),L.Pc(1),L.Vb()),2&e){const e=L.hc(2).$implicit;L.pc("rowSpan",e.get("ticketInfo").controls.length),L.Cb(1),L.Qc(e.get("changeRequestTypeName").value)}}function _Y(e,t){if(1&e&&(L.Wb(0,"td",17),L.Rb(1,"app-selectbox",20),L.Vb()),2&e){const e=L.hc(2).$implicit,t=L.hc();L.pc("rowSpan",e.get("ticketInfo").controls.length),L.Cb(1),L.pc("options",t.changeRequestStatusList)}}function $Y(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr"),L.Nc(2,MY,2,5,"td",13),L.Nc(3,DY,2,2,"td",14),L.Nc(4,LY,2,2,"td",14),L.Nc(5,_Y,2,2,"td",13),L.Wb(6,"td",15),L.Wb(7,"a",16),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc(2).onClickRefundRegister(n.value)})),L.Pc(8),L.Vb(),L.Vb(),L.Wb(9,"td"),L.Pc(10),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,n=t.index;L.Cb(2),L.pc("ngIf",0===n),L.Cb(1),L.pc("ngIf",0===n),L.Cb(1),L.pc("ngIf",0===n),L.Cb(1),L.pc("ngIf",0===n),L.Cb(3),L.Qc(e.get("ticketNo").value),L.Cb(2),L.Qc(e.get("nameEn").value)}}function BY(e,t){if(1&e&&(L.Ub(0,11),L.Nc(1,$Y,11,6,"ng-container",12),L.Tb()),2&e){const e=t.$implicit;L.pc("formGroupName",t.index),L.Cb(1),L.pc("ngForOf",e.get("ticketInfo").controls)}}function wY(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",21),L.Pc(3,"-"),L.Vb(),L.Vb(),L.Tb())}let xY=(()=>{class e{constructor(e,t){this.alertService=e,this._dataService=t,this.clickRefundRegisterEvent=new L.n,this.saveEvent=new L.n,this.cancelEvent=new L.n,this.putForm=t.generateRefundRequestsInitPutForm()}get requests(){return this._requests}set requests(e){this._requests=e,this._setFormData(e)}get requestsFormArray(){var e;return null===(e=this.putForm)||void 0===e?void 0:e.get("requests")}ngOnInit(){}onSave(){if(Q.isNil(this.selectedChangeRequestSeq))return void this.alertService.alert("Please select the refund request data first.");const e=this._setPutCondition();this.saveEvent.emit(e)}onCancel(){Q.isNil(this.selectedChangeRequestSeq)?this.alertService.alert("Please select the refund request data first."):this.cancelEvent.emit({changeRequestStatusCode:"CHS07",changeRequestSeq:this.selectedChangeRequestSeq})}onClickRefundRegister(e){var t;const n=null===(t=this.requests.filter(t=>t.ticketNo===e.ticketNo))||void 0===t?void 0:t.first(),{bookingTravelerCode:i,ticketingDate:o,ticketNo:a}=n;this.clickRefundRegisterEvent.emit({bookingTravelerCode:i,ticketingDate:o,ticketNo:a})}_setFormData(e){if(Q.isNil(e))return;const t=this._setRequestRefundData(e);this.requestsFormArray.clear(),t.forEach(e=>{const t=this._dataService.generateRefundRequestInitPutForm(),{changeRequestSeq:n,changeRequestStatusCode:i,requestDatetime:o,refundRegisteredYn:a,refundPicName:c,changeRequestTypeName:s}=e;t.patchValue({changeRequestSeq:n,changeRequestStatusCode:i,requestDatetime:o,refundRegisteredYn:a,refundPicName:c,changeRequestTypeName:s});const r=t.get("ticketInfo");e.ticketInfo.forEach(e=>{const t=this._dataService.generateRefundRequestInitTicketForm(),{ticketNo:n,nameEn:i}=e;t.patchValue({ticketNo:n,nameEn:i}),r.push(t)}),this.requestsFormArray.push(t)})}_setPutCondition(){var e;const t=this._dataService.initRefundRequestPutCondition(),n=null===(e=this.requestsFormArray.controls.filter(e=>e.get("changeRequestSeq").value===this.selectedChangeRequestSeq).pop())||void 0===e?void 0:e.value;return Object.assign({},Q.pick(n,Object.keys(t)))}_setRequestRefundData(e){const t=e.reduce((e,t)=>{const{changeRequestSeq:n,changeRequestStatusCode:i,requestDatetime:o,ticketNo:a,nameEn:c,refundRegisteredYn:s,refundPicName:r,changeRequestTypeName:l}=t;return Q.isNil(e[n])?e[t.changeRequestSeq]={changeRequestSeq:n,changeRequestStatusCode:i,requestDatetime:o,refundRegisteredYn:s,refundPicName:r,changeRequestTypeName:l,ticketInfo:[{ticketNo:a,nameEn:c}]}:e[t.changeRequestSeq].ticketInfo.push({ticketNo:a,nameEn:c}),e},{});return Object.keys(t).map(e=>t[e])}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a),L.Qb(US))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-ticket-refund-request"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",changeRequestStatusList:"changeRequestStatusList",requests:"requests"},outputs:{clickRefundRegisterEvent:"clickRefundRegisterEvent",saveEvent:"saveEvent",cancelEvent:"cancelEvent"},decls:36,vars:4,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title"],[1,"control"],[1,"btn","btn-outline-dark","sm",3,"click"],[3,"formGroup","connectForm"],[1,"table","table-bordered","table-responsive",2,"max-height","350px","overflow","auto"],["scope","col",1,"align-c"],["formArrayName","requests"],[3,"formGroupName",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"formGroupName"],[4,"ngFor","ngForOf"],[3,"rowSpan",4,"ngIf"],["class","align-c",3,"rowSpan",4,"ngIf"],[1,"align-c"],[1,"text-underline",3,"click"],[3,"rowSpan"],["styleClass","only",3,"ngModel","value","ngModelOptions","ngModelChange"],[1,"align-c",3,"rowSpan"],["formControlName","changeRequestStatusCode","dataKey","detailCode","displayKey","detailCodeNameEn",3,"options"],["colspan","8",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"p",2),L.Pc(3,"Request List"),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"a",4),L.fc("click",(function(){return t.onSave()})),L.Pc(6,"Save"),L.Vb(),L.Vb(),L.Vb(),L.Wb(7,"form",5),L.Wb(8,"div",6),L.Wb(9,"table"),L.Wb(10,"caption"),L.Pc(11," Request List "),L.Vb(),L.Wb(12,"colgroup"),L.Rb(13,"col"),L.Rb(14,"col"),L.Rb(15,"col"),L.Rb(16,"col"),L.Rb(17,"col"),L.Rb(18,"col"),L.Rb(19,"col"),L.Vb(),L.Wb(20,"thead"),L.Wb(21,"tr"),L.Rb(22,"th",7),L.Wb(23,"th",7),L.Pc(24,"Request Date"),L.Vb(),L.Wb(25,"th",7),L.Pc(26,"RQ Type"),L.Vb(),L.Wb(27,"th",7),L.Pc(28,"RQ Status"),L.Vb(),L.Wb(29,"th",7),L.Pc(30,"TK No."),L.Vb(),L.Wb(31,"th",7),L.Pc(32,"Traveler"),L.Vb(),L.Vb(),L.Vb(),L.Wb(33,"tbody",8),L.Nc(34,BY,2,2,"ng-container",9),L.Nc(35,wY,4,0,"ng-container",10),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(7),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(27),L.pc("ngForOf",t.requestsFormArray.controls),L.Cb(1),L.pc("ngIf",(null==t.requestsFormArray.controls?null:t.requestsFormArray.controls.length)<1))},directives:[I.B,I.s,I.k,J.a,I.e,k.n,k.o,I.l,cS.a,I.r,I.u,Se.a,I.i],encapsulation:2,changeDetection:0}),e})();function YY(e,t){if(1&e&&(L.Wb(0,"span"),L.Pc(1),L.ic(2,"number"),L.Vb()),2&e){const e=L.hc().$implicit;L.Cb(1),L.Qc(L.jc(2,1,e.paidSumAmount))}}function HY(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"0"),L.Vb())}function qY(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td"),L.Wb(3,"app-radio",8),L.fc("ngModelChange",(function(t){return L.Fc(e),L.hc().checkedIndex=t}))("onClick",(function(){L.Fc(e);const n=t.index;return L.hc().onClickRadio(n)})),L.Vb(),L.Vb(),L.Wb(4,"td",9),L.Pc(5),L.Vb(),L.Wb(6,"td",9),L.Pc(7),L.Vb(),L.Wb(8,"td",10),L.Pc(9),L.ic(10,"number"),L.Vb(),L.Wb(11,"td",10),L.Nc(12,YY,3,3,"span",7),L.Nc(13,HY,2,0,"span",7),L.Vb(),L.Wb(14,"td",9),L.Pc(15),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,n=t.index,i=L.hc();L.Cb(3),L.pc("ngModel",i.checkedIndex)("value",n),L.Cb(2),L.Qc(e.nameEn),L.Cb(2),L.Qc(e.chargeTypeName),L.Cb(2),L.Qc(L.jc(10,8,e.agencyChargeAmount)),L.Cb(3),L.pc("ngIf",e.paidDatetime),L.Cb(1),L.pc("ngIf",!e.paidDatetime),L.Cb(2),L.Qc(e.paidDatetime)}}function UY(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",11),L.Pc(3,"\uc624\ub9c8\uc774\ud638\ud154 \uc218\uc218\ub8cc/\uc704\uc57d\uae08 \uacb0\uc81c \ub0b4\uc5ed\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."),L.Vb(),L.Vb(),L.Tb())}let QY=(()=>{class e{constructor(e){this.alertService=e,this.clickPaymentManualEvent=new L.n,this.clickPaymentPenaltyCancelEvent=new L.n,this.clickPaymentDeleteEvent=new L.n,this.selectPenaltyInfoEvent=new L.n}ngOnInit(){}onClickRadio(e){this.selectPenaltyInfoEvent.emit(this.penalties[e])}onClickPaymentManual(){Q.isNil(this.checkedIndex)?this.alertService.alert("Please select Oh My Hotel fee/penalty payment history first."):this.clickPaymentManualEvent.emit()}onClickPaymentPenaltyCancel(){Q.isNil(this.checkedIndex)?this.alertService.alert("Please select Oh My Hotel fee/penalty payment history first."):this.clickPaymentPenaltyCancelEvent.emit()}onClickPaymentDelete(){if(Q.isNil(this.checkedIndex))return void this.alertService.alert("Please select Oh My Hotel fee/penalty payment history first.");const e=this.penalties[this.checkedIndex],{depositTypeCode:t,paidDatetime:n,paymentSeq:i}=e;Q.isNil(i)?this.alertService.alert("Data that has not yet been paid for."):["CCDP","CCCA","CCCC","CCGF","CCRP"].includes(t)||"PGCI"===t&&Q.isNil(n)?this.clickPaymentDeleteEvent.emit({paymentSeqs:[i]}):this.alertService.alert("You can only delete bank deposits, cash, card (in person), gift certificates, bookkeeping substitutions, or virtual accounts before payment.")}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-ticket-refund-penalty"]],inputs:{penalties:"penalties"},outputs:{clickPaymentManualEvent:"clickPaymentManualEvent",clickPaymentPenaltyCancelEvent:"clickPaymentPenaltyCancelEvent",clickPaymentDeleteEvent:"clickPaymentDeleteEvent",selectPenaltyInfoEvent:"selectPenaltyInfoEvent"},decls:37,vars:2,consts:[[1,"page-item-header"],[1,"title"],[1,"control"],["type","submit",1,"btn","btn-outline-dark","sm",3,"click"],[1,"table","table-bordered","table-responsive"],["scope","col",1,"align-c"],[4,"ngFor","ngForOf"],[4,"ngIf"],["styleClass","only",3,"ngModel","value","ngModelChange","onClick"],[1,"align-c"],[1,"align-r"],["colspan","6",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"\uc624\ub9c8\uc774\ud638\ud154 \uc218\uc218\ub8cc/\uc704\uc57d\uae08 \uacb0\uc81c \ub0b4\uc5ed"),L.Vb(),L.Wb(3,"div",2),L.Wb(4,"button",3),L.fc("click",(function(){return t.onClickPaymentPenaltyCancel()})),L.Pc(5,"\uacb0\uc81c\ucde8\uc18c/\ud658\ubd88\uc694\uccad"),L.Vb(),L.Wb(6,"button",3),L.fc("click",(function(){return t.onClickPaymentManual()})),L.Pc(7,"\uacb0\uc81c\uc218\ub3d9\ub4f1\ub85d"),L.Vb(),L.Wb(8,"button",3),L.fc("click",(function(){return t.onClickPaymentDelete()})),L.Pc(9,"\uc0ad\uc81c"),L.Vb(),L.Vb(),L.Vb(),L.Wb(10,"div",4),L.Wb(11,"table"),L.Wb(12,"caption"),L.Pc(13," \uc624\ub9c8\uc774\ud638\ud154 \uc218\uc218\ub8cc/\uc704\uc57d\uae08 \uacb0\uc81c \ub0b4\uc5ed "),L.Vb(),L.Wb(14,"colgroup"),L.Rb(15,"col"),L.Rb(16,"col"),L.Rb(17,"col"),L.Rb(18,"col"),L.Rb(19,"col"),L.Rb(20,"col"),L.Vb(),L.Wb(21,"thead"),L.Wb(22,"tr"),L.Rb(23,"th",5),L.Wb(24,"th",5),L.Pc(25,"\uc601\ubb38\uc774\ub984"),L.Vb(),L.Wb(26,"th",5),L.Pc(27,"\uad6c\ubd84"),L.Vb(),L.Wb(28,"th",5),L.Pc(29,"\uc218\uc218\ub8cc/\uc704\uc57d\uae08"),L.Vb(),L.Wb(30,"th",5),L.Pc(31,"\uacb0\uc81c\uc644\ub8cc\uae08\uc561"),L.Vb(),L.Wb(32,"th",5),L.Pc(33,"\uacb0\uc81c\uc77c"),L.Vb(),L.Vb(),L.Vb(),L.Wb(34,"tbody"),L.Nc(35,qY,16,10,"ng-container",6),L.Nc(36,UY,4,0,"ng-container",7),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(35),L.pc("ngForOf",t.penalties),L.Cb(1),L.pc("ngIf",(null==t.penalties?null:t.penalties.length)<1))},directives:[k.n,k.o,cS.a,I.r,I.u],pipes:[k.f],encapsulation:2,changeDetection:0}),e})();function GY(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"Y"),L.Vb())}function KY(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"N"),L.Vb())}function zY(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",10),L.Wb(3,"app-radio",11),L.fc("ngModelChange",(function(t){return L.Fc(e),L.hc(2).selectedIndex=t})),L.Vb(),L.Vb(),L.Wb(4,"td",10),L.Pc(5),L.Vb(),L.Wb(6,"td",10),L.Pc(7),L.Vb(),L.Wb(8,"td",10),L.Pc(9),L.Vb(),L.Wb(10,"td",10),L.Pc(11),L.Vb(),L.Wb(12,"td",10),L.Pc(13),L.Vb(),L.Wb(14,"td",10),L.Pc(15),L.Vb(),L.Wb(16,"td",10),L.Nc(17,GY,2,0,"span",12),L.Nc(18,KY,2,0,"span",12),L.Vb(),L.Wb(19,"td",10),L.Pc(20),L.Vb(),L.Wb(21,"td",10),L.Pc(22),L.Vb(),L.Wb(23,"td",13),L.Pc(24),L.ic(25,"number"),L.Vb(),L.Wb(26,"td",13),L.Pc(27),L.ic(28,"number"),L.Vb(),L.Wb(29,"td",13),L.Pc(30),L.ic(31,"number"),L.Vb(),L.Wb(32,"td",13),L.Pc(33),L.ic(34,"number"),L.Vb(),L.Wb(35,"td",13),L.Pc(36),L.ic(37,"number"),L.Vb(),L.Wb(38,"td",13),L.Pc(39),L.ic(40,"number"),L.Vb(),L.Wb(41,"td",13),L.Pc(42),L.ic(43,"number"),L.Vb(),L.Wb(44,"td",10),L.Pc(45),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,n=t.index,i=L.hc(2);L.Cb(3),L.pc("ngModel",i.selectedIndex)("value",n),L.Cb(2),L.Qc(e.ticketingDate),L.Cb(2),L.Qc(e.airlineNumberCode),L.Cb(2),L.Qc(e.airlineNumberCode),L.Cb(2),L.Qc(e.ticketNo),L.Cb(2),L.Qc(e.bookingTravelerName),L.Cb(2),L.Qc(e.billingTypeName),L.Cb(2),L.pc("ngIf","C"===e.conjunctionTypeCode),L.Cb(1),L.pc("ngIf","N"===e.conjunctionTypeCode),L.Cb(2),L.Qc(e.ticketVoidTypeCode),L.Cb(2),L.Qc(e.fopCode),L.Cb(2),L.Qc(L.jc(25,20,e.netAmount)),L.Cb(3),L.Qc(L.jc(28,22,e.taxAmount)),L.Cb(3),L.Qc(L.jc(31,24,e.discountAmount)),L.Cb(3),L.Qc(L.jc(34,26,e.cardAmount)),L.Cb(3),L.Qc(L.jc(37,28,e.cashAmount)),L.Cb(3),L.Qc(L.jc(40,30,e.airlineCommAmount)),L.Cb(3),L.Qc(L.jc(43,32,e.airlineCommVat)),L.Cb(3),L.Qc(e.originTicketingDetail)}}function XY(e,t){if(1&e&&(L.Ub(0),L.Nc(1,zY,46,34,"ng-container",9),L.Tb()),2&e){const e=L.hc();L.Cb(1),L.pc("ngForOf",e.tickets)}}function ZY(e,t){1&e&&(L.Wb(0,"tr"),L.Wb(1,"td",14),L.Pc(2,"-"),L.Vb(),L.Vb())}let JY=(()=>{class e{constructor(e){this._alertService=e,this.clickRefundDetailEvent=new L.n,this.clickManualTicketEvent=new L.n,this.clickDeleteDsrMappingEvent=new L.n}get tickets(){var e;return(null===(e=this.ticketDetailInfo)||void 0===e?void 0:e.tickets)||[]}get ticketButtons(){var e;return null===(e=this.ticketDetailInfo)||void 0===e?void 0:e.buttons}ngOnInit(){}onClickRefundDetail(){if(Q.isNil(this.selectedIndex))return void this._alertService.alert("Select your ticketing information.");const e=this.tickets[this.selectedIndex],{bookingTravelerCode:t,refundDate:n,ticketingDate:i,ticketNo:o}=e;this.clickRefundDetailEvent.emit({bookingTravelerCode:t,refundDate:n||void 0,ticketingDate:i||void 0,ticketNo:o})}onClickManualTicket(){this.clickManualTicketEvent.emit()}onClickDeleteDsrMappingEvent(){if(Q.isNil(this.selectedIndex))return void this._alertService.alert("Select the ticketing information for which you want to delete the DSR mapping.");const e=this.tickets[this.selectedIndex],{ticketingDate:t,ticketNo:n,bookingTravelerCode:i}=e;this.clickDeleteDsrMappingEvent.emit({ticketingDate:t,ticketNo:n,bookingTravelerCode:i,priceSeq:null})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-ticket-sale-ticketing-ticketing-list"]],inputs:{ticketDetailInfo:"ticketDetailInfo"},outputs:{clickRefundDetailEvent:"clickRefundDetailEvent",clickManualTicketEvent:"clickManualTicketEvent",clickDeleteDsrMappingEvent:"clickDeleteDsrMappingEvent"},decls:67,vars:2,consts:[[1,"page-item-header"],[1,"title"],[1,"control"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"table","table-bordered","table-responsive",2,"max-height","600px","overflow","auto"],["width","42px"],["scope","col",1,"align-c"],[4,"ngIf","ngIfElse"],["emptyTickets",""],[4,"ngFor","ngForOf"],[1,"align-c"],["styleClass","\u201conly\u201d",3,"ngModel","value","ngModelChange"],[4,"ngIf"],[1,"align-r"],["colspan","19",1,"align-c"]],template:function(e,t){if(1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"DSR Data"),L.Vb(),L.Wb(3,"div",2),L.Wb(4,"a",3),L.fc("click",(function(){return t.onClickRefundDetail()})),L.Pc(5,"BSP/DSR RFND Detail"),L.Vb(),L.Wb(6,"a",3),L.fc("click",(function(){return t.onClickManualTicket()})),L.Pc(7,"TKT Register"),L.Vb(),L.Vb(),L.Vb(),L.Wb(8,"div",4),L.Wb(9,"table"),L.Wb(10,"caption"),L.Pc(11," DSR Data "),L.Vb(),L.Wb(12,"colgroup"),L.Rb(13,"col",5),L.Rb(14,"col"),L.Rb(15,"col"),L.Rb(16,"col"),L.Rb(17,"col"),L.Rb(18,"col"),L.Rb(19,"col"),L.Rb(20,"col"),L.Rb(21,"col"),L.Rb(22,"col"),L.Rb(23,"col"),L.Rb(24,"col"),L.Rb(25,"col"),L.Vb(),L.Wb(26,"thead"),L.Wb(27,"tr"),L.Rb(28,"th",6),L.Wb(29,"th",6),L.Pc(30,"Issued Date"),L.Vb(),L.Wb(31,"th",6),L.Pc(32,"Airline"),L.Vb(),L.Wb(33,"th",6),L.Pc(34,"No. Code"),L.Vb(),L.Wb(35,"th",6),L.Pc(36,"Ticket No."),L.Vb(),L.Wb(37,"th",6),L.Pc(38,"Name(EN)"),L.Vb(),L.Wb(39,"th",6),L.Pc(40,"Type"),L.Vb(),L.Wb(41,"th",6),L.Pc(42,"CNJ"),L.Vb(),L.Wb(43,"th",6),L.Pc(44,"VOID"),L.Vb(),L.Wb(45,"th",6),L.Pc(46,"FOP"),L.Vb(),L.Wb(47,"th",6),L.Pc(48,"NET"),L.Vb(),L.Wb(49,"th",6),L.Pc(50,"TAX"),L.Vb(),L.Wb(51,"th",6),L.Pc(52,"Discount"),L.Vb(),L.Wb(53,"th",6),L.Pc(54,"CC"),L.Vb(),L.Wb(55,"th",6),L.Pc(56,"Cash"),L.Vb(),L.Wb(57,"th",6),L.Pc(58,"COM"),L.Vb(),L.Wb(59,"th",6),L.Pc(60,"VAT"),L.Vb(),L.Wb(61,"th",6),L.Pc(62,"ORITicket No."),L.Vb(),L.Vb(),L.Vb(),L.Wb(63,"tbody"),L.Nc(64,XY,2,1,"ng-container",7),L.Nc(65,ZY,3,0,"ng-template",null,8,L.Oc),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.Ec(66);L.Cb(64),L.pc("ngIf",t.tickets.length>0)("ngIfElse",e)}},directives:[k.o,k.n,cS.a,I.r,I.u],pipes:[k.f],encapsulation:2,changeDetection:0}),e})(),eH=(()=>{class e{constructor(){}ngOnInit(){}get netAmountSum(){var e,t;return(null===(t=null===(e=this.ticketDetailInfo)||void 0===e?void 0:e.tickets)||void 0===t?void 0:t.reduce((e,t)=>e+t.netAmount,0))||0}get taxAmountSum(){var e,t;return(null===(t=null===(e=this.ticketDetailInfo)||void 0===e?void 0:e.tickets)||void 0===t?void 0:t.reduce((e,t)=>e+t.taxAmount,0))||0}get salesAmountSum(){var e,t;return(null===(t=null===(e=this.ticketDetailInfo)||void 0===e?void 0:e.tickets)||void 0===t?void 0:t.reduce((e,t)=>e+t.salesAmount,0))||0}get airlineCommAmountSum(){var e,t;return(null===(t=null===(e=this.ticketDetailInfo)||void 0===e?void 0:e.tickets)||void 0===t?void 0:t.reduce((e,t)=>e+t.airlineCommAmount,0))||0}get airlineCommVatSum(){var e,t;return(null===(t=null===(e=this.ticketDetailInfo)||void 0===e?void 0:e.tickets)||void 0===t?void 0:t.reduce((e,t)=>e+t.airlineCommVat,0))||0}get cardAmounSumt(){var e,t;return(null===(t=null===(e=this.ticketDetailInfo)||void 0===e?void 0:e.tickets)||void 0===t?void 0:t.reduce((e,t)=>e+t.cardAmount,0))||0}get cashAmountSum(){var e,t;return(null===(t=null===(e=this.ticketDetailInfo)||void 0===e?void 0:e.tickets)||void 0===t?void 0:t.reduce((e,t)=>e+t.cashAmount,0))||0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-ticket-sale-ticketing-sum"]],inputs:{ticketDetailInfo:"ticketDetailInfo"},decls:55,vars:21,consts:[[1,"page-item-header"],[1,"title"],[1,"control"],[1,"table","table-bordered","table-responsive"],["scope","col",1,"align-c"],[1,"align-r"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"\ud569\uacc4"),L.Vb(),L.Rb(3,"div",2),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," \ud310\ub9e4/\ubc1c\uad8c\uc815\ubcf4 - \ud569\uacc4 "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Rb(13,"col"),L.Rb(14,"col"),L.Rb(15,"col"),L.Vb(),L.Wb(16,"thead"),L.Wb(17,"tr"),L.Wb(18,"th",4),L.Pc(19,"\ubc1c\uad8cNET"),L.Vb(),L.Wb(20,"th",4),L.Pc(21,"\ubc1c\uad8cTAX"),L.Vb(),L.Wb(22,"th",4),L.Pc(23,"\ubc1c\uad8c\uae08\uc561"),L.Vb(),L.Wb(24,"th",4),L.Pc(25,"\ubc1c\uad8cCOM"),L.Vb(),L.Wb(26,"th",4),L.Pc(27,"\ubc1c\uad8cVAT"),L.Vb(),L.Wb(28,"th",4),L.Pc(29,"CC"),L.Vb(),L.Wb(30,"th",4),L.Pc(31,"CA"),L.Vb(),L.Vb(),L.Vb(),L.Wb(32,"tbody"),L.Wb(33,"tr"),L.Wb(34,"td",5),L.Pc(35),L.ic(36,"number"),L.Vb(),L.Wb(37,"td",5),L.Pc(38),L.ic(39,"number"),L.Vb(),L.Wb(40,"td",5),L.Pc(41),L.ic(42,"number"),L.Vb(),L.Wb(43,"td",5),L.Pc(44),L.ic(45,"number"),L.Vb(),L.Wb(46,"td",5),L.Pc(47),L.ic(48,"number"),L.Vb(),L.Wb(49,"td",5),L.Pc(50),L.ic(51,"number"),L.Vb(),L.Wb(52,"td",5),L.Pc(53),L.ic(54,"number"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(35),L.Qc(L.jc(36,7,t.netAmountSum)),L.Cb(3),L.Qc(L.jc(39,9,t.taxAmountSum)),L.Cb(3),L.Qc(L.jc(42,11,t.salesAmountSum)),L.Cb(3),L.Qc(L.jc(45,13,t.airlineCommAmountSum)),L.Cb(3),L.Qc(L.jc(48,15,t.airlineCommVatSum)),L.Cb(3),L.Qc(L.jc(51,17,t.cardAmounSumt)),L.Cb(3),L.Qc(L.jc(54,19,t.cashAmountSum)))},pipes:[k.f],encapsulation:2,changeDetection:0}),e})(),tH=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-ticket-sale-ticketing-sale-info"]],decls:48,vars:0,consts:[[1,"page-item-header"],[1,"title"],[1,"control"],[1,"table","table-bordered","table-responsive"],["scope","col","rowspan","2",1,"align-c"],["scope","col",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"\ud310\ub9e4\uc815\ubcf4"),L.Vb(),L.Rb(3,"div",2),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," \ud310\ub9e4/\ubc1c\uad8c\uc815\ubcf4 - \ud310\ub9e4\uc815\ubcf4 "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Rb(13,"col"),L.Rb(14,"col"),L.Vb(),L.Wb(15,"thead"),L.Wb(16,"tr"),L.Wb(17,"th",4),L.Pc(18,"\ud0d1\uc2b9\uc790"),L.Vb(),L.Wb(19,"th",5),L.Pc(20,"\ubc1c\uad8cNET"),L.Vb(),L.Wb(21,"th",5),L.Pc(22,"\ud310\ub9e4NET"),L.Vb(),L.Wb(23,"th",5),L.Pc(24,"\uc81c\uc138\uacf5\uacfc\uae08"),L.Vb(),L.Wb(25,"th",5),L.Pc(26,"\ud56d\uacf5\ucef4(%)"),L.Vb(),L.Wb(27,"th",5),L.Pc(28,"\uc7a1\uc190\uc775"),L.Vb(),L.Vb(),L.Wb(29,"tr"),L.Wb(30,"th",5),L.Pc(31,"\ud560\uc778/\ud560\uc99d"),L.Vb(),L.Wb(32,"th",5),L.Pc(33,"Q-CHG"),L.Vb(),L.Wb(34,"th",5),L.Pc(35,"\uc720\ub958\ud560\uc99d\ub8cc"),L.Vb(),L.Wb(36,"th",5),L.Pc(37,"\ubc1c\uad8cT"),L.Vb(),L.Wb(38,"th",5),L.Pc(39,"\uacb0\uc81c\ub300\uc0c1"),L.Vb(),L.Vb(),L.Vb(),L.Wb(40,"tbody"),L.Wb(41,"tr"),L.Rb(42,"td"),L.Rb(43,"td"),L.Rb(44,"td"),L.Rb(45,"td"),L.Rb(46,"td"),L.Rb(47,"td"),L.Vb(),L.Vb(),L.Vb(),L.Vb())},encapsulation:2,changeDetection:0}),e})();function nH(e,t){if(1&e){const e=L.Xb();L.Wb(0,"div",2),L.Wb(1,"app-radio",5),L.fc("onClick",(function(){return L.Fc(e),L.hc().onChangeRadio(!0)})),L.Vb(),L.Wb(2,"app-radio",6),L.fc("onClick",(function(){return L.Fc(e),L.hc().onChangeRadio(!1)})),L.Vb(),L.Vb()}if(2&e){const e=L.hc();L.Cb(1),L.pc("ngModel",e.isSingleForm)("value",!0),L.Cb(1),L.pc("ngModel",e.isSingleForm)("value",!1)}}let iH=(()=>{class e{constructor(){this.changeFormEvent=new L.n}get ticketDetailInfo(){return this._ticketDetailInfo}set ticketDetailInfo(e){this._ticketDetailInfo=e}ngOnInit(){}onChangeRadio(e){this.changeFormEvent.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-ticket-manual-control"]],inputs:{isSingleForm:"isSingleForm",ticketDetailInfo:"ticketDetailInfo"},outputs:{changeFormEvent:"changeFormEvent"},decls:6,vars:1,consts:[[1,"page-item-header"],[1,"title"],[1,"form-group"],[1,"mr10"],["class","form-group",4,"ngIf"],["label","\uac1c\ubcc4\ub4f1\ub85d",3,"ngModel","value","onClick"],["label","\uc77c\uad04\ub4f1\ub85d",3,"ngModel","value","onClick"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"div",2),L.Wb(3,"span",3),L.Pc(4,"\ud2f0\ucf13\uc815\ubcf4"),L.Vb(),L.Nc(5,nH,3,4,"div",4),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(5),L.pc("ngIf",!t.ticketDetailInfo))},directives:[k.o,cS.a,I.r,I.u],encapsulation:2,changeDetection:0}),e})();function oH(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",39),L.fc("click",(function(){return L.Fc(e),L.hc().onClickManualTicketNo()})),L.Pc(1,"Manual"),L.Vb()}}const aH=function(){return["airlineNumberCode","airlineNameLn","airlineNameEn"]},cH=function(){return{compCode:11e4,userTypeCode:"U01"}},sH=function(){return["userNo","name","deptName","positionName"]};let rH=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.saveEvent=new L.n,this.deleteEvent=new L.n,this.clickManualTicketNo=new L.n,this.diableTicketNoButton=!1,this.manualRegisterYnOptions=[{label:"Y",value:!0},{label:"N",value:!1}],this.conjTicketTypeOptions=[{label:"Y",value:"C"},{label:"N",value:"N"}],this.putForm=e.generateTicketManualSinglePutForm(),this.putFormData=e.initTicketManualSinglePutForm()}get manualTicketNo(){return this._manualTicketNo}set manualTicketNo(e){this._manualTicketNo=e,this.putForm.get("ticketNo").setValue(e)}get gdsSubPnr(){return this._gdsSubPnr}set gdsSubPnr(e){var t;this._gdsSubPnr=e,null===(t=this.putForm)||void 0===t||t.get("gdsSubPnr").setValue(e)}get ticketDetailInfo(){return this._ticketDetailInfo}set ticketDetailInfo(e){this._ticketDetailInfo=e,this.putFormData=this._setFormData(e),Q.isNil(this.putFormData.ticketNo)||(this.putForm.get("ticketingDate").disable(),this.putForm.get("ticketNo").disable())}get ticketingDsrFinishYn(){return this._ticketingDsrFinishYn}set ticketingDsrFinishYn(e){this._ticketingDsrFinishYn=e,!0===e?(this._disableForm(),this.diableTicketNoButton=!0):(this._enableForm(),this.diableTicketNoButton=!1)}get airlineInput(){return Q.isNil(this.ticketDetailInfo)?"":`${this.ticketDetailInfo.airlineNumberCode}`}get ticketingPicInput(){var e;return Q.isNil(null===(e=this.ticketDetailInfo)||void 0===e?void 0:e.ticketingPicUno)?"":`${this.ticketDetailInfo.ticketingPicName}(${this.ticketDetailInfo.ticketingPicUno})`}ngOnInit(){}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}onSubmit(){if(this.putForm.invalid)return void(this.checkValid=!0);const e=this._setPutCondition();this.saveEvent.emit(e)}onDelete(){const{ticketingDate:e,ticketNo:t}=this._ticketDetailInfo;this.deleteEvent.emit({ticketingDate:e,ticketNo:t})}onClickManualTicketNo(){this.clickManualTicketNo.emit({ticketNoCount:1})}_disableForm(){this.putForm.get("gdsSubPnr").disable(),this.putForm.get("etEmdOtherTypeCode").disable(),this.putForm.get("bookingTravelerCode").disable(),this.putForm.get("airlineNumberCode").disable(),this.putForm.get("ticketNo").disable(),this.putForm.get("conjunctionTypeCode").disable(),this.putForm.get("ticketVoidTypeCode").disable(),this.putForm.get("ticketingDate").disable(),this.putForm.get("departureDate").disable(),this.putForm.get("gdsAirlineCompCode").disable(),this.putForm.get("billingTypeCode").disable(),this.putForm.get("fareAmount").disable(),this.putForm.get("discountAmount").disable(),this.putForm.get("netAmount").disable(),this.putForm.get("taxAmount").disable(),this.putForm.get("salesAmount").disable(),this.putForm.get("airlineCommAmount").disable(),this.putForm.get("airlineCommCode").disable(),this.putForm.get("airlineCommVat").disable(),this.putForm.get("ticketingPicUno").disable(),this.putForm.get("fopCode").disable(),this.putForm.get("manualRegisterYn").disable(),this.putForm.get("cardAmount").disable(),this.putForm.get("cashAmount").disable()}_enableForm(){this.putForm.get("gdsSubPnr").enable(),this.putForm.get("etEmdOtherTypeCode").enable(),this.putForm.get("bookingTravelerCode").enable(),this.putForm.get("airlineNumberCode").enable(),this.putForm.get("ticketNo").enable(),this.putForm.get("conjunctionTypeCode").enable(),this.putForm.get("ticketVoidTypeCode").enable(),this.putForm.get("ticketingDate").enable(),this.putForm.get("departureDate").enable(),this.putForm.get("gdsAirlineCompCode").enable(),this.putForm.get("billingTypeCode").enable(),this.putForm.get("fareAmount").enable(),this.putForm.get("discountAmount").enable(),this.putForm.get("netAmount").enable(),this.putForm.get("taxAmount").enable(),this.putForm.get("salesAmount").enable(),this.putForm.get("airlineCommAmount").enable(),this.putForm.get("airlineCommCode").enable(),this.putForm.get("airlineCommVat").enable(),this.putForm.get("ticketingPicUno").enable(),this.putForm.get("fopCode").enable(),this.putForm.get("manualRegisterYn").enable(),this.putForm.get("cardAmount").enable(),this.putForm.get("cashAmount").enable()}_setFormData(e){const t=this._dataService.initTicketManualSinglePutForm();if(Q.isNil(e))return Object.assign(Object.assign({},t),{gdsSubPnr:this.gdsSubPnr});const{fareAmount:n,discountAmount:i,netAmount:o,taxAmount:a,salesAmount:c,airlineCommAmount:s,airlineCommVat:r,cardAmount:l,cashAmount:d}=e;return Object.assign({},Q.pick(e,Object.keys(t)),{currencyCode:"KRW",fareAmount:n||0,discountAmount:i||0,netAmount:o||0,taxAmount:a||0,salesAmount:c||0,airlineCommAmount:s||0,airlineCommVat:r||0,cardAmount:l||0,cashAmount:d||0})}_setPutCondition(){const e=this._dataService.initTicketManualSinglePutCondition(),t=this.putForm.getRawValue(),n=this.bookingItemCode;return{ticketInfos:[Object.assign({},Q.pick(t,Object.keys(e)),{bookingItemCode:n})]}}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-ticket-manual-single-form"]],inputs:{ticketVoidTypeList:"ticketVoidTypeList",ticketingStatusList:"ticketingStatusList",fopCodeList:"fopCodeList",billingTypeList:"billingTypeList",gdsNdcCompList:"gdsNdcCompList",etEmdOtherTypeList:"etEmdOtherTypeList",bookingTravelerList:"bookingTravelerList",bookingItemCode:"bookingItemCode",manualTicketNo:"manualTicketNo",gdsSubPnr:"gdsSubPnr",ticketDetailInfo:"ticketDetailInfo",ticketingDsrFinishYn:"ticketingDsrFinishYn"},outputs:{saveEvent:"saveEvent",deleteEvent:"deleteEvent",clickManualTicketNo:"clickManualTicketNo"},decls:140,vars:49,consts:[[3,"formGroup","connectForm","ngSubmit"],[1,"page-item-header"],[1,"title"],[1,"control"],["type","submit",1,"btn","btn-outline-dark","sm"],[1,"table","table-bordered"],["width","120px"],["width","140px"],["scope","row",1,"th-bg"],["formControlName","gdsSubPnr",3,"isInvalid"],["formControlName","etEmdOtherTypeCode","dataKey","detailCode","displayWord","detailCodeName","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","bookingTravelerCode","dataKey","bookingTravelerCode","displayWord","name","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","airlineNumberCode","apiUrl","common/airline","dataKey","airlineNumberCode","inputFieldFormat","{0} - &{1}_&{2}",3,"inputFieldValue","apiSearchTerm","inputFieldFormatKeyList","isInvalid"],[1,"form-group"],["formControlName","ticketNo",3,"isInvalid"],["type","button","class","btn btn-outline-dark sm ml5",3,"click",4,"ngIf"],["formControlName","conjunctionTypeCode","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","ticketVoidTypeCode","dataKey","detailCode","displayWord","detailCodeName","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","ticketingStatusCode","dataKey","detailCode","displayWord","detailCodeName","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","ticketingDate","placeholder","YYYY-MM-DD","inputFormat","date",3,"isInvalid"],["formControlName","departureDate","placeholder","YYYY-MM-DD","inputFormat","date",3,"isInvalid"],["formControlName","gdsAirlineCompCode","dataKey","compCode","displayKey","compName","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","billingTypeCode","dataKey","detailCode","displayWord","detailCodeName","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","fareAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","discountAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","netAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","taxAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","salesAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","airlineCommAmount","valueType","number","inputFormat","number",3,"isInvalid"],[1,"ml5","mr20"],["formControlName","airlineCommCode",3,"isInvalid"],["formControlName","airlineCommVat","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","ticketingPicUno","apiUrl","admin/common/staff","dataKey","userNo","inputFieldFormat","{0}-{1}&,{2}&,{3}",3,"inputFieldValue","apiSearchTerm","apiCondition","inputFieldFormatKeyList","isInvalid"],["formControlName","fopCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","manualRegisterYn",3,"options","isInvalid"],["formControlName","cardAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","cashAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","itineraryDetail",3,"isInvalid"],["formControlName","originTicketingDetail",3,"isInvalid"],["type","button",1,"btn","btn-outline-dark","sm","ml5",3,"click"]],template:function(e,t){1&e&&(L.Wb(0,"form",0),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(1,"div",1),L.Wb(2,"div",2),L.Pc(3,"Register for Ticket"),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"button",4),L.Pc(6,"Save"),L.Vb(),L.Vb(),L.Vb(),L.Wb(7,"div",5),L.Wb(8,"table"),L.Wb(9,"caption"),L.Pc(10," Register for Ticket "),L.Vb(),L.Wb(11,"colgroup"),L.Rb(12,"col",6),L.Rb(13,"col"),L.Rb(14,"col",7),L.Rb(15,"col"),L.Vb(),L.Wb(16,"tbody"),L.Wb(17,"tr"),L.Wb(18,"th",8),L.Pc(19,"PNR"),L.Vb(),L.Wb(20,"td"),L.Rb(21,"app-input-text",9),L.Vb(),L.Wb(22,"th",8),L.Pc(23,"ET/EMD/OTHER"),L.Vb(),L.Wb(24,"td"),L.Rb(25,"app-selectbox-detailcode",10),L.Vb(),L.Vb(),L.Wb(26,"tr"),L.Wb(27,"th",8),L.Pc(28,"Traveler"),L.Vb(),L.Wb(29,"td"),L.Rb(30,"app-selectbox-detailcode",11),L.Vb(),L.Wb(31,"th",8),L.Pc(32,"Airline"),L.Vb(),L.Wb(33,"td"),L.Rb(34,"app-auto-complete",12),L.Vb(),L.Vb(),L.Wb(35,"tr"),L.Wb(36,"th",8),L.Pc(37,"Ticket No."),L.Vb(),L.Wb(38,"td"),L.Wb(39,"div",13),L.Rb(40,"app-input-text",14),L.Nc(41,oH,2,0,"button",15),L.Vb(),L.Vb(),L.Wb(42,"th",8),L.Pc(43,"CNJ"),L.Vb(),L.Wb(44,"td"),L.Rb(45,"app-selectbox",16),L.Vb(),L.Vb(),L.Wb(46,"tr"),L.Wb(47,"th",8),L.Pc(48,"Ticket Status"),L.Vb(),L.Wb(49,"td"),L.Rb(50,"app-selectbox-detailcode",17),L.Vb(),L.Wb(51,"th",8),L.Pc(52,"Issued Status"),L.Vb(),L.Wb(53,"td"),L.Rb(54,"app-selectbox-detailcode",18),L.Vb(),L.Vb(),L.Wb(55,"tr"),L.Wb(56,"th",8),L.Pc(57,"Issued Date"),L.Vb(),L.Wb(58,"td"),L.Rb(59,"app-input-text",19),L.Vb(),L.Wb(60,"th",8),L.Pc(61,"Dep. Date"),L.Vb(),L.Wb(62,"td"),L.Rb(63,"app-input-text",20),L.Vb(),L.Vb(),L.Wb(64,"tr"),L.Wb(65,"th",8),L.Pc(66,"GDS"),L.Vb(),L.Wb(67,"td"),L.Rb(68,"app-selectbox",21),L.Vb(),L.Wb(69,"th",8),L.Pc(70,"BSP/ATR"),L.Vb(),L.Wb(71,"td"),L.Rb(72,"app-selectbox-detailcode",22),L.Vb(),L.Vb(),L.Wb(73,"tr"),L.Wb(74,"th",8),L.Pc(75,"FARE"),L.Vb(),L.Wb(76,"td"),L.Rb(77,"app-input-text",23),L.Vb(),L.Wb(78,"th",8),L.Pc(79,"DC"),L.Vb(),L.Wb(80,"td"),L.Rb(81,"app-input-text",24),L.Vb(),L.Vb(),L.Wb(82,"tr"),L.Wb(83,"th",8),L.Pc(84,"NET"),L.Vb(),L.Wb(85,"td"),L.Rb(86,"app-input-text",25),L.Vb(),L.Wb(87,"th",8),L.Pc(88,"TAX"),L.Vb(),L.Wb(89,"td"),L.Rb(90,"app-input-text",26),L.Vb(),L.Vb(),L.Wb(91,"tr"),L.Wb(92,"th",8),L.Pc(93,"Issued Amt"),L.Vb(),L.Wb(94,"td"),L.Rb(95,"app-input-text",27),L.Vb(),L.Wb(96,"th",8),L.Pc(97,"Airline Com."),L.Vb(),L.Wb(98,"td"),L.Wb(99,"div",13),L.Rb(100,"app-input-text",28),L.Wb(101,"span",29),L.Pc(102,"KRW"),L.Vb(),L.Rb(103,"app-input-text",30),L.Vb(),L.Vb(),L.Vb(),L.Wb(104,"tr"),L.Wb(105,"th",8),L.Pc(106,"Airline Com. VAT"),L.Vb(),L.Wb(107,"td"),L.Rb(108,"app-input-text",31),L.Vb(),L.Wb(109,"th",8),L.Pc(110,"Ticketing PIC"),L.Vb(),L.Wb(111,"td"),L.Rb(112,"app-auto-complete",32),L.Vb(),L.Vb(),L.Wb(113,"tr"),L.Wb(114,"th",8),L.Pc(115,"FOP"),L.Vb(),L.Wb(116,"td"),L.Rb(117,"app-selectbox",33),L.Vb(),L.Wb(118,"th",8),L.Pc(119,"Manual Register"),L.Vb(),L.Wb(120,"td"),L.Rb(121,"app-selectbox",34),L.Vb(),L.Vb(),L.Wb(122,"tr"),L.Wb(123,"th",8),L.Pc(124,"Card"),L.Vb(),L.Wb(125,"td"),L.Rb(126,"app-input-text",35),L.Vb(),L.Wb(127,"th",8),L.Pc(128,"Cash"),L.Vb(),L.Wb(129,"td"),L.Rb(130,"app-input-text",36),L.Vb(),L.Vb(),L.Wb(131,"tr"),L.Wb(132,"th",8),L.Pc(133,"Itineary"),L.Vb(),L.Wb(134,"td"),L.Rb(135,"app-input-text",37),L.Vb(),L.Wb(136,"th",8),L.Pc(137,"ORG TKT No."),L.Vb(),L.Wb(138,"td"),L.Rb(139,"app-input-text",38),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(21),L.pc("isInvalid",t.checkValid&&t.putForm.get("gdsSubPnr")&&t.putForm.get("gdsSubPnr").invalid),L.Cb(4),L.pc("options",t.etEmdOtherTypeList)("isInvalid",t.checkIsInvalid("etEmdOtherTypeCode")),L.Cb(5),L.pc("options",t.bookingTravelerList)("isInvalid",t.checkIsInvalid("bookingTravelerCode")),L.Cb(4),L.pc("inputFieldValue",t.airlineInput)("apiSearchTerm","keyword")("inputFieldFormatKeyList",L.tc(46,aH))("isInvalid",t.checkIsInvalid("airlineNumberCode")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("ticketNo")),L.Cb(1),L.pc("ngIf",!t.diableTicketNoButton),L.Cb(4),L.pc("options",t.conjTicketTypeOptions)("isInvalid",t.checkIsInvalid("conjunctionTypeCode")),L.Cb(5),L.pc("options",t.ticketVoidTypeList)("isInvalid",t.checkIsInvalid("ticketVoidTypeCode")),L.Cb(4),L.pc("options",t.ticketingStatusList)("isInvalid",t.checkIsInvalid("ticketingStatusCode")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("ticketingDate")),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("departureDate")),L.Cb(5),L.pc("options",t.gdsNdcCompList)("isInvalid",t.checkIsInvalid("gdsAirlineCompCode")),L.Cb(4),L.pc("options",t.billingTypeList)("isInvalid",t.checkIsInvalid("billingTypeCode")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("fareAmount")),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("discountAmount")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("netAmount")),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("taxAmount")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("salesAmount")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("airlineCommAmount")),L.Cb(3),L.pc("isInvalid",t.checkIsInvalid("airlineCommCode")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("airlineCommVat")),L.Cb(4),L.pc("inputFieldValue",t.ticketingPicInput)("apiSearchTerm","name")("apiCondition",L.tc(47,cH))("inputFieldFormatKeyList",L.tc(48,sH))("isInvalid",t.checkIsInvalid("ticketingPicUno")),L.Cb(5),L.pc("options",t.fopCodeList)("isInvalid",t.checkIsInvalid("fopCode")),L.Cb(4),L.pc("options",t.manualRegisterYnOptions)("isInvalid",t.checkIsInvalid("manualRegisterYn")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("cardAmount")),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("cashAmount")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("itineraryDetail")),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("originTicketingDetail")))},directives:[I.B,I.s,I.k,J.a,ee.a,I.r,I.i,Pi.a,ne.a,k.o,Se.a],encapsulation:2,changeDetection:0}),e})();const lH=function(){return{standalone:!0}},dH=function(e){return["ticketInfos",e,"airlineNumberCode"]},bH=function(){return["airlineCode","airlineNameLn","airlineNameEn"]},uH=function(){return{compCode:11e4,userTypeCode:"U01"}},pH=function(){return["userNo","name","deptName","positionName"]};function mH(e,t){if(1&e){const e=L.Xb();L.Ub(0,15),L.Wb(1,"tr"),L.Wb(2,"td",16),L.Wb(3,"app-checkbox",17),L.fc("ngModelChange",(function(t){return L.Fc(e),L.hc(2).checkedTravelers=t})),L.Vb(),L.Vb(),L.Wb(4,"td"),L.Pc(5),L.Vb(),L.Wb(6,"td"),L.Rb(7,"app-input-text",18),L.Vb(),L.Wb(8,"td"),L.Rb(9,"app-selectbox",19),L.Vb(),L.Wb(10,"td"),L.Rb(11,"app-selectbox",20),L.Vb(),L.Wb(12,"td"),L.Rb(13,"app-selectbox",21),L.Vb(),L.Wb(14,"td"),L.Rb(15,"app-input-text",22),L.Vb(),L.Wb(16,"td"),L.Rb(17,"app-input-text",23),L.Vb(),L.Wb(18,"td"),L.Rb(19,"app-input-text",24),L.Vb(),L.Wb(20,"td"),L.Wb(21,"div",25),L.Rb(22,"app-input-text",26),L.Wb(23,"span",27),L.Pc(24,"\uc6d0"),L.Vb(),L.Rb(25,"app-input-text",28),L.Vb(),L.Vb(),L.Wb(26,"td"),L.Rb(27,"app-input-text",29),L.Vb(),L.Wb(28,"td"),L.Rb(29,"app-selectbox",30),L.Vb(),L.Vb(),L.Wb(30,"tr"),L.Wb(31,"td"),L.Rb(32,"app-selectbox",31),L.Vb(),L.Wb(33,"td"),L.Rb(34,"app-input-text",32),L.Vb(),L.Wb(35,"td"),L.Rb(36,"app-auto-complete",33),L.Vb(),L.Wb(37,"td"),L.Rb(38,"app-input-text",34),L.Vb(),L.Wb(39,"td"),L.Rb(40,"app-selectbox",35),L.Vb(),L.Wb(41,"td"),L.Rb(42,"app-input-text",36),L.Vb(),L.Wb(43,"td"),L.Rb(44,"app-input-text",37),L.Vb(),L.Wb(45,"td"),L.Rb(46,"app-input-text",38),L.Vb(),L.Wb(47,"td"),L.Wb(48,"app-auto-complete",39),L.fc("onSelect",(function(n){L.Fc(e);const i=t.$implicit;return L.hc(2).selectTicketingPic(n,i.get("bookingTravelerCode").value)})),L.Vb(),L.Vb(),L.Wb(49,"td"),L.Rb(50,"app-input-text",40),L.Vb(),L.Wb(51,"td"),L.Rb(52,"app-selectbox",41),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,n=t.index,i=L.hc(2);L.pc("formGroupName",n),L.Cb(3),L.pc("value",e.get("bookingTravelerCode").value)("ngModel",i.checkedTravelers)("ngModelOptions",L.tc(41,lH)),L.Cb(2),L.Rc(" ",e.get("nameEn").value," "),L.Cb(2),L.pc("isInvalid",i.checkIsInvalid("ticketNo",e)),L.Cb(2),L.pc("options",i.ticketVoidTypeList)("isInvalid",i.checkIsInvalid("ticketVoidTypeCode",e)),L.Cb(2),L.pc("options",i.conjTicketTypeOptions)("isInvalid",i.checkIsInvalid("conjunctionTypeCode",e)),L.Cb(2),L.pc("options",i.billingTypeList)("isInvalid",i.checkIsInvalid("billingTypeCode",e)),L.Cb(2),L.pc("isInvalid",i.checkIsInvalid("fareAmount",e)),L.Cb(2),L.pc("isInvalid",i.checkIsInvalid("netAmount",e)),L.Cb(2),L.pc("isInvalid",i.checkIsInvalid("salesAmount",e)),L.Cb(3),L.pc("isInvalid",i.checkIsInvalid("airlineCommAmount",e)),L.Cb(3),L.pc("isInvalid",i.checkIsInvalid("airlineCommCode",e)),L.Cb(2),L.pc("isInvalid",i.checkIsInvalid("cardAmount",e)),L.Cb(2),L.pc("options",i.fopCodeList)("isInvalid",i.checkIsInvalid("fopCode",e)),L.Cb(3),L.pc("options",i.etEmdOtherTypeList)("isInvalid",i.checkIsInvalid("etEmdOtherTypeCode",e)),L.Cb(2),L.pc("isInvalid",i.checkIsInvalid("ticketingDate",e)),L.Cb(2),L.pc("inputFieldValue",i.getAutoCompleteInputValue(L.uc(42,dH,n)))("apiSearchTerm","keyword")("inputFieldFormatKeyList",L.tc(44,bH))("isInvalid",i.checkIsInvalid("airlineNumberCode",e)),L.Cb(2),L.pc("isInvalid",i.checkIsInvalid("departureDate",e)),L.Cb(2),L.pc("options",i.gdsNdcCompList)("isInvalid",i.checkIsInvalid("gdsAirlineCompCode",e)),L.Cb(2),L.pc("isInvalid",i.checkIsInvalid("discountAmount",e)),L.Cb(2),L.pc("isInvalid",i.checkIsInvalid("taxAmount",e)),L.Cb(2),L.pc("isInvalid",i.checkIsInvalid("airlineCommVat",e)),L.Cb(2),L.pc("inputFieldValue",e.get("ticketingPicName").value)("apiSearchTerm","name")("apiCondition",L.tc(45,uH))("inputFieldFormatKeyList",L.tc(46,pH))("isInvalid",i.checkIsInvalid("ticketingPicUno",e)),L.Cb(2),L.pc("isInvalid",i.checkIsInvalid("cashAmount",e)),L.Cb(2),L.pc("options",i.ticketingStatusList)("isInvalid",i.checkIsInvalid("ticketingStatusCode",e))}}function hH(e,t){if(1&e&&(L.Ub(0),L.Nc(1,mH,53,47,"ng-container",14),L.Tb()),2&e){const e=L.hc();L.Cb(1),L.pc("ngForOf",e.ticketInfoFormArray.controls)}}function gH(e,t){1&e&&(L.Wb(0,"tr"),L.Wb(1,"td",42),L.Pc(2,"\ud45c\uae30\ud560 \ud0d1\uc2b9\uac1d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."),L.Vb(),L.Vb())}let fH=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.saveEvent=new L.n,this.deleteEvent=new L.n,this.clickManualTicketNo=new L.n,this.checkedTravelers=[],this.manualRegisterYnOptions=[{label:"Y",value:!0},{label:"N",value:!1}],this.conjTicketTypeOptions=[{label:"Y",value:"C"},{label:"N",value:"N"}],this.putForm=e.generateTicketManualManyTicketInfosInitPutForm()}get travelers(){return this._travelers}set travelers(e){this._travelers=e,this.putForm=this._dataService.generateTicketManualManyTicketInfosPutForm(e),this.putFormData=this._convertItemToForm(e),this.checkedTravelers=[]}get manualTicketNoList(){return this._manualTicketNoList}set manualTicketNoList(e){if(this._manualTicketNoList=e,e)for(let t=0;t<e.length;t++)this.ticketInfoFormArray.controls[t].get("ticketNo").setValue(e[t])}get isAllChecked(){var e,t;return(null===(e=this.checkedTravelers)||void 0===e?void 0:e.length)===(null===(t=this.travelers)||void 0===t?void 0:t.length)}get hasTravelers(){var e;return(null===(e=this.travelers)||void 0===e?void 0:e.length)>0}get ticketInfoFormArray(){var e;return null===(e=this.putForm)||void 0===e?void 0:e.get("ticketInfos")}ngOnInit(){}checkIsInvalid(e,t){return this.checkValid&&t.get(e)&&t.get(e).invalid&&this.checkedTravelers.indexOf(t.get("bookingTravelerCode").value)>-1}onCheckAll(e){this.checkedTravelers=e?this.travelers.map(e=>e.bookingTravelerCode):[]}onSubmit(){if(0===this.checkedTravelers.length)return void this.alertService.alert("Please select one or more ticket information to save.");if(!this._isValidForm())return void(this.checkValid=!0);const e=this.ticketInfoFormArray.controls.filter(e=>this.checkedTravelers.indexOf(e.get("bookingTravelerCode").value)>-1).map(e=>e.value),t={ticketInfos:this._convertFormToItem(e)};this.saveEvent.emit(t)}selectTicketingPic(e,t){this.ticketInfoFormArray.controls.find(e=>e.get("bookingTravelerCode").value===t).get("ticketingPicName").setValue(e.name)}onClickManualTicketNo(){this.clickManualTicketNo.emit({ticketNoCount:this.ticketInfoFormArray.controls.length})}onClickSetSameTicketInfo(){if(1!==this.checkedTravelers.length)return void this.alertService.alert("Please select 1 ticket information.");const[e]=this.checkedTravelers,t=this.ticketInfoFormArray.controls.find(t=>t.get("bookingTravelerCode").value===e),{etEmdOtherTypeCode:n,ticketVoidTypeCode:i,ticketingStatusCode:o,conjunctionTypeCode:a,billingTypeCode:c,fareAmount:s,netAmount:r,taxAmount:l,salesAmount:d,airlineCommAmount:b,airlineCommCode:u,cardAmount:p,ticketingDate:m,airlineNumberCode:h,departureDate:g,gdsAirlineCompCode:f,discountAmount:v,airlineCommVat:C,ticketingPicUno:y,ticketingPicName:k,cashAmount:I,fopCode:O}=t.value;for(let P of this.ticketInfoFormArray.controls)P.patchValue({etEmdOtherTypeCode:n,ticketVoidTypeCode:i,ticketingStatusCode:o,conjunctionTypeCode:a,billingTypeCode:c,fareAmount:s,netAmount:r,taxAmount:l,salesAmount:d,airlineCommAmount:b,airlineCommCode:u,cardAmount:p,ticketingDate:m,airlineNumberCode:h,departureDate:g,gdsAirlineCompCode:f,discountAmount:v,airlineCommVat:C,ticketingPicUno:y,ticketingPicName:k,cashAmount:I,fopCode:O})}getAutoCompleteInputValue(e){return this.putForm.get(e).value}_isValidForm(){return this.ticketInfoFormArray.controls.filter(e=>this.checkedTravelers.indexOf(e.value.bookingTravelerCode)>-1).every(e=>e.valid)}_convertItemToForm(e){return e?e.map(e=>({gdsSubPnr:this.gdsSubPnr,bookingItemCode:this.bookingItemCode,bookingTravelerCode:e.bookingTravelerCode,etEmdOtherTypeCode:null,ticketNo:null,ticketVoidTypeCode:null,ticketingStatusCode:"TST03",conjunctionTypeCode:null,billingTypeCode:null,fareAmount:null,netAmount:null,taxAmount:null,salesAmount:null,airlineCommAmount:null,cardAmount:null,ticketingDate:null,airlineNumberCode:null,departureDate:null,gdsAirlineCompCode:null,discountAmount:null,airlineCommVat:null,ticketingPicUno:null,ticketingPicName:null,cashAmount:null,currencyCode:"KRW"})):this._dataService.initTicketManualManyTicketInfosPutForm()}_convertFormToItem(e){return e.map(e=>({bookingItemCode:this.bookingItemCode,gdsSubPnr:this.gdsSubPnr,etEmdOtherTypeCode:e.etEmdOtherTypeCode,bookingTravelerCode:e.bookingTravelerCode,ticketNo:e.ticketNo,ticketVoidTypeCode:e.ticketVoidTypeCode,ticketingStatusCode:e.ticketingStatusCode,conjunctionTypeCode:e.conjunctionTypeCode,billingTypeCode:e.billingTypeCode,fareAmount:e.fareAmount,netAmount:e.netAmount,taxAmount:e.taxAmount,salesAmount:e.salesAmount,airlineCommAmount:e.airlineCommAmount,cardAmount:e.cardAmount,ticketingDate:e.ticketingDate,airlineNumberCode:e.airlineNumberCode,departureDate:e.departureDate,gdsAirlineCompCode:e.gdsAirlineCompCode,discountAmount:e.discountAmount,airlineCommVat:e.airlineCommVat,ticketingPicUno:e.ticketingPicUno,cashAmount:e.cashAmount,currencyCode:e.currencyCode,fopCode:e.fopCode}))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-ticket-manual-many-form"]],inputs:{bookingItemCode:"bookingItemCode",ticketVoidTypeList:"ticketVoidTypeList",ticketingStatusList:"ticketingStatusList",fopCodeList:"fopCodeList",billingTypeList:"billingTypeList",gdsNdcCompList:"gdsNdcCompList",etEmdOtherTypeList:"etEmdOtherTypeList",bookingTravelerList:"bookingTravelerList",gdsSubPnr:"gdsSubPnr",travelers:"travelers",manualTicketNoList:"manualTicketNoList"},outputs:{saveEvent:"saveEvent",deleteEvent:"deleteEvent",clickManualTicketNo:"clickManualTicketNo"},decls:79,vars:8,consts:[[3,"formGroup","connectForm","ngSubmit"],[1,"page-item-header"],[1,"title"],[1,"control"],["type","button",1,"btn","btn-outline-dark","sm",3,"click"],["type","submit",1,"btn","btn-outline-dark","sm"],[1,"table","table-bordered","table-responsive",2,"overflow","auto"],["width","42px"],["scope","col","rowspan","2",1,"align-c"],[3,"binary","ngModel","ngModelOptions","onChange"],["scope","col",1,"align-c"],["formArrayName","ticketInfos"],[4,"ngIf","ngIfElse"],["emptyTravelers",""],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],["rowspan","2"],[3,"value","ngModel","ngModelOptions","ngModelChange"],["formControlName","ticketNo",2,"min-width","130px",3,"isInvalid"],["formControlName","ticketVoidTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn",2,"min-width","130px",3,"options","isInvalid"],["formControlName","conjunctionTypeCode",2,"min-width","130px",3,"options","isInvalid"],["formControlName","billingTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn",2,"min-width","130px",3,"options","isInvalid"],["formControlName","fareAmount","valueType","number","inputFormat","number",2,"min-width","130px",3,"isInvalid"],["formControlName","netAmount","valueType","number","inputFormat","number",2,"min-width","130px",3,"isInvalid"],["formControlName","salesAmount","valueType","number","inputFormat","number",2,"min-width","130px",3,"isInvalid"],[1,"form-group"],["formControlName","airlineCommAmount","valueType","number","inputFormat","number",2,"min-width","130px",3,"isInvalid"],[1,"ml5","mr20"],["formControlName","airlineCommCode","inputFormat","uppserCaseEnOnly",2,"min-width","50px",3,"isInvalid"],["formControlName","cardAmount","valueType","number","inputFormat","number",2,"min-width","130px",3,"isInvalid"],["formControlName","fopCode","dataKey","detailCode","displayKey","detailCodeNameEn",2,"min-width","130px",3,"options","isInvalid"],["formControlName","etEmdOtherTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn",3,"options","isInvalid"],["formControlName","ticketingDate","placeholder","YYYY-MM-DD","inputFormat","date",3,"isInvalid"],["formControlName","airlineNumberCode","apiUrl","common/airline","dataKey","airlineNumberCode","inputFieldFormat","{0} - &{1}_&{2}",3,"inputFieldValue","apiSearchTerm","inputFieldFormatKeyList","isInvalid"],["formControlName","departureDate","placeholder","YYYY-MM-DD","inputFormat","date",3,"isInvalid"],["formControlName","gdsAirlineCompCode","dataKey","compCode","displayKey","compName",3,"options","isInvalid"],["formControlName","discountAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","taxAmount","valueType","number","inputFormat","number",2,"min-width","130px",3,"isInvalid"],["formControlName","airlineCommVat","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","ticketingPicUno","apiUrl","admin/common/staff","dataKey","userNo","inputFieldFormat","{0}-{1}&,{2}&,{3}",3,"inputFieldValue","apiSearchTerm","apiCondition","inputFieldFormatKeyList","isInvalid","onSelect"],["formControlName","cashAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","ticketingStatusCode","dataKey","detailCode","displayKey","detailCodeNameEn",2,"min-width","130px",3,"options","isInvalid"],["colspan","11"]],template:function(e,t){if(1&e&&(L.Wb(0,"form",0),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(1,"div",1),L.Rb(2,"div",2),L.Wb(3,"div",3),L.Wb(4,"button",4),L.fc("click",(function(){return t.onClickManualTicketNo()})),L.Pc(5,"\uc218\ub3d9\ucc44\ubc88"),L.Vb(),L.Wb(6,"button",4),L.fc("click",(function(){return t.onClickSetSameTicketInfo()})),L.Pc(7,"\uc120\ud0dd\ud56d\ubaa9\uc73c\ub85c \ub3d9\uc77c\uc801\uc6a9"),L.Vb(),L.Wb(8,"button",5),L.Pc(9,"\uc800\uc7a5"),L.Vb(),L.Vb(),L.Vb(),L.Wb(10,"div",6),L.Wb(11,"table"),L.Wb(12,"caption"),L.Pc(13," \ud2f0\ucf13 \uc218\ub3d9\ub4f1\ub85d - \ud2f0\ucf13\uc815\ubcf4 "),L.Vb(),L.Wb(14,"colgroup"),L.Rb(15,"col",7),L.Rb(16,"col"),L.Rb(17,"col"),L.Rb(18,"col"),L.Rb(19,"col"),L.Rb(20,"col"),L.Rb(21,"col"),L.Rb(22,"col"),L.Rb(23,"col"),L.Rb(24,"col"),L.Rb(25,"col"),L.Vb(),L.Wb(26,"thead"),L.Wb(27,"tr"),L.Wb(28,"th",8),L.Wb(29,"app-checkbox",9),L.fc("onChange",(function(e){return t.onCheckAll(e)})),L.Vb(),L.Vb(),L.Wb(30,"th",10),L.Pc(31,"\ud0d1\uc2b9\uac1d"),L.Vb(),L.Wb(32,"th",10),L.Pc(33,"\ud2f0\ucf13\ubc88\ud638"),L.Vb(),L.Wb(34,"th",10),L.Pc(35,"\ud2f0\ucf13\uc0c1\ud0dc"),L.Vb(),L.Wb(36,"th",10),L.Pc(37,"CONJ"),L.Vb(),L.Wb(38,"th",10),L.Pc(39,"\ubc1c\uad8c\ucc98"),L.Vb(),L.Wb(40,"th",10),L.Pc(41,"FARE"),L.Vb(),L.Wb(42,"th",10),L.Pc(43,"NET"),L.Vb(),L.Wb(44,"th",10),L.Pc(45,"\ubc1c\uad8c\uae08\uc561"),L.Vb(),L.Wb(46,"th",10),L.Pc(47,"\ubc1c\uad8c\ucef4\uae08\uc561 /\ucef4 \ucf54\ub4dc"),L.Vb(),L.Wb(48,"th",10),L.Pc(49,"\uce74\ub4dc"),L.Vb(),L.Wb(50,"th",10),L.Pc(51,"FOP"),L.Vb(),L.Vb(),L.Wb(52,"tr"),L.Wb(53,"th",10),L.Pc(54,"ET/EMD/OTHER"),L.Vb(),L.Wb(55,"th",10),L.Pc(56,"\ubc1c\uad8c\uc77c"),L.Vb(),L.Wb(57,"th",10),L.Pc(58,"\ud56d\uacf5\uc0ac"),L.Vb(),L.Wb(59,"th",10),L.Pc(60,"\ucd9c\ubc1c\uc77c"),L.Vb(),L.Wb(61,"th",10),L.Pc(62,"GDS/NDC"),L.Vb(),L.Wb(63,"th",10),L.Pc(64,"DC"),L.Vb(),L.Wb(65,"th",10),L.Pc(66,"TAX"),L.Vb(),L.Wb(67,"th",10),L.Pc(68,"\ubc1c\uad8cVAT"),L.Vb(),L.Wb(69,"th",10),L.Pc(70,"\ubc1c\uad8c\uc790"),L.Vb(),L.Wb(71,"th",10),L.Pc(72,"\ud604\uae08"),L.Vb(),L.Wb(73,"th",10),L.Pc(74,"\ubc1c\uad8c\uc0c1\ud0dc"),L.Vb(),L.Vb(),L.Vb(),L.Wb(75,"tbody",11),L.Nc(76,hH,2,1,"ng-container",12),L.Nc(77,gH,3,0,"ng-template",null,13,L.Oc),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.Ec(78);L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(29),L.pc("binary",!0)("ngModel",t.isAllChecked)("ngModelOptions",L.tc(7,lH)),L.Cb(47),L.pc("ngIf",t.hasTravelers)("ngIfElse",e)}},directives:[I.B,I.s,I.k,J.a,Kt.a,I.r,I.u,I.e,k.o,k.n,I.l,ee.a,I.i,Se.a,ne.a],encapsulation:2,changeDetection:0}),e})(),vH=(()=>{class e{constructor(){}get isB2b(){return"STN04"===this.stationTypeCode}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-ticket-refund-register-info"]],inputs:{stationTypeCode:"stationTypeCode",basicInfo:"basicInfo"},decls:39,vars:5,consts:[[1,"page-item-header"],[1,"title"],[1,"control"],[1,"table","table-bordered","table-responsive"],["scope","col",1,"align-c"],[1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Ticket Detail"),L.Vb(),L.Rb(3,"div",2),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," Ticket Detail "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Rb(13,"col"),L.Rb(14,"col"),L.Vb(),L.Wb(15,"thead"),L.Wb(16,"tr"),L.Wb(17,"th",4),L.Pc(18,"Station"),L.Vb(),L.Wb(19,"th",4),L.Pc(20,"Booking Item Code"),L.Vb(),L.Wb(21,"th",4),L.Pc(22,"PNR"),L.Vb(),L.Wb(23,"th",4),L.Pc(24,"Ticket No."),L.Vb(),L.Wb(25,"th",4),L.Pc(26,"Traveler"),L.Vb(),L.Vb(),L.Vb(),L.Wb(27,"tbody"),L.Wb(28,"tr"),L.Wb(29,"td",5),L.Pc(30),L.Vb(),L.Wb(31,"td",5),L.Pc(32),L.Vb(),L.Wb(33,"td",5),L.Pc(34),L.Vb(),L.Wb(35,"td",5),L.Pc(36),L.Vb(),L.Wb(37,"td",5),L.Pc(38),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(30),L.Qc(null==t.basicInfo?null:t.basicInfo.stationTypeName),L.Cb(2),L.Qc(null==t.basicInfo?null:t.basicInfo.bookingItemCode),L.Cb(2),L.Qc(null==t.basicInfo?null:t.basicInfo.gdsSubPnr),L.Cb(2),L.Qc(null==t.basicInfo?null:t.basicInfo.ticketNo),L.Cb(2),L.Qc(null==t.basicInfo?null:t.basicInfo.nameEn))},encapsulation:2,changeDetection:0}),e})();function CH(e,t){1&e&&(L.Ub(0),L.Wb(1,"th",4),L.Pc(2,"UP\uac70\ub798\ucc98\uc9c0\uae09"),L.Vb(),L.Wb(3,"th",4),L.Pc(4,"UP \uc2e4\uc9c0\uae09\uc561"),L.Vb(),L.Wb(5,"th",4),L.Pc(6,"UP \uc815\uc0b0\uc77c"),L.Vb(),L.Tb())}function yH(e,t){1&e&&(L.Ub(0),L.Wb(1,"th",4),L.Pc(2,"TAX\uc870\uc815\uae08\uc561"),L.Vb(),L.Wb(3,"th",4),L.Pc(4,"\ucfe0\ud3f0(\ub178)"),L.Vb(),L.Wb(5,"th",4),L.Pc(6,"\uc81c\ud734\uc0ac\ucfe0\ud3f0"),L.Vb(),L.Tb())}function kH(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"td",8),L.Pc(2),L.ic(3,"number"),L.Vb(),L.Wb(4,"td",8),L.Pc(5),L.ic(6,"number"),L.Vb(),L.Wb(7,"td",8),L.Pc(8),L.ic(9,"number"),L.Vb(),L.Tb()),2&e){const e=L.hc().$implicit;L.Cb(2),L.Qc(L.jc(3,3,null==e||null==e.sales?null:e.sales.agencyUpAmount)),L.Cb(3),L.Qc(L.jc(6,5,null==e||null==e.sales?null:e.sales.agencyUpPayOutAmount)),L.Cb(3),L.Qc(L.jc(9,7,null==e||null==e.sales?null:e.sales.agencyUpPlDate))}}function IH(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"td",8),L.Pc(2),L.ic(3,"number"),L.Vb(),L.Wb(4,"td",8),L.Pc(5),L.ic(6,"number"),L.Vb(),L.Wb(7,"td",8),L.Pc(8),L.ic(9,"number"),L.Vb(),L.Tb()),2&e){const e=L.hc().$implicit;L.Cb(2),L.Qc(L.jc(3,3,null==e||null==e.sales?null:e.sales.salesOthersAmount)),L.Cb(3),L.Qc(L.jc(6,5,null==e||null==e.sales?null:e.sales.couponAmount)),L.Cb(3),L.Qc(L.jc(9,7,null==e||null==e.sales?null:e.sales.affiliateCouponAmount))}}function OH(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",7),L.Pc(3),L.Vb(),L.Wb(4,"td",7),L.Pc(5,"\ud310\ub9e4"),L.Vb(),L.Wb(6,"td",8),L.Pc(7),L.ic(8,"number"),L.Vb(),L.Wb(9,"td",8),L.Pc(10),L.ic(11,"number"),L.Vb(),L.Wb(12,"td",8),L.Pc(13),L.ic(14,"number"),L.Vb(),L.Wb(15,"td",8),L.Pc(16),L.ic(17,"number"),L.Vb(),L.Wb(18,"td",8),L.Pc(19),L.ic(20,"number"),L.Vb(),L.Wb(21,"td",8),L.Pc(22),L.ic(23,"number"),L.Vb(),L.Wb(24,"td",8),L.Pc(25),L.ic(26,"number"),L.Vb(),L.Nc(27,kH,10,9,"ng-container",5),L.Nc(28,IH,10,9,"ng-container",5),L.Vb(),L.Wb(29,"tr",9),L.Wb(30,"td",7),L.Pc(31),L.Vb(),L.Wb(32,"td",7),L.Pc(33,"\ubc1c\uad8c"),L.Vb(),L.Wb(34,"td",8),L.Pc(35),L.ic(36,"number"),L.Vb(),L.Wb(37,"td",8),L.Pc(38),L.ic(39,"number"),L.Vb(),L.Wb(40,"td",8),L.Pc(41,"0"),L.Vb(),L.Wb(42,"td",8),L.Pc(43),L.ic(44,"number"),L.Vb(),L.Wb(45,"td",8),L.Pc(46),L.ic(47,"number"),L.Vb(),L.Wb(48,"td",8),L.Pc(49),L.ic(50,"number"),L.Vb(),L.Wb(51,"td",8),L.Pc(52),L.ic(53,"number"),L.Vb(),L.Wb(54,"td",8),L.Pc(55,"0"),L.Vb(),L.Wb(56,"td",8),L.Pc(57,"0"),L.Vb(),L.Wb(58,"td",8),L.Pc(59,"0"),L.Vb(),L.Vb(),L.Tb()),2&e){const e=t.$implicit,n=L.hc();L.Cb(3),L.Qc(null==e?null:e.ticketingDate),L.Cb(4),L.Qc(L.jc(8,17,null==e||null==e.sales?null:e.sales.salesNetAmount)),L.Cb(3),L.Qc(L.jc(11,19,null==e||null==e.sales?null:e.sales.salesTaxAmount)),L.Cb(3),L.Qc(L.jc(14,21,null==e||null==e.sales?null:e.sales.salesAppliedValue)),L.Cb(3),L.Qc(L.jc(17,23,null==e||null==e.sales?null:e.sales.salesSumAmount)),L.Cb(3),L.Qc(L.jc(20,25,null==e||null==e.sales?null:e.sales.salesCardAmount)),L.Cb(3),L.Qc(L.jc(23,27,null==e||null==e.sales?null:e.sales.salesCashAmount)),L.Cb(3),L.Qc(L.jc(26,29,null==e||null==e.sales?null:e.sales.salesCommAmount)),L.Cb(2),L.pc("ngIf",n.isB2b),L.Cb(1),L.pc("ngIf",!n.isB2b),L.Cb(3),L.Qc(e.ticketNo),L.Cb(4),L.Qc(L.jc(36,31,null==e||null==e.dsr?null:e.dsr.netAmount)),L.Cb(3),L.Qc(L.jc(39,33,null==e||null==e.dsr?null:e.dsr.taxAmount)),L.Cb(5),L.Qc(L.jc(44,35,null==e||null==e.dsr?null:e.dsr.ticketingAmount)),L.Cb(3),L.Qc(L.jc(47,37,null==e||null==e.dsr?null:e.dsr.cardAmount)),L.Cb(3),L.Qc(L.jc(50,39,null==e||null==e.dsr?null:e.dsr.cashAmount)),L.Cb(3),L.Qc(L.jc(53,41,null==e||null==e.dsr?null:e.dsr.commAmount))}}function PH(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",10),L.Pc(3,"\ud2f0\ucf13 \ubc1c\uad8c \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."),L.Vb(),L.Vb(),L.Tb())}let jH=(()=>{class e{constructor(){}get isB2b(){return"STN04"===this.stationTypeCode}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-ticket-refund-register-ticket"]],inputs:{stationTypeCode:"stationTypeCode",tickets:"tickets"},decls:60,vars:4,consts:[[1,"page-item-header"],[1,"title"],[1,"control"],[1,"table","table-bordered","table-responsive",2,"max-height","300px","overflow","auto"],["scope","col",1,"align-c"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"align-c"],[1,"align-r"],[2,"border-bottom","2px solid #888888bd"],["colspan","12",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"\ud2f0\ucf13 \ubc1c\uad8c \ub0b4\uc5ed"),L.Vb(),L.Rb(3,"div",2),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," \ud658\ubd88\ub4f1\ub85d - \ud2f0\ucf13 \ubc1c\uad8c \ub0b4\uc5ed "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Rb(13,"col"),L.Rb(14,"col"),L.Vb(),L.Wb(15,"thead"),L.Wb(16,"tr"),L.Wb(17,"th",4),L.Pc(18,"\ubc1c\uad8c\uc77c"),L.Vb(),L.Wb(19,"th",4),L.Pc(20,"\uad6c\ubd84"),L.Vb(),L.Wb(21,"th",4),L.Pc(22,"NET(\ud310)"),L.Vb(),L.Wb(23,"th",4),L.Pc(24,"TAX(\ud310)"),L.Vb(),L.Wb(25,"th",4),L.Pc(26,"\ud560\uc99d/\ud560\uc778"),L.Vb(),L.Wb(27,"th",4),L.Pc(28,"\ud310\ub9e4\uae08\uc561"),L.Vb(),L.Wb(29,"th",4),L.Pc(30,"\uce74\ub4dc(\ud310)"),L.Vb(),L.Wb(31,"th",4),L.Pc(32,"\ud604\uae08(\ud310)"),L.Vb(),L.Wb(33,"th",4),L.Pc(34,"\ucee4\ubbf8\uc158(\ud310)"),L.Vb(),L.Nc(35,CH,7,0,"ng-container",5),L.Nc(36,yH,7,0,"ng-container",5),L.Vb(),L.Wb(37,"tr"),L.Wb(38,"th",4),L.Pc(39,"\ud2f0\ucf13\ubc88\ud638"),L.Vb(),L.Rb(40,"th",4),L.Wb(41,"th",4),L.Pc(42,"NET(\uacf5)"),L.Vb(),L.Wb(43,"th",4),L.Pc(44,"TAX(\uacf5)"),L.Vb(),L.Rb(45,"th",4),L.Wb(46,"th",4),L.Pc(47,"\ubc1c\uad8c\uae08\uc561"),L.Vb(),L.Wb(48,"th",4),L.Pc(49,"\uce74\ub4dc(\uacf5)"),L.Vb(),L.Wb(50,"th",4),L.Pc(51,"\ud604\uae08(\uacf5)"),L.Vb(),L.Wb(52,"th",4),L.Pc(53,"\ucee4\ubbf8\uc158(\uacf5)"),L.Vb(),L.Rb(54,"th",4),L.Rb(55,"th",4),L.Rb(56,"th",4),L.Vb(),L.Vb(),L.Wb(57,"tbody"),L.Nc(58,OH,60,43,"ng-container",6),L.Nc(59,PH,4,0,"ng-container",5),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(35),L.pc("ngIf",t.isB2b),L.Cb(1),L.pc("ngIf",!t.isB2b),L.Cb(22),L.pc("ngForOf",t.tickets),L.Cb(1),L.pc("ngIf",(null==t.tickets?null:t.tickets.length)<1))},directives:[k.o,k.n],pipes:[k.f],encapsulation:2,changeDetection:0}),e})();const VH=function(){return["refundFareAmount"]},AH=function(){return["airlinePenaltyAmount"]},WH=function(){return["refundTaxAmount"]},RH=function(){return["refundCashAmount"]},FH=function(){return["refundCardAmount"]},SH=function(){return["refundSumAmount"]},TH=function(){return["airlineRecallCommAmount"]},NH=function(){return["airlineRecallCommVat"]};let EH=(()=>{class e{constructor(e){this._dataService=e,this.submitEvent=new L.n,this.putForm=e.generateRefundRegisterBillingInitPutForm()}get refundDsrFinishYn(){return this._refundDsrFinishYn}set refundDsrFinishYn(e){this._refundDsrFinishYn=e,this._formDisable(e)}get billingInfo(){return this._billingInfo}set billingInfo(e){this._billingInfo=e,this._setFormData(e)}get ticketInfo(){return this._ticketInfo}set ticketInfo(e){this._ticketInfo=e,this._setFormKeyData(e)}ngOnInit(){this._initState()}checkIsInvalid(e){return this._checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}onSubmit(){if(this.putForm.invalid)return void(this._checkValid=!0);const e=this._setPutCondition();this.submitEvent.emit(e)}_initState(){const e=(new Date).getFullYear()-5;this.yearOptions=[];for(let t=0;t<20;t++)this.yearOptions.push({value:e+t,label:`${e+t}\ub144`});this.monthOptions=Q.range(1,13).map(e=>({value:e,label:`${e}\uc6d4`}))}_formDisable(e){e?(this.putForm.get("ticketingDate").disable(),this.putForm.get("refundAppliedDate").disable(),this.putForm.get("billingYear").disable(),this.putForm.get("billingMonth").disable(),this.putForm.get("billingPeriodCode").disable()):(this.putForm.get("ticketingDate").enable(),this.putForm.get("refundAppliedDate").enable(),this.putForm.get("billingYear").enable(),this.putForm.get("billingMonth").enable(),this.putForm.get("billingPeriodCode").enable())}_setFormData(e){if(Q.isNil(e))return;const t=this._dataService.initRefundRegisterBillingPutForm(),n=Object.assign({},Q.pick(e,Object.keys(t)));this.putFormData=Object.assign(Object.assign({},this.putFormData),n)}_setFormKeyData(e){if(Q.isNil(e))return;const{ticketingDate:t,ticketNo:n}=e;this.putFormData=Object.assign(Object.assign({},this.putFormData),{ticketingDate:t,ticketNo:n})}_setPutCondition(){const e=this._dataService.initRefundRegisterBillingPutCondition(),t=this.putForm.getRawValue(),{billingYear:n,billingMonth:i}=t;return Object.assign({},Q.pick(t,Object.keys(e)),{billingYearMonth:`${n}${Q.padStart(String(i),2,"0")}`})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-ticket-refund-register-billing"]],inputs:{refundDsrFinishYn:"refundDsrFinishYn",bspBillingPeriodList:"bspBillingPeriodList",billingInfo:"billingInfo",ticketInfo:"ticketInfo"},outputs:{submitEvent:"submitEvent"},decls:70,vars:28,consts:[[3,"formGroup","connectForm","ngSubmit"],[1,"page-item-header"],[1,"title"],[1,"control"],["type","submit",1,"btn","btn-outline-dark","sm"],[1,"table","table-bordered","table-responsive"],["width","16%"],["scope","row",1,"th-bg"],["colspan","3"],[1,"input","calendar","d-inline-flex"],[3,"for"],["type","text","formControlName","refundAppliedDate",3,"matDatepicker"],["refundAppliedDate",""],[1,"form-group"],["formControlName","billingYear","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","billingMonth","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","billingPeriodCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","Select",3,"options","isInvalid"],[1,"align-r"],["formControlName","refundFareAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","airlinePenaltyAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","refundTaxAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","refundCashAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","refundCardAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","refundSumAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","airlineRecallCommAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","airlineRecallCommVat","valueType","number","inputFormat","number",3,"isInvalid"]],template:function(e,t){if(1&e&&(L.Wb(0,"form",0),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(1,"div",1),L.Wb(2,"p",2),L.Pc(3,"BSP RFND Detail"),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"button",4),L.Pc(6,"Save"),L.Vb(),L.Vb(),L.Vb(),L.Wb(7,"div",5),L.Wb(8,"table"),L.Wb(9,"caption"),L.Pc(10," BSP RFND Detail "),L.Vb(),L.Wb(11,"colgroup"),L.Rb(12,"col",6),L.Rb(13,"col"),L.Rb(14,"col",6),L.Rb(15,"col"),L.Vb(),L.Wb(16,"tbody"),L.Wb(17,"tr"),L.Wb(18,"th",7),L.Pc(19,"RFND Applied Date"),L.Vb(),L.Wb(20,"td",8),L.Wb(21,"div",9),L.Rb(22,"mat-datepicker-toggle",10),L.Rb(23,"input",11),L.Rb(24,"mat-datepicker",null,12),L.Vb(),L.Vb(),L.Vb(),L.Wb(26,"tr"),L.Wb(27,"th",7),L.Pc(28,"Billing Period"),L.Vb(),L.Wb(29,"td",8),L.Wb(30,"div",13),L.Rb(31,"app-selectbox",14),L.Rb(32,"app-selectbox",15),L.Rb(33,"app-selectbox",16),L.Vb(),L.Vb(),L.Vb(),L.Wb(34,"tr"),L.Wb(35,"th",7),L.Pc(36,"Fare RFND"),L.Vb(),L.Wb(37,"td",17),L.Rb(38,"app-input-text",18),L.Vb(),L.Wb(39,"th",7),L.Pc(40,"Penalty"),L.Vb(),L.Wb(41,"td",17),L.Rb(42,"app-input-text",19),L.Vb(),L.Vb(),L.Wb(43,"tr"),L.Wb(44,"th",7),L.Pc(45,"Tax RFND"),L.Vb(),L.Wb(46,"td",17),L.Rb(47,"app-input-text",20),L.Vb(),L.Wb(48,"th",7),L.Pc(49,"Cash RFND"),L.Vb(),L.Wb(50,"td",17),L.Rb(51,"app-input-text",21),L.Vb(),L.Vb(),L.Wb(52,"tr"),L.Wb(53,"th",7),L.Pc(54,"Card RFND"),L.Vb(),L.Wb(55,"td",17),L.Rb(56,"app-input-text",22),L.Vb(),L.Wb(57,"th",7),L.Pc(58,"RFND Amounts"),L.Vb(),L.Wb(59,"td",17),L.Rb(60,"app-input-text",23),L.Vb(),L.Vb(),L.Wb(61,"tr"),L.Wb(62,"th",7),L.Pc(63,"Recall Com"),L.Vb(),L.Wb(64,"td",17),L.Rb(65,"app-input-text",24),L.Vb(),L.Wb(66,"th",7),L.Pc(67,"Recall Com VAT"),L.Vb(),L.Wb(68,"td",17),L.Rb(69,"app-input-text",25),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.Ec(25);L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(21),L.Gb("valid-error",t.checkIsInvalid("refundAppliedDate")),L.Cb(1),L.pc("for",e),L.Cb(1),L.pc("matDatepicker",e),L.Cb(8),L.pc("options",t.yearOptions)("isInvalid",t.checkIsInvalid("billingYear")),L.Cb(1),L.pc("options",t.monthOptions)("isInvalid",t.checkIsInvalid("billingMonth")),L.Cb(1),L.pc("options",t.bspBillingPeriodList)("isInvalid",t.checkIsInvalid("billingPeriodCode")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid(L.tc(20,VH))),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid(L.tc(21,AH))),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid(L.tc(22,WH))),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid(L.tc(23,RH))),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid(L.tc(24,FH))),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid(L.tc(25,SH))),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid(L.tc(26,TH))),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid(L.tc(27,NH)))}},directives:[I.B,I.s,I.k,J.a,UW.a,I.c,QW.a,I.r,I.i,GW.a,Se.a,ee.a],encapsulation:2,changeDetection:0}),e})();const MH=function(){return["refundReceiveDate"]},DH=function(){return{userTypeCode:"U01"}},LH=function(){return["userNo","name","deptName","positionName"]},_H=function(){return["billingTypeCode"]},$H=function(){return["gdsAirlineCompCode"]},BH=function(){return["refundFareAmount"]},wH=function(){return["refundPenaltyAmount"]},xH=function(){return["refundTaxAmount"]},YH=function(){return["refundCashAmount"]},HH=function(){return["refundCardAmount"]},qH=function(){return["airlineCommAmount"]},UH=function(){return["airlineCommVat"]};let QH=(()=>{class e{constructor(e){this._dataService=e,this.submitEvent=new L.n,this.putForm=e.generateRefundRegisterDsrInitPutForm()}get refundDsrFinishYn(){return this._refundDsrFinishYn}set refundDsrFinishYn(e){this._refundDsrFinishYn=e,this._formDisable(e)}get refundInfo(){return this._refundInfo}set refundInfo(e){this._refundInfo=e,this._setFormData(e)}get isB2b(){return"STN04"===this.stationTypeCode}get dsrInfo(){var e;return null===(e=this.refundInfo)||void 0===e?void 0:e.dsrInfo}get refundPicInput(){var e,t,n,i,o,a,c,s,r;return Q.isNil(null===(n=null===(t=null===(e=this.refundInfo)||void 0===e?void 0:e.dsrInfo)||void 0===t?void 0:t.dsr)||void 0===n?void 0:n.refundPicUno)?null:`${null===(a=null===(o=null===(i=this.refundInfo)||void 0===i?void 0:i.dsrInfo)||void 0===o?void 0:o.dsr)||void 0===a?void 0:a.refundPicName}(${null===(r=null===(s=null===(c=this.refundInfo)||void 0===c?void 0:c.dsrInfo)||void 0===s?void 0:s.dsr)||void 0===r?void 0:r.refundPicUno})`}ngOnInit(){}checkIsInvalid(e){return this._checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}onSubmit(){if(this.putForm.invalid)return this._checkValid=!0,void Object.keys(this.putForm.controls).forEach(e=>{this.putForm.controls[e].invalid&&(console.error(e+" is invalid"),console.error(this.putForm.controls[e]))});const e=this._setPutCondition();this.submitEvent.emit(e)}_formDisable(e){e?Object.keys(this.putForm.controls).forEach(e=>this.putForm.controls[e].disable()):Object.keys(this.putForm.controls).forEach(e=>this.putForm.controls[e].enable())}_setFormData(e){if(Q.isNil(e))return;const{dsrInfo:t}=e,n=this._dataService.initRefundRegisterDsrPutForm(),i=this._dataService.setDefaultValueOfRefundRegisterDsrPutCondtion(),o={dsr:Object.assign({},n.dsr,Q.pick(Object.assign({},t.dsr),Object.keys(n.dsr)),i),client:Object.assign({},n.client,Q.pick(Object.assign({},t.client),Object.keys(n.client)))};this.putDsrFormData=Object.assign(Object.assign({},this.putDsrFormData),o.dsr)}_setPutCondition(){const e=this._dataService.initRefundRegisterDsrPutCondition(),t=this.putForm.getRawValue(),{ticketingDate:n,ticketNo:i}=this.ticketInfo,o=this._setDsrCondition(),a=this._setClientCondition();return Object.assign({},Q.pick(t,Object.keys(e)),{ticketingDate:n,ticketNo:i,dsr:o,client:a})}_setDsrCondition(){const e=this._dataService.initRefundRegisterDsrPutCondition(),t=this._dataService.setDefaultValueOfRefundRegisterDsrPutCondtion(),n=this.putForm.getRawValue(),i=Object.assign({},Q.pick(this.refundInfo.dsrInfo.dsr,Object.keys(e.dsr)),t),o=Object.assign({},e.dsr,Q.pick(n,Object.keys(e.dsr)),t);return Object.assign({},i,o)}_setClientCondition(){const e=this._dataService.initRefundRegisterDsrPutCondition(),t=this._dataService.setDefaultValueOfRefundRegisterClientPutCondtion();return Object.assign({},Q.pick(this.refundInfo.dsrInfo.client,Object.keys(e.client)),t)}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-ticket-refund-register-dsr"]],inputs:{stationTypeCode:"stationTypeCode",refundDsrFinishYn:"refundDsrFinishYn",billingTypeList:"billingTypeList",bankMasterList:"bankMasterList",gdsNdcCompList:"gdsNdcCompList",ticketInfo:"ticketInfo",refundInfo:"refundInfo"},outputs:{submitEvent:"submitEvent"},decls:78,vars:35,consts:[[3,"formGroup","connectForm","ngSubmit"],[1,"page-item-header"],[1,"title"],[1,"control"],["type","submit",1,"btn","btn-outline-dark","sm"],[1,"table","table-bordered","table-responsive","mb5"],["width","16%"],["scope","row",1,"th-bg"],["colspan","3"],[1,"input","calendar","d-inline-flex"],[3,"for"],["type","text","formControlName","refundReceiveDate",3,"matDatepicker"],["refundReceiveDate",""],["formControlName","refundPicName","apiUrl","admin/common/staff","dataKey","userNo","inputFieldFormat","{0}-{1}&,{2}&,{3}","placeholder","",3,"inputFieldValue","apiSearchTerm","apiCondition","inputFieldFormatKeyList"],["formControlName","raRefundNo"],["formControlName","billingTypeCode","displayKey","detailCodeNameEn","dataKey","detailCode",3,"options","useAllOptionYn","isInvalid"],["formControlName","gdsAirlineCompCode","dataKey","compCode","displayKey","compName",3,"options","useAllOptionYn","isInvalid"],["formControlName","refundFareAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","refundPenaltyAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","refundTaxAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","refundCashAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","refundCardAmount","valueType","number","inputFormat","number",3,"isInvalid"],["valueType","number","inputFormat","number"],["formControlName","airlineCommAmount","valueType","number","inputFormat","number",3,"isInvalid"],["formControlName","airlineCommVat","valueType","number","inputFormat","number",3,"isInvalid"]],template:function(e,t){if(1&e&&(L.Wb(0,"form",0),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(1,"div",1),L.Wb(2,"p",2),L.Pc(3,"DSR RFND Detail"),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"button",4),L.Pc(6,"Save"),L.Vb(),L.Vb(),L.Vb(),L.Wb(7,"div",5),L.Wb(8,"table"),L.Wb(9,"caption"),L.Pc(10," DSR RFND Detail "),L.Vb(),L.Wb(11,"colgroup"),L.Rb(12,"col",6),L.Rb(13,"col"),L.Vb(),L.Wb(14,"tbody"),L.Wb(15,"tr"),L.Wb(16,"th",7),L.Pc(17,"RFND Request Date"),L.Vb(),L.Wb(18,"td",8),L.Wb(19,"div",9),L.Rb(20,"mat-datepicker-toggle",10),L.Rb(21,"input",11),L.Rb(22,"mat-datepicker",null,12),L.Vb(),L.Vb(),L.Vb(),L.Wb(24,"tr"),L.Wb(25,"th",7),L.Pc(26,"RFND PIC"),L.Vb(),L.Wb(27,"td"),L.Rb(28,"app-auto-complete",13),L.Vb(),L.Wb(29,"th",7),L.Pc(30,"RA No."),L.Vb(),L.Wb(31,"td"),L.Rb(32,"app-input-text",14),L.Vb(),L.Vb(),L.Wb(33,"tr"),L.Wb(34,"th",7),L.Pc(35,"BSP/ATR"),L.Vb(),L.Wb(36,"td"),L.Rb(37,"app-selectbox",15),L.Vb(),L.Wb(38,"th",7),L.Pc(39,"GDS"),L.Vb(),L.Wb(40,"td"),L.Rb(41,"app-selectbox",16),L.Vb(),L.Vb(),L.Wb(42,"tr"),L.Wb(43,"th",7),L.Pc(44,"Fare RFND"),L.Vb(),L.Wb(45,"td"),L.Rb(46,"app-input-text",17),L.Vb(),L.Wb(47,"th",7),L.Pc(48,"Penalty"),L.Vb(),L.Wb(49,"td"),L.Rb(50,"app-input-text",18),L.Vb(),L.Vb(),L.Wb(51,"tr"),L.Wb(52,"th",7),L.Pc(53,"Tax RFND"),L.Vb(),L.Wb(54,"td"),L.Rb(55,"app-input-text",19),L.Vb(),L.Wb(56,"th",7),L.Pc(57,"Cash RFND"),L.Vb(),L.Wb(58,"td"),L.Rb(59,"app-input-text",20),L.Vb(),L.Vb(),L.Wb(60,"tr"),L.Wb(61,"th",7),L.Pc(62,"Card RFND"),L.Vb(),L.Wb(63,"td"),L.Rb(64,"app-input-text",21),L.Vb(),L.Wb(65,"th",7),L.Pc(66,"RFND Amounts"),L.Vb(),L.Wb(67,"td"),L.Rb(68,"app-input-text",22),L.Vb(),L.Vb(),L.Wb(69,"tr"),L.Wb(70,"th",7),L.Pc(71,"Recall Com"),L.Vb(),L.Wb(72,"td"),L.Rb(73,"app-input-text",23),L.Vb(),L.Wb(74,"th",7),L.Pc(75,"Recall Com VAT"),L.Vb(),L.Wb(76,"td"),L.Rb(77,"app-input-text",24),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.Ec(23);L.pc("formGroup",t.putForm)("connectForm",t.putDsrFormData),L.Cb(19),L.Gb("valid-error",t.checkIsInvalid(L.tc(23,MH))),L.Cb(1),L.pc("for",e),L.Cb(1),L.pc("matDatepicker",e),L.Cb(7),L.pc("inputFieldValue",t.refundPicInput)("apiSearchTerm","name")("apiCondition",L.tc(24,DH))("inputFieldFormatKeyList",L.tc(25,LH)),L.Cb(9),L.pc("options",t.billingTypeList)("useAllOptionYn",!1)("isInvalid",t.checkIsInvalid(L.tc(26,_H))),L.Cb(4),L.pc("options",t.gdsNdcCompList)("useAllOptionYn",!1)("isInvalid",t.checkIsInvalid(L.tc(27,$H))),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid(L.tc(28,BH))),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid(L.tc(29,wH))),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid(L.tc(30,xH))),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid(L.tc(31,YH))),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid(L.tc(32,HH))),L.Cb(9),L.pc("isInvalid",t.checkIsInvalid(L.tc(33,qH))),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid(L.tc(34,UH)))}},directives:[I.B,I.s,I.k,J.a,UW.a,I.c,QW.a,I.r,I.i,GW.a,ne.a,ee.a,Se.a],encapsulation:2,changeDetection:0}),e})();function GH(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",14),L.fc("click",(function(){return L.Fc(e),L.hc().onSubmit()})),L.Pc(1,"\uc800\uc7a5"),L.Vb()}}let KH=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.submitEvent=new L.n,this.putForm=e.generateRefundRegisterPaymentInitPutForm(),this.putFormData=this._dataService.initRefundRegisterPaymentPutForm()}get paymentInfo(){return this._paymentInfo}set paymentInfo(e){this._paymentInfo=e,this._setFormData(e),this._setFormDisalbed(e)}get ticketInfo(){return this._ticketInfo}set ticketInfo(e){this._ticketInfo=e,this._setFormKeyData(e)}get totalAmount(){return this.putForm&&this.putForm.getRawValue().list.reduce((e,t)=>e+t.withdrawAmount,0)}get payment(){var e;return null===(e=this.paymentInfo)||void 0===e?void 0:e.payment}ngOnInit(){}checkIsInvalid(e){return this._checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}onSubmit(){var e,t;if(this.putForm.invalid)return void(this._checkValid=!0);const n=(null===(t=null===(e=this.dsrInfo)||void 0===e?void 0:e.client)||void 0===t?void 0:t.refundClientAmount)||0;if((n>0?n:this.paymentInfo.paidSumAmount)<this.totalAmount)return void this.alertService.alert("The amount you entered is greater than the payment amount.");const i=this._setPutCondition();this.submitEvent.emit(i)}_setFormData(e){if(Q.isNil(e))return;const{withdraw:t}=e,n=Object.assign({},this.putFormData);this.putFormData={list:[Object.assign(Object.assign({},n.list[0]),{withdrawAmount:t.transferSlipAmount}),Object.assign(Object.assign({},n.list[1]),{withdrawAmount:t.pgCardAmount}),Object.assign(Object.assign({},n.list[2]),{withdrawAmount:t.simplePayAmount}),Object.assign(Object.assign({},n.list[3]),{withdrawAmount:0}),Object.assign(Object.assign({},n.list[4]),{withdrawAmount:t.virtualAccountAmount+t.bankAccountAmount+t.cashAmount}),Object.assign(Object.assign({},n.list[5]),{withdrawAmount:0}),Object.assign(Object.assign({},n.list[6]),{withdrawAmount:t.visitCardAmount}),Object.assign(Object.assign({},n.list[7]),{withdrawAmount:t.pointAmount}),Object.assign(Object.assign({},n.list[8]),{withdrawAmount:t.giftCardAmount})]}}_setFormKeyData(e){if(Q.isNil(e))return;const t=Object.assign({},this.putFormData),{ticketingDate:n,ticketNo:i}=e;this.putFormData={list:t.list.map(e=>Object.assign(Object.assign({},e),{ticketingDate:n,ticketNo:i}))}}_setFormDisalbed(e){if(Q.isNil(e))return;const{payment:t}=e;(t.transferSlipAmount>0||t.pgCardAmount>0)&&this.putForm.get("list").at(1).get("withdrawAmount").enable(),t.transferSlipAmount<1&&t.pgCardAmount<1&&this.putForm.get("list").at(1).get("withdrawAmount").disable(),(t.transferSlipAmount>0||t.simplePayAmount>0)&&this.putForm.get("list").at(2).get("withdrawAmount").enable(),t.transferSlipAmount<1&&t.simplePayAmount<1&&this.putForm.get("list").at(2).get("withdrawAmount").disable(),(t.transferSlipAmount>0||t.virtualAccountAmount>0||t.bankAccountAmount>0||t.cashAmount>0)&&this.putForm.get("list").at(4).get("withdrawAmount").enable(),t.transferSlipAmount<1&&t.virtualAccountAmount<1&&t.bankAccountAmount<1&&t.cashAmount<1&&this.putForm.get("list").at(4).get("withdrawAmount").disable(),(t.transferSlipAmount>0||t.visitCardAmount>0)&&this.putForm.get("list").at(6).get("withdrawAmount").enable(),t.transferSlipAmount<1&&t.visitCardAmount<1&&this.putForm.get("list").at(6).get("withdrawAmount").disable(),(t.transferSlipAmount>0||t.pointAmount>0)&&this.putForm.get("list").at(7).get("withdrawAmount").enable(),t.transferSlipAmount<1&&t.pointAmount<1&&this.putForm.get("list").at(7).get("withdrawAmount").disable(),(t.transferSlipAmount>0||t.giftCardAmount>0)&&this.putForm.get("list").at(8).get("withdrawAmount").enable(),t.transferSlipAmount<1&&t.giftCardAmount<1&&this.putForm.get("list").at(8).get("withdrawAmount").disable()}_setPutCondition(){return{list:this.putForm.getRawValue().list.filter(e=>!Q.isNil(e.withdrawAmount)&&e.withdrawAmount>0)}}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-ticket-refund-register-payment"]],inputs:{refundDsrFinishYn:"refundDsrFinishYn",dsrInfo:"dsrInfo",paymentInfo:"paymentInfo",ticketInfo:"ticketInfo"},outputs:{submitEvent:"submitEvent"},decls:127,vars:45,consts:[[3,"formGroup","connectForm"],[1,"page-item-header"],[1,"title"],[1,"control"],["class","btn btn-outline-dark sm",3,"click",4,"ngIf"],[1,"table","table-bordered","table-responsive"],["width","25%"],["scope","col",1,"align-c"],["formArrayName","list"],[3,"formGroupName"],["scope","row",1,"th-bg"],[1,"align-r"],["formControlName","withdrawAmount","inputFormat","number","valueType","number"],[1,"color-danger"],[1,"btn","btn-outline-dark","sm",3,"click"]],template:function(e,t){1&e&&(L.Wb(0,"form",0),L.Wb(1,"div",1),L.Wb(2,"p",2),L.Pc(3,"\uc785\uae08/\ud658\ubd88 \uc0c1\uc138\ub0b4\uc5ed"),L.Vb(),L.Wb(4,"div",3),L.Nc(5,GH,2,0,"button",4),L.Vb(),L.Vb(),L.Wb(6,"div",5),L.Wb(7,"table"),L.Wb(8,"caption"),L.Pc(9," \ud658\ubd88\ub4f1\ub85d - \uc785\uae08/\ud658\ubd88 \uc0c1\uc138\ub0b4\uc5ed "),L.Vb(),L.Wb(10,"colgroup"),L.Rb(11,"col",6),L.Rb(12,"col",6),L.Rb(13,"col",6),L.Rb(14,"col",6),L.Vb(),L.Wb(15,"thead"),L.Wb(16,"tr"),L.Wb(17,"th",7),L.Pc(18,"\uad6c\ubd84"),L.Vb(),L.Wb(19,"th",7),L.Pc(20,"\uace0\uac1d\uacb0\uc81c\uae08\uc561"),L.Vb(),L.Wb(21,"th",7),L.Pc(22,"\ud658\ubd88\uad6c\ubd84"),L.Vb(),L.Wb(23,"th",7),L.Pc(24,"\uace0\uac1d\ud658\ubd88\uae08\uc561"),L.Vb(),L.Vb(),L.Vb(),L.Wb(25,"tbody",8),L.Wb(26,"tr",9),L.Wb(27,"th",10),L.Pc(28,"\uacbd\ub9ac\ub300\uccb4"),L.Vb(),L.Wb(29,"td",11),L.Pc(30),L.ic(31,"number"),L.Vb(),L.Wb(32,"th",10),L.Pc(33,"\uacbd\ub9ac\ub300\uccb4"),L.Vb(),L.Wb(34,"td"),L.Rb(35,"app-input-text",12),L.Vb(),L.Vb(),L.Wb(36,"tr",9),L.Wb(37,"th",10),L.Pc(38,"PG\uce74\ub4dc(\uc804\uc790\uacb0\uc81c)"),L.Vb(),L.Wb(39,"td",11),L.Pc(40),L.ic(41,"number"),L.Vb(),L.Wb(42,"th",10),L.Pc(43,"PG\uce74\ub4dc(\uc804\uc790\uacb0\uc81c)"),L.Vb(),L.Wb(44,"td"),L.Rb(45,"app-input-text",12),L.Vb(),L.Vb(),L.Wb(46,"tr",9),L.Wb(47,"th",10),L.Pc(48,"\uac04\ud3b8\uacb0\uc81c"),L.Vb(),L.Wb(49,"td",11),L.Pc(50),L.ic(51,"number"),L.Vb(),L.Wb(52,"th",10),L.Pc(53,"\uac04\ud3b8\uacb0\uc81c"),L.Vb(),L.Wb(54,"td"),L.Rb(55,"app-input-text",12),L.Vb(),L.Vb(),L.Wb(56,"tr",9),L.Wb(57,"th",10),L.Pc(58,"\uc740\ud589\uc785\uae08"),L.Vb(),L.Wb(59,"td",11),L.Pc(60),L.ic(61,"number"),L.Vb(),L.Wb(62,"th",10),L.Pc(63,"\uc740\ud589\uc785\uae08"),L.Vb(),L.Wb(64,"td"),L.Rb(65,"app-input-text",12),L.Vb(),L.Vb(),L.Wb(66,"tr",9),L.Wb(67,"th",10),L.Pc(68,"\uac00\uc0c1\uacc4\uc88c"),L.Vb(),L.Wb(69,"td",11),L.Pc(70),L.ic(71,"number"),L.Vb(),L.Wb(72,"th",10),L.Pc(73,"\uc740\ud589\uc785\uae08"),L.Vb(),L.Wb(74,"td"),L.Rb(75,"app-input-text",12),L.Vb(),L.Vb(),L.Wb(76,"tr",9),L.Wb(77,"th",10),L.Pc(78,"\ud604\uae08"),L.Vb(),L.Wb(79,"td",11),L.Pc(80),L.ic(81,"number"),L.Vb(),L.Wb(82,"th",10),L.Pc(83,"\uc740\ud589\uc785\uae08"),L.Vb(),L.Wb(84,"td"),L.Rb(85,"app-input-text",12),L.Vb(),L.Vb(),L.Wb(86,"tr",9),L.Wb(87,"th",10),L.Pc(88,"\uce74\ub4dc\ub0b4\ubc29"),L.Vb(),L.Wb(89,"td",11),L.Pc(90),L.ic(91,"number"),L.Vb(),L.Wb(92,"th",10),L.Pc(93,"\uce74\ub4dc\ub0b4\ubc29"),L.Vb(),L.Wb(94,"td"),L.Rb(95,"app-input-text",12),L.Vb(),L.Vb(),L.Wb(96,"tr",9),L.Wb(97,"th",10),L.Pc(98,"\ub9c8\uc77c\ub9ac\uc9c0"),L.Vb(),L.Wb(99,"td",11),L.Pc(100),L.ic(101,"number"),L.Vb(),L.Wb(102,"th",10),L.Pc(103,"\ub9c8\uc77c\ub9ac\uc9c0"),L.Vb(),L.Wb(104,"td"),L.Rb(105,"app-input-text",12),L.Vb(),L.Vb(),L.Wb(106,"tr",9),L.Wb(107,"th",10),L.Pc(108,"\uc0c1\ud488\uad8c"),L.Vb(),L.Wb(109,"td",11),L.Pc(110),L.ic(111,"number"),L.Vb(),L.Wb(112,"th",10),L.Pc(113,"\uc0c1\ud488\uad8c"),L.Vb(),L.Wb(114,"td"),L.Rb(115,"app-input-text",12),L.Vb(),L.Vb(),L.Wb(116,"tr"),L.Wb(117,"th",10),L.Pc(118,"\uace0\uac1d\uacb0\uc81c\ud569\uacc4"),L.Vb(),L.Wb(119,"td",11),L.Pc(120),L.ic(121,"number"),L.Vb(),L.Wb(122,"th",10),L.Pc(123,"\uace0\uac1d\uacb0\uc81c\ud569\uacc4"),L.Vb(),L.Wb(124,"td",13),L.Pc(125),L.ic(126,"number"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(5),L.pc("ngIf",!t.refundDsrFinishYn),L.Cb(21),L.pc("formGroupName",0),L.Cb(4),L.Qc(L.jc(31,23,null==t.payment?null:t.payment.transferSlipAmount)),L.Cb(6),L.pc("formGroupName",1),L.Cb(4),L.Qc(L.jc(41,25,null==t.payment?null:t.payment.pgCardAmount)),L.Cb(6),L.pc("formGroupName",2),L.Cb(4),L.Qc(L.jc(51,27,null==t.payment?null:t.payment.simplePayAmount)),L.Cb(6),L.pc("formGroupName",4),L.Cb(4),L.Qc(L.jc(61,29,null==t.payment?null:t.payment.bankAccountAmount)),L.Cb(6),L.pc("formGroupName",3),L.Cb(4),L.Qc(L.jc(71,31,null==t.payment?null:t.payment.virtualAccountAmount)),L.Cb(6),L.pc("formGroupName",5),L.Cb(4),L.Qc(L.jc(81,33,null==t.payment?null:t.payment.cashAmount)),L.Cb(6),L.pc("formGroupName",6),L.Cb(4),L.Qc(L.jc(91,35,null==t.payment?null:t.payment.visitCardAmount)),L.Cb(6),L.pc("formGroupName",7),L.Cb(4),L.Qc(L.jc(101,37,null==t.payment?null:t.payment.pointAmount)),L.Cb(6),L.pc("formGroupName",8),L.Cb(4),L.Qc(L.jc(111,39,null==t.payment?null:t.payment.giftCardAmount)),L.Cb(10),L.Qc(L.jc(121,41,null==t.payment?null:t.payment.paidSumAmount)),L.Cb(5),L.Qc(L.jc(126,43,t.totalAmount)))},directives:[I.B,I.s,I.k,J.a,k.o,I.e,I.l,ee.a,I.r,I.i],pipes:[k.f],encapsulation:2,changeDetection:0}),e})(),zH=(()=>{class e{constructor(e){this.alertService=e}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-policy-monitoring-info"]],inputs:{policyMonitoringInfo:"policyMonitoringInfo"},decls:43,vars:6,consts:[[1,"page-item-header"],[1,"title"],[1,"control"],[1,"table","table-bordered","table-responsive"],["scope","col",1,"align-c"],[1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"\ucd9c\uc7a5\uaddc\uc815"),L.Vb(),L.Rb(3,"div",2),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," \ucd9c\uc7a5\uaddc\uc815 "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Rb(13,"col"),L.Rb(14,"col"),L.Vb(),L.Wb(15,"thead"),L.Wb(16,"tr"),L.Wb(17,"th",4),L.Pc(18,"\ucd9c\uc7a5\uaddc\uc815\uba85"),L.Vb(),L.Wb(19,"th",4),L.Pc(20,"\ubd80\uc11c"),L.Vb(),L.Wb(21,"th",4),L.Pc(22,"\uc9c1\uae09\uadf8\ub8f9"),L.Vb(),L.Wb(23,"th",4),L.Pc(24,"\uc9c1\uae09"),L.Vb(),L.Wb(25,"th",4),L.Pc(26,"\ucd9c\uc7a5\uaddc\uc815"),L.Vb(),L.Wb(27,"th",4),L.Pc(28,"\uc608\uc678\uaddc\uc815"),L.Vb(),L.Vb(),L.Vb(),L.Wb(29,"tbody"),L.Wb(30,"tr"),L.Wb(31,"td",5),L.Pc(32),L.Vb(),L.Wb(33,"td",5),L.Pc(34),L.Vb(),L.Wb(35,"td",5),L.Pc(36),L.Vb(),L.Wb(37,"td",5),L.Pc(38),L.Vb(),L.Wb(39,"td",5),L.Pc(40),L.Vb(),L.Wb(41,"td",5),L.Pc(42),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(32),L.Qc(null==t.policyMonitoringInfo?null:t.policyMonitoringInfo.policyMasterName),L.Cb(2),L.Qc(null==t.policyMonitoringInfo?null:t.policyMonitoringInfo.corporateDeptName),L.Cb(2),L.Qc(null==t.policyMonitoringInfo?null:t.policyMonitoringInfo.positionGroupName),L.Cb(2),L.Qc(null==t.policyMonitoringInfo?null:t.policyMonitoringInfo.positionName),L.Cb(2),L.Qc(null==t.policyMonitoringInfo?null:t.policyMonitoringInfo.policyGradeName),L.Cb(2),L.Qc(null==t.policyMonitoringInfo?null:t.policyMonitoringInfo.exceptionGradeName))},encapsulation:2,changeDetection:0}),e})(),XH=(()=>{class e{constructor(e,t){this._dataService=e,this._alertService=t,this.submitEvent=new L.n,this.putForm=e.generatePolicyMonitoringOutOfPolicyPutForm(),this.putFormData=e.initPolicyMonitoringOutOfPolicyPutForm()}get policyMonitoringInfo(){return this._policyMonitoringInfo}set policyMonitoringInfo(e){this._policyMonitoringInfo=e,this.putFormData=this._setFormData(e)}ngOnInit(){this.checkValid=!1}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}onSubmit(){if(this.putForm.invalid)return void(this.checkValid=!0);const e=Object.assign(Object.assign({},this.putForm.value),{bookingItemCode:this.bookingItemCode});Q.isNil(e.rowid)?this.submitEvent.emit(Q.omit(e,["rowid","outOfPolicyReasonSeq"])):this.submitEvent.emit(e)}_setFormData(e){const t=this._dataService.initPolicyMonitoringOutOfPolicyPutForm();return Q.isNil(e)?Object.assign({},t):Object.assign({},Q.pick(e,Object.keys(t)))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-policy-monitoring-out-of-policy"]],inputs:{policyMonitoringInfo:"policyMonitoringInfo",corporateReasonList:"corporateReasonList",bookingItemCode:"bookingItemCode"},outputs:{submitEvent:"submitEvent"},decls:28,vars:5,consts:[[1,"page-item-header"],[1,"title"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","120px"],["scope","row",1,"th-bg"],["colspan","3"],[1,"form-group"],["formControlName","outOfPolicyYn","name","recommendYn","label","\uaddc\uc815\uc801\ud569",3,"value"],["formControlName","outOfPolicyYn","name","recommendYn","label","\uaddc\uc815\uc704\ubc18",3,"value"],["formControlName","outOfPolicyReasonSeq","useAllOptionName","__\uc0ac\uc720__","dataKey","policyReasonSeq","displayKey","policyReasonTitleLn",1,"ml10",3,"options"],["formControlName","outOfPolicyReasonComment"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"\uaddc\uc815\uc704\ubc18"),L.Vb(),L.Vb(),L.Wb(3,"form",2),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," \uaddc\uc815\uc704\ubc18 "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col",4),L.Rb(10,"col"),L.Vb(),L.Wb(11,"tbody"),L.Wb(12,"tr"),L.Wb(13,"th",5),L.Pc(14,"\ucd9c\uc7a5\uaddc\uc815 \uccb4\ud06c"),L.Vb(),L.Wb(15,"td",6),L.Wb(16,"div",7),L.Rb(17,"app-radio",8),L.Rb(18,"app-radio",9),L.Rb(19,"app-selectbox",10),L.Vb(),L.Vb(),L.Vb(),L.Wb(20,"tr"),L.Wb(21,"th",5),L.Pc(22,"\uae30\ud0c0\uc704\ubc18\uc0ac\uc720"),L.Vb(),L.Wb(23,"td",6),L.Rb(24,"app-input-text",11),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(25,"div",12),L.Wb(26,"button",13),L.Pc(27,"\uc800\uc7a5"),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(3),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(14),L.pc("value",!1),L.Cb(1),L.pc("value",!0),L.Cb(1),L.pc("options",t.corporateReasonList))},directives:[I.B,I.s,I.k,J.a,cS.a,I.r,I.i,Se.a,ee.a],encapsulation:2,changeDetection:0}),e})();function ZH(e,t){if(1&e&&(L.Wb(0,"form",8),L.Wb(1,"div",9),L.Wb(2,"table"),L.Wb(3,"caption"),L.Pc(4," \ud604\uae08\uc601\uc218\uc99d \ubc1c\ud589 "),L.Vb(),L.Wb(5,"colgroup"),L.Rb(6,"col",10),L.Rb(7,"col"),L.Vb(),L.Wb(8,"tbody"),L.Wb(9,"tr"),L.Wb(10,"th",11),L.Pc(11,"Name"),L.Vb(),L.Wb(12,"td"),L.Pc(13),L.Vb(),L.Vb(),L.Wb(14,"tr"),L.Wb(15,"th",11),L.Pc(16,"Amount"),L.Vb(),L.Wb(17,"td"),L.Rb(18,"app-input-text",12),L.Vb(),L.Vb(),L.Wb(19,"tr"),L.Wb(20,"th",11),L.Pc(21,"Cash Receipt Purpose"),L.Vb(),L.Wb(22,"td"),L.Wb(23,"div",13),L.Rb(24,"app-radio",14),L.Rb(25,"app-radio",15),L.Vb(),L.Vb(),L.Vb(),L.Wb(26,"tr"),L.Wb(27,"th",11),L.Pc(28,"Number for Issue"),L.Vb(),L.Wb(29,"td"),L.Wb(30,"div",13),L.Rb(31,"app-selectbox",16),L.Rb(32,"app-input-text",17),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.hc();L.pc("formGroup",e.putForm)("connectForm",e.putFormData),L.Cb(13),L.Qc(e.putForm.get("issueName").value),L.Cb(5),L.pc("isInvalid",e.checkIsInvalid(e.putForm,"paymentAmount")),L.Cb(13),L.pc("options",e.cashReceiptKindList)("isInvalid",e.checkIsInvalid(e.putForm,"cashReceiptKindCode")),L.Cb(1),L.pc("isInvalid",e.checkIsInvalid(e.putForm,"cashReceiptRelatedNo"))}}const JH=function(){return["paymentAmount"]},eq=function(){return["cashReceiptKindCode"]},tq=function(){return["cashReceiptRelatedNo"]};function nq(e,t){if(1&e&&(L.Ub(0,20),L.Wb(1,"div",9),L.Wb(2,"table"),L.Wb(3,"caption"),L.Pc(4," \ud604\uae08\uc601\uc218\uc99d \ubc1c\ud589 "),L.Vb(),L.Wb(5,"colgroup"),L.Rb(6,"col",10),L.Rb(7,"col"),L.Vb(),L.Wb(8,"tbody",21),L.Wb(9,"tr"),L.Wb(10,"th",11),L.Pc(11,"Name"),L.Vb(),L.Wb(12,"td"),L.Pc(13),L.Vb(),L.Vb(),L.Wb(14,"tr"),L.Wb(15,"th",11),L.Pc(16,"Amount"),L.Vb(),L.Wb(17,"td"),L.Rb(18,"app-input-text",12),L.Vb(),L.Vb(),L.Wb(19,"tr"),L.Wb(20,"th",11),L.Pc(21,"Cash Receipt Purpose"),L.Vb(),L.Wb(22,"td"),L.Wb(23,"div",13),L.Rb(24,"app-radio",22),L.Rb(25,"app-radio",23),L.Vb(),L.Vb(),L.Vb(),L.Wb(26,"tr"),L.Wb(27,"th",11),L.Pc(28,"Number for Issue"),L.Vb(),L.Wb(29,"td"),L.Wb(30,"div",13),L.Rb(31,"app-selectbox",24),L.Rb(32,"app-input-text",17),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Tb()),2&e){const e=t.$implicit,n=t.index,i=L.hc(2);L.Cb(1),L.Gb("mt10",0!==n),L.Cb(7),L.pc("formGroupName",n),L.Cb(5),L.Qc(e.get("issueName").value),L.Cb(5),L.pc("isInvalid",i.checkIsInvalidByAmount(e,L.tc(10,JH))),L.Cb(6),L.pc("name",n),L.Cb(1),L.pc("name",n),L.Cb(6),L.pc("options",i.cashReceiptKindList)("isInvalid",i.checkIsInvalidByAmount(e,L.tc(11,eq))),L.Cb(1),L.pc("isInvalid",i.checkIsInvalidByAmount(e,L.tc(12,tq)))}}function iq(e,t){1&e&&(L.Ub(0),L.Wb(1,"div",9),L.Wb(2,"table"),L.Wb(3,"tr"),L.Wb(4,"td",25),L.Pc(5,"No amount information per passenger."),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Tb())}function oq(e,t){if(1&e&&(L.Wb(0,"form",8),L.Nc(1,nq,33,13,"ng-container",18),L.Nc(2,iq,6,0,"ng-container",19),L.Vb()),2&e){const e=L.hc();L.pc("formGroup",e.putPaxesForm)("connectForm",e.putPaxesFormData),L.Cb(1),L.pc("ngForOf",e.paxFormArray.controls),L.Cb(1),L.pc("ngIf",0===e.paxFormArray.controls.length)}}let aq=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.closeEvent=new L.n,this.submitEvent=new L.n,this.isTotal=!0,this.putForm=e.generateCashReceiptIssuePutForm(),this.putPaxesForm=e.generateCashReceiptIssuePaxesPutForm()}get masterInfo(){return this._masterInfo}set masterInfo(e){this._masterInfo=e,this.putFormData=Object.assign(Object.assign({},this.putFormData),{issueName:e.bookerName,emailAddress:e.bookerEmailAddress}),this.putForm.get("issueName").setValue(e.bookerName)}get cashPaymentInfo(){return this._cashPaymentInfo}set cashPaymentInfo(e){this._cashPaymentInfo=e,this._setFormData(e),this._setFormArray(e)}get paxFormArray(){return this.putPaxesForm.get("paxes")}ngOnInit(){}ngOnDestroy(){}onClose(){this.closeEvent.emit()}_isInvalidPaxesForm(){const{paxes:e}=this.putPaxesForm.value;let t=!1;return e.forEach(e=>{const{paidAmount:n,cashReceiptKindCode:i,cashReceiptRelatedNo:o}=e;n>0&&(Q.isNil(i)||Q.isNil(o))&&(t=!0)}),t}onSubmit(){if(!0===this.isTotal&&this.putForm.invalid||!1===this.isTotal&&this._isInvalidPaxesForm())return void(this.checkValid=!0);let e=null;if(!0===this.isTotal){if(this.putForm.value.paidAmount>this.cashPaymentInfo.cashReceiptBalanceAmount)return void this.alertService.alert("The amount of cash receipts available for issuance has been exceeded.");e=Object.assign({bookingItemCode:this.bookingItemCode},this.putForm.value)}else{if(this.putPaxesForm.value.paxes.reduce((e,t)=>e+t.paidAmount,0)>this.cashPaymentInfo.cashReceiptBalanceAmount)return void this.alertService.alert("The amount of cash receipts available for issuance has been exceeded.");const t=this.putPaxesForm.value.paxes.filter(e=>e.paidAmount>0).map(e=>{var t;return Object.assign(Object.assign({},e),{emailAddress:null===(t=this.masterInfo)||void 0===t?void 0:t.bookerEmailAddress})});e={bookingItemCode:this.bookingItemCode,paxes:t}}this.submitEvent.emit(e)}checkIsInvalid(e,t){return this.checkValid&&e.get(t)&&e.get(t).invalid}checkIsInvalidByAmount(e,t){return this.checkValid&&e.get(t)&&e.get(t).invalid&&e.get("paidAmount").value>0}onClickRadio(){this.checkValid=!1}_setFormData(e){if(Q.isNil(e))return;const t=this._dataService.initCashReceiptIssuePutForm();this.putFormData=Object.assign({},t,{paidAmount:e.cashReceiptBalanceAmount});const n=this._dataService.initCashReceiptIssuePaxPutForm();this.putPaxesFormData={paxes:e.cashPayments.map(e=>Object.assign({},n,{paidAmount:e.cashPaidAmount,issueName:e.name,bookingTravelerCode:e.bookingTravelerCode}))}}_setFormArray(e){const t=this._dataService.generateCashReceiptIssuePaxesPutForm();e.cashPayments.forEach(e=>{let n=this._dataService.generateCashReceiptIssuePaxPutForm();n.patchValue({cashReceiptPurposeCode:"CRP01",paidAmount:e.cashPaidAmount,issueName:e.name,bookingTravelerCode:e.bookingTravelerCode}),t.get("paxes").push(n)}),this.putPaxesForm=t}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-cash-receipt-issue-modal"]],inputs:{bookingItemCode:"bookingItemCode",masterInfo:"masterInfo",cashPaymentInfo:"cashPaymentInfo",cashReceiptPurposeList:"cashReceiptPurposeList",cashReceiptKindList:"cashReceiptKindList"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent"},decls:11,vars:6,consts:[[1,"component-wrap"],[1,"form-group","mb10"],["label","All","name","isTotal",3,"ngModel","value","ngModelChange","onClick"],["label","Travlers","name","isTotal",3,"ngModel","value","ngModelChange","onClick"],[3,"formGroup","connectForm",4,"ngIf"],[1,"button-area","align-r","mt5"],["type","button",1,"btn","btn-secondary","sm",3,"click"],["type","button",1,"btn","btn-light","sm",3,"click"],[3,"formGroup","connectForm"],[1,"table","table-bordered"],["width","150px"],["scope","row",1,"th-bg"],["formControlName","paidAmount","valueType","number","inputFormat","number",3,"isInvalid"],[1,"form-group"],["label","Tax Deduction","formControlName","cashReceiptPurposeCode","name","cashReceiptPurposeCode","value","CRP01"],["label","Expense Evidence","formControlName","cashReceiptPurposeCode","name","cashReceiptPurposeCode","value","CRP02"],["formControlName","cashReceiptKindCode","dataKey","detailCode","displayKey","detailCodeNameEn",3,"options","isInvalid"],["formControlName","cashReceiptRelatedNo",3,"isInvalid"],["formArrayName","paxes",4,"ngFor","ngForOf"],[4,"ngIf"],["formArrayName","paxes"],[3,"formGroupName"],["label","Tax Deduction","formControlName","cashReceiptPurposeCode","value","CRP01",3,"name"],["label","Expense Evidence","formControlName","cashReceiptPurposeCode","value","CRP02",3,"name"],["formControlName","cashReceiptKindCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","__Select__",3,"options","isInvalid"],[1,"align-c",2,"height","50px"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"app-radio",2),L.fc("ngModelChange",(function(e){return t.isTotal=e}))("onClick",(function(){return t.onClickRadio()})),L.Vb(),L.Wb(3,"app-radio",3),L.fc("ngModelChange",(function(e){return t.isTotal=e}))("onClick",(function(){return t.onClickRadio()})),L.Vb(),L.Vb(),L.Nc(4,ZH,33,7,"form",4),L.Nc(5,oq,3,4,"form",4),L.Wb(6,"div",5),L.Wb(7,"button",6),L.fc("click",(function(){return t.onSubmit()})),L.Pc(8,"Issue"),L.Vb(),L.Wb(9,"button",7),L.fc("click",(function(){return t.onClose()})),L.Pc(10,"Close"),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(2),L.pc("ngModel",t.isTotal)("value",!0),L.Cb(1),L.pc("ngModel",t.isTotal)("value",!1),L.Cb(1),L.pc("ngIf",!0===t.isTotal),L.Cb(1),L.pc("ngIf",!1===t.isTotal))},directives:[cS.a,I.r,I.u,k.o,I.B,I.s,I.k,J.a,ee.a,I.i,Se.a,k.n,I.e,I.l],encapsulation:2,changeDetection:0}),e})(),cq=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.closeEvent=new L.n,this.submitEvent=new L.n,this.deleteEvent=new L.n,this.issueBankInfoEvent=new L.n,this.putForm=e.generatePaymentInfoModalPaymentInfosPutForm()}ngOnInit(){this._initSelectboxOptions()}ngOnDestroy(){}onClose(){this.closeEvent.emit()}onSubmit(){const e=this._setPutCondition();this.submitEvent.emit(e)}onDelete(){this.alertService.confirm({message:"Are you sure you want to delete it?",accept:()=>{}})}onChangeCardHolderType({value:e},t){"CCH03"===e?(t.get("cardHolderBirthday").clearValidators(),t.get("cardHolderTaxPayerNo").setValidators([I.z.required])):(t.get("cardHolderBirthday").setValidators([I.z.required]),t.get("cardHolderTaxPayerNo").clearValidators()),t.get("cardHolderBirthday").updateValueAndValidity(),t.get("cardHolderTaxPayerNo").updateValueAndValidity()}checkIsInvalid(e){return this._checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}_initSelectboxOptions(){this.cardQuotaMonthList=[{value:"00",label:"\uc77c\uc2dc\ubd88"}];for(let e=1;e<25;e++){const t=Q.padStart(String(e),2,"0");this.cardQuotaMonthList.push({value:t,label:t})}}_setPutCondition(){}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-payment-info-card-form-modal"]],inputs:{paymentDetailTypeList:"paymentDetailTypeList",cardHolderTypeList:"cardHolderTypeList",cardMasterList:"cardMasterList"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent",deleteEvent:"deleteEvent",issueBankInfoEvent:"issueBankInfoEvent"},decls:105,vars:4,consts:[[3,"formGroup"],[1,"component-wrap"],[1,"button-area","align-r","mt10","mb5"],["type","submit",1,"btn","btn-outline-dark","sm"],["type","button",1,"btn","btn-outline-dark","sm"],[1,"table","table-bordered"],["width","15%"],["width","35%"],["scope","row",1,"th-bg"],["dataKey","detailCode","displayKey","detailCodeNameEn",3,"options"],["inputFormat","numberOnly","placeholder","-\uc81c\uc678"],[1,"form-group"],["inputFormat","numberOnly","placeholder","YYYY"],["inputFormat","numberOnly","placeholder","MM"],[3,"options"],["inputFormat","numberOnly"],[1,"ml5"],["inputFormat","numberOnly","placeholder","YYYYMMDD"],["inputFormat","numberOnly","placeholder","\uc0ac\uc5c5\uc790\ubc88\ud638 10\uc790\ub9ac"],["inputFormat","time","placeholder","HH:MM"],["colspan","3"],["width","10%"],["width","40%"],["width","25%"],["scope","col",1,"align-c"],[1,"align-c"],[1,"align-l"],[1,"align-r"]],template:function(e,t){1&e&&(L.Wb(0,"form",0),L.Wb(1,"div",1),L.Wb(2,"div",2),L.Wb(3,"button",3),L.Pc(4,"\ucd08\uae30\ud654"),L.Vb(),L.Wb(5,"button",4),L.Pc(6,"\uc0ad\uc81c"),L.Vb(),L.Wb(7,"button",4),L.Pc(8,"\uc800\uc7a5"),L.Vb(),L.Vb(),L.Wb(9,"div",5),L.Wb(10,"table"),L.Wb(11,"caption"),L.Pc(12," \uce74\ub4dc \uacb0\uc81c\uc815\ubcf4\ub4f1\ub85d - \uc6b4\uc784 \uacb0\uc81c\uc815\ubcf4 \uc218\uc815 "),L.Vb(),L.Wb(13,"colgroup"),L.Rb(14,"col",6),L.Rb(15,"col",7),L.Rb(16,"col",6),L.Rb(17,"col",7),L.Vb(),L.Wb(18,"tbody"),L.Wb(19,"tr"),L.Wb(20,"th",8),L.Pc(21,"\uc785\uae08\uad6c\ubd84"),L.Vb(),L.Rb(22,"td"),L.Wb(23,"th",8),L.Pc(24,"\uacb0\uc81c\ub300\uc0c1\uae08\uc561"),L.Vb(),L.Rb(25,"td"),L.Vb(),L.Wb(26,"tr"),L.Wb(27,"th",8),L.Pc(28,"\uce74\ub4dc\uad6c\ubd84"),L.Vb(),L.Wb(29,"td"),L.Rb(30,"app-selectbox",9),L.Vb(),L.Wb(31,"th",8),L.Pc(32,"\uce74\ub4dc\uc885\ub958"),L.Vb(),L.Wb(33,"td"),L.Rb(34,"app-selectbox",9),L.Vb(),L.Vb(),L.Wb(35,"tr"),L.Wb(36,"th",8),L.Pc(37,"\uce74\ub4dc\ubc88\ud638"),L.Vb(),L.Wb(38,"td"),L.Rb(39,"app-input-text",10),L.Vb(),L.Wb(40,"th",8),L.Pc(41,"\uc720\ud6a8\uae30\uac04"),L.Vb(),L.Wb(42,"td"),L.Wb(43,"div",11),L.Rb(44,"app-input-text",12),L.Rb(45,"app-input-text",13),L.Vb(),L.Vb(),L.Vb(),L.Wb(46,"tr"),L.Wb(47,"th",8),L.Pc(48,"\ud560\ubd80\uae30\uac04"),L.Vb(),L.Wb(49,"td"),L.Rb(50,"app-selectbox",14),L.Vb(),L.Wb(51,"th",8),L.Pc(52,"\uce74\ub4dc\ube44\ubc00\ubc88\ud638(\uc55e 2\uc790\ub9ac)"),L.Vb(),L.Wb(53,"td"),L.Wb(54,"div",11),L.Rb(55,"app-input-text",15),L.Wb(56,"span",16),L.Pc(57,"**"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(58,"tr"),L.Wb(59,"th",8),L.Pc(60,"\uc0dd\ub144\uc6d4\uc77c"),L.Vb(),L.Wb(61,"td"),L.Rb(62,"app-input-text",17),L.Vb(),L.Wb(63,"th",8),L.Pc(64,"\uc0ac\uc5c5\uc790\ub4f1\ub85d\ubc88\ud638"),L.Vb(),L.Wb(65,"td"),L.Rb(66,"app-input-text",18),L.Vb(),L.Vb(),L.Wb(67,"tr"),L.Wb(68,"th",8),L.Pc(69,"ARS \uc5f0\ub77d\ucc98(KE)"),L.Vb(),L.Wb(70,"td"),L.Rb(71,"app-input-text",10),L.Vb(),L.Wb(72,"th",8),L.Pc(73,"\ud1b5\ud654\uac00\ub2a5\uc2dc\uac04(KE)"),L.Vb(),L.Wb(74,"td"),L.Rb(75,"app-input-text",19),L.Vb(),L.Vb(),L.Wb(76,"tr"),L.Wb(77,"th",8),L.Pc(78,"\ud0d1\uc2b9\uc790\ubcc4\uc815\ubcf4"),L.Vb(),L.Wb(79,"td",20),L.Wb(80,"div",5),L.Wb(81,"table"),L.Wb(82,"caption"),L.Pc(83," \ubcc0\uc218\ubaa9\ub85d "),L.Vb(),L.Wb(84,"colgroup"),L.Rb(85,"col",21),L.Rb(86,"col",22),L.Rb(87,"col",23),L.Rb(88,"col",23),L.Vb(),L.Wb(89,"thead"),L.Wb(90,"tr"),L.Wb(91,"th",24),L.Pc(92,"No."),L.Vb(),L.Wb(93,"th",24),L.Pc(94,"\ud0d1\uc2b9\uc790\uba85"),L.Vb(),L.Wb(95,"th",24),L.Pc(96,"\uacb0\uc81c\ub300\uc0c1\uae08\uc561"),L.Vb(),L.Wb(97,"th",24),L.Pc(98,"\uacb0\uc81c\uc694\uccad \uae08\uc561"),L.Vb(),L.Vb(),L.Vb(),L.Wb(99,"tbody"),L.Wb(100,"tr"),L.Rb(101,"td",25),L.Rb(102,"td",26),L.Rb(103,"td",27),L.Rb(104,"td",27),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.pc("formGroup",t.putForm),L.Cb(30),L.pc("options",t.cardHolderTypeList),L.Cb(4),L.pc("options",t.cardMasterList),L.Cb(16),L.pc("options",t.cardQuotaMonthList))},directives:[I.B,I.s,I.k,Se.a,ee.a],encapsulation:2,changeDetection:0}),e})(),sq=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.closeEvent=new L.n,this.submitEvent=new L.n,this.deleteEvent=new L.n,this.issueBankInfoEvent=new L.n,this.putForm=e.generatePaymentInfoModalPaymentInfosPutForm()}ngOnInit(){this._initSelectboxOptions()}ngOnDestroy(){}onClose(){this.closeEvent.emit()}onSubmit(){const e=this._setPutCondition();this.submitEvent.emit(e)}onDelete(){this.alertService.confirm({message:"Are you sure you want to delete it?",accept:()=>{}})}onChangeCardHolderType({value:e},t){"CCH03"===e?(t.get("cardHolderBirthday").clearValidators(),t.get("cardHolderTaxPayerNo").setValidators([I.z.required])):(t.get("cardHolderBirthday").setValidators([I.z.required]),t.get("cardHolderTaxPayerNo").clearValidators()),t.get("cardHolderBirthday").updateValueAndValidity(),t.get("cardHolderTaxPayerNo").updateValueAndValidity()}checkIsInvalid(e){return this._checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}_initSelectboxOptions(){this.cardQuotaMonthList=[{value:"00",label:"\uc77c\uc2dc\ubd88"}];for(let e=1;e<25;e++){const t=Q.padStart(String(e),2,"0");this.cardQuotaMonthList.push({value:t,label:t})}}_setPutCondition(){}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-payment-info-bank-form-modal"]],inputs:{paymentDetailTypeList:"paymentDetailTypeList",cardHolderTypeList:"cardHolderTypeList",cardMasterList:"cardMasterList"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent",deleteEvent:"deleteEvent",issueBankInfoEvent:"issueBankInfoEvent"},decls:57,vars:1,consts:[[3,"formGroup"],[1,"component-wrap"],[1,"button-area","align-r","mt10","mb5"],["type","button",1,"btn","btn-outline-dark","sm"],[1,"table","table-bordered"],["width","15%"],["width","35%"],["scope","row",1,"th-bg"],["colspan","3"],["width","10%"],["width","40%"],["width","25%"],["scope","col",1,"align-c"],[1,"align-c"],[1,"align-l"],[1,"align-r"]],template:function(e,t){1&e&&(L.Wb(0,"form",0),L.Wb(1,"div",1),L.Wb(2,"div",2),L.Wb(3,"button",3),L.Pc(4,"\uc0ad\uc81c"),L.Vb(),L.Wb(5,"button",3),L.Pc(6,"\uc800\uc7a5"),L.Vb(),L.Vb(),L.Wb(7,"div",4),L.Wb(8,"table"),L.Wb(9,"caption"),L.Pc(10," \uac00\uc0c1\uacc4\uc88c \uacb0\uc81c\uc815\ubcf4\ub4f1\ub85d - \uc6b4\uc784 \uacb0\uc81c\uc815\ubcf4 \uc218\uc815 "),L.Vb(),L.Wb(11,"colgroup"),L.Rb(12,"col",5),L.Rb(13,"col",6),L.Rb(14,"col",5),L.Rb(15,"col",6),L.Vb(),L.Wb(16,"tbody"),L.Wb(17,"tr"),L.Wb(18,"th",7),L.Pc(19,"\uc785\uae08\uad6c\ubd84"),L.Vb(),L.Rb(20,"td"),L.Wb(21,"th",7),L.Pc(22,"\uacb0\uc81c\ub300\uc0c1\uae08\uc561"),L.Vb(),L.Rb(23,"td"),L.Vb(),L.Wb(24,"tr"),L.Wb(25,"th",7),L.Pc(26,"\uac00\uc0c1\uacc4\uc88c\uc815\ubcf4"),L.Vb(),L.Rb(27,"td",8),L.Vb(),L.Wb(28,"tr"),L.Wb(29,"th",7),L.Pc(30,"\ud0d1\uc2b9\uc790\ubcc4\uc815\ubcf4"),L.Vb(),L.Wb(31,"td",8),L.Wb(32,"div",4),L.Wb(33,"table"),L.Wb(34,"caption"),L.Pc(35," \ubcc0\uc218\ubaa9\ub85d "),L.Vb(),L.Wb(36,"colgroup"),L.Rb(37,"col",9),L.Rb(38,"col",10),L.Rb(39,"col",11),L.Rb(40,"col",11),L.Vb(),L.Wb(41,"thead"),L.Wb(42,"tr"),L.Wb(43,"th",12),L.Pc(44,"No."),L.Vb(),L.Wb(45,"th",12),L.Pc(46,"\ud0d1\uc2b9\uc790\uba85"),L.Vb(),L.Wb(47,"th",12),L.Pc(48,"\uacb0\uc81c\ub300\uc0c1\uae08\uc561"),L.Vb(),L.Wb(49,"th",12),L.Pc(50,"\uacb0\uc81c\uc694\uccad \uae08\uc561"),L.Vb(),L.Vb(),L.Vb(),L.Wb(51,"tbody"),L.Wb(52,"tr"),L.Rb(53,"td",13),L.Rb(54,"td",14),L.Rb(55,"td",15),L.Rb(56,"td",15),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&L.pc("formGroup",t.putForm)},directives:[I.B,I.s,I.k],encapsulation:2,changeDetection:0}),e})(),rq=(()=>{class e{constructor(e,t){this._dataService=e,this._alertService=t,this.submitEvent=new L.n,this.closeEvent=new L.n,this.isClickCancel=!1,this.putForm=e.generatePaymentCancelPutForm()}get selectedPaymentInfo(){return this._selectedPaymentInfo}set selectedPaymentInfo(e){this._selectedPaymentInfo=e,this.putFormData=this._setFormData(e)}get balanceAmount(){var e;return this._calculatePaidAmount()-((null===(e=this.putForm)||void 0===e?void 0:e.get("cancelAmount").value)||0)}get paymentType(){var e;const{categoryCode:t}=this.selectedPaymentInfo;return null===(e=this.paymentInfo.paymentTypes.find(e=>e.categoryCode===t))||void 0===e?void 0:e.categoryName}checkIsInvalid(e){return this._checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}onClickSave(){if(this.putForm.invalid)return void(this._checkValid=!0);if(this.balanceAmount<0)return void this._alertService.alert("The cancellation amount exceeded the payment amount.");const{cancelAmount:e}=this.putForm.value;let t=Object.assign(Object.assign({},this.putForm.value),{cancelAmount:-e});t=Q.omitBy(t,e=>Q.isNil(e)||""===e),this.isClickCancel=!0,this.submitEvent.emit(t)}onClose(){this.closeEvent.emit()}_setFormData(e){if(Q.isNil(e))return this._dataService.initPaymentCancelPutForm();const t=e.payments[0].transactions[0],{bookingTravelerCode:n}=e.payments[0];return this.paidAmount=this._calculatePaidAmount(),{stationTypeCode:this.stationTypeCode,bookingItemCode:this.bookingItemCode,bookingTravelerCode:n,paymentSeq:t.paymentSeq,paymentDetailTypeCode:t.paymentDetailTypeCode,depositTypeCode:t.depositTypeCode,cancelAmount:this.paidAmount}}_calculatePaidAmount(){if(Q.isNil(this.selectedPaymentInfo)||Q.isNil(this.paymentInfo))return 0;const{categoryCode:e}=this.selectedPaymentInfo,{bookingTravelerCode:t}=this.selectedPaymentInfo.payments[0],{approvalNo:n}=this.selectedPaymentInfo.payments[0].transactions[0],i=this.paymentInfo.paymentTypes.filter(t=>t.categoryCode===e)[0].payments.filter(e=>e.bookingTravelerCode===t)[0].transactions;let o=0;return o=Q.isNil(n)?this.selectedPaymentInfo.payments[0].transactions[0].paidAmount:i.filter(e=>e.approvalNo===n).reduce((e,t)=>e+t.paidAmount,0),o}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-payment-cancel-modal"]],inputs:{bookingItemCode:"bookingItemCode",stationTypeCode:"stationTypeCode",paymentInfo:"paymentInfo",selectedPaymentInfo:"selectedPaymentInfo"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:40,vars:9,consts:[[1,"component-wrap"],[3,"formGroup","connectForm"],[1,"table","table-bordered"],["width","25%"],["scope","row",1,"th-bg"],["formControlName","cancelAmount","valueType","number","inputFormat","number",3,"isInvalid"],[1,"button-area","align-r","mt5"],["type","button",1,"btn","btn-secondary","sm",3,"disabled","click"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"form",1),L.Wb(2,"div",2),L.Wb(3,"table"),L.Wb(4,"caption"),L.Pc(5," \uacb0\uc81c\ucde8\uc18c/\ud658\ubd88\uc694\uccad "),L.Vb(),L.Wb(6,"colgroup"),L.Rb(7,"col",3),L.Rb(8,"col"),L.Vb(),L.Wb(9,"tbody"),L.Wb(10,"tr"),L.Wb(11,"th",4),L.Wb(12,"sup"),L.Pc(13,"Type"),L.Vb(),L.Vb(),L.Wb(14,"td"),L.Pc(15),L.Vb(),L.Vb(),L.Wb(16,"tr"),L.Wb(17,"th",4),L.Wb(18,"sup"),L.Pc(19,"Approved Amounts"),L.Vb(),L.Vb(),L.Wb(20,"td"),L.Pc(21),L.Vb(),L.Vb(),L.Wb(22,"tr"),L.Wb(23,"th",4),L.Wb(24,"sup"),L.Pc(25,"RQ to Cancel Amounts"),L.Vb(),L.Vb(),L.Wb(26,"td"),L.Rb(27,"app-input-text",5),L.Vb(),L.Vb(),L.Wb(28,"tr"),L.Wb(29,"th",4),L.Wb(30,"sup"),L.Pc(31,"Balance"),L.Vb(),L.Vb(),L.Wb(32,"td"),L.Pc(33),L.ic(34,"number"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(35,"div",6),L.Wb(36,"button",7),L.fc("click",(function(){return t.onClickSave()})),L.Pc(37,"Payment Cancel"),L.Vb(),L.Wb(38,"button",8),L.fc("click",(function(){return t.onClose()})),L.Pc(39,"Close"),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(14),L.Qc(t.paymentType),L.Cb(6),L.Qc(t.paidAmount),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("cancelAmount")),L.Cb(6),L.Qc(L.jc(34,7,t.balanceAmount)),L.Cb(3),L.pc("disabled",t.isClickCancel))},directives:[I.B,I.s,I.k,J.a,ee.a,I.r,I.i],pipes:[k.f],encapsulation:2,changeDetection:0}),e})(),lq=(()=>{class e{constructor(e,t){this._dataService=e,this._alertService=t,this.submitEvent=new L.n,this.closeEvent=new L.n,this.putForm=e.generatePaymentCancelPutForm()}get penaltyInfo(){return this._penaltyInfo}set penaltyInfo(e){this._penaltyInfo=e,this.putFormData=this._setFormData(e)}get balanceAmount(){var e,t;return((null===(e=this.penaltyInfo)||void 0===e?void 0:e.paidSumAmount)||0)-((null===(t=this.putForm)||void 0===t?void 0:t.get("cancelAmount").value)||0)}ngOnInit(){}ngOnDestroy(){}checkIsInvalid(e){return this._checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}onClickSave(){if(this.putForm.invalid)return void(this._checkValid=!0);if(this.balanceAmount<0)return void this._alertService.alert("The cancellation amount exceeded the payment amount.");const{cancelAmount:e}=this.putForm.value,t=Object.assign(Object.assign({},this.putForm.value),{cancelAmount:-e,bookingItemCode:this.bookingItemCode,stationTypeCode:this.stationTypeCode});this.submitEvent.emit(t)}onClose(){this.closeEvent.emit()}onChenageAdjustReason(e){e?this.putForm.get("adjustReasonCode").enable():this.putForm.get("adjustReasonCode").disable()}_setFormData(e){const t=this._dataService.initPaymentCancelPutForm();if(Q.isNil(e))return t;const{bookingTravelerCode:n}=e;return Object.assign({},t,Q.pick(e,Object.keys(t)),{bookingTravelerCode:n,cancelAmount:(null==e?void 0:e.paidSumAmount)||0})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(US),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-payment-penalty-cancel-modal"]],inputs:{bookingItemCode:"bookingItemCode",stationTypeCode:"stationTypeCode",penaltyInfo:"penaltyInfo",adjustReasonList:"adjustReasonList"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:43,vars:11,consts:[[1,"component-wrap"],[3,"formGroup","connectForm"],[1,"table","table-bordered"],["width","25%"],["scope","row",1,"th-bg"],["colspan","2"],["formControlName","cancelAmount","valueType","number","inputFormat","number",3,"isInvalid"],[1,"form-group"],["label","\uc218\uc775\uc870\uc815",1,"mr5",3,"onChange"],["formControlName","adjustReasonCode","dataKey","detailCode","displayKey","detailCodeNameEn",3,"options"],[1,"button-area","align-r","mt5"],["type","button",1,"btn","btn-secondary","sm",3,"click"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"form",1),L.Wb(2,"div",2),L.Wb(3,"table"),L.Wb(4,"caption"),L.Pc(5," \uacb0\uc81c\ucde8\uc18c/\ud658\ubd88\uc694\uccad "),L.Vb(),L.Wb(6,"colgroup"),L.Rb(7,"col",3),L.Rb(8,"col",3),L.Rb(9,"col",3),L.Rb(10,"col",3),L.Vb(),L.Wb(11,"tbody"),L.Wb(12,"tr"),L.Wb(13,"th",4),L.Pc(14,"\uad6c\ubd84"),L.Vb(),L.Wb(15,"td"),L.Pc(16),L.Vb(),L.Rb(17,"td",5),L.Vb(),L.Wb(18,"tr"),L.Wb(19,"th",4),L.Pc(20,"\ucd5c\ucd08\uacb0\uc81c\uae08\uc561"),L.Vb(),L.Wb(21,"td"),L.Pc(22),L.ic(23,"number"),L.Vb(),L.Rb(24,"td",5),L.Vb(),L.Wb(25,"tr"),L.Wb(26,"th",4),L.Pc(27,"\ucde8\uc18c\uc694\uccad\uae08\uc561"),L.Vb(),L.Wb(28,"td"),L.Rb(29,"app-input-text",6),L.Vb(),L.Wb(30,"td",5),L.Wb(31,"div",7),L.Wb(32,"app-checkbox",8),L.fc("onChange",(function(e){return t.onChenageAdjustReason(e)})),L.Vb(),L.Rb(33,"app-selectbox",9),L.Vb(),L.Vb(),L.Vb(),L.Wb(34,"tr"),L.Wb(35,"th",4),L.Pc(36,"\uc794\uc561"),L.Vb(),L.Wb(37,"td",5),L.Pc(38),L.ic(39,"number"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(40,"div",10),L.Wb(41,"button",11),L.fc("click",(function(){return t.onClickSave()})),L.Pc(42,"\uc800\uc7a5"),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(15),L.Qc(null==t.penaltyInfo?null:t.penaltyInfo.chargeTypeName),L.Cb(6),L.Qc(L.jc(23,7,null==t.penaltyInfo?null:t.penaltyInfo.paidSumAmount)),L.Cb(7),L.pc("isInvalid",t.checkIsInvalid("cancelAmount")),L.Cb(4),L.pc("options",t.adjustReasonList),L.Cb(5),L.Qc(L.jc(39,9,t.balanceAmount)))},directives:[I.B,I.s,I.k,J.a,ee.a,I.r,I.i,Kt.a,Se.a],pipes:[k.f],encapsulation:2,changeDetection:0}),e})();function dq(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",5),L.fc("click",(function(){return L.Fc(e),L.hc().clickInvoiceEvent.emit()})),L.Pc(1,"Invoice"),L.Vb()}}function bq(e,t){if(1&e){const e=L.Xb();L.Wb(0,"button",5),L.fc("click",(function(){return L.Fc(e),L.hc().clickVoucherEvent.emit()})),L.Pc(1,"Voucher"),L.Vb()}}function uq(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"span",12),L.Pc(2),L.Vb(),L.Tb()),2&e){const e=t.$implicit;L.Cb(2),L.Sc("",null==e?null:e.ageTypeName," ",null==e?null:e.count,"")}}function pq(e,t){if(1&e&&(L.Wb(0,"span"),L.Pc(1),L.Vb()),2&e){const e=L.hc();L.Cb(1),L.Rc("(",null==e.bookingInfo?null:e.bookingInfo.serviceFromWeekday,")")}}let mq=(()=>{class e{constructor(){this.clickVoucherEvent=new L.n,this.clickInvoiceEvent=new L.n,this.clickDetailViewEvent=new L.n,this.clickOperationWebSiteEvent=new L.n,this.isActiveToggle=!0}get bookingInfoButtons(){var e;return(null===(e=this.bookingInfo)||void 0===e?void 0:e.buttons)||{}}onClickDetailView(){this.clickDetailViewEvent.emit()}onClickToggle(){this.isActiveToggle=!this.isActiveToggle}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-activity-booking-info"]],inputs:{bookingInfo:"bookingInfo"},outputs:{clickVoucherEvent:"clickVoucherEvent",clickInvoiceEvent:"clickInvoiceEvent",clickDetailViewEvent:"clickDetailViewEvent",clickOperationWebSiteEvent:"clickOperationWebSiteEvent"},decls:44,vars:9,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title"],[1,"control"],["class","btn btn-outline-dark sm",3,"click",4,"ngIf"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"table","table-bordered","table-responsive"],["width","130px"],["scope","row",1,"th-bg"],["colspan","3"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"mr10"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"a",2),L.Pc(3,"Booking Detail"),L.Vb(),L.Wb(4,"div",3),L.Nc(5,dq,2,0,"button",4),L.Nc(6,bq,2,0,"button",4),L.Wb(7,"button",5),L.fc("click",(function(){return t.onClickDetailView()})),L.Pc(8,"View Detail"),L.Vb(),L.Vb(),L.Vb(),L.Wb(9,"div",6),L.Wb(10,"table"),L.Wb(11,"caption"),L.Pc(12," Booking Detail "),L.Vb(),L.Wb(13,"colgroup"),L.Rb(14,"col",7),L.Rb(15,"col"),L.Vb(),L.Wb(16,"tbody"),L.Wb(17,"tr"),L.Wb(18,"th",8),L.Pc(19,"Country or City"),L.Vb(),L.Wb(20,"td"),L.Pc(21),L.Vb(),L.Vb(),L.Wb(22,"tr"),L.Wb(23,"th",8),L.Pc(24,"Activity Name"),L.Vb(),L.Wb(25,"td",9),L.Pc(26),L.Vb(),L.Vb(),L.Wb(27,"tr"),L.Wb(28,"th",8),L.Pc(29,"Option"),L.Vb(),L.Wb(30,"td",9),L.Pc(31),L.Vb(),L.Vb(),L.Wb(32,"tr"),L.Wb(33,"th",8),L.Pc(34,"Travelers or Quantity"),L.Vb(),L.Wb(35,"td"),L.Nc(36,uq,3,2,"ng-container",10),L.Vb(),L.Vb(),L.Wb(37,"tr"),L.Wb(38,"th",8),L.Pc(39,"Service From Date"),L.Vb(),L.Wb(40,"td"),L.Wb(41,"span"),L.Pc(42),L.Vb(),L.Nc(43,pq,2,1,"span",11),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(5),L.pc("ngIf",t.bookingInfoButtons.invoiceYn),L.Cb(1),L.pc("ngIf",t.bookingInfoButtons.voucherYn),L.Cb(15),L.Qc((null==t.bookingInfo?null:t.bookingInfo.cityNameLn)||(null==t.bookingInfo?null:t.bookingInfo.cityNameEn)),L.Cb(5),L.Sc("[",(null==t.bookingInfo?null:t.bookingInfo.activityMasterSeq)||"-","] ",(null==t.bookingInfo?null:t.bookingInfo.activityNameLn)||(null==t.bookingInfo?null:t.bookingInfo.activityNameEn),""),L.Cb(5),L.Qc((null==t.bookingInfo?null:t.bookingInfo.activityOptionNameLn)||(null==t.bookingInfo?null:t.bookingInfo.activityOptionNameEn)),L.Cb(5),L.pc("ngForOf",null==t.bookingInfo?null:t.bookingInfo.travelerCounts),L.Cb(6),L.Qc(null==t.bookingInfo?null:t.bookingInfo.serviceFromDate),L.Cb(1),L.pc("ngIf",null==t.bookingInfo?null:t.bookingInfo.serviceFromWeekday))},directives:[k.o,k.n],encapsulation:2,changeDetection:0}),e})();function hq(e,t){if(1&e){const e=L.Xb();L.Wb(0,"tr"),L.Wb(1,"td"),L.Wb(2,"app-radio",10),L.fc("ngModelChange",(function(t){return L.Fc(e),L.hc(2).selectedPaymentSeq=t}))("onClick",(function(){L.Fc(e);const t=L.hc().$implicit;return L.hc().onClickPayment(t)})),L.Vb(),L.Vb(),L.Wb(3,"td",11),L.Wb(4,"span"),L.Pc(5),L.Vb(),L.Vb(),L.Wb(6,"td",11),L.Pc(7),L.Vb(),L.Wb(8,"td",11),L.Wb(9,"a",12),L.fc("click",(function(){L.Fc(e);const t=L.hc().$implicit,n=L.hc();return n.onClickCardReceipt(t,n.bookingInfo)})),L.Pc(10),L.Vb(),L.Vb(),L.Wb(11,"td",11),L.Wb(12,"a",12),L.fc("click",(function(){L.Fc(e);const t=L.hc().$implicit,n=L.hc();return n.onClickCardReceipt(t,n.bookingInfo)})),L.Pc(13),L.Vb(),L.Vb(),L.Wb(14,"td",11),L.Pc(15),L.Vb(),L.Wb(16,"td",13),L.Pc(17),L.ic(18,"number"),L.Vb(),L.Vb()}if(2&e){const e=L.hc().$implicit,t=L.hc();L.Cb(2),L.pc("value",e.paymentSeq)("ngModel",t.selectedPaymentSeq),L.Cb(3),L.Qc(e.approvalOrCancel),L.Cb(2),L.Qc((null==e?null:e.depositTypeName)||(null==e?null:e.paidMethodName)),L.Cb(3),L.Qc(null==e?null:e.cardAccountInfo),L.Cb(3),L.Qc(null==e?null:e.approvalNo),L.Cb(1),L.Gb("color-red","C"===e.approvalOrCancel),L.Cb(1),L.Qc(null==e?null:e.paidDatetime),L.Cb(1),L.Gb("color-red","C"===e.approvalOrCancel),L.Cb(1),L.Qc(L.jc(18,12,null==e?null:e.paidAmount))}}function gq(e,t){if(1&e&&(L.Ub(0),L.Nc(1,hq,19,14,"tr",9),L.Tb()),2&e){const e=t.index,n=L.hc();L.Cb(1),L.pc("ngIf",n.isActiveToggle||0===e)}}function fq(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",14),L.Pc(3,"-"),L.Vb(),L.Vb(),L.Tb())}let vq=(()=>{class e{constructor(e){this.alertService=e,this.clickCreditCardCancelEvent=new L.n,this.clickCouponPointCancelEvent=new L.n,this.clickCashReceiptIssueEvent=new L.n,this.clickCashReceiptViewEvent=new L.n,this.clickPointPaymentEvent=new L.n,this.clickPaymentManualEvent=new L.n,this.selectPayment=new L.n,this.openCardReceiptEvent=new L.n,this.clickRefundRegisterEvent=new L.n,this.clickDeletePaymentEvent=new L.n,this.clickCreatePaymentEvent=new L.n,this.isActiveToggle=!0}get paymentButtons(){var e;return null===(e=this.paymentInfo)||void 0===e?void 0:e.buttons}get payments(){var e;return(null===(e=this.paymentInfo)||void 0===e?void 0:e.payments)||[]}get cashReceipts(){var e;return(null===(e=this.paymentInfo)||void 0===e?void 0:e.cashReceipts)||[]}get summary(){var e;return null===(e=this.paymentInfo)||void 0===e?void 0:e.summary}ngOnInit(){}ngOnDestroy(){}onClickToggle(){this.isActiveToggle=!this.isActiveToggle}onClickCreditCardCancel(){var e,t;if(!this.selectedPaymentSeq)return void this.alertService.alert("Please select the payment information to cancel first.");const n=Q.find(this.payments,e=>e.paymentSeq===this.selectedPaymentSeq);if("C"===n.approvalOrCancel)return void this.alertService.alert("The payment has already been canceled.");if("PGCI"===n.paidMethodCode)return void this.alertService.alert("Virtual accounts cannot be canceled.");if("CCCA"===n.paidMethodCode)return void this.alertService.alert("Cash is irrevocable.");if("CCGF"===n.paidMethodCode)return void this.alertService.alert("Gift certificates cannot be canceled. \nCancellation of registered gift certificate contents must be done by deleting, and refund must be done by manual registration.");if(Q.isNil(n.paidDatetime))return void this.alertService.alert("No amount has been authorized.");const{relatedPaymentSeq:i}=n;(null===(t=null===(e=this.payments)||void 0===e?void 0:e.filter(e=>e.relatedPaymentSeq===i))||void 0===t?void 0:t.reduce((e,t)=>e+t.paidAmount,0))<=0?this.alertService.alert("The payment has already been canceled and there are no payments left to cancel."):"CCCP"!==n.payOutDepositTypeName&&"CCPT"!==n.payOutDepositTypeName?this.clickCreditCardCancelEvent.emit():this.clickCouponPointCancelEvent.emit()}onClickCashReceiptIssue(){if(!this.selectedPaymentSeq)return void this.alertService.alert("Please select the payment information to issue the cash receipt first.");const e=Q.find(this.payments,e=>e.paymentSeq===this.selectedPaymentSeq);if("PGCI"!==e.depositTypeCode&&"CCCA"!==e.depositTypeCode&&"CCDP"!==e.depositTypeCode)return void this.alertService.alert("You can only issue cash receipts for payments made with cash, virtual accounts, gift certificates, and bank deposits.");const t=this.cashReceipts.reduce((e,t)=>(!1===t.cashReceiptCancelYn&&(e+=t.cashPaidAmount),e),0),n=this.payments.filter(t=>"PGCI"===t.payOutDepositTypeName||"CCCA"===t.payOutDepositTypeName||"CCGF"===t.payOutDepositTypeName||"CCDP"===e.payOutDepositTypeName).reduce((e,t)=>(Q.isNil(t.paidDatetime)||(e+=t.paidAmount),e),0);this.clickCashReceiptIssueEvent.emit(n-t)}onClickPayment(e){this.selectPayment.emit(e)}onClickPointPayment(){this.clickPointPaymentEvent.emit()}onClickPaymentManual(){this.clickPaymentManualEvent.emit()}onClickRefundRegister(){if(!this.selectedPaymentSeq)return void this.alertService.alert("Please select your payment information first.");const e=Q.find(this.payments,e=>e.paymentSeq===this.selectedPaymentSeq);Q.isNil(e.paidDatetime)?this.alertService.alert("Data that has not yet been paid for."):["CCDP","CCCA","CCGF","CCRP","PGCI","CCCC"].includes(e.paidMethodCode)?this.clickRefundRegisterEvent.emit():this.alertService.alert("Only the following payments can be manually registered for a refund: bank deposit, cash, gift certificate, bookkeeping alternative, virtual account, and card (in-person).")}onClickDeleteMapping(){this.alertService.alert("Preparing.")}onClickResolution(){this.alertService.alert("Preparing.")}onClickCardReceipt(e,t){const{paymentSeq:n}=e;this.openCardReceiptEvent.emit({paymentSeq:n,itemCategoryCode:"IC04",bookingInfo:t})}onClickDeletePayment(){if(!this.selectedPaymentSeq)return void this.alertService.alert("Select the payment information you want to delete first.");const e=Q.find(this.payments,e=>e.paymentSeq===this.selectedPaymentSeq),{paidMethodCode:t,paidDatetime:n,paymentSeq:i}=e;["CCDP","CCCA","CCCC","CCGF","CCRP"].includes(t)||"PGCI"===t&&Q.isNil(n)?this.clickDeletePaymentEvent.emit({paymentSeqs:[i]}):this.alertService.alert("You can only delete bank deposits, cash, card (in person), gift certificates, bookkeeping substitutions, or virtual accounts before payment.")}onClickCreatePayment(){if(!this.selectedPaymentSeq)return void this.alertService.alert("Select the payment information to generate the payment first.");const e=Q.find(this.payments,e=>e.paymentSeq===this.selectedPaymentSeq);this.clickCreatePaymentEvent.emit({resolutionMenuCode:"RSM08",resolutionTypeCode:"RTW06",paymentSeqs:[{paymentSeq:e.paymentSeq}]})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-activity-payment"]],inputs:{bookingInfo:"bookingInfo",paymentInfo:"paymentInfo",plFinishYn:"plFinishYn"},outputs:{clickCreditCardCancelEvent:"clickCreditCardCancelEvent",clickCouponPointCancelEvent:"clickCouponPointCancelEvent",clickCashReceiptIssueEvent:"clickCashReceiptIssueEvent",clickCashReceiptViewEvent:"clickCashReceiptViewEvent",clickPointPaymentEvent:"clickPointPaymentEvent",clickPaymentManualEvent:"clickPaymentManualEvent",selectPayment:"selectPayment",openCardReceiptEvent:"openCardReceiptEvent",clickRefundRegisterEvent:"clickRefundRegisterEvent",clickDeletePaymentEvent:"clickDeletePaymentEvent",clickCreatePaymentEvent:"clickCreatePaymentEvent"},decls:39,vars:2,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title"],[1,"control"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"table","table-bordered","table-responsive"],["width","43px"],["scope","col",1,"align-c"],[4,"ngFor","ngForOf"],[4,"ngIf"],["styleClass","only",3,"value","ngModel","ngModelChange","onClick"],[1,"align-c"],[1,"text-underline",3,"click"],[1,"align-r"],["colspan","11",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"a",2),L.Pc(3,"Payments"),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"button",4),L.fc("click",(function(){return t.onClickCreditCardCancel()})),L.Pc(6,"Payment Cancel"),L.Vb(),L.Wb(7,"button",4),L.fc("click",(function(){return t.onClickCashReceiptIssue()})),L.Pc(8,"Issue Cash Receipt"),L.Vb(),L.Vb(),L.Vb(),L.Wb(9,"div",5),L.Wb(10,"table"),L.Wb(11,"caption"),L.Pc(12," Payments "),L.Vb(),L.Wb(13,"colgroup"),L.Rb(14,"col",6),L.Rb(15,"col"),L.Rb(16,"col"),L.Rb(17,"col"),L.Rb(18,"col"),L.Rb(19,"col"),L.Rb(20,"col"),L.Vb(),L.Wb(21,"thead"),L.Wb(22,"tr"),L.Rb(23,"th",7),L.Wb(24,"th",7),L.Pc(25,"A/C"),L.Vb(),L.Wb(26,"th",7),L.Pc(27,"Payment Type"),L.Vb(),L.Wb(28,"th",7),L.Pc(29,"Detail Info"),L.Vb(),L.Wb(30,"th",7),L.Pc(31,"Approval No."),L.Vb(),L.Wb(32,"th",7),L.Pc(33,"App. or CXL Date"),L.Vb(),L.Wb(34,"th",7),L.Pc(35,"App. or CXL Amts"),L.Vb(),L.Vb(),L.Vb(),L.Wb(36,"tbody"),L.Nc(37,gq,2,1,"ng-container",8),L.Nc(38,fq,4,0,"ng-container",9),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(37),L.pc("ngForOf",t.payments),L.Cb(1),L.pc("ngIf",0===t.payments.length))},directives:[k.n,k.o,cS.a,I.r,I.u],pipes:[k.f],encapsulation:2,changeDetection:0}),e})(),Cq=(()=>{class e{constructor(){this.clickPgCardEvent=new L.n,this.clickPgBankEvent=new L.n,this.clickDetailViewEvent=new L.n,this.isActiveToggle=!0}get priceButtons(){var e;return(null===(e=this.price)||void 0===e?void 0:e.buttons)||{}}checkPrice(e){return null===e?"-":e}onClickToggle(){this.isActiveToggle=!this.isActiveToggle}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-activity-price"]],inputs:{price:"price"},outputs:{clickPgCardEvent:"clickPgCardEvent",clickPgBankEvent:"clickPgBankEvent",clickDetailViewEvent:"clickDetailViewEvent"},decls:61,vars:19,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title"],[1,"control"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"table","table-bordered","table-responsive"],["scope","col",1,"align-c"],[1,"align-r"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"a",2),L.Pc(3,"Selling Rate"),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"button",4),L.fc("click",(function(){return t.clickPgCardEvent.emit()})),L.Pc(6,"CC PG Manual"),L.Vb(),L.Wb(7,"button",4),L.fc("click",(function(){return t.clickPgBankEvent.emit()})),L.Pc(8,"Virtual Bank"),L.Vb(),L.Wb(9,"button",4),L.fc("click",(function(){return t.clickDetailViewEvent.emit()})),L.Pc(10,"View Detail"),L.Vb(),L.Vb(),L.Vb(),L.Wb(11,"div",5),L.Wb(12,"table"),L.Wb(13,"caption"),L.Pc(14," Selling Rate "),L.Vb(),L.Wb(15,"colgroup"),L.Rb(16,"col"),L.Rb(17,"col"),L.Rb(18,"col"),L.Rb(19,"col"),L.Rb(20,"col"),L.Rb(21,"col"),L.Rb(22,"col"),L.Vb(),L.Wb(23,"thead"),L.Wb(24,"tr"),L.Wb(25,"th",6),L.Pc(26,"B. Curr"),L.Vb(),L.Wb(27,"th",6),L.Pc(28,"B.Product"),L.Vb(),L.Wb(29,"th",6),L.Pc(30,"B. Promotion"),L.Vb(),L.Wb(31,"th",6),L.Pc(32,"B.CXL Charge"),L.Vb(),L.Wb(33,"th",6),L.Pc(34,"Delivery Fee"),L.Vb(),L.Wb(35,"th",6),L.Pc(36,"B.Sum"),L.Vb(),L.Wb(37,"th",6),L.Pc(38,"Balance"),L.Vb(),L.Vb(),L.Vb(),L.Wb(39,"tbody"),L.Wb(40,"tr"),L.Wb(41,"td",7),L.Pc(42),L.Vb(),L.Wb(43,"td",7),L.Pc(44),L.ic(45,"number"),L.Vb(),L.Wb(46,"td",7),L.Pc(47),L.ic(48,"number"),L.Vb(),L.Wb(49,"td",7),L.Pc(50),L.ic(51,"number"),L.Vb(),L.Wb(52,"td",7),L.Pc(53),L.ic(54,"number"),L.Vb(),L.Wb(55,"td",7),L.Pc(56),L.ic(57,"number"),L.Vb(),L.Wb(58,"td",7),L.Pc(59),L.ic(60,"number"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(42),L.Qc(null==t.price?null:t.price.billingCurrencyCode),L.Cb(2),L.Qc(L.jc(45,7,null==t.price?null:t.price.productAmount)),L.Cb(3),L.Qc(L.jc(48,9,null==t.price?null:t.price.discountAmount)),L.Cb(3),L.Qc(L.jc(51,11,null==t.price?null:t.price.cancelChargeAmount)),L.Cb(3),L.Qc(L.jc(54,13,null==t.price?null:t.price.deliveryAmount)),L.Cb(3),L.Qc(L.jc(57,15,null==t.price?null:t.price.sumAmount)),L.Cb(3),L.Qc(L.jc(60,17,null==t.price?null:t.price.balanceAmount)))},pipes:[k.f],encapsulation:2,changeDetection:0}),e})();function yq(e,t){1&e&&(L.Wb(0,"p",22),L.Pc(1," | [Affiliate]"),L.Vb())}function kq(e,t){if(1&e&&(L.Wb(0,"dd"),L.Pc(1),L.Vb()),2&e){const e=L.hc();L.Cb(1),L.Sc("",null==e.basicInfo?null:e.basicInfo.deliveryMethodName," | ",null==e.basicInfo?null:e.basicInfo.deliveryStatusName,"")}}let Iq=(()=>{class e{constructor(){this.clickDetailViewEvent=new L.n,this.clickRetrieveEvent=new L.n,this.clickMypageEvent=new L.n,this.clickUmsEvent=new L.n,this.clickConsultingEvent=new L.n,this.clickMemoEvent=new L.n,this.clickChangeLogEvent=new L.n,this.clickCheckProdState=new L.n,this.clickCancelEvent=new L.n,this.clickPaymentEvent=new L.n}get summaryButtons(){var e;return(null===(e=this.summary)||void 0===e?void 0:e.buttons)||{}}onClickDetailView(){this.clickDetailViewEvent.emit()}onClickRetrieve(){this.clickRetrieveEvent.emit()}onClickMyPage(){this.clickMypageEvent.emit()}onClickUms(){this.clickUmsEvent.emit()}onClickConsulting(){this.clickConsultingEvent.emit()}onClickMemo(){this.clickMemoEvent.emit()}onClickChangeLog(){this.clickChangeLogEvent.emit()}onClickCancel(){this.clickCancelEvent.emit()}onDblclickBookingItemCode(){const e=document.getElementById("booking-item-code"),t=window.getSelection();t.removeAllRanges();const n=document.createRange();n.selectNodeContents(e),t.addRange(n)}isConfirmedBooking(){var e;return"BKS06"===(null===(e=this.summary)||void 0===e?void 0:e.bookingStatusCode)}onClickPayment(){this.clickPaymentEvent.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-activity-summary"]],inputs:{summary:"summary",plFinishYn:"plFinishYn",freeNonCancelableYn:"freeNonCancelableYn",bookingItemCode:"bookingItemCode",bookingInfo:"bookingInfo",basicInfo:"basicInfo"},outputs:{clickDetailViewEvent:"clickDetailViewEvent",clickRetrieveEvent:"clickRetrieveEvent",clickMypageEvent:"clickMypageEvent",clickUmsEvent:"clickUmsEvent",clickConsultingEvent:"clickConsultingEvent",clickMemoEvent:"clickMemoEvent",clickChangeLogEvent:"clickChangeLogEvent",clickCheckProdState:"clickCheckProdState",clickCancelEvent:"clickCancelEvent",clickPaymentEvent:"clickPaymentEvent"},decls:74,vars:15,consts:[[1,"reservation-summary"],[1,"summary-header"],[1,"title"],[1,"form-group"],["id","booking-item-code",3,"dblclick"],[1,"font-size-xs","ml5"],["class","color-danger font-size-xs ml5",4,"ngIf"],[1,"font-size-xs",2,"text-align","right"],[1,"label-text"],[1,"color-danger"],[1,"summary-body"],[1,"frame-wrap","both"],[1,"frame"],[1,"dl-summary"],[1,"font-weight-bold"],[4,"ngIf"],[1,"label","square","mark","mr5"],[1,"align-m"],[1,"control-button-group",2,"padding-top","50px"],[1,"btn","btn-light",3,"click"],[1,"color-red"],[1,"btn","btn-reset","align-r","sm",3,"disabled","click"],[1,"color-danger","font-size-xs","ml5"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"div",2),L.Wb(3,"div",3),L.Wb(4,"span",4),L.fc("dblclick",(function(){return t.onDblclickBookingItemCode()})),L.Pc(5),L.Vb(),L.Wb(6,"p",5),L.Pc(7),L.Vb(),L.Nc(8,yq,2,0,"p",6),L.Vb(),L.Vb(),L.Wb(9,"div",7),L.Wb(10,"span",8),L.Pc(11),L.Vb(),L.Rb(12,"br"),L.Wb(13,"span",8),L.Pc(14,"Cancel Date "),L.Wb(15,"span",9),L.Pc(16),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(17,"div",10),L.Wb(18,"div",11),L.Wb(19,"div",12),L.Wb(20,"dl",13),L.Wb(21,"dt"),L.Pc(22,"Vendor"),L.Vb(),L.Wb(23,"dd"),L.Pc(24),L.Wb(25,"span",14),L.Pc(26,"|"),L.Vb(),L.Pc(27),L.Vb(),L.Vb(),L.Wb(28,"dl",13),L.Wb(29,"dt"),L.Pc(30,"Vendor Booking Code"),L.Vb(),L.Wb(31,"dd"),L.Pc(32),L.Vb(),L.Vb(),L.Wb(33,"dl",13),L.Wb(34,"dt"),L.Pc(35,"Delivery"),L.Vb(),L.Nc(36,kq,2,2,"dd",15),L.Vb(),L.Vb(),L.Wb(37,"div",12),L.Wb(38,"dl",13),L.Wb(39,"dt"),L.Pc(40,"Booking Status"),L.Vb(),L.Wb(41,"dd"),L.Pc(42),L.Vb(),L.Vb(),L.Wb(43,"dl",13),L.Wb(44,"dt"),L.Pc(45,"Client CXL D/L"),L.Vb(),L.Wb(46,"dd"),L.Pc(47),L.Vb(),L.Vb(),L.Wb(48,"dl",13),L.Wb(49,"dt"),L.Wb(50,"span",16),L.Pc(51,"C"),L.Vb(),L.Wb(52,"span",17),L.Pc(53,"Payment Status"),L.Vb(),L.Vb(),L.Wb(54,"dd"),L.Pc(55),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(56,"div",18),L.Wb(57,"button",19),L.fc("click",(function(){return t.onClickConsulting()})),L.Pc(58," 1:1 ("),L.Wb(59,"span",20),L.Pc(60),L.Vb(),L.Pc(61),L.Vb(),L.Wb(62,"button",19),L.fc("click",(function(){return t.onClickMemo()})),L.Pc(63,"Remark"),L.Vb(),L.Wb(64,"button",19),L.fc("click",(function(){return t.onClickUms()})),L.Pc(65,"UMS"),L.Vb(),L.Wb(66,"button",19),L.fc("click",(function(){return t.onClickChangeLog()})),L.Pc(67,"History"),L.Vb(),L.Wb(68,"button",19),L.fc("click",(function(){return t.onClickDetailView()})),L.Pc(69,"Basic & CXL Policy"),L.Vb(),L.Wb(70,"button",19),L.fc("click",(function(){return t.onClickPayment()})),L.Pc(71,"V.Payment"),L.Vb(),L.Wb(72,"button",21),L.fc("click",(function(){return t.onClickCancel()})),L.Pc(73,"Cancel"),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(5),L.Qc(t.bookingItemCode||"-"),L.Cb(2),L.Qc(null==t.summary?null:t.summary.stationTypeName),L.Cb(1),L.pc("ngIf",null==t.summary?null:t.summary.sellerLinkId),L.Cb(3),L.Rc("Booking Date ",null==t.summary?null:t.summary.bookedDatetime,""),L.Cb(5),L.Qc(null==t.basicInfo?null:t.basicInfo.cancelDateTime),L.Cb(8),L.Rc("",null==t.basicInfo?null:t.basicInfo.vendorCompCode," "),L.Cb(3),L.Rc(" ",null==t.summary?null:t.summary.vendorCompName," "),L.Cb(5),L.Qc(null==t.basicInfo?null:t.basicInfo.vendorBookingCode),L.Cb(4),L.pc("ngIf",null==t.basicInfo?null:t.basicInfo.deliveryMethodName),L.Cb(6),L.Qc(null==t.basicInfo?null:t.basicInfo.bookingStatusName),L.Cb(5),L.Qc(null==t.basicInfo?null:t.basicInfo.clientCancelDeadline),L.Cb(8),L.Qc(null==t.basicInfo?null:t.basicInfo.clientPaymentStatusName),L.Cb(5),L.Qc(null==t.summary||null==t.summary.buttons?null:t.summary.buttons.notAnsweredCount),L.Cb(1),L.Rc("/",null==t.summary||null==t.summary.buttons?null:t.summary.buttons.consultingCount,") "),L.Cb(11),L.pc("disabled","BKS03"===(null==t.summary?null:t.summary.bookingStatusCode)))},directives:[k.o],encapsulation:2,changeDetection:0}),e})();function Oq(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",7),L.Pc(3),L.Vb(),L.Wb(4,"td",7),L.Pc(5),L.Vb(),L.Wb(6,"td",7),L.Pc(7),L.Vb(),L.Wb(8,"td",7),L.Pc(9),L.Vb(),L.Wb(10,"td",7),L.Pc(11),L.Vb(),L.Wb(12,"td",7),L.Pc(13),L.Vb(),L.Vb(),L.Tb()),2&e){const e=t.$implicit;L.Cb(3),L.Qc(e.travelerSeq),L.Cb(2),L.Qc(e.ageTypeName),L.Cb(2),L.Qc(e.gender),L.Cb(2),L.Qc(e.name),L.Cb(2),L.Sc("",e.lastName||"-"," / ",e.firstName||"-",""),L.Cb(2),L.Qc(e.birthday)}}function Pq(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",8),L.Pc(3,"-"),L.Vb(),L.Vb(),L.Tb())}let jq=(()=>{class e{constructor(){this.clickDetailViewEvent=new L.n,this.isActiveToggle=!0}ngOnInit(){}onClickToggle(){this.isActiveToggle=!this.isActiveToggle}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-activity-traveler"]],inputs:{travelers:"travelers"},outputs:{clickDetailViewEvent:"clickDetailViewEvent"},decls:32,vars:2,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title"],[1,"table","table-bordered","table-responsive"],["scope","col",1,"align-c"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"align-c"],["colspan","6",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"a",2),L.Pc(3,"Travelers"),L.Vb(),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," Travelers "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Rb(13,"col"),L.Rb(14,"col"),L.Vb(),L.Wb(15,"thead"),L.Wb(16,"tr"),L.Wb(17,"th",4),L.Pc(18,"No."),L.Vb(),L.Wb(19,"th",4),L.Pc(20,"Age Type"),L.Vb(),L.Wb(21,"th",4),L.Pc(22,"Gender"),L.Vb(),L.Wb(23,"th",4),L.Pc(24,"Name(Local)"),L.Vb(),L.Wb(25,"th",4),L.Pc(26,"Last Name / First Name(EN)"),L.Vb(),L.Wb(27,"th",4),L.Pc(28,"Child Birthday"),L.Vb(),L.Vb(),L.Vb(),L.Wb(29,"tbody"),L.Nc(30,Oq,14,7,"ng-container",5),L.Nc(31,Pq,4,0,"ng-container",6),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(30),L.pc("ngForOf",t.travelers),L.Cb(1),L.pc("ngIf",(null==t.travelers?null:t.travelers.length)<1))},directives:[k.n,k.o],encapsulation:2,changeDetection:0}),e})();function Vq(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",9),L.Pc(3),L.Vb(),L.Wb(4,"td",9),L.Pc(5),L.Vb(),L.Wb(6,"td",9),L.Wb(7,"span"),L.Pc(8),L.Vb(),L.Vb(),L.Wb(9,"td",9),L.Wb(10,"span"),L.Pc(11),L.Vb(),L.Vb(),L.Vb(),L.Tb()),2&e){const e=t.$implicit,n=t.index;L.Cb(3),L.Qc(n+1),L.Cb(2),L.Qc(e.infoName),L.Cb(3),L.Qc(e.bookingTravelerName),L.Cb(3),L.Qc(e.insertValue)}}function Aq(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",10),L.Pc(3,"-"),L.Vb(),L.Vb(),L.Tb())}let Wq=(()=>{class e{constructor(){this.clickDetailViewEvent=new L.n,this.isActiveToggle=!0}ngOnInit(){}onClickToggle(){this.isActiveToggle=!this.isActiveToggle}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-activity-needed-info"]],inputs:{neededInfo:"neededInfo"},outputs:{clickDetailViewEvent:"clickDetailViewEvent"},decls:27,vars:2,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title"],[1,"control"],[1,"table","table-bordered","table-responsive"],["width","10%"],["scope","col",1,"align-c"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"align-c"],["colspan","4",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"a",2),L.Pc(3,"Additional Info"),L.Vb(),L.Rb(4,"div",3),L.Vb(),L.Wb(5,"div",4),L.Wb(6,"table"),L.Wb(7,"caption"),L.Pc(8," Additional Info "),L.Vb(),L.Wb(9,"colgroup"),L.Rb(10,"col",5),L.Rb(11,"col"),L.Rb(12,"col"),L.Rb(13,"col"),L.Vb(),L.Wb(14,"thead"),L.Wb(15,"tr"),L.Wb(16,"th",6),L.Pc(17,"No."),L.Vb(),L.Wb(18,"th",6),L.Pc(19,"Type"),L.Vb(),L.Wb(20,"th",6),L.Pc(21,"Name(Local)"),L.Vb(),L.Wb(22,"th",6),L.Pc(23,"Added Info"),L.Vb(),L.Vb(),L.Vb(),L.Wb(24,"tbody"),L.Nc(25,Vq,12,4,"ng-container",7),L.Nc(26,Aq,4,0,"ng-container",8),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(25),L.pc("ngForOf",t.neededInfo),L.Cb(1),L.pc("ngIf",!t.neededInfo||t.neededInfo.length<1))},directives:[k.n,k.o],encapsulation:2,changeDetection:0}),e})();function Rq(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"A"),L.Vb())}function Fq(e,t){1&e&&(L.Wb(0,"span"),L.Pc(1,"C"),L.Vb())}function Sq(e,t){if(1&e){const e=L.Xb();L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td"),L.Wb(3,"app-radio",10),L.fc("ngModelChange",(function(t){return L.Fc(e),L.hc().selectedReceiptSeq=t})),L.Vb(),L.Vb(),L.Wb(4,"td",11),L.Nc(5,Rq,2,0,"span",9),L.Nc(6,Fq,2,0,"span",9),L.Vb(),L.Wb(7,"td",12),L.Pc(8),L.ic(9,"number"),L.Vb(),L.Wb(10,"td",11),L.Pc(11),L.Vb(),L.Wb(12,"td",11),L.Wb(13,"a",13),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc().onClickOpenReceipt(null==n?null:n.receiptSeq)})),L.Pc(14),L.Vb(),L.Vb(),L.Wb(15,"td",11),L.Pc(16),L.Vb(),L.Vb(),L.Tb()}if(2&e){const e=t.$implicit,n=L.hc();L.Cb(3),L.pc("value",e.receiptSeq)("ngModel",n.selectedReceiptSeq),L.Cb(1),L.Gb("color-red",!0===(null==e?null:e.cashReceiptCancelYn)),L.Cb(1),L.pc("ngIf",!1===(null==e?null:e.cashReceiptCancelYn)),L.Cb(1),L.pc("ngIf",!0===(null==e?null:e.cashReceiptCancelYn)),L.Cb(1),L.Gb("color-red",!0===(null==e?null:e.cashReceiptCancelYn)),L.Cb(1),L.Qc(L.jc(9,14,null==e?null:e.cashPaidAmount)),L.Cb(2),L.Gb("color-red",!0===(null==e?null:e.cashReceiptCancelYn)),L.Cb(1),L.Qc(null==e?null:e.issueDatetime),L.Cb(3),L.Qc(null==e?null:e.approvalNo),L.Cb(2),L.Qc(null==e?null:e.firstInsertName)}}function Tq(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",14),L.Pc(3,"-"),L.Vb(),L.Vb(),L.Tb())}let Nq=(()=>{class e{constructor(e){this.alertService=e,this.clickCashReceiptCancelEvent=new L.n,this.openReceiptEvent=new L.n,this.isActiveToggle=!0}get paymentButtons(){var e;return null===(e=this.paymentInfo)||void 0===e?void 0:e.buttons}get cashReceipts(){var e;return(null===(e=this.paymentInfo)||void 0===e?void 0:e.cashReceipts)||[]}ngOnInit(){}ngOnDestroy(){}onClickToggle(){this.isActiveToggle=!this.isActiveToggle}onClickCashReceiptCancel(){this.selectedReceiptSeq?this.clickCashReceiptCancelEvent.emit({receiptSeqs:[this.selectedReceiptSeq]}):this.alertService.alert("Please select the payment information to cancel the cash receipt first.")}onClickOpenReceipt(e){Q.isNil(e)?this.alertService.alert("There is no data to look up cash receipts."):this.openReceiptEvent.emit({receiptSeq:e})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-activity-cash-receipts"]],inputs:{paymentInfo:"paymentInfo"},outputs:{clickCashReceiptCancelEvent:"clickCashReceiptCancelEvent",openReceiptEvent:"openReceiptEvent"},decls:34,vars:2,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title"],[1,"control"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"table","table-bordered","table-responsive"],["width","42px"],["scope","col",1,"align-c"],[4,"ngFor","ngForOf"],[4,"ngIf"],["styleClass","only",3,"value","ngModel","ngModelChange"],[1,"align-c"],[1,"align-r"],[1,"text-underline",3,"click"],["colspan","6",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"a",2),L.Pc(3,"Cash Receipt Issued List"),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"button",4),L.fc("click",(function(){return t.onClickCashReceiptCancel()})),L.Pc(6,"Cancel"),L.Vb(),L.Vb(),L.Vb(),L.Wb(7,"div",5),L.Wb(8,"table"),L.Wb(9,"caption"),L.Pc(10," Cash Receipt Issued List "),L.Vb(),L.Wb(11,"colgroup"),L.Rb(12,"col",6),L.Rb(13,"col"),L.Rb(14,"col"),L.Rb(15,"col"),L.Rb(16,"col"),L.Rb(17,"col"),L.Vb(),L.Wb(18,"thead"),L.Wb(19,"tr"),L.Rb(20,"th",7),L.Wb(21,"th",7),L.Pc(22,"Status"),L.Vb(),L.Wb(23,"th",7),L.Pc(24,"App/CXL Amts"),L.Vb(),L.Wb(25,"th",7),L.Pc(26,"Issued/CXL Date"),L.Vb(),L.Wb(27,"th",7),L.Pc(28,"Approval No."),L.Vb(),L.Wb(29,"th",7),L.Pc(30,"User"),L.Vb(),L.Vb(),L.Vb(),L.Wb(31,"tbody"),L.Nc(32,Sq,17,16,"ng-container",8),L.Nc(33,Tq,4,0,"ng-container",9),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(32),L.pc("ngForOf",t.cashReceipts),L.Cb(1),L.pc("ngIf",0===t.cashReceipts.length))},directives:[k.n,k.o,cS.a,I.r,I.u],pipes:[k.f],encapsulation:2,changeDetection:0}),e})(),Eq=(()=>{class e{constructor(){this.submitEvent=new L.n,this.closeEvent=new L.n}ngOnInit(){}ngOnDestroy(){}onClickBookingCancel(){this.submitEvent.emit({bookingItemCode:this.bookingItemCode})}onClose(){this.closeEvent.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-activity-cancel-modal"]],inputs:{bookingItemCode:"bookingItemCode",cancelChargeAmount:"cancelChargeAmount"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:12,vars:0,consts:[[1,"component-wrap"],[1,"align-c","pt20","pb20"],[1,"font-weight-bold","font-size-lg"],[1,"button-area","align-c","mt10"],["type","button",1,"btn","btn-secondary","sm",3,"click"],["cancelButton",""],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"p",2),L.Pc(3," Are you sure you want to cancel this booking? "),L.Rb(4,"br"),L.Pc(5," If it was cancelled, it could not to be revert to origin "),L.Vb(),L.Vb(),L.Wb(6,"div",3),L.Wb(7,"button",4,5),L.fc("click",(function(){return t.onClickBookingCancel()})),L.Pc(9,"Cancel"),L.Vb(),L.Wb(10,"button",6),L.fc("click",(function(){return t.onClose()})),L.Pc(11,"Close"),L.Vb(),L.Vb(),L.Vb())},encapsulation:2,changeDetection:0}),e})();function Mq(e,t){1&e&&(L.Ub(0),L.Pc(1," ONLINE "),L.Tb())}function Dq(e,t){1&e&&(L.Ub(0),L.Pc(1," OFFLINE "),L.Tb())}function Lq(e,t){1&e&&(L.Wb(0,"button",19),L.Pc(1,"Save"),L.Vb())}const _q=function(){return{compCode:11e4,userTypeCode:"U01"}},$q=function(){return["userNo","name","deptName","positionName"]};let Bq=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.submitEvent=new L.n,this._$unsubscribe=new Fe.a,this.putForm=e.generateBasisPutForm(),this._initSubscription()}get basicInfo(){return this._basicInfo}set basicInfo(e){this._basicInfo=e,this.putFormData=this._setPutFormData(e)}get bookingPicInputValue(){var e,t,n;return this.basicInfo&&(null===(e=this.basicInfo)||void 0===e?void 0:e.bookingPicUno)?`${null===(t=this.basicInfo)||void 0===t?void 0:t.bookingPicName}(${null===(n=this.basicInfo)||void 0===n?void 0:n.bookingPicUno})`:null}get bookerCompInputValue(){var e,t,n;return this.basicInfo&&(null===(e=this.basicInfo)||void 0===e?void 0:e.bookerCompCode)?`${null===(t=this.basicInfo)||void 0===t?void 0:t.bookerCompName} - ${null===(n=this.basicInfo)||void 0===n?void 0:n.bookerCompCode}`:null}ngOnInit(){this.checkValid=!1}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete()}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}onSubmit(){if(this.putForm.invalid)return void(this.checkValid=!0);const e=this._setPutCondition();this.submitEvent.emit(e)}onSelectPic(e){this.putForm.get("bookingPicName").setValue(e.name)}_setPutFormData(e){const t=this._dataService.initBasisPutForm();if(Q.isNil(e))return t;const n={clientCancelDeadlineDate:null,clientCancelDeadlineTime:null,vendorCancelDeadlineDate:null,vendorCancelDeadlineTime:null};return e.clientCancelDeadline&&(n.clientCancelDeadlineDate=K()(e.clientCancelDeadline).format("YYYY-MM-DD"),n.clientCancelDeadlineTime=K()(e.clientCancelDeadline).format("HH:mm")),e.vendorCancelDeadline&&(n.vendorCancelDeadlineDate=K()(e.vendorCancelDeadline).format("YYYY-MM-DD"),n.vendorCancelDeadlineTime=K()(e.vendorCancelDeadline).format("HH:mm")),Object.assign({},t,Q.pick(e,Object.keys(t)),n)}_setPutCondition(){const e=this._dataService.initBasisPutCondition(),t=this.putForm.value,n=Object.assign({},Q.pick(t,Object.keys(e)));return console.log(t,n,e,"condition"),t.clientCancelDeadlineDate&&(n.clientCancelDeadline=`${t.clientCancelDeadlineDate} ${t.clientCancelDeadlineTime||"00:00"}:00`),Q.omitBy(n,Q.isNil)}_checkValidBookingStatusCode(){const{bookingStatusCode:e}=this.basicInfo,t=this.putForm.get("bookingStatusCode").value;let n="",i=!0;return e===t||("BKS12"===e?"BKS14"!==t&&(i=!1,n="If you are a refund requestor, you can only change your booking to Refunded."):"BKS14"===e&&(i=!1,n="You can't change the status of a fully refunded booking.")),{msg:n,isValid:i}}_initSubscription(){this.putForm.get("bookingPicUno").valueChanges.pipe(Object(Ci.a)(this._$unsubscribe)).subscribe(e=>{Q.isNil(e)&&this.putForm.get("bookingPicName").setValue(null)})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(GS),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-activity-basis-info"]],inputs:{bookingItemCode:"bookingItemCode",plFinishYn:"plFinishYn",bookingInfo:"bookingInfo",clientPaymentStatusList:"clientPaymentStatusList",basicInfo:"basicInfo",bookingStatusList:"bookingStatusList",bookingUnableReasonList:"bookingUnableReasonList"},outputs:{submitEvent:"submitEvent"},decls:53,vars:21,consts:[[1,"page-item-header"],[1,"title"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered","table-responsive"],["width","160px"],["scope","row",1,"th-bg"],["colspan","3"],[4,"ngIf"],["formControlName","bookingPicUno","apiUrl","admin/common/staff","dataKey","userNo","inputFieldFormat","{0}-{1}&,{2}&,{3}","placeholder","Name",3,"inputFieldValue","apiCondition","apiSearchTerm","inputFieldFormatKeyList","isInvalid","onSelect"],[1,"form-group"],[1,"input","calendar",2,"flex","2 1","min-width","140px"],[3,"for"],["type","text","placeholder","YYYY-MM-DD","formControlName","clientCancelDeadlineDate",3,"matDatepicker"],["clientCancelDeadlineDatePicker",""],["formControlName","clientCancelDeadlineTime","dataType","string","inputFormat","time",2,"min-width","50px",3,"isInvalid"],[1,"d-flex","align-items-center",2,"padding-left","10px"],["formControlName","clientNonRefundableYn","binary","true"],[1,"button-area","align-r","mt10"],["type","submit","class","btn btn-secondary sm",4,"ngIf"],["type","submit",1,"btn","btn-secondary","sm"]],template:function(e,t){if(1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Basic Information"),L.Vb(),L.Vb(),L.Wb(3,"form",2),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," Basic Information "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col",4),L.Rb(10,"col"),L.Vb(),L.Wb(11,"tbody"),L.Wb(12,"tr"),L.Wb(13,"th",5),L.Pc(14,"Domain"),L.Vb(),L.Wb(15,"td",6),L.Pc(16),L.Vb(),L.Vb(),L.Wb(17,"tr"),L.Wb(18,"th",5),L.Pc(19,"Device / On OFF"),L.Vb(),L.Wb(20,"td",6),L.Pc(21),L.Nc(22,Mq,2,0,"ng-container",7),L.Nc(23,Dq,2,0,"ng-container",7),L.Vb(),L.Vb(),L.Wb(24,"tr"),L.Wb(25,"th",5),L.Wb(26,"sup"),L.Pc(27,"Booking Cancel Date / User"),L.Vb(),L.Vb(),L.Wb(28,"td"),L.Pc(29),L.Vb(),L.Vb(),L.Wb(30,"tr"),L.Wb(31,"th",5),L.Wb(32,"sup"),L.Pc(33,"Booking PIC"),L.Vb(),L.Vb(),L.Wb(34,"td"),L.Wb(35,"app-auto-complete",8),L.fc("onSelect",(function(e){return t.onSelectPic(e)})),L.Vb(),L.Vb(),L.Vb(),L.Wb(36,"tr"),L.Wb(37,"th",5),L.Pc(38,"Client Cancellation D/L"),L.Vb(),L.Wb(39,"td"),L.Wb(40,"div",9),L.Wb(41,"div",10),L.Rb(42,"mat-datepicker-toggle",11),L.Rb(43,"input",12),L.Rb(44,"mat-datepicker",null,13),L.Vb(),L.Rb(46,"app-input-text",14),L.Wb(47,"div",15),L.Rb(48,"app-checkbox",16),L.Wb(49,"span"),L.Pc(50,"Non Refundable"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(51,"div",17),L.Nc(52,Lq,2,0,"button",18),L.Vb(),L.Vb()),2&e){const e=L.Ec(45);L.Cb(3),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(13),L.Rc(" ",null==t.basicInfo?null:t.basicInfo.bookingOccurDomain," "),L.Cb(5),L.Rc(" ",null==t.basicInfo?null:t.basicInfo.deviceTypeCode,"/ "),L.Cb(1),L.pc("ngIf","O"===(null==t.basicInfo?null:t.basicInfo.onOffManual)),L.Cb(1),L.pc("ngIf","F"===(null==t.basicInfo?null:t.basicInfo.onOffManual)),L.Cb(6),L.Sc(" ",(null==t.basicInfo?null:t.basicInfo.cancelDateTime)||"-"," / ",(null==t.basicInfo?null:t.basicInfo.cancelUserName)||"-"," "),L.Cb(6),L.pc("inputFieldValue",t.bookingPicInputValue)("apiCondition",L.tc(19,_q))("apiSearchTerm","name")("inputFieldFormatKeyList",L.tc(20,$q))("isInvalid",t.checkIsInvalid("bookingPicUno")),L.Cb(6),L.Gb("valid-error",t.checkIsInvalid("clientCancelDeadlineDate")),L.Cb(1),L.pc("for",e),L.Cb(1),L.pc("matDatepicker",e),L.Cb(3),L.pc("isInvalid",t.checkIsInvalid("clientCancelDeadlineTime")),L.Cb(6),L.pc("ngIf",!t.plFinishYn)}},directives:[I.B,I.s,I.k,J.a,k.o,ne.a,I.r,I.i,UW.a,I.c,QW.a,GW.a,ee.a,Kt.a],encapsulation:2,changeDetection:0}),e})();function wq(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"p"),L.Pc(2),L.Wb(3,"strong",7),L.Pc(4),L.ic(5,"number"),L.Vb(),L.Vb(),L.Tb()),2&e){const e=t.$implicit;L.Cb(2),L.Uc("",e.cancelFromDate," ",e.cancelFromTime," ~ ",e.cancelToDate," ",e.cancelToTime," "),L.Cb(2),L.Sc("",e.currencyCode," ",L.jc(5,6,e.cancelChargeAmount),"")}}function xq(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"p"),L.Pc(2),L.Wb(3,"strong",7),L.Pc(4),L.ic(5,"number"),L.Vb(),L.Vb(),L.Tb()),2&e){const e=t.$implicit;L.Cb(2),L.Uc("",e.cancelFromDate," ",e.cancelFromTime," ~ ",e.cancelToDate," ",e.cancelToTime," "),L.Cb(2),L.Sc("",e.currencyCode," ",L.jc(5,6,e.cancelChargeAmount),"")}}let Yq=(()=>{class e{constructor(e){this._dataService=e,this.submitEvent=new L.n,this.putForm=e.generateCancelPolicyForm()}get cancelPolicy(){return this._cancelPolicy}set cancelPolicy(e){e&&(this._cancelPolicy=e,this._resetPutFormWithFormArray(e),this.putFormData=this._setFormData(e))}get clientCancelPolicies(){return this.putForm.get("clientCancelPolicies")}get vendorCancelPolicies(){return this.putForm.get("vendorCancelPolicies")}ngOnInit(){}onSubmit(){this.submitEvent.emit(this._setPutCondition()),console.log(this._setPutCondition())}_setFormData(e){const t=this._dataService.initCancelPolicyForm();return Object.assign({},t,Q.pick(e,Object.keys(t)))}_setPutCondition(){const e=this._dataService.initCancelPolicyPutCondition();return Object.assign({},Q.pick(this.putForm.value,Object.keys(e)))}_resetPutFormWithFormArray(e){const{clientCancelPolicies:t,vendorCancelPolicies:n}=e;(null==t?void 0:t.length)>0&&this.putForm.setControl("clientCancelPolicies",this._dataService.generateCancelPolicyInfoFormArray(t)),(null==n?void 0:n.length)>0&&this.putForm.setControl("vendorCancelPolicies",this._dataService.generateCancelPolicyInfoFormArray(n)),0===(null==t?void 0:t.length)&&0===(null==n?void 0:n.length)&&this.putForm.get("cancelChargeDesc").disable()}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(GS))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-activity-basis-rule"]],inputs:{plFinishYn:"plFinishYn",bookingInfo:"bookingInfo",cancelPolicy:"cancelPolicy"},outputs:{submitEvent:"submitEvent"},decls:43,vars:8,consts:[[1,"page-item",3,"formGroup","connectForm","ngSubmit"],[1,"page-item-header"],[1,"title"],[1,"table","table-bordered","table-responsive"],["scope","col"],[4,"ngFor","ngForOf"],[1,"ml5","mr5"],[1,"ml10"]],template:function(e,t){1&e&&(L.Wb(0,"form",0),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(1,"div",1),L.Wb(2,"p",2),L.Pc(3,"Cancellation Policy"),L.Vb(),L.Vb(),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," Cancellation Policy "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col"),L.Rb(10,"col"),L.Vb(),L.Wb(11,"thead"),L.Wb(12,"tr"),L.Wb(13,"th",4),L.Pc(14,"Client"),L.Wb(15,"span"),L.Pc(16),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(17,"tbody"),L.Wb(18,"tr"),L.Wb(19,"td"),L.Nc(20,wq,6,8,"ng-container",5),L.Rb(21,"br"),L.Wb(22,"span",6),L.Pc(23,"After check in date, it will be full stay charge"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(24,"table"),L.Wb(25,"caption"),L.Pc(26," Cancellation Policy "),L.Vb(),L.Wb(27,"colgroup"),L.Rb(28,"col"),L.Rb(29,"col"),L.Vb(),L.Wb(30,"thead"),L.Wb(31,"tr"),L.Wb(32,"th",4),L.Pc(33,"Vendor"),L.Wb(34,"span"),L.Pc(35),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(36,"tbody"),L.Wb(37,"tr"),L.Wb(38,"td"),L.Nc(39,xq,6,8,"ng-container",5),L.Rb(40,"br"),L.Wb(41,"span",6),L.Pc(42,"After check in date, it will be full stay charge"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(16),L.Sc("",null==t.cancelPolicy?null:t.cancelPolicy.clientTimeDisplay,"",null==t.cancelPolicy?null:t.cancelPolicy.clientTimeZoneName,""),L.Cb(4),L.pc("ngForOf",null==t.cancelPolicy?null:t.cancelPolicy.clientCancelPolicies),L.Cb(15),L.Sc("",null==t.cancelPolicy?null:t.cancelPolicy.vendorTimeDisplay,"",null==t.cancelPolicy?null:t.cancelPolicy.vendorTimeZoneName,""),L.Cb(4),L.pc("ngForOf",null==t.cancelPolicy?null:t.cancelPolicy.vendorCancelPolicies))},directives:[I.B,I.s,I.k,J.a,k.n],pipes:[k.f],encapsulation:2,changeDetection:0}),e})(),Hq=(()=>{class e{constructor(){this.postCodeInfo$=new Fe.a,this._init()}ngOnDestroy(){this.postCodeInfo$.complete()}getPostCodeInfo(){return this.postCodeInfo$.asObservable()}openPostWindow(){this.daumPostCode.open()}_init(){const e=window.daum;this.daumPostCode=new e.Postcode({oncomplete:e=>{this.postCodeInfo$.next(e)}})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac}),e})(),qq=(()=>{class e{constructor(e,t){this._dataService=e,this._postCodeService=t,this.submitEvent=new L.n,this.selectActivityMasterEvent=new L.n,this._$unsubscribe=new Fe.a,this.hourOptions=[],this.minutesOptions=[],this.putForm=e.generateBookingInfoPutForm(),this._postCodeInfo$=t.getPostCodeInfo()}get bookingInfo(){return this._bookingInfo}set bookingInfo(e){this._bookingInfo=e,this.putFormData=this._setPutFormData(e),console.log(e.deliveryStatusCode,this.putFormData,this.putForm.value,"bookingInfo"),this.putForm.get("deliveryStatusCode").setValue(this.putFormData.deliveryStatusCode)}ngOnInit(){this.checkValid=!1,this._initSelectboxOptions(),this._initSubscription()}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete()}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}onSubmit(){if(this.putForm.invalid)return void(this.checkValid=!0);const e=this._setPutCondition();this.submitEvent.emit(e)}onClickPost(){this._postCodeService.openPostWindow()}onChangeDeliveryState({value:e}){"DLS02"!==e&&"DLS05"!==e&&this.putForm.get("waybillNo").setValue(null)}_initSelectboxOptions(){for(let e=0;e<24;e++){const t=String(e).padStart(2,"0");this.hourOptions.push({label:`${t}\uc2dc`,value:t})}for(let e=0;e<60;e++){const t=String(e).padStart(2,"0");this.minutesOptions.push({label:`${t}\ubd84`,value:t})}}_setPutFormData(e){const t=this._dataService.initBookingInfoPutForm();if(Q.isNil(e))return t;const[n,i]=(e.meetingTime||"").split(":");return Object.assign({},t,Q.pick(e,Object.keys(t)),{meetingHour:n,meetingMinutes:i})}_setPutCondition(){const e=this._dataService.initBookingInfoPutCondition(),t=this.putForm.value,n=t.meetingHour&&t.meetingMinutes?`${t.meetingHour}:${t.meetingMinutes}`:null;let i=Object.assign({},Q.pick(Object.assign(Object.assign({},t),{meetingTime:n}),Object.keys(e)));return i=Q.omitBy(i,Q.isNil),i}_initSubscription(){this.putForm.get("activityMasterSeq").valueChanges.pipe(Object(Ci.a)(this._$unsubscribe)).subscribe(e=>{e?(this.putForm.get("activityOptionSeq").enable(),this.selectActivityMasterEvent.emit(e)):(this.putForm.get("activityOptionSeq").setValue(null),this.putForm.get("activityOptionSeq").disable())}),this._postCodeInfo$.subscribe(e=>{e&&this.putForm.patchValue({deliveryAddress:e.jibunAddress,deliveryZipCode:e.zonecode})}),this.putForm.get("waybillNo").valueChanges.pipe(Object(Ci.a)(this._$unsubscribe)).subscribe(e=>{Q.isNil(e)||this.putForm.get("deliveryStatusCode").setValue("DLS02")})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(GS),L.Qb(Hq))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-activity-booking-detail-info"]],inputs:{bookingDate:"bookingDate",plFinishYn:"plFinishYn",vendorList:"vendorList",activityTypeList:"activityTypeList",deliveryTypeList:"deliveryTypeList",deliveryStatusList:"deliveryStatusList",deliveryMethodList:"deliveryMethodList",deliveryCompList:"deliveryCompList",activityContentsOptionsList:"activityContentsOptionsList",bookingStatusList:"bookingStatusList",paymentStatusList:"paymentStatusList",bookingInfo:"bookingInfo"},outputs:{submitEvent:"submitEvent",selectActivityMasterEvent:"selectActivityMasterEvent"},features:[L.Bb([Hq])],decls:91,vars:31,consts:[[1,"page-item-header"],[1,"title"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","160px"],["scope","row",1,"th-bg"],[1,"form-group"],["formControlName","bookingStatusCode","dataKey","detailCode","displayWord","detailCodeName","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","clientPaymentStatusCode","dataKey","detailCode","displayWord","detailCodeName","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","vendorBookingCode",3,"isInvalid"],[1,"border-right-none"],[1,"input","calendar",2,"flex","2 1","min-width","155px"],[3,"for"],["type","text","formControlName","serviceFromDate","placeholder","YYYY-MM-DD",3,"matDatepicker"],["serviceFromDatePicker",""],["formControlName","meetingHour","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","meetingMinutes","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","deliveryTypeCode","dataKey","detailCode","displayWord","detailCodeName",3,"options","isInvalid"],["formControlName","deliveryMethodCode","dataKey","detailCode","displayWord","detailCodeName","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","deliveryStatusCode","dataKey","detailCode","displayWord","detailCodeName","useAllOptionName","Select",3,"options","isInvalid"],["rowspan","6","scope","row",1,"th-bg"],[1,"d-flex","align-items-center","justify-content-between","mb10"],[2,"width","60px"],["type","button",1,"btn","btn-outline-dark","sm","ml5",3,"click"],["formControlName","deliveryAddress",1,"mb10",3,"isInvalid"],[1,"form-group","mb10"],[2,"width","100px"],["formControlName","deliveryCompCode","dataKey","detailCode","displayWord","detailCodeName","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","waybillNo",1,"ml10",3,"isInvalid"],[1,"input","calendar","ml10",2,"flex","2 1","min-width","155px"],["formControlName","deliverySendDate","type","text","placeholder","YYYY-MM-DD",3,"matDatepicker"],["deliverySendDatePicker",""],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"]],template:function(e,t){if(1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Booking Detail"),L.Vb(),L.Vb(),L.Wb(3,"form",2),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," Booking Detail "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col",4),L.Rb(10,"col"),L.Vb(),L.Wb(11,"tbody"),L.Wb(12,"tr"),L.Wb(13,"th",5),L.Pc(14,"Booking Status"),L.Vb(),L.Wb(15,"td"),L.Wb(16,"div",6),L.Rb(17,"app-selectbox-detailcode",7),L.Vb(),L.Vb(),L.Vb(),L.Wb(18,"tr"),L.Wb(19,"th",5),L.Pc(20,"Client Payment Status"),L.Vb(),L.Wb(21,"td"),L.Wb(22,"div",6),L.Rb(23,"app-selectbox-detailcode",8),L.Vb(),L.Vb(),L.Vb(),L.Wb(24,"tr"),L.Wb(25,"th",5),L.Pc(26,"Vendor"),L.Vb(),L.Wb(27,"td"),L.Pc(28),L.Vb(),L.Vb(),L.Wb(29,"tr"),L.Wb(30,"th",5),L.Pc(31,"Vendor Booking Code"),L.Vb(),L.Wb(32,"td"),L.Rb(33,"app-input-text",9),L.Vb(),L.Vb(),L.Wb(34,"tr"),L.Wb(35,"th",5),L.Wb(36,"sup"),L.Pc(37,"Service From Date"),L.Vb(),L.Vb(),L.Wb(38,"td",10),L.Wb(39,"div",6),L.Wb(40,"div",11),L.Rb(41,"mat-datepicker-toggle",12),L.Rb(42,"input",13),L.Rb(43,"mat-datepicker",null,14),L.Vb(),L.Rb(45,"app-selectbox",15),L.Rb(46,"app-selectbox",16),L.Vb(),L.Vb(),L.Vb(),L.Wb(47,"tr"),L.Wb(48,"th",5),L.Wb(49,"sup"),L.Pc(50,"Delivery Type"),L.Vb(),L.Vb(),L.Wb(51,"td"),L.Wb(52,"div",6),L.Rb(53,"app-selectbox-detailcode",17),L.Vb(),L.Vb(),L.Vb(),L.Wb(54,"tr"),L.Wb(55,"th",5),L.Pc(56,"Delivery Status"),L.Vb(),L.Wb(57,"td"),L.Wb(58,"div",6),L.Rb(59,"app-selectbox-detailcode",18),L.Rb(60,"app-selectbox-detailcode",19),L.Vb(),L.Vb(),L.Vb(),L.Wb(61,"tr"),L.Wb(62,"th",20),L.Pc(63,"Delivery Info"),L.Vb(),L.Wb(64,"td"),L.Wb(65,"div",21),L.Wb(66,"span",22),L.Pc(67,"Address"),L.Vb(),L.Wb(68,"button",23),L.fc("click",(function(){return t.onClickPost()})),L.Pc(69,"Post Code"),L.Vb(),L.Vb(),L.Wb(70,"div"),L.Rb(71,"app-input-text",24),L.Vb(),L.Wb(72,"div",25),L.Wb(73,"span",26),L.Pc(74,"Delivery Comp"),L.Vb(),L.Rb(75,"app-selectbox-detailcode",27),L.Vb(),L.Wb(76,"div",25),L.Wb(77,"span",26),L.Pc(78,"Waybill No."),L.Vb(),L.Rb(79,"app-input-text",28),L.Vb(),L.Wb(80,"div",6),L.Wb(81,"span",26),L.Pc(82,"Delivery Sand Date"),L.Vb(),L.Wb(83,"div",29),L.Rb(84,"mat-datepicker-toggle",12),L.Rb(85,"input",30),L.Rb(86,"mat-datepicker",null,31),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(88,"div",32),L.Wb(89,"button",33),L.Pc(90,"Save"),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.Ec(44),n=L.Ec(87);L.Cb(3),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(14),L.pc("options",t.bookingStatusList)("isInvalid",t.checkIsInvalid("bookingStatusCode")),L.Cb(6),L.pc("options",t.paymentStatusList)("isInvalid",t.checkIsInvalid("clientPaymentStatusCode")),L.Cb(5),L.Sc(" ",null==t.bookingInfo?null:t.bookingInfo.vendorCompCode," | ",null==t.bookingInfo?null:t.bookingInfo.vendorCompName," "),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("vendorBookingCode")),L.Cb(7),L.Gb("valid-error",t.checkIsInvalid("serviceFromDate")),L.Cb(1),L.pc("for",e),L.Cb(1),L.pc("matDatepicker",e),L.Cb(3),L.pc("options",t.hourOptions)("isInvalid",t.checkIsInvalid("meetingHour")),L.Cb(1),L.pc("options",t.minutesOptions)("isInvalid",t.checkIsInvalid("meetingMinutes")),L.Cb(7),L.pc("options",t.deliveryTypeList)("isInvalid",t.checkIsInvalid("deliveryTypeCode")),L.Cb(6),L.pc("options",t.deliveryMethodList)("isInvalid",t.checkIsInvalid("deliveryMethodCode")),L.Cb(1),L.pc("options",t.deliveryStatusList)("isInvalid",t.checkIsInvalid("deliveryStatusCode")),L.Cb(11),L.pc("isInvalid",t.checkIsInvalid("deliveryAddress")),L.Cb(4),L.pc("options",t.deliveryCompList)("isInvalid",t.checkIsInvalid("deliveryCompCode")),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("waybillNo")),L.Cb(4),L.Gb("valid-error",t.checkIsInvalid("deliverySendDate")),L.Cb(1),L.pc("for",n),L.Cb(1),L.pc("matDatepicker",n)}},directives:[I.B,I.s,I.k,J.a,Pi.a,I.r,I.i,ee.a,UW.a,I.c,QW.a,GW.a,Se.a],encapsulation:2,changeDetection:0}),e})();function Uq(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"tr",11),L.Wb(2,"td",12),L.Pc(3),L.Vb(),L.Wb(4,"td"),L.Rb(5,"app-selectbox-detailcode",13),L.Vb(),L.Wb(6,"td"),L.Rb(7,"app-selectbox",14),L.Vb(),L.Wb(8,"td"),L.Wb(9,"div",15),L.Rb(10,"app-input-text",16),L.Wb(11,"span",17),L.Pc(12,"/"),L.Vb(),L.Rb(13,"app-input-text",18),L.Vb(),L.Vb(),L.Wb(14,"td"),L.Wb(15,"div",19),L.Rb(16,"mat-datepicker-toggle",20),L.Rb(17,"input",21),L.Rb(18,"mat-datepicker",null,22),L.Vb(),L.Vb(),L.Vb(),L.Tb()),2&e){const e=t.$implicit,n=t.index,i=L.Ec(19),o=L.hc();L.Cb(1),L.pc("formGroupName",n),L.Cb(2),L.Qc(n+1),L.Cb(2),L.pc("options",o.ageTypeList)("isInvalid",o.checkIsInvalid("ageTypeCode",e)),L.Cb(2),L.pc("options",o.genderOptions)("isInvalid",o.checkIsInvalid("gender",e)),L.Cb(3),L.pc("isInvalid",o.checkIsInvalid("lastName",e)),L.Cb(3),L.pc("isInvalid",o.checkIsInvalid("firstName",e)),L.Cb(3),L.pc("for",i),L.Cb(1),L.pc("matDatepicker",i)}}function Qq(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",23),L.Pc(3,"-"),L.Vb(),L.Vb(),L.Tb())}let Gq=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.submitEvent=new L.n,this.deleteEvent=new L.n,this.genderOptions=[],this.putForm=e.generateTravelersPutInitForm()}get travelers(){return this._travelers}set travelers(e){this._travelers=e,this.putForm=this._dataService.generateTravelersPutForm(e||[]),this.putFormData=this._convertItemToForm(e)}get travelersFormArray(){return this.putForm&&this.putForm.get("travelers")}ngOnInit(){this.checkValid=!1,this._initSelectboxOptions()}ngOnDestroy(){}checkIsInvalid(e,t){return this.checkValid&&t.get(e)&&t.get(e).invalid}onSubmit(){if(this.putForm.invalid)return void(this.checkValid=!0);const e=this._setPutCondition();this.submitEvent.emit(e)}_initSelectboxOptions(){this.genderOptions=[{value:"M",label:"Male"},{value:"F",label:"Female"}]}_setPutCondition(){return this.putForm.value}_convertItemToForm(e){if(e){const{travelers:t}=e;return{travelers:null==t?void 0:t.map(e=>{const{lastName:t,firstName:n,gender:i,ageTypeCode:o,birthday:a}=e;return{lastName:t,firstName:n,gender:i,ageTypeCode:o,birthday:a}})}}this.putFormData=this._dataService.initTravelersPutForm()}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(GS),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-activity-booking-detail-traveler"]],inputs:{plFinishYn:"plFinishYn",travelers:"travelers",ageTypeList:"ageTypeList"},outputs:{submitEvent:"submitEvent",deleteEvent:"deleteEvent"},decls:32,vars:4,consts:[[1,"page-item-header"],[1,"title"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered","table-responsive"],["width","42px"],["scope","col",1,"align-c"],["formArrayName","travelers"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"],[3,"formGroupName"],[1,"align-c"],["formControlName","ageTypeCode","dataKey","detailCode","displayWord","detailCodeName",3,"options","isInvalid"],["formControlName","gender",3,"options","isInvalid"],[1,"form-group"],["formControlName","lastName",3,"isInvalid"],[1,"dash"],["formControlName","firstName",3,"isInvalid"],[1,"input","calendar",2,"min-width","140px"],[3,"for"],["type","text","formControlName","birthday","placeholder","\ub0a0\uc9dc \uc120\ud0dd",3,"matDatepicker"],["birthdayPicker",""],["colspan","7",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Travelers"),L.Vb(),L.Vb(),L.Wb(3,"form",2),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," Travelers "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col",4),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Rb(13,"col"),L.Vb(),L.Wb(14,"thead"),L.Wb(15,"tr"),L.Wb(16,"th",5),L.Pc(17,"No."),L.Vb(),L.Wb(18,"th",5),L.Pc(19,"Age Type"),L.Vb(),L.Wb(20,"th",5),L.Pc(21,"Gender"),L.Vb(),L.Wb(22,"th",5),L.Pc(23,"Last Name / First Name(EN)"),L.Vb(),L.Wb(24,"th",5),L.Pc(25,"Child Birthday"),L.Vb(),L.Vb(),L.Vb(),L.Wb(26,"tbody",6),L.Nc(27,Uq,20,10,"ng-container",7),L.Nc(28,Qq,4,0,"ng-container",8),L.Vb(),L.Vb(),L.Vb(),L.Wb(29,"div",9),L.Wb(30,"button",10),L.Pc(31,"Save"),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(3),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(24),L.pc("ngForOf",t.travelersFormArray.controls),L.Cb(1),L.pc("ngIf",t.travelersFormArray.controls.length<1))},directives:[I.B,I.s,I.k,J.a,I.e,k.n,k.o,I.l,Pi.a,I.r,I.i,Se.a,ee.a,UW.a,I.c,QW.a,GW.a],encapsulation:2,changeDetection:0}),e})();function Kq(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"tr",12),L.Wb(2,"td",13),L.Pc(3),L.Vb(),L.Wb(4,"td",13),L.Pc(5),L.Vb(),L.Wb(6,"td",13),L.Pc(7),L.Vb(),L.Wb(8,"td"),L.Rb(9,"app-input-text",14),L.Vb(),L.Vb(),L.Tb()),2&e){const e=t.$implicit,n=t.index,i=L.hc();L.Cb(1),L.pc("formGroupName",n),L.Cb(2),L.Qc(n+1),L.Cb(2),L.Qc(e.get("infoName").value),L.Cb(2),L.Qc(e.get("bookingTravelerName").value),L.Cb(2),L.pc("isInvalid",i.checkIsInvalid("insesrtValue"))}}function zq(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",15),L.Pc(3,"-"),L.Vb(),L.Vb(),L.Tb())}let Xq=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.submitEvent=new L.n,this.putForm=e.generateNeededInfosPutInitForm()}get neededInfo(){return this._neededInfo}set neededInfo(e){this._neededInfo=e,console.log(e,"_neededInfo"),this.putForm=e?this._dataService.generateNeededInfosPutForm(e||[]):this._dataService.generateNeededInfosPutInitForm(),this.putFormData=this._convertItemToForm(e)}get neededInfosFormArray(){return this.putForm&&this.putForm.get("neededInfos")}ngOnInit(){this.checkValid=!1,console.log(this.putForm,"?")}ngOnDestroy(){}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}onSubmit(){if(!this.neededInfo||this.neededInfo.length<1)return void this.alertService.alert("No data to save.");if(this.putForm.invalid)return void(this.checkValid=!0);const e=this._convertFormToItem(this.putForm.value);this.submitEvent.emit(e)}_convertItemToForm(e){return e?{neededInfos:e.map(e=>({infoSeq:e.infoSeq,infoCode:e.infoCode,bookingTravelerName:e.bookingTravelerName,insertValue:e.insertValue,addValue:e.addValue}))}:this._dataService.initNeededInfosPutForm()}_convertFormToItem(e){const{neededInfos:t}=e,n=this._dataService.initNeededInfoPutCondition();return t.map(e=>Q.omitBy(Q.pick(e,Object.keys(n)),Q.isNil))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(GS),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-activity-booking-detail-needed-info"]],inputs:{plFinishYn:"plFinishYn",neededInfo:"neededInfo",ageTypeList:"ageTypeList"},outputs:{submitEvent:"submitEvent"},decls:30,vars:4,consts:[[1,"page-item-header"],[1,"title"],[1,"control"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered","table-responsive"],["width","50px"],["scope","col",1,"align-c"],["formArrayName","neededInfos"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"],[3,"formGroupName"],[1,"align-c"],["formControlName","insertValue",3,"isInvalid"],["colspan","4",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Additional Info"),L.Vb(),L.Rb(3,"div",2),L.Vb(),L.Wb(4,"form",3),L.fc("ngSubmit",(function(){return t.onSubmit()})),L.Wb(5,"div",4),L.Wb(6,"table"),L.Wb(7,"caption"),L.Pc(8," Additional Info "),L.Vb(),L.Wb(9,"colgroup"),L.Rb(10,"col",5),L.Rb(11,"col"),L.Rb(12,"col"),L.Rb(13,"col"),L.Vb(),L.Wb(14,"thead"),L.Wb(15,"tr"),L.Wb(16,"th",6),L.Pc(17,"No."),L.Vb(),L.Wb(18,"th",6),L.Pc(19,"Type"),L.Vb(),L.Wb(20,"th",6),L.Pc(21,"Name(Local)"),L.Vb(),L.Wb(22,"th",6),L.Pc(23,"Added Info"),L.Vb(),L.Vb(),L.Vb(),L.Wb(24,"tbody",7),L.Nc(25,Kq,10,5,"ng-container",8),L.Nc(26,zq,4,0,"ng-container",9),L.Vb(),L.Vb(),L.Vb(),L.Wb(27,"div",10),L.Wb(28,"button",11),L.Pc(29,"Save"),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(4),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(21),L.pc("ngForOf",t.neededInfosFormArray.controls),L.Cb(1),L.pc("ngIf",t.neededInfosFormArray.controls.length<1))},directives:[I.B,I.s,I.k,J.a,I.e,k.n,k.o,I.l,ee.a,I.r,I.i],encapsulation:2,changeDetection:0}),e})();function Zq(e,t){1&e&&(L.Wb(0,"span",10),L.Pc(1,"~"),L.Vb())}function Jq(e,t){if(1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",7),L.Pc(3),L.Vb(),L.Wb(4,"td",7),L.Pc(5),L.Vb(),L.Wb(6,"td",8),L.Pc(7),L.ic(8,"number"),L.Vb(),L.Wb(9,"td",7),L.Wb(10,"span"),L.Pc(11),L.Vb(),L.Nc(12,Zq,2,0,"span",9),L.Wb(13,"span"),L.Pc(14),L.Vb(),L.Vb(),L.Wb(15,"td"),L.Pc(16),L.Vb(),L.Vb(),L.Tb()),2&e){const e=t.$implicit;L.Cb(3),L.Qc(null==e?null:e.typeName),L.Cb(2),L.Qc(null==e?null:e.discountCode),L.Cb(2),L.Qc(L.jc(8,7,null==e?null:e.discountAmount)),L.Cb(4),L.Qc(null==e?null:e.fromDate),L.Cb(1),L.pc("ngIf",(null==e?null:e.fromDate)||(null==e?null:e.toDate)),L.Cb(2),L.Qc(null==e?null:e.toDate),L.Cb(2),L.Qc(null==e?null:e.description)}}function eU(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",11),L.Pc(3,"\ucfe0\ud3f0 \ubc0f \ud504\ub85c\ubaa8\uc158 \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."),L.Vb(),L.Vb(),L.Tb())}let tU=(()=>{class e{constructor(){}ngOnInit(){}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-activity-price-detail-discounts"]],inputs:{discounts:"discounts"},decls:28,vars:2,consts:[[1,"page-item-header"],[1,"title"],[1,"table","table-bordered","table-responsive"],["width","35%"],["scope","col",1,"align-c"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"align-c"],[1,"align-r"],["class","dash",4,"ngIf"],[1,"dash"],["colspan","5",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"\ucfe0\ud3f0 \ubc0f \ud504\ub85c\ubaa8\uc158 \uc815\ubcf4"),L.Vb(),L.Vb(),L.Wb(3,"div",2),L.Wb(4,"table"),L.Wb(5,"caption"),L.Pc(6," \ucfe0\ud3f0 \ubc0f \ud504\ub85c\ubaa8\uc158 \uc815\ubcf4 "),L.Vb(),L.Wb(7,"colgroup"),L.Rb(8,"col"),L.Rb(9,"col"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col",3),L.Vb(),L.Wb(13,"thead"),L.Wb(14,"tr"),L.Wb(15,"th",4),L.Pc(16,"\uad6c\ubd84"),L.Vb(),L.Wb(17,"th",4),L.Pc(18,"\ucf54\ub4dc"),L.Vb(),L.Wb(19,"th",4),L.Pc(20,"\ud560\uc778 \uae08\uc561"),L.Vb(),L.Wb(21,"th",4),L.Pc(22,"\uc0ac\uc6a9\uae30\uac04/\uc608\uc57d\uae30\uac04"),L.Vb(),L.Wb(23,"th",4),L.Pc(24,"\uc774\ub984"),L.Vb(),L.Vb(),L.Vb(),L.Wb(25,"tbody"),L.Nc(26,Jq,17,9,"ng-container",5),L.Nc(27,eU,4,0,"ng-container",6),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(26),L.pc("ngForOf",t.discounts),L.Cb(1),L.pc("ngIf",(null==t.discounts?null:t.discounts.length)<1))},directives:[k.n,k.o],pipes:[k.f],encapsulation:2,changeDetection:0}),e})();function nU(e,t){1&e&&(L.Wb(0,"span",8),L.Pc(1,"[0%]"),L.Vb())}function iU(e,t){if(1&e&&(L.Wb(0,"span",8),L.Pc(1),L.ic(2,"number"),L.Vb()),2&e){const e=L.hc();L.Cb(1),L.Rc("[",L.jc(2,1,null==e.payment?null:e.payment.revenueRate),"%]")}}let oU=(()=>{class e{constructor(){}get isCancelBooking(){return"BKS20"===this.bookingStatusCode||"BKS14"===this.bookingStatusCode}ngOnInit(){}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-activity-price-detail-payment"]],inputs:{payment:"payment",bookingStatusCode:"bookingStatusCode"},decls:50,vars:20,consts:[[1,"page-item-header"],[1,"title"],[1,"table","table-bordered","table-responsive"],["width","16%"],["scope","row",1,"th-bg","align-l"],[1,"align-r"],["scope","row",1,"th-bg","align-l","font-weight-bold"],["class","color-blue ml5",4,"ngIf"],[1,"color-blue","ml5"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"\uacb0\uc81c/\uc218\uc775\ub0b4\uc5ed"),L.Vb(),L.Vb(),L.Wb(3,"div",2),L.Wb(4,"table"),L.Wb(5,"caption"),L.Pc(6," \uacb0\uc81c/\uc218\uc775\ub0b4\uc5ed "),L.Vb(),L.Wb(7,"colgroup"),L.Rb(8,"col",3),L.Rb(9,"col",3),L.Rb(10,"col",3),L.Rb(11,"col",3),L.Rb(12,"col",3),L.Rb(13,"col",3),L.Vb(),L.Wb(14,"tbody"),L.Wb(15,"tr"),L.Wb(16,"th",4),L.Pc(17,"\uacb0\uc81c\ub300\uc0c1\uae08\uc561"),L.Vb(),L.Wb(18,"td",5),L.Pc(19),L.ic(20,"number"),L.Vb(),L.Wb(21,"th",4),L.Pc(22,"\ucfe0\ud3f0"),L.Vb(),L.Wb(23,"td",5),L.Pc(24),L.ic(25,"number"),L.Vb(),L.Wb(26,"th",4),L.Pc(27,"\ud3ec\uc778\ud2b8"),L.Vb(),L.Wb(28,"td",5),L.Pc(29),L.ic(30,"number"),L.Vb(),L.Vb(),L.Wb(31,"tr"),L.Wb(32,"th",4),L.Pc(33,"\uc2e4\uacb0\uc81c\uae08\uc561"),L.Vb(),L.Wb(34,"td",5),L.Pc(35),L.ic(36,"number"),L.Vb(),L.Wb(37,"th",4),L.Pc(38,"\ubbf8\uc218\uc794\uc561"),L.Vb(),L.Wb(39,"td",5),L.Pc(40),L.ic(41,"number"),L.Vb(),L.Wb(42,"th",6),L.Pc(43,"\uc218\uc775(\uc0c1\ud488\uac00\ub300\ube44)"),L.Vb(),L.Wb(44,"td",5),L.Wb(45,"span"),L.Pc(46),L.ic(47,"number"),L.Vb(),L.Nc(48,nU,2,0,"span",7),L.Nc(49,iU,3,3,"span",7),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(19),L.Qc(L.jc(20,8,null==t.payment?null:t.payment.sumAmount)),L.Cb(5),L.Qc(L.jc(25,10,null==t.payment?null:t.payment.couponPaidAmount)),L.Cb(5),L.Qc(L.jc(30,12,null==t.payment?null:t.payment.mileagePaidAmount)),L.Cb(6),L.Qc(L.jc(36,14,null==t.payment?null:t.payment.paidAmount)),L.Cb(5),L.Qc(L.jc(41,16,null==t.payment?null:t.payment.balanceAmount)),L.Cb(6),L.Qc(L.jc(47,18,null==t.payment?null:t.payment.revenueAmount)),L.Cb(2),L.pc("ngIf",t.isCancelBooking),L.Cb(1),L.pc("ngIf",!t.isCancelBooking))},directives:[k.o],pipes:[k.f],encapsulation:2,changeDetection:0}),e})(),aU=(()=>{class e{constructor(e){this._dataService=e,this.submitEvent=new L.n,this.putForm=e.generatePriceDetailSales()}get amountInfo(){return this._amountInfo}set amountInfo(e){this._amountInfo=e,this.putFormData=this._setFormData(e.billingInfo),this.putForm.get("markupValue").setValue(e.vendorInfo.markupValue)}ngOnInit(){}ngOnDestroy(){}onSubmit(){if(this.putForm.invalid)return void(this._checkValid=!0);const e=this._setPutCondition();this.submitEvent.emit(e)}checkIsInvalid(e){return this._checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}_setFormData(e){e=Object.assign(Object.assign({},e),{deliveryAmount:e.billingDeliveryAmount});const t=this._dataService.initPriceDetailSales();return Q.isNil(t)?t:Object.assign({},t,Q.pick(e,Object.keys(t)))}_setPutCondition(){const e=this.putForm.value;return{bookingItemCode:this.bookingItemCode,billingAddAmount:e.billingAddAmount,billingCancelChargeAmount:e.billingCancelChargeAmount,billingOthersAmount:e.billingOthersAmount,deliveryAmount:e.deliveryAmount}}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(GS))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-activity-price-detail-sales"]],inputs:{bookingItemCode:"bookingItemCode",plFinishYn:"plFinishYn",amountInfo:"amountInfo"},outputs:{submitEvent:"submitEvent"},decls:68,vars:15,consts:[[1,"page-item-header"],[1,"title"],[3,"formGroup","connectForm"],[1,"table","table-bordered","table-responsive"],["width","16%"],["scope","row",1,"th-bg","align-l"],[1,"align-l"],["formControlName","billingNetAmount","inputFormat","number","valueType","number",3,"isInvalid"],["formControlName","billingMarkupAmount","inputFormat","number","valueType","number",3,"isInvalid"],["formControlName","billingAddAmount","inputFormat","number","valueType","number","placeholder","0.00",3,"isInvalid"],["formControlName","billingCancelChargeAmount","inputFormat","number","valueType","number","placeholder","0.00",3,"isInvalid"],["formControlName","billingProductAmount","inputFormat","number","valueType","number",3,"isInvalid"],["formControlName","billingPromotionAmount","inputFormat","number","valueType","number",3,"isInvalid"],["formControlName","deliveryAmount","inputFormat","number","valueType","number",3,"isInvalid"],["formControlName","billingSumAmount","inputFormat","number","valueType","number",3,"isInvalid"],[1,"d-flex","align-items-center","justify-content-between","mt10"],[1,"align-l","font-size-sm","color-danger"],["type","button",1,"align-r","btn","btn-secondary","sm",3,"click"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Selling Rate"),L.Vb(),L.Vb(),L.Wb(3,"form",2),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," Selling Rate "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col",4),L.Rb(10,"col"),L.Vb(),L.Wb(11,"tbody"),L.Wb(12,"tr"),L.Wb(13,"th",5),L.Pc(14,"B. Currency"),L.Vb(),L.Wb(15,"td"),L.Pc(16),L.Vb(),L.Wb(17,"th",5),L.Pc(18,"Curr. Convert Rate"),L.Vb(),L.Wb(19,"td",6),L.Pc(20),L.Vb(),L.Vb(),L.Wb(21,"tr"),L.Wb(22,"th",5),L.Pc(23,"B. Net Amt"),L.Vb(),L.Wb(24,"td"),L.Rb(25,"app-input-text",7),L.Vb(),L.Wb(26,"th",5),L.Pc(27,"B. M/U Amt"),L.Vb(),L.Wb(28,"td"),L.Rb(29,"app-input-text",8),L.Vb(),L.Vb(),L.Wb(30,"tr"),L.Wb(31,"th",5),L.Pc(32,"B. Add Amt"),L.Vb(),L.Wb(33,"td"),L.Rb(34,"app-input-text",9),L.Vb(),L.Wb(35,"th",5),L.Pc(36,"B. CXL Charge Amt"),L.Vb(),L.Wb(37,"td"),L.Rb(38,"app-input-text",10),L.Vb(),L.Vb(),L.Wb(39,"tr"),L.Wb(40,"th",5),L.Pc(41,"B. Product Amt"),L.Vb(),L.Wb(42,"td"),L.Rb(43,"app-input-text",11),L.Vb(),L.Wb(44,"th",5),L.Pc(45,"B. Promotion Amt"),L.Vb(),L.Wb(46,"td"),L.Rb(47,"app-input-text",12),L.Vb(),L.Vb(),L.Wb(48,"tr"),L.Wb(49,"th",5),L.Pc(50,"Delivery Fee"),L.Vb(),L.Wb(51,"td"),L.Rb(52,"app-input-text",13),L.Vb(),L.Wb(53,"th",5),L.Pc(54,"B. Revenue"),L.Vb(),L.Wb(55,"td"),L.Pc(56),L.ic(57,"number"),L.Vb(),L.Vb(),L.Wb(58,"tr"),L.Wb(59,"th",5),L.Pc(60,"B. Sum Amt"),L.Vb(),L.Wb(61,"td"),L.Rb(62,"app-input-text",14),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(63,"div",15),L.Wb(64,"p",16),L.Pc(65,"\u203b This change will be applied for this booking only."),L.Vb(),L.Wb(66,"button",17),L.fc("click",(function(){return t.onSubmit()})),L.Pc(67,"Save"),L.Vb(),L.Vb()),2&e&&(L.Cb(3),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(13),L.Qc(null==t.amountInfo?null:t.amountInfo.billingInfo.billingCurrencyCode),L.Cb(4),L.Qc(null==t.amountInfo?null:t.amountInfo.billingInfo.convertRateValue),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("billingNetAmount")),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("billingMarkupAmount")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("billingAddAmount")),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("billingCancelChargeAmount")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("billingProductAmount")),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("billingPromotionAmount")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("deliveryAmount")),L.Cb(4),L.Qc(L.jc(57,13,null==t.amountInfo||null==t.amountInfo.billingInfo?null:t.amountInfo.billingInfo.billingRevenueAmount)),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("billingSumAmount")))},directives:[I.B,I.s,I.k,J.a,ee.a,I.r,I.i],pipes:[k.f],encapsulation:2,changeDetection:0}),e})(),cU=(()=>{class e{constructor(e){this._dataService=e,this.submitEvent=new L.n,this.putForm=e.generatePriceDetailVendor()}get vendorInfo(){return this._vendorInfo}set vendorInfo(e){this._vendorInfo=e,this.putFormData=this._setFormData(e)}ngOnInit(){}ngOnDestroy(){}onSubmit(){if(this.putForm.invalid)return void(this._checkValid=!0);const e=this._setPutCondition();this.submitEvent.emit(e)}checkIsInvalid(e){return this._checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}_setFormData(e){const t=this._dataService.initPriceDetailVendor();return Q.isNil(e)?t:Object.assign({},t,Q.pick(e,Object.keys(t)))}_setPutCondition(){const e=this.putForm.value;return{bookingItemCode:this.bookingItemCode,vendorNetAmount:e.vendorNetAmount,vendorTaxAmount:e.vendorTaxAmount,vendorGrossAmount:e.vendorGrossAmount,vendorAddAmount:e.vendorAddAmount,vendorCancelChargeAmount:e.vendorCancelChargeAmount}}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(GS))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-activity-price-detail-vendor"]],inputs:{bookingItemCode:"bookingItemCode",plFinishYn:"plFinishYn",vendorInfo:"vendorInfo"},outputs:{submitEvent:"submitEvent"},decls:53,vars:13,consts:[[1,"page-item-header"],[1,"title"],[3,"formGroup","connectForm"],[1,"table","table-bordered","table-responsive"],["width","15%"],["scope","row",1,"th-bg","align-l"],["formControlName","vendorCancelChargeAmount","inputFormat","number","valueType","number",3,"isInvalid"],["formControlName","vendorNetAmount","inputFormat","number","valueType","number",3,"isInvalid"],["formControlName","vendorAddAmount","inputFormat","number","valueType","number",3,"isInvalid"],["formControlName","vendorSumAmount","inputFormat","number","valueType","number",3,"isInvalid"],[1,"button-area","align-r","mt10"],["type","button",1,"btn","btn-secondary","sm",3,"click"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"Buying Rate"),L.Vb(),L.Vb(),L.Wb(3,"form",2),L.Wb(4,"div",3),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," Buying Rate "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col",4),L.Rb(10,"col"),L.Rb(11,"col",4),L.Rb(12,"col"),L.Vb(),L.Wb(13,"tbody"),L.Wb(14,"tr"),L.Wb(15,"th",5),L.Pc(16,"V. Currency"),L.Vb(),L.Wb(17,"td"),L.Pc(18),L.Vb(),L.Wb(19,"th",5),L.Pc(20,"V. CXL Charge Amt"),L.Vb(),L.Wb(21,"td"),L.Rb(22,"app-input-text",6),L.Vb(),L.Vb(),L.Wb(23,"tr"),L.Wb(24,"th",5),L.Pc(25,"V. Net Amt"),L.Vb(),L.Wb(26,"td"),L.Rb(27,"app-input-text",7),L.Vb(),L.Wb(28,"th",5),L.Pc(29,"V. Revenue"),L.Vb(),L.Wb(30,"td"),L.Pc(31),L.ic(32,"number"),L.Vb(),L.Vb(),L.Wb(33,"tr"),L.Wb(34,"th",5),L.Pc(35,"V. Add Amt"),L.Vb(),L.Wb(36,"td"),L.Rb(37,"app-input-text",8),L.Vb(),L.Wb(38,"th",5),L.Pc(39,"V. Balance"),L.Vb(),L.Wb(40,"td"),L.Pc(41),L.ic(42,"number"),L.Vb(),L.Vb(),L.Wb(43,"tr"),L.Wb(44,"th",5),L.Pc(45,"V. Sum Amt"),L.Vb(),L.Wb(46,"td"),L.Rb(47,"app-input-text",9),L.Vb(),L.Rb(48,"th",5),L.Rb(49,"td"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(50,"div",10),L.Wb(51,"button",11),L.fc("click",(function(){return t.onSubmit()})),L.Pc(52,"Save"),L.Vb(),L.Vb()),2&e&&(L.Cb(3),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(15),L.Qc(null==t.vendorInfo?null:t.vendorInfo.vendorCurrencyCode),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("vendorCancelChargeAmount")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("vendorNetAmount")),L.Cb(4),L.Qc(L.jc(32,9,null==t.vendorInfo?null:t.vendorInfo.vendorRevenueAmount)),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("vendorAddAmount")),L.Cb(4),L.Qc(L.jc(42,11,null==t.vendorInfo?null:t.vendorInfo.vendorBalanceAmount)),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("vendorSumAmount")))},directives:[I.B,I.s,I.k,J.a,ee.a,I.r,I.i],pipes:[k.f],encapsulation:2,changeDetection:0}),e})(),sU=(()=>{class e{constructor(){this.submitEvent=new L.n,this.clickPgCreditCardEvent=new L.n,this.clickPgBankEvent=new L.n,this.clickCashReceiptIssueEvent=new L.n,this.clickCashReceiptViewEvent=new L.n,this.clickCreditCardCancelEvent=new L.n}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-activity-payment-detail-info"]],outputs:{submitEvent:"submitEvent",clickPgCreditCardEvent:"clickPgCreditCardEvent",clickPgBankEvent:"clickPgBankEvent",clickCashReceiptIssueEvent:"clickCashReceiptIssueEvent",clickCashReceiptViewEvent:"clickCashReceiptViewEvent",clickCreditCardCancelEvent:"clickCreditCardCancelEvent"},decls:59,vars:0,consts:[[1,"page-item-header"],[1,"title"],[1,"control"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"btn","btn-outline-secondary","sm",3,"click"],[1,"table","table-bordered","table-responsive"],["width","42px"],["scope","col",1,"align-c"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"p",1),L.Pc(2,"\uacb0\uc81c \uc815\ubcf4"),L.Vb(),L.Wb(3,"div",2),L.Wb(4,"button",3),L.fc("click",(function(){return t.clickPgCreditCardEvent.emit()})),L.Pc(5,"PG\uc218\uae30\uacb0\uc81c"),L.Vb(),L.Wb(6,"button",3),L.fc("click",(function(){return t.clickPgBankEvent.emit()})),L.Pc(7,"\uac00\uc0c1\uacc4\uc88c\ubc1c\ud589"),L.Vb(),L.Wb(8,"button",3),L.fc("click",(function(){return t.clickCashReceiptIssueEvent.emit()})),L.Pc(9,"\ud604\uae08\uc601\uc218\uc99d\ubc1c\ud589"),L.Vb(),L.Wb(10,"button",3),L.fc("click",(function(){return t.clickCashReceiptViewEvent.emit()})),L.Pc(11,"\ud604\uae08\uc601\uc218\uc99d\ubcf4\uae30"),L.Vb(),L.Wb(12,"button",4),L.fc("click",(function(){return t.clickCreditCardCancelEvent.emit()})),L.Pc(13,"\uacb0\uc81c\ucde8\uc18c"),L.Vb(),L.Vb(),L.Vb(),L.Wb(14,"div",5),L.Wb(15,"table"),L.Wb(16,"caption"),L.Pc(17," \uacb0\uc81c \uc815\ubcf4 "),L.Vb(),L.Wb(18,"colgroup"),L.Rb(19,"col",6),L.Rb(20,"col"),L.Rb(21,"col"),L.Rb(22,"col"),L.Rb(23,"col"),L.Rb(24,"col"),L.Rb(25,"col"),L.Vb(),L.Wb(26,"thead"),L.Wb(27,"tr"),L.Rb(28,"th",7),L.Wb(29,"th",7),L.Pc(30,"\uacb0\uc81c\uc218\ub2e8"),L.Vb(),L.Wb(31,"th",7),L.Pc(32,"\uacb0\uc81c\uc815\ubcf4"),L.Rb(33,"br"),L.Pc(34,"\uac00\uc0c1\uacc4\uc88c / \uacc4\uc88c \ub9cc\ub8cc\uc77c"),L.Vb(),L.Wb(35,"th",7),L.Pc(36,"\uacb0\uc81c\uc790"),L.Vb(),L.Wb(37,"th",7),L.Pc(38,"\uc2b9\uc778\ubc88\ud638"),L.Vb(),L.Wb(39,"th",7),L.Pc(40,"\uacb0\uc81c\uae08\uc561"),L.Rb(41,"br"),L.Pc(42,"\uacb0\uc81c\uc77c / \uc0ac\uc6a9\uc77c"),L.Vb(),L.Wb(43,"th",7),L.Pc(44,"\ucde8\uc18c\uae08\uc561"),L.Rb(45,"br"),L.Pc(46,"\ucde8\uc18c\uc77c"),L.Vb(),L.Vb(),L.Vb(),L.Wb(47,"tbody"),L.Wb(48,"tr"),L.Rb(49,"td"),L.Rb(50,"td"),L.Rb(51,"td"),L.Rb(52,"td"),L.Rb(53,"td"),L.Rb(54,"td"),L.Rb(55,"td"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(56,"div",8),L.Wb(57,"button",9),L.Pc(58,"\uc800\uc7a5"),L.Vb(),L.Vb())},encapsulation:2,changeDetection:0}),e})();const rU=function(){return{userTypeCode:"U01"}},lU=function(){return["userNo","name","deptName","positionName"]};let dU=(()=>{class e{constructor(e,t){this._dataService=e,this.alertService=t,this.closeEvent=new L.n,this.submitEvent=new L.n,this._unsubscribe$=new Fe.a,this.putForm=e.generatePaymentManualPutForm(),this.putFormData=e.initPaymentManualPutForm()}get bankMasterList(){return"CCCC"===this.putForm.get("depositTypeCode").value?this.paymentBankMasterList:[]}ngOnInit(){this._initState(),this._initSubscription()}ngOnDestroy(){this._unsubscribe$.next(),this._unsubscribe$.complete()}onClose(){this.closeEvent.emit()}onSubmit(){if(this.putForm.invalid)return void(this.checkValid=!0);const e=this._setPutCondition();this.submitEvent.emit(e)}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}_setPutCondition(){const e=this._dataService.initPaymentManualPutCondition(),t=this.putForm.value;let n=void 0,i=void 0;const{depositTypeCode:o,cardValidPeriodYear:a,cardValidPeriodMonth:c}=t;if("CCCC"===o){const i=`${a}/${c}`;n=Object.assign({},Q.pick(t,Object.keys(e.card)),{cardValidPeriod:i})}else"CCGF"===o&&(i=Object.assign({},Q.pick(t,Object.keys(e.other))));return Object.assign({},Q.pick(t,Object.keys(e)),{card:n,other:i,bookingItemCode:this.bookingItemCode,bookingTravelerCode:this.bookingTravelerCode})}_initState(){this.cardQuotaMonthList=[{value:"00",label:"\uc77c\uc2dc\ubd88"}];for(let e=1;e<25;e++){const t=Q.padStart(String(e),2,"0");this.cardQuotaMonthList.push({value:t,label:t})}}_initSubscription(){this.putForm.get("depositTypeCode").valueChanges.pipe(Object(Ci.a)(this._unsubscribe$)).subscribe(e=>{this.checkValid=!1,Q.isNil(e)||"CCCA"===e||"CCRP"===e?(this.putForm.get("cardNo").disable(),this.putForm.get("cardHolderName").disable(),this.putForm.get("cardValidPeriodYear").disable(),this.putForm.get("cardValidPeriodMonth").disable(),this.putForm.get("cardQuotaMonth").disable(),this.putForm.get("cardApprovalNo").disable(),this.putForm.get("paymentRelatedNo").disable(),this.putForm.get("giftCardTypeCode").disable(),this.putForm.get("giftCardExpireDate").disable(),this.putForm.get("cardMasterCode").clearValidators(),this.putForm.get("cardNo").clearValidators(),this.putForm.get("cardValidPeriodYear").clearValidators(),this.putForm.get("cardValidPeriodMonth").clearValidators(),this.putForm.get("cardQuotaMonth").clearValidators(),this.putForm.get("cardApprovalNo").clearValidators(),this.putForm.get("giftCardTypeCode").clearValidators(),this.putForm.get("giftCardExpireDate").clearValidators(),this.putForm.get("paymentRelatedNo").clearValidators(),this.putForm.get("cardNo").setValue(null),this.putForm.get("cardHolderName").setValue(null),this.putForm.get("cardValidPeriodYear").setValue(null),this.putForm.get("cardValidPeriodMonth").setValue(null),this.putForm.get("cardQuotaMonth").setValue(null),this.putForm.get("cardApprovalNo").setValue(null),this.putForm.get("paymentRelatedNo").setValue(null),this.putForm.get("giftCardTypeCode").setValue(null),this.putForm.get("giftCardExpireDate").setValue(null),this.putForm.get("cardMasterCode").updateValueAndValidity(),this.putForm.get("cardNo").updateValueAndValidity(),this.putForm.get("cardValidPeriodYear").updateValueAndValidity(),this.putForm.get("cardValidPeriodMonth").updateValueAndValidity(),this.putForm.get("cardQuotaMonth").updateValueAndValidity(),this.putForm.get("cardApprovalNo").updateValueAndValidity(),this.putForm.get("giftCardTypeCode").updateValueAndValidity(),this.putForm.get("giftCardExpireDate").updateValueAndValidity(),this.putForm.get("paymentRelatedNo").updateValueAndValidity(),this.putForm.updateValueAndValidity()):"CCCC"===e?(this.putForm.get("cardNo").enable(),this.putForm.get("cardHolderName").enable(),this.putForm.get("cardValidPeriodYear").enable(),this.putForm.get("cardValidPeriodMonth").enable(),this.putForm.get("cardQuotaMonth").enable(),this.putForm.get("cardApprovalNo").enable(),this.putForm.get("paymentRelatedNo").disable(),this.putForm.get("giftCardTypeCode").disable(),this.putForm.get("giftCardExpireDate").disable(),this.putForm.get("cardMasterCode").setValidators([I.z.required]),this.putForm.get("cardNo").setValidators([I.z.required]),this.putForm.get("cardValidPeriodYear").setValidators([I.z.required]),this.putForm.get("cardValidPeriodMonth").setValidators([I.z.required]),this.putForm.get("cardQuotaMonth").setValidators([I.z.required]),this.putForm.get("cardApprovalNo").setValidators([I.z.required]),this.putForm.get("giftCardTypeCode").clearValidators(),this.putForm.get("giftCardExpireDate").clearValidators(),this.putForm.get("paymentRelatedNo").clearValidators(),this.putForm.get("giftCardTypeCode").setValue(null),this.putForm.get("giftCardExpireDate").setValue(null),this.putForm.get("paymentRelatedNo").setValue(null),this.putForm.get("cardMasterCode").updateValueAndValidity(),this.putForm.get("cardNo").updateValueAndValidity(),this.putForm.get("cardValidPeriodYear").updateValueAndValidity(),this.putForm.get("cardValidPeriodMonth").updateValueAndValidity(),this.putForm.get("cardQuotaMonth").updateValueAndValidity(),this.putForm.get("cardApprovalNo").updateValueAndValidity(),this.putForm.get("giftCardTypeCode").updateValueAndValidity(),this.putForm.get("giftCardExpireDate").updateValueAndValidity(),this.putForm.get("paymentRelatedNo").updateValueAndValidity()):"CCGF"===e&&(this.putForm.get("cardNo").disable(),this.putForm.get("cardHolderName").disable(),this.putForm.get("cardValidPeriodYear").disable(),this.putForm.get("cardValidPeriodMonth").disable(),this.putForm.get("cardQuotaMonth").disable(),this.putForm.get("cardApprovalNo").disable(),this.putForm.get("paymentRelatedNo").enable(),this.putForm.get("giftCardTypeCode").enable(),this.putForm.get("giftCardExpireDate").enable(),this.putForm.get("giftCardTypeCode").setValidators([I.z.required]),this.putForm.get("giftCardExpireDate").setValidators([I.z.required]),this.putForm.get("paymentRelatedNo").setValidators([I.z.required]),this.putForm.get("cardMasterCode").clearValidators(),this.putForm.get("cardNo").clearValidators(),this.putForm.get("cardValidPeriodYear").clearValidators(),this.putForm.get("cardValidPeriodMonth").clearValidators(),this.putForm.get("cardQuotaMonth").clearValidators(),this.putForm.get("cardApprovalNo").clearValidators(),this.putForm.get("cardMasterCode").setValue(null),this.putForm.get("cardNo").setValue(null),this.putForm.get("cardValidPeriodYear").setValue(null),this.putForm.get("cardValidPeriodMonth").setValue(null),this.putForm.get("cardQuotaMonth").setValue(null),this.putForm.get("cardApprovalNo").setValue(null),this.putForm.get("cardMasterCode").updateValueAndValidity(),this.putForm.get("cardNo").updateValueAndValidity(),this.putForm.get("cardValidPeriodYear").updateValueAndValidity(),this.putForm.get("cardValidPeriodMonth").updateValueAndValidity(),this.putForm.get("cardQuotaMonth").updateValueAndValidity(),this.putForm.get("cardApprovalNo").updateValueAndValidity(),this.putForm.get("giftCardTypeCode").updateValueAndValidity(),this.putForm.get("giftCardExpireDate").updateValueAndValidity(),this.putForm.get("paymentRelatedNo").updateValueAndValidity())})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(GS),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-activity-payment-manual-modal"]],inputs:{bookingItemCode:"bookingItemCode",bookingTravelerCode:"bookingTravelerCode",paymentDetailTypeList:"paymentDetailTypeList",depositTypeList:"depositTypeList",paymentBankMasterList:"paymentBankMasterList",giftCardTypeList:"giftCardTypeList"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent"},decls:89,vars:31,consts:[[1,"component-wrap"],[1,"button-area","align-r","mb5"],["type","submit",1,"btn","btn-secondary","sm",3,"click"],[3,"formGroup","connectForm"],[1,"table","table-bordered"],["width","20%"],["width","30%"],["scope","row",1,"th-bg"],["formControlName","paymentDetailTypeCode","displayKey","detailCodeNameEn","dataKey","detailCode",3,"options","isInvalid"],["formControlName","depositTypeCode","displayKey","detailCodeNameEn","dataKey","detailCode",3,"options","isInvalid"],["formControlName","cardMasterCode","displayKey","detailCodeNameEn","dataKey","detailCode",3,"options","isInvalid"],["formControlName","paidAmount","valueType","number","inputFormat","currency",3,"isInvalid"],["formControlName","paidDate","inputFormat","date",3,"isInvalid"],["formControlName","clientName",3,"isInvalid"],["formControlName","confirmUno","apiUrl","admin/common/staff","dataKey","userNo","inputFieldFormat","{0}-{1}&,{2}&,{3}","placeholder","\uc774\ub984 \uac80\uc0c9",1,"d-inline-flex","flex-fill",3,"apiCondition","apiSearchTerm","inputFieldFormatKeyList","inputFieldValue","inputId","isInvalid"],["formControlName","cardNo","placeholder","- \uc5c6\uc774 \uc785\ub825",3,"isInvalid"],["formControlName","cardHolderName","inputFormat","uppserCaseEnOnly",3,"isInvalid"],[1,"form-group"],["formControlName","cardValidPeriodYear","placeholder","YYYY",3,"isInvalid"],["formControlName","cardValidPeriodMonth","placeholder","MM",3,"isInvalid"],["formControlName","cardQuotaMonth",3,"options","isInvalid"],["formControlName","cardApprovalNo",3,"isInvalid"],["formControlName","paymentRelatedNo",3,"isInvalid"],["formControlName","giftCardTypeCode","displayKey","detailCodeNameEn","dataKey","detailCode",3,"options","isInvalid"],["formControlName","giftCardExpireDate","inputFormat","date","placeholder","YYYY-MM-DD",3,"isInvalid"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"button",2),L.fc("click",(function(){return t.onSubmit()})),L.Pc(3,"\uc800\uc7a5"),L.Vb(),L.Vb(),L.Wb(4,"form",3),L.Wb(5,"div",4),L.Wb(6,"table"),L.Wb(7,"caption"),L.Pc(8," \uacb0\uc81c \uc218\ub3d9 \ub4f1\ub85d "),L.Vb(),L.Wb(9,"colgroup"),L.Rb(10,"col",5),L.Rb(11,"col",6),L.Rb(12,"col",5),L.Rb(13,"col",6),L.Vb(),L.Wb(14,"tbody"),L.Wb(15,"tr"),L.Wb(16,"th",7),L.Pc(17,"\uc608\uc57d\ucf54\ub4dc"),L.Vb(),L.Wb(18,"td"),L.Pc(19),L.Vb(),L.Wb(20,"th",7),L.Pc(21,"\uc804\uc1a1\uad6c\ubd84"),L.Vb(),L.Wb(22,"td"),L.Rb(23,"app-selectbox",8),L.Vb(),L.Vb(),L.Wb(24,"tr"),L.Wb(25,"th",7),L.Pc(26,"\uc785\uae08\uad6c\ubd84"),L.Vb(),L.Wb(27,"td"),L.Rb(28,"app-selectbox",9),L.Vb(),L.Wb(29,"th",7),L.Pc(30,"\uc138\ubd80\uad6c\ubd84"),L.Vb(),L.Wb(31,"td"),L.Rb(32,"app-selectbox",10),L.Vb(),L.Vb(),L.Wb(33,"tr"),L.Wb(34,"th",7),L.Pc(35,"\uc785\uae08\uc561"),L.Vb(),L.Wb(36,"td"),L.Rb(37,"app-input-text",11),L.Vb(),L.Wb(38,"th",7),L.Pc(39,"\uc785\uae08\uc77c\uc790"),L.Vb(),L.Wb(40,"td"),L.Rb(41,"app-input-text",12),L.Vb(),L.Vb(),L.Wb(42,"tr"),L.Wb(43,"th",7),L.Pc(44,"\uc785\uae08\uace0\uac1d"),L.Vb(),L.Wb(45,"td"),L.Rb(46,"app-input-text",13),L.Vb(),L.Wb(47,"th",7),L.Pc(48,"\uc785\uae08\uc0ac\uc6d0"),L.Vb(),L.Wb(49,"td"),L.Rb(50,"app-auto-complete",14),L.Vb(),L.Vb(),L.Wb(51,"tr"),L.Wb(52,"th",7),L.Pc(53,"\uce74\ub4dc\ubc88\ud638"),L.Vb(),L.Wb(54,"td"),L.Rb(55,"app-input-text",15),L.Vb(),L.Wb(56,"th",7),L.Pc(57,"\uce74\ub4dc\uc18c\uc720\uc790\uba85"),L.Vb(),L.Wb(58,"td"),L.Rb(59,"app-input-text",16),L.Vb(),L.Vb(),L.Wb(60,"tr"),L.Wb(61,"th",7),L.Pc(62,"\uce74\ub4dc \uc720\ud6a8\uae30\uac04"),L.Vb(),L.Wb(63,"td"),L.Wb(64,"div",17),L.Rb(65,"app-input-text",18),L.Rb(66,"app-input-text",19),L.Vb(),L.Vb(),L.Wb(67,"th",7),L.Pc(68,"\ud560\ubd80"),L.Vb(),L.Wb(69,"td"),L.Rb(70,"app-selectbox",20),L.Vb(),L.Vb(),L.Wb(71,"tr"),L.Wb(72,"th",7),L.Pc(73,"\uce74\ub4dc\uc2b9\uc778\ubc88\ud638"),L.Vb(),L.Wb(74,"td"),L.Rb(75,"app-input-text",21),L.Vb(),L.Wb(76,"th",7),L.Pc(77,"\uc0c1\ud488\uad8c\ubc88\ud638"),L.Vb(),L.Wb(78,"td"),L.Rb(79,"app-input-text",22),L.Vb(),L.Vb(),L.Wb(80,"tr"),L.Wb(81,"th",7),L.Pc(82,"\uc0c1\ud488\uad8c\uad6c\ubd84"),L.Vb(),L.Wb(83,"td"),L.Rb(84,"app-selectbox",23),L.Vb(),L.Wb(85,"th",7),L.Pc(86,"\uc0c1\ud488\uad8c\uc720\ud6a8\uae30\uac04"),L.Vb(),L.Wb(87,"td"),L.Rb(88,"app-input-text",24),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.Cb(4),L.pc("formGroup",t.putForm)("connectForm",t.putFormData),L.Cb(15),L.Qc(t.bookingItemCode),L.Cb(4),L.pc("options",t.paymentDetailTypeList)("isInvalid",t.checkIsInvalid("paymentDetailTypeCode")),L.Cb(5),L.pc("options",t.depositTypeList)("isInvalid",t.checkIsInvalid("depositTypeCode")),L.Cb(4),L.pc("options",t.bankMasterList)("isInvalid",t.checkIsInvalid("cardMasterCode")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("paidAmount")),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("paidDate")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("clientName")),L.Cb(4),L.pc("apiCondition",L.tc(29,rU))("apiSearchTerm","name")("inputFieldFormatKeyList",L.tc(30,lU))("inputFieldValue","")("inputId","refundPicUnoInput")("isInvalid",t.checkIsInvalid("confirmUno")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("cardNo")),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("cardHolderName")),L.Cb(6),L.pc("isInvalid",t.checkIsInvalid("cardValidPeriodYear")),L.Cb(1),L.pc("isInvalid",t.checkIsInvalid("cardValidPeriodMonth")),L.Cb(4),L.pc("options",t.cardQuotaMonthList)("isInvalid",t.checkIsInvalid("cardQuotaMonth")),L.Cb(5),L.pc("isInvalid",t.checkIsInvalid("cardApprovalNo")),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("paymentRelatedNo")),L.Cb(5),L.pc("options",t.giftCardTypeList)("isInvalid",t.checkIsInvalid("giftCardTypeCode")),L.Cb(4),L.pc("isInvalid",t.checkIsInvalid("giftCardExpireDate")))},directives:[I.B,I.s,I.k,J.a,Se.a,I.r,I.i,ee.a,ne.a],encapsulation:2,changeDetection:0}),e})();function bU(e,t){if(1&e&&(L.Wb(0,"tr"),L.Wb(1,"td",9),L.Pc(2),L.Vb(),L.Wb(3,"td",9),L.Pc(4),L.Vb(),L.Wb(5,"td",9),L.Pc(6),L.Vb(),L.Wb(7,"td",9),L.Pc(8),L.Vb(),L.Wb(9,"td",9),L.Pc(10),L.Vb(),L.Vb()),2&e){const e=L.hc().$implicit;L.Cb(2),L.Qc(e.activityVoucherSeq),L.Cb(2),L.Qc(e.vendorSalesNo),L.Cb(2),L.Qc(e.vendorCouponNo),L.Cb(2),L.Qc(e.ticketUsedYn),L.Cb(2),L.Qc(e.ticketUsedDate)}}function uU(e,t){if(1&e&&(L.Ub(0),L.Nc(1,bU,11,5,"tr",8),L.Tb()),2&e){const e=L.hc(2);L.Cb(1),L.pc("ngIf",null!==e.vouchers[0].vendorSalesNo)}}function pU(e,t){1&e&&(L.Ub(0),L.Wb(1,"tr"),L.Wb(2,"td",10),L.Pc(3,"\ud2f0\ucf13 \uc0c1\uc138\uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."),L.Vb(),L.Vb(),L.Tb())}function mU(e,t){if(1&e&&(L.Wb(0,"div",5),L.Wb(1,"table"),L.Wb(2,"caption"),L.Pc(3," \ud2f0\ucf13 \uc0c1\uc138\uc815\ubcf4 "),L.Vb(),L.Wb(4,"colgroup"),L.Rb(5,"col"),L.Rb(6,"col"),L.Rb(7,"col"),L.Rb(8,"col"),L.Rb(9,"col"),L.Vb(),L.Wb(10,"thead"),L.Wb(11,"tr"),L.Wb(12,"th",6),L.Pc(13,"SEQ"),L.Vb(),L.Wb(14,"th",6),L.Pc(15,"\uacf5\uae09\uc790 \ud310\ub9e4\ubc88\ud638"),L.Vb(),L.Wb(16,"th",6),L.Pc(17,"\ud2f0\ucf13\ubc88\ud638"),L.Vb(),L.Wb(18,"th",6),L.Pc(19,"\ud2f0\ucf13 \uc0ac\uc6a9\uc5ec\ubd80"),L.Vb(),L.Wb(20,"th",6),L.Pc(21,"\ud2f0\ucf13 \uc0ac\uc6a9\uc77c"),L.Vb(),L.Vb(),L.Vb(),L.Wb(22,"tbody"),L.Nc(23,uU,2,1,"ng-container",7),L.Nc(24,pU,4,0,"ng-container",8),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.hc();L.Cb(23),L.pc("ngForOf",e.vouchers),L.Cb(1),L.pc("ngIf",null===e.vouchers[0])}}let hU=(()=>{class e{constructor(){this.isActiveToggle=!0}get vouchers(){var e;return(null===(e=this.voucherInfo)||void 0===e?void 0:e.vouchers)||[]}ngOnInit(){}onClickToggle(){this.isActiveToggle=!this.isActiveToggle}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-activity-voucher-info"]],inputs:{voucherInfo:"voucherInfo"},decls:6,vars:3,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title","toggle",3,"click"],[1,"control"],["class","table table-bordered table-responsive",4,"ngIf"],[1,"table","table-bordered","table-responsive"],["scope","col",1,"align-c"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"align-c"],["colspan","6",1,"align-c"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"a",2),L.fc("click",(function(){return t.onClickToggle()})),L.Pc(3,"\ud2f0\ucf13 \uc0c1\uc138\uc815\ubcf4"),L.Vb(),L.Rb(4,"div",3),L.Vb(),L.Nc(5,mU,25,2,"div",4),L.Vb()),2&e&&(L.Cb(2),L.Gb("active",t.isActiveToggle),L.Cb(3),L.pc("ngIf",t.isActiveToggle))},directives:[k.o,k.n],encapsulation:2,changeDetection:0}),e})();const gU=function(){return[]};function fU(e,t){if(1&e){const e=L.Xb();L.Wb(0,"div",0),L.Wb(1,"app-reservation-flight-schedule-form",3,4),L.fc("addEvent",(function(t){return L.Fc(e),L.hc().onAddSegmentHandler(t)}))("saveEvent",(function(t){return L.Fc(e),L.hc().onSaveSegmentHandler(t)})),L.ic(3,"async"),L.ic(4,"async"),L.Vb(),L.Vb()}if(2&e){const e=L.hc();var n;const t=(null==(n=L.jc(4,5,e.travelerInfo$))?null:n.travelers)||L.tc(7,gU);L.Cb(1),L.pc("segment",L.jc(3,3,e.selectedScheduleInfo$))("bookingItemCode",e.bookingItemCode)("travelers",t)}}let vU=(()=>{class e{constructor(e){this.store=e,this._subscribeStore()}ngOnInit(){}ngOnDestroy(){this.store.dispatch(h.resetScheduleFormAction()),this.store.dispatch(h.closeScheduleFormAction())}onCheckSegmentRowidHandler(e){this.store.dispatch(h.checkScheduleRowidAction({rowid:e}))}onSelectSegmentHandler(e){this.store.dispatch(h.clickScheduleRowAction({segment:e})),this.store.dispatch(h.openScheduleFormAction())}onSaveSegmentHandler(e){this.store.dispatch(h.saveScheduleAction({condition:e}))}onAddSegmentHandler(e){this.store.dispatch(h.addScheduleAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this.bookingItemCode})}))}onDeleteSegmentHandler(e){this.store.dispatch(h.deleteScheduleAction({condition:e}))}clickAddHandler(){this.store.dispatch(h.resetScheduleFormAction()),this.store.dispatch(h.openScheduleFormAction())}_subscribeStore(){this.travelerInfo$=this.store.pipe(Object(P.u)(WO)),this.segmentInfo$=this.store.pipe(Object(P.u)(RO)),this.selectedScheduleInfo$=this.store.pipe(Object(P.u)(fj)),this.checkedScheduleRowid$=this.store.pipe(Object(P.u)(vj)),this.isOpenScheduleForm$=this.store.pipe(Object(P.u)(Cj))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-schedule"]],viewQuery:function(e,t){var n;1&e&&L.Xc(sY,!0),2&e&&L.Dc(n=L.gc())&&(t.formEl=n.first)},hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",bookingItemCode:"bookingItemCode"},decls:6,vars:11,consts:[[1,"page-item"],[3,"segments","checkedRowid","bookingItemCode","selectSegment","addEvent","deleteEvent","checkSegmentRowid"],["class","page-item",4,"ngIf"],[3,"segment","bookingItemCode","travelers","addEvent","saveEvent"],["formEl",""]],template:function(e,t){if(1&e&&(L.Wb(0,"div",0),L.Wb(1,"app-reservation-flight-schedule-list",1),L.fc("selectSegment",(function(e){return t.onSelectSegmentHandler(e)}))("addEvent",(function(){return t.clickAddHandler()}))("deleteEvent",(function(e){return t.onDeleteSegmentHandler(e)}))("checkSegmentRowid",(function(e){return t.onCheckSegmentRowidHandler(e)})),L.ic(2,"async"),L.ic(3,"async"),L.Vb(),L.Vb(),L.Nc(4,fU,5,8,"div",2),L.ic(5,"async")),2&e){var n;const e=(null==(n=L.jc(2,4,t.segmentInfo$))?null:n.segments)||L.tc(10,gU);L.Cb(1),L.pc("segments",e)("checkedRowid",L.jc(3,6,t.checkedScheduleRowid$))("bookingItemCode",t.bookingItemCode),L.Cb(3),L.pc("ngIf",L.jc(5,8,t.isOpenScheduleForm$))}},directives:[cY,k.o,sY],pipes:[k.b],encapsulation:2,changeDetection:0}),e})();const CU=function(){return[]},yU=function(){return{}};let kU=(()=>{class e{constructor(e,t,n,i){this.alertService=e,this.fileService=t,this.store=n,this.authStore=i}ngOnInit(){this._subscribeStore()}confirmEvidenceHandler(e){this.store.dispatch(h.confirmFareEvidenceAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this.bookingItemCode})}))}cancelConfirmEvidenceHandler(e){this.store.dispatch(h.cancelConfirmFareEvidenceAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this.bookingItemCode})}))}selectEvidenceHandler({evidence:e,travelerName:t,bookingTravelerCode:n}){this.store.dispatch(h.clickFareEvidenceRowAction({evidence:e,travelerName:t,bookingTravelerCode:n}))}displayEvidenceHandler(e){this.store.dispatch(h.displayFareEvidenceAction({condition:e}))}deleteEvidenceHandler(e){this.store.dispatch(h.deleteFareEvidenceAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this.bookingItemCode})}))}uploadFileHandler(e){this.fileService.fileUpload(TS.uploadFile,{file:e}).pipe(Object(nt.a)(1)).subscribe(e=>{var t;if(!0===e.succeedYn){this.alertService.alert("Upload completed.");const n=null===(t=e.result)||void 0===t?void 0:t.images[0];this.store.dispatch(h.setFareEvidenceFileUrlAction({fileUrl:n}))}else this.alertService.alert("An error occurred while uploading. Please try again later.")},e=>{this.alertService.alert("A server error occurred. Please contact the administrator.")})}saveEvidenceHandler(e){this.store.dispatch(h.saveFareEvidenceAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this.bookingItemCode})}))}_subscribeStore(){this.loginUser$=this.authStore.pipe(Object(P.u)(Xe.r)),this.fileUrl$=this.store.pipe(Object(P.u)(kj)),this.selectedEvidence$=this.store.pipe(Object(P.u)(yj)),this.travelerInfo$=this.store.pipe(Object(P.u)(WO)),this.evidenceTypeList$=this.store.pipe(Object(P.u)(oP))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a),L.Qb(Ze.a),L.Qb(P.h),L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-fare-evidence"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",bookingItemCode:"bookingItemCode"},decls:13,vars:26,consts:[[1,"page-item"],[3,"travelers","loginUser","selectedEvidenceInfo","confirmEvidence","cancelConfirmEvidence","selectEvidence"],[3,"bookingItemCode","fareEvidenceInfo","displayEvent","deleteEvent"],[3,"evidenceTypeList","travelers","fileUrl","uploadFileEvent","submitEvent"]],template:function(e,t){if(1&e&&(L.Wb(0,"div",0),L.Wb(1,"app-reservation-flight-fare-evidence-list",1),L.fc("confirmEvidence",(function(e){return t.confirmEvidenceHandler(e)}))("cancelConfirmEvidence",(function(e){return t.cancelConfirmEvidenceHandler(e)}))("selectEvidence",(function(e){return t.selectEvidenceHandler(e)})),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.Vb(),L.Vb(),L.Wb(5,"div",0),L.Wb(6,"app-reservation-flight-fare-evidence-file",2),L.fc("displayEvent",(function(e){return t.displayEvidenceHandler(e)}))("deleteEvent",(function(e){return t.deleteEvidenceHandler(e)})),L.ic(7,"async"),L.Vb(),L.Vb(),L.Wb(8,"div",0),L.Wb(9,"app-reservation-flight-fare-evidence-form",3),L.fc("uploadFileEvent",(function(e){return t.uploadFileHandler(e)}))("submitEvent",(function(e){return t.saveEvidenceHandler(e)})),L.ic(10,"async"),L.ic(11,"async"),L.ic(12,"async"),L.Vb(),L.Vb()),2&e){var n;const e=(null==(n=L.jc(2,8,t.travelerInfo$))?null:n.travelers)||L.tc(22,CU);var i;const o=(null==(i=L.jc(11,18,t.travelerInfo$))?null:i.travelers)||L.tc(25,CU);L.Cb(1),L.pc("travelers",e)("loginUser",L.jc(3,10,t.loginUser$))("selectedEvidenceInfo",L.jc(4,12,t.selectedEvidence$)||L.tc(23,yU)),L.Cb(5),L.pc("bookingItemCode",t.bookingItemCode)("fareEvidenceInfo",L.jc(7,14,t.selectedEvidence$)||L.tc(24,yU)),L.Cb(3),L.pc("evidenceTypeList",L.jc(10,16,t.evidenceTypeList$))("travelers",o)("fileUrl",L.jc(12,20,t.fileUrl$))}},directives:[hY,gY,vY],pipes:[k.b],encapsulation:2,changeDetection:0}),e})();const IU=function(){return[]};let OU=(()=>{class e{constructor(e,t,n,i){this.alertService=e,this.fileService=t,this.store=n,this.authStore=i,this._subscribeStore()}ngOnInit(){}confirmEvidenceHandler(e){this.store.dispatch(h.confirmPaymentEvidenceAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this.bookingItemCode})}))}cancelConfirmEvidenceHandler(e){this.store.dispatch(h.cancelConfirmPaymentEvidenceAction({condition:e}))}deleteEvidenceHandler({deleteInfo:e}){this.store.dispatch(h.deletePaymentEvidenceAction({condition:e}))}uploadFileHandler(e){this.fileService.fileUpload(TS.uploadFile,{file:e}).pipe(Object(nt.a)(1)).subscribe(e=>{var t;if(!0===e.succeedYn){this.alertService.alert("Upload completed.");const n=null===(t=e.result)||void 0===t?void 0:t.images[0];this.store.dispatch(h.setPaymentEvidenceFileUrlAction({fileUrl:n}))}else this.alertService.alert("An error occurred while uploading. Please try again later.")},e=>{this.alertService.alert("A server error occurred. Please contact the administrator.")})}saveEvidenceHandler(e){this.store.dispatch(h.savePaymentEvidenceAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this.bookingItemCode})}))}selectEvidencHandler(e){this.store.dispatch(h.checkPaymentEvidenceRowidAction({rowid:e}))}_subscribeStore(){this.loginUser$=this.authStore.pipe(Object(P.u)(Xe.r)),this.fileUrl$=this.store.pipe(Object(P.u)(Oj)),this.paymentEvidences$=this.store.pipe(Object(P.u)(FO)),this.selectedEvidenceRowid$=this.store.pipe(Object(P.u)(Ij))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a),L.Qb(Ze.a),L.Qb(P.h),L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-payment-evidence"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",bookingItemCode:"bookingItemCode"},decls:8,vars:13,consts:[[1,"page-item"],[3,"paymentEvidences","loginUser","selectedEvidenceRowid","confirmEvent","cancelEvent","deleteEvent","selectEvidenceEvent"],[3,"fileUrl","uploadFileEvent","submitEvent"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"app-reservation-flight-payment-evidence-list",1),L.fc("confirmEvent",(function(e){return t.confirmEvidenceHandler(e)}))("cancelEvent",(function(e){return t.cancelConfirmEvidenceHandler(e)}))("deleteEvent",(function(e){return t.deleteEvidenceHandler(e)}))("selectEvidenceEvent",(function(e){return t.selectEvidencHandler(e)})),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.Vb(),L.Vb(),L.Wb(5,"div",0),L.Wb(6,"app-reservation-flight-payment-evidence-form",2),L.fc("uploadFileEvent",(function(e){return t.uploadFileHandler(e)}))("submitEvent",(function(e){return t.saveEvidenceHandler(e)})),L.ic(7,"async"),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("paymentEvidences",L.jc(2,4,t.paymentEvidences$)||L.tc(12,IU))("loginUser",L.jc(3,6,t.loginUser$))("selectedEvidenceRowid",L.jc(4,8,t.selectedEvidenceRowid$)),L.Cb(5),L.pc("fileUrl",L.jc(7,10,t.fileUrl$)))},directives:[VY,AY],pipes:[k.b],encapsulation:2,changeDetection:0}),e})();function PU(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-cash-receipt-issue-modal",10),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().issueCashReceipt(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().closeCashReceiptIssueModalHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(1,5,e.paymentDetailInfo$))?null:n.cashPaymentInfo;L.pc("bookingItemCode",e.bookingItemCode)("cashPaymentInfo",t)("masterInfo",L.jc(2,7,e.master$))("cashReceiptPurposeList",L.jc(3,9,e.cashReceiptPurposeList$))("cashReceiptKindList",L.jc(4,11,e.cashReceiptKindList$))}}function jU(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-payment-cancel-modal",11),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().closePaymentCancelModalHandler()}))("submitEvent",(function(t){return L.Fc(e),L.hc().cancelPaymentHandler(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(1,4,e.master$))?null:n.stationTypeCode;var i;const o=null==(i=L.jc(2,6,e.paymentDetailInfo$))?null:i.payment;L.pc("bookingItemCode",e.bookingItemCode)("stationTypeCode",t)("paymentInfo",o)("selectedPaymentInfo",L.jc(3,8,e.selectedPaymentInfo$))}}function VU(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-coupon-point-payment-cancel",12),L.fc("cancelCouponEvent",(function(t){return L.Fc(e),L.hc().cancelCoupon(t)}))("cancelPointEvent",(function(t){return L.Fc(e),L.hc().cancelPoint(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().closeCouponPointCancelModal()})),L.Vb()}if(2&e){const e=L.hc();L.pc("paymentInfo",e.selectedCouponPointPaymentInfo)}}function AU(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-send-email-template",13),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().closeCashReceiptHandler()})),L.Vb()}if(2&e){const e=L.hc();L.pc("emailTitle","[OHMYHOTEL] "+e.bookingItemCode+"'s Receipt")("bookingItemCode",e.bookingItemCode)("templateGetInfo",e.receiptGetInfo)}}let WU=(()=>{class e{constructor(e){this.store=e,this._$unsubscribe=new Fe.a,this._subscribeStore()}ngOnInit(){this._initSubscribe()}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete()}openCashReceiptIssueModalHandler(){this.store.dispatch(h.openCashReceiptIssueModalAction())}closeCashReceiptIssueModalHandler(){this.store.dispatch(h.closeCashReceiptIssueModalAction())}openPaymentCancelModalHandler(){this.store.dispatch(h.openPaymentCancelModalAction())}openDeletePaymentHandler(e){this.store.dispatch(h.deletePaymentAction({condition:e}))}closePaymentCancelModalHandler(){this.store.dispatch(h.closePaymentCancelModalAction())}cancelPaymentHandler(e){this.store.dispatch(h.cancelPaymentAction({condition:Object.assign({},e)}))}cancelCoupon(e){this.store.dispatch(h.cancelCouponPaymentAction({condition:Object.assign({},e)}))}cancelPoint(e){this.store.dispatch(h.cancelPointPaymentAction({condition:Object.assign({},e)}))}openCouponPointCancelModal(e){this.selectedCouponPointPaymentInfo=e,this.store.dispatch(h.openCouponPointCancelModalAction())}closeCouponPointCancelModal(){this.selectedCouponPointPaymentInfo=null,this.store.dispatch(h.closeCouponPointCancelModalAction())}issueCashReceipt(e){this.store.dispatch(h.issueCashReceiptAction({condition:e}))}cancelCashReceipt(e){this.store.dispatch(h.cancelCashReceiptAction({condition:e}))}selectPaymentInfoHandler(e){this.store.dispatch(h.selectPaymentInfoAction({paymentDetailInfo:e}))}openCashReceiptHandler(e){const{receiptSeq:t}=e,n=Object.assign(Object.assign({},e),{bookingItemCode:this.bookingItemCode}),{stationTypeCode:i}=this._master;this.receiptGetInfo={itemCategoryCode:"IC01",bookingItemCode:this.bookingItemCode,stationTypeCode:i,receiptSeq:t,invoiceYn:!1},this.store.dispatch(h.openCashReceiptAction({cashReceiptInfo:n}))}closeCashReceiptHandler(){this.receiptGetInfo=null,this.store.dispatch(h.closeCashReceiptAction())}_subscribeStore(){this.paymentDetailInfo$=this.store.pipe(Object(P.u)(KO)),this.isOpenCashReceiptIssueModal$=this.store.pipe(Object(P.u)(KP)),this.isOpenPaymentCancelModal$=this.store.pipe(Object(P.u)(dj)),this.isOpenCouponPointCancelModal$=this.store.pipe(Object(P.u)(bj)),this.isOpenCashReceiptModal$=this.store.pipe(Object(P.u)(mj)),this.selectedPaymentInfo$=this.store.pipe(Object(P.u)(jj)),this.cashReceiptInfo$=this.store.pipe(Object(P.u)(gj)),this.adjustReasonList$=this.store.pipe(Object(P.u)(CP)),this.master$=this.store.pipe(Object(P.u)(OO)),this.cashReceiptPurposeList$=this.store.pipe(Object(P.u)(sP)),this.cashReceiptKindList$=this.store.pipe(Object(P.u)(rP))}_initSubscribe(){this.master$.pipe(Object(Ci.a)(this._$unsubscribe)).subscribe(e=>{this._master=e})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-payment-detail"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",bookingItemCode:"bookingItemCode"},decls:20,vars:34,consts:[[3,"paymentDetailInfo","clickCashReceiptIssueEvent","selectPaymentInfoEvent","clickOpenPaymentCancelEvent","clickDeletePaymentEvent","clickCouponPointCancelEvent"],[3,"paymentDetailInfo","clickCashReceiptIssueEvent","clickCashReceiptCancelEvent","openCashReceiptEvent"],["modalSize","sm","modalContentClass","pd-all","header","Issue Cash Receipt",3,"modal","visible","visibleChange"],[3,"bookingItemCode","cashPaymentInfo","masterInfo","cashReceiptPurposeList","cashReceiptKindList","submitEvent","closeEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","Cancellation of Approval",3,"modal","visible","visibleChange"],[3,"bookingItemCode","stationTypeCode","paymentInfo","selectedPaymentInfo","closeEvent","submitEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","\ucfe0\ud3f0/\ud3ec\uc778\ud2b8 \uacb0\uc81c \ucde8\uc18c",3,"modal","visible","visibleChange"],[3,"paymentInfo","cancelCouponEvent","cancelPointEvent","closeEvent",4,"ngIf"],["header","Cash Receipt","modalSize","sm","modalContentClass","pd-all",3,"visible","modal","visibleChange"],[3,"emailTitle","bookingItemCode","templateGetInfo","closeEvent",4,"ngIf"],[3,"bookingItemCode","cashPaymentInfo","masterInfo","cashReceiptPurposeList","cashReceiptKindList","submitEvent","closeEvent"],[3,"bookingItemCode","stationTypeCode","paymentInfo","selectedPaymentInfo","closeEvent","submitEvent"],[3,"paymentInfo","cancelCouponEvent","cancelPointEvent","closeEvent"],[3,"emailTitle","bookingItemCode","templateGetInfo","closeEvent"]],template:function(e,t){1&e&&(L.Wb(0,"app-reservation-flight-payment-detail-info",0),L.fc("clickCashReceiptIssueEvent",(function(){return t.openCashReceiptIssueModalHandler()}))("selectPaymentInfoEvent",(function(e){return t.selectPaymentInfoHandler(e)}))("clickOpenPaymentCancelEvent",(function(){return t.openPaymentCancelModalHandler()}))("clickDeletePaymentEvent",(function(e){return t.openDeletePaymentHandler(e)}))("clickCouponPointCancelEvent",(function(e){return t.openCouponPointCancelModal(e)})),L.ic(1,"async"),L.Vb(),L.Wb(2,"app-reservation-flight-payment-detail-cash-info",1),L.fc("clickCashReceiptIssueEvent",(function(){return t.openCashReceiptIssueModalHandler()}))("clickCashReceiptCancelEvent",(function(e){return t.cancelCashReceipt(e)}))("openCashReceiptEvent",(function(e){return t.openCashReceiptHandler(e)})),L.ic(3,"async"),L.Vb(),L.Wb(4,"app-dialog",2),L.fc("visibleChange",(function(){return t.closeCashReceiptIssueModalHandler()})),L.ic(5,"async"),L.Nc(6,PU,5,13,"app-reservation-flight-cash-receipt-issue-modal",3),L.ic(7,"async"),L.Vb(),L.Wb(8,"app-dialog",4),L.fc("visibleChange",(function(){return t.closePaymentCancelModalHandler()})),L.ic(9,"async"),L.Nc(10,jU,4,10,"app-reservation-flight-payment-cancel-modal",5),L.ic(11,"async"),L.Vb(),L.Wb(12,"app-dialog",6),L.fc("visibleChange",(function(){return t.closeCouponPointCancelModal()})),L.ic(13,"async"),L.Nc(14,VU,1,1,"app-coupon-point-payment-cancel",7),L.ic(15,"async"),L.Vb(),L.Wb(16,"app-dialog",8),L.fc("visibleChange",(function(){return t.closeCashReceiptHandler()})),L.ic(17,"async"),L.Nc(18,AU,1,3,"app-reservation-send-email-template",9),L.ic(19,"async"),L.Vb()),2&e&&(L.pc("paymentDetailInfo",L.jc(1,14,t.paymentDetailInfo$)),L.Cb(2),L.pc("paymentDetailInfo",L.jc(3,16,t.paymentDetailInfo$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(5,18,t.isOpenCashReceiptIssueModal$)),L.Cb(2),L.pc("ngIf",L.jc(7,20,t.isOpenCashReceiptIssueModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(9,22,t.isOpenPaymentCancelModal$)),L.Cb(2),L.pc("ngIf",L.jc(11,24,t.isOpenPaymentCancelModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(13,26,t.isOpenCouponPointCancelModal$)),L.Cb(2),L.pc("ngIf",L.jc(15,28,t.isOpenCouponPointCancelModal$)),L.Cb(2),L.pc("visible",L.jc(17,30,t.isOpenCashReceiptModal$))("modal",!0),L.Cb(2),L.pc("ngIf",L.jc(19,32,t.isOpenCashReceiptModal$)))},directives:[NY,tY,un.a,k.o,aq,rq,PS,Kn],pipes:[k.b],encapsulation:2,changeDetection:0}),e})(),RU=(()=>{class e{constructor(e){this.store=e,this._$unsubscribe=new Fe.a,this._subscribeStore()}ngOnInit(){}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete()}submitRefundBillingHandler(e){this.store.dispatch(h.saveRefundBillingAction({condition:e}))}submitRefundDsrHandler(e){this.store.dispatch(h.saveRefundDsrAction({condition:e}))}submitRefundPaymentHandler(e){this.store.dispatch(h.saveRefundPaymentAction({condition:e}))}_subscribeStore(){this.refundInfo$=this.store.pipe(Object(P.u)(XO)),this.refundDsrFinishYn$=this.store.pipe(Object(P.u)(BO)),this.bspBillingPeriodList$=this.store.pipe(Object(P.u)(vP)),this.billingTypeList$=this.store.pipe(Object(P.u)(hP)),this.bankMasterList$=this.store.pipe(Object(P.u)(uP)),this.gdsNdcCompList$=this.store.pipe(Object(P.u)(gP)),this.selectedRefundTicketInfo$=this.store.pipe(Object(P.u)(Wj)),this.summaryInfo$=this.store.pipe(Object(P.u)(AO))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-ticket-refund-register"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active"},decls:19,vars:39,consts:[[1,"page-item"],[3,"stationTypeCode","basicInfo"],[3,"refundDsrFinishYn","ticketInfo","billingInfo","bspBillingPeriodList","submitEvent"],[3,"stationTypeCode","refundDsrFinishYn","refundInfo","ticketInfo","billingTypeList","bankMasterList","gdsNdcCompList","submitEvent"]],template:function(e,t){if(1&e&&(L.Wb(0,"div",0),L.Rb(1,"app-reservation-flight-ticket-refund-register-info",1),L.ic(2,"async"),L.ic(3,"async"),L.Vb(),L.Wb(4,"div",0),L.Wb(5,"app-reservation-flight-ticket-refund-register-billing",2),L.fc("submitEvent",(function(e){return t.submitRefundBillingHandler(e)})),L.ic(6,"async"),L.ic(7,"async"),L.ic(8,"async"),L.ic(9,"async"),L.Vb(),L.Vb(),L.Wb(10,"div",0),L.Wb(11,"app-reservation-flight-ticket-refund-register-dsr",3),L.fc("submitEvent",(function(e){return t.submitRefundDsrHandler(e)})),L.ic(12,"async"),L.ic(13,"async"),L.ic(14,"async"),L.ic(15,"async"),L.ic(16,"async"),L.ic(17,"async"),L.ic(18,"async"),L.Vb(),L.Vb()),2&e){var n;const e=null==(n=L.jc(2,13,t.summaryInfo$))?null:n.stationTypeCode;var i;const c=null==(i=L.jc(3,15,t.refundInfo$))?null:i.basicInfo;var o;const s=null==(o=L.jc(8,21,t.refundInfo$))?null:o.billingInfo;var a;const r=null==(a=L.jc(12,25,t.summaryInfo$))?null:a.stationTypeCode;L.Cb(1),L.pc("stationTypeCode",e)("basicInfo",c),L.Cb(4),L.pc("refundDsrFinishYn",L.jc(6,17,t.refundDsrFinishYn$))("ticketInfo",L.jc(7,19,t.selectedRefundTicketInfo$))("billingInfo",s)("bspBillingPeriodList",L.jc(9,23,t.bspBillingPeriodList$)),L.Cb(6),L.pc("stationTypeCode",r)("refundDsrFinishYn",L.jc(13,27,t.refundDsrFinishYn$))("refundInfo",L.jc(14,29,t.refundInfo$))("ticketInfo",L.jc(15,31,t.selectedRefundTicketInfo$))("billingTypeList",L.jc(16,33,t.billingTypeList$))("bankMasterList",L.jc(17,35,t.bankMasterList$))("gdsNdcCompList",L.jc(18,37,t.gdsNdcCompList$))}},directives:[vH,EH,QH],pipes:[k.b],encapsulation:2,changeDetection:0}),e})(),FU=(()=>{class e{constructor(e){this.store=e,this.clickRefundDetailEvent=new L.n,this.clickManualTicketEvent=new L.n,this.clickDeleteDsrMappingEvent=new L.n,this._subscribeStore()}ngOnInit(){}openTicketRefundDetailHandler(e){this.clickRefundDetailEvent.emit(),this.store.dispatch(h.selectedRefundTicketInfoAction({refundTicketInfo:e})),this.store.dispatch(h.loadRefundInfoAction({condition:e}))}clickManualTicketHandler(){this.clickManualTicketEvent.emit()}clickDeleteDsrMappingHandler(e){this.store.dispatch(h.deleteDsrMappingAction({condition:e}))}_subscribeStore(){this.ticketDetailInfo$=this.store.pipe(Object(P.u)(GO))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-ticket-sale-ticketing"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active"},outputs:{clickRefundDetailEvent:"clickRefundDetailEvent",clickManualTicketEvent:"clickManualTicketEvent",clickDeleteDsrMappingEvent:"clickDeleteDsrMappingEvent"},decls:3,vars:3,consts:[[1,"page-item"],[3,"ticketDetailInfo","clickRefundDetailEvent","clickManualTicketEvent","clickDeleteDsrMappingEvent"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"app-reservation-flight-ticket-sale-ticketing-ticketing-list",1),L.fc("clickRefundDetailEvent",(function(e){return t.openTicketRefundDetailHandler(e)}))("clickManualTicketEvent",(function(){return t.clickManualTicketHandler()}))("clickDeleteDsrMappingEvent",(function(e){return t.clickDeleteDsrMappingHandler(e)})),L.ic(2,"async"),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("ticketDetailInfo",L.jc(2,1,t.ticketDetailInfo$)))},directives:[JY],pipes:[k.b],encapsulation:2,changeDetection:0}),e})();function SU(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-ticket-manual-single-form",3),L.fc("saveEvent",(function(t){return L.Fc(e),L.hc().saveTicketManualInfoHandler(t)}))("deleteEvent",(function(t){return L.Fc(e),L.hc().deleteTicketManualInfoHandler(t)}))("clickManualTicketNo",(function(t){return L.Fc(e),L.hc().loadTicketNoHandler(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.ic(5,"async"),L.ic(6,"async"),L.ic(7,"async"),L.ic(8,"async"),L.ic(9,"async"),L.ic(10,"async"),L.ic(11,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(2,14,e.summary$))?null:n.gdsSubPnr;var i=null;const o=null==(i=L.jc(11,32,e.manualTicketNoList$))?null:i.first();L.pc("ticketingDsrFinishYn",L.jc(1,12,e.selectedTicketDetailTicketingDsrFinishYn$))("bookingItemCode",e.bookingItemCode)("gdsSubPnr",t)("ticketDetailInfo",L.jc(3,16,e.ticketDetailInfo$))("ticketVoidTypeList",L.jc(4,18,e.ticketVoidTypeList$))("ticketingStatusList",L.jc(5,20,e.ticketingStatusCodeList$))("fopCodeList",L.jc(6,22,e.fopCodeList$))("billingTypeList",L.jc(7,24,e.billingTypeList$))("gdsNdcCompList",L.jc(8,26,e.gdsNdcCompList$))("etEmdOtherTypeList",L.jc(9,28,e.etEmdOtherTypeList$))("bookingTravelerList",L.jc(10,30,e.bookingTravelerList$))("manualTicketNo",o)}}function TU(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-ticket-manual-many-form",4),L.fc("saveEvent",(function(t){return L.Fc(e),L.hc().saveTicketManualInfoHandler(t)}))("clickManualTicketNo",(function(t){return L.Fc(e),L.hc().loadTicketNoHandler(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.ic(5,"async"),L.ic(6,"async"),L.ic(7,"async"),L.ic(8,"async"),L.ic(9,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(1,10,e.summary$))?null:n.gdsSubPnr;var i;const o=null==(i=L.jc(8,24,e.travelerInfo$))?null:i.travelers;L.pc("bookingItemCode",e.bookingItemCode)("gdsSubPnr",t)("billingTypeList",L.jc(2,12,e.billingTypeList$))("ticketVoidTypeList",L.jc(3,14,e.ticketVoidTypeList$))("ticketingStatusList",L.jc(4,16,e.ticketingStatusCodeList$))("gdsNdcCompList",L.jc(5,18,e.gdsNdcCompList$))("etEmdOtherTypeList",L.jc(6,20,e.etEmdOtherTypeList$))("fopCodeList",L.jc(7,22,e.fopCodeList$))("travelers",o)("manualTicketNoList",L.jc(9,26,e.manualTicketNoList$))}}let NU=(()=>{class e{constructor(e){this.store=e,this.isSingleForm=!0,this._subscribeStore()}ngOnInit(){}ngOnDestroy(){this.store.dispatch(h.removeTicketDetailInfo())}changeFormHandler(e){this.isSingleForm=e,this.store.dispatch(h.removeTicketNoAction())}saveTicketManualInfoHandler(e){this.store.dispatch(h.saveManualTicketInfoAction({condition:Object.assign({},e)}))}deleteTicketManualInfoHandler(e){this.store.dispatch(h.deleteManualTicketInfoAction({condition:Object.assign({},e)}))}loadTicketNoHandler(e){this.store.dispatch(h.loadTicketNoAction({condition:e}))}_subscribeStore(){this.summary$=this.store.pipe(Object(P.u)(AO)),this.travelerInfo$=this.store.pipe(Object(P.u)(WO)),this.bookingTravelerList$=this.store.pipe(Object(P.u)(VP)),this.manualTicketNoList$=this.store.pipe(Object(P.u)(EP)),this.ticketDetailInfo$=this.store.pipe(Object(P.u)(Rj)),this.selectedTicketDetailTicketingDsrFinishYn$=this.store.pipe(Object(P.u)(Fj)),this.ticketingDsrFinishYn$=this.store.pipe(Object(P.u)($O)),this.ticketingStatusCodeList$=this.store.pipe(Object(P.u)(pP)),this.fopCodeList$=this.store.pipe(Object(P.u)(mP)),this.billingTypeList$=this.store.pipe(Object(P.u)(hP)),this.gdsNdcCompList$=this.store.pipe(Object(P.u)(gP)),this.ticketVoidTypeList$=this.store.pipe(Object(P.u)(WP)),this.etEmdOtherTypeList$=this.store.pipe(Object(P.u)(jP))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-ticket-manual"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",bookingItemCode:"bookingItemCode"},decls:3,vars:2,consts:[[1,"page-item"],[3,"ticketingDsrFinishYn","bookingItemCode","gdsSubPnr","ticketDetailInfo","ticketVoidTypeList","ticketingStatusList","fopCodeList","billingTypeList","gdsNdcCompList","etEmdOtherTypeList","bookingTravelerList","manualTicketNo","saveEvent","deleteEvent","clickManualTicketNo",4,"ngIf"],[3,"bookingItemCode","gdsSubPnr","billingTypeList","ticketVoidTypeList","ticketingStatusList","gdsNdcCompList","etEmdOtherTypeList","fopCodeList","travelers","manualTicketNoList","saveEvent","clickManualTicketNo",4,"ngIf"],[3,"ticketingDsrFinishYn","bookingItemCode","gdsSubPnr","ticketDetailInfo","ticketVoidTypeList","ticketingStatusList","fopCodeList","billingTypeList","gdsNdcCompList","etEmdOtherTypeList","bookingTravelerList","manualTicketNo","saveEvent","deleteEvent","clickManualTicketNo"],[3,"bookingItemCode","gdsSubPnr","billingTypeList","ticketVoidTypeList","ticketingStatusList","gdsNdcCompList","etEmdOtherTypeList","fopCodeList","travelers","manualTicketNoList","saveEvent","clickManualTicketNo"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Nc(1,SU,12,34,"app-reservation-flight-ticket-manual-single-form",1),L.Nc(2,TU,10,28,"app-reservation-flight-ticket-manual-many-form",2),L.Vb()),2&e&&(L.Cb(1),L.pc("ngIf",t.isSingleForm),L.Cb(1),L.pc("ngIf",!t.isSingleForm))},directives:[k.o,rH,fH],pipes:[k.b],encapsulation:2,changeDetection:0}),e})(),EU=(()=>{class e{constructor(e,t,n){this.alertService=e,this.store=t,this.authStore=n}ngOnInit(){this._subscribeStore()}savePolicyMonitoringHandler(e){this.store.dispatch(h.savePolicyMonitoringInfoAction({condition:e}))}_subscribeStore(){this.loginUser$=this.authStore.pipe(Object(P.u)(Xe.r)),this.policyMonitoringInfo$=this.store.pipe(Object(P.u)(LO)),this.corporateReasonList$=this.store.pipe(Object(P.u)(TP))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(Ae.a),L.Qb(P.h),L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-policy-monitoring"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",bookingItemCode:"bookingItemCode"},decls:7,vars:10,consts:[[1,"page-item"],[3,"policyMonitoringInfo"],[3,"bookingItemCode","policyMonitoringInfo","corporateReasonList","submitEvent"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Rb(1,"app-reservation-flight-policy-monitoring-info",1),L.ic(2,"async"),L.Vb(),L.Wb(3,"div",0),L.Wb(4,"app-reservation-flight-policy-monitoring-out-of-policy",2),L.fc("submitEvent",(function(e){return t.savePolicyMonitoringHandler(e)})),L.ic(5,"async"),L.ic(6,"async"),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("policyMonitoringInfo",L.jc(2,4,t.policyMonitoringInfo$)),L.Cb(3),L.pc("bookingItemCode",t.bookingItemCode)("policyMonitoringInfo",L.jc(5,6,t.policyMonitoringInfo$))("corporateReasonList",L.jc(6,8,t.corporateReasonList$)))},directives:[zH,XH],pipes:[k.b],encapsulation:2,changeDetection:0}),e})();var MU=n("iO9o");function DU(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-request-remark",61),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().saveRequestRemarkHandler(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("bookingItemCode",L.jc(1,3,e.bookingItemCode$))("summaryInfo",L.jc(2,5,e.summary$))("changeRequests",L.jc(3,7,e.changeRequests$))}}const LU=function(){return[]};function _U(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-traveler-divide-modal",62),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().divideTravelersHandler(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().clickTravelerDivideModalCloseHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(1,3,e.summary$))?null:n.gdsSubPnr;var i;const o=(null==(i=L.jc(2,5,e.travelerInfo$))?null:i.travelers)||L.tc(9,LU);L.pc("originGdsSubPnr",t)("travelers",o)("bookingItemCode",L.jc(3,7,e.bookingItemCode$))}}function $U(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-pg-credit-card-sales-modal",63),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().sendPgCreditCardPayment(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().clickPgCreditCardModalCloseHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("bookingItemCode",L.jc(1,4,e.bookingItemCode$))("prices",L.jc(2,6,e.selectedPrices$))("bankList",L.jc(3,8,e.cardMasterList$))("cardHolderTypeList",L.jc(4,10,e.cardHolderTypeList$))}}function BU(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-pg-bank-sales-modal",64),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().issuePgBankHandler(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().clickPgBankModalCloseHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("bookingItemCode",L.jc(1,3,e.bookingItemCode$))("prices",L.jc(2,5,e.selectedPrices$))("bankMasterList",L.jc(3,7,e.bankMasterList$))}}function wU(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-send-email-template",65),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().closeInvoiceHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("templateGetInfo",L.jc(1,2,e.invoiceGetInfo$))("emailTitle","[OHMYHOTEL] "+L.jc(2,4,e.bookingItemCode$)+"'s Invoice")}}function xU(e,t){if(1&e&&(L.Rb(0,"app-reservation-flight-charge-info-modal",66),L.ic(1,"async")),2&e){const e=L.hc();L.pc("bookingItemCode",L.jc(1,1,e.bookingItemCode$))}}function YU(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-charge-info-update-modal",67),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().updateChargeInfoHandler(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("bookingItemCode",L.jc(1,3,e.bookingItemCode$))("chargePriceInfo",L.jc(2,5,e.selectedChargePriceInfo$))("adjustReasonList",L.jc(3,7,e.adjustReasonList$))}}function HU(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-pg-credit-card-charge-modal",63),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().sendChargePgCreditCardPayment(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().clickChargePgCreditCardModalCloseHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("bookingItemCode",L.jc(1,4,e.bookingItemCode$))("prices",L.jc(2,6,e.selectedChargePrices$))("bankList",L.jc(3,8,e.cardMasterList$))("cardHolderTypeList",L.jc(4,10,e.cardHolderTypeList$))}}function qU(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-pg-bank-charge-modal",64),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().issueChargePgBankHandler(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().clickChargePgBankModalCloseHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("bookingItemCode",L.jc(1,3,e.bookingItemCode$))("prices",L.jc(2,5,e.selectedChargePrices$))("bankMasterList",L.jc(3,7,e.bankMasterList$))}}function UU(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-ancillary-info-modal",68),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().saveAncillaryInfoHandler(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().clickAncillaryInfoModalCloseHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.ic(5,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=(null==(n=L.jc(1,5,e.segmentInfo$))?null:n.segments)||L.tc(15,LU);L.pc("segments",t)("bookingItemCode",L.jc(2,7,e.bookingItemCode$))("bookingTravelerList",L.jc(3,9,e.bookingTravelerList$))("ancillaryTypeList",L.jc(4,11,e.ancillaryTypeList$))("ancillaryStatusList",L.jc(5,13,e.ancillaryStatusList$))}}function QU(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-pg-credit-card-ancillary-modal",63),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().sendAncillaryPgCreditCardPayment(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().clickAncillaryPgCreditCardModalCloseHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("bookingItemCode",L.jc(1,4,e.bookingItemCode$))("prices",L.jc(2,6,e.selectedAncillaryPrices$))("bankList",L.jc(3,8,e.cardMasterList$))("cardHolderTypeList",L.jc(4,10,e.cardHolderTypeList$))}}function GU(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-pg-bank-ancillary-modal",69),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().issueAncillaryPgBankHandler(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().clickAncillaryPgBankModalCloseHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("bookingItemCode",L.jc(1,4,e.bookingItemCode$))("isChargePrice",!0)("prices",L.jc(2,6,e.selectedAncillaryPrices$))("bankMasterList",L.jc(3,8,e.bankMasterList$))}}function KU(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-pg-credit-card-approve-modal",70),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().sendTasfPgCardHandler(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().clickPgCreditCardApproveModalCloseHandler()})),L.ic(1,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("paymentApproveInfo",L.jc(1,1,e.paymentApproveInfo$))}}function zU(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-payment-info-type-select-modal",71),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().submitPaymentInfoTypeSelect(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().clickPaymentInfoTypeSelectModalCloseHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("bookingItemCode",L.jc(1,2,e.bookingItemCode$))("bookingTravelerList",L.jc(2,4,e.bookingTravelerList$))}}function XU(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-payment-info-register-modal",72),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().clickPaymentInfoRegisterModalCloseHandler()})),L.ic(1,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("bookingItemCode",L.jc(1,1,e.bookingItemCode$))}}function ZU(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-payment-info-update-modal",73),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().clickPaymentInfoUpdateModalCloseHandler()})),L.Vb()}}function JU(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-cancel-modal",74),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().cancelSubmitHandler(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().clickCancelModalCloseHandler()})),L.ic(1,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("bookingItemCode",L.jc(1,1,e.bookingItemCode$))}}function eQ(e,t){if(1&e){const e=L.Xb();L.Wb(0,"li",75),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc().onClickCurrentSubTab(n)})),L.ic(1,"async"),L.Wb(2,"a",76),L.Pc(3),L.Vb(),L.Wb(4,"a",77),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc().onClickDelSubTab(n)})),L.Pc(5,"\ub2eb\uae30"),L.Vb(),L.Vb()}if(2&e){const e=t.$implicit,n=L.hc();L.pc("active",e===L.jc(1,2,n.currentSubTab$)),L.Cb(3),L.Qc(e)}}function tQ(e,t){if(1&e&&(L.Rb(0,"app-reservation-flight-basis",78),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async")),2&e){const e=L.hc();L.pc("active",L.jc(1,4,e.currentSubTab$)===e.tabNames.BASIS)("bookingItemCode",L.jc(2,6,e.bookingItemCode$))("paymentStatusCodeList",L.jc(3,8,e.paymentStatusCodeList$))("ticketingStatusCodeList",L.jc(4,10,e.ticketingStatusCodeList$))}}function nQ(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-travelers",79),L.fc("saveEvent",(function(t){return L.Fc(e),L.hc().saveTravelerInfoHandler(t)}))("deleteEvent",(function(t){return L.Fc(e),L.hc().deleteTravelerInfoHandler(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.ic(5,"async"),L.ic(6,"async"),L.ic(7,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=(null==(n=L.jc(3,11,e.travelerInfo$))?null:n.travelers)||L.tc(21,LU);var i;const o=null==(i=L.jc(7,19,e.summary$))?null:i.bookerCompCode;L.pc("active",L.jc(1,7,e.currentSubTab$)===e.tabNames.TRAVELERS)("ticketingDsrFinishYn",L.jc(2,9,e.ticketingDsrFinishYn$))("travelers",t)("segmentInfo",L.jc(4,13,e.segmentInfo$))("ageTypeList",L.jc(5,15,e.ageTypeList$))("stationTypeCode",L.jc(6,17,e.stationTypeCode$))("bookerCompCode",o)}}function iQ(e,t){if(1&e&&(L.Rb(0,"app-reservation-flight-price-detail",80),L.ic(1,"async"),L.ic(2,"async")),2&e){const e=L.hc();L.pc("active",L.jc(1,2,e.currentSubTab$)===e.tabNames.PRICE)("bookingItemCode",L.jc(2,4,e.bookingItemCode$))}}function oQ(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-booker",81),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().saveBookerInfoHandler(t)})),L.ic(1,"async"),L.ic(2,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("active",L.jc(1,2,e.currentSubTab$)===e.tabNames.BOOKER)("masterInfo",L.jc(2,4,e.master$))}}function aQ(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-user",82),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().changeBookerHandler(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("active",L.jc(1,4,e.currentSubTab$)===e.tabNames.USER_INFO)("bookerInfo",L.jc(2,6,e.bookerInfo$))("masterInfo",L.jc(3,8,e.master$))("stationTypeCode",L.jc(4,10,e.stationTypeCode$))}}const cQ=function(e){return[e]};function sQ(e,t){if(1&e&&(L.Rb(0,"app-ums",83),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.ic(5,"async")),2&e){const e=L.hc();L.pc("active",L.jc(1,5,e.currentSubTab$)===e.tabNames.UMS)("stationTypeCode",L.jc(2,7,e.stationTypeCode$))("bookingItemCode",L.jc(3,9,e.bookingItemCode$))("bookingCode",L.jc(4,11,e.master$).bookingCode)("bookers",L.uc(15,cQ,L.jc(5,13,e.bookerForUms$)))}}function rQ(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-consulting",84),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().submitConsultingInfoHandler(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("active",L.jc(1,3,e.currentSubTab$)===e.tabNames.CONSULTING)("consultingList",L.jc(2,5,e.consultingList$))("consultingSeq",L.jc(3,7,e.consultingSeq$))}}function lQ(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-memo",85),L.fc("saveMemoEvent",(function(t){return L.Fc(e),L.hc().saveMemoHandler(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("active",L.jc(1,3,e.currentSubTab$)===e.tabNames.MEMO)("bookingItemCode",L.jc(2,5,e.bookingItemCode$))("memoList",L.jc(3,7,e.bookingMemoList$))}}function dQ(e,t){if(1&e&&(L.Rb(0,"app-reservation-history",86),L.ic(1,"async"),L.ic(2,"async")),2&e){const e=L.hc();L.pc("active",L.jc(1,2,e.currentSubTab$)===e.tabNames.HISTORY)("bookingLogList",L.jc(2,4,e.bookingLogList$))}}function bQ(e,t){if(1&e&&(L.Rb(0,"app-reservation-flight-fare-rule",80),L.ic(1,"async"),L.ic(2,"async")),2&e){const e=L.hc();L.pc("active",L.jc(1,2,e.currentSubTab$)===e.tabNames.FARE_RULE)("bookingItemCode",L.jc(2,4,e.bookingItemCode$))}}function uQ(e,t){if(1&e&&(L.Rb(0,"app-reservation-flight-gds-pnr",80),L.ic(1,"async"),L.ic(2,"async")),2&e){const e=L.hc();L.pc("active",L.jc(1,2,e.currentSubTab$)===e.tabNames.GDS_PNR)("bookingItemCode",L.jc(2,4,e.bookingItemCode$))}}function pQ(e,t){if(1&e&&(L.Rb(0,"app-reservation-flight-unpaid",80),L.ic(1,"async"),L.ic(2,"async")),2&e){const e=L.hc();L.pc("active",L.jc(1,2,e.currentSubTab$)===e.tabNames.UNPAID)("bookingItemCode",L.jc(2,4,e.bookingItemCode$))}}function mQ(e,t){if(1&e&&(L.Rb(0,"app-reservation-flight-apis-mileage",80),L.ic(1,"async"),L.ic(2,"async")),2&e){const e=L.hc();L.pc("active",L.jc(1,2,e.currentSubTab$)===e.tabNames.APIS_MILEAGE)("bookingItemCode",L.jc(2,4,e.bookingItemCode$))}}function hQ(e,t){if(1&e&&(L.Rb(0,"app-reservation-flight-seat",87),L.ic(1,"async"),L.ic(2,"async")),2&e){const e=L.hc();var n;const t=(null==(n=L.jc(2,4,e.travelerInfo$))?null:n.travelers)||L.tc(6,LU);L.pc("active",L.jc(1,2,e.currentSubTab$)===e.tabNames.SEAT)("travelers",t)}}function gQ(e,t){if(1&e&&(L.Rb(0,"app-reservation-flight-schedule",80),L.ic(1,"async"),L.ic(2,"async")),2&e){const e=L.hc();L.pc("active",L.jc(1,2,e.currentSubTab$)===e.tabNames.SCHEDULE)("bookingItemCode",L.jc(2,4,e.bookingItemCode$))}}function fQ(e,t){if(1&e&&(L.Rb(0,"app-reservation-flight-fare-evidence",80),L.ic(1,"async"),L.ic(2,"async")),2&e){const e=L.hc();L.pc("active",L.jc(1,2,e.currentSubTab$)===e.tabNames.FARE_EVIDENCE)("bookingItemCode",L.jc(2,4,e.bookingItemCode$))}}function vQ(e,t){if(1&e&&(L.Rb(0,"app-reservation-flight-payment-evidence",80),L.ic(1,"async"),L.ic(2,"async")),2&e){const e=L.hc();L.pc("active",L.jc(1,2,e.currentSubTab$)===e.tabNames.PAYMENT_EVIDENCE)("bookingItemCode",L.jc(2,4,e.bookingItemCode$))}}function CQ(e,t){if(1&e&&(L.Rb(0,"app-reservation-flight-payment-detail",80),L.ic(1,"async"),L.ic(2,"async")),2&e){const e=L.hc();L.pc("active",L.jc(1,2,e.currentSubTab$)===e.tabNames.PAYMENT_DETAIL)("bookingItemCode",L.jc(2,4,e.bookingItemCode$))}}function yQ(e,t){if(1&e&&(L.Rb(0,"app-reservation-flight-ticket-refund-register",88),L.ic(1,"async")),2&e){const e=L.hc();L.pc("active",L.jc(1,1,e.currentSubTab$)===e.tabNames.TICKET_REFUND_REGISTER)}}function kQ(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-ticket-refund-request",89),L.fc("saveEvent",(function(t){return L.Fc(e),L.hc().saveRefundRequestInfoHandler(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(2,5,e.refundRequestInfo$))?null:n.requests;L.pc("active",L.jc(1,3,e.currentSubTab$)===e.tabNames.TICKET_REFUND)("requests",t)("changeRequestStatusList",L.jc(3,7,e.changeRequestStatusList$))}}function IQ(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-ticket-sale-ticketing",90),L.fc("clickRefundDetailEvent",(function(){return L.Fc(e),L.hc().clickTickeRefundDetailHandler()}))("clickManualTicketEvent",(function(){return L.Fc(e),L.hc().clickTicketManualViewHandler()})),L.ic(1,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("active",L.jc(1,1,e.currentSubTab$)===e.tabNames.SALE_TICKETING)}}function OQ(e,t){if(1&e&&(L.Rb(0,"app-reservation-flight-ticket-manual",80),L.ic(1,"async"),L.ic(2,"async")),2&e){const e=L.hc();L.pc("active",L.jc(1,2,e.currentSubTab$)===e.tabNames.TICKET_MANUAL)("bookingItemCode",L.jc(2,4,e.bookingItemCode$))}}function PQ(e,t){if(1&e&&(L.Rb(0,"app-reservation-flight-policy-monitoring",80),L.ic(1,"async"),L.ic(2,"async")),2&e){const e=L.hc();L.pc("active",L.jc(1,2,e.currentSubTab$)===e.tabNames.POLICY_MONITORING)("bookingItemCode",L.jc(2,4,e.bookingItemCode$))}}function jQ(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-fl-manual-booking",91),L.fc("clickCloseEvent",(function(t){return L.Fc(e),L.hc().clickCloseOffRegisterActionHandler(t)})),L.ic(1,"async"),L.ic(2,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(1,2,e.master$))?null:n.bookingCode;L.pc("bookingCode",t)("bookerInfo",L.jc(2,4,e.bookerForManualBooking$))}}const VQ=function(){return{}},AQ={BASIS:"Basic Info",PRICE:"Price",PAYMENT_DETAIL:"Payment",UMS:"UMS",CONSULTING:"1:1",VOUCHER:"Document",MEMO:"Remark",HISTORY:"History",BOOKER:"Booker",USER_INFO:"Info",TRAVELERS:"Travelers",SCHEDULE:"Schedule",FARE_RULE:"Fare Rule",GDS_PNR:"GDS PNR",UNPAID:"Unpaid",APIS_MILEAGE:"APIS/Mileage",SEAT:"Seat",FARE_EVIDENCE:"Fare Evidence",PAYMENT_EVIDENCE:"PAYMENT EVIDENCE",TICKET_REFUND:"TICKET REFUND",SALE_TICKETING:"SALE TICKETING",TICKET_MANUAL:"TICKET MANUAL",TICKET_REFUND_REGISTER:"TICKET REFUND_REGISTER",POLICY_MONITORING:"POLICY MONITORING"};let WQ=(()=>{class e extends oF{constructor(e,t,n,i,o){super(e),this.store=e,this.authStore=t,this.fileService=n,this._activatedRoute=i,this.alertService=o,this.unsubscribe$=new Fe.a,this._subscribeStore()}get tabNames(){return AQ}get isB2b(){var e;return"STN04"===(null===(e=this._summary)||void 0===e?void 0:e.stationTypeCode)}ngOnInit(){this._activatedRoute.queryParams.subscribe(e=>{const t=e.tabName;Q.isNil(t)||this.store.dispatch(h.setCurrentSubTabAction({tabName:this.tabNames[t]}))})}ngAfterViewInit(){this._initDetailSubscription()}loadMasterInfo(){}loadSubInfo(){this._loadSubTabData()}loadBookingTravelerList(){this.store.dispatch(h.loadBookingTravelerListAction({condition:{itemCategoryCode:"IC01",bookingItemCode:this._bookingItemCode},isForceLoad:!0}))}clickDetailViewHandler(){this.onClickCurrentSubTab(this.tabNames.BASIS)}clickRetrieveHandler(){const{stationTypeCode:e}=this._summary;this.store.dispatch(h.retrieveAction({condition:{bookingItemCodes:[this._bookingItemCode],options:["Manual"]},stationTypeCode:e}))}clickMypageHandler(){this.store.dispatch(u.openClientPageAction({path:`flight-booked-detail/${this._bookingItemCode}`}))}clickUmsHandler(){this.onClickCurrentSubTab(this.tabNames.UMS)}clickCancelHandler(){this.alertService.confirm({message:"Want to cancel your reservation?",accept:()=>{this.store.dispatch(h.cancelBookingAction({condition:{bookingItemCodes:[this._bookingItemCode],smsSendYn:!1}}))},reject:()=>{}})}clickConsultingHandler(){this.onClickCurrentSubTab(this.tabNames.CONSULTING)}clickMemoHandler(){this.onClickCurrentSubTab(this.tabNames.MEMO),this.loadBookingMemo(!0)}clickChangeLogHandler(){this.onClickCurrentSubTab(this.tabNames.HISTORY)}clickFareRuleHandler(){this.onClickCurrentSubTab(this.tabNames.FARE_RULE)}clickGdsPnrHandler(){this.onClickCurrentSubTab(this.tabNames.GDS_PNR)}clickDepositHandler(){this.onClickCurrentSubTab(this.tabNames.UNPAID)}clickOperationWebSiteHandler(){}clickPriceDetailViewHandler(){this.onClickCurrentSubTab(this.tabNames.PRICE)}clickPaymentDetailViewHandler(){this.onClickCurrentSubTab(this.tabNames.PAYMENT_DETAIL)}clickBookerViewHandler(){this.onClickCurrentSubTab(this.tabNames.BOOKER)}clickUserInfoViewHandler(){this.onClickCurrentSubTab(this.tabNames.USER_INFO)}clickTravelersViewHandler(){this.onClickCurrentSubTab(this.tabNames.TRAVELERS)}clickApisMileageHandler(){this.onClickCurrentSubTab(this.tabNames.APIS_MILEAGE)}clickScheduleViewHandler(){this.onClickCurrentSubTab(this.tabNames.SCHEDULE)}clickSeatViewHandler(){this.onClickCurrentSubTab(this.tabNames.SEAT)}clickFareEvidenceViewHandler(){this.onClickCurrentSubTab(this.tabNames.FARE_EVIDENCE)}clickTicketRefundViewHandler(){this.onClickCurrentSubTab(this.tabNames.TICKET_REFUND)}clickPaymentEvidenceViewHandler(){this.onClickCurrentSubTab(this.tabNames.PAYMENT_EVIDENCE)}clickTicketManualViewHandler(){this.onClickCurrentSubTab(this.tabNames.TICKET_MANUAL)}clickTicketManualDetailViewHandler(e){var t,n;const{ticketNo:i,ticketingDsrFinishYn:o}=e,a=null===(n=null===(t=this._ticketDetailInfo)||void 0===t?void 0:t.tickets)||void 0===n?void 0:n.filter(e=>e.ticketNo===i).first();if(a)this.onClickCurrentSubTab(this.tabNames.TICKET_MANUAL),this.store.dispatch(h.selectTicketDetailInfo({ticketDetailInfo:Object.assign({},a),ticketingDsrFinishYn:o}));else{this.onClickCurrentSubTab(this.tabNames.TICKET_MANUAL);const{ticketNo:t,ticketingStatusCode:n,ticketingStatusName:i,ticketingDate:o,ticketingPicName:a,ticketingPicUno:c,airlineNumberCode:s,conjunctionTypeCode:r,etEmdOtherTypeCode:l,ticketingDsrFinishYn:d}=e;this.store.dispatch(h.selectTicketDetailInfo({ticketDetailInfo:{ticketNo:t,ticketingStatusCode:n,ticketingStatusName:i,ticketingDate:o,ticketingPicName:a,ticketingPicUno:c,airlineNumberCode:s,conjunctionTypeCode:r,etEmdOtherTypeCode:l},ticketingDsrFinishYn:d}))}}clickTickeSaleTicketingViewHandler(){this.onClickCurrentSubTab(this.tabNames.SALE_TICKETING)}clickTickeRefundDetailHandler(){this.onClickCurrentSubTab(this.tabNames.TICKET_REFUND_REGISTER)}clickPolicyMonitoringViewHandler(){this.onClickCurrentSubTab(this.tabNames.POLICY_MONITORING)}onClickCurrentSubTab(e){this.store.dispatch(h.setCurrentSubTabAction({tabName:e}))}onClickDelSubTab(e){this.store.dispatch(h.delSubTabAction({tabName:e}))}clickCancelModalCloseHandler(){this.store.dispatch(h.closeCanceModalAction())}cancelSubmitHandler(e){this.store.dispatch(h.cancelBookingAction({condition:e}))}clickTravelerDivideModalOpenHandler(){this.store.dispatch(h.openTravelerDivideModalAction())}clickTravelerDivideModalCloseHandler(){this.store.dispatch(h.closeTravelerDivideModalAction())}clickPgCreditCardModalOpenHandler(){this.store.dispatch(h.openPgCreditCardModalAction())}clickPgCreditCardModalCloseHandler(){this.store.dispatch(h.closePgCreditCardModalAction())}clickPgBankModalOpenHandler(){this.store.dispatch(h.openPgBankModalAction())}clickPgBankModalCloseHandler(){this.store.dispatch(h.closePgBankModalAction())}clickChargeInfoModalOpenHandler(){this.store.dispatch(h.openChargeInfoModalAction())}clickChargeInfoModalCloseHandler(){this.store.dispatch(h.closeChargeInfoModalAction())}clickChargeInfoUpdateModalOpenHandler(e){this.store.dispatch(h.openChargeInfoUpdateModalAction({chargePriceInfo:e}))}clickChargeInfoUpdateModalCloseHandler(){this.store.dispatch(h.closeChargeInfoUpdateModalAction())}clickChargePgCreditCardModalOpenHandler(){this.store.dispatch(h.openChargePgCreditCardModalAction())}clickChargePgCreditCardModalCloseHandler(){this.store.dispatch(h.closeChargePgCreditCardModalAction())}clickChargePgBankModalOpenHandler(){this.store.dispatch(h.openChargePgBankModalAction())}clickChargePgBankModalCloseHandler(){this.store.dispatch(h.closeChargePgBankModalAction())}clickAncillaryInfoModalOpenHandler(){this.store.dispatch(h.openAncillaryInfoModalAction())}clickAncillaryInfoModalCloseHandler(){this.store.dispatch(h.closeAncillaryInfoModalAction())}clickAncillaryPgCreditCardModalOpenHandler(){this.store.dispatch(h.openAncillaryPgCreditCardModalAction())}clickAncillaryPgCreditCardModalCloseHandler(){this.store.dispatch(h.closeAncillaryPgCreditCardModalAction())}clickAncillaryPgBankModalOpenHandler(){this.store.dispatch(h.openAncillaryPgBankModalAction())}clickAncillaryPgBankModalCloseHandler(){this.store.dispatch(h.closeAncillaryPgBankModalAction())}clickPgCreditCardApproveModalOpenHandler(e){this.store.dispatch(h.sendTasfPgCreditCardPaymentAction({condition:Object.assign({bookingItemCode:this._bookingItemCode},e)}))}clickPgCreditCardApproveModalCloseHandler(){this.store.dispatch(h.closePgCreditCardApproveModalAction())}clickPaymentInfoTypeSelectModalOpenHandler(){this.store.dispatch(h.openPaymentInfoTypeSelectModalAction())}clickPaymentInfoTypeSelectModalCloseHandler(){this.store.dispatch(h.closePaymentInfoTypeSelectModalAction())}submitPaymentInfoTypeSelect({paymentRegisterInfo:e,condition:t}){this.store.dispatch(h.closePaymentInfoTypeSelectModalAction());const{isBundlePayment:n}=e;this.store.dispatch(h.openPaymentInfoRegisterModalAction({isBundlePayment:n,loadCondition:t})),this.store.dispatch(h.loadPaymentRegisterInfoAction({condition:t}))}clickPaymentInfoRegisterModalCloseHandler(){this.store.dispatch(h.closePaymentInfoRegisterModalAction())}clickPaymentInfoUpdateModalOpenHandler(e){if(e.length>0){const t={bookingItemCode:this._bookingItemCode,paymentInfos:e,infoTypeCode:"U"};this.store.dispatch(h.loadPaymentUpdateInfoAction({condition:t})),this.store.dispatch(h.openPaymentInfoUpdateModalAction({loadCondition:t}))}else this.alertService.alert("No payment information to edit.")}clickPaymentInfoUpdateModalCloseHandler(){this.store.dispatch(h.closePaymentInfoUpdateModalAction())}clickOpenOffRegisterHandler(){this.store.dispatch(h.openOffRegisterAction())}clickCloseOffRegisterActionHandler(e){this.store.dispatch(h.closeOffRegisterAction()),!0===e&&this.store.dispatch(u.reloadBookingDetailAction())}openInvoiceHandler(){this.store.dispatch(h.openInvoiceModalAction())}closeInvoiceHandler(){this.store.dispatch(h.closeInvoiceModalAction())}saveBookerInfoHandler(e){this.store.dispatch(u.saveBookerInfoAction({condition:e}))}changeBookerHandler(e){this.store.dispatch(u.changeBookerInfoAction({condition:e}))}submitConsultingInfoHandler(e){this.store.dispatch(u.saveConsultingInfoAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode})}))}saveMemoHandler(e){this.store.dispatch(u.saveBookingMemoAction({condition:e}))}saveTravelerInfoHandler(e){this.store.dispatch(h.saveTravelersAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode})}))}deleteTravelerInfoHandler(e){this.store.dispatch(h.deleteTravelersAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode})}))}checkPriceInfoHandler(e){this.store.dispatch(h.checkPriceInfoAction({prices:e}))}sendPgCreditCardPayment(e){this.store.dispatch(h.sendPgCreditCardPaymentAction({condition:e}))}checkChargePriceInfoHandler(e){this.store.dispatch(h.checkChargePriceInfoAction({prices:e}))}sendChargePgCreditCardPayment(e){this.store.dispatch(h.sendChargePgCreditCardPaymentAction({condition:e}))}checkAncillaryPriceInfoHandler(e){this.store.dispatch(h.checkAncillaryPriceInfoAction({prices:e}))}sendAncillaryPgCreditCardPayment(e){this.store.dispatch(h.sendAncillaryPgCreditCardPaymentAction({condition:e}))}saveChargeInfoHandler(e){this.store.dispatch(h.saveChargeInfoAction({condition:Object.assign({},e)}))}issuePgBankHandler(e){this.store.dispatch(h.sendPgBankPaymentAction({condition:e}))}issueChargePgBankHandler(e){this.store.dispatch(h.sendChargePgBankPaymentAction({condition:e}))}issueAncillaryPgBankHandler(e){this.store.dispatch(h.sendAncillaryPgBankPaymentAction({condition:e}))}clickDeleteChargeInfoHandler(e){this.store.dispatch(h.deleteChargeInfoAction({condition:{chargeSeq:e}}))}saveAncillaryInfoHandler(e){this.store.dispatch(h.saveAncillaryInfoAction({condition:Object.assign({},e)}))}clickDeleteAncillaryInfoHandler(e){this.store.dispatch(h.deleteAncillaryInfoAction({condition:{rowids:e}}))}divideTravelersHandler(e){this.store.dispatch(h.divideTravelersAction({condition:e}))}sendTasfPgCardHandler(e){this.store.dispatch(h.sendTasfPgCreditCardPaymentAction({condition:e}))}fixSegmentHandler(e){this.store.dispatch(h.fixSegmentAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode})}))}selectPaymentInfoHandler(e){this.store.dispatch(h.checkPaymentInfosAction({selectedPaymentInfos:e}))}deleteAllPaymentInfoHandler(e){this.store.dispatch(h.deleteAllPaymentInfoAction({condition:e}))}updateChargeInfoHandler(e){this.store.dispatch(h.updateChargeInfoAction({condition:e}))}saveRequestRemarkHandler(e){this.store.dispatch(h.saveRequestRemakrAction({condition:e}))}saveRefundRequestInfoHandler(e){this.store.dispatch(h.saveRefundRequestInfoAction({condition:e}))}_subscribeStore(){this.auths$=this.store.pipe(Object(P.u)(rk)),this.retrieveYn$=this.store.pipe(Object(P.u)(kO)),this.changeRequestSeq$=this.store.pipe(Object(P.u)(IO)),this.loading$=this.store.pipe(Object(P.u)(yO)),this.master$=this.store.pipe(Object(P.u)(OO)),this.bookingItems$=this.store.pipe(Object(P.u)(VO)),this.summary$=this.store.pipe(Object(P.u)(AO)),this.travelerInfo$=this.store.pipe(Object(P.u)(WO)),this.segmentInfo$=this.store.pipe(Object(P.u)(RO)),this.priceInfo$=this.store.pipe(Object(P.u)(SO)),this.chargeInfo$=this.store.pipe(Object(P.u)(TO)),this.paymentInfo$=this.store.pipe(Object(P.u)(NO)),this.ticketInfo$=this.store.pipe(Object(P.u)(EO)),this.ancillaryInfo$=this.store.pipe(Object(P.u)(MO)),this.changeRequests$=this.store.pipe(Object(P.u)(DO)),this.ticketingDsrFinishYn$=this.store.pipe(Object(P.u)($O)),this.refundDsrFinishYn$=this.store.pipe(Object(P.u)(BO)),this.stationTypeCode$=this.store.pipe(Object(P.u)(xj)),this.refundRequestInfo$=this.store.pipe(Object(P.u)(zO)),this.changeRequestStatusList$=this.store.pipe(Object(P.u)(NP)),this.subTabs$=this.store.pipe(Object(P.u)(DP)),this.currentSubTab$=this.store.pipe(Object(P.u)(LP)),this.isOpenCancelModal$=this.store.pipe(Object(P.u)(_P)),this.isOpenTravelerDivideModal$=this.store.pipe(Object(P.u)($P)),this.isOpenPgCreditCardModal$=this.store.pipe(Object(P.u)(BP)),this.isOpenPgBankModal$=this.store.pipe(Object(P.u)(wP)),this.isOpenChargeInfoModal$=this.store.pipe(Object(P.u)(xP)),this.isOpenChargeInfoUpdateModal$=this.store.pipe(Object(P.u)(YP)),this.isOpenChargePgCreditCardModal$=this.store.pipe(Object(P.u)(HP)),this.isOpenChargePgBankModal$=this.store.pipe(Object(P.u)(qP)),this.isOpenAncillaryInfoModal$=this.store.pipe(Object(P.u)(tj)),this.isOpenAncillaryPgCreditCardModal$=this.store.pipe(Object(P.u)(nj)),this.isOpenAncillaryPgBankModal$=this.store.pipe(Object(P.u)(ij)),this.isOpenPgCreditCardApproveModal$=this.store.pipe(Object(P.u)(oj)),this.isOpenPaymentInfoTypeSelectModal$=this.store.pipe(Object(P.u)(aj)),this.isOpenPaymentInfoRegisterModal$=this.store.pipe(Object(P.u)(cj)),this.isOpenPaymentInfoUpdateModal$=this.store.pipe(Object(P.u)(sj)),this.isOpenOffRegistModal$=this.store.pipe(Object(P.u)(rj)),this.isOpenInvoiceModal$=this.store.pipe(Object(P.u)(lj)),this.selectedPrices$=this.store.pipe(Object(P.u)(Lj)),this.selectedChargePrices$=this.store.pipe(Object(P.u)($j)),this.selectedAncillaryPrices$=this.store.pipe(Object(P.u)(Bj)),this.selectedChargePriceInfo$=this.store.pipe(Object(P.u)(_j)),this.ageTypeList$=this.store.pipe(Object(P.u)(aP)),this.cashReceiptPurposeList$=this.store.pipe(Object(P.u)(sP)),this.cashReceiptKindList$=this.store.pipe(Object(P.u)(rP)),this.cardHolderTypeList$=this.store.pipe(Object(P.u)(lP)),this.cardMasterList$=this.store.pipe(Object(P.u)(cP)),this.bankMasterList$=this.store.pipe(Object(P.u)(uP)),this.ancillaryTypeList$=this.store.pipe(Object(P.u)(FP)),this.ancillaryStatusList$=this.store.pipe(Object(P.u)(SP)),this.adjustReasonList$=this.store.pipe(Object(P.u)(CP)),this.consultingList$=this.store.pipe(Object(P.u)(mk)),this.paymentStatusCodeList$=this.store.pipe(Object(P.u)(AP)),this.ticketingStatusCodeList$=this.store.pipe(Object(P.u)(pP)),this.loginUser$=this.authStore.pipe(Object(P.u)(Xe.r)),this.ticketDetailInfo$=this.store.pipe(Object(P.u)(GO)),this.bookerForUms$=this.store.pipe(Object(P.u)(PO)),this.bookerForManualBooking$=this.store.pipe(Object(P.u)(wO)),this.bookingTravelerList$=this.store.pipe(Object(P.u)(VP)),this.paymentApproveInfo$=this.store.pipe(Object(P.u)(Dj)),this.invoiceGetInfo$=this.store.pipe(Object(P.u)(xO)),this.invoiceSendInfo$=this.store.pipe(Object(P.u)(YO)),this.consultingSeq$=this.store.pipe(Object(P.u)(bk))}_loadSubTabData(){this.store.dispatch(h.loadDepartureTypeListAction({condition:{masterCode:"FL005"}})),this.store.dispatch(h.loadAgeTypeListAction({condition:{masterCode:"BS011"}})),this.store.dispatch(h.loadBookingStatusListAction({condition:{masterCode:"BK001"}})),this.store.dispatch(h.loadRequestStatusListAction({condition:{masterCode:"FL055"}})),this.store.dispatch(h.loadDeviceTypeListAction({condition:{masterCode:"BS037"}})),this.store.dispatch(h.loadEvidenceTypeListAction({condition:{masterCode:"FL021"}})),this.store.dispatch(h.loadCashReceiptPurposeListAction({condition:{masterCode:"PM010"}})),this.store.dispatch(h.loadCashReceiptKindListAction({condition:{masterCode:"PM009"}})),this.store.dispatch(h.loadCardHolderTypeListAction({condition:{masterCode:"PM007"}})),this.store.dispatch(h.loadCardHolderRelationListAction({condition:{masterCode:"PM008"}})),this.store.dispatch(h.loadCardMasterListAction({condition:{masterCode:"PM003",referCode2:"FLIGHT_PROMOTION"}})),this.store.dispatch(h.loadBankMasterListAction({condition:{masterCode:"PM002"}})),this.store.dispatch(h.loadTicketingStatusCodeListAction({condition:{masterCode:"FL002"}})),this.store.dispatch(h.loadFopCodeListAction({condition:{masterCode:"PM015"}})),this.store.dispatch(h.loadBillingTypeListAction({condition:{masterCode:"FL031"}})),this.store.dispatch(h.loadGdsNdcCompListAction({condition:{compTypeCodes:["CMP10"],limits:[0,100]}})),this.store.dispatch(h.loadAirlineChargeTypeListAction({condition:{masterCode:"FL076"}})),this.store.dispatch(h.loadTicketVoidTypeListAction({condition:{masterCode:"FL027"}})),this.store.dispatch(h.loadBookingFareTypeListAction({condition:{masterCode:"FL065"}})),this.store.dispatch(h.loadChangeRequestStatusListAction({condition:{masterCode:"FL037",useYn:!0}})),this.store.dispatch(h.loadBspBillingPeriodListAction({condition:{masterCode:"FL033"}})),this.store.dispatch(h.loadAdjustReasonList({condition:{masterCode:"FL083"}})),this.store.dispatch(h.loadPaymentDetailTypeAddList({condition:{masterCode:"PM005",referCode1:"IC01",referCode2:"ADD"}})),this.store.dispatch(h.loadPaymentDetailTypeSalesList({condition:{masterCode:"PM005",referCode1:"IC01",referCode2:"SALES"}})),this.store.dispatch(h.loadDepositTypeList({condition:{masterCode:"PM006",referCode1:"MANUAL"}})),this.store.dispatch(h.loadEtEmdOtherTypeList({condition:{masterCode:"FL077"}})),this.store.dispatch(h.loadPaymentStatusCodeListAction({condition:{masterCode:"BK002",referCode1:"IC01"}}))}_initDetailSubscription(){this.auths$.pipe(Object(Ci.a)(this.unsubscribe$)).subscribe(e=>{this.auths=e}),this.ticketDetailInfo$.pipe(Object(Ci.a)(this._$unsubscribe)).subscribe(e=>{this._ticketDetailInfo=e}),this.summary$.pipe(Object(Ci.a)(this._$unsubscribe)).subscribe(e=>{this._summary=e,Q.isNil(e)||"STN05"!==e.stationTypeCode||(this.store.dispatch(h.loadPolicyMonitoringInfoAction({condition:{bookingItemCode:this._bookingItemCode}})),this.store.dispatch(h.loadCorporateReasonListAction({condition:{itemCategoryCode:"IC01",corporateCompCode:e.bookerCompCode,useYn:!0},isForceLoad:!0})))}),this.selectedChargePrices$.pipe(Object(Ci.a)(this._$unsubscribe)).subscribe(e=>{this._selectedChargePrices=e}),Object(NA.a)([this.bookingItemCode$,this.retrieveYn$,this.changeRequestSeq$]).pipe(Object(iF.a)(),Object(Ci.a)(this._$unsubscribe)).subscribe(([e,t,n])=>{this.store.dispatch(t?h.loadMasterInfoWithRetrieveAction({bookingItemCode:e,changeRequestSeq:Q.isNil(n)?void 0:n}):h.loadMasterInfoAction({condition:{bookingItemCode:e,changeRequestSeq:Q.isNil(n)?void 0:n}}))}),Object(NA.a)([this.toggleReloadBookingDetail$,this.bookingItemCode$,this.changeRequestSeq$]).pipe(Object(EA.a)(1),Object(Ci.a)(this._$unsubscribe)).subscribe(([e,t,n])=>{this.store.dispatch(h.loadMasterInfoAction({condition:{bookingItemCode:t,changeRequestSeq:Q.isNil(n)?void 0:n}}))}),this.bookingItemCode$.pipe(Object(Ci.a)(this._$unsubscribe)).subscribe(e=>{"F"===e.slice(-3,-2)&&(console.log(e.slice(-3,-2)),this.store.dispatch(h.loadBasicInfoAction({condition:{bookingItemCode:e}})),this.store.dispatch(h.loadPnrLogInfoAction({condition:{bookingItemCode:e}})),this.store.dispatch(h.loadTicketInfoAction({condition:{bookingItemCode:e}})),this.store.dispatch(h.loadBookingFlightPaymentAction({condition:{bookingItemCode:e}})),this.store.dispatch(h.loadFareRuleInfoAction({condition:{bookingItemCode:e}})),this.store.dispatch(h.loadRefundRequestInfoAction({condition:{bookingItemCode:e}})),this.store.dispatch(h.loadUnpaidInfoAction({condition:{bookingItemCode:e,itemCategoryCode:"IC01",unpaidYn:!0}})))})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h),L.Qb(P.h),L.Qb(Ze.a),L.Qb(dt.a),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight"]],features:[L.zb],decls:156,vars:267,consts:[[3,"reservationInfoMaster","bookingItemCode","bookingItemCodes","clickBookerNameEvent","clickUserInfoEvent","clickUmsEvent","clickOffBookingEvent"],[1,"modal-body"],[1,"frame-wrap","both"],[1,"frame","main"],[3,"bookingItems","bookingItemCode","categoryCodeNameMap"],[1,"tabs-content"],[1,"tab-pane","active"],[1,"reservation-detail"],[3,"summaryInfo","bookingItemCode","clickDetailViewEvent","clickRetrieveEvent","clickMypageEvent","clickUmsEvent","clickCancelEvent","clickConsultingEvent","clickMemoEvent","clickChangeLogEvent","clickFareRuleEvent","clickGdsPnrEvent","clickDepositEvent","clickPolicyMonitoringEvent"],[3,"bookingItemCode","summaryInfo","changeRequests","submitEvent",4,"ngIf"],[3,"travelerInfo","summaryInfo","clickDetailViewEvent","clickApisMileageEvent","clickDivideModalEvent"],["modalSize","sm","modalContentClass","pd-all","header","Booking Divided",3,"modal","visible","visibleChange"],[3,"originGdsSubPnr","travelers","bookingItemCode","submitEvent","closeEvent",4,"ngIf"],[3,"summaryInfo","segmentInfo","bookingItemCode","clickDetailViewEvent","clickSeatViewEvent","fixSegmentEvent"],[3,"stationTypeCode","priceInfo","clickInvoiceEvent","clickPriceDetailViewEvent","clickEvidenceViewEvent","clickCreditCardEvent","clickBankEvent","checkPriceEvent"],["modalSize","sm","modalContentClass","pd-all","header","Credit Card Manual Approval  : Sales Price",3,"modal","visible","visibleChange"],[3,"bookingItemCode","prices","bankList","cardHolderTypeList","submitEvent","closeEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","Create Virtual Bank Account : Sales Price",3,"modal","visible","visibleChange"],[3,"bookingItemCode","prices","bankMasterList","submitEvent","closeEvent",4,"ngIf"],["header","Invoice","modalSize","md","modalContentClass","pd-all",3,"visible","modal","visibleChange"],[3,"templateGetInfo","emailTitle","closeEvent",4,"ngIf"],[3,"summary","chargeInfo","paymentInfo","clickUpdateChargeInfoEvent","clickAddChargeInfoEvent","clickDeleteChargeInfoEvent","clickCreditCardEvent","clickBankEvent","checkPriceEvent"],["modalSize","sm","modalContentClass","pd-all","header","Added Price Detail",3,"modal","visible","visibleChange"],[3,"bookingItemCode",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","\ucd94\uac00\uc694\uae08\uc815\ubcf4 \uc218\uc815",3,"modal","visible","visibleChange"],[3,"bookingItemCode","chargePriceInfo","adjustReasonList","submitEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","PG \uc2e0\uc6a9\uce74\ub4dc \uc218\uae30\uc2b9\uc778: \ucd94\uac00\uc694\uae08",3,"modal","visible","visibleChange"],["modalSize","sm","modalContentClass","pd-all","header","\ubd80\uac00\uc11c\ube44\uc2a4 \uc694\uae08\uc815\ubcf4",3,"modal","visible","visibleChange"],[3,"segments","bookingItemCode","bookingTravelerList","ancillaryTypeList","ancillaryStatusList","submitEvent","closeEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","PG \uc2e0\uc6a9\uce74\ub4dc \uc218\uae30\uc2b9\uc778: \ubd80\uac00\uc11c\ube44\uc2a4 \uc694\uae08",3,"modal","visible","visibleChange"],["modalSize","sm","modalContentClass","pd-all","header","PG \uac00\uc0c1\uacc4\uc88c \ubc1c\ud589: \ubd80\uac00\uc11c\ube44\uc2a4 \uc694\uae08",3,"modal","visible","visibleChange"],[3,"bookingItemCode","isChargePrice","prices","bankMasterList","submitEvent","closeEvent",4,"ngIf"],[3,"paymentInfo","clickDetailViewEvent","clickEvidenceViewEvent","clickPaymentInfoTypeSelectModalEvent","clickPaymentInfoUpdateModalEvent","clickPaymentInfoApproveModalEvent","selectPaymentInfoEvent","deleteAllEvent"],["modalSize","sm","modalContentClass","pd-all","header","TASF PG \uc2b9\uc778",3,"modal","visible","visibleChange"],[3,"paymentApproveInfo","submitEvent","closeEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","Sending Type",3,"modal","visible","visibleChange"],[3,"bookingItemCode","bookingTravelerList","submitEvent","closeEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","Payment Info",3,"modal","visible","visibleChange"],[3,"bookingItemCode","closeEvent",4,"ngIf"],[3,"closeEvent",4,"ngIf"],[3,"bookingItems","ticketInfo","paymentInfos","clickTicketRefundViewEvent","clickTickeManualViewEvent","clickTicketManualDetailViewEvent","clickTickeSaleTicketingViewEvent"],["modalSize","sm","modalContentClass","pd-all","header","Alert",3,"modal","visible","visibleChange"],[3,"bookingItemCode","submitEvent","closeEvent",4,"ngIf"],[1,"frame","sub"],["mat-tab-nav-bar","",1,"tabs-main-group"],["mat-tab-link","","class","nav-item",3,"active","click",4,"ngFor","ngForOf"],[3,"active","bookingItemCode","paymentStatusCodeList","ticketingStatusCodeList",4,"ngIf"],[3,"active","ticketingDsrFinishYn","travelers","segmentInfo","ageTypeList","stationTypeCode","bookerCompCode","saveEvent","deleteEvent",4,"ngIf"],[3,"active","bookingItemCode",4,"ngIf"],[3,"active","masterInfo","submitEvent",4,"ngIf"],[3,"active","bookerInfo","masterInfo","stationTypeCode","submitEvent",4,"ngIf"],["itemCategoryCode","IC01",3,"active","stationTypeCode","bookingItemCode","bookingCode","bookers",4,"ngIf"],[3,"active","consultingList","consultingSeq","submitEvent",4,"ngIf"],[3,"active","bookingItemCode","memoList","saveMemoEvent",4,"ngIf"],[3,"active","bookingLogList",4,"ngIf"],[3,"active","travelers",4,"ngIf"],[3,"active",4,"ngIf"],[3,"active","requests","changeRequestStatusList","saveEvent",4,"ngIf"],[3,"active","clickRefundDetailEvent","clickManualTicketEvent",4,"ngIf"],["header","\uba54\ub274\uc5bc \uc608\uc57d","modalSize","md","modalContentClass","pd-all",3,"visible","modal","visibleChange"],[3,"bookingCode","bookerInfo","clickCloseEvent",4,"ngIf"],[3,"bookingItemCode","summaryInfo","changeRequests","submitEvent"],[3,"originGdsSubPnr","travelers","bookingItemCode","submitEvent","closeEvent"],[3,"bookingItemCode","prices","bankList","cardHolderTypeList","submitEvent","closeEvent"],[3,"bookingItemCode","prices","bankMasterList","submitEvent","closeEvent"],[3,"templateGetInfo","emailTitle","closeEvent"],[3,"bookingItemCode"],[3,"bookingItemCode","chargePriceInfo","adjustReasonList","submitEvent"],[3,"segments","bookingItemCode","bookingTravelerList","ancillaryTypeList","ancillaryStatusList","submitEvent","closeEvent"],[3,"bookingItemCode","isChargePrice","prices","bankMasterList","submitEvent","closeEvent"],[3,"paymentApproveInfo","submitEvent","closeEvent"],[3,"bookingItemCode","bookingTravelerList","submitEvent","closeEvent"],[3,"bookingItemCode","closeEvent"],[3,"closeEvent"],[3,"bookingItemCode","submitEvent","closeEvent"],["mat-tab-link","",1,"nav-item",3,"active","click"],[1,"nav-link"],["title","\ud0ed \ub2eb\uae30",1,"btn-tabs-close",3,"click"],[3,"active","bookingItemCode","paymentStatusCodeList","ticketingStatusCodeList"],[3,"active","ticketingDsrFinishYn","travelers","segmentInfo","ageTypeList","stationTypeCode","bookerCompCode","saveEvent","deleteEvent"],[3,"active","bookingItemCode"],[3,"active","masterInfo","submitEvent"],[3,"active","bookerInfo","masterInfo","stationTypeCode","submitEvent"],["itemCategoryCode","IC01",3,"active","stationTypeCode","bookingItemCode","bookingCode","bookers"],[3,"active","consultingList","consultingSeq","submitEvent"],[3,"active","bookingItemCode","memoList","saveMemoEvent"],[3,"active","bookingLogList"],[3,"active","travelers"],[3,"active"],[3,"active","requests","changeRequestStatusList","saveEvent"],[3,"active","clickRefundDetailEvent","clickManualTicketEvent"],[3,"bookingCode","bookerInfo","clickCloseEvent"]],template:function(e,t){if(1&e&&(L.Wb(0,"app-reservation-header",0),L.fc("clickBookerNameEvent",(function(){return t.clickBookerViewHandler()}))("clickUserInfoEvent",(function(){return t.clickUserInfoViewHandler()}))("clickUmsEvent",(function(){return t.clickUmsHandler()}))("clickOffBookingEvent",(function(){return t.clickOpenOffRegisterHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb(),L.Wb(4,"div",1),L.Wb(5,"div",2),L.Wb(6,"div",3),L.Rb(7,"app-tabs-booking-items",4),L.ic(8,"async"),L.ic(9,"async"),L.Wb(10,"div",5),L.Wb(11,"div",6),L.Wb(12,"div",7),L.Wb(13,"app-reservation-flight-summary",8),L.fc("clickDetailViewEvent",(function(){return t.clickDetailViewHandler()}))("clickRetrieveEvent",(function(){return t.clickRetrieveHandler()}))("clickMypageEvent",(function(){return t.clickMypageHandler()}))("clickUmsEvent",(function(){return t.clickUmsHandler()}))("clickCancelEvent",(function(){return t.clickCancelHandler()}))("clickConsultingEvent",(function(){return t.clickConsultingHandler()}))("clickMemoEvent",(function(){return t.clickMemoHandler()}))("clickChangeLogEvent",(function(){return t.clickChangeLogHandler()}))("clickFareRuleEvent",(function(){return t.clickFareRuleHandler()}))("clickGdsPnrEvent",(function(){return t.clickGdsPnrHandler()}))("clickDepositEvent",(function(){return t.clickDepositHandler()}))("clickPolicyMonitoringEvent",(function(){return t.clickPolicyMonitoringViewHandler()})),L.ic(14,"async"),L.ic(15,"async"),L.Vb(),L.Nc(16,DU,4,9,"app-reservation-flight-request-remark",9),L.Wb(17,"app-reservation-flight-traveler",10),L.fc("clickDetailViewEvent",(function(){return t.clickTravelersViewHandler()}))("clickApisMileageEvent",(function(){return t.clickApisMileageHandler()}))("clickDivideModalEvent",(function(){return t.clickTravelerDivideModalOpenHandler()})),L.ic(18,"async"),L.ic(19,"async"),L.Vb(),L.Wb(20,"app-dialog",11),L.fc("visibleChange",(function(){return t.clickTravelerDivideModalCloseHandler()})),L.ic(21,"async"),L.Nc(22,_U,4,10,"app-reservation-flight-traveler-divide-modal",12),L.ic(23,"async"),L.Vb(),L.Wb(24,"app-reservation-flight-segment",13),L.fc("clickDetailViewEvent",(function(){return t.clickScheduleViewHandler()}))("clickSeatViewEvent",(function(){return t.clickSeatViewHandler()}))("fixSegmentEvent",(function(e){return t.fixSegmentHandler(e)})),L.ic(25,"async"),L.ic(26,"async"),L.ic(27,"async"),L.Vb(),L.Wb(28,"app-reservation-flight-price",14),L.fc("clickInvoiceEvent",(function(){return t.openInvoiceHandler()}))("clickPriceDetailViewEvent",(function(){return t.clickPriceDetailViewHandler()}))("clickEvidenceViewEvent",(function(){return t.clickFareEvidenceViewHandler()}))("clickCreditCardEvent",(function(){return t.clickPgCreditCardModalOpenHandler()}))("clickBankEvent",(function(){return t.clickPgBankModalOpenHandler()}))("checkPriceEvent",(function(e){return t.checkPriceInfoHandler(e)})),L.ic(29,"async"),L.ic(30,"async"),L.Vb(),L.Wb(31,"app-dialog",15),L.fc("visibleChange",(function(){return t.clickPgCreditCardModalCloseHandler()})),L.ic(32,"async"),L.Nc(33,$U,5,12,"app-reservation-flight-pg-credit-card-sales-modal",16),L.ic(34,"async"),L.Vb(),L.Wb(35,"app-dialog",17),L.fc("visibleChange",(function(){return t.clickPgBankModalCloseHandler()})),L.ic(36,"async"),L.Nc(37,BU,4,9,"app-reservation-flight-pg-bank-sales-modal",18),L.ic(38,"async"),L.Vb(),L.Wb(39,"app-dialog",19),L.fc("visibleChange",(function(){return t.closeInvoiceHandler()})),L.ic(40,"async"),L.Nc(41,wU,3,6,"app-reservation-send-email-template",20),L.ic(42,"async"),L.Vb(),L.Wb(43,"app-reservation-flight-charge",21),L.fc("clickUpdateChargeInfoEvent",(function(e){return t.clickChargeInfoUpdateModalOpenHandler(e)}))("clickAddChargeInfoEvent",(function(){return t.clickChargeInfoModalOpenHandler()}))("clickDeleteChargeInfoEvent",(function(e){return t.clickDeleteChargeInfoHandler(e)}))("clickCreditCardEvent",(function(){return t.clickChargePgCreditCardModalOpenHandler()}))("clickBankEvent",(function(){return t.clickChargePgBankModalOpenHandler()}))("checkPriceEvent",(function(e){return t.checkChargePriceInfoHandler(e)})),L.ic(44,"async"),L.ic(45,"async"),L.ic(46,"async"),L.Vb(),L.Wb(47,"app-dialog",22),L.fc("visibleChange",(function(){return t.clickChargeInfoModalCloseHandler()})),L.ic(48,"async"),L.Nc(49,xU,2,3,"app-reservation-flight-charge-info-modal",23),L.ic(50,"async"),L.Vb(),L.Wb(51,"app-dialog",24),L.fc("visibleChange",(function(){return t.clickChargeInfoUpdateModalCloseHandler()})),L.ic(52,"async"),L.Nc(53,YU,4,9,"app-reservation-flight-charge-info-update-modal",25),L.ic(54,"async"),L.Vb(),L.Wb(55,"app-dialog",26),L.fc("visibleChange",(function(){return t.clickChargePgCreditCardModalCloseHandler()})),L.ic(56,"async"),L.Nc(57,HU,5,12,"app-reservation-flight-pg-credit-card-charge-modal",16),L.ic(58,"async"),L.Vb(),L.Wb(59,"app-dialog",17),L.fc("visibleChange",(function(){return t.clickChargePgBankModalCloseHandler()})),L.ic(60,"async"),L.Nc(61,qU,4,9,"app-reservation-flight-pg-bank-charge-modal",18),L.ic(62,"async"),L.Vb(),L.Wb(63,"app-dialog",27),L.fc("visibleChange",(function(){return t.clickAncillaryInfoModalCloseHandler()})),L.ic(64,"async"),L.Nc(65,UU,6,16,"app-reservation-flight-ancillary-info-modal",28),L.ic(66,"async"),L.Vb(),L.Wb(67,"app-dialog",29),L.fc("visibleChange",(function(){return t.clickAncillaryPgCreditCardModalCloseHandler()})),L.ic(68,"async"),L.Nc(69,QU,5,12,"app-reservation-flight-pg-credit-card-ancillary-modal",16),L.ic(70,"async"),L.Vb(),L.Wb(71,"app-dialog",30),L.fc("visibleChange",(function(){return t.clickAncillaryPgBankModalCloseHandler()})),L.ic(72,"async"),L.Nc(73,GU,4,10,"app-reservation-flight-pg-bank-ancillary-modal",31),L.ic(74,"async"),L.Vb(),L.Wb(75,"app-reservation-flight-payment",32),L.fc("clickDetailViewEvent",(function(){return t.clickPaymentDetailViewHandler()}))("clickEvidenceViewEvent",(function(){return t.clickPaymentEvidenceViewHandler()}))("clickPaymentInfoTypeSelectModalEvent",(function(){return t.clickPaymentInfoTypeSelectModalOpenHandler()}))("clickPaymentInfoUpdateModalEvent",(function(e){return t.clickPaymentInfoUpdateModalOpenHandler(e)}))("clickPaymentInfoApproveModalEvent",(function(e){return t.clickPgCreditCardApproveModalOpenHandler(e)}))("selectPaymentInfoEvent",(function(e){return t.selectPaymentInfoHandler(e)}))("deleteAllEvent",(function(e){return t.deleteAllPaymentInfoHandler(e)})),L.ic(76,"async"),L.Vb(),L.Wb(77,"app-dialog",33),L.fc("visibleChange",(function(){return t.clickPgCreditCardApproveModalCloseHandler()})),L.ic(78,"async"),L.Nc(79,KU,2,3,"app-reservation-flight-pg-credit-card-approve-modal",34),L.ic(80,"async"),L.Vb(),L.Wb(81,"app-dialog",35),L.fc("visibleChange",(function(){return t.clickPaymentInfoTypeSelectModalCloseHandler()})),L.ic(82,"async"),L.Nc(83,zU,3,6,"app-reservation-flight-payment-info-type-select-modal",36),L.ic(84,"async"),L.Vb(),L.Wb(85,"app-dialog",37),L.fc("visibleChange",(function(){return t.clickPaymentInfoRegisterModalCloseHandler()})),L.ic(86,"async"),L.Nc(87,XU,2,3,"app-reservation-flight-payment-info-register-modal",38),L.ic(88,"async"),L.Vb(),L.Wb(89,"app-dialog",37),L.fc("visibleChange",(function(){return t.clickPaymentInfoUpdateModalCloseHandler()})),L.ic(90,"async"),L.Nc(91,ZU,1,0,"app-reservation-flight-payment-info-update-modal",39),L.ic(92,"async"),L.Vb(),L.Wb(93,"app-reservation-flight-ticket",40),L.fc("clickTicketRefundViewEvent",(function(){return t.clickTicketRefundViewHandler()}))("clickTickeManualViewEvent",(function(){return t.clickTicketManualViewHandler()}))("clickTicketManualDetailViewEvent",(function(e){return t.clickTicketManualDetailViewHandler(e)}))("clickTickeSaleTicketingViewEvent",(function(){return t.clickTickeSaleTicketingViewHandler()})),L.ic(94,"async"),L.ic(95,"async"),L.ic(96,"async"),L.Vb(),L.Vb(),L.Vb(),L.Wb(97,"app-dialog",41),L.fc("visibleChange",(function(){return t.clickCancelModalCloseHandler()})),L.ic(98,"async"),L.Nc(99,JU,2,3,"app-reservation-flight-cancel-modal",42),L.ic(100,"async"),L.Vb(),L.Vb(),L.Vb(),L.Wb(101,"div",43),L.Wb(102,"div",44),L.Nc(103,eQ,6,4,"li",45),L.ic(104,"async"),L.Vb(),L.Wb(105,"div",5),L.Nc(106,tQ,5,12,"app-reservation-flight-basis",46),L.ic(107,"async"),L.Nc(108,nQ,8,22,"app-reservation-flight-travelers",47),L.ic(109,"async"),L.Nc(110,iQ,3,6,"app-reservation-flight-price-detail",48),L.ic(111,"async"),L.Nc(112,oQ,3,6,"app-reservation-booker",49),L.ic(113,"async"),L.Nc(114,aQ,5,12,"app-reservation-user",50),L.ic(115,"async"),L.Nc(116,sQ,6,17,"app-ums",51),L.ic(117,"async"),L.Nc(118,rQ,4,9,"app-reservation-consulting",52),L.ic(119,"async"),L.Nc(120,lQ,4,9,"app-reservation-memo",53),L.ic(121,"async"),L.Nc(122,dQ,3,6,"app-reservation-history",54),L.ic(123,"async"),L.Nc(124,bQ,3,6,"app-reservation-flight-fare-rule",48),L.ic(125,"async"),L.Nc(126,uQ,3,6,"app-reservation-flight-gds-pnr",48),L.ic(127,"async"),L.Nc(128,pQ,3,6,"app-reservation-flight-unpaid",48),L.ic(129,"async"),L.Nc(130,mQ,3,6,"app-reservation-flight-apis-mileage",48),L.ic(131,"async"),L.Nc(132,hQ,3,7,"app-reservation-flight-seat",55),L.ic(133,"async"),L.Nc(134,gQ,3,6,"app-reservation-flight-schedule",48),L.ic(135,"async"),L.Nc(136,fQ,3,6,"app-reservation-flight-fare-evidence",48),L.ic(137,"async"),L.Nc(138,vQ,3,6,"app-reservation-flight-payment-evidence",48),L.ic(139,"async"),L.Nc(140,CQ,3,6,"app-reservation-flight-payment-detail",48),L.ic(141,"async"),L.Nc(142,yQ,2,3,"app-reservation-flight-ticket-refund-register",56),L.ic(143,"async"),L.Nc(144,kQ,4,9,"app-reservation-flight-ticket-refund-request",57),L.ic(145,"async"),L.Nc(146,IQ,2,3,"app-reservation-flight-ticket-sale-ticketing",58),L.ic(147,"async"),L.Nc(148,OQ,3,6,"app-reservation-flight-ticket-manual",48),L.ic(149,"async"),L.Nc(150,PQ,3,6,"app-reservation-flight-policy-monitoring",48),L.ic(151,"async"),L.Wb(152,"app-dialog",59),L.fc("visibleChange",(function(e){return t.clickCloseOffRegisterActionHandler(e)})),L.ic(153,"async"),L.Nc(154,jQ,3,6,"app-fl-manual-booking",60),L.ic(155,"async"),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e){var n;const e=(null==(n=L.jc(96,198,t.paymentInfo$))||null==n.paymentTypes[0]?null:n.paymentTypes[0].payments)||L.tc(266,LU);L.pc("reservationInfoMaster",L.jc(1,98,t.master$))("bookingItemCode",L.jc(2,100,t.bookingItemCode$))("bookingItemCodes",L.jc(3,102,t.bookingItemCodes$)),L.Cb(7),L.pc("bookingItems",L.jc(8,104,t.bookingItems$))("bookingItemCode",L.jc(9,106,t.bookingItemCode$))("categoryCodeNameMap",t.categoryCodeNameMap),L.Cb(6),L.pc("summaryInfo",L.jc(14,108,t.summary$)||L.tc(256,VQ))("bookingItemCode",L.jc(15,110,t.bookingItemCode$)),L.Cb(3),L.pc("ngIf",t.isB2b),L.Cb(1),L.pc("travelerInfo",L.jc(18,112,t.travelerInfo$)||L.tc(257,LU))("summaryInfo",L.jc(19,114,t.summary$)||L.tc(258,VQ)),L.Cb(3),L.pc("modal",!0)("visible",L.jc(21,116,t.isOpenTravelerDivideModal$)),L.Cb(2),L.pc("ngIf",L.jc(23,118,t.isOpenTravelerDivideModal$)),L.Cb(2),L.pc("summaryInfo",L.jc(25,120,t.summary$))("segmentInfo",L.jc(26,122,t.segmentInfo$)||L.tc(259,LU))("bookingItemCode",L.jc(27,124,t.bookingItemCode$)),L.Cb(4),L.pc("stationTypeCode",L.jc(29,126,t.stationTypeCode$))("priceInfo",L.jc(30,128,t.priceInfo$)||L.tc(260,VQ)),L.Cb(3),L.pc("modal",!0)("visible",L.jc(32,130,t.isOpenPgCreditCardModal$)),L.Cb(2),L.pc("ngIf",L.jc(34,132,t.isOpenPgCreditCardModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(36,134,t.isOpenPgBankModal$)),L.Cb(2),L.pc("ngIf",L.jc(38,136,t.isOpenPgBankModal$)),L.Cb(2),L.pc("visible",L.jc(40,138,t.isOpenInvoiceModal$))("modal",!0),L.Cb(2),L.pc("ngIf",L.jc(42,140,t.isOpenInvoiceModal$)),L.Cb(2),L.pc("summary",L.jc(44,142,t.summary$))("chargeInfo",L.jc(45,144,t.chargeInfo$)||L.tc(261,VQ))("paymentInfo",L.jc(46,146,t.paymentInfo$)||L.tc(262,VQ)),L.Cb(4),L.pc("modal",!0)("visible",L.jc(48,148,t.isOpenChargeInfoModal$)),L.Cb(2),L.pc("ngIf",L.jc(50,150,t.isOpenChargeInfoModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(52,152,t.isOpenChargeInfoUpdateModal$)),L.Cb(2),L.pc("ngIf",L.jc(54,154,t.isOpenChargeInfoUpdateModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(56,156,t.isOpenChargePgCreditCardModal$)),L.Cb(2),L.pc("ngIf",L.jc(58,158,t.isOpenChargePgCreditCardModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(60,160,t.isOpenChargePgBankModal$)),L.Cb(2),L.pc("ngIf",L.jc(62,162,t.isOpenChargePgBankModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(64,164,t.isOpenAncillaryInfoModal$)),L.Cb(2),L.pc("ngIf",L.jc(66,166,t.isOpenAncillaryInfoModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(68,168,t.isOpenAncillaryPgCreditCardModal$)),L.Cb(2),L.pc("ngIf",L.jc(70,170,t.isOpenAncillaryPgCreditCardModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(72,172,t.isOpenAncillaryPgBankModal$)),L.Cb(2),L.pc("ngIf",L.jc(74,174,t.isOpenAncillaryPgBankModal$)),L.Cb(2),L.pc("paymentInfo",L.jc(76,176,t.paymentInfo$)||L.tc(263,VQ)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(78,178,t.isOpenPgCreditCardApproveModal$)),L.Cb(2),L.pc("ngIf",L.jc(80,180,t.isOpenPgCreditCardApproveModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(82,182,t.isOpenPaymentInfoTypeSelectModal$)),L.Cb(2),L.pc("ngIf",L.jc(84,184,t.isOpenPaymentInfoTypeSelectModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(86,186,t.isOpenPaymentInfoRegisterModal$)),L.Cb(2),L.pc("ngIf",L.jc(88,188,t.isOpenPaymentInfoRegisterModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(90,190,t.isOpenPaymentInfoUpdateModal$)),L.Cb(2),L.pc("ngIf",L.jc(92,192,t.isOpenPaymentInfoUpdateModal$)),L.Cb(2),L.pc("bookingItems",L.jc(94,194,t.bookingItems$)||L.tc(264,LU))("ticketInfo",L.jc(95,196,t.ticketInfo$)||L.tc(265,VQ))("paymentInfos",e),L.Cb(4),L.pc("modal",!0)("visible",L.jc(98,200,t.isOpenCancelModal$)),L.Cb(2),L.pc("ngIf",L.jc(100,202,t.isOpenCancelModal$)),L.Cb(4),L.pc("ngForOf",L.jc(104,204,t.subTabs$)),L.Cb(3),L.pc("ngIf",L.jc(107,206,t.currentSubTab$)===t.tabNames.BASIS),L.Cb(2),L.pc("ngIf",L.jc(109,208,t.currentSubTab$)===t.tabNames.TRAVELERS),L.Cb(2),L.pc("ngIf",L.jc(111,210,t.currentSubTab$)===t.tabNames.PRICE),L.Cb(2),L.pc("ngIf",L.jc(113,212,t.currentSubTab$)===t.tabNames.BOOKER),L.Cb(2),L.pc("ngIf",L.jc(115,214,t.currentSubTab$)===t.tabNames.USER_INFO),L.Cb(2),L.pc("ngIf",L.jc(117,216,t.currentSubTab$)===t.tabNames.UMS),L.Cb(2),L.pc("ngIf",L.jc(119,218,t.currentSubTab$)===t.tabNames.CONSULTING),L.Cb(2),L.pc("ngIf",L.jc(121,220,t.currentSubTab$)===t.tabNames.MEMO),L.Cb(2),L.pc("ngIf",L.jc(123,222,t.currentSubTab$)===t.tabNames.HISTORY),L.Cb(2),L.pc("ngIf",L.jc(125,224,t.currentSubTab$)===t.tabNames.FARE_RULE),L.Cb(2),L.pc("ngIf",L.jc(127,226,t.currentSubTab$)===t.tabNames.GDS_PNR),L.Cb(2),L.pc("ngIf",L.jc(129,228,t.currentSubTab$)===t.tabNames.UNPAID),L.Cb(2),L.pc("ngIf",L.jc(131,230,t.currentSubTab$)===t.tabNames.APIS_MILEAGE),L.Cb(2),L.pc("ngIf",L.jc(133,232,t.currentSubTab$)===t.tabNames.SEAT),L.Cb(2),L.pc("ngIf",L.jc(135,234,t.currentSubTab$)===t.tabNames.SCHEDULE),L.Cb(2),L.pc("ngIf",L.jc(137,236,t.currentSubTab$)===t.tabNames.FARE_EVIDENCE),L.Cb(2),L.pc("ngIf",L.jc(139,238,t.currentSubTab$)===t.tabNames.PAYMENT_EVIDENCE),L.Cb(2),L.pc("ngIf",L.jc(141,240,t.currentSubTab$)===t.tabNames.PAYMENT_DETAIL),L.Cb(2),L.pc("ngIf",L.jc(143,242,t.currentSubTab$)===t.tabNames.TICKET_REFUND_REGISTER),L.Cb(2),L.pc("ngIf",L.jc(145,244,t.currentSubTab$)===t.tabNames.TICKET_REFUND),L.Cb(2),L.pc("ngIf",L.jc(147,246,t.currentSubTab$)===t.tabNames.SALE_TICKETING),L.Cb(2),L.pc("ngIf",L.jc(149,248,t.currentSubTab$)===t.tabNames.TICKET_MANUAL),L.Cb(2),L.pc("ngIf",L.jc(151,250,t.currentSubTab$)===t.tabNames.POLICY_MONITORING),L.Cb(2),L.pc("visible",L.jc(153,252,t.isOpenOffRegistModal$))("modal",!0),L.Cb(2),L.pc("ngIf",L.jc(155,254,t.isOpenOffRegistModal$))}},directives:[rF,LF,nD,k.o,fD,un.a,OD,ED,YD,nL,lL,AF,k.n,uL,hL,fL,CL,Kn,VL,WL,EL,LL,_L,wL,YL,e_,n_,W_,v$,C$,SF,F$,B$,kw,RT,de,FT.a,Je,Cn,mt,xw,Qw,Zw,dx,hx,vU,kU,OU,WU,RU,xY,FU,NU,EU,MU.a],pipes:[k.b],encapsulation:2}),e})(),RQ=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-retrieve"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active"},decls:1,vars:0,template:function(e,t){1&e&&L.Rb(0,"app-reservation-flight-retrieve-form")},directives:[nY],encapsulation:2,changeDetection:0}),e})();function FQ(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-flight-payment-penalty-cancel-modal",4),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().closePaymentPenaltyCancelHandler()}))("submitEvent",(function(t){return L.Fc(e),L.hc().cancelPaymentPenaltyHandler(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(2,6,e.master$))?null:n.stationTypeCode;L.pc("penaltyInfo",L.jc(1,4,e.selectedPenaltyInfo$))("bookingItemCode",e.bookingItemCode)("stationTypeCode",t)("adjustReasonList",L.jc(3,8,e.adjustReasonList$))}}let SQ=(()=>{class e{constructor(e){this.store=e,this.openTicketRefundRegisterEvent=new L.n,this._subscribeStore()}ngOnInit(){}openTicketRefundRegisterHanler(e){this.openTicketRefundRegisterEvent.emit();const{ticketingDate:t,ticketNo:n,bookingTravelerCode:i}=e;this.store.dispatch(h.loadRefundInfoAction({condition:{ticketingDate:t,ticketNo:n,bookingTravelerCode:i}}))}saveRefundRequestHandler(e){this.store.dispatch(h.saveRefundRequestInfoAction({condition:e}))}cancelRefundRequestHandler(e){this.store.dispatch(h.cancelRefundRequestAction({condition:e}))}openPaymentManualHandler(){this.store.dispatch(h.openPaymentManualModalAction())}closePaymentManualHandler(){this.store.dispatch(h.closePaymentManualModalAction())}selectPenaltyInfoHandler(e){this.store.dispatch(h.selectPenaltyInfoAction({penaltyInfo:e}))}savePaymentDepositManual(e){this.store.dispatch(h.savePaymentDepositManualAction({condition:e}))}openPaymentPenaltyCancelHandler(){this.store.dispatch(h.openPaymentPenaltyCancelModalAction())}deletePaymentHandler(e){this.store.dispatch(h.deletePaymentAction({condition:e}))}closePaymentPenaltyCancelHandler(){this.store.dispatch(h.closePaymentPenaltyCancelModalAction())}cancelPaymentPenaltyHandler(e){this.store.dispatch(h.cancelPaymentPenaltyAction({condition:e}))}_subscribeStore(){this.refundRequestInfo$=this.store.pipe(Object(P.u)(zO)),this.changeRequestStatusList$=this.store.pipe(Object(P.u)(NP)),this.isOpenPaymentManualModal$=this.store.pipe(Object(P.u)(uj)),this.paymentDetailTypeList$=this.store.pipe(Object(P.u)(yP)),this.depositTypeList$=this.store.pipe(Object(P.u)(IP)),this.paymentBankMasterList$=this.store.pipe(Object(P.u)(OP)),this.giftCardTypeList$=this.store.pipe(Object(P.u)(PP)),this.adjustReasonList$=this.store.pipe(Object(P.u)(CP)),this.selectedPenaltyInfo$=this.store.pipe(Object(P.u)(Aj)),this.isOpenPaymentPenaltyCancelModal$=this.store.pipe(Object(P.u)(pj)),this.master$=this.store.pipe(Object(P.u)(OO))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-flight-ticket-refund"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",bookingItemCode:"bookingItemCode"},outputs:{openTicketRefundRegisterEvent:"openTicketRefundRegisterEvent"},decls:13,vars:31,consts:[["modalSize","sm","modalContentClass","pd-all","header","\uacb0\uc81c \uc218\ub3d9 \ub4f1\ub85d",3,"hasScroll","modal","visible","visibleChange"],[3,"bookingItemCode","bookingTravelerCode","chargeInfo","paymentDetailTypeList","depositTypeList","paymentBankMasterList","giftCardTypeList","closeEvent","submitEvent"],["modalSize","sm","modalContentClass","pd-all","header","\uacb0\uc81c\ucde8\uc18c/\ud658\ubd88\uc694\uccad",3,"modal","visible","visibleChange"],[3,"penaltyInfo","bookingItemCode","stationTypeCode","adjustReasonList","closeEvent","submitEvent",4,"ngIf"],[3,"penaltyInfo","bookingItemCode","stationTypeCode","adjustReasonList","closeEvent","submitEvent"]],template:function(e,t){if(1&e&&(L.Wb(0,"app-dialog",0),L.fc("visibleChange",(function(){return t.closePaymentManualHandler()})),L.ic(1,"async"),L.Wb(2,"app-reservation-flight-payment-manual-modal",1),L.fc("closeEvent",(function(){return t.closePaymentManualHandler()}))("submitEvent",(function(e){return t.savePaymentDepositManual(e)})),L.ic(3,"async"),L.ic(4,"async"),L.ic(5,"async"),L.ic(6,"async"),L.ic(7,"async"),L.ic(8,"async"),L.Vb(),L.Vb(),L.Wb(9,"app-dialog",2),L.fc("visibleChange",(function(){return t.closePaymentPenaltyCancelHandler()})),L.ic(10,"async"),L.Nc(11,FQ,4,10,"app-reservation-flight-payment-penalty-cancel-modal",3),L.ic(12,"async"),L.Vb()),2&e){var n;const e=null==(n=L.jc(3,15,t.selectedPenaltyInfo$))?null:n.bookingTravelerCode;L.pc("hasScroll",!1)("modal",!0)("visible",L.jc(1,13,t.isOpenPaymentManualModal$)),L.Cb(2),L.pc("bookingItemCode",t.bookingItemCode)("bookingTravelerCode",e)("chargeInfo",L.jc(4,17,t.selectedPenaltyInfo$))("paymentDetailTypeList",L.jc(5,19,t.paymentDetailTypeList$))("depositTypeList",L.jc(6,21,t.depositTypeList$))("paymentBankMasterList",L.jc(7,23,t.paymentBankMasterList$))("giftCardTypeList",L.jc(8,25,t.giftCardTypeList$)),L.Cb(7),L.pc("modal",!0)("visible",L.jc(10,27,t.isOpenPaymentPenaltyCancelModal$)),L.Cb(2),L.pc("ngIf",L.jc(12,29,t.isOpenPaymentPenaltyCancelModal$))}},directives:[un.a,pw,k.o,lq],pipes:[k.b],encapsulation:2,changeDetection:0}),e})(),TQ=(()=>{class e{constructor(e){this._store=e,this.saveBasisInfoEvent=new L.n,this.saveCancelPolicyEvent=new L.n,this.basicInfo$=this._store.pipe(Object(P.u)(iV))}ngOnInit(){}onSaveBasisInfo(e){this.saveBasisInfoEvent.emit(e)}onSaveCancelPolicy(e){this.saveCancelPolicyEvent.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-activity-basis"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",bookingItemCode:"bookingItemCode",plFinishYn:"plFinishYn",bookingStatusList:"bookingStatusList",bookingUnableReasonList:"bookingUnableReasonList",bookingInfo:"bookingInfo",cancelPolicy:"cancelPolicy",clientPaymentStatusList:"clientPaymentStatusList"},outputs:{saveBasisInfoEvent:"saveBasisInfoEvent",saveCancelPolicyEvent:"saveCancelPolicyEvent"},decls:5,vars:12,consts:[[1,"page-item"],[3,"plFinishYn","bookingItemCode","bookingStatusList","bookingUnableReasonList","basicInfo","bookingInfo","clientPaymentStatusList","submitEvent"],[3,"plFinishYn","cancelPolicy","bookingInfo","submitEvent"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"app-reservation-activity-basis-info",1),L.fc("submitEvent",(function(e){return t.onSaveBasisInfo(e)})),L.ic(2,"async"),L.Vb(),L.Vb(),L.Wb(3,"div",0),L.Wb(4,"app-reservation-activity-basis-rule",2),L.fc("submitEvent",(function(e){return t.onSaveCancelPolicy(e)})),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("plFinishYn",t.plFinishYn)("bookingItemCode",t.bookingItemCode)("bookingStatusList",t.bookingStatusList)("bookingUnableReasonList",t.bookingUnableReasonList)("basicInfo",L.jc(2,10,t.basicInfo$))("bookingInfo",t.bookingInfo)("clientPaymentStatusList",t.clientPaymentStatusList),L.Cb(3),L.pc("plFinishYn",t.plFinishYn)("cancelPolicy",t.cancelPolicy)("bookingInfo",t.bookingInfo))},directives:[Bq,Yq],pipes:[k.b],encapsulation:2,changeDetection:0}),e})(),NQ=(()=>{class e{constructor(){this.saveDetailInfoEvent=new L.n,this.selectActivityMasterEvent=new L.n,this.saveTravelerEvent=new L.n,this.deleteTravelerEvent=new L.n,this.saveNeededInfoEvent=new L.n}ngOnInit(){}saveBookingDetailHandler(e){this.saveDetailInfoEvent.emit(e)}selectActivityMasterHandler(e){this.selectActivityMasterEvent.emit(Number(e))}saveTravelerHandler(e){this.saveTravelerEvent.emit(e)}deleteTravelerHandler(e){this.deleteTravelerEvent.emit(e)}saveNeededInfoHandler(e){this.saveNeededInfoEvent.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-activity-booking-detail"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",plFinishYn:"plFinishYn",summary:"summary",travelers:"travelers",bookingInfo:"bookingInfo",vendorList:"vendorList",activityTypeList:"activityTypeList",deliveryTypeList:"deliveryTypeList",deliveryMethodList:"deliveryMethodList",deliveryStatusList:"deliveryStatusList",deliveryCompList:"deliveryCompList",ageTypeList:"ageTypeList",activityContentsOptionsList:"activityContentsOptionsList",paymentStatusList:"paymentStatusList",bookingStatusList:"bookingStatusList",neededInfo:"neededInfo"},outputs:{saveDetailInfoEvent:"saveDetailInfoEvent",selectActivityMasterEvent:"selectActivityMasterEvent",saveTravelerEvent:"saveTravelerEvent",deleteTravelerEvent:"deleteTravelerEvent",saveNeededInfoEvent:"saveNeededInfoEvent"},decls:6,vars:17,consts:[[1,"page-item"],[3,"plFinishYn","bookingDate","bookingInfo","vendorList","activityTypeList","deliveryTypeList","deliveryStatusList","deliveryMethodList","deliveryCompList","bookingStatusList","paymentStatusList","activityContentsOptionsList","submitEvent","selectActivityMasterEvent"],[3,"travelers","plFinishYn","ageTypeList","submitEvent","deleteEvent"],[3,"plFinishYn","neededInfo","submitEvent"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"app-reservation-activity-booking-detail-info",1),L.fc("submitEvent",(function(e){return t.saveBookingDetailHandler(e)}))("selectActivityMasterEvent",(function(e){return t.selectActivityMasterHandler(e)})),L.Vb(),L.Vb(),L.Wb(2,"div",0),L.Wb(3,"app-reservation-activity-booking-detail-traveler",2),L.fc("submitEvent",(function(e){return t.saveTravelerHandler(e)}))("deleteEvent",(function(e){return t.deleteTravelerHandler(e)})),L.Vb(),L.Vb(),L.Wb(4,"div",0),L.Wb(5,"app-reservation-activity-booking-detail-needed-info",3),L.fc("submitEvent",(function(e){return t.saveNeededInfoHandler(e)})),L.Vb(),L.Vb()),2&e&&(L.Cb(1),L.pc("plFinishYn",t.plFinishYn)("bookingDate",t.summary.bookedDatetime)("bookingInfo",t.bookingInfo)("vendorList",t.vendorList)("activityTypeList",t.activityTypeList)("deliveryTypeList",t.deliveryTypeList)("deliveryStatusList",t.deliveryStatusList)("deliveryMethodList",t.deliveryMethodList)("deliveryCompList",t.deliveryCompList)("bookingStatusList",t.bookingStatusList)("paymentStatusList",t.paymentStatusList)("activityContentsOptionsList",t.activityContentsOptionsList),L.Cb(2),L.pc("travelers",t.travelers)("plFinishYn",t.plFinishYn)("ageTypeList",t.ageTypeList),L.Cb(2),L.pc("plFinishYn",t.plFinishYn)("neededInfo",t.neededInfo))},directives:[qq,Gq,Xq],encapsulation:2,changeDetection:0}),e})(),EQ=(()=>{class e{constructor(e){this.store=e,this.submitEvent=new L.n,this._subscribeStore()}ngOnInit(){}saveActivityAmountVendorHandler(e){this.store.dispatch(g.saveAmountVendorAction({condition:e}))}saveActivityAmountSalesHandler(e){this.store.dispatch(g.saveAmountSalesAction({condition:e}))}_subscribeStore(){this.amountInfo$=this.store.pipe(Object(P.u)(PV)),this.plFinishYn$=this.store.pipe(Object(P.u)(Jj)),this.summary$=this.store.pipe(Object(P.u)(Qj))}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-activity-price-detail"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{active:"active",bookingItemCode:"bookingItemCode"},outputs:{submitEvent:"submitEvent"},decls:8,vars:14,consts:[[1,"page-item"],[3,"bookingItemCode","plFinishYn","vendorInfo","submitEvent"],[3,"bookingItemCode","plFinishYn","amountInfo","submitEvent"]],template:function(e,t){if(1&e&&(L.Wb(0,"div",0),L.Wb(1,"app-reservation-activity-price-detail-vendor",1),L.fc("submitEvent",(function(e){return t.saveActivityAmountVendorHandler(e)})),L.ic(2,"async"),L.ic(3,"async"),L.Vb(),L.Vb(),L.Wb(4,"div",0),L.Wb(5,"app-reservation-activity-price-detail-sales",2),L.fc("submitEvent",(function(e){return t.saveActivityAmountSalesHandler(e)})),L.ic(6,"async"),L.ic(7,"async"),L.Vb(),L.Vb()),2&e){var n;const e=null==(n=L.jc(3,8,t.amountInfo$))?null:n.vendorInfo;L.Cb(1),L.pc("bookingItemCode",t.bookingItemCode)("plFinishYn",L.jc(2,6,t.plFinishYn$))("vendorInfo",e),L.Cb(4),L.pc("bookingItemCode",t.bookingItemCode)("plFinishYn",L.jc(6,10,t.plFinishYn$))("amountInfo",L.jc(7,12,t.amountInfo$))}},directives:[cU,aU],pipes:[k.b],encapsulation:2,changeDetection:0}),e})();function MQ(e,t){if(1&e){const e=L.Xb();L.Wb(0,"div",9),L.Wb(1,"button",10),L.fc("click",(function(){return L.Fc(e),L.hc().clickNew()})),L.Pc(2,"New VCN Issue"),L.Vb(),L.Vb()}}function DQ(e,t){if(1&e){const e=L.Xb();L.Wb(0,"tr"),L.Wb(1,"td",11),L.Wb(2,"a",12),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc().onDetail(n)})),L.Pc(3),L.Vb(),L.Vb(),L.Wb(4,"td",13),L.Pc(5),L.Vb(),L.Wb(6,"td",11),L.Pc(7),L.Vb(),L.Wb(8,"td",14),L.Pc(9),L.ic(10,"number"),L.Vb(),L.Wb(11,"td",11),L.Pc(12),L.Vb(),L.Vb()}if(2&e){const e=t.$implicit;L.Cb(3),L.Rc(" ",e.paymentSeq," "),L.Cb(2),L.Qc(e.depositTypeName),L.Cb(2),L.Qc(e.cardPaymentStatusName),L.Cb(2),L.Sc("",e.currencyCode," ",L.jc(10,6,e.firstDepositAmount),""),L.Cb(3),L.Qc(e.paidDate)}}function LQ(e,t){1&e&&(L.Wb(0,"tr"),L.Wb(1,"td",15),L.Pc(2,"-"),L.Vb(),L.Vb())}function _Q(e,t){if(1&e){const e=L.Xb();L.Wb(0,"form",17),L.Wb(1,"div",1),L.Wb(2,"p",2),L.Pc(3,"VCC Information"),L.Vb(),L.Wb(4,"div",9),L.Wb(5,"button",10),L.fc("click",(function(){return L.Fc(e),L.hc(2).onReissue()})),L.Pc(6,"VCC Reissue"),L.Vb(),L.Wb(7,"button",10),L.fc("click",(function(){return L.Fc(e),L.hc(2).onCancel()})),L.Pc(8,"Cancel"),L.Vb(),L.Wb(9,"button",10),L.fc("click",(function(){return L.Fc(e),L.hc(2).onVccDataUpdate()})),L.Pc(10,"VCC Data Update"),L.Vb(),L.Vb(),L.Vb(),L.Wb(11,"div",18),L.Wb(12,"table"),L.Wb(13,"caption"),L.Pc(14," Vendor Information "),L.Vb(),L.Wb(15,"colgroup"),L.Rb(16,"col"),L.Rb(17,"col"),L.Vb(),L.Wb(18,"tbody"),L.Wb(19,"tr"),L.Wb(20,"th",19),L.Pc(21,"PM SEQ"),L.Vb(),L.Wb(22,"td"),L.Pc(23),L.Vb(),L.Vb(),L.Wb(24,"tr"),L.Wb(25,"th",19),L.Pc(26,"Payment Status"),L.Vb(),L.Wb(27,"td"),L.Pc(28),L.Vb(),L.Vb(),L.Wb(29,"tr"),L.Wb(30,"th",19),L.Pc(31,"VCC Error Message"),L.Vb(),L.Wb(32,"td"),L.Pc(33),L.Vb(),L.Vb(),L.Wb(34,"tr"),L.Wb(35,"th",19),L.Pc(36,"Issued Time"),L.Vb(),L.Wb(37,"td"),L.Pc(38),L.Vb(),L.Vb(),L.Wb(39,"tr"),L.Wb(40,"th",19),L.Pc(41,"Purchase Request ID"),L.Vb(),L.Wb(42,"td"),L.Pc(43),L.Vb(),L.Vb(),L.Wb(44,"tr"),L.Wb(45,"th",19),L.Pc(46,"VCN Information"),L.Vb(),L.Wb(47,"td",20),L.Wb(48,"span",21),L.Pc(49,"VCN"),L.Vb(),L.Pc(50),L.Rb(51,"br"),L.Wb(52,"span",21),L.Pc(53,"Valid Thru."),L.Vb(),L.Pc(54),L.Rb(55,"br"),L.Wb(56,"span",21),L.Pc(57,"CVC2"),L.Vb(),L.Pc(58),L.Vb(),L.Vb(),L.Wb(59,"tr"),L.Wb(60,"th",19),L.Wb(61,"sup"),L.Pc(62,"Amount"),L.Vb(),L.Vb(),L.Wb(63,"td"),L.Wb(64,"div",22),L.Rb(65,"app-input-text",23),L.Wb(66,"span",24),L.Pc(67),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(68,"tr"),L.Wb(69,"th",19),L.Wb(70,"sup"),L.Pc(71,"Available Payment Period"),L.Vb(),L.Vb(),L.Wb(72,"td"),L.Wb(73,"div",25),L.Wb(74,"div",26),L.Rb(75,"mat-datepicker-toggle",27),L.Rb(76,"input",28),L.Rb(77,"mat-datepicker",null,29),L.Vb(),L.Wb(79,"span",30),L.Pc(80,"~"),L.Vb(),L.Wb(81,"div",26),L.Rb(82,"mat-datepicker-toggle",27),L.Rb(83,"input",31),L.Rb(84,"mat-datepicker",null,32),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(86,"tr"),L.Wb(87,"th",19),L.Wb(88,"sup"),L.Pc(89,"Info by Country"),L.Vb(),L.Vb(),L.Wb(90,"td"),L.Rb(91,"app-selectbox",33),L.Vb(),L.Vb(),L.Wb(92,"tr"),L.Wb(93,"th",19),L.Pc(94,"Issue Reason"),L.Vb(),L.Wb(95,"td"),L.Rb(96,"app-input-text",34),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()}if(2&e){const e=L.Ec(78),t=L.Ec(85),n=L.hc(2);L.pc("formGroup",n.putForm),L.Cb(23),L.Qc(null==n.selectItem?null:n.selectItem.paymentSeq),L.Cb(5),L.Rc(" ",null==n.selectItem?null:n.selectItem.cardPaymentStatusName," "),L.Cb(5),L.Rc(" ",null==n.selectItem?null:n.selectItem.vccErrorMessage," "),L.Cb(5),L.Sc("",null==n.selectItem?null:n.selectItem.vccLastTransactionDatetime," (Vendor Local Time : ",null==n.selectItem?null:n.selectItem.vccLastTransactionLocalDatetime,")"),L.Cb(5),L.Rc(" ",null==n.selectItem?null:n.selectItem.pgTransactionId," "),L.Cb(7),L.Rc(" : ",n.addSpaceEvery4Digits(null==n.selectItem?null:n.selectItem.cardNo)," "),L.Cb(4),L.Rc(" : ",null==n.selectItem?null:n.selectItem.vccValidDate," "),L.Cb(4),L.Rc(" : ",null==n.selectItem?null:n.selectItem.cardCvcNo," "),L.Cb(7),L.pc("isInvalid",n.checkIsInvalid("paidAmount")),L.Cb(2),L.Qc(n.selectItem.currencyCode),L.Cb(7),L.Gb("valid-error",n.checkIsInvalid("vccApprovalFromDatetime")),L.Cb(1),L.pc("for",e),L.Cb(1),L.pc("matDatepicker",e),L.Cb(5),L.Gb("valid-error",n.checkIsInvalid("vccApprovalToDatetime")),L.Cb(1),L.pc("for",t),L.Cb(1),L.pc("matDatepicker",t)("min",e),L.Cb(8),L.pc("isInvalid",n.checkIsInvalid("vccTypeCode"))("options",n.vccTypeList)}}function $Q(e,t){if(1&e&&(L.Wb(0,"form",17),L.Wb(1,"div",1),L.Wb(2,"p",2),L.Pc(3,"Vendor Payment Information"),L.Vb(),L.Vb(),L.Wb(4,"div",18),L.Wb(5,"table"),L.Wb(6,"caption"),L.Pc(7," Vendor Payment Information "),L.Vb(),L.Wb(8,"colgroup"),L.Rb(9,"col"),L.Rb(10,"col"),L.Vb(),L.Wb(11,"tbody"),L.Wb(12,"tr"),L.Wb(13,"th",19),L.Pc(14,"PM SEQ"),L.Vb(),L.Wb(15,"td"),L.Pc(16),L.Vb(),L.Vb(),L.Wb(17,"tr"),L.Wb(18,"th",19),L.Pc(19,"PM Deposit Type"),L.Vb(),L.Wb(20,"td"),L.Pc(21),L.Vb(),L.Vb(),L.Wb(22,"tr"),L.Wb(23,"th",19),L.Wb(24,"sup"),L.Pc(25,"Amount"),L.Vb(),L.Vb(),L.Wb(26,"td"),L.Wb(27,"div",22),L.Rb(28,"app-input-text",23),L.Wb(29,"span",24),L.Pc(30),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Wb(31,"tr"),L.Wb(32,"th",19),L.Pc(33,"Paid Date"),L.Vb(),L.Wb(34,"td"),L.Pc(35),L.Vb(),L.Vb(),L.Wb(36,"tr"),L.Wb(37,"th",19),L.Pc(38,"Bank Name"),L.Vb(),L.Wb(39,"td"),L.Pc(40),L.Vb(),L.Vb(),L.Wb(41,"tr"),L.Wb(42,"th",19),L.Pc(43,"Card Status"),L.Vb(),L.Wb(44,"td"),L.Pc(45),L.Vb(),L.Vb(),L.Wb(46,"tr"),L.Wb(47,"th",19),L.Pc(48,"Approval No."),L.Vb(),L.Wb(49,"td"),L.Pc(50),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e){const e=L.hc(2);L.pc("formGroup",e.putForm),L.Cb(16),L.Qc(null==e.selectItem?null:e.selectItem.paymentSeq),L.Cb(5),L.Qc(null==e.selectItem?null:e.selectItem.depositTypeName),L.Cb(7),L.pc("isInvalid",e.checkIsInvalid("paidAmount")),L.Cb(2),L.Qc(e.selectItem.currencyCode),L.Cb(5),L.Rc(" ",null==e.selectItem?null:e.selectItem.paidDate," "),L.Cb(5),L.Rc(" ",null==e.selectItem?null:e.selectItem.depositDetailTypeName," "),L.Cb(5),L.Rc(" ",null==e.selectItem?null:e.selectItem.cardPaymentStatusName," "),L.Cb(5),L.Rc(" ",null==e.selectItem?null:e.selectItem.cardApprovalNo," ")}}function BQ(e,t){if(1&e&&(L.Wb(0,"div",0),L.Nc(1,_Q,97,23,"form",16),L.Nc(2,$Q,51,9,"form",16),L.Vb()),2&e){const e=L.hc();L.Cb(1),L.pc("ngIf","CCVP"===e.selectItem.depositTypeCode),L.Cb(1),L.pc("ngIf","CCVP"!==e.selectItem.depositTypeCode)}}let wQ=(()=>{class e{constructor(e){this._dataService=e,this.submitNewEvent=new L.n,this.reissueEvent=new L.n,this.cancelEvent=new L.n,this.vccDataUpdateEvent=new L.n,this.checkValid=!1,this.newFlag=!1,this.detailFlag=!1,this.putForm=e.generateVendorPaymentPutForm()}ngOnInit(){}checkIsInvalid(e){return this.checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}clickNew(){this.newFlag=!0}closeDetailPopup(){this.newFlag=!1}onDetail(e){this.selectItem=e,this.detailFlag=!0,this.setFormData(e)}submitEvent(e){this.submitNewEvent.emit(e)}onReissue(){if(this.putForm.invalid)return void(this.checkValid=!0);const e=this.selectItem,t=K()(e.vccValidDate,"MM/YYYY").format("YYYY-MM-DD"),n={paymentSeq:e.paymentSeq||null,bookingItemCode:e.bookingItemCode,currencyCode:e.currencyCode,paidAmount:this.putForm.value.paidAmount,vccTypeCode:this.putForm.value.vccTypeCode,vccApprovalFromDatetime:K()(this.putForm.value.vccApprovalFromDatetime).format("YYYY-MM-DD"),vccApprovalToDatetime:K()(this.putForm.value.vccApprovalToDatetime).format("YYYY-MM-DD"),vccValidDate:t,vccIssueReason:this.putForm.value.vccIssueReason};this.reissueEvent.emit(Q.omitBy(n,Q.isNil))}onCancel(){var e;Q.isNil(null===(e=this.selectItem)||void 0===e?void 0:e.paymentSeq)||this.cancelEvent.emit(this.selectItem)}onVccDataUpdate(){var e;Q.isNil(null===(e=this.selectItem)||void 0===e?void 0:e.paymentSeq)||this.vccDataUpdateEvent.emit(this.selectItem)}closeNewIssueModalEvent(){this.newFlag=!1}addSpaceEvery4Digits(e){return e.replace(/\s/g,"").replace(/(\d{4})(?=\d)/g,"$1 ")}setFormData(e){this.putForm.get("paidAmount").setValue(e.firstDepositAmount),this.putForm.get("vccTypeCode").setValue(e.vccTypeCode),this.putForm.get("vccApprovalFromDatetime").setValue(e.vccApprovalFromDatetime),this.putForm.get("vccApprovalToDatetime").setValue(e.vccApprovalToDatetime),this.putForm.get("vccIssueReason").setValue(e.vccIssueReason),this.putForm.get("pgResponseMessage").setValue(e.pgResponseMessage)}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(GS))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-activity-payment-detail"]],hostAttrs:[1,"tab-pane"],hostVars:2,hostBindings:function(e,t){2&e&&L.Gb("active",t.active)},inputs:{vendorPayment:"vendorPayment",active:"active",vccTypeList:"vccTypeList",amountInfo:"amountInfo",bookingInfo:"bookingInfo"},outputs:{submitNewEvent:"submitNewEvent",reissueEvent:"reissueEvent",cancelEvent:"cancelEvent",vccDataUpdateEvent:"vccDataUpdateEvent"},decls:32,vars:4,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title"],["class","control",4,"ngIf"],[1,"table","table-bordered","table-responsive","table-fixed",2,"max-height","360px","overflow","auto"],["scope","col",1,"align-c"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","page-item",4,"ngIf"],[1,"control"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"align-c"],[1,"underline",3,"click"],[1,"align-l"],[1,"align-r"],["colspan","5",1,"align-c"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"table","table-bordered"],["scope","row",1,"th-bg"],["colspan","3"],[1,"font-weight-bold"],[1,"form-group"],["formControlName","paidAmount","valueType","number","inputFormat","number",3,"isInvalid"],[1,"ml10"],[1,"d-flex","align-items-center"],[1,"input","calendar"],[3,"for"],["type","text","placeholder","YYYY-MM-DD","formControlName","vccApprovalFromDatetime",3,"matDatepicker"],["vccApprovalFromDatetimePicker",""],[1,"ml5","mr5"],["type","text","placeholder","YYYY-MM-DD","formControlName","vccApprovalToDatetime",3,"matDatepicker","min"],["vccApprovalToDatetimePicker",""],["formControlName","vccTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn",3,"isInvalid","options"],["formControlName","vccIssueReason"]],template:function(e,t){1&e&&(L.Wb(0,"div",0),L.Wb(1,"div",1),L.Wb(2,"a",2),L.Pc(3,"Vendor Payment List"),L.Vb(),L.Nc(4,MQ,3,0,"div",3),L.Vb(),L.Wb(5,"div",4),L.Wb(6,"table"),L.Wb(7,"caption"),L.Pc(8," Selling Rate "),L.Vb(),L.Wb(9,"colgroup"),L.Rb(10,"col"),L.Rb(11,"col"),L.Rb(12,"col"),L.Rb(13,"col"),L.Rb(14,"col"),L.Rb(15,"col"),L.Vb(),L.Wb(16,"thead"),L.Wb(17,"tr"),L.Wb(18,"th",5),L.Pc(19,"PM SEQ"),L.Vb(),L.Wb(20,"th",5),L.Pc(21,"PM Deposit Type"),L.Vb(),L.Wb(22,"th",5),L.Pc(23,"CC / VCC Status"),L.Vb(),L.Wb(24,"th",5),L.Pc(25,"Amount"),L.Vb(),L.Wb(26,"th",5),L.Pc(27,"Paid Date"),L.Vb(),L.Vb(),L.Vb(),L.Wb(28,"tbody"),L.Nc(29,DQ,13,8,"tr",6),L.Nc(30,LQ,3,0,"tr",7),L.Vb(),L.Vb(),L.Vb(),L.Vb(),L.Nc(31,BQ,3,2,"div",8)),2&e&&(L.Cb(4),L.pc("ngIf",t.bookingInfo.directYn),L.Cb(25),L.pc("ngForOf",t.vendorPayment),L.Cb(1),L.pc("ngIf",!t.vendorPayment),L.Cb(1),L.pc("ngIf",t.detailFlag))},directives:[k.o,k.n,I.B,I.s,I.k,ee.a,I.r,I.i,UW.a,I.c,QW.a,GW.a,Se.a],pipes:[k.f],encapsulation:2,changeDetection:0}),e})();function xQ(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-send-email-template",52),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().closeVoucherHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("bookingItemCode",L.jc(1,3,e.bookingItemCode$))("templateGetInfo",L.jc(2,5,e.voucherGetInfo$))("emailTitle","[OHMYHOTEL] "+L.jc(3,7,e.bookingItemCode$)+"'s Voucher")}}function YQ(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-send-email-template",53),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().closeInvoiceHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("templateGetInfo",L.jc(1,3,e.invoiceGetInfo$))("bookingItemCode",L.jc(2,5,e.bookingItemCode$))("emailTitle","[OHMYHOTEL] "+L.jc(3,7,e.bookingItemCode$)+"'s Invoice")}}function HQ(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-pg-credit-card",54),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().sendPgCreditCardPayment(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().closePgCreditCardModal()})),L.ic(1,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(1,1,e.price$))?null:n.balanceAmount;L.pc("paidAmount",t)}}function qQ(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-pg-bank",54),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().sendPgBankPayment(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().closePgBankModal()})),L.ic(1,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(1,1,e.price$))?null:n.balanceAmount;L.pc("paidAmount",t)}}function UQ(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-cash-receipt-issue",55),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().issueCashReceipt(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().closeCashReceiptIssueModal()})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(2,6,e.master$))?null:n.bookerName;var i;const o=null==(i=L.jc(3,8,e.master$))?null:i.bookerEmailAddress;L.pc("selectedPaymentInfo",L.jc(1,4,e.selectedPayment$))("issueName",t)("emailAddress",o)("maxPaidAmount",e.sumCashPaidAmount)}}function QQ(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-point-payment",56),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().closePointPaymentHandler()}))("submitEvent",(function(t){return L.Fc(e),L.hc().sendPointPaymentHandler(t)})),L.ic(1,"async"),L.ic(2,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(2,4,e.master$))?null:n.bookerUno;L.pc("bookingItemCode",L.jc(1,2,e.bookingItemCode$))("userNo",t)}}const GQ=function(){return[]};function KQ(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-credit-card-cancel",57),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().cancelCreditCard(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().closeCreditCardCancelModal()})),L.ic(1,"async"),L.ic(2,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=(null==(n=L.jc(1,2,e.paymentInfo$))?null:n.payments)||L.tc(6,GQ);L.pc("payments",t)("paymentInfo",L.jc(2,4,e.selectedPayment$))}}function zQ(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-coupon-point-payment-cancel",58),L.fc("cancelCouponEvent",(function(t){return L.Fc(e),L.hc().cancelCoupon(t)}))("cancelPointEvent",(function(t){return L.Fc(e),L.hc().cancelPoint(t)}))("closeEvent",(function(){return L.Fc(e),L.hc().closeCouponPointCancelModal()})),L.ic(1,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("paymentInfo",L.jc(1,1,e.selectedPayment$))}}function XQ(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-activity-payment-manual-modal",59),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().closePaymentManualHandler()}))("submitEvent",(function(t){return L.Fc(e),L.hc().savePaymentDepositManual(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.ic(5,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("bookingItemCode",L.jc(1,5,e.bookingItemCode$))("paymentDetailTypeList",L.jc(2,7,e.paymentDetailTypeList$))("depositTypeList",L.jc(3,9,e.depositTypeList$))("paymentBankMasterList",L.jc(4,11,e.paymentBankMasterList$))("giftCardTypeList",L.jc(5,13,e.giftCardTypeList$))}}function ZQ(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-deposit-refund-detail",60),L.fc("completeEvent",(function(){return L.Fc(e),L.hc().completeRefundRegister()})),L.ic(1,"async"),L.ic(2,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(1,2,e.selectedPayment$))?null:n.paymentSeq;L.pc("paymentSeq",t)("depositInfo",L.jc(2,4,e.selectedPayment$))}}function JQ(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-card-receipt-view",61),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().closeCardReceiptHandler()})),L.ic(1,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("receiptCondition",L.jc(1,1,e.cardReceiptInfo$))}}function eG(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-send-email-template",62),L.fc("closeEvent",(function(){return L.Fc(e),L.hc().closeCashReceiptHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("emailTitle","[OHMYHOTEL] "+L.jc(1,3,e.bookingItemCode$)+"'s Receipt")("bookingItemCode",L.jc(2,5,e.bookingItemCode$))("templateGetInfo",L.jc(3,7,e.receiptGetInfo$))}}function tG(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-activity-cancel-modal",63),L.fc("submitEvent",(function(){return L.Fc(e),L.hc().cancelSubmitHandler()}))("closeEvent",(function(){return L.Fc(e),L.hc().clickCancelModalCloseHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.Vb()}if(2&e){const e=L.hc();var n;const t=null==(n=L.jc(2,4,e.cancelCharge$))?null:n.cancelChargeAmount;L.pc("bookingItemCode",L.jc(1,2,e.bookingItemCode$))("cancelChargeAmount",t)}}function nG(e,t){if(1&e){const e=L.Xb();L.Wb(0,"li",64),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc().onClickCurrentSubTab(n)})),L.ic(1,"async"),L.Wb(2,"a",65),L.Pc(3),L.Vb(),L.Wb(4,"a",66),L.fc("click",(function(){L.Fc(e);const n=t.$implicit;return L.hc().onClickDelSubTab(n)})),L.Pc(5,"\ub2eb\uae30"),L.Vb(),L.Vb()}if(2&e){const e=t.$implicit,n=L.hc();L.pc("active",e===L.jc(1,2,n.currentSubTab$)),L.Cb(3),L.Qc(e)}}function iG(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-booker",67),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().onSaveBookerInfo(t)})),L.ic(1,"async"),L.ic(2,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("active",L.jc(1,2,e.currentSubTab$)===e.tabNames.BOOKER)("masterInfo",L.jc(2,4,e.master$))}}function oG(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-user",68),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().saveBookerInfoHandler(t)})),L.ic(1,"async"),L.ic(2,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("active",L.jc(1,2,e.currentSubTab$)===e.tabNames.USER_INFO)("bookerInfo",L.jc(2,4,e.bookerInfo$))}}function aG(e,t){if(1&e&&(L.Rb(0,"app-reservation-history",69),L.ic(1,"async"),L.ic(2,"async")),2&e){const e=L.hc();L.pc("active",L.jc(1,2,e.currentSubTab$)===e.tabNames.HISTORY)("bookingLogList",L.jc(2,4,e.bookingLogList$))}}function cG(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-consulting",70),L.fc("submitEvent",(function(t){return L.Fc(e),L.hc().onSaveConsultingInfo(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("active",L.jc(1,3,e.currentSubTab$)===e.tabNames.CONSULTING)("consultingList",L.jc(2,5,e.consultingList$))("consultingSeq",L.jc(3,7,e.consultingSeq$))}}function sG(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-memo",71),L.fc("saveMemoEvent",(function(t){return L.Fc(e),L.hc().onSaveMemo(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("active",L.jc(1,3,e.currentSubTab$)===e.tabNames.MEMO)("bookingItemCode",L.jc(2,5,e.bookingItemCode$))("memoList",L.jc(3,7,e.bookingMemoList$))}}const rG=function(e){return[e]};function lG(e,t){if(1&e&&(L.Rb(0,"app-ums",72),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.ic(5,"async")),2&e){const e=L.hc();var n;const t=null==(n=L.jc(4,11,e.master$))?null:n.bookingCode;L.pc("active",L.jc(1,5,e.currentSubTab$)===e.tabNames.UMS)("stationTypeCode",L.jc(2,7,e.summary$).stationTypeCode)("bookingItemCode",L.jc(3,9,e.bookingItemCode$))("bookingCode",t)("bookers",L.uc(15,rG,L.jc(5,13,e.bookerForUms$)))}}function dG(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-activity-basis",73),L.fc("saveBasisInfoEvent",(function(t){return L.Fc(e),L.hc().onSaveBasicInfo(t)}))("saveCancelPolicyEvent",(function(t){return L.Fc(e),L.hc().onSaveCancelPolicy(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.ic(5,"async"),L.ic(6,"async"),L.ic(7,"async"),L.ic(8,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("active",L.jc(1,8,e.currentSubTab$)===e.tabNames.BASIS)("bookingItemCode",L.jc(2,10,e.bookingItemCode$))("plFinishYn",L.jc(3,12,e.plFinishYn$))("bookingStatusList",L.jc(4,14,e.bookingStatusList$))("bookingUnableReasonList",L.jc(5,16,e.bookingUnableReasonList$))("bookingInfo",L.jc(6,18,e.bookingInfo$))("cancelPolicy",L.jc(7,20,e.cancelPolicy$))("clientPaymentStatusList",L.jc(8,22,e.clientPaymentStatusList$))}}function bG(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-activity-booking-detail",74),L.fc("saveDetailInfoEvent",(function(t){return L.Fc(e),L.hc().onSaveDetailInfoHandler(t)}))("selectActivityMasterEvent",(function(t){return L.Fc(e),L.hc().onSelectActivityMaster(t)}))("saveTravelerEvent",(function(t){return L.Fc(e),L.hc().saveTravelerHandler(t)}))("deleteTravelerEvent",(function(t){return L.Fc(e),L.hc().deleteTravelerHandler(t)}))("saveNeededInfoEvent",(function(t){return L.Fc(e),L.hc().saveNeededInfoHandler(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.ic(5,"async"),L.ic(6,"async"),L.ic(7,"async"),L.ic(8,"async"),L.ic(9,"async"),L.ic(10,"async"),L.ic(11,"async"),L.ic(12,"async"),L.ic(13,"async"),L.ic(14,"async"),L.ic(15,"async"),L.ic(16,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("active",L.jc(1,16,e.currentSubTab$)===e.tabNames.BOOKING_DETAIL)("plFinishYn",L.jc(2,18,e.plFinishYn$))("summary",L.jc(3,20,e.summary$))("travelers",L.jc(4,22,e.travelers$))("bookingInfo",L.jc(5,24,e.bookingInfo$))("neededInfo",L.jc(6,26,e.neededInfo$))("vendorList",L.jc(7,28,e.vendorList$))("activityTypeList",L.jc(8,30,e.activityTypeList$))("deliveryTypeList",L.jc(9,32,e.deliveryTypeList$))("deliveryStatusList",L.jc(10,34,e.deliveryStatusList$))("deliveryMethodList",L.jc(11,36,e.deliveryMethodList$))("deliveryCompList",L.jc(12,38,e.deliveryCompList$))("ageTypeList",L.jc(13,40,e.ageTypeList$))("activityContentsOptionsList",L.jc(14,42,e.activityContentsOptionsList$))("bookingStatusList",L.jc(15,44,e.bookingStatusList$))("paymentStatusList",L.jc(16,46,e.clientPaymentStatusList$))}}function uG(e,t){if(1&e&&(L.Rb(0,"app-reservation-activity-price-detail",75),L.ic(1,"async"),L.ic(2,"async")),2&e){const e=L.hc();L.pc("active",L.jc(1,2,e.currentSubTab$)===e.tabNames.PRICE_DETAIL)("bookingItemCode",L.jc(2,4,e.bookingItemCode$))}}function pG(e,t){if(1&e){const e=L.Xb();L.Wb(0,"app-reservation-activity-payment-detail",76),L.fc("submitNewEvent",(function(t){return L.Fc(e),L.hc().submitNewEvent(t)}))("reissueEvent",(function(t){return L.Fc(e),L.hc().reissueEvent(t)}))("vccDataUpdateEvent",(function(t){return L.Fc(e),L.hc().vccDataUpdateEventHandler(t)}))("cancelEvent",(function(t){return L.Fc(e),L.hc().cancelPaymentEvent(t)})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.ic(4,"async"),L.Vb()}if(2&e){const e=L.hc();L.pc("active",L.jc(1,4,e.currentSubTab$)===e.tabNames.PAYMENT_DETAIL)("bookingInfo",L.jc(2,6,e.bookingInfo$))("vccTypeList",L.jc(3,8,e.vccTypeList$))("vendorPayment",L.jc(4,10,e.vendorPayment$))}}const mG={BASIS:"Basic Info.",RETRIEVE:"Retrieve",BOOKING_DETAIL:"Booking Detail",PRICE_DETAIL:"Price Detail",PAYMENT_DETAIL:"Payment",UMS:"UMS",CONSULTING:"1:1",VOUCHER:"Voucher",MEMO:"Remark",HISTORY:"History",BOOKER:"Booker",USER_INFO:"User Info",TRAVELERS:"Travelers"};let hG=(()=>{class e extends oF{constructor(e,t,n,i){super(e),this.store=e,this.authStore=t,this._activatedRoute=n,this.alertService=i,this.sumCashPaidAmount=0,this.unsubscribe$=new Fe.a,this._subscribeStore()}get tabNames(){return mG}ngOnInit(){this._activatedRoute.queryParams.subscribe(e=>{const t=e.tabName;Q.isNil(t)||this.store.dispatch(g.setCurrentSubTabAction({tabName:this.tabNames[t]}))}),this._initDetailSubscription()}loadMasterInfo(){this.store.dispatch(g.loadMasterInfoAction({condition:{bookingItemCode:this._bookingItemCode}}))}loadSubInfo(){this._loadSubTabData()}clickDetailViewHandler(){this.onClickCurrentSubTab(this.tabNames.BASIS)}clickRetrieveHandler(){this.store.dispatch(g.retrieveAction({condition:{bookingItemCodes:[this._bookingItemCode]}}))}clickMypageHandler(){this.store.dispatch(u.openClientPageAction({path:`activity-booked-detail/${this._bookingItemCode}`}))}clickUmsHandler(){this.onClickCurrentSubTab(this.tabNames.UMS)}clickCancelHandler(){this.store.dispatch(g.loadCancelChargeAmountAction({condition:{bookingItemCode:this._bookingItemCode}})),this.store.dispatch(g.openCanceModalAction())}clickConsultingHandler(){this.onClickCurrentSubTab(this.tabNames.CONSULTING)}clickMemoHandler(){this.onClickCurrentSubTab(this.tabNames.MEMO)}clickChangeLogHandler(){this.onClickCurrentSubTab(this.tabNames.HISTORY)}clickBookingInfoDetailViewHandler(){this.onClickCurrentSubTab(this.tabNames.BOOKING_DETAIL)}clickOperationWebSiteHandler(){}clickPriceDetailViewHandler(){this.onClickCurrentSubTab(this.tabNames.PRICE_DETAIL)}clickPaymentDetailViewHandler(){this.onClickCurrentSubTab(this.tabNames.PAYMENT_DETAIL)}clickBookerViewHandler(){this.onClickCurrentSubTab(this.tabNames.BOOKER)}onSaveBookerInfo(e){this.store.dispatch(u.saveBookerInfoAction({condition:e}))}saveBookerInfoHandler(e){const t=this._bookingItemCode.split("-")[0];this.store.dispatch(u.changeBookerInfoAction({condition:Object.assign(Object.assign({},e),{bookingCode:t})}))}onSaveMemo(e){this.store.dispatch(u.saveBookingMemoAction({condition:e}))}clickUserInfoViewHandler(){this.onClickCurrentSubTab(this.tabNames.USER_INFO)}clickTravelersViewHandler(){this.onClickCurrentSubTab(this.tabNames.TRAVELERS)}onClickCurrentSubTab(e){this.store.dispatch(g.setCurrentSubTabAction({tabName:e}))}onClickDelSubTab(e){this.store.dispatch(g.delSubTabAction({tabName:e}))}clickCancelModalCloseHandler(){this.store.dispatch(g.closeCanceModalAction())}cancelSubmitHandler(){this.store.dispatch(g.cancelBookingAction({condition:{bookingItemCode:this._bookingItemCode}}))}onSaveBasicInfo(e){this.store.dispatch(g.saveBasicInfoAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode})}))}onSaveTravelerInfo(e){}onSaveCancelPolicy(e){this.store.dispatch(g.saveCancelPolicyAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode})}))}onSelectActivityMaster(e){this.store.dispatch(g.loadActivityContentsOptionAction({condition:{activityMasterSeq:e},isForceLoad:!0}))}onSaveDetailInfoHandler(e){this.store.dispatch(g.saveBookingDetailAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode})}))}saveTravelerHandler(e){this.store.dispatch(g.saveTravelerAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode})}))}deleteTravelerHandler(e){this.store.dispatch(g.deleteTravelerAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode})}))}saveNeededInfoHandler(e){this.store.dispatch(g.saveNeededInfoAction({condition:{neededInfos:e,bookingItemCode:this._bookingItemCode}}))}onSaveAmountInfo(e){}onSaveConsultingInfo(e){this.store.dispatch(u.saveConsultingInfoAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode})}))}openCashReceiptIssueModal(e){this.sumCashPaidAmount=e,this.store.dispatch(g.openCashReceiptIssueModalAction())}closeCashReceiptIssueModal(){this.sumCashPaidAmount=0,this.store.dispatch(g.closeCashReceiptIssueModalAction())}openPgCreditCardModal(){this.store.dispatch(g.openPgCreditCardModalAction())}closePgCreditCardModal(){this.store.dispatch(g.closePgCreditCardModalAction())}selectPaymentHandler(e){this.store.dispatch(g.selectPaymentInfoAction({paymentInfo:e}))}openCreditCardCancelModal(){this.store.dispatch(g.openCreditCardCancelModalAction())}closeCreditCardCancelModal(){this.store.dispatch(g.closeCreditCardCancelModalAction())}openCouponPointCancelModal(){this.store.dispatch(g.openCouponPointCancelModalAction())}closeCouponPointCancelModal(){this.store.dispatch(g.closeCouponPointCancelModalAction())}openPgBankModal(){this.store.dispatch(g.openPgBankModalAction())}closePgBankModal(){this.store.dispatch(g.closePgBankModalAction())}sendPgCreditCardPayment(e){this.store.dispatch(g.sendPgCreditCardPaymentAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode,paymentDetailTypeCode:"ACTRV"})}))}sendPgBankPayment(e){this.store.dispatch(g.sendPgBankPaymentAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode,paymentDetailTypeCode:"ACTRV"})}))}cancelCreditCard(e){this.store.dispatch(g.cancelPaymentAction({condition:Object.assign({},e)}))}cancelCoupon(e){this.store.dispatch(g.cancelCouponPaymentAction({condition:Object.assign({},e)}))}cancelPoint(e){this.store.dispatch(g.cancelPointPaymentAction({condition:Object.assign({},e)}))}issueCashReceipt(e){this.store.dispatch(g.issueCashReceiptAction({condition:Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode,emailAddress:this.master.bookerEmailAddress})}))}openPaymentManualHandler(){this.store.dispatch(g.openPaymentManualModalAction())}closePaymentManualHandler(){this.store.dispatch(g.closePaymentManualModalAction())}savePaymentDepositManual(e){this.store.dispatch(g.savePaymentDepositManualAction({condition:e}))}openVoucherHandler(){this.store.dispatch(g.openVoucherModalAction())}closeVoucherHandler(){this.store.dispatch(g.closeVoucherModalAction())}openInvoiceHandler(){this.store.dispatch(g.openInvoiceModalAction())}closeInvoiceHandler(){this.store.dispatch(g.closeInvoiceModalAction())}cancelCashReceipt(e){this.store.dispatch(g.cancelBankReceiptAction({condition:e}))}openCashReceiptHandler({receiptSeq:e}){const{stationTypeCode:t}=this.master;this.store.dispatch(g.openCashReceiptAction({receiptGetInfo:{itemCategoryCode:"IC04",bookingItemCode:this._bookingItemCode,stationTypeCode:t,receiptSeq:e,invoiceYn:!1}}))}closeCashReceiptHandler(){this.store.dispatch(g.closeCashReceiptAction())}openCardReceiptHandler(e){const t=Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode});this.store.dispatch(g.openCardReceiptAction({cardReceiptInfo:t}))}closeCardReceiptHandler(){this.store.dispatch(g.closeCardReceiptAction())}openRefundRegister(){this.store.dispatch(g.openRefundRegisterAction())}closeRefundRegister(){this.store.dispatch(g.closeRefundRegisterAction())}completeRefundRegister(){this.store.dispatch(u.reloadBookingDetailAction()),this.store.dispatch(g.closeRefundRegisterAction())}openPointPaymentHandler(){this.store.dispatch(g.openPointPaymentAction())}closePointPaymentHandler(){this.store.dispatch(g.closePointPaymentAction())}sendPointPaymentHandler(e){this.store.dispatch(g.sendPointPaymentAction({condition:e}))}clickDeletePaymentHandler(e){this.store.dispatch(g.deletePaymentAction({condition:e}))}getSmartInfiniProductStatusInfo(){this.store.dispatch(g.getSmartInfiniProductStatusInfoAction({condition:{bookingItemCode:this._bookingItemCode,vendorCompCode:910018}}))}clickCreatePaymentEvent(e){this.store.dispatch(g.createPaymentAction({condition:e}))}submitNewEvent(e){let t=null;this.vendorPayment.forEach(e=>{"CCS01"===e.cardPaymentStatusCode&&(t=e.paymentSeq)}),this.handlePayment(e,t)}handlePayment(e,t){return Object(no.a)(this,void 0,void 0,(function*(){try{yield this.store.dispatch(g.cancelPaymentVcc({condition:{paymentSeq:t}}));const n=Object.assign(Object.assign({},e),{bookingItemCode:this._bookingItemCode,currencyCode:this.amountInfo.vendorInfo.vendorCurrencyCode});yield this.store.dispatch(g.putPaymentVcc({condition:n}))}catch(n){console.error("Error:",n)}}))}cancelPaymentEvent(e){this.store.dispatch(g.cancelPaymentVcc({condition:{bookingItemCode:this._bookingItemCode,paymentSeq:e.paymentSeq}}))}reissueEvent(e){this.store.dispatch(g.putPaymentVcc({condition:e}))}vccDataUpdateEventHandler(e){this.store.dispatch(g.getPaymentVcc({condition:{bookingItemCode:this._bookingItemCode,paymentSeq:e.paymentSeq}}))}_subscribeStore(){this.auths$=this.store.pipe(Object(P.u)(rk)),this.loading$=this.store.pipe(Object(P.u)(Hj)),this.master$=this.store.pipe(Object(P.u)(qj)),this.bookingItems$=this.store.pipe(Object(P.u)(Uj)),this.summary$=this.store.pipe(Object(P.u)(Qj)),this.bookingInfo$=this.store.pipe(Object(P.u)(Gj)),this.travelers$=this.store.pipe(Object(P.u)(Kj)),this.neededInfo$=this.store.pipe(Object(P.u)(zj)),this.price$=this.store.pipe(Object(P.u)(Xj)),this.paymentInfo$=this.store.pipe(Object(P.u)(Zj)),this.plFinishYn$=this.store.pipe(Object(P.u)(Jj)),this.freeNonCancelableYn$=this.store.pipe(Object(P.u)(wV)),this.amountInfo$=this.store.pipe(Object(P.u)(xI)),this.basicInfo$=this.store.pipe(Object(P.u)(iV)),this.vendorPayment$=this.store.pipe(Object(P.u)(bO)),this.vccTypeList$=this.store.pipe(Object(P.u)(uO)),this.subTabs$=this.store.pipe(Object(P.u)(aV)),this.currentSubTab$=this.store.pipe(Object(P.u)(cV)),this.isOpenCancelModal$=this.store.pipe(Object(P.u)(sV)),this.isOpenCashReceiptIssueModal$=this.store.pipe(Object(P.u)(rV)),this.isOpenPgCreditCardModal$=this.store.pipe(Object(P.u)(lV)),this.isOpenPgBankModal$=this.store.pipe(Object(P.u)(dV)),this.isOpenCreditCardCancelModal$=this.store.pipe(Object(P.u)(bV)),this.isOpenCouponPointCancelModal$=this.store.pipe(Object(P.u)(uV)),this.isOpenPaymentManualModal$=this.store.pipe(Object(P.u)(pV)),this.selectedPayment$=this.store.pipe(Object(P.u)(gV)),this.isOpenVoucherModal$=this.store.pipe(Object(P.u)(mV)),this.isOpenInvoiceModal$=this.store.pipe(Object(P.u)(hV)),this.isOpenCardReceiptModal$=this.store.pipe(Object(P.u)(fV)),this.isOpenCashReceiptModal$=this.store.pipe(Object(P.u)(vV)),this.isOpenRefundRegisterModal$=this.store.pipe(Object(P.u)(CV)),this.isOpenPointPaymentModal$=this.store.pipe(Object(P.u)(yV)),this.bookingStatusList$=this.store.pipe(Object(P.u)(VV)),this.vendorList$=this.store.pipe(Object(P.u)(AV)),this.activityTypeList$=this.store.pipe(Object(P.u)(WV)),this.deliveryStatusList$=this.store.pipe(Object(P.u)(SV)),this.deliveryTypeList$=this.store.pipe(Object(P.u)(RV)),this.deliveryMethodList$=this.store.pipe(Object(P.u)(FV)),this.deliveryCompList$=this.store.pipe(Object(P.u)(TV)),this.ageTypeList$=this.store.pipe(Object(P.u)(NV)),this.activityContentsOptionsList$=this.store.pipe(Object(P.u)(EV)),this.paymentDetailTypeList$=this.store.pipe(Object(P.u)(MV)),this.depositTypeList$=this.store.pipe(Object(P.u)(DV)),this.paymentBankMasterList$=this.store.pipe(Object(P.u)(LV)),this.giftCardTypeList$=this.store.pipe(Object(P.u)(_V)),this.bookingUnableReasonList$=this.store.pipe(Object(P.u)(BV)),this.clientPaymentStatusList$=this.store.pipe(Object(P.u)($V)),this.cancelPolicy$=this.store.pipe(Object(P.u)(OV)),this.loginUser$=this.authStore.pipe(Object(P.u)(Xe.r)),this.loginUserNo$=this.authStore.pipe(Object(P.u)(Xe.t)),this.cancelCharge$=this.store.pipe(Object(P.u)(jV)),this.bookerForUms$=this.store.pipe(Object(P.u)(eV)),this.voucherGetInfo$=this.store.pipe(Object(P.u)(tV)),this.invoiceGetInfo$=this.store.pipe(Object(P.u)(nV)),this.receiptGetInfo$=this.store.pipe(Object(P.u)(oV)),this.cardReceiptInfo$=this.store.pipe(Object(P.u)(kV)),this.cashReceiptInfo$=this.store.pipe(Object(P.u)(IV))}_loadSubTabData(){this.store.dispatch(g.loadBasicInfoAction({condition:{bookingItemCode:this._bookingItemCode}})),this.store.dispatch(g.loadBookingStatusAction({condition:{masterCode:"BK001"}})),this.store.dispatch(g.loadVendorListAction({condition:{compTypeCodes:["CMP06"],limits:[0,100]}})),this.store.dispatch(g.loadActivityTypeAction({condition:{masterCode:"AV003"}})),this.store.dispatch(g.loadDeliveryTypeAction({condition:{masterCode:"AV001"}})),this.store.dispatch(g.loadDeliveryMethodAction({condition:{masterCode:"AV004"}})),this.store.dispatch(g.loadDeliveryStatusAction({condition:{masterCode:"AV020"}})),this.store.dispatch(g.loadDeliveryCompAction({condition:{masterCode:"AV005",useYn:!0}})),this.store.dispatch(g.loadAgeTypeAction({condition:{masterCode:"AV016"}})),this.store.dispatch(g.loadPaymentDetailTypeList({condition:{masterCode:"PM005",referCode1:"IC04"}})),this.store.dispatch(g.loadDepositTypeList({condition:{masterCode:"PM006",referCode1:"MANUAL"}})),this.store.dispatch(g.loadPaymentBankMasterListAction({condition:{masterCode:"PM003",referCode2:"DOUZONE"}})),this.store.dispatch(g.loadGiftCardTypeListAction({condition:{masterCode:"PM039"}})),this.store.dispatch(g.loadBookingUnableReasonListAction({condition:{masterCode:"AV031"}})),this.store.dispatch(g.loadCancelPolicyAction({condition:{bookingItemCode:this._bookingItemCode}})),this.store.dispatch(g.loadAmountInfoAction({condition:{bookingItemCode:this._bookingItemCode}})),this.store.dispatch(g.loadClientPaymentStatus({condition:{masterCode:"BK002",referCode1:"IC04"}})),this.store.dispatch(g.loadVendorPayment({condition:{bookingItemCode:this._bookingItemCode,limits:[0,50],salesOrVendor:"V"}})),this.store.dispatch(g.loadVccTypeList({condition:{masterCode:"PM013"}}))}_initDetailSubscription(){this.auths$.pipe(Object(Ci.a)(this.unsubscribe$)).subscribe(e=>{this.auths=e}),this.master$.pipe(Object(Ci.a)(this.unsubscribe$)).subscribe(e=>{this.master=e}),this.amountInfo$.pipe(Object(Ci.a)(this.unsubscribe$)).subscribe(e=>{this.amountInfo=e}),this.vendorPayment$.pipe(Object(Ci.a)(this.unsubscribe$)).subscribe(e=>{this.vendorPayment=e})}}return e.\u0275fac=function(t){return new(t||e)(L.Qb(P.h),L.Qb(P.h),L.Qb(dt.a),L.Qb(Ae.a))},e.\u0275cmp=L.Kb({type:e,selectors:[["app-reservation-activity"]],features:[L.zb],decls:111,vars:183,consts:[[3,"reservationInfoMaster","bookingItemCode","bookingItemCodes","clickBookerNameEvent","clickUserInfoEvent","clickUmsEvent"],[1,"modal-body"],[1,"frame-wrap","both"],[1,"frame","main"],[3,"bookingItems","bookingItemCode","categoryCodeNameMap"],[1,"tabs-content"],[1,"tab-pane","active"],[1,"reservation-detail"],[3,"summary","plFinishYn","freeNonCancelableYn","bookingItemCode","bookingInfo","basicInfo","clickDetailViewEvent","clickRetrieveEvent","clickMypageEvent","clickUmsEvent","clickConsultingEvent","clickMemoEvent","clickChangeLogEvent","clickCheckProdState","clickCancelEvent","clickPaymentEvent"],[3,"bookingInfo","clickVoucherEvent","clickInvoiceEvent","clickDetailViewEvent","clickOperationWebSiteEvent"],["header","Voucher","modalSize","md","modalContentClass","pd-all",3,"visible","modal","visibleChange"],[3,"bookingItemCode","templateGetInfo","emailTitle","closeEvent",4,"ngIf"],["header","Invoice","modalSize","md","modalContentClass","pd-all",3,"visible","modal","visibleChange"],[3,"templateGetInfo","bookingItemCode","emailTitle","closeEvent",4,"ngIf"],[3,"travelers","clickDetailViewEvent"],[3,"neededInfo"],[3,"price","clickPgCardEvent","clickPgBankEvent","clickDetailViewEvent"],["modalSize","sm","modalContentClass","pd-all","header","Credit Card Manual Approval",3,"modal","visible","visibleChange"],[3,"paidAmount","submitEvent","closeEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","Create Virtual Bank Account",3,"modal","visible","visibleChange"],[3,"plFinishYn","paymentInfo","bookingInfo","clickCashReceiptIssueEvent","clickCreditCardCancelEvent","clickCouponPointCancelEvent","clickPaymentManualEvent","openCardReceiptEvent","clickRefundRegisterEvent","clickPointPaymentEvent","clickDeletePaymentEvent","clickCreatePaymentEvent","selectPayment"],["modalSize","sm","modalContentClass","pd-all","header","Issue Cash Receipt",3,"modal","visible","visibleChange"],[3,"selectedPaymentInfo","issueName","emailAddress","maxPaidAmount","submitEvent","closeEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","\ud3ec\uc778\ud2b8 \uc218\ub3d9\uacb0\uc81c",3,"modal","visible","visibleChange"],[3,"bookingItemCode","userNo","closeEvent","submitEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","Cancel a card payment authorization",3,"modal","visible","visibleChange"],[3,"payments","paymentInfo","submitEvent","closeEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","\ucfe0\ud3f0/\ud3ec\uc778\ud2b8 \uacb0\uc81c \ucde8\uc18c",3,"modal","visible","visibleChange"],[3,"paymentInfo","cancelCouponEvent","cancelPointEvent","closeEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","\uacb0\uc81c \uc218\ub3d9 \ub4f1\ub85d",3,"hasScroll","modal","visible","visibleChange"],[3,"bookingItemCode","paymentDetailTypeList","depositTypeList","paymentBankMasterList","giftCardTypeList","closeEvent","submitEvent",4,"ngIf"],["modalSize","md","modalContentClass","pd-all","header","\ud658\ubd88\ub4f1\ub85d",3,"visible","modal","visibleChange"],["category","activity",3,"paymentSeq","depositInfo","completeEvent",4,"ngIf"],["modalSize","md","modalContentClass","pd-all","header","Credit Card Receipt",3,"modal","visible","visibleChange"],[3,"receiptCondition","closeEvent",4,"ngIf"],[3,"paymentInfo","openReceiptEvent","clickCashReceiptCancelEvent"],[3,"emailTitle","bookingItemCode","templateGetInfo","closeEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","Alert",3,"modal","visible","visibleChange"],[3,"bookingItemCode","cancelChargeAmount","submitEvent","closeEvent",4,"ngIf"],[1,"frame","sub"],["mat-tab-nav-bar","",1,"tabs-main-group"],["mat-tab-link","","class","nav-item",3,"active","click",4,"ngFor","ngForOf"],[3,"active","masterInfo","submitEvent",4,"ngIf"],[3,"active","bookerInfo","submitEvent",4,"ngIf"],[3,"active","bookingLogList",4,"ngIf"],["itemCategoryCode","IC04",3,"active","consultingList","consultingSeq","submitEvent",4,"ngIf"],[3,"active","bookingItemCode","memoList","saveMemoEvent",4,"ngIf"],["itemCategoryCode","IC04",3,"active","stationTypeCode","bookingItemCode","bookingCode","bookers",4,"ngIf"],[3,"active","bookingItemCode","plFinishYn","bookingStatusList","bookingUnableReasonList","bookingInfo","cancelPolicy","clientPaymentStatusList","saveBasisInfoEvent","saveCancelPolicyEvent",4,"ngIf"],[3,"active","plFinishYn","summary","travelers","bookingInfo","neededInfo","vendorList","activityTypeList","deliveryTypeList","deliveryStatusList","deliveryMethodList","deliveryCompList","ageTypeList","activityContentsOptionsList","bookingStatusList","paymentStatusList","saveDetailInfoEvent","selectActivityMasterEvent","saveTravelerEvent","deleteTravelerEvent","saveNeededInfoEvent",4,"ngIf"],[3,"active","bookingItemCode",4,"ngIf"],[3,"active","bookingInfo","vccTypeList","vendorPayment","submitNewEvent","reissueEvent","vccDataUpdateEvent","cancelEvent",4,"ngIf"],[3,"bookingItemCode","templateGetInfo","emailTitle","closeEvent"],[3,"templateGetInfo","bookingItemCode","emailTitle","closeEvent"],[3,"paidAmount","submitEvent","closeEvent"],[3,"selectedPaymentInfo","issueName","emailAddress","maxPaidAmount","submitEvent","closeEvent"],[3,"bookingItemCode","userNo","closeEvent","submitEvent"],[3,"payments","paymentInfo","submitEvent","closeEvent"],[3,"paymentInfo","cancelCouponEvent","cancelPointEvent","closeEvent"],[3,"bookingItemCode","paymentDetailTypeList","depositTypeList","paymentBankMasterList","giftCardTypeList","closeEvent","submitEvent"],["category","activity",3,"paymentSeq","depositInfo","completeEvent"],[3,"receiptCondition","closeEvent"],[3,"emailTitle","bookingItemCode","templateGetInfo","closeEvent"],[3,"bookingItemCode","cancelChargeAmount","submitEvent","closeEvent"],["mat-tab-link","",1,"nav-item",3,"active","click"],[1,"nav-link"],["title","\ud0ed \ub2eb\uae30",1,"btn-tabs-close",3,"click"],[3,"active","masterInfo","submitEvent"],[3,"active","bookerInfo","submitEvent"],[3,"active","bookingLogList"],["itemCategoryCode","IC04",3,"active","consultingList","consultingSeq","submitEvent"],[3,"active","bookingItemCode","memoList","saveMemoEvent"],["itemCategoryCode","IC04",3,"active","stationTypeCode","bookingItemCode","bookingCode","bookers"],[3,"active","bookingItemCode","plFinishYn","bookingStatusList","bookingUnableReasonList","bookingInfo","cancelPolicy","clientPaymentStatusList","saveBasisInfoEvent","saveCancelPolicyEvent"],[3,"active","plFinishYn","summary","travelers","bookingInfo","neededInfo","vendorList","activityTypeList","deliveryTypeList","deliveryStatusList","deliveryMethodList","deliveryCompList","ageTypeList","activityContentsOptionsList","bookingStatusList","paymentStatusList","saveDetailInfoEvent","selectActivityMasterEvent","saveTravelerEvent","deleteTravelerEvent","saveNeededInfoEvent"],[3,"active","bookingItemCode"],[3,"active","bookingInfo","vccTypeList","vendorPayment","submitNewEvent","reissueEvent","vccDataUpdateEvent","cancelEvent"]],template:function(e,t){1&e&&(L.Wb(0,"app-reservation-header",0),L.fc("clickBookerNameEvent",(function(){return t.clickBookerViewHandler()}))("clickUserInfoEvent",(function(){return t.clickUserInfoViewHandler()}))("clickUmsEvent",(function(){return t.clickUmsHandler()})),L.ic(1,"async"),L.ic(2,"async"),L.ic(3,"async"),L.Vb(),L.Wb(4,"div",1),L.Wb(5,"div",2),L.Wb(6,"div",3),L.Rb(7,"app-tabs-booking-items",4),L.ic(8,"async"),L.ic(9,"async"),L.Wb(10,"div",5),L.Wb(11,"div",6),L.Wb(12,"div",7),L.Wb(13,"app-reservation-activity-summary",8),L.fc("clickDetailViewEvent",(function(){return t.clickDetailViewHandler()}))("clickRetrieveEvent",(function(){return t.clickRetrieveHandler()}))("clickMypageEvent",(function(){return t.clickMypageHandler()}))("clickUmsEvent",(function(){return t.clickUmsHandler()}))("clickConsultingEvent",(function(){return t.clickConsultingHandler()}))("clickMemoEvent",(function(){return t.clickMemoHandler()}))("clickChangeLogEvent",(function(){return t.clickChangeLogHandler()}))("clickCheckProdState",(function(){return t.getSmartInfiniProductStatusInfo()}))("clickCancelEvent",(function(){return t.clickCancelHandler()}))("clickPaymentEvent",(function(){return t.clickPaymentDetailViewHandler()})),L.ic(14,"async"),L.ic(15,"async"),L.ic(16,"async"),L.ic(17,"async"),L.ic(18,"async"),L.ic(19,"async"),L.Vb(),L.Wb(20,"app-reservation-activity-booking-info",9),L.fc("clickVoucherEvent",(function(){return t.openVoucherHandler()}))("clickInvoiceEvent",(function(){return t.openInvoiceHandler()}))("clickDetailViewEvent",(function(){return t.clickBookingInfoDetailViewHandler()}))("clickOperationWebSiteEvent",(function(){return t.clickOperationWebSiteHandler()})),L.ic(21,"async"),L.Vb(),L.Wb(22,"app-dialog",10),L.fc("visibleChange",(function(){return t.closeVoucherHandler()})),L.ic(23,"async"),L.Nc(24,xQ,4,9,"app-reservation-send-email-template",11),L.ic(25,"async"),L.Vb(),L.Wb(26,"app-dialog",12),L.fc("visibleChange",(function(){return t.closeInvoiceHandler()})),L.ic(27,"async"),L.Nc(28,YQ,4,9,"app-reservation-send-email-template",13),L.ic(29,"async"),L.Vb(),L.Wb(30,"app-reservation-activity-traveler",14),L.fc("clickDetailViewEvent",(function(){return t.clickTravelersViewHandler()})),L.ic(31,"async"),L.Vb(),L.Rb(32,"app-reservation-activity-needed-info",15),L.ic(33,"async"),L.Wb(34,"app-reservation-activity-price",16),L.fc("clickPgCardEvent",(function(){return t.openPgCreditCardModal()}))("clickPgBankEvent",(function(){return t.openPgBankModal()}))("clickDetailViewEvent",(function(){return t.clickPriceDetailViewHandler()})),L.ic(35,"async"),L.Vb(),L.Wb(36,"app-dialog",17),L.fc("visibleChange",(function(){return t.closePgCreditCardModal()})),L.ic(37,"async"),L.Nc(38,HQ,2,3,"app-pg-credit-card",18),L.ic(39,"async"),L.Vb(),L.Wb(40,"app-dialog",19),L.fc("visibleChange",(function(){return t.closePgBankModal()})),L.ic(41,"async"),L.Nc(42,qQ,2,3,"app-pg-bank",18),L.ic(43,"async"),L.Vb(),L.Wb(44,"app-reservation-activity-payment",20),L.fc("clickCashReceiptIssueEvent",(function(e){return t.openCashReceiptIssueModal(e)}))("clickCreditCardCancelEvent",(function(){return t.openCreditCardCancelModal()}))("clickCouponPointCancelEvent",(function(){return t.openCouponPointCancelModal()}))("clickPaymentManualEvent",(function(){return t.openPaymentManualHandler()}))("openCardReceiptEvent",(function(e){return t.openCardReceiptHandler(e)}))("clickRefundRegisterEvent",(function(){return t.openRefundRegister()}))("clickPointPaymentEvent",(function(){return t.openPointPaymentHandler()}))("clickDeletePaymentEvent",(function(e){return t.clickDeletePaymentHandler(e)}))("clickCreatePaymentEvent",(function(e){return t.clickCreatePaymentEvent(e)}))("selectPayment",(function(e){return t.selectPaymentHandler(e)})),L.ic(45,"async"),L.ic(46,"async"),L.ic(47,"async"),L.Vb(),L.Wb(48,"app-dialog",21),L.fc("visibleChange",(function(){return t.closeCashReceiptIssueModal()})),L.ic(49,"async"),L.Nc(50,UQ,4,10,"app-cash-receipt-issue",22),L.ic(51,"async"),L.Vb(),L.Wb(52,"app-dialog",23),L.fc("visibleChange",(function(){return t.closePointPaymentHandler()})),L.ic(53,"async"),L.Nc(54,QQ,3,6,"app-reservation-point-payment",24),L.ic(55,"async"),L.Vb(),L.Wb(56,"app-dialog",25),L.fc("visibleChange",(function(){return t.closeCreditCardCancelModal()})),L.ic(57,"async"),L.Nc(58,KQ,3,7,"app-credit-card-cancel",26),L.ic(59,"async"),L.Vb(),L.Wb(60,"app-dialog",27),L.fc("visibleChange",(function(){return t.closeCouponPointCancelModal()})),L.ic(61,"async"),L.Nc(62,zQ,2,3,"app-coupon-point-payment-cancel",28),L.ic(63,"async"),L.Vb(),L.Wb(64,"app-dialog",29),L.fc("visibleChange",(function(){return t.closePaymentManualHandler()})),L.ic(65,"async"),L.Nc(66,XQ,6,15,"app-reservation-activity-payment-manual-modal",30),L.ic(67,"async"),L.Vb(),L.Wb(68,"app-dialog",31),L.fc("visibleChange",(function(){return t.closeRefundRegister()})),L.ic(69,"async"),L.Nc(70,ZQ,3,6,"app-deposit-refund-detail",32),L.ic(71,"async"),L.Vb(),L.Wb(72,"app-dialog",33),L.fc("visibleChange",(function(){return t.closeCardReceiptHandler()})),L.ic(73,"async"),L.Nc(74,JQ,2,3,"app-card-receipt-view",34),L.ic(75,"async"),L.Vb(),L.Wb(76,"app-reservation-activity-cash-receipts",35),L.fc("openReceiptEvent",(function(e){return t.openCashReceiptHandler(e)}))("clickCashReceiptCancelEvent",(function(e){return t.cancelCashReceipt(e)})),L.ic(77,"async"),L.Vb(),L.Wb(78,"app-dialog",21),L.fc("visibleChange",(function(){return t.closeCashReceiptHandler()})),L.ic(79,"async"),L.Nc(80,eG,4,9,"app-reservation-send-email-template",36),L.ic(81,"async"),L.Vb(),L.Vb(),L.Vb(),L.Wb(82,"app-dialog",37),L.fc("visibleChange",(function(){return t.clickCancelModalCloseHandler()})),L.ic(83,"async"),L.Nc(84,tG,3,6,"app-reservation-activity-cancel-modal",38),L.ic(85,"async"),L.Vb(),L.Vb(),L.Vb(),L.Wb(86,"div",39),L.Wb(87,"div",40),L.Nc(88,nG,6,4,"li",41),L.ic(89,"async"),L.Vb(),L.Wb(90,"div",5),L.Nc(91,iG,3,6,"app-reservation-booker",42),L.ic(92,"async"),L.Nc(93,oG,3,6,"app-reservation-user",43),L.ic(94,"async"),L.Nc(95,aG,3,6,"app-reservation-history",44),L.ic(96,"async"),L.Nc(97,cG,4,9,"app-reservation-consulting",45),L.ic(98,"async"),L.Nc(99,sG,4,9,"app-reservation-memo",46),L.ic(100,"async"),L.Nc(101,lG,6,17,"app-ums",47),L.ic(102,"async"),L.Nc(103,dG,9,24,"app-reservation-activity-basis",48),L.ic(104,"async"),L.Nc(105,bG,17,48,"app-reservation-activity-booking-detail",49),L.ic(106,"async"),L.Nc(107,uG,3,6,"app-reservation-activity-price-detail",50),L.ic(108,"async"),L.Nc(109,pG,5,12,"app-reservation-activity-payment-detail",51),L.ic(110,"async"),L.Vb(),L.Vb(),L.Vb(),L.Vb()),2&e&&(L.pc("reservationInfoMaster",L.jc(1,71,t.master$))("bookingItemCode",L.jc(2,73,t.bookingItemCode$))("bookingItemCodes",L.jc(3,75,t.bookingItemCodes$)),L.Cb(7),L.pc("bookingItems",L.jc(8,77,t.bookingItems$))("bookingItemCode",L.jc(9,79,t.bookingItemCode$))("categoryCodeNameMap",t.categoryCodeNameMap),L.Cb(6),L.pc("summary",L.jc(14,81,t.summary$))("plFinishYn",L.jc(15,83,t.plFinishYn$))("freeNonCancelableYn",L.jc(16,85,t.freeNonCancelableYn$))("bookingItemCode",L.jc(17,87,t.bookingItemCode$))("bookingInfo",L.jc(18,89,t.bookingInfo$))("basicInfo",L.jc(19,91,t.basicInfo$)),L.Cb(7),L.pc("bookingInfo",L.jc(21,93,t.bookingInfo$)),L.Cb(2),L.pc("visible",L.jc(23,95,t.isOpenVoucherModal$))("modal",!0),L.Cb(2),L.pc("ngIf",L.jc(25,97,t.isOpenVoucherModal$)),L.Cb(2),L.pc("visible",L.jc(27,99,t.isOpenInvoiceModal$))("modal",!0),L.Cb(2),L.pc("ngIf",L.jc(29,101,t.isOpenInvoiceModal$)),L.Cb(2),L.pc("travelers",L.jc(31,103,t.travelers$)),L.Cb(2),L.pc("neededInfo",L.jc(33,105,t.neededInfo$)),L.Cb(2),L.pc("price",L.jc(35,107,t.price$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(37,109,t.isOpenPgCreditCardModal$)),L.Cb(2),L.pc("ngIf",L.jc(39,111,t.isOpenPgCreditCardModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(41,113,t.isOpenPgBankModal$)),L.Cb(2),L.pc("ngIf",L.jc(43,115,t.isOpenPgBankModal$)),L.Cb(2),L.pc("plFinishYn",L.jc(45,117,t.plFinishYn$))("paymentInfo",L.jc(46,119,t.paymentInfo$))("bookingInfo",L.jc(47,121,t.bookingInfo$)),L.Cb(4),L.pc("modal",!0)("visible",L.jc(49,123,t.isOpenCashReceiptIssueModal$)),L.Cb(2),L.pc("ngIf",L.jc(51,125,t.isOpenCashReceiptIssueModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(53,127,t.isOpenPointPaymentModal$)),L.Cb(2),L.pc("ngIf",L.jc(55,129,t.isOpenPointPaymentModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(57,131,t.isOpenCreditCardCancelModal$)),L.Cb(2),L.pc("ngIf",L.jc(59,133,t.isOpenCreditCardCancelModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(61,135,t.isOpenCouponPointCancelModal$)),L.Cb(2),L.pc("ngIf",L.jc(63,137,t.isOpenCouponPointCancelModal$)),L.Cb(2),L.pc("hasScroll",!1)("modal",!0)("visible",L.jc(65,139,t.isOpenPaymentManualModal$)),L.Cb(2),L.pc("ngIf",L.jc(67,141,t.isOpenPaymentManualModal$)),L.Cb(2),L.pc("visible",L.jc(69,143,t.isOpenRefundRegisterModal$))("modal",!0),L.Cb(2),L.pc("ngIf",L.jc(71,145,t.isOpenRefundRegisterModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(73,147,t.isOpenCardReceiptModal$)),L.Cb(2),L.pc("ngIf",L.jc(75,149,t.isOpenCardReceiptModal$)),L.Cb(2),L.pc("paymentInfo",L.jc(77,151,t.paymentInfo$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(79,153,t.isOpenCashReceiptModal$)),L.Cb(2),L.pc("ngIf",L.jc(81,155,t.isOpenCashReceiptModal$)),L.Cb(2),L.pc("modal",!0)("visible",L.jc(83,157,t.isOpenCancelModal$)),L.Cb(2),L.pc("ngIf",L.jc(85,159,t.isOpenCancelModal$)),L.Cb(4),L.pc("ngForOf",L.jc(89,161,t.subTabs$)),L.Cb(3),L.pc("ngIf",L.jc(92,163,t.currentSubTab$)===t.tabNames.BOOKER),L.Cb(2),L.pc("ngIf",L.jc(94,165,t.currentSubTab$)===t.tabNames.USER_INFO),L.Cb(2),L.pc("ngIf",L.jc(96,167,t.currentSubTab$)===t.tabNames.HISTORY),L.Cb(2),L.pc("ngIf",L.jc(98,169,t.currentSubTab$)===t.tabNames.CONSULTING),L.Cb(2),L.pc("ngIf",L.jc(100,171,t.currentSubTab$)===t.tabNames.MEMO),L.Cb(2),L.pc("ngIf",L.jc(102,173,t.currentSubTab$)===t.tabNames.UMS),L.Cb(2),L.pc("ngIf",L.jc(104,175,t.currentSubTab$)===t.tabNames.BASIS),L.Cb(2),L.pc("ngIf",L.jc(106,177,t.currentSubTab$)===t.tabNames.BOOKING_DETAIL),L.Cb(2),L.pc("ngIf",L.jc(108,179,t.currentSubTab$)===t.tabNames.PRICE_DETAIL),L.Cb(2),L.pc("ngIf",L.jc(110,181,t.currentSubTab$)===t.tabNames.PAYMENT_DETAIL))},directives:[rF,LF,Iq,mq,un.a,k.o,jq,Wq,Cq,vq,Nq,AF,k.n,Kn,_i,to,gi,VS,OS,PS,dU,JR,XV,Eq,SF,RT,de,mt,Je,Cn,FT.a,TQ,NQ,EQ,wQ],pipes:[k.b],encapsulation:2}),e})(),gG=(()=>{class e{constructor(e,t,n){this._router=e,this.store=t,this.alertService=n}canActivate(e,t){const n=e.queryParams.bookingItemCode||e.params.bookingItemCode;let i=[];Q.isNil(e.queryParams.bookingItemCodes)||(i="object"==typeof e.queryParams.bookingItemCodes?e.queryParams.bookingItemCodes:[e.queryParams.bookingItemCodes]);let o=null;Q.isNil(e.queryParams.consultingSeq)||(o=Number(e.queryParams.consultingSeq));let a=!1;Q.isNil(e.queryParams.retrieveYn)||(a="TRUE"===String(e.queryParams.retrieveYn).toUpperCase());let c=null;return Q.isNil(e.queryParams.changeRequestSeq)||(c=Number(e.queryParams.changeRequestSeq)),n||e.queryParams.bookingCode?(this.store.dispatch(u.setBookingItemCodeAction({bookingItemCode:n})),this.store.dispatch(u.setBookingItemCodesAction({bookingItemCodes:i})),this.store.dispatch(u.setConsultingSeq({consultingSeq:o})),this.store.dispatch(h.setRetrieveYn({retrieveYn:a})),this.store.dispatch(h.setChangeRequestSeq({changeRequestSeq:c})),!0):(this.alertService.alert("The reservation code is missing."),!1)}}return e.\u0275fac=function(t){return new(t||e)(L.bc(dt.c),L.bc(P.h),L.bc(Ae.a))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac}),e})();const fG=[{path:"",component:aF,children:[{path:"car/:bookingItemCode",component:aN,canActivate:[gG]},{path:"hotel/:bookingItemCode",component:HM,canActivate:[gG]},{path:"flight/:bookingItemCode",component:WQ,canActivate:[gG]},{path:"activity/:bookingItemCode",component:hG,canActivate:[gG]}]}];let vG=(()=>{class e{}return e.\u0275mod=L.Ob({type:e}),e.\u0275inj=L.Nb({factory:function(t){return new(t||e)},imports:[[dt.f.forChild(fG)],dt.f]}),e})();var CG=n("AtUx");const yG=[aF,aN,lT,bT,IT,AT,rN,HM,uE,vE,EE,XE,JE,UM,nM,WQ,F$,B$,kw,RQ,xw,Qw,Zw,dx,hx,vU,kU,OU,WU,SQ,FU,NU,RU,EU,VL,W_,v$,hG,TQ,NQ,EQ,wQ,dM,bN],kG=[rF,wF,JF,tS,aS,mS,yS,nT,rT,dT,CT,kT,PT,VT,ZS,XS,cN,sN,gN,VN,TN,DN,wN,QN,cE,bE,pE,mE,fE,NE,YE,zE,vx,Ix,ZN,XN,ZE,DE,qM,eM,tM,UE,iM,nD,fD,OD,ED,YD,Tx,nL,lL,uL,V$,Gx,A$,iB,zB,KB,UB,C$,nY,$$,Aw,Dw,Lw,_w,Yw,Uw,zw,nx,rx,hL,mx,cY,sY,hY,gY,vY,fL,CL,EL,LL,e_,jL,VY,AY,NY,tY,xY,QY,JY,eH,tH,iH,rH,fH,oL,zH,XH,aq,JB,nw,cw,dw,_L,wL,YL,vH,jH,EH,QH,KH,A_,f$,cq,sq,n_,rq,pw,lq,WL,mq,vq,hU,Cq,Iq,Wq,jq,Nq,Eq,dU,Bq,Yq,qq,Gq,Xq,tU,oU,aU,cU,sU,LF],IG=[(()=>{class e{constructor(e,t,n,o,a,c,s){this._actions$=e,this._apiService=t,this._errorService=n,this._authStore=o,this.loader=a,this.alertService=c,this.store=s,this.loadBookingLog$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(u.loadBookingLogAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.bookingLogList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getBookingLog(e).pipe(Object(it.a)(e=>u.loadBookingLogSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Lookup failed.",n=[u.loadBookingLogFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(u.loadBookingLogSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadConsulting$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(u.loadConsultingAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.bookingLogList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getConsulting(e).pipe(Object(it.a)(e=>u.loadConsultingSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Inquiry failed.",n=[u.loadConsultingFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(u.loadConsultingSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadBookingMemo$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(u.loadBookingMemoAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.bookingMemoList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getBookingMemo(e).pipe(Object(it.a)(e=>u.loadBookingMemoSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Lookup failed.",n=[u.loadBookingMemoFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(u.loadBookingMemoSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadBookerInfo$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(u.loadBookerInfoAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.bookerInfo$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getBooker(e).pipe(Object(it.a)(e=>u.loadBookerInfoSuccessAction({dataItem:e})),Object(ke.a)(e=>{const t="Lookup failed.",n=[u.loadBookerInfoFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(u.loadBookerInfoSuccessAction({dataItem:Q.cloneDeep(n)}))))),this.saveConsultingInfo$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(u.saveConsultingInfoAction),Object(ye.a)(({condition:e})=>this._apiService.putConsulting(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(this.loader.hide(),e){const e="Your inquiry has been successfully modified.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else{const e="Failed to save statement.",n=[u.saveConsultingInfoFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.saveBookerInfo$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(u.saveBookerInfoAction),Object(ye.a)(({condition:e})=>this._apiService.putBookingMasterInfo(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(this.loader.hide(),e){const e="Your information has been successfully modified.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else{const e="Failed to save information.",n=[u.saveBookerInfoFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.saveBookingMemo$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(u.saveBookingMemoAction),Object(ye.a)(({condition:e})=>this._apiService.putBookingMemo(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(this.loader.hide(),e){const e="Your information has been successfully modified.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else{const e="Failed to save information.",n=[u.saveBookingMemoFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.changeBookerInfo$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(u.changeBookerInfoAction),Object(ye.a)(({condition:e})=>this._apiService.putBooker(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(this.loader.hide(),e){const e="Reservation person change succeeded.",t=[u.reloadBookingDetailAction(),i.closeModalAction()];this._runPage(e,t)}else{const e="Failed to change reservation person.",n=[u.changeBookerInfoFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.openClientPage$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(u.openClientPageAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.bookerInfo$.pipe(Object(nt.a)(1)),this.userToken$.pipe(Object(nt.a)(1)),this.bookingLogList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{},e,t,n])=>this._apiService.postLoginImpersonate({userNo:e.booker.userNo,impersonateToken:t,bookingCode:n[0].bookingCode}).pipe(Object(it.a)(e=>u.getUserTokenSuccessAction()),Object(ke.a)(e=>{const t="Failed to get data to open the page.",n=[u.getUserTokenFailureAction({error:t})];return this._catchErr(e,t,n),[]}))))),this.bookingLogList$=s.pipe(Object(P.u)(pk)),this.consultingList$=s.pipe(Object(P.u)(mk)),this.bookingMemoList$=s.pipe(Object(P.u)(hk)),this.bookerInfo$=s.pipe(Object(P.u)(gk)),this.userToken$=o.pipe(Object(P.u)(Xe.u)),this.userNo$=o.pipe(Object(P.u)(Xe.t))}_runPage(e,t){this.alertService.alert({message:e,accept:(null==t?void 0:t.length)>0?()=>{t.forEach(e=>{this.store.dispatch(e)})}:()=>{}})}_catchErr(e,t,n){const i=this._errorService.errorHandler(e,t);Q.isNil(i)||(Q.isNil(i.accept)&&(i.accept=(null==n?void 0:n.length)>0?()=>{n.forEach(e=>{this.store.dispatch(e)})}:()=>{}),this.alertService.alert(i))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(O.a),L.bc(LS),L.bc(On.a),L.bc(P.h),L.bc(CG.a),L.bc(Ae.a),L.bc(P.h))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac}),e})(),(()=>{class e{constructor(e,t,n,i,o,a,c){this._actions$=e,this._apiService=t,this._masterApiService=n,this._errorService=i,this.loader=o,this.alertService=a,this.store=c,this.loadMasterInfo$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.loadMasterInfoAction),Object(ye.a)(({condition:e})=>this._apiService.getReservationCarMasterInfo(e).pipe(Object(it.a)(e=>p.loadMasterInfoSuccessAction({dataCollection:e})),Object(ke.a)(e=>{const t="Master information lookup failed.",n=[p.loadMasterInfoFailureAction({error:t})];return this._catchErr(e,t,n),[]}))))),this.loadStationType$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.loadStationTypeAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.stationTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>p.loadStationTypeSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Station lookup failed.",n=[p.loadStationTypeFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(p.loadStationTypeSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadBookingStatus$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.loadBookingStatusAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.bookingStatusList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>p.loadBookingStatusSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Reservation status lookup failed.",n=[p.loadBookingStatusFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(p.loadBookingStatusSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadRequestStatus$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.loadRequestStatusAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.requestStatusList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>p.loadRequestStatusSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Reservation status lookup failed.",n=[p.loadRequestStatusFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(p.loadRequestStatusSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadVendors$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.loadVendorsAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.vendorList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getVendorList(e).pipe(Object(it.a)(e=>p.loadVendorsSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="The vendor lookup failed.",n=[p.loadVendorsFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(p.loadVendorsSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadVehicleVendors$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.loadVehicleVendorsAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.vehicleVendorList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>p.loadVehicleVendorsSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="The car rental vendor lookup failed.",n=[p.loadVehicleVendorsFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(p.loadVehicleVendorsSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadPaymentDetailTypeList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.loadPaymentDetailTypeList),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.paymentDetailTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>p.loadPaymentDetailTypeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to retrieve the transport classification list.",n=[p.loadPaymentDetailTypeListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(p.loadPaymentDetailTypeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadDepositTypeList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.loadDepositTypeList),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.depositTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>p.loadDepositTypeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to retrieve deposit category list.",n=[p.loadDepositTypeListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(p.loadDepositTypeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadPaymentBankMasterList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.loadPaymentBankMasterListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.paymentBankMasterList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>p.loadPaymentBankMasterListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to retrieve taxonomy list.",n=[p.loadPaymentBankMasterListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(p.loadPaymentBankMasterListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadGiftCardTypeList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.loadGiftCardTypeListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.giftCardTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>p.loadGiftCardTypeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to retrieve a list of gift certificate categories.",n=[p.loadGiftCardTypeListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(p.loadGiftCardTypeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadAgeTypeCodeList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.loadAgeTypeCodeAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.ageTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>p.loadAgeTypeCodeSuccessAction({ageTypeCodeList:e})),Object(ke.a)(e=>{const t="Failed to retrieve age type code list.",n=[p.loadAgeTypeCodeFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(p.loadAgeTypeCodeSuccessAction({ageTypeCodeList:Q.cloneDeep(n)}))))),this.loadClientPaymentTypeCodeList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.loadClientPaymentStatusCodeListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.clientPaymentStatusCodeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>p.loadClientPaymentStatusCodeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to retrieve customer payment type code list.",n=[p.loadClientPaymentStatusCodeListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(p.loadClientPaymentStatusCodeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadCancelPolicy$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.loadCancelPolicyAction),Object(ye.a)(({condition:e})=>this._apiService.getCancelPolicy(e).pipe(Object(it.a)(e=>p.loadCancelPolicySuccessAction({dataInfo:e})),Object(ke.a)(e=>{const t="Failed to retrieve cancellation policy.",n=[p.loadCancelPolicyFailureAction({error:t})];return this._catchErr(e,t,n),[]}))))),this.loadAmountInfo$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.loadAmountInfoAction),Object(ye.a)(({condition:e})=>this._apiService.getAmount(e).pipe(Object(it.a)(e=>p.loadAmountInfoSuccessAction({amountInfo:e})),Object(ke.a)(e=>(this._catchErr(e,"Failed to retrieve pricing information.",[]),[])))))),this.saveBasisInfo$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.saveBasicInfoAction),Object(ye.a)(({condition:e})=>this._apiService.saveBasisInfo(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="The default information has been successfully modified.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else{const e="Failed to save.",n=[p.saveBasicInfoFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.saveBookingDetail$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.saveBookingDetailAction),Object(ye.a)(({condition:e})=>this._apiService.saveBookingDetail(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="The reservation information was modified successfully.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else{const e="Failed to save.",n=[p.saveBookingDetailFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.loadBasicInfo$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.loadBasicInfoAction),Object(ye.a)(({condition:e})=>this._apiService.getBasicInfo(e).pipe(Object(it.a)(e=>p.loadBasicInfoSuccessAction({result:e})),Object(ke.a)(e=>{const t="Failed to load basic information.",n=[p.loadBasicInfoFailureAction({error:t})];return this._catchErr(e,t,n),[]}))))),this.saveBasicInfo$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.saveBasicInfoAction),Object(ye.a)(({condition:e})=>this._apiService.putBasicInfo(e).pipe(Object(it.a)(e=>p.saveBasicInfoSuccessAction(e)),Object(ke.a)(e=>{const t="Failed to save basic information.",n=[p.saveBasicInfoFailureAction({error:t})];return this._catchErr(e,t,n),[]}))))),this.saveDriver$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.saveDriverAction),Object(ye.a)(({condition:e})=>this._apiService.saveDriver(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Driver information corrected correctly",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else{const e="Failed to save.",n=[p.saveDriverFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.saveCancelPolicy$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.saveCancelPolicyAction),Object(ye.a)(({condition:e})=>this._apiService.saveCancelPolicy(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="The cancellation rules are now correct.",t=[u.reloadBookingDetailAction(),p.loadCancelPolicyAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else{const e="Failed to save.",n=[p.saveCancelPolicyFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.retrieve$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.retrieveAction),Object(ye.a)(({condition:e})=>this._apiService.postRetieve(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="The retrieve was successful.",t=[u.reloadBookingDetailAction(),p.loadAmountInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else{const e="The retrieve failed.",n=[p.retrieveFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.cancelBookingAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.cancelBookingAction),Object(ye.a)(({condition:e})=>this._apiService.postBookingCancel(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Your reservation has been canceled successfully.",t=[u.reloadBookingDetailAction(),p.loadAmountInfoAction({condition:{bookingItemCode:n}}),p.closeCanceModalAction()];this._runPage(e,t)}else{const e="Cancellation of reservation failed.",n=[p.cancelBookingFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.loadCancelChargeAmount$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.loadCancelChargeAmountAction),Object(ye.a)(({condition:e})=>this._apiService.postCancelChargeAmount(e).pipe(Object(it.a)(e=>p.loadCancelChargeAmountSuccessAction({cancelCharge:e})),Object(ke.a)(e=>(this._catchErr(e,"Cancellation fee inquiry failed.",[]),[])))))),this.sendPgCreditCardPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.sendPgCreditCardPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.putPayment(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Successful manual authorization of PG credit card.",t=[u.reloadBookingDetailAction(),p.loadAmountInfoAction({condition:{bookingItemCode:n}}),p.closePgCreditCardModalAction()];this._runPage(e,t)}else{const e="Failed to manually authorize PG credit card.",n=[p.sendPgCreditCardPaymentFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.sendPgBankPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.sendPgBankPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.putPayment(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Successfully created a PG virtual account.",t=[u.reloadBookingDetailAction(),p.loadAmountInfoAction({condition:{bookingItemCode:n}}),p.closePgBankModalAction()];this._runPage(e,t)}else{const e="PG virtual account issuance failed.",n=[p.sendPgBankPaymentFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.cancelPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.cancelPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.postPaymentCancel(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="You successfully canceled the payment.",t=[u.reloadBookingDetailAction(),p.loadAmountInfoAction({condition:{bookingItemCode:n}}),p.closeCreditCardCancelModalAction()];this._runPage(e,t)}else{const e="Failed to cancel payment.",n=[p.cancelPaymentFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.cancelCouponPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.cancelCouponPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.postPaymentCouponCancel(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="You successfully canceled the coupon payment.",t=[u.reloadBookingDetailAction(),p.closeCouponPointCancelModalAction(),p.loadAmountInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else{const e="Failed to cancel coupon payment.",n=[p.cancelCouponPaymentFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.cancelPointPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.cancelPointPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.postPaymentPointCancel(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="You successfully canceled the points payment.",t=[u.reloadBookingDetailAction(),p.closeCouponPointCancelModalAction(),p.loadAmountInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else{const e="Failed to cancel a points payment.",n=[p.cancelPointPaymentFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.issueCashReceiptAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.issueCashReceiptAction),Object(ye.a)(({condition:e})=>this._apiService.putPaymentBankReceipt(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Successfully issued a cash receipt.",t=[u.reloadBookingDetailAction(),p.closeCashReceiptIssueModalAction()];this._runPage(e,t)}else{const e="Failed to issue a cash receipt.",n=[p.issueCashReceiptFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.sendPointPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.sendPointPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.postPaymentPoint(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="You have successfully paid for points manually.",t=[u.reloadBookingDetailAction(),p.loadAmountInfoAction({condition:{bookingItemCode:n}}),p.closePointPaymentAction()];this._runPage(e,t)}else{const e="Failed to manually pay for points.",n=[p.sendPointPaymentFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.deletePaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.deletePaymentAction),Object(ye.a)(({condition:e})=>this._apiService.deleteAccountPayments(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Payment information was successfully deleted.",t=[u.reloadBookingDetailAction(),p.loadAmountInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else this._catchErr(t,"Failed to delete payment information.",[])})),{dispatch:!1}),this.saveAmountVendor$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.saveAmountVendorAction),Object(ye.a)(({condition:e})=>this._apiService.saveAmountVendor(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="The supply pricing information has been corrected.",t=[u.reloadBookingDetailAction(),p.loadAmountInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else this._catchErr(t,"Saving supply pricing information failed.",[])})),{dispatch:!1}),this.saveAmountSales$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.saveAmountSalesAction),Object(ye.a)(({condition:e})=>this._apiService.saveAmountSales(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="The sales pricing information has been corrected.",t=[u.reloadBookingDetailAction(),p.loadAmountInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else this._catchErr(t,"Saving sales pricing information failed.",[])})),{dispatch:!1}),this.savePaymentDepositManualAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.savePaymentDepositManualAction),Object(ye.a)(({condition:e})=>this._apiService.putPaymentDepositManual(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="You have successfully manually registered a payment.",t=[u.reloadBookingDetailAction(),p.loadAmountInfoAction({condition:{bookingItemCode:n}}),p.closePaymentManualModalAction()];this._runPage(e,t)}else this._catchErr(t,"Manual payment enrollment failed.",[])})),{dispatch:!1}),this.cancelBankReceiptAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.cancelBankReceiptAction),Object(ye.a)(({condition:e})=>this._apiService.putBankReceiptCancel(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Successfully canceled a cash receipt.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else this._catchErr(t,"Failed to cancel a cash receipt.",[])})),{dispatch:!1}),this.loadPolicyMonitoringInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.loadPolicyMonitoringInfoAction),Object(ye.a)(({condition:e})=>this._apiService.postPolicyMonitoring(e).pipe(Object(it.a)(e=>p.loadPolicyMonitoringInfoSuccessAction({policyMonitoringInfo:e})),Object(ke.a)(e=>(this._catchErr(e,"Failed to load travel policy.",[]),[])))))),this.savePolicyMonitoringInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.savePolicyMonitoringInfoAction),Object(ye.a)(({condition:e})=>this._apiService.putCorporatePolicyMonitoring(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Successfully saved the travel policy.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else this._catchErr(t,"Saving a travel policy failed.",[])})),{dispatch:!1}),this.loadCorporateReasonListAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.loadCorporateReasonListAction),Object(ye.a)(({condition:e})=>this._apiService.postCorporateReason(e).pipe(Object(it.a)(e=>p.loadCorporateReasonListSuccessAction({dataList:e})),Object(ke.a)(e=>(this._catchErr(e,"Failed to retrieve the reason for the travel policy violation.",[]),[])))))),this.createPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(p.createPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.putCreatePayment(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{e?this._runPage("Successfully created a branch.",[]):this._catchErr(t,"Failed to create a branch.",[])})),{dispatch:!1}),this.bookingItemCode$=c.pipe(Object(P.u)(lk)),this.stationTypeList$=c.pipe(Object(P.u)(Zk)),this.bookingStatusList$=c.pipe(Object(P.u)(Jk)),this.requestStatusList$=c.pipe(Object(P.u)(eI)),this.vendorList$=c.pipe(Object(P.u)(tI)),this.vehicleVendorList$=c.pipe(Object(P.u)(nI)),this.paymentDetailTypeList$=c.pipe(Object(P.u)(iI)),this.depositTypeList$=c.pipe(Object(P.u)(oI)),this.paymentBankMasterList$=c.pipe(Object(P.u)(aI)),this.giftCardTypeList$=c.pipe(Object(P.u)(cI)),this.ageTypeList$=c.pipe(Object(P.u)(rI)),this.clientPaymentStatusCodeList$=c.pipe(Object(P.u)(lI))}_runPage(e,t){this.alertService.alert({message:e,accept:(null==t?void 0:t.length)>0?()=>{t.forEach(e=>{this.store.dispatch(e)})}:()=>{}})}_catchErr(e,t,n){const i=this._errorService.errorHandler(e,t);Q.isNil(i)||(Q.isNil(i.accept)&&(i.accept=(null==n?void 0:n.length)>0?()=>{n.forEach(e=>{this.store.dispatch(e)})}:()=>{}),this.alertService.alert(i))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(O.a),L.bc($S),L.bc(LS),L.bc(On.a),L.bc(CG.a),L.bc(Ae.a),L.bc(P.h))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac}),e})(),(()=>{class e{constructor(e,t,n,i,o,a,c){this._actions$=e,this._apiService=t,this._masterApiService=n,this._errorService=i,this.loader=o,this.alertService=a,this.store=c,this.loadMasterInfo$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.loadMasterInfoAction),Object(ye.a)(({condition:e})=>this._apiService.getReservationHotelMasterInfo(e).pipe(Object(it.a)(e=>m.loadMasterInfoSuccessAction({dataCollection:e})),Object(ke.a)(e=>{const t="Failed to lookup",n=[m.loadMasterInfoFailureAction({error:t})];return this._catchErr(e,t,n),[]}))))),this.loadBasicInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.loadBasicInfoAction),Object(ye.a)(({condition:e})=>this._apiService.postBasic(e).pipe(Object(it.a)(e=>m.loadBasicInfoSuccessAction({basic:e})),Object(ke.a)(e=>{const t="Failed to lookup",n=[m.loadBasicInfoFailureAction({error:t})];return this._catchErr(e,t,n),[]}))))),this.updateBasicInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.updateBasicInfoAction),Object(ye.a)(({condition:e})=>this._apiService.putBasic(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="The default information has been successfully modified.",t=[u.reloadBookingDetailAction(),m.loadBasicInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else{const e="Failed to save.",n=[m.updateBasicInfoFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.cancelBookingAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.cancelBookingAction),Object(ye.a)(({condition:e})=>this._apiService.postCancelBooking(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Your reservation has been canceled successfully.",t=[u.reloadBookingDetailAction(),m.loadBasicInfoAction({condition:{bookingItemCode:n}}),m.loadAmountInfoAction({condition:{bookingItemCode:n}}),m.closeCanceModalAction()];this._runPage(e,t)}else{const e="Cancellation of reservation failed.",n=[m.cancelBookingFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.loadCancelChargeAmount$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.loadCancelChargeAmountAction),Object(ye.a)(({condition:e})=>this._apiService.postCancelChargeAmount(e).pipe(Object(it.a)(e=>m.loadCancelChargeAmountSuccessAction({cancelCharge:e})),Object(ke.a)(e=>(this._catchErr(e,"Lookup failed.",[]),[])))))),this.loadCancelPolicyInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.loadCancelPolicyInfoAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.cancelPolicy$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.postCancelPolicy(e).pipe(Object(it.a)(e=>m.loadCancelPolicyInfoSuccessAction({cancelPolicy:e})),Object(ke.a)(e=>{const t="Lookup failed.",n=[m.loadCancelPolicyInfoFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(m.loadCancelPolicyInfoSuccessAction({cancelPolicy:Q.cloneDeep(n)}))))),this.updateCancelPolicyInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.updateCancelPolicyInfoAction),Object(ye.a)(({condition:e})=>this._apiService.putCancelPolicy(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Data has been modified normally",t=[u.reloadBookingDetailAction(),m.loadCancelPolicyInfoAction({condition:{bookingItemCode:n},isForceLoad:!0})];this._runPage(e,t)}else{const e="Failed.",n=[m.updateCancelPolicyInfoFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.updateBookingDetailInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.updateBookingDetailInfoAction),Object(ye.a)(({condition:e})=>this._apiService.putReservationHotelMasterInfo(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Modified.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else{const e="Failed.",n=[m.updatelBookingDetailFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.updateHotelBookingNoticeAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.updateHotelBookingNoticeAction),Object(ye.a)(({condition:e})=>this._apiService.putRequest(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Note has been corrected successfully.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else{const e="Failed to save note.",n=[m.updateHotelBookingNoticeFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.updateHotelRequestAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.updateHotelRequestAction),Object(ye.a)(({condition:e})=>this._apiService.putRequest(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Data has been modified normally",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else{const e="Failed to save.",n=[m.updateHotelRequestFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.updateHotelRoomAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.updateHotelRoomAction),Object(ye.a)(({deleteInfo:e,upsertInfo:t})=>(e?this._apiService.deleteRoom(e):Object(ve.a)(null)).pipe(Object(et.a)(()=>this._apiService.putRoom(t)),Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Data has been modified normally",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else{const e="Modification failed.",n=[m.updateHotelRoomFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.loadAmountInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.loadAmountInfoAction),Object(ye.a)(({condition:e})=>this._apiService.postAmount(e).pipe(Object(it.a)(e=>m.loadAmountInfoSuccessAction({amount:e})),Object(ke.a)(e=>{const t="Lookup failed",n=[m.loadAmountInfoFailureAction({error:t})];return this._catchErr(e,t,n),[]}))))),this.saveAmountVendor$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.saveAmountVendorAction),Object(ye.a)(({condition:e})=>this._apiService.putAmountVendor(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Data has been modified normally",t=[u.reloadBookingDetailAction(),m.loadAmountInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else this._catchErr(t,"Failed to save.",[])})),{dispatch:!1}),this.saveAmountSales$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.saveAmountSalesAction),Object(ye.a)(({condition:e})=>this._apiService.putAmountSales(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Data has been modified normally",t=[u.reloadBookingDetailAction(),m.loadAmountInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else this._catchErr(t,"Failed to save.",[])})),{dispatch:!1}),this.sendPgCreditCardPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.sendPgCreditCardPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.putPayment(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="PG Successful approval.",t=[u.reloadBookingDetailAction(),m.closePgCreditCardModalAction(),m.loadAmountInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else{const e="PG Approval failed.",n=[m.sendPgCreditCardPaymentFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.cancelPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.cancelPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.postPaymentCancel(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Payment canceled successfully.",t=[u.reloadBookingDetailAction(),m.closeCreditCardCancelModalAction(),m.loadAmountInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else{const e="Payment cancellation failed.",n=[m.cancelPaymentFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.cancelCouponPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.cancelCouponPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.postPaymentCouponCancel(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Coupon payment canceled successfully.",t=[u.reloadBookingDetailAction(),m.closeCouponPointCancelModalAction(),m.loadAmountInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else{const e="Coupon payment cancellation failed.",n=[m.cancelCouponPaymentFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.cancelPointPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.cancelPointPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.postPaymentPointCancel(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="The point payment was canceled successfully.",t=[u.reloadBookingDetailAction(),m.closeCouponPointCancelModalAction(),m.loadAmountInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else{const e="Failed to cancel point payment.",n=[m.cancelPointPaymentFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.sendPgBankPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.sendPgBankPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.putPayment(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="PG Successfully published.",t=[u.reloadBookingDetailAction(),m.loadAmountInfoAction({condition:{bookingItemCode:n}}),m.closePgBankModalAction()];this._runPage(e,t)}else{const e="PG Failed to issue.",n=[m.sendPgBankPaymentFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.issueCashReceiptAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.issueCashReceiptAction),Object(ye.a)(({condition:e})=>this._apiService.putPaymentBankReceipt(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Successfully issued cash receipt.",t=[u.reloadBookingDetailAction(),m.closeCashReceiptIssueModalAction()];this._runPage(e,t)}else{const e="Failed to issue cash receipt.",n=[m.issueCashReceiptFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.sendPointPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.sendPointPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.postPaymentPoint(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Succeeded.",t=[u.reloadBookingDetailAction(),m.loadAmountInfoAction({condition:{bookingItemCode:n}}),m.closePointPaymentAction()];this._runPage(e,t)}else{const e="Failed.",n=[m.sendPointPaymentFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.deletePaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.deletePaymentAction),Object(ye.a)(({condition:e})=>this._apiService.deleteAccountPayments(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Succeeded.",t=[u.reloadBookingDetailAction(),m.loadAmountInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else this._catchErr(t,"Failed.",[])})),{dispatch:!1}),this.retrieve$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.retrieveAction),Object(ye.a)(({condition:e})=>this._apiService.postRetieve(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Succeeded.",t=[u.reloadBookingDetailAction(),m.loadBasicInfoAction({condition:{bookingItemCode:n}}),m.loadAmountInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else{const e="Failed.",n=[m.retrieveFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.savePaymentDepositManualAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.savePaymentDepositManualAction),Object(ye.a)(({condition:e})=>this._apiService.putPaymentDepositManual(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Succeeded.",t=[u.reloadBookingDetailAction(),m.loadAmountInfoAction({condition:{bookingItemCode:n}}),m.closePaymentManualModalAction()];this._runPage(e,t)}else this._catchErr(t,"Failed.",[])})),{dispatch:!1}),this.cancelBankReceiptAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.cancelBankReceiptAction),Object(ye.a)(({condition:e})=>this._apiService.putBankReceiptCancel(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Succeeded.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else this._catchErr(t,"Failed.",[])})),{dispatch:!1}),this.loadPolicyMonitoringInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.loadPolicyMonitoringInfoAction),Object(ye.a)(({condition:e})=>this._apiService.postPolicyMonitoring(e).pipe(Object(it.a)(e=>m.loadPolicyMonitoringInfoSuccessAction({policyMonitoringInfo:e})),Object(ke.a)(e=>(this._catchErr(e,"Failed.",[]),[])))))),this.savePolicyMonitoringInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.savePolicyMonitoringInfoAction),Object(ye.a)(({condition:e})=>this._apiService.putCorporatePolicyMonitoring(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Succeeded.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else this._catchErr(t,"Failed.",[])})),{dispatch:!1}),this.loadCorporateReasonListAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.loadCorporateReasonListAction),Object(ye.a)(({condition:e})=>this._apiService.postCorporateReason(e).pipe(Object(it.a)(e=>m.loadCorporateReasonListSuccessAction({dataList:e})),Object(ke.a)(e=>(this._catchErr(e,"Failed.",[]),[])))))),this.loadBookingStatusList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.loadBookingStatusListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.bookingStatusList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>m.loadBookingStatusListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t=[m.loadBookingStatusListFailureAction({error:"Failed."})];return this._catchErr(e,"Failed.",t),[]})):Object(ve.a)(m.loadBookingStatusListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadStationList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.loadStationListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.stationList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>m.loadStationListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t=[m.loadStationListFailureAction({error:"Failed."})];return this._catchErr(e,"Failed.",t),[]})):Object(ve.a)(m.loadStationListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadHandleStatusList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.loadHandleStatusListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.handleStatusList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>m.loadHandleStatusListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t=[m.loadHandleStatusListFailureAction({error:"Failed."})];return this._catchErr(e,"Failed.",t),[]})):Object(ve.a)(m.loadHandleStatusListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadDeviceTypeList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.loadDeviceTypeListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.deviceTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>m.loadDeviceTypeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t=[m.loadDeviceTypeListFailureAction({error:"Failed."})];return this._catchErr(e,"Failed.",t),[]})):Object(ve.a)(m.loadDeviceTypeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadVendorList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.loadVendorListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.vendorList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonCompList(e).pipe(Object(it.a)(e=>m.loadVendorListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t=[m.loadVendorListFailureAction({error:"Failed."})];return this._catchErr(e,"Failed.",t),[]})):Object(ve.a)(m.loadVendorListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadAgeTypeListAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.loadAgeTypeListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.ageTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>m.loadAgeTypeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t=[m.loadAgeTypeListFailureAction({error:"Failed."})];return this._catchErr(e,"Failed.",t),[]})):Object(ve.a)(m.loadAgeTypeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadLateCheckInTypeList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.loadLateCheckInTypeListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.lateCheckInTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>m.loadLateCheckInTypeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t=[m.loadLateCheckInTypeListFailureAction({error:"Failed."})];return this._catchErr(e,"Failed.",t),[]})):Object(ve.a)(m.loadLateCheckInTypeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadPaymentDetailTypeList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.loadPaymentDetailTypeList),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.paymentDetailTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>m.loadPaymentDetailTypeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t=[m.loadPaymentDetailTypeListFailureAction({error:"Failed."})];return this._catchErr(e,"Failed.",t),[]})):Object(ve.a)(m.loadPaymentDetailTypeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadDepositTypeList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.loadDepositTypeList),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.depositTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>m.loadDepositTypeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t=[m.loadDepositTypeListFailureAction({error:"Failed."})];return this._catchErr(e,"Failed.",t),[]})):Object(ve.a)(m.loadDepositTypeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadPaymentBankMasterList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.loadPaymentBankMasterListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.paymentBankMasterList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>m.loadPaymentBankMasterListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t=[m.loadPaymentBankMasterListFailureAction({error:"Failed."})];return this._catchErr(e,"Failed.",t),[]})):Object(ve.a)(m.loadPaymentBankMasterListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadGiftCardTypeList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.loadGiftCardTypeListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.giftCardTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>m.loadGiftCardTypeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t=[m.loadGiftCardTypeListFailureAction({error:"Failed."})];return this._catchErr(e,"Failed.",t),[]})):Object(ve.a)(m.loadGiftCardTypeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadBedTypeList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.loadBedTypeListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.bedTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>m.loadBedTypeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t=[m.loadBedTypeListFailureAction({error:"Failed."})];return this._catchErr(e,"Failed.",t),[]})):Object(ve.a)(m.loadBedTypeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadRoomCategoryList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.loadRoomCategoryList),Object(ye.a)(({condition:e})=>this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>m.loadRoomCategoryListSuccessAction({dataList:e})),Object(ke.a)(e=>(this._catchErr(e,"Failed.",[]),[])))))),this.loadMealBasisList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.loadMealBasisList),Object(ye.a)(({condition:e})=>this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>m.loadMealBasisListSuccessAction({dataList:e})),Object(ke.a)(e=>(this._catchErr(e,"Failed.",[]),[])))))),this.loadFreeBreakfastList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.loadFreeBreakfastList),Object(ye.a)(({condition:e})=>this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>m.loadFreeBreakfastListSuccessAction({dataList:e})),Object(ke.a)(e=>(this._catchErr(e,"Failed.",[]),[])))))),this.loadcheckInList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.loadcheckInList),Object(ye.a)(({condition:e})=>this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>m.loadcheckInListSuccessAction({dataList:e})),Object(ke.a)(e=>(this._catchErr(e,"Failed.",[]),[])))))),this.loadVendorPayment$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.loadVendorPayment),Object(ye.a)(({condition:e})=>this._apiService.getVendorPayment(e).pipe(Object(it.a)(e=>m.loadVendorPaymentSuccessAction({dataList:e})),Object(ke.a)(e=>(this._catchErr(e,"Failed.",[]),[])))))),this.loadVccTypeList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.loadVccTypeList),Object(ye.a)(({condition:e})=>this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>m.loadVccTypeListSuccessAction({dataList:e})),Object(ke.a)(e=>(this._catchErr(e,"Failed.",[]),[])))))),this.getPaymentVcc$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.getPaymentVcc),Object(zn.a)(500),Object(ye.a)(({condition:e})=>{const{bookingItemCode:t}=e;return this._apiService.postPaymentVccGet(e).pipe(Object(it.a)(()=>{const e=[m.getPaymentVccSuccessAction(),m.loadVendorPayment({condition:{bookingItemCode:t,limits:[0,50],salesOrVendor:"V"}})];this._runPage("Succeeded",e)}),Object(ke.a)(e=>(this._catchErr(e,"Failed.",[]),[])))})),{dispatch:!1}),this.putPaymentVcc$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.putPaymentVcc),Object(ye.a)(({condition:e})=>this._apiService.putPaymentVcc(e).pipe(Object(it.a)(e=>{const t=[u.reloadBookingDetailAction(),m.loadVendorPayment({condition:{bookingItemCode:e.bookingItemCode,limits:[0,50],salesOrVendor:"V"}}),m.putPaymentVccSuccessAction({dataList:e})];this._runPage("Succeeded",t)}),Object(ke.a)(e=>{var t;const n=null===(t=e.errors[0])||void 0===t?void 0:t.errorMessage,i=[u.reloadBookingDetailAction()];return this._catchErr(e,n,i),[]})))),{dispatch:!1}),this.cancelPaymentVcc$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.cancelPaymentVcc),Object(ye.a)(({condition:e})=>this._apiService.deletePaymentVcc(e).pipe(Object(it.a)(e=>m.cancelPaymentVccSuccessAction({dataList:e})),Object(ke.a)(e=>[]))))),this.loadClientPaymentStatus$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.loadClientPaymentStatus),Object(ye.a)(({condition:e})=>this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>m.loadClientPaymentStatusSuccess({dataList:e})),Object(ke.a)(e=>[]))))),this.createPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(m.createPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.putCreatePayment(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{e?this._runPage("Succeeded.",[]):this._catchErr(t,"Failed.",[])})),{dispatch:!1}),this.bookingItemCode$=c.pipe(Object(P.u)(lk)),this.stationList$=c.pipe(Object(P.u)(RI)),this.bookingStatusList$=c.pipe(Object(P.u)(FI)),this.handleStatusList$=c.pipe(Object(P.u)(SI)),this.deviceTypeList$=c.pipe(Object(P.u)(TI)),this.vendorList$=c.pipe(Object(P.u)(NI)),this.ageTypeList$=c.pipe(Object(P.u)(EI)),this.lateCheckInTypeList$=c.pipe(Object(P.u)(MI)),this.paymentDetailTypeList$=c.pipe(Object(P.u)(DI)),this.depositTypeList$=c.pipe(Object(P.u)(LI)),this.paymentBankMasterList$=c.pipe(Object(P.u)(_I)),this.giftCardTypeList$=c.pipe(Object(P.u)($I)),this.bedTypeList$=c.pipe(Object(P.u)(BI)),this.cancelPolicy$=c.pipe(Object(P.u)(WI)),this.basic$=c.pipe(Object(P.u)(xI)),this.amount$=c.pipe(Object(P.u)(xI))}_runPage(e,t){this.alertService.alert({message:e,accept:(null==t?void 0:t.length)>0?()=>{t.forEach(e=>{this.store.dispatch(e)})}:()=>{}})}_catchErr(e,t,n){const i=this._errorService.errorHandler(e,t);Q.isNil(i)||(Q.isNil(i.accept)&&(i.accept=(null==n?void 0:n.length)>0?()=>{n.forEach(e=>{this.store.dispatch(e)})}:()=>{}),this.alertService.alert(i))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(O.a),L.bc(wS),L.bc(LS),L.bc(On.a),L.bc(CG.a),L.bc(Ae.a),L.bc(P.h))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac}),e})(),(()=>{class e{constructor(e,t,n,i,o,a,c){this._actions$=e,this._apiService=t,this._masterApiService=n,this.store=i,this._errorService=o,this.loader=a,this.alertService=c,this.loadMasterInfo$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadMasterInfoAction),Object(ye.a)(({condition:e})=>this._apiService.getReservationFlightMasterInfo(e).pipe(Object(it.a)(e=>h.loadMasterInfoSuccessAction({dataCollection:e})),Object(ke.a)(e=>{const t="Failed to retrieve flight reservation information.",n=[h.loadMasterInfoFailureAction({error:t})];return this._catchErr(e,t,n),[]}))))),this.loadMasterInfoWithRetrieve$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadMasterInfoWithRetrieveAction),Object(ye.a)(({bookingItemCode:e})=>this._apiService.postRetieve({bookingItemCodes:[e],options:["Auto"]}).pipe(Object(et.a)(()=>this._apiService.getReservationFlightMasterInfo({bookingItemCode:e}).pipe(Object(it.a)(e=>h.loadMasterInfoSuccessAction({dataCollection:e})),Object(ke.a)(e=>{const t="Failed to retrieve flight reservation information.",n=[h.loadMasterInfoFailureAction({error:t})];return this._catchErr(e,t,n),[]}))),Object(ke.a)(t=>this._apiService.getReservationFlightMasterInfo({bookingItemCode:e}).pipe(Object(it.a)(e=>h.loadMasterInfoSuccessAction({dataCollection:e})),Object(ke.a)(e=>{const t="Failed to retrieve flight reservation information.",n=[h.loadMasterInfoFailureAction({error:t})];return this._catchErr(e,t,n),[]}))))))),this.updateBookingFlightItem$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.updateBookingFlightItemAction),Object(ye.a)(({putCondition:e})=>this._apiService.putBookingFlightItem(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="The default information has been successfully modified.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else{const e="Saving basic information failed.",n=[h.updateBookingFlightItemFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.updatePnrInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.updatePnrInfoAction),Object(ye.a)(({condition:e})=>this._apiService.putBookingFlightItem(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="PNR information was corrected correctly.",t=[u.reloadBookingDetailAction(),h.closePnrModifyModalAction()];this._runPage(e,t)}else{const e="Failed to save PNR information.",n=[h.updatePnrInfoFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.fixSegmentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.fixSegmentAction),Object(ye.a)(({condition:e})=>this._apiService.putBookingFlightItem(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Successfully saved seat status.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else this._catchErr(t,"Failed to save seat status.",[])})),{dispatch:!1}),this.loadBasicInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadBasicInfoAction),Object(ye.a)(({condition:e})=>this._apiService.getBookingFlightBasicInfo(e).pipe(Object(it.a)(e=>h.loadBasicInfoSuccessAction({basic:e})),Object(ke.a)(e=>{const t="Failed to retrieve flight reservation information.",n=[h.loadBasicInfoFailureAction({error:t})];return this._catchErr(e,t,n),[]}))))),this.updateBasicInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.updateBasicInfoAction),Object(ye.a)(({condition:e})=>this._apiService.putBookingFlightBasicInfo(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Basic info saved successfully",t=[u.reloadBookingDetailAction(),h.loadBasicInfoAction({condition:{bookingItemCode:n}})];return this._runPage(e,t),[]}{const e="Failed to save basic info",n=[h.updateBasicInfoFailureAction({error:e})];return this._catchErr(t,e,n),[]}})),{dispatch:!1}),this.cancelBookingAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.cancelBookingAction),Object(ye.a)(({condition:e})=>this._apiService.putBookingFlightCancelBooking(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Your reservation has been canceled successfully.",t=[u.reloadBookingDetailAction(),h.loadBasicInfoAction({condition:{bookingItemCode:n}}),h.closeCanceModalAction()];this._runPage(e,t)}else{const e="Cancellation of reservation failed.",n=[h.cancelBookingFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.loadFareRuleInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadFareRuleInfoAction),Object(ye.a)(({condition:e})=>this._apiService.postBookingFlightFareRule(e).pipe(Object(it.a)(e=>h.loadFareRuleInfoSuccessAction({fareRule:e})),Object(ke.a)(e=>{const t="Failed to load tariffs.",n=[h.loadFareRuleInfoFailureAction({error:t})];return this._catchErr(e,t,n),[]}))))),this.saveFareRuleSectionInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.saveFareRuleSectionInfoAction),Object(ye.a)(({condition:e})=>this._apiService.putBookingFlightFareRule(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="It was saved successfully.",t=[u.reloadBookingDetailAction(),h.loadFareRuleInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else{const e="Saving an airfare segment failed.",n=[h.saveFareRuleSectionInfoFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.deleteFareRuleSectionInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.deleteFareRuleSectionInfoAction),Object(ye.a)(({condition:e})=>this._apiService.deleteBookingFlightFareRule(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="t was deleted successfully.",t=[u.reloadBookingDetailAction(),h.loadFareRuleInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else{const e="Deleting an airfare segment failed.",n=[h.deleteFareRuleSectionInfoFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.saveFareRuleInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.saveFareRuleInfoAction),Object(ye.a)(({condition:e})=>this._apiService.putBookingFlightFareRule(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="It was saved successfully.",t=[u.reloadBookingDetailAction(),h.loadFareRuleInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else{const e="Saving airfare failed.",n=[h.saveFareRuleInfoFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.deleteFareRuleInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.deleteFareRuleInfoAction),Object(ye.a)(({condition:e})=>this._apiService.deleteBookingFlightFareRule(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="It was deleted successfully.",t=[u.reloadBookingDetailAction(),h.loadFareRuleInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else{const e="Failed to delete airfare.",n=[h.deleteFareRuleInfoFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.loadGdsPnrInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadGdsPnrInfoAction),Object(ye.a)(({condition:e})=>this._apiService.postBookingFlightPnrGds(e).pipe(Object(et.a)(e=>Object(ve.a)({succeedYn:!0,gdsPnr:e,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)([{succeedYn:!1,gdsPnr:null,error:e}])))),Object(ye.a)(([{succeedYn:e,gdsPnr:t,error:n},i])=>{if(e)return[h.loadGdsPnrInfoSuccessAction({gdsPnr:t}),h.loadPnrLogInfoAction({condition:{bookingItemCode:i}})];{const e="Live lookup failed to retrieve data.",t=[h.loadGdsPnrInfoFailureAction({error:e})];return this._catchErr(n,e,t),[]}}))),this.loadPnrLogInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadPnrLogInfoAction),Object(ye.a)(({condition:e})=>this._apiService.postBookingFlightPnrLog(e).pipe(Object(it.a)(e=>h.loadPnrLogInfoSuccessAction({pnrLog:e})),Object(ke.a)(e=>{const t="Failed to retrieve PNR LOG.",n=[h.loadPnrLogInfoFailureAction({error:t})];return this._catchErr(e,t,n),[]}))))),this.savePnrLogAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.savePnrLogAction),Object(ye.a)(({condition:e})=>this._apiService.putBookingFlightPnrLog(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)([{succeedYn:!1,error:e}])))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="The note was saved successfully.",t=[h.loadPnrLogInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else{const e="Failed to save the note.",n=[h.savePnrLogFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.saveTravelersAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.saveTravelersAction),Object(ye.a)(({condition:e})=>this._apiService.putTravelers(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Successfully saved travelers information",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else{const e="Saving occupant information failed.",n=[h.saveTravelersFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.deleteTravelersAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.deleteTravelersAction),Object(ye.a)(({condition:e})=>this._apiService.deleteTravelers(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="The occupant information was successfully deleted.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else{const e="Deleting occupant information failed.",n=[h.deleteTravelersFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.saveApisAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.saveApisAction),Object(ye.a)(({travelers:e,paxes:t,bookingItemCode:n})=>this._apiService.putTravelers({paxes:t,bookingItemCode:n}).pipe(Object(et.a)(()=>this._apiService.putApis({travelers:e,bookingItemCode:n})),Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Aviation APIS information was saved successfully.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else{const e="Saving aviation APIS information failed.",n=[h.saveApisFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.saveMileageCardAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.saveMileageCardAction),Object(ye.a)(({condition:e})=>this._apiService.putMileageCard(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="The airline mileage information was saved successfully.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else{const e="Saving airline mileage information failed.",n=[h.saveMileageCardFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.saveScheduleAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.saveScheduleAction),Object(ye.a)(({condition:e})=>this._apiService.putSegment(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="The flight schedule information was saved successfully.",t=[u.reloadBookingDetailAction(),h.resetScheduleFormAction(),h.closeScheduleFormAction()];this._runPage(e,t)}else{const e="Saving flight schedule information failed.",n=[h.saveScheduleFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.addScheduleAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.addScheduleAction),Object(ye.a)(({condition:e})=>this._apiService.putSegment(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Flight schedule information has been saved successfully.",t=[u.reloadBookingDetailAction(),h.resetScheduleFormAction(),h.closeScheduleFormAction()];this._runPage(e,t)}else{const e="Failed to save flight schedule information.",n=[h.addScheduleFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.deleteScheduleAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.deleteScheduleAction),Object(ye.a)(({condition:e})=>this._apiService.deleteSegment(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="The flight schedule information was successfully deleted.",t=[u.reloadBookingDetailAction(),h.removeCheckedScheduleRowidAction()];this._runPage(e,t)}else{const e="Deleting flight schedule information failed.",n=[h.deleteScheduleFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.confirmFareEvidenceAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.confirmFareEvidenceAction),Object(ye.a)(({condition:e})=>this._apiService.putEvidence(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="It was confirmed by administrator.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else{const e="Airfare proof verification failed.",n=[h.confirmFareEvidenceFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.cancelConfirmFareEvidenceAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.cancelConfirmFareEvidenceAction),Object(ye.a)(({condition:e})=>this._apiService.putEvidence(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="It was released by administrator.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else{const e="Failed to release airfare proof verification.",n=[h.cancelConfirmFareEvidenceFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.displayFareEvidenceAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.displayFareEvidenceAction),Object(ye.a)(({condition:e})=>this._apiService.putEvidence(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Airfare Proof of Exposure saved successfully.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else{const e="Saving airfare proof exposure failed.",n=[h.displayFareEvidenceFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.deleteFareEvidenceAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.deleteFareEvidenceAction),Object(ye.a)(({condition:e})=>this._apiService.deleteEvidence(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="You successfully deleted the airfare proof.",t=[u.reloadBookingDetailAction(),h.removeSelectedFareEvidenceAction()];this._runPage(e,t)}else{const e="Failed to delete airfare proof.",n=[h.deleteFareEvidenceFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.saveFareEvidenceAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.saveFareEvidenceAction),Object(ye.a)(({condition:e})=>this._apiService.putEvidence(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="It was saved successfully.",t=[u.reloadBookingDetailAction(),h.removeFareEvidenceFileUrlAction()];this._runPage(e,t)}else{const e="Saving airfare proof failed.",n=[h.saveFareEvidenceFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.confirmPaymentEvidenceAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.confirmPaymentEvidenceAction),Object(ye.a)(({condition:e})=>this._apiService.putEvidence(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Airline proof of payment verification was successful.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else{const e="Failed to verify airline proof of payment.",n=[h.confirmPaymentEvidenceFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.cancelConfirmPaymentEvidenceAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.cancelConfirmPaymentEvidenceAction),Object(ye.a)(({condition:e})=>this._apiService.putEvidence(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="You have successfully turned off airline proof of payment.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else{const e="\ud56dFailed to remove airline proof of payment.",n=[h.cancelConfirmPaymentEvidenceFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.deletePaymentEvidenceAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.deletePaymentEvidenceAction),Object(ye.a)(({condition:e})=>this._apiService.putEvidence(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="You successfully deleted the airline proof of payment.",t=[u.reloadBookingDetailAction(),h.removePaymentEvidenceRowidAction()];this._runPage(e,t)}else{const e="Failed to delete airline proof of payment.",n=[h.deletePaymentEvidenceFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.savePaymentEvidenceAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.savePaymentEvidenceAction),Object(ye.a)(({condition:e})=>this._apiService.putEvidence(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="You have successfully saved your airline proof of payment.",t=[u.reloadBookingDetailAction(),h.removePaymentEvidenceFileUrlAction()];this._runPage(e,t)}else{const e="Saving an airline proof of payment failed.",n=[h.savePaymentEvidenceFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.loadPaymentApproveInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadPaymentApproveInfoAction),Object(ye.a)(({condition:e})=>this._apiService.getPaymentInfoNew(e).pipe(Object(it.a)(e=>h.loadPaymentApproveInfoSuccessAction({paymentApproveInfo:e})),Object(ke.a)(e=>(this._catchErr(e,"Failed to retrieve payment information.",[]),[])))))),this.loadPaymentStatusCodeListAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadPaymentStatusCodeListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.paymentStatusCodeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadPaymentStatusCodeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to retrieve payment status code list.",n=[h.loadPaymentStatusCodeListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadPaymentStatusCodeListSuccessAction({dataList:n}))))),this.sendTasfPgCreditCardPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.sendTasfPgCreditCardPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.putPaymentApproveOnly(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="TASF PG credit card manual authorization was successful.",t=[u.reloadBookingDetailAction(),h.loadBookingFlightPaymentAction({condition:{bookingItemCode:n}}),h.closePgCreditCardApproveModalAction()];this._runPage(e,t)}else this._catchErr(t,"TASF PG credit card manual authorization failed.",[])})),{dispatch:!1}),this.sendPgCreditCardPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.sendPgCreditCardPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.putPayment(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Successful manual authorization of PG credit card.",t=[u.reloadBookingDetailAction(),h.loadBookingFlightPaymentAction({condition:{bookingItemCode:n}}),h.closePgCreditCardModalAction()];this._runPage(e,t)}else{const e="Failed to manually authorize PG credit card.",n=[h.sendPgCreditCardPaymentFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.sendChargePgCreditCardPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.sendChargePgCreditCardPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.putPayment(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Successful manual authorization of PG credit card.",t=[u.reloadBookingDetailAction(),h.loadBookingFlightPaymentAction({condition:{bookingItemCode:n}}),h.loadRefundRequestInfoAction({condition:{bookingItemCode:n}}),h.closeChargePgCreditCardModalAction()];this._runPage(e,t)}else this._catchErr(t,"Failed to manually authorize PG credit card.",[])})),{dispatch:!1}),this.sendAncillaryPgCreditCardPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.sendAncillaryPgCreditCardPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.putPayment(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Successful manual authorization of PG credit card.",t=[u.reloadBookingDetailAction(),h.loadBookingFlightPaymentAction({condition:{bookingItemCode:n}}),h.loadRefundRequestInfoAction({condition:{bookingItemCode:n}}),h.closeAncillaryPgCreditCardModalAction()];this._runPage(e,t)}else this._catchErr(t,"Failed to manually authorize PG credit card.",[])})),{dispatch:!1}),this.sendPgBankPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.sendPgBankPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.putPayment(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Successfully issued a virtual account.",t=[u.reloadBookingDetailAction(),h.loadBookingFlightPaymentAction({condition:{bookingItemCode:n}}),h.closePgBankModalAction()];this._runPage(e,t)}else this._catchErr(t,"Virtual account issuance failed.",[])})),{dispatch:!1}),this.sendChargePgBankPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.sendChargePgBankPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.putPayment(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Successfully issued virtual account.",t=[u.reloadBookingDetailAction(),h.loadBookingFlightPaymentAction({condition:{bookingItemCode:n}}),h.loadRefundRequestInfoAction({condition:{bookingItemCode:n}}),h.closeChargePgBankModalAction()];this._runPage(e,t)}else{const e="Virtual account issuance failed.",n=[h.sendPgCreditCardPaymentFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.sendAncillaryPgBankPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.sendAncillaryPgBankPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.putPayment(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Successfully issued virtual account.",t=[u.reloadBookingDetailAction(),h.loadBookingFlightPaymentAction({condition:{bookingItemCode:n}}),h.loadRefundRequestInfoAction({condition:{bookingItemCode:n}}),h.closeAncillaryPgBankModalAction()];this._runPage(e,t)}else this._catchErr(t,"Virtual account issuance failed.",[])})),{dispatch:!1}),this.issueCashReceiptAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.issueCashReceiptAction),Object(ye.a)(({condition:e})=>this._apiService.putPaymentBankReceipt(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Successfully issued a cash receipt.",t=[u.reloadBookingDetailAction(),h.closeCashReceiptIssueModalAction(),h.loadBookingFlightPaymentAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else{const e="Failed to issue a cash receipt.",n=[h.issueCashReceiptFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.cancelCashReceiptAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.cancelCashReceiptAction),Object(ye.a)(({condition:e})=>this._apiService.cancelPaymentBankReceipt(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Successfully canceled a cash receipt.",t=[u.reloadBookingDetailAction(),h.loadBookingFlightPaymentAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else{const e="Failed to cancel a cash receipt.",n=[h.issueCashReceiptFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.saveChargeInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.saveChargeInfoAction),Object(ye.a)(({condition:e})=>this._apiService.putCharge(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Surcharge information saved.",t=[u.reloadBookingDetailAction(),h.closeChargeInfoModalAction(),h.loadRefundRequestInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else{const e="Surcharge information failed.",n=[h.saveChargeInfoFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.updateChargeInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.updateChargeInfoAction),Object(ye.a)(({condition:e})=>this._apiService.putCharge(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="The surcharge information has been corrected.",t=[u.reloadBookingDetailAction(),h.closeChargeInfoUpdateModalAction(),h.loadRefundRequestInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else this._catchErr(t,"Failed to edit surcharge information.",[])})),{dispatch:!1}),this.deleteChargeInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.deleteChargeInfoAction),Object(ye.a)(({condition:e})=>this._apiService.deleteCharge(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Successfully removed surcharge.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else{const e="Failed to remove surcharge.",n=[h.saveChargeInfoFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.retrieve$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.retrieveAction),Object(ye.a)(({condition:e,stationTypeCode:t})=>this._apiService.postRetieve(e,t).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="The retrieve was successful.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else{const e="The retrieve failed.",n=[h.retrieveFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.loadPromotionList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadPromotionListAction),Object(ye.a)(({condition:e})=>this._apiService.postPromotion(e).pipe(Object(it.a)(e=>h.loadPromotionListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to retrieve promotion list.",n=[h.loadPromotionListFailureAction({error:t})];return this._catchErr(e,t,n),[]}))))),this.loadTicketInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadTicketInfoAction),Object(ye.a)(({condition:e})=>this._apiService.postTicketInfo(e).pipe(Object(it.a)(e=>h.loadTicketInfoSuccessAction({ticketDetailInfo:e})),Object(ke.a)(e=>{const t="Failed to retrieve ticket information.",n=[h.loadTicketInfoFailureAction({error:t})];return this._catchErr(e,t,n),[]}))))),this.saveManualTicketInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.saveManualTicketInfoAction),Object(ye.a)(({condition:e})=>this._apiService.putTicketInfo(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Successfully saved ticket information.",t=[u.reloadBookingDetailAction(),h.loadTicketInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else{const e="Failed to save ticket information.",n=[h.saveManualTicketInfoFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.deleteManualTicketInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.deleteManualTicketInfoAction),Object(ye.a)(({condition:e})=>this._apiService.deleteTicketInfo(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Successfully deleted ticket information.",t=[u.reloadBookingDetailAction(),h.loadTicketInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else{const e="Failed to delete ticket information.",n=[h.deleteManualTicketInfoFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.loadTicketNoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadTicketNoAction),Object(ye.a)(({condition:e})=>this._apiService.postTicketNo(e).pipe(Object(it.a)(e=>h.loadTicketNoSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to generate ticket number.",n=[h.loadTicketNoFailureAction({error:t})];return this._catchErr(e,t,n),[]}))))),this.saveFareAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.saveFareAction),Object(ye.a)(({condition:e})=>this._apiService.putFare(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="It was saved successfully.",t=[u.reloadBookingDetailAction(),h.closeAddFareModalAction()];this._runPage(e,t)}else{const e="Failed to save billing information.",n=[h.saveFareFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.deleteFareAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.deleteFareAction),Object(ye.a)(({condition:e})=>this._apiService.deleteFare(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="It was deleted successfully.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else this._catchErr(t,"Failed to delete billing information.",[])})),{dispatch:!1}),this.updateTasfAgencyPlYnAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.updateTasfAgencyPlYnAction),Object(ye.a)(({condition:e})=>this._apiService.putTasfAgencyPl(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Successfully saved the TASF direct settlement status.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else this._catchErr(t,"Failed to save TASF direct settlement status.",[])})),{dispatch:!1}),this.savePromotionInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.savePromotionInfoAction),Object(ye.a)(({condition:e})=>this._apiService.putPromotionApply(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="The promotion was successfully applied.",t=[u.reloadBookingDetailAction(),h.closePromotionChangeModalAction()];this._runPage(e,t)}else{const e="Failed to apply promotion.",n=[h.savePromotionInfoFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.loadBookingFlightPaymentInfo$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadBookingFlightPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.postBookingFlightPayment(e).pipe(Object(it.a)(e=>h.loadBookingFlightPaymentSuccessAction({paymentDetailInfo:e})),Object(ke.a)(e=>{const t="Failed to retrieve payment information.",n=[h.loadBookingFlightPaymentFailureAction({error:t})];return this._catchErr(e,t,n),[]}))))),this.cancelPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.cancelPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.putFlightPaymentCancel(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)([{succeedYn:!1,error:e}])))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Payment canceled successfully.",t=[u.reloadBookingDetailAction(),h.loadBookingFlightPaymentAction({condition:{bookingItemCode:n}}),h.closePaymentCancelModalAction()];this._runPage(e,t)}else{const e="Failed to cancel payment.",n=[h.cancelPaymentFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.saveAncillaryInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.saveAncillaryInfoAction),Object(ye.a)(({condition:e})=>this._apiService.putAncillary(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Saving the add-on was successful.",t=[u.reloadBookingDetailAction(),h.closeAncillaryInfoModalAction()];this._runPage(e,t)}else{const e="Saving an add-on failed.",n=[h.saveAncillaryInfoFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.deleteAncillaryInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.deleteAncillaryInfoAction),Object(ye.a)(({condition:e})=>this._apiService.deleteAncillary(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Successfully deleted the add-on.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else{const e="Failed to delete add-on.",n=[h.deleteAncillaryInfoFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.saveTicketMappingAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.saveTicketMappingAction),Object(ye.a)(({condition:e})=>this._apiService.putTicketInfoMapping(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Ticket mapping was successful.",t=[u.reloadBookingDetailAction(),h.closeTicketMappingModalAction()];this._runPage(e,t)}else{const e="Ticket mapping failed.",n=[h.saveAncillaryInfoFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.deleteTicketMappingAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.deleteTicketMappingAction),Object(ye.a)(({condition:e})=>this._apiService.putTicketInfoMapping(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Successfully deleted the ticket mapping.",t=[u.reloadBookingDetailAction(),h.closeTicketMappingDeleteModalAction()];this._runPage(e,t)}else{const e="Failed to delete ticket mapping.",n=[h.deleteTicketMappingFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.divideTravelersAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.divideTravelersAction),Object(ye.a)(({condition:e})=>this._apiService.putDivide(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Copying occupant separation was successful.",t=[u.reloadBookingDetailAction(),h.closeTravelerDivideModalAction()];this._runPage(e,t)}else{const e="Failed to copy occupant separation.",n=[h.divideTravelersFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.loadRefundRequestInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadRefundRequestInfoAction),Object(ye.a)(({condition:e})=>this._apiService.postRefundRequest(e).pipe(Object(it.a)(e=>h.loadRefundRequestInfoSuccessAction({refundRequestInfo:e})),Object(ke.a)(e=>{const t="Failed to retrieve refund request list.",n=[h.loadRefundRequestInfoFailureAction({error:t})];return this._catchErr(e,t,n),[]}))))),this.saveRefundRequestInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.saveRefundRequestInfoAction),Object(ye.a)(({condition:e})=>this._apiService.putRefundRequest(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="The change is complete.",t=[u.reloadBookingDetailAction(),h.loadRefundRequestInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else{const e="The change failed.",n=[h.saveRefundRequestInfoFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.cancelRefundRequest$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.cancelRefundRequestAction),Object(ye.a)(({condition:e})=>this._apiService.putRefundRequest(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="You successfully canceled your refund request information.",t=[u.reloadBookingDetailAction(),h.loadRefundRequestInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else this._catchErr(t,"Failed to cancel refund request information.",[])})),{dispatch:!1}),this.loadRefundInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadRefundInfoAction),Object(ye.a)(({condition:e})=>this._apiService.postRefundInfo(e).pipe(Object(it.a)(e=>h.loadRefundInfoSuccessAction({refundInfo:e})),Object(ke.a)(e=>{const t="Failed to retrieve refund registration list.",n=[h.loadRefundInfoFailureAction({error:t})];return this._catchErr(e,t,n),[]}))))),this.saveRefundBillingAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.saveRefundBillingAction),Object(ye.a)(({condition:e})=>this._apiService.putRefundBilling(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.selectedRefundTicketInfo$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)([{succeedYn:!1,error:e}])))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="You have successfully saved the vendor refund.",t=[h.loadRefundInfoAction({condition:n})];this._runPage(e,t)}else{const e="Saving a vendor refund failed.",n=[h.saveRefundBillingFailureAction({error:this._errorService.apiErrorHandler(t,e)})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.saveRefundDsrAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.saveRefundDsrAction),Object(ye.a)(({condition:e})=>this._apiService.putRefundDsr(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.selectedRefundTicketInfo$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)([{succeedYn:!1,error:e}])))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Successfully saved the customer/merchant refund.",t=[h.loadRefundInfoAction({condition:n})];this._runPage(e,t)}else{const e="Saving customer/merchant refunds failed.",n=[h.saveRefundDsrFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.saveRefundPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.saveRefundPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.putRefundWithdraw(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.selectedRefundTicketInfo$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)([{succeedYn:!1,error:e}])))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Successfully saved deposit/refund details.",t=[h.loadRefundInfoAction({condition:n})];this._runPage(e,t)}else{const e="Saving deposit/refund details failed.",n=[h.saveRefundPaymentFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.loadPaymentRegisterInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadPaymentRegisterInfoAction),Object(ye.a)(({condition:e})=>this._apiService.getPaymentInfoNew(e).pipe(Object(it.a)(e=>h.loadPaymentRegisterInfoInfoSuccessAction({paymentRegisterInfo:e})),Object(ke.a)(e=>(this._catchErr(e,"Failed to retrieve payment information.",[]),[])))))),this.loadPaymentUpdateInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadPaymentUpdateInfoAction),Object(ye.a)(({condition:e})=>this._apiService.getPaymentInfoNew(e).pipe(Object(it.a)(e=>h.loadPaymentUpdateInfoInfoSuccessAction({paymentUpdateInfo:e})),Object(ke.a)(e=>(this._catchErr(e,"Failed to retrieve payment information.",[]),[])))))),this.registerPaymentInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.registerPaymentInfoAction),Object(ye.a)(({condition:e})=>this._apiService.putPaymentInfoNew(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1)),this.paymentRegisterLoadCondition$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)([{succeedYn:!1,error:e}])))),Object(In.a)(([{succeedYn:e,error:t},n,i])=>{if(e){const e="Payment information was added successfully.",t=[u.reloadBookingDetailAction(),h.loadBookingFlightPaymentAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else this._catchErr(t,"Failed to add payment information.",[])})),{dispatch:!1}),this.updatePaymentInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.updatePaymentInfoAction),Object(ye.a)(({condition:e})=>this._apiService.putPaymentInfoNew(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1)),this.paymentUpdateLoadCondition$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)([{succeedYn:!1,error:e}])))),Object(In.a)(([{succeedYn:e,error:t},n,i])=>{if(e){const e="Payment information change succeeded.",t=[u.reloadBookingDetailAction(),h.loadBookingFlightPaymentAction({condition:{bookingItemCode:n}}),h.loadPaymentUpdateInfoAction({condition:i})];this._runPage(e,t)}else this._catchErr(t,"Failed to change payment information.",[])})),{dispatch:!1}),this.deletePaymentInfo$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.deletePaymentInfoAction),Object(ye.a)(({condition:e})=>this._apiService.deletePaymentInfoNew(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1)),this.paymentUpdateLoadCondition$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)([{succeedYn:!1,error:e}])))),Object(In.a)(([{succeedYn:e,error:t},n,i])=>{if(e){const e="Payment information deleted successfully.",t=[u.reloadBookingDetailAction(),h.loadBookingFlightPaymentAction({condition:{bookingItemCode:n}}),h.loadPaymentUpdateInfoAction({condition:i})];this._runPage(e,t)}else this._catchErr(t,"Failed to delete payment information.",[])})),{dispatch:!1}),this.deleteAllPaymentInfo$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.deleteAllPaymentInfoAction),Object(ye.a)(({condition:e})=>this._apiService.deleteAllPaymentInfo(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1)),this.paymentUpdateLoadCondition$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)([{succeedYn:!1,error:e}])))),Object(In.a)(([{succeedYn:e,error:t},n,i])=>{if(e){const e="Payment information deleted successfully.",t=[u.reloadBookingDetailAction(),h.loadBookingFlightPaymentAction({condition:{bookingItemCode:n}}),h.loadPaymentUpdateInfoAction({condition:i})];this._runPage(e,t)}else this._catchErr(t,"Failed to delete payment information.",[])})),{dispatch:!1}),this.deleteDsrMappingAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.deleteDsrMappingAction),Object(ye.a)(({condition:e})=>this._apiService.putTicketInfoMapping(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Successfully deleted DSR mapping.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else this._catchErr(t,"Failed to delete DSR mapping.",[])})),{dispatch:!1}),this.savePaymentDepositManualAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.savePaymentDepositManualAction),Object(ye.a)(({condition:e})=>this._apiService.putPaymentDepositManual(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Manual payment registration was successful.",t=[u.reloadBookingDetailAction(),h.removePenaltyInfoAction(),h.closePaymentManualModalAction()];this._runPage(e,t)}else this._catchErr(t,"Failed to register payment manually.",[])})),{dispatch:!1}),this.deletePaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.deletePaymentAction),Object(ye.a)(({condition:e})=>this._apiService.deleteAccountPayments(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Payment information was successfully deleted.",t=[u.reloadBookingDetailAction(),h.loadBookingFlightPaymentAction({condition:{bookingItemCode:n}}),h.loadRefundRequestInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else this._catchErr(t,"Failed to delete payment information.",[])})),{dispatch:!1}),this.loadTasfInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadTasfInfoAction),Object(ye.a)(({condition:e})=>this._apiService.postTasf(e).pipe(Object(it.a)(e=>h.loadTasfInfoSuccessAction({tasfInfo:e})),Object(ke.a)(e=>{const t="Failed to retrieve TASF information.",n=[h.loadTasfInfoFailureAction({error:t})];return this._catchErr(e,t,n),[]}))))),this.loadUnpaidInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadUnpaidInfoAction),Object(ye.a)(({condition:e})=>this._apiService.postUnpaid(e).pipe(Object(it.a)(e=>h.loadUnpaidInfoSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to load accounts receivable.",n=[h.loadUnpaidInfoFailureAction({error:t})];return this._catchErr(e,t,n),[]}))))),this.loadPolicyMonitoringInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadPolicyMonitoringInfoAction),Object(ye.a)(({condition:e})=>this._apiService.postPolicyMonitoring(e).pipe(Object(it.a)(e=>h.loadPolicyMonitoringInfoSuccessAction({policyMonitoringInfo:e})),Object(ke.a)(e=>(this._catchErr(e,"Failed to load travel policy.",[]),[])))))),this.savePolicyMonitoringInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.savePolicyMonitoringInfoAction),Object(ye.a)(({condition:e})=>this._apiService.putCorporatePolicyMonitoring(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Successfully saved the travel policy.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else this._catchErr(t,"Failed to save travel policy.",[])})),{dispatch:!1}),this.loadCorporateReasonListAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadCorporateReasonListAction),Object(ye.a)(({condition:e})=>this._apiService.postCorporateReason(e).pipe(Object(it.a)(e=>h.loadCorporateReasonListSuccessAction({dataList:e})),Object(ke.a)(e=>(this._catchErr(e,"Failed to retrieve travel policy violation reason.",[]),[])))))),this.loadPaymentBankIssueInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadPaymentBankIssueInfoAction),Object(ye.a)(({condition:e,settingInfo:t})=>this._apiService.postPaymentBankIssue(e).pipe(Object(it.a)(e=>h.loadPaymentBankIssueInfoSuccessAction({bankIssueInfo:Object.assign(Object.assign({},e),t)})),Object(ke.a)(e=>{const t="Virtual account issuance failed.",n=[h.loadPaymentBankIssueInfoFailureAction({error:t})];return this._catchErr(e,t,n),[]}))))),this.cancelPaymentPenaltyAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.cancelPaymentPenaltyAction),Object(ye.a)(({condition:e})=>this._apiService.putFlightPaymentCancel(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)([{succeedYn:!1,error:e}])))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Payment canceled successfully.",t=[u.reloadBookingDetailAction(),h.loadBookingFlightPaymentAction({condition:{bookingItemCode:n}}),h.closePaymentPenaltyCancelModalAction()];this._runPage(e,t)}else this._catchErr(t,"Failed to cancel payment.",[])})),{dispatch:!1}),this.cancelCouponPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.cancelCouponPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.postPaymentCouponCancel(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Coupon payment canceled successfully.",t=[u.reloadBookingDetailAction(),h.closeCouponPointCancelModalAction(),h.loadBookingFlightPaymentAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else{const e="Failed to cancel coupon payment.",n=[h.cancelCouponPaymentFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.cancelPointPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.cancelPointPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.postPaymentPointCancel(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Points payment canceled successfully.",t=[u.reloadBookingDetailAction(),h.closeCouponPointCancelModalAction(),h.loadBookingFlightPaymentAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else{const e="Failed to cancel points payment.",n=[h.cancelPointPaymentFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.cancelBankReceiptAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.cancelBankReceiptAction),Object(ye.a)(({condition:e})=>this._apiService.putBankReceiptCancel(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Successfully canceled a cash receipt.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else this._catchErr(t,"Failed to cancel a cash receipt.",[])})),{dispatch:!1}),this.loadDepartureTypeList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadDepartureTypeListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.departureTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadDepartureTypeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to load arrival and departure base code lookup.",n=[h.loadDepartureTypeListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadDepartureTypeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadControlBranchList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadControlBranchListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.controlBranchList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>{if(!0===t||null===n)return this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadControlBranchListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to load main/branch base code lookup.",n=[h.loadControlBranchListFailureAction({error:t})];return this._catchErr(e,t,n),[]}));Object(ve.a)(h.loadControlBranchListSuccessAction({dataList:Q.cloneDeep(n)}))}))),this.loadAgeTypeListAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadAgeTypeListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.ageTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadAgeTypeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to load age group base code lookup.",n=[h.loadAgeTypeListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadAgeTypeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadBookingStatusList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadBookingStatusListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.bookingStatusList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadBookingStatusListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to load progress underlying code lookup.",n=[h.loadBookingStatusListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadBookingStatusListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadRequestStatusListAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadRequestStatusListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.requestStatusList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadRequestStatusListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to load processing status base code lookup.",n=[h.loadRequestStatusListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadRequestStatusListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadDeviceTypeList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadDeviceTypeListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.deviceTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadDeviceTypeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to load device base code lookup.",n=[h.loadDeviceTypeListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadDeviceTypeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadEvidenceTypeList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadEvidenceTypeListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.evidenceTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadEvidenceTypeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="EvidenceType lookup failed.",n=[h.loadEvidenceTypeListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadEvidenceTypeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadCardHolderTypeList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadCardHolderTypeListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.cardHolderTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadCardHolderTypeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to load cardholder type base code lookup.",n=[h.loadCardHolderTypeListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadCardHolderTypeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadCardHolderRelationList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadCardHolderRelationListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.cardHolderRelationList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadCardHolderRelationListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to load cardholder relationship base code lookup.",n=[h.loadCardHolderRelationListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadCardHolderRelationListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadCardMasterList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadCardMasterListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.cardMasterList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadCardMasterListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to load card base code lookup.",n=[h.loadCardMasterListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadCardMasterListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadBankMasterListAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadBankMasterListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.bankMasterList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>e.filter(e=>!Q.isNil(e.referNumber1))),Object(it.a)(e=>h.loadBankMasterListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to load bank base code lookup.",n=[h.loadBankMasterListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadBankMasterListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadTicketingStatusCodeListAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadTicketingStatusCodeListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.ticketingStatusCodeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadTicketingStatusCodeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to load ticketing category base code lookup.",n=[h.loadTicketingStatusCodeListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadTicketingStatusCodeListSuccessAction({dataList:n}))))),this.loadFopCodeListAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadFopCodeListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.fopCodeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadFopCodeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="FOP CODE Basic code lookup failed to load.",n=[h.loadFopCodeListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadFopCodeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadBillingTypeListAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadBillingTypeListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.billingTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadBillingTypeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to load ticketing source base code lookup.",n=[h.loadBillingTypeListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadBillingTypeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadGdsNdcCompListAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadGdsNdcCompListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.gdsNdcCompList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonCompList(e).pipe(Object(it.a)(e=>h.loadGdsNdcCompListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to load GDS/NDC base code lookup.",n=[h.loadGdsNdcCompListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadGdsNdcCompListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadAirlineChargeTypeListAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadAirlineChargeTypeListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.airlineChargeTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadAirlineChargeTypeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to load Airline P base code lookup.",n=[h.loadAirlineChargeTypeListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadAirlineChargeTypeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadCashReceiptPurposeList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadCashReceiptPurposeListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.cashReceiptPurposeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadCashReceiptPurposeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to load the underlying code for issuing cash receipts.",n=[h.loadCashReceiptPurposeListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadCashReceiptPurposeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadCashReceiptKindList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadCashReceiptKindListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.cashReceiptKindList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadCashReceiptKindListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to load cash receipt identification number base code lookup.",n=[h.loadCashReceiptKindListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadCashReceiptKindListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadTicketVoidTypeListAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadTicketVoidTypeListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.ticketVoidTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadTicketVoidTypeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to load ticket status base code lookup.",n=[h.loadTicketVoidTypeListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadTicketVoidTypeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadBookingFareTypeListAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadBookingFareTypeListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.bookingFareTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadBookingFareTypeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to load fare classification status base code lookup.",n=[h.loadBookingFareTypeListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadBookingFareTypeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadAncillaryTypeListAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadAncillaryTypeListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.ancillaryTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadAncillaryTypeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to load additional service type base code lookup.",n=[h.loadAncillaryStatusListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadAncillaryTypeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadAncillaryStatusListAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadAncillaryStatusListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.ancillaryStatusList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadAncillaryStatusListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to load value-added service status base code lookup.",n=[h.loadAncillaryStatusListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadAncillaryStatusListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadChangeRequestStatusListAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadChangeRequestStatusListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.changeRequestStatusList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadChangeRequestStatusListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to retrieve change request status.",n=[h.loadChangeRequestStatusListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadChangeRequestStatusListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadBspBillingPeriodListAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadBspBillingPeriodListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.bspBillingPeriodList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadBspBillingPeriodListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="BSP billing cycle code lookup failed.",n=[h.loadBspBillingPeriodListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadBspBillingPeriodListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadAdjustReasonList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadAdjustReasonList),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.adjustReasonList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadAdjustReasonListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to retrieve revenue adjustment list.",n=[h.loadAdjustReasonListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadAdjustReasonListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadPaymentDetailTypeAddList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadPaymentDetailTypeAddList),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.paymentDetailTypeAddList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadPaymentDetailTypeAddListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to retrieve transport classification list.",n=[h.loadPaymentDetailTypeAddListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadPaymentDetailTypeAddListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadPaymentDetailTypeSalesList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadPaymentDetailTypeSalesList),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.paymentDetailTypeSalesList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadPaymentDetailTypeSalesListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to retrieve transport classification list.",n=[h.loadPaymentDetailTypeSalesListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadPaymentDetailTypeSalesListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadDepositTypeList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadDepositTypeList),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.depositTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadDepositTypeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to retrieve deposit category list.",n=[h.loadDepositTypeListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadDepositTypeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadPaymentBankMasterList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadPaymentBankMasterListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.paymentBankMasterList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadPaymentBankMasterListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to retrieve taxonomy list.",n=[h.loadPaymentBankMasterListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadPaymentBankMasterListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadGiftCardTypeList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadGiftCardTypeListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.giftCardTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadGiftCardTypeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to retrieve gift certificate category list.",n=[h.loadGiftCardTypeListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadGiftCardTypeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadCategoryType$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadEtEmdOtherTypeList),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.etEmdOtherTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>h.loadEtEmdOtherTypeListSuccess({dataList:e})),Object(ke.a)(e=>{const t="Failed to retrieve ticket type list.",n=[h.loadEtEmdOtherTypeListFailure({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadEtEmdOtherTypeListSuccess({dataList:Q.cloneDeep(n)}))))),this.loadBookingTravelerListAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.loadBookingTravelerListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.bookingTravelerList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getBookingTravelerList(e).pipe(Object(it.a)(e=>h.loadBookingTravelerListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to retrieve traveler list.",n=[h.loadBookingTravelerListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(h.loadBookingTravelerListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.saveRequestRemakrAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(h.saveRequestRemakrAction),Object(ye.a)(({condition:e})=>this._apiService.putBookingFlightRequestRemark(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Successfully saved request remarks.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else this._catchErr(t,"Failed to save request remarks.",[])})),{dispatch:!1}),this.bookingItemCode$=i.pipe(Object(P.u)(lk)),this.selectedRefundTicketInfo$=i.pipe(Object(P.u)(Wj)),this.paymentRegisterLoadCondition$=i.pipe(Object(P.u)(Nj)),this.paymentUpdateLoadCondition$=i.pipe(Object(P.u)(Mj)),this.departureTypeList$=i.pipe(Object(P.u)(JO)),this.controlBranchList$=i.pipe(Object(P.u)(eP)),this.ageTypeList$=i.pipe(Object(P.u)(aP)),this.bookingStatusList$=i.pipe(Object(P.u)(tP)),this.requestStatusList$=i.pipe(Object(P.u)(nP)),this.deviceTypeList$=i.pipe(Object(P.u)(iP)),this.evidenceTypeList$=i.pipe(Object(P.u)(oP)),this.cardMasterList$=i.pipe(Object(P.u)(cP)),this.cashReceiptPurposeList$=i.pipe(Object(P.u)(sP)),this.cashReceiptKindList$=i.pipe(Object(P.u)(rP)),this.cardHolderTypeList$=i.pipe(Object(P.u)(lP)),this.cardUseTypeList$=i.pipe(Object(P.u)(dP)),this.cardHolderRelationList$=i.pipe(Object(P.u)(bP)),this.bankMasterList$=i.pipe(Object(P.u)(uP)),this.ticketingStatusCodeList$=i.pipe(Object(P.u)(pP)),this.fopCodeList$=i.pipe(Object(P.u)(mP)),this.billingTypeList$=i.pipe(Object(P.u)(hP)),this.gdsNdcCompList$=i.pipe(Object(P.u)(gP)),this.airlineChargeTypeList$=i.pipe(Object(P.u)(fP)),this.ticketVoidTypeList$=i.pipe(Object(P.u)(WP)),this.bookingFareTypeList$=i.pipe(Object(P.u)(RP)),this.ancillaryTypeList$=i.pipe(Object(P.u)(FP)),this.ancillaryStatusList$=i.pipe(Object(P.u)(SP)),this.changeRequestStatusList$=i.pipe(Object(P.u)(SP)),this.bspBillingPeriodList$=i.pipe(Object(P.u)(vP)),this.adjustReasonList$=i.pipe(Object(P.u)(CP)),this.paymentDetailTypeAddList$=i.pipe(Object(P.u)(yP)),this.paymentDetailTypeSalesList$=i.pipe(Object(P.u)(kP)),this.depositTypeList$=i.pipe(Object(P.u)(IP)),this.paymentBankMasterList$=i.pipe(Object(P.u)(OP)),this.giftCardTypeList$=i.pipe(Object(P.u)(PP)),this.etEmdOtherTypeList$=i.pipe(Object(P.u)(jP)),this.bookingTravelerList$=i.pipe(Object(P.u)(VP)),this.paymentStatusCodeList$=i.pipe(Object(P.u)(AP))}_runPage(e,t){this.alertService.alert({message:e,accept:(null==t?void 0:t.length)>0?()=>{t.forEach(e=>{this.store.dispatch(e)})}:()=>{}})}_catchErr(e,t,n){const i=this._errorService.errorHandler(e,t);Q.isNil(i)||(Q.isNil(i.accept)&&(i.accept=(null==n?void 0:n.length)>0?()=>{n.forEach(e=>{this.store.dispatch(e)})}:()=>{}),this.alertService.alert(i))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(O.a),L.bc(qS),L.bc(LS),L.bc(P.h),L.bc(On.a),L.bc(CG.a),L.bc(Ae.a))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac}),e})(),(()=>{class e{constructor(e,t,n,i,o,a,c){this._actions$=e,this._apiService=t,this._masterApiService=n,this.store=i,this._errorService=o,this.loader=a,this.alertService=c,this.loadMasterInfo$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.loadMasterInfoAction),Object(ye.a)(({condition:e})=>this._apiService.getReservationActivityMasterInfo(e).pipe(Object(it.a)(e=>g.loadMasterInfoSuccessAction({dataCollection:e})),Object(ke.a)(e=>{const t="Failed to retrieve activity reservation information.",n=[g.loadMasterInfoFailureAction({error:t})];return this._catchErr(e,t,n),[]}))))),this.retrieve$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.retrieveAction),Object(ye.a)(({condition:e})=>this._apiService.postRetieve(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="The retrieve was successful.",t=[u.reloadBookingDetailAction(),g.loadAmountInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else{const e="The retrieve failed.",n=[g.retrieveFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.loadBasicInfo$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.loadBasicInfoAction),Object(ye.a)(({condition:e})=>this._apiService.postBasic(e).pipe(Object(it.a)(e=>g.loadBasicInfoSuccessAction({basicInfo:e})),Object(ke.a)(e=>{const t="Failed to retrieve basic information.",n=[g.loadBasicInfoFailureAction({error:t})];return this._catchErr(e,t,n),[]}))))),this.loadClientPaymentStatus$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.loadClientPaymentStatus),Object(ye.a)(({condition:e})=>this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>g.loadClientPaymentStatusSuccessAction({dataList:e})),Object(ke.a)(e=>(this._catchErr(e,"Failed to information.",[]),[])))))),this.saveBasicInfo$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.saveBasicInfoAction),Object(ye.a)(({condition:e})=>this._apiService.putBasic(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="The default information has been modified correctly.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else{const e="Saving basic information failed.",n=[g.saveBasicFailureInfoAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.loadCancelPolicyInfoAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.loadCancelPolicyAction),Object(ye.a)(({condition:e})=>this._apiService.postCancelPolicy(e).pipe(Object(it.a)(e=>g.loadCancelPolicySuccessAction({cancelPolicy:e})),Object(ke.a)(e=>{const t="Failed to retrieve cancellation policy.",n=[g.loadCancelPolicyFailureAction({error:t})];return this._catchErr(e,t,n),[]}))))),this.saveCancelPolicy$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.saveCancelPolicyAction),Object(ye.a)(({condition:e})=>this._apiService.putCancelPolicy(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)([{succeedYn:!1,error:e}])))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="The cancellation rules are now correct.",t=[g.loadCancelPolicyAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else{const e="Saving a revocation rule failed.",n=[g.saveCancelPolicyFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.saveBookingDetail$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.saveBookingDetailAction),Object(ye.a)(({condition:e})=>this._apiService.putBookingActivityItem(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="The reservation information was modified correctly.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else{const e="Saving reservation information failed.",n=[g.saveBookingDetailFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.saveTraveler$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.saveTravelerAction),Object(ye.a)(({condition:e})=>this._apiService.putTraveler(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="The user information was successfully modified.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else{const e="Saving user information failed.",n=[g.saveTravelerFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.deleteTraveler$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.deleteTravelerAction),Object(ye.a)(({condition:e})=>this._apiService.deleteTraveler(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="The user information was successfully deleted.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else{const e="Failed to delete user information.",n=[g.deleteTravelerFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.saveNeededInfo$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.saveNeededInfoAction),Object(ye.a)(({condition:e})=>this._apiService.putNeededInfo(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="The additional customer information was modified correctly.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else{const e="Saving additional customer information failed.",n=[g.saveNeededInfoFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.cancelBooking$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.cancelBookingAction),Object(ye.a)(({condition:e})=>this._apiService.postBookingActivityCancelBooking(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Your reservation has been canceled successfully.",t=[u.reloadBookingDetailAction(),g.loadAmountInfoAction({condition:{bookingItemCode:n}}),g.closeCanceModalAction()];this._runPage(e,t)}else{const e="Cancellation of reservation failed.",n=[g.cancelBookingFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.sendPgCreditCardPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.sendPgCreditCardPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.putPayment(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Successful manual authorization of PG credit card.",t=[u.reloadBookingDetailAction(),g.loadAmountInfoAction({condition:{bookingItemCode:n}}),g.closePgCreditCardModalAction()];this._runPage(e,t)}else{const e="Failed to manually authorize PG credit card.",n=[g.sendPgCreditCardPaymentFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.cancelPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.cancelPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.postPaymentCancel(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="You successfully canceled the payment.",t=[u.reloadBookingDetailAction(),g.loadAmountInfoAction({condition:{bookingItemCode:n}}),g.closeCreditCardCancelModalAction()];this._runPage(e,t)}else{const e="Failed to cancel payment.",n=[g.cancelPaymentFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.cancelCouponPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.cancelCouponPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.postPaymentCouponCancel(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="You successfully canceled the coupon payment.",t=[u.reloadBookingDetailAction(),g.closeCouponPointCancelModalAction(),g.loadAmountInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else{const e="Failed to cancel coupon payment.",n=[g.cancelCouponPaymentFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.cancelPointPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.cancelPointPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.postPaymentPointCancel(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="You successfully canceled the points payment.",t=[u.reloadBookingDetailAction(),g.closeCouponPointCancelModalAction(),g.loadAmountInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else{const e="Failed to cancel a points payment.",n=[g.cancelPointPaymentFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.loadCancelChargeAmount$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.loadCancelChargeAmountAction),Object(ye.a)(({condition:e})=>this._apiService.postCancelChargeAmount(e).pipe(Object(it.a)(e=>g.loadCancelChargeAmountSuccessAction({cancelCharge:e})),Object(ke.a)(e=>(this._catchErr(e,"Cancellation fee inquiry failed.",[]),[])))))),this.sendPgBankPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.sendPgBankPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.putPayment(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Successfully created a PG virtual account.",t=[u.reloadBookingDetailAction(),g.loadAmountInfoAction({condition:{bookingItemCode:n}}),g.closePgBankModalAction()];this._runPage(e,t)}else{const e="PG virtual account issuance failed.",n=[g.sendPgBankPaymentFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.issueCashReceiptAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.issueCashReceiptAction),Object(ye.a)(({condition:e})=>this._apiService.putPaymentBankReceipt(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Successfully issued a cash receipt.",t=[u.reloadBookingDetailAction(),g.closeCashReceiptIssueModalAction()];this._runPage(e,t)}else{const e="Failed to issue a cash receipt.",n=[g.issueCashReceiptFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.sendPointPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.sendPointPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.postPaymentPoint(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="You have successfully paid for points manually.",t=[u.reloadBookingDetailAction(),g.loadAmountInfoAction({condition:{bookingItemCode:n}}),g.closePointPaymentAction()];this._runPage(e,t)}else{const e="Failed to manually pay for points.",n=[g.sendPointPaymentFailureAction({error:e})];this._catchErr(t,e,n)}})),{dispatch:!1}),this.deletePaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.deletePaymentAction),Object(ye.a)(({condition:e})=>this._apiService.deleteAccountPayments(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="Payment information was successfully deleted.",t=[u.reloadBookingDetailAction(),g.loadAmountInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else this._catchErr(t,"Failed to delete payment information.",[])})),{dispatch:!1}),this.loadAmountInfo$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.loadAmountInfoAction),Object(ye.a)(({condition:e})=>this._apiService.getAmount(e).pipe(Object(it.a)(e=>g.loadAmountInfoSuccessAction({amountInfo:e})),Object(ke.a)(e=>(this._catchErr(e,"Failed to retrieve pricing information.",[]),[])))))),this.saveAmountVendor$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.saveAmountVendorAction),Object(ye.a)(({condition:e})=>this._apiService.saveAmountVendor(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="The supply pricing information has been corrected.",t=[u.reloadBookingDetailAction(),g.loadAmountInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else this._catchErr(t,"Saving supply pricing information failed.",[])})),{dispatch:!1}),this.saveAmountSales$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.saveAmountSalesAction),Object(ye.a)(({condition:e})=>this._apiService.saveAmountSales(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="The sales pricing information has been corrected.",t=[u.reloadBookingDetailAction(),g.loadAmountInfoAction({condition:{bookingItemCode:n}})];this._runPage(e,t)}else this._catchErr(t,"Saving sales pricing information failed.",[])})),{dispatch:!1}),this.savePaymentDepositManualAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.savePaymentDepositManualAction),Object(ye.a)(({condition:e})=>this._apiService.putPaymentDepositManual(e).pipe(Object(et.a)(()=>Object(ve.a)({succeedYn:!0,error:null}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e}).pipe(Object(it.a)(e=>e),Object(tt.a)(this.bookingItemCode$.pipe(Object(nt.a)(1))))))),Object(In.a)(([{succeedYn:e,error:t},n])=>{if(e){const e="You have successfully manually registered a payment.",t=[u.reloadBookingDetailAction(),g.loadAmountInfoAction({condition:{bookingItemCode:n}}),g.closePaymentManualModalAction()];this._runPage(e,t)}else this._catchErr(t,"Manual payment enrollment failed.",[])})),{dispatch:!1}),this.cancelBankReceiptAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.cancelBankReceiptAction),Object(ye.a)(({condition:e})=>this._apiService.putBankReceiptCancel(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Successfully canceled a cash receipt.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else this._catchErr(t,"Failed to cancel a cash receipt.",[])})),{dispatch:!1}),this.saveAdditionalInfo$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.saveNeededInfoAction),Object(ye.a)(({condition:e})=>this._apiService.putNeededInfo(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{if(e){const e="Additional information has been modified correctly.",t=[u.reloadBookingDetailAction()];this._runPage(e,t)}else this._catchErr(t,"Failed to modify additional information.",[])})),{dispatch:!1}),this.loadBookingStatus$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.loadBookingStatusAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.bookingStatusList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>g.loadBookingStatusSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Reservation status lookup failed.",n=[g.loadBookingStatusFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(g.loadBookingStatusSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadVendorList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.loadVendorListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.vendorList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonCompList(e).pipe(Object(it.a)(e=>g.loadVendorListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Vendor lookup failed.",n=[g.loadVendorListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(g.loadVendorListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadActivityType$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.loadActivityTypeAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.activityTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>g.loadActivityTypeSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="The activity classification lookup failed.",n=[g.loadActivityTypeFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(g.loadActivityTypeSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadDeliveryType$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.loadDeliveryTypeAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.deliveryTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>g.loadDeliveryTypeSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Shipping type lookup failed.",n=[g.loadDeliveryTypeFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(g.loadDeliveryTypeSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadDeliveryMethod$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.loadDeliveryMethodAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.deliveryMethodList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>g.loadDeliveryMethodSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Shipping method lookup failed.",n=[g.loadDeliveryMethodFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(g.loadDeliveryMethodSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadDeliveryStatus$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.loadDeliveryStatusAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.deliveryStatusList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>g.loadDeliveryStatusSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Tracking status failed.",n=[g.loadDeliveryStatusFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(g.loadDeliveryStatusSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadDeliveryComp$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.loadDeliveryCompAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.vendorList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>g.loadDeliveryCompSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Carrier lookup failed.",n=[g.loadDeliveryCompFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(g.loadDeliveryCompSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadAgeType$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.loadAgeTypeAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.ageTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>g.loadAgeTypeSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="The age group lookup failed.",n=[g.loadAgeTypeFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(g.loadAgeTypeSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadActivityContentsOption$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.loadActivityContentsOptionAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.activityContentsOptionList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getActivityContentsOption(e).pipe(Object(it.a)(e=>g.loadActivityContentsOptionSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Activity option lookup failed.",n=[g.loadActivityContentsOptionFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(g.loadActivityContentsOptionSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadPaymentDetailTypeList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.loadPaymentDetailTypeList),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.paymentDetailTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>g.loadPaymentDetailTypeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to retrieve the transport classification list.",n=[g.loadPaymentDetailTypeListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(g.loadPaymentDetailTypeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadDepositTypeList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.loadDepositTypeList),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.depositTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>g.loadDepositTypeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to retrieve deposit category list.",n=[g.loadDepositTypeListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(g.loadDepositTypeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadPaymentBankMasterList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.loadPaymentBankMasterListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.paymentBankMasterList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>g.loadPaymentBankMasterListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to retrieve taxonomy list.",n=[g.loadPaymentBankMasterListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(g.loadPaymentBankMasterListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadGiftCardTypeList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.loadGiftCardTypeListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.giftCardTypeList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>g.loadGiftCardTypeListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to retrieve a list of gift certificate categories.",n=[g.loadGiftCardTypeListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(g.loadGiftCardTypeListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.loadBookingUnableReasonList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.loadBookingUnableReasonListAction),Object(et.a)(e=>Object(ve.a)(e).pipe(Object(tt.a)(this.bookingUnableReasonList$.pipe(Object(nt.a)(1))))),Object(ye.a)(([{condition:e,isForceLoad:t},n])=>!0===t||null===n?this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>g.loadBookingUnableReasonListSuccessAction({dataList:e})),Object(ke.a)(e=>{const t="Failed to retrieve list of unavailability reasons.",n=[g.loadBookingUnableReasonListFailureAction({error:t})];return this._catchErr(e,t,n),[]})):Object(ve.a)(g.loadBookingUnableReasonListSuccessAction({dataList:Q.cloneDeep(n)}))))),this.getSmartInfiniProductStatusInfo$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.getSmartInfiniProductStatusInfoAction),Object(et.a)(({condition:e})=>this._apiService.getSmartInfiniProductStatus(e).pipe(Object(it.a)(e=>({succeedYn:!0,infiniResult:e})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(et.a)(({succeedYn:e,infiniResult:t,error:n})=>{if(e){if(t.refunableYn)return[g.loadCancelChargeAmountAction({condition:{bookingItemCode:t.bookingItemCode}}),g.openCanceModalAction()];{const e="The reservation cannot be canceled because a redeemed or refunded ticket exists.",t=[g.getSmartInfiniProductStatusInfoFailureAction({error:e})];return this._catchErr(n,e,t),[]}}{const e="Failed to retrieve Smart Infini product status.",t=[g.getSmartInfiniProductStatusInfoFailureAction({error:e})];return this._catchErr(n,e,t),[]}}))),this.loadVendorPayment$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.loadVendorPayment),Object(ye.a)(({condition:e})=>this._apiService.getVendorPayment(e).pipe(Object(it.a)(e=>g.loadVendorPaymentSuccessAction({dataList:e})),Object(ke.a)(e=>(this._catchErr(e,"Failed.",[]),[])))))),this.loadVccTypeList$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.loadVccTypeList),Object(ye.a)(({condition:e})=>this._apiService.getCommonDetailCodeList(e).pipe(Object(it.a)(e=>g.loadVccTypeListSuccessAction({dataList:e})),Object(ke.a)(e=>(this._catchErr(e,"Failed.",[]),[])))))),this.createPaymentAction$=Object(O.c)(()=>this._actions$.pipe(Object(O.d)(g.createPaymentAction),Object(ye.a)(({condition:e})=>this._apiService.putCreatePayment(e).pipe(Object(it.a)(()=>({succeedYn:!0})),Object(ke.a)(e=>Object(ve.a)({succeedYn:!1,error:e})))),Object(In.a)(({succeedYn:e,error:t})=>{e?this._runPage("Successfully created a branch.",[]):this._catchErr(t,"Failed to create a branch.",[])})),{dispatch:!1}),this.bookingItemCode$=i.pipe(Object(P.u)(lk)),this.bookingStatusList$=i.pipe(Object(P.u)(VV)),this.vendorList$=i.pipe(Object(P.u)(AV)),this.activityTypeList$=i.pipe(Object(P.u)(WV)),this.deliveryTypeList$=i.pipe(Object(P.u)(RV)),this.deliveryMethodList$=i.pipe(Object(P.u)(FV)),this.deliveryStatusList$=i.pipe(Object(P.u)(SV)),this.deliveryCompList$=i.pipe(Object(P.u)(TV)),this.ageTypeList$=i.pipe(Object(P.u)(NV)),this.activityContentsOptionList$=i.pipe(Object(P.u)(EV)),this.paymentDetailTypeList$=i.pipe(Object(P.u)(MV)),this.depositTypeList$=i.pipe(Object(P.u)(DV)),this.paymentBankMasterList$=i.pipe(Object(P.u)(LV)),this.giftCardTypeList$=i.pipe(Object(P.u)(_V)),this.bookingUnableReasonList$=i.pipe(Object(P.u)(BV))}_runPage(e,t){this.alertService.alert({message:e,accept:(null==t?void 0:t.length)>0?()=>{t.forEach(e=>{this.store.dispatch(e)})}:()=>{}})}_catchErr(e,t,n){const i=this._errorService.errorHandler(e,t);Q.isNil(i)||(Q.isNil(i.accept)&&(i.accept=(null==n?void 0:n.length)>0?()=>{n.forEach(e=>{this.store.dispatch(e)})}:()=>{}),this.alertService.alert(i))}}return e.\u0275fac=function(t){return new(t||e)(L.bc(O.a),L.bc(QS),L.bc(LS),L.bc(P.h),L.bc(On.a),L.bc(CG.a),L.bc(Ae.a))},e.\u0275prov=L.Mb({token:e,factory:e.\u0275fac}),e})()];let OG=(()=>{class e{}return e.\u0275mod=L.Ob({type:e}),e.\u0275inj=L.Nb({factory:function(t){return new(t||e)},providers:[gG],imports:[[k.c,I.m,I.w,j.m,V.a,A.a,W.a,R.a,F.a,S.a,T.a,B,w.a,x.a,Y.a,H.a,U,ue,at,Vt,jn,vi,wi,oo,ao,An.a,Vn.a,Wn.a,Zn,iA,gA,RA,CR,yR,tF,nF,q.a,vG,Bi.a,P.j.forFeature("reservation",ak),O.b.forFeature(IG)]]}),e})()},RfQl:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("fXoL"),o=n("3Pt+"),a=(n("k16s"),n("ofXK"));const c=["editor"],s=["overlay"],r=function(e){return{"z-index":e}},l={provide:o.p,useExisting:Object(i.U)(()=>d),multi:!0};let d=(()=>{class e{constructor(e,t,n){this.renderer=e,this.elementRef=t,this.cd=n,this.styleHeight="100px",this.hostPosition="relative",this.hostDisplay="block",this.onModelChange=()=>{},this.onModelTouched=()=>{}}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get toolBarType(){return this._toolBarType}set toolBarType(e){this._toolBarType=e,this._setToolList()}ngOnInit(){}ngOnDestroy(){kendo.destroy(this.editorEl.nativeElement),this.editorObj&&(this.editorObj.destroy(),this.editorObj=null)}ngAfterViewInit(){setTimeout(()=>{this.renderer.setStyle(this.editorEl.nativeElement,"height",this.styleHeight),kendo.jQuery(this.editorEl.nativeElement).kendoEditor({tools:this.toolList}),this.editorObj=kendo.jQuery(this.editorEl.nativeElement).data("kendoEditor"),this.editorObj.bind("change",()=>{this.onChange()}),this.editorVal&&(this.editorObj.value(this.editorVal),this.editorVal=null)},0)}onPaste(e){e.html=""}onChange(){this.onModelChange(this.editorObj.value())}writeValue(e){this.editorVal=null,this.editorObj?this.editorObj.value(e):this.editorVal=e}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}_setToolList(){this.toolList="simple"===this.toolBarType?["insertUnorderedList","insertOrderedList","indent","outdent","insertImage"]:["bold","italic","underline","justifyLeft","justifyCenter","justifyRight","insertUnorderedList","insertOrderedList","indent","outdent","createLink","unlink","insertImage","tableWizard","createTable","addRowAbove","addRowBelow","addColumnLeft","addColumnRight","deleteRow","deleteColumn","mergeCellsHorizontally","mergeCellsVertically","splitCellHorizontally","splitCellVertically","fontName","fontSize","foreColor","backColor"]}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(i.E),i.Qb(i.l),i.Qb(i.h))},e.\u0275cmp=i.Kb({type:e,selectors:[["app-editor"]],viewQuery:function(e,t){var n;1&e&&(i.Xc(c,!0),i.Xc(s,!0)),2&e&&(i.Dc(n=i.gc())&&(t.editorEl=n.first),i.Dc(n=i.gc())&&(t.overlayEl=n.first))},hostVars:4,hostBindings:function(e,t){2&e&&i.Mc("position",t.hostPosition)("display",t.hostDisplay)},inputs:{styleHeight:"styleHeight",disabled:"disabled",toolBarType:"toolBarType"},features:[i.Bb([l])],decls:4,vars:3,consts:[[1,"editor-bg",3,"ngStyle"],["overlay",""],["cols","10","rows","30"],["editor",""]],template:function(e,t){1&e&&(i.Rb(0,"div",0,1),i.Rb(2,"textarea",2,3)),2&e&&i.pc("ngStyle",i.uc(1,r,t.disabled?2:0))},directives:[a.p],styles:[".editor-bg[_ngcontent-%COMP%]{background-color:#000;opacity:.1;position:absolute;width:100%;height:100%;pointer-events:none}"]}),e})()},hna1:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("LvDl"),o=n("fXoL");let a=(()=>{class e{constructor(){}openDetailWindow(e,t){if(i.isNil(e)||0===e.length)return void console.error("parameter bookingItemList is empty. check please.");e=i.uniqBy(e,"bookingItemCode");const{bookingItemCode:n}=e[0],o=n.split("-")[1].slice(0,1),a=e.map(e=>`bookingItemCodes=${e.bookingItemCode}`).join("&"),c=`${window.location.origin}/reservation/${{F:"flight",H:"hotel",C:"car",A:"activity"}[o]}/${n}?`+a+(t?`&tabName=${t}`:"");window.open(c,"_blank","height=950,width=1600,left=0,top=0,toolbar=no,menubar=no,scrollbars=no,resizable=yes,location=no,status=no")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);