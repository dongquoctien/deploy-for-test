function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,i=function(){};return{s:i,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var i=[],n=!0,a=!1,o=void 0;try{for(var s,r=e[Symbol.iterator]();!(n=(s=r.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(c){a=!0,o=c}finally{try{n||null==r.return||r.return()}finally{if(a)throw o}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _objectDestructuringEmpty(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{"7G9D":function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("tk/3"),a=i("IzEk"),o=i("LvDl"),s=i("fXoL"),r=i("tpT/"),c=i("EsKh"),l=function(){var e=function(){function e(t,i){_classCallCheck(this,e),this.api=t,this.alertService=i}return _createClass(e,[{key:"imageCheck",value:function(e){if(0===e.target.files.length)return!1;var t=e.target.files[0];if(t.size>2e6)return this.alertService.alert("\ud30c\uc77c \uc0ac\uc774\uc988\ub294 2MB\ub97c \ub118\uae38 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"),!1;var i=this.parseFileName(t.name),n=i.toLowerCase(),a=n.lastIndexOf("."),o=n.substring(a+1);if(a<0)i+=".jpg";else if("jpg"!==o&&"png"!==o&&"jpeg"!==o)return this.alertService.alert("\uc774\ubbf8\uc9c0 \ud30c\uc77c\uc774 \uc544\ub2d9\ub2c8\ub2e4. \ub2e4\uc2dc \ud655\uc778\ud574 \uc8fc\uc138\uc694."),!1;return t}},{key:"pdfCheck",value:function(e){if(0===e.target.files.length)return!1;var t=e.target.files[0],i=this.parseFileName(t.name),n=i.toLowerCase(),a=n.lastIndexOf("."),o=n.substring(a+1);if(a<0)i+=".pdf";else if("pdf"!==o)return this.alertService.alert("PDF \ud30c\uc77c\uc774 \uc544\ub2d9\ub2c8\ub2e4. \ub2e4\uc2dc \ud655\uc778\ud574 \uc8fc\uc138\uc694."),!1;return t}},{key:"excelCheck",value:function(e){if(0===e.target.files.length)return!1;var t=e.target.files[0],i=this.parseFileName(t.name),n=i.toLowerCase(),a=n.lastIndexOf("."),o=n.substring(a+1);if(a<0)i+=".xls";else if("xls"!==o&&"xlsx"!==o)return this.alertService.alert("\uc5d1\uc140 \ud30c\uc77c\uc774 \uc544\ub2d9\ub2c8\ub2e4. \ub2e4\uc2dc \ud655\uc778\ud574 \uc8fc\uc138\uc694."),!1;return t}},{key:"imageUpload",value:function(e,t){var i=new FormData;for(var n in t)if(t.hasOwnProperty(n))try{i.set(n,t[n])}catch(a){i.append(n,t[n])}return this.api.post(e,i)}},{key:"fileUpload",value:function(e,t){var i=new FormData;for(var n in t)if(t.hasOwnProperty(n))try{i.set(n,t[n])}catch(a){i.append(n,t[n])}return this.api.put(e,i)}},{key:"fileDelete",value:function(e,t){var i=Object.assign({},this.api.defaultParams,{condition:t});return this.api.delete(e,i)}},{key:"fileDownload",value:function(e){var t,i,s=this;switch(e.params||(e=Object.assign(e,{params:""})),e.type||(e.type="excel"),e.type){case"excel":t=".xls",i="application/vnd.ms-excel";break;case"pdf":t=".pdf",i="application/pdf"}var r=function(n){var a=document.createElement("a"),o=new Blob([n],{type:i});a.href=URL.createObjectURL(o),a.download=e.filename+t,a.click()};if("post"===e.requestMethod){var c=o.assign({},this.api.defaultParams,{condition:e.params});return this.api.postBlob(e.url,c).pipe(Object(a.a)(1)).subscribe((function(e){"application/json"===e.type?s.alertService.alert("You must wait a minute before making another request."):r(e)}))}return this.api.get(e.url,e.params,{responseType:"blob",headers:new n.e({"Content-Type":"application/json",Accept:"application/json"})}).pipe(Object(a.a)(1)).subscribe((function(e){r(e)}))}},{key:"parseFileName",value:function(e){var t=/[\{\}\[\]\/?,;:|\)*~`!^\-_+<>@\#$%&\\\=\(\'\"' ']/gi,i=e;return t.test(i)?i.replace(t,""):i}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.bc(r.a),s.bc(c.a))},e.\u0275prov=s.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},YH7L:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("ofXK"),a=i("3Pt+"),o=i("fXoL"),s=function(){var e=_createClass((function e(){_classCallCheck(this,e)}));return e.\u0275mod=o.Ob({type:e}),e.\u0275inj=o.Nb({factory:function(t){return new(t||e)},imports:[[n.c,a.m,a.w]]}),e}()},j8kb:function(e,t,i){"use strict";i.r(t),i.d(t,"CONTAINERS",(function(){return ki})),i.d(t,"COMPONENTS",(function(){return Ii})),i.d(t,"CpStaffModule",(function(){return Pi}));var n={};i.r(n),i.d(n,"initComponent",(function(){return F})),i.d(n,"loadPositionGroupList",(function(){return E})),i.d(n,"loadPositionGroupListSuccess",(function(){return D})),i.d(n,"loadPositionGroupListFailure",(function(){return w})),i.d(n,"loadPositionList",(function(){return $})),i.d(n,"loadPositionListSuccess",(function(){return U})),i.d(n,"loadPositionListFailure",(function(){return R})),i.d(n,"loadCorporateDeptList",(function(){return A})),i.d(n,"loadCorporateDeptListSuccess",(function(){return M})),i.d(n,"loadCorporateDeptListFailure",(function(){return x})),i.d(n,"loadUserStatusList",(function(){return T})),i.d(n,"loadUserStatusListSuccess",(function(){return Y})),i.d(n,"loadCountryList",(function(){return B})),i.d(n,"loadCountryListSuccess",(function(){return K})),i.d(n,"loadAllianceList",(function(){return H})),i.d(n,"loadAllianceListSuccess",(function(){return G})),i.d(n,"loadUserTypeList",(function(){return z})),i.d(n,"loadUserTypeListSuccess",(function(){return q})),i.d(n,"compList",(function(){return Q})),i.d(n,"compListSuccess",(function(){return X})),i.d(n,"loadStationList",(function(){return J})),i.d(n,"loadStationListSuccess",(function(){return Z})),i.d(n,"loadCategoryList",(function(){return ee})),i.d(n,"loadCategoryListSuccess",(function(){return te})),i.d(n,"loadPrivacyInfoManageList",(function(){return ie})),i.d(n,"getPrivacyInfoManageListSuccess",(function(){return ne})),i.d(n,"changeSearchCondition",(function(){return ae})),i.d(n,"reloadList",(function(){return oe})),i.d(n,"loadList",(function(){return se})),i.d(n,"getListSuccess",(function(){return re})),i.d(n,"getListFailure",(function(){return ce})),i.d(n,"setGridStateAction",(function(){return le})),i.d(n,"setGridCheckStateAction",(function(){return ue})),i.d(n,"changePageIndex",(function(){return pe})),i.d(n,"changePageSize",(function(){return de})),i.d(n,"openDetailPopup",(function(){return be})),i.d(n,"closeDetailPopup",(function(){return fe})),i.d(n,"addSelectedDetailRowInfo",(function(){return he})),i.d(n,"delSelectedDetailRowInfo",(function(){return me})),i.d(n,"upsertMasterAction",(function(){return ve})),i.d(n,"upsertMasterSuccessAction",(function(){return ge})),i.d(n,"openBulkUpdatePopup",(function(){return Ce})),i.d(n,"closeBulkUpdatePopup",(function(){return Oe})),i.d(n,"bulkUpdateAction",(function(){return ye})),i.d(n,"bulkUpdateSuccessAction",(function(){return je})),i.d(n,"upsertMembershipAction",(function(){return Se})),i.d(n,"removeMembershipAction",(function(){return Le})),i.d(n,"removeMembershipSuccessAction",(function(){return ke})),i.d(n,"openUploadPopup",(function(){return Ie})),i.d(n,"closeUploadPopup",(function(){return Pe})),i.d(n,"loadRoleList",(function(){return Ve})),i.d(n,"getRoleListSuccess",(function(){return Ne}));var a=i("ofXK"),o=i("3Pt+"),s=i("snw9"),r=i("kt0X"),c=i("WG3B"),l=i("xoAz"),u=i("wPo9"),p=i("7rOj"),d=i("+NQf"),b=i("6LsY"),f=i("l1P7"),h=i("v7zA"),m=i("7UZF"),v=i("hHe4"),g=i("1OXJ"),C=i("5hwk"),O=i("kKjH"),y=i("w8np"),j=i("7ChT"),S=i("vu/V"),L=i("tyNb"),k=i("XNiG"),I=i("itXk"),P=i("zP0r"),V=i("1G5W"),N=i("Kj3r"),_=i("pLZG"),W=i("LvDl"),F=Object(r.o)("[CpStaff] init this component"),E=Object(r.o)("[CpStaff] load position group list",Object(r.t)()),D=Object(r.o)("[CpStaff] load position group list success",Object(r.t)()),w=Object(r.o)("[CpStaff] load position group list failure",Object(r.t)()),$=Object(r.o)("[CpStaff] load position list",Object(r.t)()),U=Object(r.o)("[CpStaff] load position list success",Object(r.t)()),R=Object(r.o)("[CpStaff] load position list failure",Object(r.t)()),A=Object(r.o)("[CpStaff] load corporate dept list",Object(r.t)()),M=Object(r.o)("[CpStaff] load corporate dept list success",Object(r.t)()),x=Object(r.o)("[CpStaff] load corporate dept list failure",Object(r.t)()),T=Object(r.o)("[CpStaff] load user status list"),Y=Object(r.o)("[CpStaff] load user status list success",Object(r.t)()),B=Object(r.o)("[CpStaff] load country list"),K=Object(r.o)("[CpStaff] load country list success",Object(r.t)()),H=Object(r.o)("[CpStaff] load alliance list"),G=Object(r.o)("[CpStaff] load alliance list success",Object(r.t)()),z=Object(r.o)("[CpStaff] load user type list"),q=Object(r.o)("[CpStaff] load user type list success",Object(r.t)()),Q=Object(r.o)("[CpStaff] load comp list",Object(r.t)()),X=Object(r.o)("[CpStaff] get comp list success",Object(r.t)()),J=Object(r.o)("[CpStaff] load station list",Object(r.t)()),Z=Object(r.o)("[CpStaff] get station list success",Object(r.t)()),ee=Object(r.o)("[CpStaff] load category list",Object(r.t)()),te=Object(r.o)("[CpStaff] get category list success",Object(r.t)()),ie=Object(r.o)("[CpStaff] load privacy list",Object(r.t)()),ne=Object(r.o)("[CpStaff] get privacy list success",Object(r.t)()),ae=Object(r.o)("[CpStaff] change search condition",Object(r.t)()),oe=Object(r.o)("[CpStaff] reload grid data list"),se=Object(r.o)("[CpStaff] load grid data list",Object(r.t)()),re=Object(r.o)("[CpStaff] get list success",Object(r.t)()),ce=Object(r.o)("[CpStaff] get list failure",Object(r.t)()),le=Object(r.o)("[CpStaff] set grid state",Object(r.t)()),ue=Object(r.o)("[CpStaff] set grid check state",Object(r.t)()),pe=Object(r.o)("[CpStaff] change page index",Object(r.t)()),de=Object(r.o)("[CpStaff] change page size",Object(r.t)()),be=Object(r.o)("[CpStaff] \uc0c1\uc138\ud31d\uc5c5 \uc5f4\uae30"),fe=Object(r.o)("[CpStaff] \uc0c1\uc138\ud31d\uc5c5 \ub2eb\uae30"),he=Object(r.o)("[CpStaff] \uc0c1\uc138\ud31d\uc5c5\uc5d0\uc11c \ubcf4\uc5ec\uc9c8 \ud56d\ubaa9 \uc120\ud0dd",Object(r.t)()),me=Object(r.o)("[CpStaff] \uc0c1\uc138\ud31d\uc5c5\uc5d0\uc11c \ubcf4\uc5ec\uc9c8 \ud56d\ubaa9 \uc81c\uac70"),ve=Object(r.o)("[CpStaff] upsert master",Object(r.t)()),ge=Object(r.o)("[CpStaff] upsert master success",Object(r.t)()),Ce=Object(r.o)("[CpStaff] \uc77c\uad04\ubcc0\uacbd \ud31d\uc5c5 \uc5f4\uae30"),Oe=Object(r.o)("[CpStaff] \uc77c\uad04\ubcc0\uacbd \ud31d\uc5c5 \ub2eb\uae30"),ye=Object(r.o)("[CpStaff] bulk update",Object(r.t)()),je=Object(r.o)("[CpStaff] bulk update success",Object(r.t)()),Se=Object(r.o)("[CpStaff] upsert membership",Object(r.t)()),Le=Object(r.o)("[CpStaff] remove membership",Object(r.t)()),ke=Object(r.o)("[CpStaff] remove membership success"),Ie=Object(r.o)("[CpStaff] \uc5c5\ub85c\ub4dc \ud31d\uc5c5 \uc5f4\uae30"),Pe=Object(r.o)("[CpStaff] \uc5c5\ub85c\ub4dc \ud31d\uc5c5 \ub2eb\uae30"),Ve=Object(r.o)("[CpStaff] load role list",Object(r.t)()),Ne=Object(r.o)("[CpStaff] get role list success",Object(r.t)()),_e=i("EVqC"),We=Object(_e.a)({selectId:function(e){return e.rowid},sortComparer:!1}),Fe=We.getInitialState({positionGroupList:null,positionList:null,corporateDeptList:null,userStatusList:null,countryList:null,allianceList:null,userTypeList:null,loading:!1,reloadToggle:!1,searchCondition:null,otherSearchInfo:null,gridDataTotal:null,gridState:{pageInfo:{skip:0,take:20},sortInfo:[]},gridCheckedState:null,isOpenBulkUpdatePopup:null,isOpenDetailPopup:!1,isOpenUploadPopup:!1,selectedDetailRowInfo:null,removeMembershipSuccessYn:null,compCodeList:null,manageList:null,stationList:null,categoryList:null,roleList:null}),Ee=Object(r.q)(Fe,Object(r.s)(n.initComponent,(function(e){return Object.assign(Object.assign({},e),{loading:!1,reloadToggle:!1,selectedDetailRowInfo:null,isOpenDetailPopup:!1,isOpenBulkUpdatePopup:null})})),Object(r.s)(n.getPrivacyInfoManageListSuccess,(function(e,t){var i=t.dataList;return Object.assign(Object.assign({},e),{manageList:i})})),Object(r.s)(n.loadPositionGroupListSuccess,(function(e,t){var i=t.dataList;return Object.assign(Object.assign({},e),{positionGroupList:i})})),Object(r.s)(n.loadPositionGroupListFailure,(function(e,t){return _objectDestructuringEmpty(t),Object.assign(Object.assign({},e),{positionGroupList:null})})),Object(r.s)(n.loadPositionListSuccess,(function(e,t){var i=t.dataList;return Object.assign(Object.assign({},e),{positionList:i})})),Object(r.s)(n.loadPositionListFailure,(function(e,t){return _objectDestructuringEmpty(t),Object.assign(Object.assign({},e),{positionList:null})})),Object(r.s)(n.loadCorporateDeptListSuccess,(function(e,t){var i=t.dataList;return Object.assign(Object.assign({},e),{corporateDeptList:i})})),Object(r.s)(n.loadCorporateDeptListFailure,(function(e,t){return _objectDestructuringEmpty(t),Object.assign(Object.assign({},e),{corporateDeptList:null})})),Object(r.s)(n.loadUserStatusListSuccess,(function(e,t){var i=t.dataList;return Object.assign(Object.assign({},e),{userStatusList:i})})),Object(r.s)(n.loadCountryListSuccess,(function(e,t){var i=t.dataList;return Object.assign(Object.assign({},e),{countryList:i})})),Object(r.s)(n.loadAllianceListSuccess,(function(e,t){var i=t.dataList;return Object.assign(Object.assign({},e),{allianceList:i})})),Object(r.s)(n.loadUserTypeListSuccess,(function(e,t){var i=t.dataList;return Object.assign(Object.assign({},e),{userTypeList:i})})),Object(r.s)(n.compListSuccess,(function(e,t){var i=t.dataList;return Object.assign(Object.assign({},e),{compCodeList:i})})),Object(r.s)(n.loadStationListSuccess,(function(e,t){var i=t.dataList;return Object.assign(Object.assign({},e),{stationList:i})})),Object(r.s)(n.loadCategoryListSuccess,(function(e,t){var i=t.dataList;return Object.assign(Object.assign({},e),{categoryList:i})})),Object(r.s)(n.getRoleListSuccess,(function(e,t){var i=t.dataList;return Object.assign(Object.assign({},e),{roleList:i})})),Object(r.s)(n.reloadList,(function(e){return Object.assign(Object.assign({},e),{reloadToggle:!e.reloadToggle})})),Object(r.s)(n.changeSearchCondition,(function(e,t){var i=t.searchCondition,n=t.otherSearchInfo;return Object.assign(Object.assign({},e),{searchCondition:i,otherSearchInfo:n})})),Object(r.s)(n.loadList,(function(e){return Object.assign(Object.assign({},e),{loading:!0})})),Object(r.s)(n.getListSuccess,(function(e,t){var i=t.dataList,n=t.totalCount;return We.setAll(i,Object.assign(Object.assign({},e),{loading:!1,gridDataTotal:n}))})),Object(r.s)(n.getListFailure,(function(e){return Object.assign(Object.assign({},e),{loading:!1})})),Object(r.s)(n.setGridStateAction,(function(e,t){var i=t.gridState;return Object.assign(Object.assign({},e),{gridState:i})})),Object(r.s)(n.setGridCheckStateAction,(function(e,t){var i=t.gridCheckedState;return Object.assign(Object.assign({},e),{gridCheckedState:i})})),Object(r.s)(n.changePageSize,(function(e,t){var i=t.pageSize;return Object.assign(Object.assign({},e),{gridState:W.set(W.cloneDeep(e.gridState),["pageInfo","take"],i)})})),Object(r.s)(n.changePageIndex,(function(e,t){var i=t.pageIndex;return Object.assign(Object.assign({},e),{gridState:W.set(W.cloneDeep(e.gridState),["pageInfo","skip"],i)})})),Object(r.s)(n.openDetailPopup,(function(e){return Object.assign(Object.assign({},e),{isOpenDetailPopup:!0})})),Object(r.s)(n.closeDetailPopup,(function(e){return Object.assign(Object.assign({},e),{isOpenDetailPopup:!1})})),Object(r.s)(n.addSelectedDetailRowInfo,(function(e,t){var i=t.selectedDetailRowInfo;return Object.assign(Object.assign({},e),{selectedDetailRowInfo:i})})),Object(r.s)(n.delSelectedDetailRowInfo,(function(e){return Object.assign(Object.assign({},e),{selectedDetailRowInfo:null})})),Object(r.s)(n.openBulkUpdatePopup,(function(e){return Object.assign(Object.assign({},e),{isOpenBulkUpdatePopup:!0})})),Object(r.s)(n.closeBulkUpdatePopup,(function(e){return Object.assign(Object.assign({},e),{isOpenBulkUpdatePopup:!1})})),Object(r.s)(n.openUploadPopup,(function(e){return Object.assign(Object.assign({},e),{isOpenUploadPopup:!0})})),Object(r.s)(n.closeUploadPopup,(function(e){return Object.assign(Object.assign({},e),{isOpenUploadPopup:!1})})),Object(r.s)(n.upsertMasterSuccessAction,(function(e,t){var i=t.dataResult;return We.upsertOne(i,e)})),Object(r.s)(n.removeMembershipSuccessAction,(function(e){return Object.assign(Object.assign({},e),{removeMembershipSuccessYn:!e.removeMembershipSuccessYn})})));function De(e,t){return Object(r.m)({cpStaffList:Ee})(e,t)}var we,$e,Ue,Re,Ae,Me,xe,Te=Object(r.p)("cpStaff"),Ye=Object(r.r)(Te,(function(e){return e.cpStaffList})),Be=Object(r.r)(Ye,(function(e){return e.positionGroupList})),Ke=Object(r.r)(Ye,(function(e){return e.positionList})),He=Object(r.r)(Ye,(function(e){return e.corporateDeptList})),Ge=Object(r.r)(Ye,(function(e){return e.userStatusList})),ze=Object(r.r)(Ye,(function(e){return e.countryList})),qe=Object(r.r)(Ye,(function(e){return e.allianceList})),Qe=Object(r.r)(Ye,(function(e){return e.userTypeList})),Xe=Object(r.r)(Ye,(function(e){return e.manageList})),Je=Object(r.r)(Ye,(function(e){return e.loading})),Ze=Object(r.r)(Ye,(function(e){return e.reloadToggle})),et=Object(r.r)(Ye,(function(e){return e.searchCondition})),tt=Object(r.r)(Ye,(function(e){return e.otherSearchInfo})),it=Object(r.r)(Ye,(function(e){return e.compCodeList})),nt=Object(r.r)(Ye,(function(e){return e.stationList})),at=Object(r.r)(Ye,(function(e){return e.categoryList})),ot=Object(r.r)(Ye,(function(e){return e.roleList})),st=We.getSelectors(Ye).selectAll,rt=Object(r.r)(Ye,(function(e){return e.gridState})),ct=Object(r.r)(Ye,(function(e){return e.gridCheckedState})),lt=Object(r.r)(Ye,(function(e){return e.gridDataTotal})),ut=Object(r.r)(rt,(function(e){return W.get(e,["pageInfo","take"],20)})),pt=Object(r.r)(Ye,(function(e){return e.isOpenDetailPopup})),dt=Object(r.r)(Ye,(function(e){return e.selectedDetailRowInfo})),bt=Object(r.r)(Ye,(function(e){return e.isOpenBulkUpdatePopup})),ft=Object(r.r)(Ye,(function(e){return e.isOpenUploadPopup})),ht=Object(r.r)(Ye,(function(e){return e.removeMembershipSuccessYn})),mt=i("AytR").a.API_URL,vt={postCommonDetail:"".concat(mt,"/common/detail-code"),postCommonCountry:"".concat(mt,"/admin/common/country"),postPositionGroup:"".concat(mt,"/admin/corporate/position-group"),postPositionList:"".concat(mt,"/admin/user/comp/basis"),postCorporateDept:"".concat(mt,"/admin/corporate/dept"),postCountryList:"".concat(mt,"/admin/common/country"),postDepartmentList:"".concat(mt,"/admin/corporate/dept"),postCorporateStaff:"".concat(mt,"/admin/user/control/staff"),putCorporateStaff:"".concat(mt,"/admin/user/control/staff"),putBundleUpdate:"".concat(mt,"/admin/corporate/staff/bundle-update"),putUpload:"".concat(mt,"/admin/corporate/staff/upload"),putMembership:"".concat(mt,"/admin/user/membership"),deleteMembership:"".concat(mt,"/control/us/user-membership-card"),templateDownload:"".concat(mt,"/admin/file/download/userList"),postComp:"".concat(mt,"/common/comp"),selectRoleSeqs:"".concat(mt,"/admin/basis/role")},gt=i("fXoL"),Ct=i("pfiq"),Ot=i("LRne"),yt=i("z6cu"),jt=i("eIep"),St=i("tpT/"),Lt=(($e=function(){function e(t){_classCallCheck(this,e),this.api=t}return _createClass(e,[{key:"getDetailCode",value:function(e){var t=W.assign({},this.api.defaultParams,{condition:e});return this.api.post(vt.postCommonDetail,t).pipe(Object(jt.a)((function(e){return e.succeedYn&&e.result?Object(Ot.a)(e.result.list):Object(yt.a)(e||"api response error")})))}},{key:"getPositionGroupList",value:function(e){var t=W.assign({},this.api.defaultParams,{condition:e});return this.api.post(vt.postPositionGroup,t).pipe(Object(jt.a)((function(e){return e.succeedYn&&e.result?Object(Ot.a)(e.result.list):Object(yt.a)(e||"api response error")})))}},{key:"getCorporateDeptList",value:function(e){var t=W.assign({},this.api.defaultParams,{condition:e});return this.api.post(vt.postCorporateDept,t).pipe(Object(jt.a)((function(e){return e.succeedYn&&e.result?Object(Ot.a)(e.result.list):Object(yt.a)(e||"api response error")})))}},{key:"getPositionList",value:function(e){var t=W.assign({},this.api.defaultParams,{condition:e});return this.api.post(vt.postPositionList,t).pipe(Object(jt.a)((function(e){return e.succeedYn&&e.result?Object(Ot.a)(e.result.list):Object(yt.a)(e||"api response error")})))}},{key:"getCountryList",value:function(e){var t=W.assign({},this.api.defaultParams,{condition:e});return this.api.post(vt.postCommonCountry,t).pipe(Object(jt.a)((function(e){return e.succeedYn&&e.result?Object(Ot.a)(e.result.list):Object(yt.a)(e||"api response error")})))}},{key:"getList",value:function(e){var t=this,i=W.assign({},this.api.defaultParams,{condition:e});return this.api.post(vt.postCorporateStaff,i).pipe(Object(jt.a)((function(e){if(e.succeedYn&&e.result){var i=e.result,n=i.list,a=i.totalCount,o=t._addRowid(n);return Object(Ot.a)({dataList:o,totalCount:a})}return Object(yt.a)(e||"api response error")})))}},{key:"getRoleList",value:function(e){var t=W.assign({},this.api.defaultParams,{condition:e});return this.api.post(vt.selectRoleSeqs,t).pipe(Object(jt.a)((function(e){return e.succeedYn?Object(Ot.a)(e.result.list):Object(yt.a)(e||"api response error")})))}},{key:"upsertItem",value:function(e){var t=W.assign({},this.api.defaultParams,{condition:e});return this.api.put(vt.putCorporateStaff,t).pipe(Object(jt.a)((function(e){return e.succeedYn&&e.result?Object(Ot.a)(e.result):Object(yt.a)(e||"api response error")})))}},{key:"getCompList",value:function(e){var t=W.assign({},this.api.defaultParams,{condition:e});return this.api.post(vt.postComp,t).pipe(Object(jt.a)((function(e){if(e.succeedYn&&e.result){var t=e.result.list;return Object(Ot.a)(t)}return Object(yt.a)(e||"api response error")})))}},{key:"bulkUpdate",value:function(e){var t=W.assign({},this.api.defaultParams,{condition:e});return this.api.put(vt.putBundleUpdate,t).pipe(Object(jt.a)((function(e){return e.succeedYn&&e.result?Object(Ot.a)(!0):Object(yt.a)(e||"api response error")})))}},{key:"upsertMembership",value:function(e){var t=W.assign({},this.api.defaultParams,{condition:e});return this.api.put(vt.putMembership,t).pipe(Object(jt.a)((function(e){return e.succeedYn&&e.result?Object(Ot.a)(e.result.airlineMemberships):Object(yt.a)(e||"api response error")})))}},{key:"removeMembership",value:function(e){var t=W.assign({},this.api.defaultParams,{condition:e});return this.api.delete(vt.deleteMembership,t).pipe(Object(jt.a)((function(e){return e.succeedYn&&e.result?Object(Ot.a)(e.result):Object(yt.a)(e||"api response error")})))}},{key:"_addRowid",value:function(e){return W.isNil(e)?[]:e.map((function(e,t){return Object.assign(Object.assign({},e),{rowid:String(t)})}))}}]),e}()).\u0275fac=function(e){return new(e||$e)(gt.bc(St.a))},$e.\u0275prov=gt.Mb({token:$e,factory:$e.\u0275fac,providedIn:"root"}),$e),kt=((we=_createClass((function e(t){var i=this;_classCallCheck(this,e),this.fb=t,this.generateGridColumns=function(){return[{field:"userNo",title:"User No."},{field:"compCode",title:"Comp Code"},{field:"staffNo",title:"Staff No."},{field:"userStatusName",title:"User Status"},{field:"name",title:"User Name"},{field:"userId",title:"ID"},{field:"deptName",title:"Dep. Name"},{field:"positionName",title:"Position Name"},{field:"roleSeq",title:"Role SEQ"},{field:"roleName",title:"Role Name"},{field:"inChargeStationTypeName",title:"In Charge Station"},{field:"inChargeCategoryName",title:"In Charge Category"},{field:"countryPhoneCode",title:"Country Phone No."},{field:"compPhoneNo",title:"Comp. Phone No."},{field:"emailAddress",title:"Email Address"},{field:"privacyInfoManageName",title:"Privacy Info Manage"},{field:"manageUserYn",title:"Manage User YN",template:"ynTpl",style:{"text-align":"center"}},{field:"ipAddress",title:"IP Address"},{field:"controlRemark",title:"Control Remark"},{field:"lastUpdateName",title:"Last Update User"},{field:"lastUpdateDatetime",title:"Last Update Time",style:{"text-align":"center"}}]},this.generateSearchForm=function(){return i.fb.group({compCode:[null,[o.z.required]],userNo:[null],name:[null],deptCode:[null],userStatusCode:[null],roleSeq:[null],privacyInfoManageCode:[null],manageUserYn:[null]})},this.initSearchFormDataCondition=function(){return{compCode:11e4,userNo:null,name:null,deptCode:null,userStatusCode:null,roleSeq:null,privacyInfoManageCode:null,manageUserYn:null}},this.generateMasterPutForm=function(){return i.fb.group({userNo:[null],compCode:[null,[o.z.required]],onlineOrOffline:["F"],userTypeCode:["U01"],userStatusCode:[null,[o.z.required]],name:[null,[o.z.required]],lastName:[null],middleName:[null],firstName:[null],userId:[null,[o.z.required]],userPassword:[null,[o.z.required]],compPhoneNo:[null],mobileNo:[null],emailAddress:[null,[o.z.required]],deptCode:[null,[o.z.required]],positionCode:[null,[o.z.required]],manageUserYn:[null,[o.z.required]],controlRemark:[null],countryPhoneCode:[null],ipAddress:[null],staffNo:[null],positionName:[null],inChargeStationTypeCode:[null],inChargeCategoryCode:[null],privacyInfoManageCode:[null,[o.z.required]],roleSeq:[null,[o.z.required]],lockYn:[null]})},this.initMasterPutFormDataCondition=function(){return{userNo:null,compCode:null,onlineOrOffline:"F",userTypeCode:"U01",userStatusCode:null,name:null,lastName:null,middleName:null,firstName:null,userId:null,userPassword:null,compPhoneNo:null,mobileNo:null,emailAddress:null,deptCode:null,positionCode:null,manageUserYn:!1,controlRemark:null,countryPhoneCode:null,ipAddress:"1",staffNo:null,positionName:null,inChargeStationTypeCode:null,inChargeCategoryCode:null,privacyInfoManageCode:null,roleSeq:null,lockYn:!1}},this.generateBulkUpdateForm=function(){return i.fb.group({roleSeq:[null,[o.z.required]]})},this.initBulkUpdateFormDataCondition=function(){return{roleSeq:null}},this.generateMembershipPutForm=function(){return i.fb.group({airlineMemberships:i.fb.array([])})},this.initMembershipPutFormData=function(){return{airlineMemberships:[i.initMembershipItemPutFormData()]}},this.generateMembershipItemPutForm=function(){return i.fb.group({rowid:[null],userNo:[null],airlineCode:[null,[o.z.required]],membershipNo:[null,[o.z.required]],useYn:[!0]})},this.initMembershipItemPutFormData=function(){return{userNo:null,rowid:null,airlineCode:null,membershipNo:null,useYn:!0}}}))).\u0275fac=function(e){return new(e||we)(gt.bc(o.f))},we.\u0275prov=gt.Mb({token:we,factory:we.\u0275fac,providedIn:"root"}),we),It=i("+Sob"),Pt=i("U6NN"),Vt=i("gbCm"),Nt=i("nMd8"),_t=function(){return[0,5]},Wt=function(e,t){return{compCode:e,compBasisCodeType:"COB01",limits:t}},Ft=function(){return["compBasisCodeValue","compBasisCodeNameEn"]},Et=((Ue=function(){function e(t){_classCallCheck(this,e),this._dataService=t,this.fetchPositionGroupEvent=new gt.n,this.fetchPositionEvent=new gt.n,this.fetchCorporateDeptEvent=new gt.n,this.clickSearchEvent=new gt.n,this.clickResetEvent=new gt.n,this.useYnOptions=[{label:"Y",value:!0},{label:"N",value:!1}],this.isShowmore=!1,this._$unsubscribe=new k.a,this.searchForm=this._dataService.generateSearchForm()}return _createClass(e,[{key:"otherSearchInfo",get:function(){return this._otherSearchInfo},set:function(e){this._otherSearchInfo=e,this._setOtherSearchInfo(e)}},{key:"searchCondition",get:function(){return this._searchCondition},set:function(e){this._searchCondition=e,this.searchFormData=this._setSearchFormData(e)}},{key:"searchFormValid",get:function(){return this.searchForm.valid}},{key:"formValue",get:function(){return this.searchForm&&this.searchForm.value}},{key:"ngOnInit",value:function(){this._initDetailSubscription()}},{key:"ngOnDestroy",value:function(){this._$unsubscribe.next(),this._$unsubscribe.complete()}},{key:"onSubmit",value:function(){if(this.searchForm.invalid)this._checkValid=!0;else{var e=this.setSearchCondition(),t=this._setOtherSearchCondition();this.clickSearchEvent.emit({searchCondition:e,otherSearchInfo:t}),this._checkValid=!1}}},{key:"checkIsInvalid",value:function(e){return this._checkValid&&this.searchForm.get(e)&&this.searchForm.get(e).invalid}},{key:"setSearchCondition",value:function(){var e=Object.assign({},this.searchForm.value);return W.omitBy(e,W.isNil)}},{key:"_setOtherSearchInfo",value:function(e){this.deptNameInput=(null==e?void 0:e.deptName)||null,this.travelerNameInput=(null==e?void 0:e.travelerNameInput)||null}},{key:"_setSearchFormData",value:function(e){return W.isEmpty(e)?this._dataService.initSearchFormDataCondition():e}},{key:"_setOtherSearchCondition",value:function(){var e={};return this.autoCompletes.forEach((function(t){Object.assign(e,t.getInputValue())})),e}},{key:"_initDetailSubscription",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Ue)(gt.Qb(kt))},Ue.\u0275cmp=gt.Kb({type:Ue,selectors:[["app-cp-staff-search"]],viewQuery:function(e,t){var i;1&e&&gt.Xc(Ct.a,!0),2&e&&gt.Dc(i=gt.gc())&&(t.autoCompletes=i)},inputs:{userStatusList:"userStatusList",compCodeList:"compCodeList",manageList:"manageList",roleList:"roleList",otherSearchInfo:"otherSearchInfo",searchCondition:"searchCondition"},outputs:{fetchPositionGroupEvent:"fetchPositionGroupEvent",fetchPositionEvent:"fetchPositionEvent",fetchCorporateDeptEvent:"fetchCorporateDeptEvent",clickSearchEvent:"clickSearchEvent",clickResetEvent:"clickResetEvent"},decls:38,vars:21,consts:[[1,"grid-search-box","multi",3,"formGroup","connectForm","ngSubmit"],[1,"form-option-area"],[1,"row"],[1,"col-1"],[1,"form-label"],["dataKey","compCode","displayKey","compName","formControlName","compCode",1,"flex-fill",3,"useAllOptionYn","options"],["formControlName","name","placeholder","Name",1,"flex-fill"],["formControlName","deptCode","apiUrl","admin/user/comp/basis","dataKey","compBasisCodeValue","inputFieldFormat","{0} - &{1}","placeholder","Name",1,"d-inline-flex","flex-fill",3,"inputFieldValue","inputId","isInvalid","apiSearchTerm","apiCondition","inputFieldFormatKeyList"],["dataKey","detailCode","displayWord","detailCodeName","formControlName","userStatusCode",1,"flex-fill",3,"options"],["dataKey","detailCode","displayWord","detailCodeName","formControlName","privacyInfoManageCode",1,"flex-fill",3,"options"],["dataKey","roleSeq","displayWord","roleName","formControlName","roleSeq",1,"flex-fill",3,"options"],["formControlName","manageUserYn",1,"d-inline-flex","flex-fill",3,"options"],[1,"form-button-area"],["type","submit","role","button",1,"btn","btn-primary","sm"],["type","button","role","button",1,"btn","btn-reset","sm",3,"click"]],template:function(e,t){1&e&&(gt.Wb(0,"form",0),gt.fc("ngSubmit",(function(){return t.onSubmit()})),gt.Wb(1,"div",1),gt.Wb(2,"div",2),gt.Wb(3,"div",3),gt.Wb(4,"span",4),gt.Wb(5,"sup"),gt.Pc(6,"Control Comp Code"),gt.Vb(),gt.Vb(),gt.Rb(7,"app-selectbox",5),gt.Vb(),gt.Wb(8,"div",3),gt.Wb(9,"span",4),gt.Pc(10,"Staff Name"),gt.Vb(),gt.Rb(11,"app-input-text",6),gt.Vb(),gt.Wb(12,"div",3),gt.Wb(13,"span",4),gt.Pc(14,"Dep. Name"),gt.Vb(),gt.Rb(15,"app-auto-complete",7),gt.Vb(),gt.Wb(16,"div",3),gt.Wb(17,"span",4),gt.Pc(18,"User Status"),gt.Vb(),gt.Rb(19,"app-selectbox-detailcode",8),gt.Vb(),gt.Vb(),gt.Wb(20,"div",2),gt.Wb(21,"div",3),gt.Wb(22,"span",4),gt.Pc(23,"Privacy Info Manage"),gt.Vb(),gt.Rb(24,"app-selectbox-detailcode",9),gt.Vb(),gt.Wb(25,"div",3),gt.Wb(26,"span",4),gt.Pc(27,"Role"),gt.Vb(),gt.Rb(28,"app-selectbox-detailcode",10),gt.Vb(),gt.Wb(29,"div",3),gt.Wb(30,"span",4),gt.Pc(31,"Manage User YN"),gt.Vb(),gt.Rb(32,"app-selectbox",11),gt.Vb(),gt.Vb(),gt.Vb(),gt.Wb(33,"div",12),gt.Wb(34,"button",13),gt.Pc(35,"Search"),gt.Vb(),gt.Wb(36,"button",14),gt.fc("click",(function(){return t.clickResetEvent.emit()})),gt.Pc(37,"Reset"),gt.Vb(),gt.Vb(),gt.Vb()),2&e&&(gt.pc("formGroup",t.searchForm)("connectForm",t.searchFormData),gt.Cb(7),gt.Gb("valid-error",t.checkIsInvalid("compCode")),gt.pc("useAllOptionYn",!1)("options",t.compCodeList),gt.Cb(8),gt.pc("inputFieldValue",t.deptNameInput)("inputId","deptName")("isInvalid",t.checkIsInvalid("deptCode"))("apiSearchTerm","compBasisCodeName")("apiCondition",gt.vc(17,Wt,t.searchForm.get("compCode").value||11e4,gt.tc(16,_t)))("inputFieldFormatKeyList",gt.tc(20,Ft)),gt.Cb(4),gt.pc("options",t.userStatusList),gt.Cb(5),gt.pc("options",t.manageList),gt.Cb(4),gt.pc("options",t.roleList),gt.Cb(4),gt.pc("options",t.useYnOptions))},directives:[o.B,o.s,o.k,It.a,Pt.a,o.r,o.i,Vt.a,Ct.a,Nt.a],encapsulation:2,changeDetection:0}),Ue),Dt=i("Vwqj"),wt=i("EsKh"),$t=((Ae=function(){function e(t){_classCallCheck(this,e),this.alertService=t,this.clickAddEvent=new gt.n,this.clickBulkUpdateEvent=new gt.n,this.clickUploadEvent=new gt.n,this.changePageSizeEvent=new gt.n,this.pageSizeOptions=[{label:"20",value:20},{label:"40",value:40},{label:"60",value:60},{label:"80",value:80},{label:"100",value:100}]}return _createClass(e,[{key:"accept",get:function(){return Dt.a.excel()}},{key:"ngOnInit",value:function(){}},{key:"onChangePageSize",value:function(e){this.changePageSizeEvent.emit(e.value)}}]),e}()).\u0275fac=function(e){return new(e||Ae)(gt.Qb(wt.a))},Ae.\u0275cmp=gt.Kb({type:Ae,selectors:[["app-cp-staff-control"]],inputs:{loading:"loading",currentPageSize:"currentPageSize",totalCount:"totalCount",fileButtonDisabled:"fileButtonDisabled"},outputs:{clickAddEvent:"clickAddEvent",clickBulkUpdateEvent:"clickBulkUpdateEvent",clickUploadEvent:"clickUploadEvent",changePageSizeEvent:"changePageSizeEvent"},decls:8,vars:4,consts:[[1,"grid-control-area"],[1,"grid-count"],[1,"ml-auto","d-inline-flex","flex-glow-0"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"select-box","sm","d-inline-flex","flex-glow-0"],[3,"options","ngModel","useAllOptionYn","onChange"]],template:function(e,t){1&e&&(gt.Wb(0,"div",0),gt.Wb(1,"strong",1),gt.Pc(2),gt.Vb(),gt.Wb(3,"div",2),gt.Wb(4,"button",3),gt.fc("click",(function(){return t.clickAddEvent.emit()})),gt.Pc(5,"New"),gt.Vb(),gt.Wb(6,"div",4),gt.Wb(7,"app-selectbox",5),gt.fc("onChange",(function(e){return t.onChangePageSize(e)})),gt.Vb(),gt.Vb(),gt.Vb(),gt.Vb()),2&e&&(gt.Cb(2),gt.Qc(t.loading?"":t.totalCount),gt.Cb(5),gt.pc("options",t.pageSizeOptions)("ngModel",t.currentPageSize)("useAllOptionYn",!1))},directives:[Pt.a,o.r,o.u],encapsulation:2,changeDetection:0}),Ae),Ut=((Re=function(){function e(t,i){_classCallCheck(this,e),this._dataService=t,this.alertService=i,this.submitEvent=new gt.n,this.closeEvent=new gt.n,this.putForm=this._dataService.generateBulkUpdateForm(),this.putFormData=this._dataService.initBulkUpdateFormDataCondition()}return _createClass(e,[{key:"onSubmit",value:function(){this.putForm.invalid?this._checkValid=!0:(this.submitEvent.emit(this.putForm.value),this._checkValid=!1)}},{key:"checkIsInvalid",value:function(e){return this._checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}}]),e}()).\u0275fac=function(e){return new(e||Re)(gt.Qb(kt),gt.Qb(wt.a))},Re.\u0275cmp=gt.Kb({type:Re,selectors:[["app-cp-staff-bulk"]],inputs:{roleList:"roleList",positionList:"positionList",userStatusList:"userStatusList"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:20,vars:4,consts:[[1,"modal-body"],[1,"table","table-bordered",3,"formGroup","connectForm"],["width","130px"],["scope","row",1,"th-bg"],["formControlName","roleSeq","dataKey","roleSeq","displayWord","roleName",3,"options","isInvalid"],[1,"button-area","align-r","mt10"],["type","button",1,"btn","btn-secondary","sm",3,"click"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(e,t){1&e&&(gt.Wb(0,"div",0),gt.Wb(1,"form",1),gt.Wb(2,"table"),gt.Wb(3,"caption"),gt.Pc(4," Modify Roles in Bulk "),gt.Vb(),gt.Wb(5,"colgroup"),gt.Rb(6,"col",2),gt.Rb(7,"col"),gt.Vb(),gt.Wb(8,"tbody"),gt.Wb(9,"tr"),gt.Wb(10,"th",3),gt.Pc(11,"Role"),gt.Rb(12,"sup"),gt.Vb(),gt.Wb(13,"td"),gt.Rb(14,"app-selectbox-detailcode",4),gt.Vb(),gt.Vb(),gt.Vb(),gt.Vb(),gt.Vb(),gt.Wb(15,"div",5),gt.Wb(16,"button",6),gt.fc("click",(function(){return t.onSubmit()})),gt.Pc(17,"Save"),gt.Vb(),gt.Wb(18,"button",7),gt.fc("click",(function(){return t.closeEvent.emit()})),gt.Pc(19,"Close"),gt.Vb(),gt.Vb(),gt.Vb()),2&e&&(gt.Cb(1),gt.pc("formGroup",t.putForm)("connectForm",t.putFormData),gt.Cb(13),gt.pc("options",t.roleList)("isInvalid",t.checkIsInvalid("roleSeq")))},directives:[o.B,o.s,o.k,It.a,Nt.a,o.r,o.i],encapsulation:2,changeDetection:0}),Re),Rt=i("BA+4"),At=((Me=function(){function e(t){_classCallCheck(this,e),this.alertService=t,this.downloadEvent=new gt.n,this.uploadEvent=new gt.n,this.closeEvent=new gt.n}return _createClass(e,[{key:"accept",get:function(){return Dt.a.excel()}},{key:"onFileError",value:function(e){alert(e)}},{key:"onFileSelect",value:function(e){var t=e.files,i=e.isInvalid;this._file=null,t.length>0&&!i?this._file=t[0]:this.alertService.alert("It is not a valid file.")}},{key:"onUpload",value:function(){this._file?this.uploadEvent.emit(this._file):this.alertService.alert("\ud30c\uc77c\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694.")}},{key:"onClose",value:function(){this.closeEvent.emit()}}]),e}()).\u0275fac=function(e){return new(e||Me)(gt.Qb(wt.a))},Me.\u0275cmp=gt.Kb({type:Me,selectors:[["app-cp-staff-upload"]],outputs:{downloadEvent:"downloadEvent",uploadEvent:"uploadEvent",closeEvent:"closeEvent"},decls:35,vars:2,consts:[[1,"table","table-bordered","mb10"],["width","11%"],["width","45%"],["width","16%"],["colspan","4"],[1,"btn","btn-secondary","sm",3,"click"],["scope","row",1,"th-bg"],["colspan","3"],["chooseLabel","\uc5c5\ub85c\ub4dc \ud560 \ud30c\uc77c\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694",3,"maxFileSize","accept","onError","onSelect"],[1,"color-danger"],[1,"button-area","d-flex","justify-content-end","mt10"],[1,"btn","btn-primary","sm",3,"click"],[1,"btn","btn-light","sm",3,"click"]],template:function(e,t){1&e&&(gt.Wb(0,"div",0),gt.Wb(1,"table"),gt.Wb(2,"caption"),gt.Pc(3," \uae30\uc5c5\uccb4 \uc9c1\uc6d0 \uc5d1\uc140\ub85c \ub4f1\ub85d\ud558\uae30 "),gt.Vb(),gt.Wb(4,"colgroup"),gt.Rb(5,"col",1),gt.Rb(6,"col",2),gt.Rb(7,"col",3),gt.Rb(8,"col"),gt.Vb(),gt.Wb(9,"tbody"),gt.Wb(10,"tr"),gt.Wb(11,"td",4),gt.Wb(12,"div"),gt.Pc(13,"\uc544\ub798 \uc5c5\ub85c\ub4dc \uc0d8\ud50c\ud30c\uc77c\uc744 \ubc18\ub4dc\uc2dc \ud655\uc778\ud558\uc2dc\uace0, \ud574\ub2f9 \uc591\uc2dd\uc5d0 \ub9de\ucd94\uc5b4 \uc5d1\uc140 \ud30c\uc77c\ub85c \ub4f1\ub85d\ud558\uc5ec \uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4."),gt.Vb(),gt.Wb(14,"button",5),gt.fc("click",(function(){return t.downloadEvent.emit()})),gt.Pc(15,"\uc0d8\ud50c \ub2e4\uc6b4\ub85c\ub4dc"),gt.Vb(),gt.Vb(),gt.Vb(),gt.Wb(16,"tr"),gt.Wb(17,"th",6),gt.Pc(18,"\ud30c\uc77c\ub4f1\ub85d"),gt.Vb(),gt.Wb(19,"td",7),gt.Wb(20,"app-file-upload",8),gt.fc("onError",(function(e){return t.onFileError(e)}))("onSelect",(function(e){return t.onFileSelect(e)})),gt.Vb(),gt.Vb(),gt.Vb(),gt.Wb(21,"tr"),gt.Wb(22,"td",4),gt.Wb(23,"div",9),gt.Pc(24," \u203b \ub4f1\ub85d \uac00\ub2a5\ud55c \ud30c\uc77c \uc5ec\ubd80\ub97c \ubc18\ub4dc\uc2dc \ud655\uc778\ud558\uc5ec \uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4. \ub4f1\ub85d\uac00\ub2a5 \ud30c\uc77c \ud615\ud0dc : *.xls, *.xlsx"),gt.Rb(25,"br"),gt.Pc(26," \u203b \ucd5c\ub300 2MB \uc774\ub0b4\uc758 \ud30c\uc77c\ub9cc \ub4f1\ub85d \uac00\ub2a5\ud569\ub2c8\ub2e4."),gt.Rb(27,"br"),gt.Pc(28," \u203b \uc5d1\uc140\ud30c\uc77c 1\ud68c \uc5c5\ub85c\ub4dc\uc2dc \ucd5c\ub300 5,000\uac1c \uae4c\uc9c0\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4."),gt.Rb(29,"br"),gt.Vb(),gt.Vb(),gt.Vb(),gt.Vb(),gt.Vb(),gt.Vb(),gt.Wb(30,"div",10),gt.Wb(31,"button",11),gt.fc("click",(function(){return t.onUpload()})),gt.Pc(32,"\uc800\uc7a5"),gt.Vb(),gt.Wb(33,"button",12),gt.fc("click",(function(){return t.onClose()})),gt.Pc(34,"\ub2eb\uae30"),gt.Vb(),gt.Vb()),2&e&&(gt.Cb(20),gt.pc("maxFileSize",2e6)("accept",t.accept))},directives:[Rt.a],encapsulation:2,changeDetection:0}),Me),Mt=i("Onn4"),xt=function(e){return{compCode:e,compBasisCodeType:"COB01"}},Tt=function(){return["compBasisCodeValue","compBasisCodeNameEn"]},Yt=function(e){return{compCode:e,compBasisCodeType:"COB02"}},Bt=((xe=function(){function e(t,i){_classCallCheck(this,e),this._dataService=t,this.alertService=i,this.resetPasswordEvent=new gt.n,this.sendEmailEvent=new gt.n,this.submitEvent=new gt.n,this._$unsubscribe=new k.a,this.putForm=this._dataService.generateMasterPutForm(),this.putFormData=this._dataService.initMasterPutFormDataCondition}return _createClass(e,[{key:"masterItem",get:function(){return this._masterItem},set:function(e){this._masterItem=e,this.putFormData=this._setPutFormData(e),e&&this.putForm.setValue(this.putFormData),this._initThisState(e),this.isNewAdd||(this.deptNameInput=e.deptName,this.positionNameInput=e.positionName,this.putForm.get("userPassword").disable(),this.putForm.get("compCode").disable())}},{key:"isNewAdd",get:function(){return W.isEmpty(this.masterItem)}},{key:"ngAfterContentInit",value:function(){this._initSubscription()}},{key:"ngOnDestroy",value:function(){this._$unsubscribe.next(),this._$unsubscribe.complete()}},{key:"onSendPassword",value:function(){this.alertService.alert("\uc900\ube44\uc911\uc785\ub2c8\ub2e4")}},{key:"onSendEmail",value:function(){this.alertService.alert("\uc900\ube44\uc911\uc785\ub2c8\ub2e4")}},{key:"onSubmit",value:function(){var e=this;if(this.putForm.invalid)return this._checkValid=!0,void Object.keys(this.putForm.controls).forEach((function(t){e.putForm.controls[t].invalid&&console.error(t+" is invalid")}));var t=this._setPutCondition();this.submitEvent.emit(t),this._checkValid=!1}},{key:"checkIsInvalid",value:function(e){return this._checkValid&&this.putForm.get(e)&&this.putForm.get(e).invalid}},{key:"_setPutFormData",value:function(e){var t=Object.assign(this._dataService.initMasterPutFormDataCondition());return W.isNil(e)?t:Object.assign({},t,W.pick(e,Object.keys(t)))}},{key:"_setPutCondition",value:function(){var e=this._dataService.initMasterPutFormDataCondition(),t=this.putForm.value;return t.positionName=void 0,this.putFormData.compCode&&(t.compCode=this.putFormData.compCode,t.userId=this.putFormData.userId,t.userNo=this.putFormData.userNo),t.ipAddress||(t.ipAddress="1"),Object.assign({},W.pick(t,Object.keys(e)))}},{key:"_initThisState",value:function(e){this.putForm.get("userNo").disable(),e&&this.putForm.get("userId").disable()}},{key:"_initSubscription",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||xe)(gt.Qb(kt),gt.Qb(wt.a))},xe.\u0275cmp=gt.Kb({type:xe,selectors:[["app-cp-staff-master"]],inputs:{corporateInfo:"corporateInfo",positionList:"positionList",corporateDeptList:"corporateDeptList",userStatusList:"userStatusList",countryList:"countryList",allianceList:"allianceList",userTypeList:"userTypeList",compCodeList:"compCodeList",stationList:"stationList",categoryList:"categoryList",roleList:"roleList",manageList:"manageList",masterItem:"masterItem"},outputs:{resetPasswordEvent:"resetPasswordEvent",sendEmailEvent:"sendEmailEvent",submitEvent:"submitEvent"},decls:130,vars:47,consts:[[1,"table","table-bordered","mb10",3,"formGroup","connectForm"],["width","13%"],["scope","row",1,"th-bg"],["formControlName","userNo",3,"isInvalid"],["formControlName","userId",3,"isInvalid"],["formControlName","userStatusCode","dataKey","detailCode","displayWord","detailCodeName","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","compCode","dataKey","compCode","displayKey","compName","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","staffNo",3,"isInvalid"],["formControlName","name",3,"isInvalid"],[1,"form-group"],["formControlName","lastName","placeholder","Last Name(EN)",3,"inputFormat","isInvalid"],[1,"dash"],["formControlName","firstName","inputFormat","uppserCaseEnOnly","placeholder","First Name(EN)",2,"flex","2 1",3,"isInvalid"],["formControlName","deptCode","apiUrl","admin/user/comp/basis","dataKey","compBasisCodeValue","inputFieldFormat","{0} - &{1}","placeholder","Name",3,"inputFieldValue","isInvalid","apiSearchTerm","apiCondition","inputFieldFormatKeyList"],["formControlName","positionCode","apiUrl","admin/user/comp/basis","dataKey","compBasisCodeValue","inputFieldFormat","{0} - &{1}","placeholder","Name",3,"inputFieldValue","inputId","apiSearchTerm","apiCondition","inputFieldFormatKeyList","isInvalid"],["formControlName","countryPhoneCode","inputFormat","numberOnly","placeholder","e.g. 82",3,"isInvalid"],["formControlName","compPhoneNo","inputFormat","numberOnly",3,"isInvalid"],["formControlName","mobileNo","inputFormat","numberOnly",3,"isInvalid"],["formControlName","emailAddress",2,"flex","2 1",3,"isInvalid"],["formControlName","inChargeStationTypeCode","dataKey","detailCode","displayWord","detailCodeName","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","inChargeCategoryCode","dataKey","detailCode","displayWord","detailCodeName","useAllOptionName","Select",3,"options","isInvalid"],["formControlName","roleSeq","dataKey","roleSeq","useAllOptionName","Select","displayWord","roleName",1,"flex-fill",3,"options","isInvalid"],["formControlName","privacyInfoManageCode","dataKey","detailCode","useAllOptionName","Select","displayWord","detailCodeName",1,"flex-fill",3,"options","isInvalid"],["formControlName","manageUserYn","name","manageUserYn","label","Y",3,"value"],["formControlName","manageUserYn","name","manageUserYn","label","N",3,"value"],["formControlName","userPassword",2,"flex","2 1",3,"isInvalid"],["formControlName","controlRemark",3,"isInvalid"],[1,"button-area","align-r","mt10"],["type","button",1,"btn","btn-secondary","sm",3,"click"]],template:function(e,t){1&e&&(gt.Wb(0,"form",0),gt.Wb(1,"table"),gt.Wb(2,"caption"),gt.Pc(3," Control Staff Info "),gt.Vb(),gt.Wb(4,"colgroup"),gt.Rb(5,"col",1),gt.Vb(),gt.Wb(6,"tbody"),gt.Wb(7,"tr"),gt.Wb(8,"th",2),gt.Wb(9,"sup"),gt.Pc(10,"User No."),gt.Vb(),gt.Vb(),gt.Wb(11,"td"),gt.Rb(12,"app-input-text",3),gt.Vb(),gt.Vb(),gt.Wb(13,"tr"),gt.Wb(14,"th",2),gt.Wb(15,"sup"),gt.Pc(16,"User ID"),gt.Vb(),gt.Vb(),gt.Wb(17,"td"),gt.Rb(18,"app-input-text",4),gt.Vb(),gt.Vb(),gt.Wb(19,"tr"),gt.Wb(20,"th",2),gt.Wb(21,"sup"),gt.Pc(22,"User Status"),gt.Vb(),gt.Vb(),gt.Wb(23,"td"),gt.Rb(24,"app-selectbox-detailcode",5),gt.Vb(),gt.Vb(),gt.Wb(25,"tr"),gt.Wb(26,"th",2),gt.Wb(27,"sup"),gt.Pc(28,"Control Comp"),gt.Vb(),gt.Vb(),gt.Wb(29,"td"),gt.Rb(30,"app-selectbox",6),gt.Vb(),gt.Vb(),gt.Wb(31,"tr"),gt.Wb(32,"th",2),gt.Pc(33,"Staff No."),gt.Vb(),gt.Wb(34,"td"),gt.Rb(35,"app-input-text",7),gt.Vb(),gt.Vb(),gt.Wb(36,"tr"),gt.Wb(37,"th",2),gt.Wb(38,"sup"),gt.Pc(39,"User Name"),gt.Vb(),gt.Vb(),gt.Wb(40,"td"),gt.Rb(41,"app-input-text",8),gt.Vb(),gt.Vb(),gt.Wb(42,"tr"),gt.Wb(43,"th",2),gt.Pc(44,"User Name (EN)"),gt.Vb(),gt.Wb(45,"td"),gt.Wb(46,"div",9),gt.Rb(47,"app-input-text",10),gt.Wb(48,"span",11),gt.Pc(49,"/"),gt.Vb(),gt.Rb(50,"app-input-text",12),gt.Vb(),gt.Vb(),gt.Vb(),gt.Wb(51,"tr"),gt.Wb(52,"th",2),gt.Wb(53,"sup"),gt.Pc(54,"Dep. Name"),gt.Vb(),gt.Vb(),gt.Wb(55,"td"),gt.Rb(56,"app-auto-complete",13),gt.Vb(),gt.Vb(),gt.Wb(57,"tr"),gt.Wb(58,"th",2),gt.Wb(59,"sup"),gt.Pc(60,"Position Name"),gt.Vb(),gt.Vb(),gt.Wb(61,"td"),gt.Rb(62,"app-auto-complete",14),gt.Vb(),gt.Vb(),gt.Wb(63,"tr"),gt.Wb(64,"th",2),gt.Pc(65,"Country Phone No."),gt.Vb(),gt.Wb(66,"td"),gt.Rb(67,"app-input-text",15),gt.Vb(),gt.Vb(),gt.Wb(68,"tr"),gt.Wb(69,"th",2),gt.Pc(70,"Comp. Phone No."),gt.Vb(),gt.Wb(71,"td"),gt.Rb(72,"app-input-text",16),gt.Vb(),gt.Vb(),gt.Wb(73,"tr"),gt.Wb(74,"th",2),gt.Pc(75,"Mobile No."),gt.Vb(),gt.Wb(76,"td"),gt.Rb(77,"app-input-text",17),gt.Vb(),gt.Vb(),gt.Wb(78,"tr"),gt.Wb(79,"th",2),gt.Wb(80,"sup"),gt.Pc(81,"Email Address"),gt.Vb(),gt.Vb(),gt.Wb(82,"td"),gt.Wb(83,"div",9),gt.Rb(84,"app-input-text",18),gt.Vb(),gt.Vb(),gt.Vb(),gt.Wb(85,"tr"),gt.Wb(86,"th",2),gt.Pc(87,"In Charge Station"),gt.Vb(),gt.Wb(88,"td"),gt.Rb(89,"app-selectbox-detailcode",19),gt.Vb(),gt.Vb(),gt.Wb(90,"tr"),gt.Wb(91,"th",2),gt.Pc(92,"In Charge Category"),gt.Vb(),gt.Wb(93,"td"),gt.Rb(94,"app-selectbox-detailcode",20),gt.Vb(),gt.Vb(),gt.Wb(95,"tr"),gt.Wb(96,"th",2),gt.Wb(97,"sup"),gt.Pc(98,"Role"),gt.Vb(),gt.Vb(),gt.Wb(99,"td"),gt.Rb(100,"app-selectbox-detailcode",21),gt.Vb(),gt.Vb(),gt.Wb(101,"tr"),gt.Wb(102,"th",2),gt.Wb(103,"sup"),gt.Pc(104,"Privacy Info Manage"),gt.Vb(),gt.Vb(),gt.Wb(105,"td"),gt.Rb(106,"app-selectbox-detailcode",22),gt.Vb(),gt.Vb(),gt.Wb(107,"tr"),gt.Wb(108,"th",2),gt.Wb(109,"sup"),gt.Pc(110,"Manage User YN"),gt.Vb(),gt.Vb(),gt.Wb(111,"td"),gt.Wb(112,"div",9),gt.Rb(113,"app-radio",23),gt.Rb(114,"app-radio",24),gt.Vb(),gt.Vb(),gt.Vb(),gt.Wb(115,"tr"),gt.Wb(116,"th",2),gt.Wb(117,"sup"),gt.Pc(118,"Password"),gt.Vb(),gt.Vb(),gt.Wb(119,"td"),gt.Wb(120,"div",9),gt.Rb(121,"app-input-text",25),gt.Vb(),gt.Vb(),gt.Vb(),gt.Wb(122,"tr"),gt.Wb(123,"th",2),gt.Pc(124,"Control Remark"),gt.Vb(),gt.Wb(125,"td"),gt.Rb(126,"app-input-text",26),gt.Vb(),gt.Vb(),gt.Vb(),gt.Vb(),gt.Vb(),gt.Wb(127,"div",27),gt.Wb(128,"button",28),gt.fc("click",(function(){return t.onSubmit()})),gt.Pc(129,"Save"),gt.Vb(),gt.Vb()),2&e&&(gt.pc("formGroup",t.putForm)("connectForm",t.putFormData),gt.Cb(12),gt.pc("isInvalid",t.checkIsInvalid("userNo")),gt.Cb(6),gt.pc("isInvalid",t.checkIsInvalid("userId")),gt.Cb(6),gt.pc("options",t.userStatusList)("isInvalid",t.checkIsInvalid("userStatusCode")),gt.Cb(6),gt.pc("options",t.compCodeList)("isInvalid",t.checkIsInvalid("compCode")),gt.Cb(5),gt.pc("isInvalid",t.checkIsInvalid("staffNo")),gt.Cb(6),gt.pc("isInvalid",t.checkIsInvalid("name")),gt.Cb(6),gt.pc("inputFormat","uppserCaseEnOnly")("isInvalid",t.checkIsInvalid("lastName")),gt.Cb(3),gt.pc("isInvalid",t.checkIsInvalid("firstName")),gt.Cb(6),gt.pc("inputFieldValue",t.deptNameInput)("isInvalid",t.checkIsInvalid("deptCode"))("apiSearchTerm","compBasisCodeName")("apiCondition",gt.uc(41,xt,t.putForm.get("compCode").value||11e4))("inputFieldFormatKeyList",gt.tc(43,Tt))("isInvalid",t.checkIsInvalid("deptCode")),gt.Cb(6),gt.pc("inputFieldValue",t.positionNameInput)("inputId","positionGroupInput")("apiSearchTerm","compBasisCodeName")("apiCondition",gt.uc(44,Yt,t.putForm.get("compCode").value||11e4))("inputFieldFormatKeyList",gt.tc(46,Tt))("isInvalid",t.checkIsInvalid("positionCode")),gt.Cb(5),gt.pc("isInvalid",t.checkIsInvalid("countryPhoneCode")),gt.Cb(5),gt.pc("isInvalid",t.checkIsInvalid("compPhoneNo")),gt.Cb(5),gt.pc("isInvalid",t.checkIsInvalid("mobileNo")),gt.Cb(7),gt.pc("isInvalid",t.checkIsInvalid("emailAddress")),gt.Cb(5),gt.pc("options",t.stationList)("isInvalid",t.checkIsInvalid("inChargeStationTypeCode")),gt.Cb(5),gt.pc("options",t.categoryList)("isInvalid",t.checkIsInvalid("inChargeCategoryCode")),gt.Cb(6),gt.pc("options",t.roleList)("isInvalid",t.checkIsInvalid("roleSeq")),gt.Cb(6),gt.pc("options",t.manageList)("isInvalid",t.checkIsInvalid("privacyInfoManageCode")),gt.Cb(7),gt.pc("value",!0),gt.Cb(1),gt.pc("value",!1),gt.Cb(7),gt.pc("isInvalid",t.checkIsInvalid("userPassword")),gt.Cb(5),gt.pc("isInvalid",t.checkIsInvalid("controlRemark")))},directives:[o.B,o.s,o.k,It.a,Vt.a,o.r,o.i,Nt.a,Pt.a,Ct.a,Mt.a],encapsulation:2,changeDetection:0}),xe),Kt=function(){return["airlineCode","airlineNameLn"]},Ht=function(e){return["airlineMemberships",e,"airlineCode"]},Gt=function(e){return["airlineMemberships",e,"membershipNo"]};function zt(e,t){if(1&e){var i=gt.Xb();gt.Ub(0,10),gt.Wb(1,"tr"),gt.Wb(2,"td",11),gt.Pc(3),gt.Vb(),gt.Wb(4,"td"),gt.Rb(5,"app-auto-complete",12),gt.Vb(),gt.Wb(6,"td"),gt.Rb(7,"app-input-text",13),gt.Vb(),gt.Wb(8,"td"),gt.Pc(9),gt.Vb(),gt.Wb(10,"td",11),gt.Wb(11,"a",4),gt.fc("click",(function(){gt.Fc(i);var e=t.$implicit,n=t.index;return gt.hc().onClickDel(e.get("rowid").value,n)})),gt.Pc(12,"\uc0ad\uc81c"),gt.Vb(),gt.Vb(),gt.Vb(),gt.Tb()}if(2&e){var n=t.$implicit,a=t.index,o=gt.hc();gt.pc("formGroupName",a),gt.Cb(3),gt.Qc((a+1).toString()),gt.Cb(2),gt.pc("inputFieldValue",o.airlineInputList[a]||"")("apiSearchTerm","keyword")("inputFieldFormatKeyList",gt.tc(8,Kt))("isInvalid",o.checkIsInvalid(gt.uc(9,Ht,a))),gt.Cb(2),gt.pc("isInvalid",o.checkIsInvalid(gt.uc(11,Gt,a))),gt.Cb(2),gt.Qc(o.getAllianceName(n.get("rowid").value))}}var qt,Qt,Xt=((qt=function(){function e(t,i,n){_classCallCheck(this,e),this._dataService=t,this.alertService=i,this.cd=n,this.submitEvent=new gt.n,this.removeEvent=new gt.n,this.unsubscribe$=new k.a,this.upsertForm=this._dataService.generateMembershipPutForm(),this._initSubscription()}return _createClass(e,[{key:"removeSuccessYn",get:function(){return this._removeSuccessYn},set:function(e){this._removeSuccessYn=e,W.isNil(this.selectedRemoveIndex)||(this.airlineMemberships.removeAt(this.selectedRemoveIndex),this.selectedRemoveIndex=null)}},{key:"membershipList",get:function(){return this._membershipList},set:function(e){this._membershipList=e,this._setFormArray(e),this.upsertFormData=this._setUpsertFormData(e),this._initState(e),this.cd.markForCheck()}},{key:"airlineMemberships",get:function(){var e;return null===(e=this.upsertForm)||void 0===e?void 0:e.get("airlineMemberships")}},{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(),this.unsubscribe$.complete()}},{key:"onClickAdd",value:function(){this.airlineMemberships.push(this._dataService.generateMembershipItemPutForm())}},{key:"onClickDel",value:function(e,t){W.isNil(e)?this.airlineMemberships.removeAt(t):(this.selectedRemoveIndex=t,this.removeEvent.emit(e))}},{key:"onSubmit",value:function(){if(this.upsertForm.invalid)this.checkValid=!0;else{var e=this._setFormCondition();this.submitEvent.emit(e),this.checkValid=!1}}},{key:"checkIsInvalid",value:function(e){return this.checkValid&&this.upsertForm.get(e)&&this.upsertForm.get(e).invalid}},{key:"getAllianceName",value:function(e){return W.get(this.allianceCollection,e,"-")}},{key:"_setUpsertFormData",value:function(e){var t=this.userNo,i=Object.assign(this._dataService.initMembershipItemPutFormData(),{userNo:t});return W.isEmpty(e)?{airlineMemberships:[i]}:{airlineMemberships:e.map((function(e){return Object.assign({},i,W.pick(e,Object.keys(i)))}))}}},{key:"_setFormArray",value:function(e){var t=this;this.airlineMemberships.clear(),W.isEmpty(e)?this.airlineMemberships.push(this._dataService.generateMembershipItemPutForm()):e.forEach((function(){t.airlineMemberships.push(t._dataService.generateMembershipItemPutForm())}))}},{key:"_setFormCondition",value:function(){var e=this;return this.airlineMemberships.getRawValue().map((function(t){var i=Object.assign({},t,{userNo:e.userNo});return W.isNil(i.rowid)?W.omit(i,["rowid"]):i}))}},{key:"_initState",value:function(e){var t=this;this.airlineInputList=[],this.allianceCollection={},W.isEmpty(e)||e.forEach((function(e,i){t.airlineInputList.push(e.airlineCode+" - "+e.airlineNameLn),t.allianceCollection[e.rowid]=e.allianceName}))}},{key:"_initSubscription",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||qt)(gt.Qb(kt),gt.Qb(wt.a),gt.Qb(gt.h))},qt.\u0275cmp=gt.Kb({type:qt,selectors:[["app-cp-staff-membership"]],inputs:{userNo:"userNo",removeSuccessYn:"removeSuccessYn",membershipList:"membershipList"},outputs:{submitEvent:"submitEvent",removeEvent:"removeEvent"},decls:32,vars:3,consts:[[1,"page-item"],[1,"page-item-header"],[1,"title"],[1,"control"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"table","table-hover","table-bordered",3,"formGroup","connectForm"],["width","90px"],["scope","col",1,"align-c"],["formArrayName","airlineMemberships"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],[1,"align-c"],["formControlName","airlineCode","apiUrl","common/airline","dataKey","airlineCode","inputFieldFormat","{0} - &{1}","placeholder","\ud56d\uacf5\uc0ac \uac80\uc0c9",3,"inputFieldValue","apiSearchTerm","inputFieldFormatKeyList","isInvalid"],["formControlName","membershipNo","placeholder","\ub9c8\uc77c\ub9ac\uc9c0\uce74\ub4dc \uc785\ub825",3,"isInvalid"]],template:function(e,t){1&e&&(gt.Wb(0,"div",0),gt.Wb(1,"div",1),gt.Wb(2,"p",2),gt.Pc(3,"\ud56d\uacf5 \ub9c8\uc77c\ub9ac\uc9c0 \uc815\ubcf4"),gt.Vb(),gt.Wb(4,"div",3),gt.Wb(5,"a",4),gt.fc("click",(function(){return t.onClickAdd()})),gt.Pc(6,"\ucd94\uac00"),gt.Vb(),gt.Wb(7,"a",4),gt.fc("click",(function(){return t.onSubmit()})),gt.Pc(8,"\uc800\uc7a5"),gt.Vb(),gt.Vb(),gt.Vb(),gt.Wb(9,"form",5),gt.Wb(10,"table"),gt.Wb(11,"caption"),gt.Pc(12," \ud56d\uacf5 \ub9c8\uc77c\ub9ac\uc9c0 \uc815\ubcf4 "),gt.Vb(),gt.Wb(13,"colgroup"),gt.Rb(14,"col"),gt.Rb(15,"col"),gt.Rb(16,"col"),gt.Rb(17,"col"),gt.Rb(18,"col",6),gt.Vb(),gt.Wb(19,"thead"),gt.Wb(20,"tr"),gt.Wb(21,"th",7),gt.Pc(22,"No."),gt.Vb(),gt.Wb(23,"th",7),gt.Pc(24,"\ud56d\uacf5\uc0ac"),gt.Vb(),gt.Wb(25,"th",7),gt.Pc(26,"\ub9c8\uc77c\ub9ac\uc9c0\uce74\ub4dc\ubc88\ud638"),gt.Vb(),gt.Wb(27,"th",7),gt.Pc(28,"\ud56d\uacf5\ub3d9\ub9f9\uccb4"),gt.Vb(),gt.Rb(29,"th",7),gt.Vb(),gt.Vb(),gt.Wb(30,"tbody",8),gt.Nc(31,zt,13,13,"ng-container",9),gt.Vb(),gt.Vb(),gt.Vb(),gt.Vb()),2&e&&(gt.Cb(9),gt.pc("formGroup",t.upsertForm)("connectForm",t.upsertFormData),gt.Cb(22),gt.pc("ngForOf",t.airlineMemberships.controls))},directives:[o.B,o.s,o.k,It.a,o.e,a.n,o.l,Ct.a,o.r,o.i,Vt.a],encapsulation:2,changeDetection:0}),qt),Jt=i("UIHd"),Zt=i("7G9D"),ei=i("kDLv"),ti=((Qt=function(){function e(t,i,a,o,s){_classCallCheck(this,e),this.store=t,this._dataService=i,this._fileService=a,this.alertService=o,this.authStore=s,this._$unsubscribe=new k.a,this.tabIndex=0,this.positionList$=t.pipe(Object(r.u)(Ke)),this.corporateDeptList$=t.pipe(Object(r.u)(He)),this.userStatusList$=t.pipe(Object(r.u)(Ge)),this.countryList$=t.pipe(Object(r.u)(ze)),this.allianceList$=t.pipe(Object(r.u)(qe)),this.userTypeList$=t.pipe(Object(r.u)(Qe)),this.compCodeList$=t.pipe(Object(r.u)(it)),this.stationList$=t.pipe(Object(r.u)(nt)),this.categoryList$=t.pipe(Object(r.u)(at)),this.roleList$=t.pipe(Object(r.u)(ot)),this.manageList$=t.pipe(Object(r.u)(Xe)),this.selectedDetailRowItem$=t.pipe(Object(r.u)(dt)),this.removeMembershipSuccessYn$=t.pipe(Object(r.u)(ht)),this.store.dispatch(n.loadStationList({condition:{masterCode:"BS002"}})),this.store.dispatch(n.loadCategoryList({condition:{masterCode:"BS003"}})),this._initSubscription()}return _createClass(e,[{key:"ngAfterContentInit",value:function(){}},{key:"ngOnDestroy",value:function(){this._$unsubscribe.next(),this._$unsubscribe.complete()}},{key:"onChangeTab",value:function(e){this.tabIndex!==e&&this.userNo&&(this.tabIndex=e)}},{key:"saveMasterHandler",value:function(e){this.store.dispatch(n.upsertMasterAction({upsertCondition:e}))}},{key:"saveMembershipHandler",value:function(e){this.store.dispatch(n.upsertMembershipAction({upsertCondition:{airlineMemberships:e}}))}},{key:"removeMembershipHandler",value:function(e){this.store.dispatch(n.removeMembershipAction({rowids:[e]}))}},{key:"_initSubscription",value:function(){var e=this;this.store.dispatch(n.compList({condition:{compTypeCodes:["CMP01"],limits:[0,50]}})),this.selectedDetailRowItem$.pipe(Object(V.a)(this._$unsubscribe)).subscribe((function(t){e.userNo=W.isEmpty(t)?null:t.userNo}))}}]),e}()).\u0275fac=function(e){return new(e||Qt)(gt.Qb(r.h),gt.Qb(kt),gt.Qb(Zt.a),gt.Qb(wt.a),gt.Qb(r.h))},Qt.\u0275cmp=gt.Kb({type:Qt,selectors:[["app-cp-staff-detail"]],inputs:{selectedCorporateInfo:"selectedCorporateInfo",manageList:"manageList"},decls:14,vars:37,consts:[[1,"tab-pane","max-80vh","active"],[3,"corporateInfo","positionList","corporateDeptList","userStatusList","countryList","allianceList","userTypeList","masterItem","compCodeList","stationList","categoryList","roleList","manageList","submitEvent"]],template:function(e,t){1&e&&(gt.Wb(0,"div",0),gt.Wb(1,"app-cp-staff-master",1),gt.fc("submitEvent",(function(e){return t.saveMasterHandler(e)})),gt.ic(2,"async"),gt.ic(3,"async"),gt.ic(4,"async"),gt.ic(5,"async"),gt.ic(6,"async"),gt.ic(7,"async"),gt.ic(8,"async"),gt.ic(9,"async"),gt.ic(10,"async"),gt.ic(11,"async"),gt.ic(12,"async"),gt.ic(13,"async"),gt.Vb(),gt.Vb()),2&e&&(gt.Cb(1),gt.pc("corporateInfo",t.selectedCorporateInfo)("positionList",gt.jc(2,13,t.positionList$))("corporateDeptList",gt.jc(3,15,t.corporateDeptList$))("userStatusList",gt.jc(4,17,t.userStatusList$))("countryList",gt.jc(5,19,t.countryList$))("allianceList",gt.jc(6,21,t.allianceList$))("userTypeList",gt.jc(7,23,t.userTypeList$))("masterItem",gt.jc(8,25,t.selectedDetailRowItem$))("compCodeList",gt.jc(9,27,t.compCodeList$))("stationList",gt.jc(10,29,t.stationList$))("categoryList",gt.jc(11,31,t.categoryList$))("roleList",gt.jc(12,33,t.roleList$))("manageList",gt.jc(13,35,t.manageList$)))},directives:[Bt],pipes:[a.b],encapsulation:2,changeDetection:0}),Qt);function ii(e,t){1&e&&(gt.Wb(0,"span"),gt.Pc(1,"Y"),gt.Vb())}function ni(e,t){1&e&&(gt.Wb(0,"span"),gt.Pc(1,"N"),gt.Vb())}function ai(e,t){if(1&e&&(gt.Nc(0,ii,2,0,"span",11),gt.Nc(1,ni,2,0,"span",11)),2&e){var i=t.$implicit;gt.pc("ngIf",!0===i.manageUserYn),gt.Cb(1),gt.pc("ngIf",!1===i.manageUserYn)}}function oi(e,t){if(1&e&&gt.Rb(0,"app-cp-staff-detail",12),2&e){var i=gt.hc();gt.pc("selectedCorporateInfo",i.selectedCorporateInfo)}}function si(e,t){if(1&e){var i=gt.Xb();gt.Wb(0,"app-cp-staff-bulk",13),gt.fc("submitEvent",(function(e){return gt.Fc(i),gt.hc().submitBulkUpdateHandler(e)}))("closeEvent",(function(){return gt.Fc(i),gt.hc().closeBulkUpdatePopupHandler()})),gt.ic(1,"async"),gt.ic(2,"async"),gt.ic(3,"async"),gt.Vb()}if(2&e){var n=gt.hc();gt.pc("roleList",gt.jc(1,3,n.roleList$))("positionList",gt.jc(2,5,n.positionList$))("userStatusList",gt.jc(3,7,n.userStatusList$))}}function ri(e,t){if(1&e){var i=gt.Xb();gt.Wb(0,"app-cp-staff-upload",14),gt.fc("downloadEvent",(function(){return gt.Fc(i),gt.hc().downloadSampleHandler()}))("uploadEvent",(function(e){return gt.Fc(i),gt.hc().uploadExcelHandler(e)}))("closeEvent",(function(){return gt.Fc(i),gt.hc().closeUploadPopupHandler()})),gt.Vb()}}var ci,li,ui,pi,di=function(e){return{ynTpl:e}},bi=((ci=function(){function e(t,i,n,a){_classCallCheck(this,e),this.store=t,this._dataService=i,this.alertService=n,this.fileService=a,this._$unsubscribe=new k.a,this.positionGroupList$=t.pipe(Object(r.u)(Be)),this.positionList$=t.pipe(Object(r.u)(Ke)),this.corporateDeptList$=t.pipe(Object(r.u)(He)),this.userStatusList$=t.pipe(Object(r.u)(Ge)),this.countryList$=t.pipe(Object(r.u)(ze)),this.allianceList$=t.pipe(Object(r.u)(qe)),this.manageList$=t.pipe(Object(r.u)(Xe)),this.loading$=t.pipe(Object(r.u)(Je)),this.reloadToggle$=t.pipe(Object(r.u)(Ze)),this.searchCondition$=t.pipe(Object(r.u)(et)),this.otherSearchInfo$=t.pipe(Object(r.u)(tt)),this.compCodeList$=t.pipe(Object(r.u)(it)),this.roleList$=t.pipe(Object(r.u)(ot)),this.gridDataList$=t.pipe(Object(r.u)(st)),this.listPageSize$=t.pipe(Object(r.u)(ut)),this.gridState$=t.pipe(Object(r.u)(rt)),this.gridCheckedState$=t.pipe(Object(r.u)(ct)),this.gridDataTotalCount$=t.pipe(Object(r.u)(lt)),this.isOpenDetailPopup$=t.pipe(Object(r.u)(pt)),this.selectedRowItem$=t.pipe(Object(r.u)(dt)),this.isOpenBulkUpdatePopup$=t.pipe(Object(r.u)(bt)),this.isOpenUploadPopup$=t.pipe(Object(r.u)(ft)),this.columns=this._dataService.generateGridColumns(),this._initSubscription()}return _createClass(e,[{key:"selectedCorporateInfo",get:function(){var e,t,i,n;return{corporateCompCode:(null===(t=null===(e=this.searchFormEl)||void 0===e?void 0:e.formValue)||void 0===t?void 0:t.compCode)||null,corporateCompName:(null===(n=null===(i=this.searchFormEl)||void 0===i?void 0:i.formValue)||void 0===n?void 0:n.compName)||null}}},{key:"ngOnInit",value:function(){this.store.dispatch(n.compList({condition:{compTypeCodes:["CMP01"],limits:[0,50]}})),this.store.dispatch(n.loadPrivacyInfoManageList({condition:{masterCode:"US013"}})),this.store.dispatch(n.loadRoleList({condition:{useYn:!0}})),this.store.dispatch(n.loadUserStatusList()),this.store.dispatch(n.loadCountryList()),this.store.dispatch(n.loadAllianceList())}},{key:"ngOnDestroy",value:function(){this._$unsubscribe.next(),this._$unsubscribe.complete(),this.store.dispatch(n.initComponent()),this.store.dispatch(n.setGridCheckStateAction({gridCheckedState:this.gridEl.checkedStateOutput}))}},{key:"fetchPositionGroupHandler",value:function(e){var t=e.corporateCompCode;W.isNil(t)?this.store.dispatch(n.loadPositionGroupListSuccess({dataList:null})):this.store.dispatch(n.loadPositionGroupList({condition:{corporateCompCode:t,limits:[0,1e6]}}))}},{key:"fetchPositionHandler",value:function(e){var t=e.corporateCompCode;W.isNil(t)?this.store.dispatch(n.loadPositionListSuccess({dataList:null})):this.store.dispatch(n.loadPositionList({condition:{compCode:t,compBasisCodeType:"COB02",limits:[0,1e6]}}))}},{key:"fetchCorporateDeptHandler",value:function(e){var t=e.corporateCompCode;W.isNil(t)?this.store.dispatch(n.loadCorporateDeptListSuccess({dataList:null})):this.store.dispatch(n.loadCorporateDeptList({condition:{compCode:t,limits:[0,1e6]}}))}},{key:"changePageSizeHandler",value:function(e){this.store.dispatch(n.changePageSize({pageSize:e}))}},{key:"clickSearchHandler",value:function(e){var t=e.searchCondition,i=e.otherSearchInfo;this.store.dispatch(n.changeSearchCondition({searchCondition:t,otherSearchInfo:i})),this.store.dispatch(n.changePageIndex({pageIndex:0}))}},{key:"clickResetHandler",value:function(){this.store.dispatch(n.changeSearchCondition({searchCondition:{},otherSearchInfo:null}))}},{key:"gridStateChangeHandler",value:function(e){this.store.dispatch(n.setGridStateAction({gridState:e}))}},{key:"clickAddHandler",value:function(){this.searchFormEl.searchFormValid?(this.store.dispatch(n.addSelectedDetailRowInfo({selectedDetailRowInfo:null})),this.openDetailPopupHandler()):this.alertService.alert("Please set the search criteria for the company name.")}},{key:"dbClickRowHandler",value:function(e){this.searchFormEl.searchFormValid?(this.store.dispatch(n.addSelectedDetailRowInfo({selectedDetailRowInfo:W.cloneDeep(e)})),this.openDetailPopupHandler()):this.alertService.alert("Please set the search criteria for the company name.")}},{key:"openDetailPopupHandler",value:function(){this.store.dispatch(n.openDetailPopup())}},{key:"closeDetailPopupHandler",value:function(){this.store.dispatch(n.closeDetailPopup()),this.store.dispatch(n.delSelectedDetailRowInfo())}},{key:"clickBulkUpdateHandler",value:function(){this.gridEl.checkedDataList.length<1?this.alertService.alert("No data is selected."):this.openBulkUpdatePopupHandler()}},{key:"openBulkUpdatePopupHandler",value:function(){this.store.dispatch(n.openBulkUpdatePopup())}},{key:"closeBulkUpdatePopupHandler",value:function(){this.store.dispatch(n.closeBulkUpdatePopup())}},{key:"submitBulkUpdateHandler",value:function(e){var t=this.gridEl.checkedDataList.map((function(e){return e.rowid})),i=Object.assign(Object.assign({},e),{rowids:t});this.store.dispatch(n.bulkUpdateAction({condition:i}))}},{key:"submitUpsertHandler",value:function(e){this.store.dispatch(n.upsertMasterAction({upsertCondition:e}))}},{key:"clickUploadHandler",value:function(){this.searchFormEl.searchFormValid?this.openUploadPopupHandler():this.alertService.alert("Please set the search criteria for the company name.")}},{key:"openUploadPopupHandler",value:function(){this.store.dispatch(n.openUploadPopup())}},{key:"closeUploadPopupHandler",value:function(){this.store.dispatch(n.closeUploadPopup())}},{key:"downloadSampleHandler",value:function(){this.fileService.fileDownload({url:vt.templateDownload,filename:"corporate-staff-sample",type:"excel"})}},{key:"uploadExcelHandler",value:function(e){var t=this;this.fileService.fileUpload("".concat(vt.putUpload,"/").concat(this.selectedCorporateInfo.corporateCompCode),{file:e}).subscribe((function(e){t.alertService.alert(!0===e.succeedYn?{message:"Upload completed.",accept:function(){t.store.dispatch(n.reloadList()),t.store.dispatch(n.closeUploadPopup())}}:"An error occurred while uploading. Please try again later.")}),(function(e){t.alertService.alert("An error occurred while uploading. Please try again later.")}))}},{key:"_initSubscription",value:function(){var e=this;this.reloadToggle$.pipe(Object(P.a)(1),Object(V.a)(this._$unsubscribe)).subscribe((function(){e.searchFormEl.searchFormValid&&e.searchFormEl.onSubmit()})),Object(I.a)([this.searchCondition$,this.gridState$]).pipe(Object(N.a)(200),Object(P.a)(1),Object(_.a)((function(e){var t=_slicedToArray(e,1)[0];return!W.isEmpty(t)})),Object(V.a)(this._$unsubscribe)).subscribe((function(t){var i=_slicedToArray(t,2),a=i[0],o=i[1].pageInfo,s=Object.assign({},a,{limits:[o.skip,o.skip+o.take]});e.store.dispatch(n.loadList({condition:s}))}))}}]),e}()).\u0275fac=function(e){return new(e||ci)(gt.Qb(r.h),gt.Qb(kt),gt.Qb(wt.a),gt.Qb(Zt.a))},ci.\u0275cmp=gt.Kb({type:ci,selectors:[["app-cp-staff-list"]],viewQuery:function(e,t){var i;1&e&&(gt.Xc(Et,!0),gt.Xc(Jt.a,!0)),2&e&&(gt.Dc(i=gt.gc())&&(t.searchFormEl=i.first),gt.Dc(i=gt.gc())&&(t.gridEl=i.first))},decls:32,vars:69,consts:[[3,"userStatusList","otherSearchInfo","searchCondition","compCodeList","manageList","roleList","fetchPositionGroupEvent","fetchPositionEvent","fetchCorporateDeptEvent","clickSearchEvent","clickResetEvent"],[3,"loading","currentPageSize","totalCount","fileButtonDisabled","clickAddEvent","clickBulkUpdateEvent","clickUploadEvent","changePageSizeEvent"],["ynTpl",""],[3,"gridLoading","columns","gridState","checkedState","totalCount","dataList","templates","stateChangeEvent","dbClickRowEvent"],["gridEl",""],["modalSize","sm","header","Control Staff Info",3,"visible","modal","hasScroll","visibleChange"],[3,"selectedCorporateInfo",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","Modify Roles in Bulk",3,"visible","modal","visibleChange"],[3,"roleList","positionList","userStatusList","submitEvent","closeEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","\uae30\uc5c5\uccb4\uc9c1\uc6d0 \uc5d1\uc140\ub85c \ub4f1\ub85d\ud558\uae30",3,"visible","modal","visibleChange"],[3,"downloadEvent","uploadEvent","closeEvent",4,"ngIf"],[4,"ngIf"],[3,"selectedCorporateInfo"],[3,"roleList","positionList","userStatusList","submitEvent","closeEvent"],[3,"downloadEvent","uploadEvent","closeEvent"]],template:function(e,t){if(1&e&&(gt.Wb(0,"app-cp-staff-search",0),gt.fc("fetchPositionGroupEvent",(function(e){return t.fetchPositionGroupHandler(e)}))("fetchPositionEvent",(function(e){return t.fetchPositionHandler(e)}))("fetchCorporateDeptEvent",(function(e){return t.fetchCorporateDeptHandler(e)}))("clickSearchEvent",(function(e){return t.clickSearchHandler(e)}))("clickResetEvent",(function(){return t.clickResetHandler()})),gt.ic(1,"async"),gt.ic(2,"async"),gt.ic(3,"async"),gt.ic(4,"async"),gt.ic(5,"async"),gt.ic(6,"async"),gt.Vb(),gt.Wb(7,"app-cp-staff-control",1),gt.fc("clickAddEvent",(function(){return t.clickAddHandler()}))("clickBulkUpdateEvent",(function(){return t.clickBulkUpdateHandler()}))("clickUploadEvent",(function(){return t.clickUploadHandler()}))("changePageSizeEvent",(function(e){return t.changePageSizeHandler(e)})),gt.ic(8,"async"),gt.ic(9,"async"),gt.ic(10,"async"),gt.Vb(),gt.Nc(11,ai,2,2,"ng-template",null,2,gt.Oc),gt.Wb(13,"app-grid-simple",3,4),gt.fc("stateChangeEvent",(function(e){return t.gridStateChangeHandler(e)}))("dbClickRowEvent",(function(e){return t.dbClickRowHandler(e)})),gt.ic(15,"async"),gt.ic(16,"async"),gt.ic(17,"async"),gt.ic(18,"async"),gt.ic(19,"async"),gt.Vb(),gt.Wb(20,"app-dialog",5),gt.fc("visibleChange",(function(){return t.closeDetailPopupHandler()})),gt.ic(21,"async"),gt.Nc(22,oi,1,1,"app-cp-staff-detail",6),gt.ic(23,"async"),gt.Vb(),gt.Wb(24,"app-dialog",7),gt.fc("visibleChange",(function(){return t.closeBulkUpdatePopupHandler()})),gt.ic(25,"async"),gt.Nc(26,si,4,9,"app-cp-staff-bulk",8),gt.ic(27,"async"),gt.Vb(),gt.Wb(28,"app-dialog",9),gt.fc("visibleChange",(function(){return t.closeUploadPopupHandler()})),gt.ic(29,"async"),gt.Nc(30,ri,1,0,"app-cp-staff-upload",10),gt.ic(31,"async"),gt.Vb()),2&e){var i=gt.Ec(12);gt.pc("userStatusList",gt.jc(1,27,t.userStatusList$))("otherSearchInfo",gt.jc(2,29,t.otherSearchInfo$))("searchCondition",gt.jc(3,31,t.searchCondition$))("compCodeList",gt.jc(4,33,t.compCodeList$))("manageList",gt.jc(5,35,t.manageList$))("roleList",gt.jc(6,37,t.roleList$)),gt.Cb(7),gt.pc("loading",gt.jc(8,39,t.loading$))("currentPageSize",gt.jc(9,41,t.listPageSize$))("totalCount",gt.jc(10,43,t.gridDataTotalCount$))("fileButtonDisabled",!t.selectedCorporateInfo),gt.Cb(6),gt.pc("gridLoading",gt.jc(15,45,t.loading$))("columns",t.columns)("gridState",gt.jc(16,47,t.gridState$))("checkedState",gt.jc(17,49,t.gridCheckedState$))("totalCount",gt.jc(18,51,t.gridDataTotalCount$))("dataList",gt.jc(19,53,t.gridDataList$))("templates",gt.uc(67,di,i)),gt.Cb(7),gt.pc("visible",gt.jc(21,55,t.isOpenDetailPopup$))("modal",!0)("hasScroll",!1),gt.Cb(2),gt.pc("ngIf",gt.jc(23,57,t.isOpenDetailPopup$)),gt.Cb(2),gt.pc("visible",gt.jc(25,59,t.isOpenBulkUpdatePopup$))("modal",!0),gt.Cb(2),gt.pc("ngIf",gt.jc(27,61,t.isOpenBulkUpdatePopup$)),gt.Cb(2),gt.pc("visible",gt.jc(29,63,t.isOpenUploadPopup$))("modal",!0),gt.Cb(2),gt.pc("ngIf",gt.jc(31,65,t.isOpenUploadPopup$))}},directives:[Et,$t,Jt.a,ei.a,a.o,ti,Ut,At],pipes:[a.b],encapsulation:2,changeDetection:0}),ci),fi=[{path:"",component:bi,data:{title:"\uae30\uc5c5\uccb4 \uc9c1\uc6d0\uad00\ub9ac"}}],hi=((li=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=gt.Ob({type:li}),li.\u0275inj=gt.Nb({factory:function(e){return new(e||li)},imports:[[L.f.forChild(fi)],L.f]}),li),mi=i("lJxs"),vi=i("JIr8"),gi=i("bOdf"),Ci=i("zp1y"),Oi=i("IzEk"),yi=i("vkgz"),ji=i("Xb6A"),Si=((ui=function(){function e(t,i,a,o,c){var l=this;_classCallCheck(this,e),this.actions$=t,this.service=i,this._errorService=a,this.alertService=o,this.store=c,this.loadPositionGroupList$=Object(s.c)((function(){return l.actions$.pipe(Object(s.d)(n.loadPositionGroupList),Object(jt.a)((function(e){var t=e.condition;return l.service.getPositionGroupList(t).pipe(Object(mi.a)((function(e){return n.loadPositionGroupListSuccess({dataList:e})})),Object(vi.a)((function(e){var t="List lookup failed",i=[n.loadPositionGroupListFailure({error:t})];return l._catchErr(e,t,i),[]})))})))})),this.loadPositionList$=Object(s.c)((function(){return l.actions$.pipe(Object(s.d)(n.loadPositionList),Object(jt.a)((function(e){var t=e.condition;return l.service.getPositionList(t).pipe(Object(mi.a)((function(e){return n.loadPositionListSuccess({dataList:e})})),Object(vi.a)((function(e){var t="List lookup failed",i=[n.loadPositionListFailure({error:t})];return l._catchErr(e,t,i),[]})))})))})),this.loadCorporateDeptList$=Object(s.c)((function(){return l.actions$.pipe(Object(s.d)(n.loadCorporateDeptList),Object(jt.a)((function(e){var t=e.condition;return l.service.getCorporateDeptList(t).pipe(Object(mi.a)((function(e){return n.loadCorporateDeptListSuccess({dataList:e})})),Object(vi.a)((function(e){var t="List lookup failed",i=[n.loadCorporateDeptListFailure({error:t})];return l._catchErr(e,t,i),[]})))})))})),this.loadUserStatusList$=Object(s.c)((function(){return l.actions$.pipe(Object(s.d)(n.loadUserStatusList),Object(gi.a)((function(e){return Object(Ot.a)(e).pipe(Object(Ci.a)(l.userStatusList$))})),Object(jt.a)((function(e){var t=_slicedToArray(e,2),i=(t[0],t[1]);return W.isEmpty(i)?l.service.getDetailCode({masterCode:"US006"}).pipe(Object(mi.a)((function(e){return n.loadUserStatusListSuccess({dataList:e})})),Object(vi.a)((function(e){return l._catchErr(e,"List lookup failed"),[]}))):[]})))})),this.loadCountryList$=Object(s.c)((function(){return l.actions$.pipe(Object(s.d)(n.loadCountryList),Object(gi.a)((function(e){return Object(Ot.a)(e).pipe(Object(Ci.a)(l.countryList$))})),Object(jt.a)((function(e){var t=_slicedToArray(e,2),i=(t[0],t[1]);return W.isEmpty(i)?l.service.getCountryList({limits:[0,1e6]}).pipe(Object(mi.a)((function(e){return n.loadCountryListSuccess({dataList:e})})),Object(vi.a)((function(e){return l._catchErr(e,"List lookup failed"),[]}))):[]})))})),this.loadAllianceList$=Object(s.c)((function(){return l.actions$.pipe(Object(s.d)(n.loadAllianceList),Object(gi.a)((function(e){return Object(Ot.a)(e).pipe(Object(Ci.a)(l.allianceList$))})),Object(jt.a)((function(e){var t=_slicedToArray(e,2),i=(t[0],t[1]);return W.isEmpty(i)?l.service.getDetailCode({masterCode:"FL004"}).pipe(Object(mi.a)((function(e){return n.loadAllianceListSuccess({dataList:e})})),Object(vi.a)((function(e){return l._catchErr(e,"List lookup failed"),[]}))):[]})))})),this.getCompList$=Object(s.c)((function(){return l.actions$.pipe(Object(s.d)(n.compList),Object(gi.a)((function(e){return Object(Ot.a)(e).pipe(Object(Ci.a)(l.compCodeList$.pipe(Object(Oi.a)(1))))})),Object(jt.a)((function(e){var t=_slicedToArray(e,2),i=t[0].condition,a=t[1];return W.isNil(a)||0===a.length?l.service.getCompList(i).pipe(Object(mi.a)((function(e){return n.compListSuccess({dataList:e})})),Object(vi.a)((function(e){var t="List lookup failed. Please try again in a momentarily.",i=[n.loadCorporateDeptListFailure({error:t})];return l._catchErr(e,t,i),[]}))):Object(Ot.a)(n.compListSuccess({dataList:a}))})))})),this.loadList$=Object(s.c)((function(){return l.actions$.pipe(Object(s.d)(n.loadList),Object(jt.a)((function(e){var t=e.condition;return l.service.getList(t).pipe(Object(mi.a)((function(e){var t=e.dataList,i=e.totalCount;return n.getListSuccess({dataList:t,totalCount:i})})),Object(vi.a)((function(e){var t="List lookup failed. Please try again in a momentarily.",i=[n.getListFailure({error:t})];return l._catchErr(e,t,i),[]})))})))})),this.loadRoleList$=Object(s.c)((function(){return l.actions$.pipe(Object(s.d)(n.loadRoleList),Object(gi.a)((function(e){return Object(Ot.a)(e).pipe(Object(Ci.a)(l.roleList$.pipe(Object(Oi.a)(1))))})),Object(jt.a)((function(e){var t=_slicedToArray(e,2),i=t[0].condition,a=t[1];return W.isNil(a)||0===a.length?l.service.getRoleList(i).pipe(Object(mi.a)((function(e){return n.getRoleListSuccess({dataList:e})})),Object(vi.a)((function(e){return l._catchErr(e,"List lookup failed. Please try again in a momentarily.",[]),[]}))):Object(Ot.a)(n.getRoleListSuccess({dataList:a}))})))})),this.upsertItem$=Object(s.c)((function(){return l.actions$.pipe(Object(s.d)(n.upsertMasterAction),Object(jt.a)((function(e){var t=e.upsertCondition;return l.service.upsertItem(t).pipe(Object(mi.a)((function(e){return{succeedYn:!0,dataResult:e}})),Object(vi.a)((function(e){return Object(Ot.a)({succeedYn:!1,error:e})})))})),Object(yi.a)((function(e){var t=e.succeedYn,i=e.error;if(t){var a=[n.reloadList(),n.closeDetailPopup()];l._runPage("Your data has been saved.",a)}else l._catchErr(i,"Failed to save.")})))}),{dispatch:!1}),this.loadPrivacyInfoManageList$=Object(s.c)((function(){return l.actions$.pipe(Object(s.d)(n.loadPrivacyInfoManageList),Object(gi.a)((function(e){return Object(Ot.a)(e).pipe(Object(Ci.a)(l.manageList$.pipe(Object(Oi.a)(1))))})),Object(jt.a)((function(e){var t=_slicedToArray(e,2),i=t[0].condition,a=t[1];return W.isNil(a)||0===a.length?l.service.getDetailCode(i).pipe(Object(mi.a)((function(e){return n.getPrivacyInfoManageListSuccess({dataList:e})})),Object(vi.a)((function(e){return l._catchErr(e,"List lookup failed. Please try again in a momentarily.",[]),[]}))):Object(Ot.a)(n.getPrivacyInfoManageListSuccess({dataList:a}))})))})),this.loadStationListSuccess$=Object(s.c)((function(){return l.actions$.pipe(Object(s.d)(n.loadStationList),Object(jt.a)((function(e){var t=e.condition;return l.service.getDetailCode(t).pipe(Object(mi.a)((function(e){return n.loadStationListSuccess({dataList:e})})),Object(vi.a)((function(e){return l._catchErr(e,"List lookup failed. Please try again in a momentarily.",[]),[]})))})))})),this.loadCategoryListSuccess$=Object(s.c)((function(){return l.actions$.pipe(Object(s.d)(n.loadCategoryList),Object(jt.a)((function(e){var t=e.condition;return l.service.getDetailCode(t).pipe(Object(mi.a)((function(e){return n.loadCategoryListSuccess({dataList:e})})),Object(vi.a)((function(e){return l._catchErr(e,"List lookup failed. Please try again in a momentarily.",[]),[]})))})))})),this.bulkUpdate$=Object(s.c)((function(){return l.actions$.pipe(Object(s.d)(n.bulkUpdateAction),Object(jt.a)((function(e){var t=e.condition;return l.service.bulkUpdate(t).pipe(Object(mi.a)((function(e){return{succeedYn:!0,dataResult:e}})),Object(vi.a)((function(e){return Object(Ot.a)({succeedYn:!1,error:e})})))})),Object(yi.a)((function(e){var t=e.succeedYn,i=e.error;if(t){var a=[n.closeBulkUpdatePopup(),n.reloadList()];l._runPage("Your data has been saved.",a)}else l._catchErr(i,"Failed to save.")})))}),{dispatch:!1}),this.upsertMembership$=Object(s.c)((function(){return l.actions$.pipe(Object(s.d)(n.upsertMembershipAction),Object(gi.a)((function(e){return Object(Ot.a)(e).pipe(Object(Ci.a)(l.selectedDetailRowInfo$))})),Object(jt.a)((function(e){var t=_slicedToArray(e,2),i=t[0].upsertCondition,n=t[1];return l.service.upsertMembership(i).pipe(Object(mi.a)((function(e){return{succeedYn:!0,dataResult:Object.assign({},n,{airlineMemberships:e})}})),Object(vi.a)((function(e){return Object(Ot.a)({succeedYn:!1,error:e})})))})),Object(yi.a)((function(e){var t=e.succeedYn,i=e.dataResult,a=e.error;if(t){var o=[n.reloadList(),n.addSelectedDetailRowInfo({selectedDetailRowInfo:W.cloneDeep(i)})];l._runPage("Your data has been saved.",o)}else l._catchErr(a,"Failed to save.")})))}),{dispatch:!1}),this.removeMembership$=Object(s.c)((function(){return l.actions$.pipe(Object(s.d)(n.removeMembershipAction),Object(jt.a)((function(e){var t=e.rowids;return l.service.removeMembership({rowids:t}).pipe(Object(mi.a)((function(e){return{succeedYn:!0}})),Object(vi.a)((function(e){return Object(Ot.a)({succeedYn:!1,error:e})})))})),Object(yi.a)((function(e){var t=e.succeedYn,i=e.error;if(t){var a=[n.reloadList(),n.removeMembershipSuccessAction()];l._runPage("Your data has been deleted.",a)}else l._catchErr(i,"Deletion failed.")})))}),{dispatch:!1}),this.positionGroupList$=c.pipe(Object(r.u)(Be)),this.positionList$=c.pipe(Object(r.u)(Ke)),this.userStatusList$=c.pipe(Object(r.u)(Ge)),this.countryList$=c.pipe(Object(r.u)(ze)),this.allianceList$=c.pipe(Object(r.u)(qe)),this.selectedDetailRowInfo$=c.pipe(Object(r.u)(dt)),this.roleList$=c.pipe(Object(r.u)(ot)),this.compCodeList$=c.pipe(Object(r.u)(it)),this.manageList$=c.pipe(Object(r.u)(Xe))}return _createClass(e,[{key:"_runPage",value:function(e,t){var i=this;this.alertService.alert({message:e,accept:(null==t?void 0:t.length)>0?function(){t.forEach((function(e){i.store.dispatch(e)}))}:function(){}})}},{key:"_catchErr",value:function(e,t,i){var n=this,a=this._errorService.errorHandler(e,t);W.isNil(a)||(W.isNil(a.accept)&&(a.accept=(null==i?void 0:i.length)>0?function(){i.forEach((function(e){n.store.dispatch(e)}))}:function(){}),this.alertService.alert(a))}}]),e}()).\u0275fac=function(e){return new(e||ui)(gt.bc(s.a),gt.bc(Lt),gt.bc(ji.a),gt.bc(wt.a),gt.bc(r.h))},ui.\u0275prov=gt.Mb({token:ui,factory:ui.\u0275fac}),ui),Li=i("YH7L"),ki=[bi,ti],Ii=[Et,$t,Bt,Ut,Xt,At],Pi=((pi=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=gt.Ob({type:pi}),pi.\u0275inj=gt.Nb({factory:function(e){return new(e||pi)},imports:[[a.c,o.m,o.w,c.m,l.a,u.a,p.a,C.a,d.a,b.a,f.a,h.a,m.a,v.a,g.a,O.a,y.a,j.a,S.a,hi,Li.a,r.j.forFeature("cpStaff",De),s.b.forFeature([Si])]]}),pi)},nMd8:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var n=i("fXoL"),a=i("3Pt+"),o=i("LvDl"),s=i("XNiG"),r=i("itXk"),c=i("1G5W"),l=i("pLZG"),u=i("YY+H"),p=i("kt0X"),d=i("ofXK");function b(e,t){if(1&e&&(n.Wb(0,"option",3),n.Pc(1),n.Vb()),2&e){var i=n.hc();n.pc("ngValue",null),n.Cb(1),n.Qc(i.useAllOptionName)}}function f(e,t){if(1&e&&(n.Wb(0,"option",3),n.Pc(1),n.Vb()),2&e){var i=t.$implicit,a=n.hc();n.pc("ngValue",i),n.Cb(1),n.Qc(a.displayKey?i[a.displayKey]:i)}}var h={provide:a.p,useExisting:Object(n.U)((function(){return m})),multi:!0},m=function(){var e=function(){function e(t,i){_classCallCheck(this,e),this._store=t,this._cdr=i,this.useAllOptionYn=!0,this.useAllOptionName="All",this.dataKey="detailCode",this.onChange=new n.n,this._unsubscribe$=new s.a,this._options$=new s.a,this.onModelChange=function(){},this.onModelTouched=function(){},this.selectedLanguage$=this._store.select(u.f)}return _createClass(e,[{key:"invalid",get:function(){return this.isInvalid}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=e}},{key:"options",get:function(){return this._options},set:function(e){this._options=e,this._options$.next(e),this.updateSelectedOption(this.value)}},{key:"ngOnInit",value:function(){this.updateSelectedOption(null),this._initSubscription()}},{key:"ngAfterViewInit",value:function(){this.options&&this._options$.next(this.options)}},{key:"ngOnDestroy",value:function(){this._options$.next(null),this._options$.complete(),this._unsubscribe$.next(),this._unsubscribe$.complete()}},{key:"writeValue",value:function(e){this.value=e,this.updateSelectedOption(e)}},{key:"registerOnChange",value:function(e){this.onModelChange=e}},{key:"registerOnTouched",value:function(e){this.onModelTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"compareFn",value:function(e,t){return this.dataKey?e[this.dataKey]===t[this.dataKey]:e===t}},{key:"selectItem",value:function(e){this.selectedOption=e,this.value=this._getValue(e),this.onModelChange(this.value),this.onChange.emit({value:this.value,option:e})}},{key:"updateSelectedOption",value:function(e){this.selectedOption=this._findOption(e,this.options)}},{key:"_findOption",value:function(e,t){var i=this;return this.dataKey?o.find(t,(function(t){return t[i.dataKey]===e}))||null:e}},{key:"_getValue",value:function(e){return o.isNil(e)?null:e[this.dataKey]}},{key:"_initSubscription",value:function(){var e=this;if(!this.displayKey){var t=null;Object(r.a)([this.selectedLanguage$,this._options$]).pipe(Object(c.a)(this._unsubscribe$),Object(l.a)((function(e){var t=_slicedToArray(e,2),i=(t[0],t[1]);return i&&i.length>0}))).subscribe((function(i){var n,a=_slicedToArray(i,2),s=a[0],r=a[1];if(o.isNil(s)&&(s="EN"),!t&&r&&(t=s),t===s&&(e.displayKey=e.displayWord+"Ln",Object.keys(r[0]).includes(e.displayKey)))e._cdr.detectChanges();else{switch(s){case"EN":n=e._findDisplayKey(r,e.displayWord,["En"]);break;case"KO":n=e._findDisplayKey(r,e.displayWord,["Ko","Kr"]);break;case"JA":n=e._findDisplayKey(r,e.displayWord,["Ja","Jp"]);break;case"ZH":n=e._findDisplayKey(r,e.displayWord,["Zh","Cn"]);break;case"VI":n=e._findDisplayKey(r,e.displayWord,["Vi","Vn"])}e.displayKey=n||e.displayWord+"En",e._cdr.detectChanges()}}))}}},{key:"_findDisplayKey",value:function(e,t,i){if(!e||0===e.length)return null;if(console.log(t,"displayWord"),!t)return null;var n,a=Object.keys(e[0]),o=_createForOfIteratorHelper(i);try{for(o.s();!(n=o.n()).done;){var s=t+n.value;if(a.includes(s))return s;if(a.includes(t))return s}}catch(r){o.e(r)}finally{o.f()}return null}}]),e}();return e.\u0275fac=function(t){return new(t||e)(n.Qb(p.h),n.Qb(n.h))},e.\u0275cmp=n.Kb({type:e,selectors:[["app-selectbox-detailcode"]],hostAttrs:[1,"select-box"],hostVars:2,hostBindings:function(e,t){2&e&&n.Gb("valid-error",t.invalid)},inputs:{name:"name",useAllOptionYn:"useAllOptionYn",useAllOptionName:"useAllOptionName",dataKey:"dataKey",displayKey:"displayKey",displayWord:"displayWord",isInvalid:"isInvalid",disabled:"disabled",options:"options"},outputs:{onChange:"onChange"},features:[n.Bb([h])],decls:3,vars:6,consts:[[3,"compareWith","ngModel","disabled","ngModelChange"],[3,"ngValue",4,"ngIf"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(e,t){1&e&&(n.Wb(0,"select",0),n.fc("ngModelChange",(function(e){return t.selectItem(e)})),n.Nc(1,b,2,2,"option",1),n.Nc(2,f,2,2,"option",2),n.Vb()),2&e&&(n.pc("compareWith",t.compareFn)("ngModel",t.selectedOption)("disabled",t.disabled),n.Db("name",t.name),n.Cb(1),n.pc("ngIf",t.useAllOptionYn),n.Cb(1),n.pc("ngForOf",t.options))},directives:[a.y,a.r,a.u,d.o,d.n,a.v,a.A],encapsulation:2}),e}()}}]);