(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{"2QGa":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var s=i("F97/"),n=i("SeVD"),c=i("pLZG"),a=i("HDdC");function r(e,t,i){return[Object(c.a)(t,i)(new a.a(Object(n.a)(e))),Object(c.a)(Object(s.a)(t,i))(new a.a(Object(n.a)(e)))]}},Onn4:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var s=i("fXoL"),n=i("3Pt+"),c=i("ofXK");const a=["rb"],r=function(){return{radio:!0}},o={provide:n.p,useExisting:Object(s.U)(()=>l),multi:!0};let l=(()=>{class e{constructor(e){this.cd=e,this.onClick=new s.n,this.onFocus=new s.n,this.onBlur=new s.n,this.onModelChange=()=>{},this.onModelTouched=()=>{}}handleClick(e,t,i){e.preventDefault(),this.disabled||(this.select(e),i&&t.focus())}select(e){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.onClick.emit(e))}writeValue(e){this.checked=e===this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onModelTouched(),this.onBlur.emit(e)}onChange(e){this.select(e)}}return e.\u0275fac=function(t){return new(t||e)(s.Qb(s.h))},e.\u0275cmp=s.Kb({type:e,selectors:[["app-radio"]],viewQuery:function(e,t){var i;1&e&&s.Kc(a,!0),2&e&&s.Dc(i=s.gc())&&(t.inputViewChild=i.first)},inputs:{value:"value",name:"name",disabled:"disabled",label:"label",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",checked:"checked"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[s.Bb([o])],decls:5,vars:11,consts:[[3,"ngClass","click"],["type","radio",1,"radio-control-input",3,"checked","disabled","change","focus","blur"],["rb",""],[1,"radio-control-text"]],template:function(e,t){1&e&&(s.Wb(0,"label",0),s.fc("click",(function(e){return t.select(e)})),s.Wb(1,"input",1,2),s.fc("change",(function(e){return t.onChange(e)}))("focus",(function(e){return t.onInputFocus(e)}))("blur",(function(e){return t.onInputBlur(e)})),s.Vb(),s.Wb(3,"span",3),s.Pc(4),s.Vb(),s.Vb()),2&e&&(s.Eb(t.styleClass),s.pc("ngClass",s.tc(10,r)),s.Cb(1),s.pc("checked",t.checked)("disabled",t.disabled),s.Db("id",t.inputId)("name",t.name)("value",t.value)("tabindex",t.tabindex),s.Cb(3),s.Qc(t.label))},directives:[c.l],encapsulation:2}),e})()},U6NN:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var s=i("fXoL"),n=i("3Pt+"),c=i("LvDl"),a=i("ofXK");function r(e,t){if(1&e&&(s.Wb(0,"option",3),s.Pc(1),s.Vb()),2&e){const e=s.hc();s.pc("ngValue",null),s.Cb(1),s.Qc(e.useAllOptionName)}}function o(e,t){if(1&e&&(s.Wb(0,"option",3),s.Pc(1),s.Vb()),2&e){const e=t.$implicit,i=s.hc();s.pc("ngValue",e),s.Cb(1),s.Qc(i.displayKey?e[i.displayKey]:e)}}const l={provide:n.p,useExisting:Object(s.U)(()=>d),multi:!0};let d=(()=>{class e{constructor(e,t,i,n){this.el=e,this.renderer=t,this.cd=i,this.zone=n,this.dataKey="value",this.displayKey="label",this.useAllOptionYn=!0,this.useAllOptionName="All",this.onChange=new s.n,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get invalid(){return this.isInvalid}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}get options(){return this._options}set options(e){this._options=e,this.updateSelectedOption(this.value)}ngOnInit(){this.updateSelectedOption(null)}ngOnDestroy(){}compareFn(e,t){return this.dataKey?e[this.dataKey]===t[this.dataKey]:e===t}selectItem(e){this.selectedOption=e,this.value=this._getValue(e),this.onModelChange(this.value),this.onChange.emit({value:this.value,option:e})}writeValue(e){this.value=e,this.updateSelectedOption(e),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}updateSelectedOption(e){this.selectedOption=this._findOption(e,this.options)}_findOption(e,t){return this.dataKey?c.find(t,t=>t[this.dataKey]===e)||null:e}_getValue(e){return c.isNil(e)?null:e[this.dataKey]}}return e.\u0275fac=function(t){return new(t||e)(s.Qb(s.l),s.Qb(s.E),s.Qb(s.h),s.Qb(s.z))},e.\u0275cmp=s.Kb({type:e,selectors:[["app-selectbox"]],hostAttrs:[1,"select-box"],hostVars:2,hostBindings:function(e,t){2&e&&s.Gb("valid-error",t.invalid)},inputs:{name:"name",styleClass:"styleClass",required:"required",tabindex:"tabindex",dataKey:"dataKey",displayKey:"displayKey",isInvalid:"isInvalid",useAllOptionYn:"useAllOptionYn",useAllOptionName:"useAllOptionName",disabled:"disabled",options:"options"},outputs:{onChange:"onChange"},features:[s.Bb([l])],decls:3,vars:8,consts:[[3,"compareWith","ngModel","disabled","ngModelChange"],[3,"ngValue",4,"ngIf"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(e,t){1&e&&(s.Wb(0,"select",0),s.fc("ngModelChange",(function(e){return t.selectItem(e)})),s.Nc(1,r,2,2,"option",1),s.Nc(2,o,2,2,"option",2),s.Vb()),2&e&&(s.pc("compareWith",t.compareFn)("ngModel",t.selectedOption)("disabled",t.disabled),s.Db("name",t.name)("required",t.required)("tabindex",t.tabindex),s.Cb(1),s.pc("ngIf",t.useAllOptionYn),s.Cb(1),s.pc("ngForOf",t.options))},directives:[n.y,n.r,n.u,n.x,a.o,a.n,n.v,n.A],encapsulation:2}),e})()},yNny:function(e,t,i){"use strict";i.r(t),i.d(t,"CONTAINERS",(function(){return ft})),i.d(t,"COMPONENTS",(function(){return jt})),i.d(t,"FlWebTlModule",(function(){return Ct}));var s={};i.r(s),i.d(s,"getListSuccess",(function(){return E})),i.d(s,"getListFailure",(function(){return F})),i.d(s,"getDepartureArrivalTypeListSuccess",(function(){return D})),i.d(s,"getDepartureArrivalTypeListFailure",(function(){return W})),i.d(s,"getTicketingBasisTypeListSuccess",(function(){return V})),i.d(s,"getTicketingBasisTypeListFailure",(function(){return A})),i.d(s,"getTicketingTimeTypeListSuccess",(function(){return P})),i.d(s,"getTicketingTimeTypeListFailure",(function(){return x})),i.d(s,"getContinentListSuccess",(function(){return $})),i.d(s,"getContinentListFailure",(function(){return N})),i.d(s,"upsertItemSuccess",(function(){return R})),i.d(s,"upsertItemFailure",(function(){return _})),i.d(s,"removeItemsSuccess",(function(){return B})),i.d(s,"removeItemsFailure",(function(){return z})),i.d(s,"loadList",(function(){return Y})),i.d(s,"reloadList",(function(){return K})),i.d(s,"initList",(function(){return H})),i.d(s,"loadContinentList",(function(){return G})),i.d(s,"loadDepartureArrivalTypeList",(function(){return U})),i.d(s,"loadTicketingBasisTypeList",(function(){return M})),i.d(s,"loadTicketingTimeTypeList",(function(){return Q})),i.d(s,"changeSearchCondition",(function(){return q})),i.d(s,"changePageSize",(function(){return X})),i.d(s,"setGridCheckRowidsAction",(function(){return J})),i.d(s,"setGridStateAction",(function(){return Z})),i.d(s,"setGridCheckedStateAction",(function(){return ee})),i.d(s,"removeSelectedGridEntities",(function(){return te})),i.d(s,"openDetailPopup",(function(){return ie})),i.d(s,"closeDetailPopup",(function(){return se})),i.d(s,"addSelectedDetailRowInfo",(function(){return ne})),i.d(s,"delSelectedDetailRowInfo",(function(){return ce})),i.d(s,"upsertItem",(function(){return ae}));var n=i("ofXK"),c=i("3Pt+"),a=i("snw9"),r=i("kt0X"),o=i("WG3B"),l=i("xoAz"),d=i("wPo9"),u=i("7rOj"),p=i("+NQf"),b=i("6LsY"),h=i("l1P7"),g=i("v7zA"),m=i("7UZF"),O=i("hHe4"),v=i("1OXJ"),f=i("5hwk"),j=i("htEk"),C=i("kKjH"),y=i("qXPF"),T=i("vu/V"),k=i("tyNb"),L=i("XNiG"),S=i("zP0r"),I=i("1G5W"),w=i("LvDl");const E=Object(r.o)("[FlWebTl/List] get list success",Object(r.t)()),F=Object(r.o)("[FlWebTl/List] get list failure",Object(r.t)()),D=Object(r.o)("[FlWebTl/List] get departure arrival type list success",Object(r.t)()),W=Object(r.o)("[FlWebTl/List] get departure arrival type list failure",Object(r.t)()),V=Object(r.o)("[FlWebTl/List] get ticketing basis type list success",Object(r.t)()),A=Object(r.o)("[FlWebTl/List] get ticketing basis type list failure",Object(r.t)()),P=Object(r.o)("[FlWebTl/List] get ticketing time type list success",Object(r.t)()),x=Object(r.o)("[FlWebTl/List] get ticketing time type list failure",Object(r.t)()),$=Object(r.o)("[FlWebTl/List] get continent list success",Object(r.t)()),N=Object(r.o)("[FlWebTl/List] get continent list failure",Object(r.t)()),R=Object(r.o)("[FlWebTl/List] upsert item success",Object(r.t)()),_=Object(r.o)("[FlWebTl/List] upsert item failure",Object(r.t)()),B=Object(r.o)("[FlWebTl/API] remove items success",Object(r.t)()),z=Object(r.o)("[FlWebTl/API] remove items failure",Object(r.t)()),Y=Object(r.o)("[FlWebTl/List] load grid data list",Object(r.t)()),K=Object(r.o)("[FlWebTl/List] reload grid data list"),H=Object(r.o)("[FlWebTl/List] init grid data list"),G=Object(r.o)("[FlWebTl/List] load continent list",Object(r.t)()),U=Object(r.o)("[FlWebTl/List] load departure arrival type list",Object(r.t)()),M=Object(r.o)("[FlWebTl/List] load ticketing basis type list",Object(r.t)()),Q=Object(r.o)("[FlWebTl/List] load ticketing time type list",Object(r.t)()),q=Object(r.o)("[FlWebTl/List] change search condition",Object(r.t)()),X=Object(r.o)("[FlWebTl/List] change page size",Object(r.t)()),J=Object(r.o)("[FlWebTl/List] set grid checked rowids",Object(r.t)()),Z=Object(r.o)("[FlWebTl/List] set grid state",Object(r.t)()),ee=Object(r.o)("[FlWebTl/List] set grid checked state",Object(r.t)()),te=Object(r.o)("[FlWebTl/List] \uc0ad\uc81c\ubc84\ud2bc \ud074\ub9ad \uc561\uc158",Object(r.t)()),ie=Object(r.o)("[FlWebTl/Detail] \uc0c1\uc138\ud31d\uc5c5 \uc5f4\uae30"),se=Object(r.o)("[FlWebTl/Detail] \uc0c1\uc138\ud31d\uc5c5 \ub2eb\uae30"),ne=Object(r.o)("[FlWebTl/Detail] \uc0c1\uc138\ud31d\uc5c5\uc5d0\uc11c \ubcf4\uc5ec\uc9c8 \ud56d\ubaa9 \uc120\ud0dd",Object(r.t)()),ce=Object(r.o)("[FlWebTl/Detail] \uc0c1\uc138\ud31d\uc5c5\uc5d0\uc11c \ubcf4\uc5ec\uc9c8 \ud56d\ubaa9 \uc81c\uac70"),ae=Object(r.o)("[FlWebTl/Detail] \uc0c1\uc138\ud31d\uc5c5\uc5d0\uc11c \uc800\uc7a5 \ubc84\ud2bc \ud074\ub9ad \uc561\uc158",Object(r.t)());var re=i("EVqC");const oe=Object(re.a)({selectId:e=>e.rowid,sortComparer:!1}),le=oe.getInitialState({loading:!1,reloadToggle:!1,continentList:[],departureArrivalTypeList:[],ticketingBasisTypeList:[],ticketingTimeTypeList:[],searchCondition:{},autoCompleteExt:{},pageSize:20,selectedDetailRowInfo:null,isOpenDetailPopup:!1,gridState:{skip:0,sortInfo:[],filter:{logic:"and",filters:[]}},gridCheckedRowids:null,gridCheckedState:null}),de=Object(r.q)(le,Object(r.s)(s.loadList,e=>Object.assign(Object.assign({},e),{loading:!0})),Object(r.s)(s.reloadList,e=>Object.assign(Object.assign({},e),{reloadToggle:!e.reloadToggle})),Object(r.s)(s.initList,e=>Object.assign(Object.assign({},e),{loading:!1,reloadToggle:!1,selectedDetailRowInfo:null,isOpenDetailPopup:!1})),Object(r.s)(s.getListSuccess,(e,{dataList:t})=>oe.setAll(t,Object.assign(Object.assign({},e),{loading:!1,gridCheckedRowids:null}))),Object(r.s)(s.getListFailure,e=>Object.assign(Object.assign({},e),{loading:!1})),Object(r.s)(s.getContinentListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{continentList:t})),Object(r.s)(s.getDepartureArrivalTypeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{departureArrivalTypeList:t})),Object(r.s)(s.getTicketingBasisTypeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{ticketingBasisTypeList:t})),Object(r.s)(s.getTicketingTimeTypeListSuccess,(e,{dataList:t})=>Object.assign(Object.assign({},e),{ticketingTimeTypeList:t})),Object(r.s)(s.changeSearchCondition,(e,{searchCondition:t,autoCompleteExt:i})=>Object.assign(Object.assign({},e),{searchCondition:t,autoCompleteExt:i})),Object(r.s)(s.changePageSize,(e,{pageSize:t})=>Object.assign(Object.assign({},e),{pageSize:t})),Object(r.s)(s.upsertItemSuccess,(e,{upsertItem:t})=>oe.upsertOne(t,Object.assign({},e))),Object(r.s)(s.openDetailPopup,e=>Object.assign(Object.assign({},e),{isOpenDetailPopup:!0})),Object(r.s)(s.closeDetailPopup,e=>Object.assign(Object.assign({},e),{isOpenDetailPopup:!1})),Object(r.s)(s.addSelectedDetailRowInfo,(e,{selectedDetailRowInfo:t})=>Object.assign(Object.assign({},e),{selectedDetailRowInfo:t})),Object(r.s)(s.delSelectedDetailRowInfo,e=>Object.assign(Object.assign({},e),{selectedDetailRowInfo:null})),Object(r.s)(s.setGridCheckRowidsAction,(e,{rowids:t})=>Object.assign(Object.assign({},e),{gridCheckedRowids:t})),Object(r.s)(s.setGridStateAction,(e,{gridState:t})=>Object.assign(Object.assign({},e),{gridState:t})),Object(r.s)(s.setGridCheckedStateAction,(e,{gridCheckedState:t})=>Object.assign(Object.assign({},e),{gridCheckedState:t})));function ue(e,t){return Object(r.m)({flWebTlList:de})(e,t)}const pe=Object(r.p)("flWebTl"),be=Object(r.r)(pe,e=>e.flWebTlList),he=Object(r.r)(be,e=>e.loading),ge=Object(r.r)(be,e=>e.reloadToggle),me=Object(r.r)(be,e=>e.continentList),Oe=Object(r.r)(be,e=>e.departureArrivalTypeList),ve=Object(r.r)(be,e=>e.ticketingBasisTypeList),fe=Object(r.r)(be,e=>e.ticketingTimeTypeList),je=Object(r.r)(be,e=>e.searchCondition),Ce=Object(r.r)(be,e=>e.autoCompleteExt),ye=Object(r.r)(be,e=>e.pageSize),Te=Object(r.r)(be,e=>e.selectedDetailRowInfo),ke=Object(r.r)(be,e=>e.isOpenDetailPopup),Le=oe.getSelectors(be).selectAll,Se=(oe.getSelectors(be),Object(r.r)(be,e=>e.gridCheckedRowids)),Ie=Object(r.r)(be,e=>e.gridState),we=Object(r.r)(be,e=>e.gridCheckedState);var Ee=i("fXoL"),Fe=i("LRne"),De=i("z6cu"),We=i("eIep"),Ve=i("AytR");const{API_URL:Ae}=Ve.a,Pe={selectEntities:`${Ae}/admin/flight/web-tl`,modifyEntity:`${Ae}/admin/flight/web-tl`,selectDetailCodes:`${Ae}/common/detail-code`,selectContinents:`${Ae}/admin/basis/continent`};var xe=i("tpT/"),$e=i("VMfx");let Ne=(()=>{class e{constructor(e,t){this.api=e,this.languageService=t}getList(e){const t=w.assign({},this.api.defaultParams,{condition:e});return this.api.post(Pe.selectEntities,t).pipe(Object(We.a)(e=>{var t;if(e.succeedYn){const i=this._addRowid(null===(t=e.result)||void 0===t?void 0:t.list);return Object(Fe.a)(i)}return Object(De.a)(e||"api response error")}))}upsertItem(e){const t=w.assign({},this.api.defaultParams,{condition:e});return this.api.put(Pe.modifyEntity,t).pipe(Object(We.a)(e=>e.succeedYn?Object(Fe.a)(e.result):Object(De.a)(e||"api response error")))}removeItems(e){const t=w.assign({},this.api.defaultParams,{condition:e});return this.api.delete(Pe.modifyEntity,t).pipe(Object(We.a)(e=>e.succeedYn?Object(Fe.a)(e.result&&e.result.counts):Object(De.a)(e||"api response error")))}getCommonDetailCodeList(e){const t=w.assign({},this.api.defaultParams,{condition:e});return this.api.post(Pe.selectDetailCodes,t).pipe(Object(We.a)(e=>e.succeedYn?Object(Fe.a)(e.result.list):Object(De.a)(e||"api response error")))}getContinentList(e){const t=w.assign({},this.api.defaultParams,{condition:e});return this.api.post(Pe.selectContinents,t).pipe(Object(We.a)(e=>{if(e.succeedYn){const t=[];return Object(Fe.a)(t.concat(e.result.list.map(e=>({label:"KO"===this.languageService.currentLanguage?e.continentNameKo:e.continentNameEn,value:e.continentCode}))))}return Object(De.a)(e||"api response error")}))}_addRowid(e){return w.isNil(e)?[]:e.map((e,t)=>Object.assign(Object.assign({},e),{rowid:String(t)}))}}return e.\u0275fac=function(t){return new(t||e)(Ee.bc(xe.a),Ee.bc($e.a))},e.\u0275prov=Ee.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Re=i("6UzV");let _e=(()=>{class e{constructor(e){this.fb=e,this.generateGridColumns=()=>[{field:"airlineCode",title:"Airline Code",type:"text",style:{"text-align":"center"}},{field:"departureArrivalTypeName",title:"Departure/Arrival",type:"text"},{field:"ticketingBasisTypeName",title:"      Ticketing      ",type:"text",template:"ticketingBasisTypeTpl"},{field:"useYn",title:"Use YN",type:"boolean",template:"useYnTpl",style:{"text-align":"center"}},{field:"lastUpdateName",title:"Last Update User",type:"text"},{field:"lastUpdateDatetime",title:"Last Update Time",type:"text",style:{"text-align":"center"}},{field:"firstInsertName",title:"First Insert User",type:"text"},{field:"firstInsertDatetime",title:"First Insert Time",type:"text",style:{"text-align":"center"}}],this.generateListSearchForm=()=>this.fb.group({airlineCode:[null,[this.customAirlineCodeValidator]],departureArrivalTypeCode:[null,[Re.a.minLength(1),Re.a.maxLength(10)]],useYn:[null]}),this.initListSearch=()=>({airlineCode:null,departureArrivalTypeCode:null,useYn:null}),this.generatePutForm=()=>this.fb.group({webTlSeq:[null],airlineCode:[null,[c.z.required,this.customAirlineCodeValidator]],departureArrivalTypeCode:[null,[c.z.required,Re.a.minLength(1),Re.a.maxLength(10)]],ticketingBasisTypeCode:[{value:null,disabled:!0},[c.z.required,Re.a.minLength(1),Re.a.maxLength(10)]],ticketingTimeTypeCode:[null,[c.z.required,Re.a.minLength(1),Re.a.maxLength(10)]],ticketingBasisValue:[null,[c.z.required]],useYn:[null,[c.z.required]],controlRemark:[null,[Re.a.minLength(1),Re.a.maxLength(500)]]}),this.initPutFormData=()=>({webTlSeq:null,airlineCode:null,departureArrivalTypeCode:null,ticketingBasisTypeCode:"B",ticketingTimeTypeCode:null,ticketingBasisValue:null,useYn:!0,controlRemark:null})}customAirlineCodeValidator(e){return e&&e.value&&!/^[A-Z0-9+]{2}$/.test(e.value)&&"*"!==e.value?{airlineCodeInvalid:!0}:null}}return e.\u0275fac=function(t){return new(t||e)(Ee.bc(c.f))},e.\u0275prov=Ee.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Be=i("+Sob"),ze=i("gbCm"),Ye=i("U6NN");let Ke=(()=>{class e{constructor(e){this._dataService=e,this.selectAutoCompleteEvent=new Ee.n,this.clickSearchEvent=new Ee.n,this.clickResetEvent=new Ee.n,this.changeSearchConditionEvent=new Ee.n,this.useYnOptions=[{label:"Y",value:!0},{label:"N",value:!1}],this.searchForm=this._dataService.generateListSearchForm()}get searchCondition(){return this._searchCondition}set searchCondition(e){this._searchCondition=e,this.searchFormData=this._setSearchFormData(e),this._initThisState(e)}get searchFormValid(){return this.searchForm.valid}ngOnInit(){this._initThisState()}onSubmit(){this.searchForm.invalid?this._checkValid=!0:(this.clickSearchEvent.emit({searchCondition:this.searchForm.value}),this._checkValid=!1)}onReset(){this.clickResetEvent.emit()}checkIsInvalid(e){return this._checkValid&&this.searchForm.get(e)&&this.searchForm.get(e).invalid}_initThisState(e){this._checkValid=!1}_setSearchFormData(e){const t=this._dataService.initListSearch();return Object.assign({},t,w.pick(e,Object.keys(t)))}}return e.\u0275fac=function(t){return new(t||e)(Ee.Qb(_e))},e.\u0275cmp=Ee.Kb({type:e,selectors:[["app-fl-web-tl-search"]],inputs:{continentList:"continentList",departureArrivalTypeList:"departureArrivalTypeList",autoCompleteExt:"autoCompleteExt",searchCondition:"searchCondition"},outputs:{selectAutoCompleteEvent:"selectAutoCompleteEvent",clickSearchEvent:"clickSearchEvent",clickResetEvent:"clickResetEvent",changeSearchConditionEvent:"changeSearchConditionEvent"},decls:20,vars:7,consts:[[1,"grid-search-box","multi",3,"formGroup","connectForm","ngSubmit"],[1,"form-option-area"],[1,"row"],[1,"col-1"],[1,"form-label"],["formControlName","airlineCode","placeholder","e.g.KE","inputFormat","upperCase",1,"d-inline-flex","flex-fill",3,"isInvalid"],["formControlName","departureArrivalTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn",1,"d-inline-flex","flex-fill",3,"options","isInvalid"],["formControlName","useYn",1,"d-inline-flex","flex-fill",3,"options","isInvalid"],[1,"form-button-area"],["type","submit","role","button",1,"btn","btn-primary","sm"],["type","button","role","button",1,"btn","btn-reset","sm",3,"click"]],template:function(e,t){1&e&&(Ee.Wb(0,"form",0),Ee.fc("ngSubmit",(function(){return t.onSubmit()})),Ee.Wb(1,"div",1),Ee.Wb(2,"div",2),Ee.Wb(3,"div",3),Ee.Wb(4,"span",4),Ee.Pc(5,"Airline Code"),Ee.Vb(),Ee.Rb(6,"app-input-text",5),Ee.Vb(),Ee.Wb(7,"div",3),Ee.Wb(8,"span",4),Ee.Pc(9,"Departure/Arrival Type"),Ee.Vb(),Ee.Rb(10,"app-selectbox",6),Ee.Vb(),Ee.Wb(11,"div",3),Ee.Wb(12,"span",4),Ee.Pc(13,"Use YN"),Ee.Vb(),Ee.Rb(14,"app-selectbox",7),Ee.Vb(),Ee.Vb(),Ee.Vb(),Ee.Wb(15,"div",8),Ee.Wb(16,"button",9),Ee.Pc(17,"Search"),Ee.Vb(),Ee.Wb(18,"button",10),Ee.fc("click",(function(){return t.onReset()})),Ee.Pc(19,"Reset"),Ee.Vb(),Ee.Vb(),Ee.Vb()),2&e&&(Ee.pc("formGroup",t.searchForm)("connectForm",t.searchFormData),Ee.Cb(6),Ee.pc("isInvalid",t.checkIsInvalid("airlineCode")),Ee.Cb(4),Ee.pc("options",t.departureArrivalTypeList)("isInvalid",t.checkIsInvalid("departureArrivalTypeCode")),Ee.Cb(4),Ee.pc("options",t.useYnOptions)("isInvalid",t.checkIsInvalid("useYn")))},directives:[c.B,c.s,c.k,Be.a,ze.a,c.r,c.i,Ye.a],styles:[""],changeDetection:0}),e})();var He=i("G4DP"),Ge=i("EsKh"),Ue=i("bMKz");let Me=(()=>{class e{constructor(){this.clickAddEvent=new Ee.n,this.clickDelEvent=new Ee.n,this.changePageSizeEvent=new Ee.n,this.pageSizeOptions=[{label:"20",value:20},{label:"40",value:40},{label:"60",value:60},{label:"80",value:80},{label:"100",value:100}]}ngOnInit(){}onClickAdd(){this.clickAddEvent.emit()}onClickDel(){this.clickDelEvent.emit()}onChangePageSize(e){this.changePageSizeEvent.emit(e.value)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ee.Kb({type:e,selectors:[["app-fl-web-tl-control"]],inputs:{loading:"loading",currentPageSize:"currentPageSize",totalCount:"totalCount"},outputs:{clickAddEvent:"clickAddEvent",clickDelEvent:"clickDelEvent",changePageSizeEvent:"changePageSizeEvent"},decls:8,vars:4,consts:[[1,"grid-control-area"],[1,"grid-count"],[1,"ml-auto","d-inline-flex","flex-glow-0"],[1,"btn","btn-outline-dark","sm",3,"click"],[1,"select-box","sm","d-inline-flex","flex-glow-0"],[3,"options","ngModel","useAllOptionYn","onChange"]],template:function(e,t){1&e&&(Ee.Wb(0,"div",0),Ee.Wb(1,"strong",1),Ee.Pc(2),Ee.Vb(),Ee.Wb(3,"div",2),Ee.Wb(4,"button",3),Ee.fc("click",(function(){return t.onClickAdd()})),Ee.Pc(5,"New"),Ee.Vb(),Ee.Wb(6,"div",4),Ee.Wb(7,"app-selectbox",5),Ee.fc("onChange",(function(e){return t.onChangePageSize(e)})),Ee.Vb(),Ee.Vb(),Ee.Vb(),Ee.Vb()),2&e&&(Ee.Cb(2),Ee.Qc(t.loading?"":t.totalCount),Ee.Cb(5),Ee.pc("options",t.pageSizeOptions)("ngModel",t.currentPageSize)("useAllOptionYn",!1))},directives:[Ye.a,c.r,c.u],styles:[""],changeDetection:0}),e})();var Qe=i("kDLv"),qe=i("Onn4");let Xe=(()=>{class e{constructor(e){this._dataService=e,this.submitEvent=new Ee.n,this.closeEvent=new Ee.n,this._$unsubscribe=new L.a,this.bookingDayOrHourOptions=[{label:"Date",value:"D"},{label:"Hour",value:"H"}],this.upsertForm=this._dataService.generatePutForm()}get rowItem(){return this._rowitem}set rowItem(e){this._rowitem=e,this.upsertFormData=this.setPutFormData(e),this._initThisState(e)}ngAfterContentInit(){this._initThisState()}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete()}onSubmit(){if(this.upsertForm.invalid)return void(this._checkValid=!0);const e=this.setPutCondition();this.submitEvent.emit(e),this._checkValid=!1}onClose(){this.closeEvent.emit()}checkIsInvalid(e){return this._checkValid&&this.upsertForm.get(e)&&this.upsertForm.get(e).invalid}_initThisState(e){this._checkValid=!1}setPutFormData(e){const t=this._dataService.initPutFormData();return e&&(this.upsertForm.get("airlineCode").disable(),this.upsertForm.get("departureArrivalTypeCode").disable()),w.isNil(e)?t:Object.assign({},t,w.pick(e,Object.keys(t)))}setPutCondition(){const e=this._dataService.initPutFormData(),t=this.upsertForm.getRawValue();let i=Object.assign({},w.pick(t,Object.keys(e)));return w.omitBy(i,w.isNil)}}return e.\u0275fac=function(t){return new(t||e)(Ee.Qb(_e))},e.\u0275cmp=Ee.Kb({type:e,selectors:[["app-fl-web-tl-form"]],inputs:{rowItem:"rowItem",continentList:"continentList",departureArrivalTypeList:"departureArrivalTypeList",ticketingBasisTypeList:"ticketingBasisTypeList",ticketingTimeTypeList:"ticketingTimeTypeList"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:54,vars:14,consts:[[1,"modal-body"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","150px"],["scope","row",1,"th-bg"],["formControlName","airlineCode","placeholder","e.g.KE(* means all airlines)","inputFormat","upperCase",3,"isInvalid"],["formControlName","departureArrivalTypeCode","useAllOptionName","Select","dataKey","detailCode","displayKey","detailCodeNameEn",3,"options","isInvalid"],[1,"form-group"],["formControlName","ticketingBasisTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","Select",2,"max-width","150px",3,"options","isInvalid"],[1,"text"],["formControlName","ticketingBasisValue","valueType","number","inputFormat","number",2,"max-width","150px",3,"isInvalid"],["formControlName","ticketingTimeTypeCode","dataKey","detailCode","displayKey","detailCodeNameEn","useAllOptionName","Select",2,"max-width","100px",3,"options","isInvalid"],["formControlName","useYn","name","useYn","label","Y",3,"value"],["formControlName","useYn","name","useYn","label","N",3,"value"],["colspan","3"],[1,"textarea"],["cols","30","rows","3","formControlName","controlRemark"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(e,t){1&e&&(Ee.Wb(0,"div",0),Ee.Wb(1,"form",1),Ee.fc("ngSubmit",(function(){return t.onSubmit()})),Ee.Wb(2,"div",2),Ee.Wb(3,"table"),Ee.Wb(4,"caption"),Ee.Pc(5," Web TTL Info "),Ee.Vb(),Ee.Wb(6,"colgroup"),Ee.Rb(7,"col",3),Ee.Rb(8,"col"),Ee.Vb(),Ee.Wb(9,"tbody"),Ee.Wb(10,"tr"),Ee.Wb(11,"th",4),Ee.Pc(12,"Airline Code"),Ee.Rb(13,"sup"),Ee.Vb(),Ee.Wb(14,"td"),Ee.Rb(15,"app-input-text",5),Ee.Vb(),Ee.Vb(),Ee.Wb(16,"tr"),Ee.Wb(17,"th",4),Ee.Pc(18,"Departure/Arrival"),Ee.Rb(19,"sup"),Ee.Vb(),Ee.Wb(20,"td"),Ee.Rb(21,"app-selectbox",6),Ee.Vb(),Ee.Vb(),Ee.Wb(22,"tr"),Ee.Wb(23,"th",4),Ee.Pc(24,"Ticketing Terms"),Ee.Rb(25,"sup"),Ee.Vb(),Ee.Wb(26,"td"),Ee.Wb(27,"div",7),Ee.Rb(28,"app-selectbox",8),Ee.Wb(29,"span",9),Ee.Pc(30,"~"),Ee.Vb(),Ee.Rb(31,"app-input-text",10),Ee.Rb(32,"app-selectbox",11),Ee.Wb(33,"span",9),Ee.Pc(34,"Issue ticketing within time"),Ee.Vb(),Ee.Vb(),Ee.Vb(),Ee.Vb(),Ee.Wb(35,"tr"),Ee.Wb(36,"th",4),Ee.Pc(37,"Use YN"),Ee.Rb(38,"sup"),Ee.Vb(),Ee.Wb(39,"td"),Ee.Wb(40,"div",7),Ee.Rb(41,"app-radio",12),Ee.Rb(42,"app-radio",13),Ee.Vb(),Ee.Vb(),Ee.Vb(),Ee.Wb(43,"tr"),Ee.Wb(44,"th",4),Ee.Pc(45,"Control Remark"),Ee.Vb(),Ee.Wb(46,"td",14),Ee.Wb(47,"div",15),Ee.Rb(48,"textarea",16),Ee.Vb(),Ee.Vb(),Ee.Vb(),Ee.Vb(),Ee.Vb(),Ee.Vb(),Ee.Wb(49,"div",17),Ee.Wb(50,"button",18),Ee.Pc(51,"Save"),Ee.Vb(),Ee.Wb(52,"button",19),Ee.fc("click",(function(){return t.onClose()})),Ee.Pc(53,"Cancel"),Ee.Vb(),Ee.Vb(),Ee.Vb(),Ee.Vb()),2&e&&(Ee.Cb(1),Ee.pc("formGroup",t.upsertForm)("connectForm",t.upsertFormData),Ee.Cb(14),Ee.pc("isInvalid",t.checkIsInvalid("airlineCode")),Ee.Cb(6),Ee.pc("options",t.departureArrivalTypeList)("isInvalid",t.checkIsInvalid("departureArrivalTypeCode")),Ee.Cb(7),Ee.pc("options",t.ticketingBasisTypeList)("isInvalid",t.checkIsInvalid("ticketingBasisTypeCode")),Ee.Cb(3),Ee.pc("isInvalid",t.checkIsInvalid("ticketingBasisValue")),Ee.Cb(1),Ee.pc("options",t.ticketingTimeTypeList)("isInvalid",t.checkIsInvalid("ticketingTimeTypeCode")),Ee.Cb(8),Ee.Gb("valid-error",t.checkIsInvalid("useYn")),Ee.Cb(1),Ee.pc("value",!0),Ee.Cb(1),Ee.pc("value",!1))},directives:[c.B,c.s,c.k,Be.a,ze.a,c.r,c.i,Ye.a,qe.a,c.c],styles:[""],changeDetection:0}),e})();function Je(e,t){if(1&e&&(Ee.Wb(0,"span"),Ee.Pc(1," \ucd9c\ubc1c "),Ee.Wb(2,"strong"),Ee.Pc(3),Ee.Vb(),Ee.Pc(4,"\uc77c ~ "),Ee.Wb(5,"strong"),Ee.Pc(6),Ee.Vb(),Ee.Pc(7,"\uc77c \uc774\uc804 \uc608\uc57d "),Ee.Vb()),2&e){const e=Ee.hc().$implicit;Ee.Cb(3),Ee.Qc(e.bookingFromValue),Ee.Cb(3),Ee.Qc(e.bookingToValue)}}function Ze(e,t){if(1&e&&(Ee.Wb(0,"span"),Ee.Pc(1," \ucd9c\ubc1c "),Ee.Wb(2,"strong"),Ee.Pc(3),Ee.Vb(),Ee.Pc(4,"\uc2dc\uac04 ~ "),Ee.Wb(5,"strong"),Ee.Pc(6),Ee.Vb(),Ee.Pc(7,"\uc2dc\uac04 \uc774\uc804 \uc608\uc57d "),Ee.Vb()),2&e){const e=Ee.hc().$implicit;Ee.Cb(3),Ee.Qc(e.bookingFromValue),Ee.Cb(3),Ee.Qc(e.bookingToValue)}}function et(e,t){if(1&e&&(Ee.Nc(0,Je,8,2,"span",9),Ee.Nc(1,Ze,8,2,"span",9)),2&e){const e=t.$implicit;Ee.pc("ngIf","D"===e.bookingDayOrHour),Ee.Cb(1),Ee.pc("ngIf","H"===e.bookingDayOrHour)}}function tt(e,t){if(1&e&&(Ee.Wb(0,"span"),Ee.Pc(1),Ee.Wb(2,"strong"),Ee.Pc(3),Ee.Vb(),Ee.Pc(4),Ee.Vb()),2&e){const e=t.$implicit;Ee.Cb(1),Ee.Rc(" ",e.ticketingBasisTypeName," "),Ee.Cb(2),Ee.Qc(e.ticketingBasisValue),Ee.Cb(1),Ee.Rc("",e.ticketingTimeTypeName," \uc774\ub0b4 \ubc1c\uad8c ")}}function it(e,t){1&e&&(Ee.Wb(0,"span"),Ee.Pc(1,"Y"),Ee.Vb())}function st(e,t){1&e&&(Ee.Wb(0,"span"),Ee.Pc(1,"N"),Ee.Vb())}function nt(e,t){if(1&e&&(Ee.Nc(0,it,2,0,"span",9),Ee.Nc(1,st,2,0,"span",9)),2&e){const e=t.$implicit;Ee.pc("ngIf",!0===e.useYn),Ee.Cb(1),Ee.pc("ngIf",!1===e.useYn)}}function ct(e,t){if(1&e){const e=Ee.Xb();Ee.Wb(0,"app-fl-web-tl-form",10),Ee.fc("submitEvent",(function(t){return Ee.Fc(e),Ee.hc().submitUpsertHandler(t)}))("closeEvent",(function(){return Ee.Fc(e),Ee.hc().closeUpsertHandler()})),Ee.ic(1,"async"),Ee.ic(2,"async"),Ee.ic(3,"async"),Ee.ic(4,"async"),Ee.ic(5,"async"),Ee.Vb()}if(2&e){const e=Ee.hc();Ee.pc("departureArrivalTypeList",Ee.jc(1,5,e.departureArrivalTypeList$))("ticketingBasisTypeList",Ee.jc(2,7,e.ticketingBasisTypeList$))("ticketingTimeTypeList",Ee.jc(3,9,e.ticketingTimeTypeList$))("continentList",Ee.jc(4,11,e.continentList$))("rowItem",Ee.jc(5,13,e.selectedItem$))}}const at=function(e,t,i){return{bookingDayOrHourTpl:e,ticketingBasisTypeTpl:t,useYnTpl:i}};let rt=(()=>{class e{constructor(e,t,i,s){this.store=e,this._dataService=t,this.alertService=i,this.UserConditionService=s,this.unsubscribe$=new L.a,this.loading$=e.pipe(Object(r.u)(he)),this.reloadToggle$=e.pipe(Object(r.u)(ge)),this.continentList$=e.pipe(Object(r.u)(me)),this.departureArrivalTypeList$=e.pipe(Object(r.u)(Oe)),this.ticketingBasisTypeList$=e.pipe(Object(r.u)(ve)),this.ticketingTimeTypeList$=e.pipe(Object(r.u)(fe)),this.searchCondition$=e.pipe(Object(r.u)(je)),this.autoCompleteExt$=e.pipe(Object(r.u)(Ce)),this.gridDataList$=e.pipe(Object(r.u)(Le)),this.listPageSize$=e.pipe(Object(r.u)(ye)),this.isOpenDetailPopup$=e.pipe(Object(r.u)(ke)),this.selectedItem$=e.pipe(Object(r.u)(Te)),this.columns=this._dataService.generateGridColumns(),this.gridCheckedRowids$=e.pipe(Object(r.u)(Se)),this.gridState$=e.pipe(Object(r.u)(Ie)),this.gridCheckedState$=e.pipe(Object(r.u)(we)),this._initSubscription()}ngOnInit(){this.store.dispatch(s.loadContinentList({condition:{parentOnlyYn:!0}})),this.store.dispatch(s.loadDepartureArrivalTypeList({condition:{masterCode:"FL005"}})),this.store.dispatch(s.loadTicketingBasisTypeList({condition:{masterCode:"FL024"}})),this.store.dispatch(s.loadTicketingTimeTypeList({condition:{masterCode:"BS051"}})),this.initSearchCondition()}ngOnDestroy(){this.store.dispatch(s.initList()),this.unsubscribe$.next(),this.unsubscribe$.complete(),this.store.dispatch(s.setGridCheckRowidsAction({rowids:this.gridEl.checkedRows})),this.store.dispatch(s.setGridStateAction({gridState:this.gridEl.thisGridState})),this.store.dispatch(s.setGridCheckedStateAction({gridCheckedState:this.gridEl.checkedStateOutput}))}changePageSizeHandler(e){this.store.dispatch(s.changePageSize({pageSize:e}))}clickAddHandler(){this.store.dispatch(s.openDetailPopup())}clickDelHandler(){var e;(null===(e=this.gridEl.checkedRows)||void 0===e?void 0:e.length)>0?this.alertService.confirm({message:"Are you sure you want to delete the selected items?",accept:()=>{this.store.dispatch(s.removeSelectedGridEntities({rowids:this.gridEl.checkedRows}))},reject:()=>{}}):this.alertService.alert("There are no items selected.")}clickSearchHandler({searchCondition:e,autoCompleteExt:t}){const i=this._setSearchCondition(e);this.store.dispatch(s.loadList({condition:i})),this.store.dispatch(s.changeSearchCondition({searchCondition:w.cloneDeep(i),autoCompleteExt:t})),this.UserConditionService.setSearchSettingSessionStorage(i,this._storeId,t)}clickResetHandler(){this.store.dispatch(s.changeSearchCondition({searchCondition:this._dataService.initListSearch(),autoCompleteExt:{}}))}dbClickRowHandler(e){this.store.dispatch(s.addSelectedDetailRowInfo({selectedDetailRowInfo:w.cloneDeep(e)})),this.clickAddHandler()}submitUpsertHandler(e){const t=w.cloneDeep(e);this.store.dispatch(s.upsertItem({upsertCondition:t}))}closeUpsertHandler(){this.store.dispatch(s.closeDetailPopup()),this.store.dispatch(s.delSelectedDetailRowInfo())}_initSubscription(){this.reloadToggle$.pipe(Object(S.a)(1),Object(I.a)(this.unsubscribe$)).subscribe(()=>{this.searchFormEl.searchFormValid&&this.searchFormEl.onSubmit()})}_setSearchCondition(e){return w.omitBy(e,e=>w.isNil(e)||""===e)}initSearchCondition(){if(this.searchCondition$.subscribe(e=>this._searchCondition=e),this.gridDataList$.subscribe(e=>this._searchGridDataList=e),this.autoCompleteExt$.subscribe(e=>this._autoCompleteExt=e),0===w.size(this._searchCondition)&&0===w.size(this._searchGridDataList)){const e=this._dataService.initListSearch(),t=this.UserConditionService.selectSearchSetting(e,this._storeId,this._autoCompleteExt);this.store.dispatch(s.changeSearchCondition({searchCondition:t[0],autoCompleteExt:t[1]}))}}}return e.\u0275fac=function(t){return new(t||e)(Ee.Qb(r.h),Ee.Qb(_e),Ee.Qb(Ge.a),Ee.Qb(Ue.a))},e.\u0275cmp=Ee.Kb({type:e,selectors:[["app-fl-web-tl"]],viewQuery:function(e,t){var i;1&e&&(Ee.Xc(Ke,!0),Ee.Xc(He.a,!0)),2&e&&(Ee.Dc(i=Ee.gc())&&(t.searchFormEl=i.first),Ee.Dc(i=Ee.gc())&&(t.gridEl=i.first))},decls:26,vars:50,consts:[[3,"departureArrivalTypeList","continentList","autoCompleteExt","searchCondition","clickSearchEvent","clickResetEvent"],[3,"loading","currentPageSize","totalCount","clickAddEvent","clickDelEvent","changePageSizeEvent"],["bookingDayOrHourTpl",""],["ticketingBasisTypeTpl",""],["useYnTpl",""],[3,"gridLoading","gridState","checkedState","columns","pageSize","checkboxUseYn","dataList","templates","dbClickRowEvent"],["gridBasis",""],["modalSize","sm","modalContentClass","pd-all","header","Web TTL Info",3,"visible","modal","visibleChange"],[3,"departureArrivalTypeList","ticketingBasisTypeList","ticketingTimeTypeList","continentList","rowItem","submitEvent","closeEvent",4,"ngIf"],[4,"ngIf"],[3,"departureArrivalTypeList","ticketingBasisTypeList","ticketingTimeTypeList","continentList","rowItem","submitEvent","closeEvent"]],template:function(e,t){if(1&e&&(Ee.Wb(0,"app-fl-web-tl-search",0),Ee.fc("clickSearchEvent",(function(e){return t.clickSearchHandler(e)}))("clickResetEvent",(function(){return t.clickResetHandler()})),Ee.ic(1,"async"),Ee.ic(2,"async"),Ee.ic(3,"async"),Ee.ic(4,"async"),Ee.Vb(),Ee.Wb(5,"app-fl-web-tl-control",1),Ee.fc("clickAddEvent",(function(){return t.clickAddHandler()}))("clickDelEvent",(function(){return t.clickDelHandler()}))("changePageSizeEvent",(function(e){return t.changePageSizeHandler(e)})),Ee.ic(6,"async"),Ee.ic(7,"async"),Ee.ic(8,"async"),Ee.Vb(),Ee.Nc(9,et,2,2,"ng-template",null,2,Ee.Oc),Ee.Nc(11,tt,5,3,"ng-template",null,3,Ee.Oc),Ee.Nc(13,nt,2,2,"ng-template",null,4,Ee.Oc),Ee.Wb(15,"app-grid-basis",5,6),Ee.fc("dbClickRowEvent",(function(e){return t.dbClickRowHandler(e)})),Ee.ic(17,"async"),Ee.ic(18,"async"),Ee.ic(19,"async"),Ee.ic(20,"async"),Ee.ic(21,"async"),Ee.Vb(),Ee.Wb(22,"app-dialog",7),Ee.fc("visibleChange",(function(){return t.closeUpsertHandler()})),Ee.ic(23,"async"),Ee.Nc(24,ct,6,15,"app-fl-web-tl-form",8),Ee.ic(25,"async"),Ee.Vb()),2&e){const e=Ee.Ec(10),i=Ee.Ec(12),s=Ee.Ec(14);Ee.pc("departureArrivalTypeList",Ee.jc(1,18,t.departureArrivalTypeList$))("continentList",Ee.jc(2,20,t.continentList$))("autoCompleteExt",Ee.jc(3,22,t.autoCompleteExt$))("searchCondition",Ee.jc(4,24,t.searchCondition$)),Ee.Cb(5),Ee.pc("loading",Ee.jc(6,26,t.loading$))("currentPageSize",Ee.jc(7,28,t.listPageSize$))("totalCount",Ee.jc(8,30,t.gridDataList$).length),Ee.Cb(10),Ee.pc("gridLoading",Ee.jc(17,32,t.loading$))("gridState",Ee.jc(18,34,t.gridState$))("checkedState",Ee.jc(19,36,t.gridCheckedState$))("columns",t.columns)("pageSize",Ee.jc(20,38,t.listPageSize$))("checkboxUseYn",!1)("dataList",Ee.jc(21,40,t.gridDataList$))("templates",Ee.wc(46,at,e,i,s)),Ee.Cb(7),Ee.pc("visible",Ee.jc(23,42,t.isOpenDetailPopup$))("modal",!0),Ee.Cb(2),Ee.pc("ngIf",Ee.jc(25,44,t.isOpenDetailPopup$))}},directives:[Ke,Me,He.a,Qe.a,n.o,Xe],pipes:[n.b],encapsulation:2,changeDetection:0}),e})();const ot=[{path:"",component:rt,data:{title:"\ud56d\uacf5WEB TTL \uad00\ub9ac"}}];let lt=(()=>{class e{}return e.\u0275mod=Ee.Ob({type:e}),e.\u0275inj=Ee.Nb({factory:function(t){return new(t||e)},imports:[[k.f.forChild(ot)],k.f]}),e})();var dt=i("lJxs"),ut=i("JIr8"),pt=i("vkgz"),bt=i("bOdf"),ht=i("zp1y"),gt=i("IzEk"),mt=i("Xb6A"),Ot=i("AtUx");let vt=(()=>{class e{constructor(e,t,i,n,c,o){this.actions$=e,this.service=t,this._errorService=i,this.loader=n,this.alertService=c,this.store=o,this.loadList$=Object(a.c)(()=>this.actions$.pipe(Object(a.d)(s.loadList),Object(We.a)(({condition:e})=>this.service.getList(e).pipe(Object(dt.a)(e=>s.getListSuccess({dataList:e})),Object(ut.a)(e=>{const t="List lookup failed. Please try again in a momentarily.",i=[s.getListFailure({error:t})];return this._catchErr(e,t,i),[]}))))),this.removeItems$=Object(a.c)(()=>this.actions$.pipe(Object(a.d)(s.removeSelectedGridEntities),Object(We.a)(({rowids:e})=>this.service.removeItems({rowids:e}).pipe(Object(dt.a)(e=>({succeedYn:!0})),Object(ut.a)(e=>Object(Fe.a)({succeedYn:!1,error:e})))),Object(pt.a)(({succeedYn:e,error:t})=>{if(e){const e=[s.reloadList(),s.delSelectedDetailRowInfo()];this._runPage("Your data has been deleted.",e)}else{const e=[s.removeItemsFailure({error:"Deletion failed."})];this._catchErr(t,"Deletion failed.",e)}})),{dispatch:!1}),this.upsertItem$=Object(a.c)(()=>this.actions$.pipe(Object(a.d)(s.upsertItem),Object(We.a)(({upsertCondition:e})=>this.service.upsertItem(e).pipe(Object(dt.a)(()=>({succeedYn:!0})),Object(ut.a)(e=>Object(Fe.a)({succeedYn:!1,error:e})))),Object(pt.a)(({succeedYn:e,error:t})=>{if(e){const e="Your data has been saved.",t=[s.reloadList(),s.closeDetailPopup(),s.delSelectedDetailRowInfo()];this._runPage(e,t)}else{const e="Failed to save.",i=[s.upsertItemFailure({error:e})];this._catchErr(t,e,i)}})),{dispatch:!1}),this.loadContinentList$=Object(a.c)(()=>this.actions$.pipe(Object(a.d)(s.loadContinentList),Object(bt.a)(e=>Object(Fe.a)(e).pipe(Object(ht.a)(this.continentList$.pipe(Object(gt.a)(1))))),Object(We.a)(([{condition:e},t])=>w.isNil(t)||0===t.length?this.service.getContinentList(e).pipe(Object(dt.a)(e=>s.getContinentListSuccess({dataList:e})),Object(ut.a)(e=>{const t="Continental code lookup failed.",i=[s.getContinentListFailure({error:t})];return this._catchErr(e,t,i),[]})):Object(Fe.a)(s.getContinentListSuccess({dataList:t}))))),this.loadDepartureArrivalTypeList$=Object(a.c)(()=>this.actions$.pipe(Object(a.d)(s.loadDepartureArrivalTypeList),Object(bt.a)(e=>Object(Fe.a)(e).pipe(Object(ht.a)(this.departureArrivalTypeList$.pipe(Object(gt.a)(1))))),Object(We.a)(([{condition:e},t])=>w.isNil(t)||0===t.length?this.service.getCommonDetailCodeList(e).pipe(Object(dt.a)(e=>s.getDepartureArrivalTypeListSuccess({dataList:e})),Object(ut.a)(e=>{const t="Failed to retrieve arrival and departure segments.",i=[s.getDepartureArrivalTypeListFailure({error:t})];return this._catchErr(e,t,i),[]})):Object(Fe.a)(s.getDepartureArrivalTypeListSuccess({dataList:t}))))),this.loadTicketingBasisTypeList$=Object(a.c)(()=>this.actions$.pipe(Object(a.d)(s.loadTicketingBasisTypeList),Object(bt.a)(e=>Object(Fe.a)(e).pipe(Object(ht.a)(this.ticketingBasisTypeList$.pipe(Object(gt.a)(1))))),Object(We.a)(([{condition:e},t])=>w.isNil(t)||0===t.length?this.service.getCommonDetailCodeList(e).pipe(Object(dt.a)(e=>s.getTicketingBasisTypeListSuccess({dataList:e})),Object(ut.a)(e=>{const t="Failed to retrieve ticket type.",i=[s.getTicketingBasisTypeListFailure({error:t})];return this._catchErr(e,t,i),[]})):Object(Fe.a)(s.getTicketingBasisTypeListSuccess({dataList:t}))))),this.loadTicketingTimeTypeList$=Object(a.c)(()=>this.actions$.pipe(Object(a.d)(s.loadTicketingTimeTypeList),Object(bt.a)(e=>Object(Fe.a)(e).pipe(Object(ht.a)(this.ticketingTimeTypeList$.pipe(Object(gt.a)(1))))),Object(We.a)(([{condition:e},t])=>w.isNil(t)||0===t.length?this.service.getCommonDetailCodeList(e).pipe(Object(dt.a)(e=>s.getTicketingTimeTypeListSuccess({dataList:e})),Object(ut.a)(e=>{const t="Failed to retrieve ticketing time type.",i=[s.getTicketingTimeTypeListFailure({error:t})];return this._catchErr(e,t,i),[]})):Object(Fe.a)(s.getTicketingTimeTypeListSuccess({dataList:t}))))),this.continentList$=this.store.pipe(Object(r.u)(me)),this.departureArrivalTypeList$=this.store.pipe(Object(r.u)(Oe)),this.ticketingBasisTypeList$=this.store.pipe(Object(r.u)(ve)),this.ticketingTimeTypeList$=this.store.pipe(Object(r.u)(fe))}_runPage(e,t){this.alertService.alert({message:e,accept:(null==t?void 0:t.length)>0?()=>{t.forEach(e=>{this.store.dispatch(e)})}:()=>{}})}_catchErr(e,t,i){const s=this._errorService.errorHandler(e,t);w.isNil(s)||(w.isNil(s.accept)&&(s.accept=(null==i?void 0:i.length)>0?()=>{i.forEach(e=>{this.store.dispatch(e)})}:()=>{}),this.alertService.alert(s))}}return e.\u0275fac=function(t){return new(t||e)(Ee.bc(a.a),Ee.bc(Ne),Ee.bc(mt.a),Ee.bc(Ot.a),Ee.bc(Ge.a),Ee.bc(r.h))},e.\u0275prov=Ee.Mb({token:e,factory:e.\u0275fac}),e})();const ft=[rt],jt=[Me,Xe,Ke];let Ct=(()=>{class e{}return e.\u0275mod=Ee.Ob({type:e}),e.\u0275inj=Ee.Nb({factory:function(t){return new(t||e)},imports:[[n.c,c.m,c.w,o.m,l.a,d.a,u.a,f.a,p.a,b.a,h.a,g.a,m.a,O.a,v.a,C.a,j.a,T.a,lt,y.a,r.j.forFeature("flWebTl",ue),a.b.forFeature([vt])]]}),e})()}}]);