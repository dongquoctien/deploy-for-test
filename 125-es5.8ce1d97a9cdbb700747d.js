function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,o=!1,a=void 0;try{for(var s,c=t[Symbol.iterator]();!(i=(s=c.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(r){o=!0,a=r}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[125],{U5rg:function(t,e,n){"use strict";n.r(e),n.d(e,"CONTAINERS",(function(){return Sn})),n.d(e,"COMPONENTS",(function(){return On})),n.d(e,"FlReservationListB2cRefundModule",(function(){return yn}));var i={};n.r(i),n.d(i,"initComponentStateAction",(function(){return F})),n.d(i,"loadDateRangeTypeListAction",(function(){return D})),n.d(i,"loadDateRangeTypeListSuccessAction",(function(){return E})),n.d(i,"loadBookingStatusListAction",(function(){return w})),n.d(i,"loadBookingStatusListSuccessAction",(function(){return x})),n.d(i,"loadGdsCompListAction",(function(){return V})),n.d(i,"loadGdsCompListSuccessAction",(function(){return _})),n.d(i,"loadAutoTicketingStatusListAction",(function(){return B})),n.d(i,"loadAutoTicketingStatusListSuccessAction",(function(){return W})),n.d(i,"loadChangeRequestStatusListAction",(function(){return $})),n.d(i,"loadChangeRequestStatusListSuccessAction",(function(){return Y})),n.d(i,"loadPaymentStatusCodeListAction",(function(){return U})),n.d(i,"loadPaymentStatusCodeListSuccessAction",(function(){return q})),n.d(i,"loadTicketingStatusCodeListAction",(function(){return M})),n.d(i,"loadTicketingStatusCodeListSuccessAction",(function(){return H})),n.d(i,"changeSearchConditionAction",(function(){return z})),n.d(i,"reloadList",(function(){return G})),n.d(i,"loadListAction",(function(){return K})),n.d(i,"loadListSuccessAction",(function(){return Q})),n.d(i,"loadListFailureAction",(function(){return X})),n.d(i,"setGridStateAction",(function(){return J})),n.d(i,"setGridCheckStateAction",(function(){return Z})),n.d(i,"changePageIndex",(function(){return tt})),n.d(i,"changePageSize",(function(){return et})),n.d(i,"openAssignPicPopup",(function(){return nt})),n.d(i,"closeAssignPicPopup",(function(){return it})),n.d(i,"updateAssignPicItems",(function(){return ot})),n.d(i,"updateAssignPicItemsSuccess",(function(){return at})),n.d(i,"openAutoStatusPopupAction",(function(){return st})),n.d(i,"closeAutoStatusPopupAction",(function(){return ct})),n.d(i,"saveAutoStatusAction",(function(){return rt})),n.d(i,"saveAutoStatusSuccessAction",(function(){return ut})),n.d(i,"saveAutoStatusFailureAction",(function(){return lt})),n.d(i,"openRefundCancelPopupAction",(function(){return dt})),n.d(i,"closeRefundCancelPopupAction",(function(){return pt})),n.d(i,"saveBookingStatusAction",(function(){return bt})),n.d(i,"saveBookingStatusSuccessAction",(function(){return gt})),n.d(i,"saveBookingStatusFailureAction",(function(){return ft})),n.d(i,"openUmsPopup",(function(){return mt})),n.d(i,"closeUmsPopup",(function(){return ht}));var o=n("ofXK"),a=n("3Pt+"),s=n("snw9"),c=n("kt0X"),r=n("vu/V"),u=n("7rOj"),l=n("6LsY"),d=n("l1P7"),p=n("v7zA"),b=n("hHe4"),g=n("5hwk"),f=n("kKjH"),m=n("qXPF"),h=n("1OXJ"),C=n("7UZF"),v=n("w8np"),k=n("YyVL"),S=n("a7NL"),O=n("tyNb"),y=n("XNiG"),j=n("itXk"),L=n("zP0r"),R=n("Kj3r"),A=n("pLZG"),P=n("1G5W"),T=n("LvDl"),I=n("wd/R"),N=n.n(I),F=Object(c.o)("[FlReservationListB2cRefund] init component state"),D=Object(c.o)("[FlReservationListB2cRefund] load date range type list",Object(c.t)()),E=Object(c.o)("[FlReservationListB2cRefund] load date range type list success",Object(c.t)()),w=Object(c.o)("[FlReservationListB2cRefund] load booking status list",Object(c.t)()),x=Object(c.o)("[FlReservationListB2cRefund] load booking status list success",Object(c.t)()),V=Object(c.o)("[FlReservationListB2cRefund] load gds comp list",Object(c.t)()),_=Object(c.o)("[FlReservationListB2cRefund] load gds comp list success",Object(c.t)()),B=Object(c.o)("[FlReservationListB2cRefund] load auto ticketing status list",Object(c.t)()),W=Object(c.o)("[FlReservationListB2cRefund] load auto ticketing status list success",Object(c.t)()),$=Object(c.o)("[FlReservationListB2cRefund] load change request status list",Object(c.t)()),Y=Object(c.o)("[FlReservationListB2cRefund] load change request status list success",Object(c.t)()),U=Object(c.o)("[FlReservationListB2cRefund] load payment status code list",Object(c.t)()),q=Object(c.o)("[FlReservationListB2cRefund] load payment status code list success",Object(c.t)()),M=Object(c.o)("[FlReservationListB2cRefund] load ticketing status code list",Object(c.t)()),H=Object(c.o)("[FlReservationListB2cRefund] load ticketing status code list success",Object(c.t)()),z=Object(c.o)("[FlReservationListB2cRefund] change search condition",Object(c.t)()),G=Object(c.o)("[FlReservationListB2cRefund] reload grid data list"),K=Object(c.o)("[FlReservationListB2cRefund] load list",Object(c.t)()),Q=Object(c.o)("[FlReservationListB2cRefund] load list success",Object(c.t)()),X=Object(c.o)("[FlReservationListB2cRefund] load list failure",Object(c.t)()),J=Object(c.o)("[FlReservationListB2cRefund] set grid state",Object(c.t)()),Z=Object(c.o)("[FlReservationListB2cRefund] set grid check state",Object(c.t)()),tt=Object(c.o)("[FlReservationListB2cRefund] change page index",Object(c.t)()),et=Object(c.o)("[FlReservationListB2cRefund] change page size",Object(c.t)()),nt=Object(c.o)("[FlReservationListB2cRefund] open assign pic popup"),it=Object(c.o)("[FlReservationListB2cRefund] close assign pic popup"),ot=Object(c.o)("[FlReservationListB2cRefund/AssignPicUpdate] \uc77c\uad04\ubcc0\uacbd \ud31d\uc5c5\uc5d0\uc11c \uc800\uc7a5 \ubc84\ud2bc \ud074\ub9ad \uc561\uc158",Object(c.t)()),at=Object(c.o)("[FlReservationListB2cRefund] update items success"),st=Object(c.o)("[FlReservationListB2cRefund] open auto status popup"),ct=Object(c.o)("[FlReservationListB2cRefund] close auto status popup"),rt=Object(c.o)("[FlReservationListB2cRefund] save auto status",Object(c.t)()),ut=Object(c.o)("[FlReservationListB2cRefund] save auto status success",Object(c.t)()),lt=Object(c.o)("[FlReservationListB2cRefund] save auto status failure",Object(c.t)()),dt=Object(c.o)("[FlReservationListB2cRefund] open refund cancel popup"),pt=Object(c.o)("[FlReservationListB2cRefund] close refund cancel popup"),bt=Object(c.o)("[FlReservationListB2cRefund] save booking status",Object(c.t)()),gt=Object(c.o)("[FlReservationListB2cRefund] save booking status success",Object(c.t)()),ft=Object(c.o)("[FlReservationListB2cRefund] save booking status failure",Object(c.t)()),mt=Object(c.o)("[FlReservationListB2cRefund] open ums popup"),ht=Object(c.o)("[FlReservationListB2cRefund] close ums popup"),Ct=n("EVqC"),vt=Object(Ct.a)({selectId:function(t){return t.rowid},sortComparer:!1}),kt=vt.getInitialState({dateRangeTypeList:null,bookingStatusList:null,paymentStatusCodeList:null,ticketingStatusCodeList:null,gdsCompList:null,autoTicketingStatusList:null,changeRequestStatusList:null,loading:!1,reloadToggle:!1,searchCondition:null,otherSearchInfo:null,selectedCorporateCompCode:null,selectedRowInfo:null,isOpenAssignPicPopup:!1,isOpenAutoStatusPopup:!1,isOpenRefundCancelPopup:!1,isOpenUmsPopup:!1,gridDataTotal:null,gridState:{pageInfo:{skip:0,take:20},sortInfo:[]},gridCheckedState:null,gridSummary:null}),St=Object(c.q)(kt,Object(c.s)(i.initComponentStateAction,(function(t){return Object.assign(Object.assign({},t),{loading:!1,subLoading:!1})})),Object(c.s)(i.loadDateRangeTypeListSuccessAction,(function(t,e){var n=e.dataList;return Object.assign(Object.assign({},t),{dateRangeTypeList:n})})),Object(c.s)(i.loadBookingStatusListSuccessAction,(function(t,e){var n=e.dataList;return Object.assign(Object.assign({},t),{bookingStatusList:n})})),Object(c.s)(i.loadGdsCompListSuccessAction,(function(t,e){var n=e.dataList;return Object.assign(Object.assign({},t),{gdsCompList:n})})),Object(c.s)(i.loadAutoTicketingStatusListSuccessAction,(function(t,e){var n=e.dataList;return Object.assign(Object.assign({},t),{autoTicketingStatusList:n})})),Object(c.s)(i.loadChangeRequestStatusListSuccessAction,(function(t,e){var n=e.dataList;return Object.assign(Object.assign({},t),{changeRequestStatusList:n})})),Object(c.s)(i.loadPaymentStatusCodeListSuccessAction,(function(t,e){var n=e.dataList;return Object.assign(Object.assign({},t),{paymentStatusCodeList:n})})),Object(c.s)(i.loadTicketingStatusCodeListSuccessAction,(function(t,e){var n=e.dataList;return Object.assign(Object.assign({},t),{ticketingStatusCodeList:n})})),Object(c.s)(i.changeSearchConditionAction,(function(t,e){var n=e.condition,i=e.otherSearchInfo;return Object.assign(Object.assign({},t),{searchCondition:n,otherSearchInfo:i})})),Object(c.s)(i.reloadList,(function(t){return Object.assign(Object.assign({},t),{reloadToggle:!t.reloadToggle})})),Object(c.s)(i.loadListAction,(function(t){return Object.assign(Object.assign({},t),{loading:!0,selectedRowInfo:null})})),Object(c.s)(i.loadListSuccessAction,(function(t,e){var n=e.dataList,i=e.totalCount,o=e.summary;return vt.setAll(n,Object.assign(Object.assign({},t),{loading:!1,gridDataTotal:i,gridSummary:o}))})),Object(c.s)(i.loadListFailureAction,(function(t){return Object.assign(Object.assign({},t),{loading:!1})})),Object(c.s)(i.setGridStateAction,(function(t,e){var n=e.gridState;return Object.assign(Object.assign({},t),{gridState:n})})),Object(c.s)(i.setGridCheckStateAction,(function(t,e){var n=e.gridCheckedState;return Object.assign(Object.assign({},t),{gridCheckedState:n})})),Object(c.s)(i.changePageIndex,(function(t,e){var n=e.pageIndex;return Object.assign(Object.assign({},t),{gridState:T.set(T.cloneDeep(t.gridState),["pageInfo","skip"],n)})})),Object(c.s)(i.changePageSize,(function(t,e){var n=e.pageSize;return Object.assign(Object.assign({},t),{gridState:T.set(T.cloneDeep(t.gridState),["pageInfo","take"],n)})})),Object(c.s)(i.openUmsPopup,(function(t){return Object.assign(Object.assign({},t),{isOpenUmsPopup:!0})})),Object(c.s)(i.closeUmsPopup,(function(t){return Object.assign(Object.assign({},t),{isOpenUmsPopup:!1})})),Object(c.s)(i.openAssignPicPopup,(function(t){return Object.assign(Object.assign({},t),{isOpenAssignPicPopup:!0})})),Object(c.s)(i.closeAssignPicPopup,(function(t){return Object.assign(Object.assign({},t),{isOpenAssignPicPopup:!1})})),Object(c.s)(i.openAutoStatusPopupAction,(function(t){return Object.assign(Object.assign({},t),{isOpenAutoStatusPopup:!0})})),Object(c.s)(i.closeAutoStatusPopupAction,(function(t){return Object.assign(Object.assign({},t),{isOpenAutoStatusPopup:!1})})),Object(c.s)(i.openRefundCancelPopupAction,(function(t){return Object.assign(Object.assign({},t),{isOpenRefundCancelPopup:!0})})),Object(c.s)(i.closeRefundCancelPopupAction,(function(t){return Object.assign(Object.assign({},t),{isOpenRefundCancelPopup:!1})})),Object(c.s)(i.updateAssignPicItemsSuccess,(function(t){return Object.assign(Object.assign({},t),{reloadToggle:!t.reloadToggle})})),Object(c.s)(i.saveAutoStatusSuccessAction,(function(t,e){var n=e.updateList;return vt.upsertMany(n,Object.assign({},t))})));function Ot(t,e){return Object(c.m)({flReservationListB2cRefundMain:St})(t,e)}var yt,jt,Lt=Object(c.p)("flReservationListB2cRefund"),Rt=Object(c.r)(Lt,(function(t){return t.flReservationListB2cRefundMain})),At=Object(c.r)(Rt,(function(t){return t.dateRangeTypeList})),Pt=Object(c.r)(Rt,(function(t){return t.bookingStatusList})),Tt=Object(c.r)(Rt,(function(t){return t.gdsCompList})),It=Object(c.r)(Rt,(function(t){return t.autoTicketingStatusList})),Nt=Object(c.r)(Rt,(function(t){return t.changeRequestStatusList})),Ft=Object(c.r)(Rt,(function(t){return t.paymentStatusCodeList})),Dt=Object(c.r)(Rt,(function(t){return t.ticketingStatusCodeList})),Et=Object(c.r)(Rt,(function(t){return t.loading})),wt=Object(c.r)(Rt,(function(t){return t.reloadToggle})),xt=Object(c.r)(Rt,(function(t){return t.searchCondition})),Vt=Object(c.r)(Rt,(function(t){return t.otherSearchInfo})),_t=vt.getSelectors(Rt).selectAll,Bt=Object(c.r)(Rt,(function(t){return t.gridDataTotal})),Wt=Object(c.r)(Rt,(function(t){return t.gridSummary})),$t=Object(c.r)(Rt,(function(t){return t.gridState})),Yt=Object(c.r)(Rt,(function(t){return t.gridCheckedState})),Ut=Object(c.r)(Rt,(function(t){return t.isOpenUmsPopup})),qt=Object(c.r)(Rt,(function(t){return t.isOpenAssignPicPopup})),Mt=Object(c.r)(Rt,(function(t){return t.isOpenAutoStatusPopup})),Ht=Object(c.r)(Rt,(function(t){return t.isOpenRefundCancelPopup})),zt=Object(c.r)(Rt,(function(t){return t.selectedRowInfo})),Gt=Object(c.r)($t,(function(t){return T.get(t,["pageInfo","take"],20)})),Kt=n("YY+H"),Qt=n("AytR").a.API_URL,Xt={postCommonDetail:"".concat(Qt,"/common/detail-code"),postCommonComp:"".concat(Qt,"/common/comp"),postBasicContinent:"".concat(Qt,"/admin/basis/continent"),postBookingFlightList:"".concat(Qt,"/admin/booking/flight/list"),putAssignPicItems:"".concat(Qt,"/admin/booking/pic-assign"),putAutoStatus:"".concat(Qt,"/admin/booking/flight/auto-status"),putBookingStatus:"".concat(Qt,"/admin/booking/status"),excelDownload:"".concat(Qt,"/admin/booking/flight/excel")},Jt=n("fXoL"),Zt=n("pfiq"),te=n("LRne"),ee=n("z6cu"),ne=n("eIep"),ie=n("tpT/"),oe=((yt=function(){function t(e){_classCallCheck(this,t),this.api=e}return _createClass(t,[{key:"getCommonDetailCodeList",value:function(t){var e=T.assign({},this.api.defaultParams,{condition:t});return this.api.post(Xt.postCommonDetail,e).pipe(Object(ne.a)((function(t){return t.succeedYn?Object(te.a)(t.result.list):Object(ee.a)(t||"api response error")})))}},{key:"getCommonComp",value:function(t){var e=T.assign({},this.api.defaultParams,{condition:t});return this.api.post(Xt.postCommonComp,e).pipe(Object(ne.a)((function(t){return t.succeedYn?Object(te.a)(t.result.list):Object(ee.a)(t||"api response error")})))}},{key:"getContinentList",value:function(t){var e=T.assign({},this.api.defaultParams,{condition:t});return this.api.post(Xt.postBasicContinent,e).pipe(Object(ne.a)((function(t){return t.succeedYn?Object(te.a)(t.result.list):Object(ee.a)(t||"api response error")})))}},{key:"getList",value:function(t){var e=this,n=T.assign({},this.api.defaultParams,{condition:t});return this.api.post(Xt.postBookingFlightList,n).pipe(Object(ne.a)((function(t){if(t.succeedYn&&t.result){var n=e._addRowid(t.result.list),i=t.result.totalCount,o=t.result.summary;return Object(te.a)({list:n,totalCount:i,summary:o})}return Object(ee.a)(t||"api response error")})))}},{key:"putAutoStatus",value:function(t){var e=T.assign({},this.api.defaultParams,{condition:t});return this.api.put(Xt.putAutoStatus,e).pipe(Object(ne.a)((function(t){var e;if(t.succeedYn){var n=null==t?void 0:t.result,i=n.autoTicketingStatusCode,o=n.autoTicketingStatusName,a=null===(e=null==t?void 0:t.result)||void 0===e?void 0:e.bookingItemCodes.map((function(t){return{id:t,bookingItemCode:t,autoTicketingStatusCode:i,autoTicketingStatusName:o}}));return Object(te.a)(a)}return Object(ee.a)(t||"api response error")})))}},{key:"putBookingStatus",value:function(t){var e=T.assign({},this.api.defaultParams,{condition:t});return this.api.put(Xt.putBookingStatus,e).pipe(Object(ne.a)((function(t){var e;if(t.succeedYn){var n=null==t?void 0:t.result,i=n.bookingStatusCode,o=n.bookingStatusName,a=null===(e=null==t?void 0:t.result)||void 0===e?void 0:e.bookingItemCodes.map((function(t){return{id:t,bookingItemCode:t,bookingStatusCode:i,bookingStatusName:o}}));return Object(te.a)(a)}return Object(ee.a)(t||"api response error")})))}},{key:"putAssignPicItems",value:function(t){var e=T.assign({},this.api.defaultParams,{condition:t});return this.api.put(Xt.putAssignPicItems,e).pipe(Object(ne.a)((function(t){return t.succeedYn?Object(te.a)(!0):Object(ee.a)(t||"api response error")})))}},{key:"_addRowid",value:function(t){return T.isNil(t)?[]:t.map((function(t,e){return Object.assign(Object.assign({},t),{rowid:String(e)})}))}}]),t}()).\u0275fac=function(t){return new(t||yt)(Jt.bc(ie.a))},yt.\u0275prov=Jt.Mb({token:yt,factory:yt.\u0275fac,providedIn:"root"}),yt),ae=n("6UzV"),se=((jt=_createClass((function t(e){var n=this;_classCallCheck(this,t),this.fb=e,this.generateGridColumns=function(){return[{field:"requestDatetime",title:"Request Date",style:{"text-align":"center"}},{field:"changeRequestStatusName",title:"Request Status"},{field:"bookingItemCode",title:"Booking Item Code",style:{"text-align":"center"},template:"bookingItemCodeTpl"},{field:"gdsSubPnr",title:"PNR"},{field:"bookingStatusName",title:"Booking Status",style:{"text-align":"center"}},{field:"paymentStatusName",title:"C.Payment Status",style:{"text-align":"center"}},{field:"ticketingStatusName",title:"Issued Date",style:{"text-align":"center"}},{field:"departureDatetime",title:"Departure Date",style:{"text-align":"center"},format:"dateTime"},{field:"ticketingDate",title:"Issued Date",style:{"text-align":"center"}},{field:"dDay",title:"D-Day",template:"dDayTpl"},{field:"airlineCode",title:"Airline",style:{"text-align":"center"}},{field:"itinerary",title:"Itinerary"},{field:"gdsCompName",title:"GDS",style:{"text-align":"center"}},{field:"refundPicName",title:"RFND PIC"}]},this.generateListSearchForm=function(){return n.fb.group({searchTypeCode:[null],dateRange1:n.fb.group({rangeType:[null],dates:n.fb.array([new a.g(null,a.z.required),new a.g(null,a.z.required)])},{validators:[ae.a.compareDatesValidators("rangeCompare",[["dates",0],["dates",1]])]}),dateRange2:n.fb.group({rangeType:[null],dates:n.fb.array([new a.g(null),new a.g(null)])},{validators:[ae.a.compareDatesValidators("rangeCompare",[["dates",0],["dates",1]])]}),lastRefundPicUno:[null],paymentStatusCode:[null],ticketingStatusCode:[null],bookingCode:[null],bookingItemCode:[null],gdsSubPnr:[null],airlinePnr:[null],bookerName:[null],bookerId:[null],travelerName:[null],ticketNo:[null],bookerMobileNo:[null],deviceTypeCode:[null],bookingStatusCodes:[null],gdsCompCodes:[null],autoTicketingStatusCodes:[null],requestStatusCodes:[null],changeRequestStatusCode:[null],destinationContinentCodes:[null],domesticYn:[null],airlineCodes:[null,[ae.a.airlineCodesStringValidator]]})},this.initSearchFormData=function(){return{searchTypeCode:"BFT03",dateRange1:{rangeType:"FDC02",dates:[I().add(-1,"weeks").format("YYYY-MM-DD"),I().format("YYYY-MM-DD")]},dateRange2:{rangeType:"FDC01",dates:[null,null]},lastRefundPicUno:null,paymentStatusCode:null,ticketingStatusCode:null,bookingCode:null,bookingItemCode:null,gdsSubPnr:null,airlinePnr:null,bookerName:null,bookerId:null,travelerName:null,ticketNo:null,bookerMobileNo:null,deviceTypeCode:null,bookingStatusCodes:null,gdsCompCodes:null,autoTicketingStatusCodes:null,requestStatusCodes:null,changeRequestStatusCode:null,destinationContinentCodes:null,domesticYn:null,airlineCodes:null}},this.initSearchCondition=function(){return{searchTypeCode:"BFT03",dateRange1:{rangeType:"FDC02",dates:[I().add(-1,"weeks").format("YYYY-MM-DD"),I().format("YYYY-MM-DD")]},dateRange2:{rangeType:"FDC01",dates:[I().add(-1,"weeks").format("YYYY-MM-DD"),I().format("YYYY-MM-DD")]},lastRefundPicUno:null,paymentStatusCode:null,ticketingStatusCode:null,bookingCode:null,bookingItemCode:null,gdsSubPnr:null,airlinePnr:null,bookerName:null,bookerId:null,travelerName:null,ticketNo:null,bookerMobileNo:null,deviceTypeCode:null,bookingStatusCodes:null,gdsCompCodes:null,autoTicketingStatusCodes:null,changeRequestStatusCode:null,airlineCodes:null,requestStatusCodes:null,domesticYn:null,sortOrder:null,limits:null}},this.generateAssignPicPutForm=function(){return n.fb.group({itemCategoryCode:[null],picTypeCode:[null],picUno:[null],picName:[null]})},this.initAssignPicPutForm=function(){return{itemCategoryCode:"IC01",picTypeCode:"PIC05",picUno:null,picName:null}}}))).\u0275fac=function(t){return new(t||jt)(Jt.bc(a.f))},jt.\u0275prov=Jt.Mb({token:jt,factory:jt.\u0275fac,providedIn:"root"}),jt),ce=n("+Sob"),re=n("nMd8"),ue=n("rbKv"),le=n("kd+X"),de=n("LVFn"),pe=n("U6NN"),be=n("0xcq"),ge=n("gbCm");function fe(t,e){1&t&&Jt.Rb(0,"app-input-text",43)}function me(t,e){1&t&&Jt.Rb(0,"app-input-text",44)}function he(t,e){1&t&&Jt.Rb(0,"app-input-text",45)}function Ce(t,e){1&t&&Jt.Rb(0,"app-input-text",46)}function ve(t,e){1&t&&Jt.Rb(0,"app-input-text",47)}function ke(t,e){1&t&&Jt.Rb(0,"app-input-text",48)}function Se(t,e){1&t&&Jt.Rb(0,"app-input-text",49)}function Oe(t,e){1&t&&Jt.Rb(0,"app-input-text",50)}function ye(t,e){1&t&&Jt.Rb(0,"app-input-text",51)}function je(t,e){1&t&&Jt.Rb(0,"app-input-text",52)}function Le(t,e){1&t&&Jt.Rb(0,"app-input-text",53)}var Re,Ae,Pe,Te,Ie,Ne=function(){return["dateRange1","dates"]},Fe=function(){return["dateRange2","dates"]},De=function(){return{standalone:!0}},Ee=function(){return{userTypeCode:"U01"}},we=function(){return["userNo","name","deptName","positionName"]},xe=((Re=function(){function t(e,n){_classCallCheck(this,t),this.fb=e,this._dataService=n,this.clickSearchEvent=new Jt.n,this.clickResetEvent=new Jt.n,this.isShowmore=!1,this.searchForm=n.generateListSearchForm()}return _createClass(t,[{key:"dateRangeTypeList",get:function(){return this._dataRangeTypeList},set:function(t){this._dataRangeTypeList=t,this._initDateRangeList(t)}},{key:"searchCondition",get:function(){return this._searchCondition},set:function(t){this._searchCondition=t,this.searchFormData=this._setSearchFormData(t),this._initDateRangeList(this.dateRangeTypeList)}},{key:"otherSearchInfo",get:function(){return this._otherSearchInfo},set:function(t){this._otherSearchInfo=t,this._setOtherSearchInfo(t)}},{key:"dateRange1Dates",get:function(){return this.searchForm.get("dateRange1").get("dates").value}},{key:"dateRange2Dates",get:function(){return this.searchForm.get("dateRange2").get("dates").value}},{key:"formValue",get:function(){return this.searchForm.value}},{key:"searchFormValid",get:function(){return this.searchForm.valid}},{key:"ngOnInit",value:function(){this._initState()}},{key:"checkIsInvalid",value:function(t){return this._checkValid&&this.searchForm.get(t)&&this.searchForm.get(t).invalid}},{key:"onSubmit",value:function(){if(this.searchForm.invalid)this._checkValid=!0;else{var t=this.setSearchCondition(),e=this._setOtherSearchCondition();this.clickSearchEvent.emit({searchCondition:t,otherSearchInfo:e}),this._checkValid=!1}}},{key:"onReset",value:function(){this.clickResetEvent.emit()}},{key:"onChangerangeType1",value:function(t){var e=t.value;this.dateRangeTypeList2=this.dateRangeTypeList.filter((function(t){return t.detailCode!==e}));var n=this.dateRangeTypeList2[0].detailCode;this.dateRangeTypeList3=this.dateRangeTypeList.filter((function(t){return t.detailCode!==e&&t.detailCode!==n}));var i=this.dateRangeTypeList3[0].detailCode;this.searchForm.get("dateRange2").get("rangeType").setValue(n),this.searchForm.get("dateRange3").get("rangeType").setValue(i)}},{key:"onChangerangeType2",value:function(t){var e=t.value;this.dateRangeTypeList3=this.dateRangeTypeList2.filter((function(t){return t.detailCode!==e})),this.searchForm.get("dateRange3").get("rangeType").setValue(this.dateRangeTypeList2[0].detailCode)}},{key:"onChangeTextSearchType",value:function(t){var e=t.value,n=this.searchForm.get(this.selectedCodeTypeDropdown).value,i={bookingCode:null,bookingItemCode:null,gdsSubPnr:null,airlinePnr:null,bookerName:null,bookerId:null,travelerName:null,ticketNo:null,bookerMobileNo:null,authCode:null,promotionSeq:null};i[e]=n,this.searchForm.patchValue(i),this.selectedCodeTypeDropdown=e}},{key:"setSearchCondition",value:function(){var t=this._dataService.initSearchCondition(),e=T.isNil(this.searchForm.value.gdsCompCodes)?this.searchForm.value.gdsCompCodes:[this.searchForm.value.gdsCompCodes],n=Object.assign({},T.pick(this.searchForm.value,Object.keys(t)),{gdsCompCodes:e});return T.omitBy(n,T.isNil)}},{key:"_setSearchFormData",value:function(t){var e,n=this._dataService.initSearchFormData(),i=null===(e=null==t?void 0:t.gdsCompCodes)||void 0===e?void 0:e[0];return Object.assign({},n,T.pick(t,Object.keys(n)),{gdsCompCodes:i})}},{key:"_setOtherSearchInfo",value:function(t){this.selectedCodeTypeDropdown=(null==t?void 0:t.selectedCodeTypeDropdown)||"bookingCode",this.lastRefundPicInput=(null==t?void 0:t.lastRefundPicInput)||null}},{key:"_setOtherSearchCondition",value:function(){var t={selectedCodeTypeDropdown:this.selectedCodeTypeDropdown};return this.autoCopmpletes.forEach((function(e){Object.assign(t,e.getInputValue())})),t}},{key:"_initDateRangeList",value:function(t){var e,n,i=null===(e=this.searchCondition)||void 0===e?void 0:e.dateRange1.rangeType,o=null===(n=this.searchCondition)||void 0===n?void 0:n.dateRange2.rangeType;this.dateRangeTypeList2=null==t?void 0:t.filter((function(t){return t.detailCode!==i})),this.dateRangeTypeList3=null==t?void 0:t.filter((function(t){return t.detailCode!==i&&t.detailCode!==o}))}},{key:"_initState",value:function(){this.isShowmore=!0,this.useYnOptions=[{value:!0,label:"Y"},{value:!1,label:"N"}],this.codeTypeOptions=[{value:"bookingCode",label:"Booking Code"},{value:"bookingItemCode",label:"Booking Item Code"},{value:"gdsSubPnr",label:"GDS PNR"},{value:"airlinePnr",label:"Airline PNR"},{value:"bookerName",label:"Booker Name"},{value:"bookerId",label:"Booker Id"},{value:"travelerName",label:"Traveler Name"},{value:"ticketNo",label:"Ticket No"},{value:"bookerMobileNo",label:"Mobile No"}],this.domesticOptions=[{value:!1,label:"International"},{value:!0,label:"Domestic"}]}}]),t}()).\u0275fac=function(t){return new(t||Re)(Jt.Qb(a.f),Jt.Qb(se))},Re.\u0275cmp=Jt.Kb({type:Re,selectors:[["app-fl-reservation-list-b2c-refund-search"]],viewQuery:function(t,e){var n;1&t&&Jt.Xc(Zt.a,!0),2&t&&Jt.Dc(n=Jt.gc())&&(e.autoCopmpletes=n)},inputs:{dateRangeTypeList:"dateRangeTypeList",bookingStatusList:"bookingStatusList",gdsCompList:"gdsCompList",autoTicketingStatusList:"autoTicketingStatusList",changeRequestStatusList:"changeRequestStatusList",paymentStatusCodeList:"paymentStatusCodeList",ticketingStatusCodeList:"ticketingStatusCodeList",searchCondition:"searchCondition",otherSearchInfo:"otherSearchInfo"},outputs:{clickSearchEvent:"clickSearchEvent",clickResetEvent:"clickResetEvent"},decls:89,vars:67,consts:[[1,"grid-search-box","multi",3,"formGroup","connectForm","ngSubmit"],[1,"form-option-area"],[1,"row"],["formGroupName","dateRange1",1,"col-2","flex-shrink1"],["formControlName","rangeType","dataKey","detailCode","displayWord","detailCodeName",1,"d-inline-flex","flex-shrink-0",3,"options","useAllOptionYn","onChange"],["formArrayName","dates",1,"calendar-set","flex-fill"],[1,"input","calendar","d-inline-flex","flex-fill"],[3,"for"],["type","text","placeholder","YYYY-MM-DD",3,"matDatepicker","formControlName"],["fromDate1",""],[1,"dash"],["type","text","placeholder","YYYY-MM-DD",3,"matDatepicker","min","formControlName"],["toDate1",""],["formGroupName","dateRange2",1,"col-2","flex-shrink1"],["fromDate2",""],["toDate2",""],[1,"col-1"],[1,"d-inline-flex","flex-shrink-0","mr5",3,"options","ngModel","ngModelOptions","useAllOptionYn","onChange"],[3,"ngSwitch"],["formControlName","bookingCode","class","d-inline flex-fill","valueType","string",4,"ngSwitchCase"],["formControlName","bookingItemCode","class","d-inline flex-fill","valueType","string",4,"ngSwitchCase"],["formControlName","gdsSubPnr","class","d-inline flex-fill","valueType","string",4,"ngSwitchCase"],["formControlName","airlinePnr","class","d-inline flex-fill","valueType","string",4,"ngSwitchCase"],["formControlName","bookerName","class","d-inline flex-fill","valueType","string",4,"ngSwitchCase"],["formControlName","bookerId","class","d-inline flex-fill","placeholder","","valueType","string",4,"ngSwitchCase"],["formControlName","travelerName","class","d-inline flex-fill","valueType","string",4,"ngSwitchCase"],["formControlName","ticketNo","class","d-inline flex-fill","placeholder","","valueType","string",4,"ngSwitchCase"],["formControlName","bookerMobileNo","class","d-inline flex-fill","valueType","string",4,"ngSwitchCase"],["formControlName","authCode","class","d-inline flex-fill","valueType","string",4,"ngSwitchCase"],["formControlName","promotionSeq","class","d-inline flex-fill","valueType","number",4,"ngSwitchCase"],[1,"form-label"],["formControlName","bookingStatusCodes","dataKey","detailCode","displayWord","detailCodeName",1,"d-inline-flex","flex-fill",3,"options","useAllOptionYn"],["formControlName","paymentStatusCode","dataKey","detailCode","displayWord","detailCodeName",1,"d-inline-flex","flex-fill",3,"options","useAllOptionYn"],["formControlName","ticketingStatusCode","dataKey","detailCode","displayWord","detailCodeName",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","requestStatusCodes","dataKey","detailCode","displayWord","detailCodeName",1,"d-inline-flex","flex-fill",3,"options","useAllOptionYn"],["formControlName","airlineCodes","placeholder","e.g. KE","inputFormat","upperCase",1,"d-inline-flex","flex-fill",3,"isInvalid"],["formControlName","domesticYn",1,"d-inline-flex","flex-fill",3,"options"],["formControlName","gdsCompCodes","displayKey","compName","dataKey","compCode",1,"d-inline-flex","flex-fill",3,"options","useAllOptionYn"],["formControlName","lastRefundPicUno","apiUrl","admin/common/staff","dataKey","userNo","inputFieldFormat","{0}-{1}&,{2}&,{3}","placeholder","Name",1,"d-inline-flex","flex-fill",3,"inputFieldValue","inputId","apiSearchTerm","apiCondition","inputFieldFormatKeyList"],[1,"form-button-area"],["type","submit","role","button",1,"btn","btn-primary","sm"],["type","button","role","button",1,"btn","btn-reset","sm",3,"click"],[1,"btn-searchbox-extend",3,"click"],["formControlName","bookingCode","valueType","string",1,"d-inline","flex-fill"],["formControlName","bookingItemCode","valueType","string",1,"d-inline","flex-fill"],["formControlName","gdsSubPnr","valueType","string",1,"d-inline","flex-fill"],["formControlName","airlinePnr","valueType","string",1,"d-inline","flex-fill"],["formControlName","bookerName","valueType","string",1,"d-inline","flex-fill"],["formControlName","bookerId","placeholder","","valueType","string",1,"d-inline","flex-fill"],["formControlName","travelerName","valueType","string",1,"d-inline","flex-fill"],["formControlName","ticketNo","placeholder","","valueType","string",1,"d-inline","flex-fill"],["formControlName","bookerMobileNo","valueType","string",1,"d-inline","flex-fill"],["formControlName","authCode","valueType","string",1,"d-inline","flex-fill"],["formControlName","promotionSeq","valueType","number",1,"d-inline","flex-fill"]],template:function(t,e){if(1&t&&(Jt.Wb(0,"form",0),Jt.fc("ngSubmit",(function(){return e.onSubmit()})),Jt.Wb(1,"div",1),Jt.Wb(2,"div",2),Jt.Wb(3,"div",3),Jt.Wb(4,"app-selectbox-detailcode",4),Jt.fc("onChange",(function(t){return e.onChangerangeType1(t)})),Jt.Vb(),Jt.Wb(5,"div",5),Jt.Wb(6,"div",6),Jt.Rb(7,"mat-datepicker-toggle",7),Jt.Rb(8,"input",8),Jt.Rb(9,"mat-datepicker",null,9),Jt.Vb(),Jt.Wb(11,"span",10),Jt.Pc(12,"~"),Jt.Vb(),Jt.Wb(13,"div",6),Jt.Rb(14,"mat-datepicker-toggle",7),Jt.Rb(15,"input",11),Jt.Rb(16,"mat-datepicker",null,12),Jt.Vb(),Jt.Vb(),Jt.Vb(),Jt.Wb(18,"div",13),Jt.Wb(19,"app-selectbox-detailcode",4),Jt.fc("onChange",(function(t){return e.onChangerangeType2(t)})),Jt.Vb(),Jt.Wb(20,"div",5),Jt.Wb(21,"div",6),Jt.Rb(22,"mat-datepicker-toggle",7),Jt.Rb(23,"input",8),Jt.Rb(24,"mat-datepicker",null,14),Jt.Vb(),Jt.Wb(26,"span",10),Jt.Pc(27,"~"),Jt.Vb(),Jt.Wb(28,"div",6),Jt.Rb(29,"mat-datepicker-toggle",7),Jt.Rb(30,"input",11),Jt.Rb(31,"mat-datepicker",null,15),Jt.Vb(),Jt.Vb(),Jt.Vb(),Jt.Vb(),Jt.Wb(33,"div",2),Jt.Wb(34,"div",16),Jt.Wb(35,"app-selectbox",17),Jt.fc("onChange",(function(t){return e.onChangeTextSearchType(t)})),Jt.Vb(),Jt.Ub(36,18),Jt.Nc(37,fe,1,0,"app-input-text",19),Jt.Nc(38,me,1,0,"app-input-text",20),Jt.Nc(39,he,1,0,"app-input-text",21),Jt.Nc(40,Ce,1,0,"app-input-text",22),Jt.Nc(41,ve,1,0,"app-input-text",23),Jt.Nc(42,ke,1,0,"app-input-text",24),Jt.Nc(43,Se,1,0,"app-input-text",25),Jt.Nc(44,Oe,1,0,"app-input-text",26),Jt.Nc(45,ye,1,0,"app-input-text",27),Jt.Nc(46,je,1,0,"app-input-text",28),Jt.Nc(47,Le,1,0,"app-input-text",29),Jt.Tb(),Jt.Vb(),Jt.Wb(48,"div",16),Jt.Wb(49,"span",30),Jt.Pc(50,"Booking Status"),Jt.Vb(),Jt.Rb(51,"app-multi-select-detailcode",31),Jt.Vb(),Jt.Wb(52,"div",16),Jt.Wb(53,"span",30),Jt.Pc(54,"C.Payment Status"),Jt.Vb(),Jt.Rb(55,"app-selectbox-detailcode",32),Jt.Vb(),Jt.Wb(56,"div",16),Jt.Wb(57,"span",30),Jt.Pc(58,"Issued Status"),Jt.Vb(),Jt.Rb(59,"app-selectbox-detailcode",33),Jt.Vb(),Jt.Vb(),Jt.Wb(60,"div",2),Jt.Wb(61,"div",16),Jt.Wb(62,"span",30),Jt.Pc(63,"Request Status"),Jt.Vb(),Jt.Rb(64,"app-multi-select-detailcode",34),Jt.Vb(),Jt.Wb(65,"div",16),Jt.Wb(66,"span",30),Jt.Pc(67,"Airline"),Jt.Vb(),Jt.Rb(68,"app-input-text",35),Jt.Vb(),Jt.Wb(69,"div",16),Jt.Wb(70,"span",30),Jt.Pc(71,"I/D"),Jt.Vb(),Jt.Rb(72,"app-selectbox",36),Jt.Vb(),Jt.Wb(73,"div",16),Jt.Wb(74,"span",30),Jt.Pc(75,"GDS"),Jt.Vb(),Jt.Rb(76,"app-selectbox",37),Jt.Vb(),Jt.Vb(),Jt.Wb(77,"div",2),Jt.Wb(78,"div",16),Jt.Wb(79,"span",30),Jt.Pc(80,"Refund PIC"),Jt.Vb(),Jt.Rb(81,"app-auto-complete",38),Jt.Vb(),Jt.Vb(),Jt.Vb(),Jt.Wb(82,"div",39),Jt.Wb(83,"button",40),Jt.Pc(84,"Search"),Jt.Vb(),Jt.Wb(85,"button",41),Jt.fc("click",(function(){return e.onReset()})),Jt.Pc(86,"Reset"),Jt.Vb(),Jt.Wb(87,"a",42),Jt.fc("click",(function(){return e.isShowmore=!e.isShowmore})),Jt.Pc(88,"\uac80\uc0c9 \uc635\uc158 \ub354\ubcf4\uae30"),Jt.Vb(),Jt.Vb(),Jt.Vb()),2&t){var n=Jt.Ec(10),i=Jt.Ec(17),o=Jt.Ec(25),a=Jt.Ec(32);Jt.pc("formGroup",e.searchForm)("connectForm",e.searchFormData),Jt.Cb(4),Jt.pc("options",e.dateRangeTypeList)("useAllOptionYn",!1),Jt.Cb(1),Jt.Gb("valid-error",e.checkIsInvalid(Jt.tc(62,Ne))),Jt.Cb(2),Jt.pc("for",n),Jt.Cb(1),Jt.pc("matDatepicker",n)("formControlName",0),Jt.Cb(6),Jt.pc("for",i),Jt.Cb(1),Jt.pc("matDatepicker",i)("min",e.dateRange1Dates[0])("formControlName",1),Jt.Cb(4),Jt.pc("options",e.dateRangeTypeList2)("useAllOptionYn",!1),Jt.Cb(1),Jt.Gb("valid-error",e.checkIsInvalid(Jt.tc(63,Fe))),Jt.Cb(2),Jt.pc("for",o),Jt.Cb(1),Jt.pc("matDatepicker",o)("formControlName",0),Jt.Cb(6),Jt.pc("for",a),Jt.Cb(1),Jt.pc("matDatepicker",a)("min",e.dateRange2Dates[0])("formControlName",1),Jt.Cb(5),Jt.pc("options",e.codeTypeOptions)("ngModel",e.selectedCodeTypeDropdown)("ngModelOptions",Jt.tc(64,De))("useAllOptionYn",!1),Jt.Cb(1),Jt.pc("ngSwitch",e.selectedCodeTypeDropdown),Jt.Cb(1),Jt.pc("ngSwitchCase","bookingCode"),Jt.Cb(1),Jt.pc("ngSwitchCase","bookingItemCode"),Jt.Cb(1),Jt.pc("ngSwitchCase","gdsSubPnr"),Jt.Cb(1),Jt.pc("ngSwitchCase","airlinePnr"),Jt.Cb(1),Jt.pc("ngSwitchCase","bookerName"),Jt.Cb(1),Jt.pc("ngSwitchCase","bookerId"),Jt.Cb(1),Jt.pc("ngSwitchCase","travelerName"),Jt.Cb(1),Jt.pc("ngSwitchCase","ticketNo"),Jt.Cb(1),Jt.pc("ngSwitchCase","bookerMobileNo"),Jt.Cb(1),Jt.pc("ngSwitchCase","authCode"),Jt.Cb(1),Jt.pc("ngSwitchCase","promotionSeq"),Jt.Cb(4),Jt.pc("options",e.bookingStatusList)("useAllOptionYn",!0),Jt.Cb(4),Jt.pc("options",e.paymentStatusCodeList)("useAllOptionYn",!0),Jt.Cb(4),Jt.pc("options",e.ticketingStatusCodeList),Jt.Cb(1),Jt.Gb("hide",e.isShowmore),Jt.Cb(4),Jt.pc("options",e.changeRequestStatusList)("useAllOptionYn",!0),Jt.Cb(4),Jt.pc("isInvalid",e.checkIsInvalid("airlineCodes")),Jt.Cb(4),Jt.pc("options",e.domesticOptions),Jt.Cb(4),Jt.pc("options",e.gdsCompList)("useAllOptionYn",!0),Jt.Cb(1),Jt.Gb("hide",e.isShowmore),Jt.Cb(4),Jt.pc("inputFieldValue",e.lastRefundPicInput)("inputId","lastRefundPicInput")("apiSearchTerm","name")("apiCondition",Jt.tc(65,Ee))("inputFieldFormatKeyList",Jt.tc(66,we)),Jt.Cb(6),Jt.Gb("active",e.isShowmore)}},directives:[a.B,a.s,a.k,ce.a,a.l,re.a,a.r,a.i,a.e,ue.a,le.a,a.c,de.a,pe.a,a.u,o.q,o.r,be.a,ge.a,Zt.a],encapsulation:2,changeDetection:0}),Re),Ve=n("EsKh"),_e=((Pe=function(){function t(e){_classCallCheck(this,t),this.alertService=e,this.changePageSizeEvent=new Jt.n,this.clickViewBookingsEvent=new Jt.n,this.clickAssignPicEvent=new Jt.n,this.clickAutoStatusEvent=new Jt.n,this.clickRefundCancelEvent=new Jt.n,this.clickUmsEvent=new Jt.n,this.excelDownloadEvent=new Jt.n,this.pageSizeOptions=[{label:"20",value:20},{label:"40",value:40},{label:"60",value:60},{label:"80",value:80},{label:"100",value:100}]}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onChangePageSize",value:function(t){this.changePageSizeEvent.emit(t.value)}},{key:"onClickViewBookings",value:function(){this.clickViewBookingsEvent.emit()}},{key:"onClickAutoStatus",value:function(){this.clickAutoStatusEvent.emit()}},{key:"onClickRefundCancel",value:function(){this.clickRefundCancelEvent.emit()}},{key:"onClickUMS",value:function(){this.clickUmsEvent.emit()}},{key:"onClickAssignPic",value:function(){this.clickAssignPicEvent.emit()}},{key:"onClickExcel",value:function(){this.excelDownloadEvent.emit()}}]),t}()).\u0275fac=function(t){return new(t||Pe)(Jt.Qb(Ve.a))},Pe.\u0275cmp=Jt.Kb({type:Pe,selectors:[["app-fl-reservation-list-b2c-refund-control"]],inputs:{loading:"loading",currentPageSize:"currentPageSize",totalCount:"totalCount"},outputs:{changePageSizeEvent:"changePageSizeEvent",clickViewBookingsEvent:"clickViewBookingsEvent",clickAssignPicEvent:"clickAssignPicEvent",clickAutoStatusEvent:"clickAutoStatusEvent",clickRefundCancelEvent:"clickRefundCancelEvent",clickUmsEvent:"clickUmsEvent",excelDownloadEvent:"excelDownloadEvent"},decls:9,vars:4,consts:[[1,"grid-control-area"],[1,"grid-count",2,"min-width","30px"],[1,"ml-auto","d-inline-flex","flex-glow-0"],[1,"btn","btn-outline-dark","sm","d-inline-flex","flex-glow-0",3,"click"],[1,"sm","d-inline-flex","flex-glow-0","sm",3,"options","ngModel","useAllOptionYn","onChange"]],template:function(t,e){1&t&&(Jt.Wb(0,"div",0),Jt.Wb(1,"strong",1),Jt.Pc(2),Jt.Vb(),Jt.Wb(3,"div",2),Jt.Wb(4,"button",3),Jt.fc("click",(function(){return e.onClickAssignPic()})),Jt.Pc(5,"Assign Refund PIC"),Jt.Vb(),Jt.Wb(6,"button",3),Jt.fc("click",(function(){return e.onClickExcel()})),Jt.Pc(7,"Excel"),Jt.Vb(),Jt.Wb(8,"app-selectbox",4),Jt.fc("onChange",(function(t){return e.onChangePageSize(t)})),Jt.Vb(),Jt.Vb(),Jt.Vb()),2&t&&(Jt.Cb(2),Jt.Qc(e.loading?"":e.totalCount),Jt.Cb(6),Jt.pc("options",e.pageSizeOptions)("ngModel",e.currentPageSize)("useAllOptionYn",!1))},directives:[pe.a,a.r,a.u],encapsulation:2,changeDetection:0}),Pe),Be=((Ae=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Ae)},Ae.\u0275cmp=Jt.Kb({type:Ae,selectors:[["app-fl-reservation-list-b2c-refund-summary"]],inputs:{summary:"summary"},decls:42,vars:15,consts:[[1,"table","table-bordered","mt30"],["width","10%"],["scope","row",1,"th-bg"]],template:function(t,e){1&t&&(Jt.Wb(0,"div",0),Jt.Wb(1,"table"),Jt.Wb(2,"caption"),Jt.Pc(3," \ud56d\uacf5 \ud658\ubd88\uc608\uc57d\uc870\ud68c summary "),Jt.Vb(),Jt.Wb(4,"colgroup"),Jt.Rb(5,"col",1),Jt.Rb(6,"col",1),Jt.Rb(7,"col",1),Jt.Rb(8,"col",1),Jt.Rb(9,"col",1),Jt.Rb(10,"col",1),Jt.Rb(11,"col",1),Jt.Rb(12,"col",1),Jt.Rb(13,"col",1),Jt.Rb(14,"col",1),Jt.Vb(),Jt.Wb(15,"tbody"),Jt.Wb(16,"tr"),Jt.Wb(17,"th",2),Jt.Pc(18,"\ucd1d \uac74\uc218"),Jt.Vb(),Jt.Wb(19,"td"),Jt.Pc(20),Jt.ic(21,"number"),Jt.Vb(),Jt.Wb(22,"th",2),Jt.Pc(23,"\ucd1d \uc778\uc6d0"),Jt.Vb(),Jt.Wb(24,"td"),Jt.Pc(25),Jt.ic(26,"number"),Jt.Vb(),Jt.Wb(27,"th",2),Jt.Pc(28,"\ud658\ubd88 TASF \ud569\uacc4"),Jt.Vb(),Jt.Wb(29,"td"),Jt.Pc(30),Jt.ic(31,"number"),Jt.Vb(),Jt.Wb(32,"th",2),Jt.Pc(33,"\ud56d\uacf5\uc0ac\uc218\uc218\ub8cc \ucd1d\uae08\uc561"),Jt.Vb(),Jt.Wb(34,"td"),Jt.Pc(35),Jt.ic(36,"number"),Jt.Vb(),Jt.Wb(37,"th",2),Jt.Pc(38,"\ud658\ubd88 TASF \uc785\uae08\uae08\uc561"),Jt.Vb(),Jt.Wb(39,"td"),Jt.Pc(40),Jt.ic(41,"number"),Jt.Vb(),Jt.Vb(),Jt.Vb(),Jt.Vb(),Jt.Vb()),2&t&&(Jt.Cb(20),Jt.Qc(Jt.jc(21,5,null==e.summary?null:e.summary.sumItemCount)),Jt.Cb(5),Jt.Qc(Jt.jc(26,7,null==e.summary?null:e.summary.sumPaxCount)),Jt.Cb(5),Jt.Qc(Jt.jc(31,9,null==e.summary?null:e.summary.sumRefundTasfAmount)),Jt.Cb(5),Jt.Qc(Jt.jc(36,11,null==e.summary?null:e.summary.sumAirlinePenaltyAmount)),Jt.Cb(5),Jt.Qc(Jt.jc(41,13,null==e.summary?null:e.summary.sumDepositAmount)))},pipes:[o.f],encapsulation:2,changeDetection:0}),Ae),We=function(){return{userTypeCode:"U01"}},$e=function(){return["userNo","name","deptName","positionName"]},Ye=((Ie=function(){function t(e){_classCallCheck(this,t),this._dataService=e,this.submitEvent=new Jt.n,this.closeEvent=new Jt.n,this._$unsubscribe=new y.a,this.putForm=e.generateAssignPicPutForm(),this.putFormData=e.initAssignPicPutForm()}return _createClass(t,[{key:"loginUser",get:function(){return this._loginUser},set:function(t){if(t){this.picInput="".concat(t.userNo,"-").concat(t.name).concat(t.deptName?",".concat(t.deptName):"").concat(t.positionName?",".concat(t.positionName):"");var e=this._dataService.initAssignPicPutForm();this.putFormData=Object.assign(Object.assign({},e),{picUno:t.userNo,picName:t.name})}}},{key:"ngOnInit",value:function(){this._initThisState(),this._initSubscription()}},{key:"ngOnDestroy",value:function(){this._$unsubscribe.next(),this._$unsubscribe.complete()}},{key:"onSubmit",value:function(){if(this.putForm.invalid)this.checkValid=!0;else{var t=this._convertFormToItem(this.putForm.getRawValue(),this.checkedBookingList);this.submitEvent.emit(t)}}},{key:"onClose",value:function(){this.closeEvent.emit()}},{key:"checkIsInvalid",value:function(t){return this.checkValid&&this.putForm.get(t)&&this.putForm.get(t).invalid}},{key:"onSelectBookingPicUno",value:function(t){this.putForm.get("picName").setValue(t.name)}},{key:"_initThisState",value:function(){this.checkValid=!1}},{key:"_convertFormToItem",value:function(t,e){return{list:e.map((function(e){return Object.assign(Object.assign({},t),{bookingItemCode:e.bookingItemCode,changeRequestSeq:e.changeRequestSeq})}))}}},{key:"_initSubscription",value:function(){var t=this;this.putForm.get("picUno").valueChanges.pipe(Object(P.a)(this._$unsubscribe)).subscribe((function(e){T.isNil(e)&&t.putForm.get("picName").setValue(null)}))}}]),t}()).\u0275fac=function(t){return new(t||Ie)(Jt.Qb(se))},Ie.\u0275cmp=Jt.Kb({type:Ie,selectors:[["app-fl-reservation-list-b2c-refund-assign-pic-form"]],inputs:{checkedBookingList:"checkedBookingList",loginUser:"loginUser"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:20,vars:9,consts:[[1,"modal-body"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","170px"],["scope","row",1,"th-bg"],["formControlName","picUno","apiUrl","admin/common/staff","dataKey","userNo","inputFieldFormat","{0}-{1}&,{2}&,{3}","placeholder","Name",3,"inputFieldValue","apiSearchTerm","apiCondition","inputFieldFormatKeyList","isInvalid","onSelect"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(t,e){1&t&&(Jt.Wb(0,"div",0),Jt.Wb(1,"form",1),Jt.fc("ngSubmit",(function(){return e.onSubmit()})),Jt.Wb(2,"div",2),Jt.Wb(3,"table"),Jt.Wb(4,"caption"),Jt.Pc(5," Assign Refund PIC "),Jt.Vb(),Jt.Wb(6,"colgroup"),Jt.Rb(7,"col",3),Jt.Rb(8,"col"),Jt.Vb(),Jt.Wb(9,"tbody"),Jt.Wb(10,"tr"),Jt.Wb(11,"th",4),Jt.Pc(12,"\ud658\ubd88\uc790 \uc9c0\uc815"),Jt.Vb(),Jt.Wb(13,"td"),Jt.Wb(14,"app-auto-complete",5),Jt.fc("onSelect",(function(t){return e.onSelectBookingPicUno(t)})),Jt.Vb(),Jt.Vb(),Jt.Vb(),Jt.Vb(),Jt.Vb(),Jt.Vb(),Jt.Wb(15,"div",6),Jt.Wb(16,"button",7),Jt.Pc(17,"Save"),Jt.Vb(),Jt.Wb(18,"button",8),Jt.fc("click",(function(){return e.onClose()})),Jt.Pc(19,"Close"),Jt.Vb(),Jt.Vb(),Jt.Vb(),Jt.Vb()),2&t&&(Jt.Cb(1),Jt.pc("formGroup",e.putForm)("connectForm",e.putFormData),Jt.Cb(13),Jt.pc("inputFieldValue",e.picInput)("apiSearchTerm","name")("apiCondition",Jt.tc(7,We))("inputFieldFormatKeyList",Jt.tc(8,$e))("isInvalid",e.checkIsInvalid("picUno")))},directives:[a.B,a.s,a.k,ce.a,Zt.a,a.r,a.i],encapsulation:2,changeDetection:0}),Ie),Ue=((Te=function(){function t(){_classCallCheck(this,t),this.saveEvent=new Jt.n,this.closeEvent=new Jt.n}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){}},{key:"onClickChangeStatus",value:function(){this.saveEvent.emit({bookingItemCodes:this.bookingItemCodes,itemCategoryCode:"IC01",bookingStatusCode:"BKS08"})}},{key:"onClose",value:function(){this.closeEvent.emit()}}]),t}()).\u0275fac=function(t){return new(t||Te)},Te.\u0275cmp=Jt.Kb({type:Te,selectors:[["app-fl-reservation-list-b2c-refund-cancel"]],inputs:{bookingItemCodes:"bookingItemCodes"},outputs:{saveEvent:"saveEvent",closeEvent:"closeEvent"},decls:15,vars:0,consts:[[1,"component-wrap"],[1,"align-c","pt20","pb20"],[1,"font-weight-bold","font-size-lg"],[1,"color-red"],[1,"color-blue"],[1,"button-area","align-c","mt10"],["type","button",1,"btn","btn-secondary","sm",3,"click"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(t,e){1&t&&(Jt.Wb(0,"div",0),Jt.Wb(1,"div",1),Jt.Wb(2,"p",2),Jt.Pc(3," \uc9c4\ud589\uc0c1\ud0dc\ub97c "),Jt.Wb(4,"span",3),Jt.Pc(5,'"\ud658\ubd88\uc694\uccad"'),Jt.Vb(),Jt.Pc(6," \uc5d0\uc11c "),Jt.Wb(7,"span",4),Jt.Pc(8,'"\ubc1c\uad8c\uc644\ub8cc"'),Jt.Vb(),Jt.Pc(9,"\ub85c \uc77c\uad04 \ubcc0\uacbd\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? "),Jt.Vb(),Jt.Vb(),Jt.Wb(10,"div",5),Jt.Wb(11,"button",6),Jt.fc("click",(function(){return e.onClickChangeStatus()})),Jt.Pc(12,"\ubcc0\uacbd"),Jt.Vb(),Jt.Wb(13,"button",7),Jt.fc("click",(function(){return e.onClose()})),Jt.Pc(14,"\ucde8\uc18c"),Jt.Vb(),Jt.Vb(),Jt.Vb())},encapsulation:2,changeDetection:0}),Te),qe=n("UIHd"),Me=n("7G9D"),He=n("hna1"),ze=n("kDLv"),Ge=n("i7jD"),Ke=n("/Bmo");function Qe(t,e){if(1&t){var n=Jt.Xb();Jt.Wb(0,"a",15),Jt.fc("click",(function(){Jt.Fc(n);var t=e.$implicit;return Jt.hc().clickBookingItemCode(t.bookingItemCode)})),Jt.Wb(1,"span",16),Jt.Pc(2),Jt.Vb(),Jt.Vb()}if(2&t){var i=e.$implicit;Jt.Cb(2),Jt.Qc(i.bookingItemCode)}}function Xe(t,e){if(1&t&&(Jt.Wb(0,"span"),Jt.Pc(1),Jt.Vb()),2&t){var n=e.$implicit;Jt.Cb(1),Jt.Qc(n.dDay||0)}}function Je(t,e){if(1&t&&(Jt.Wb(0,"span"),Jt.Pc(1),Jt.Vb()),2&t){var n=e.$implicit;Jt.Cb(1),Jt.Sc("",n.ticketIssuedPaxCount,"/",n.totalPaxCount,"")}}function Ze(t,e){if(1&t){var n=Jt.Xb();Jt.Wb(0,"app-auto-status",17),Jt.fc("submitEvent",(function(t){return Jt.Fc(n),Jt.hc().submitAutoStatusHandler(t)}))("closeEvent",(function(){return Jt.Fc(n),Jt.hc().closeAutoStatusHandler()})),Jt.Vb()}if(2&t){var i=Jt.hc();Jt.pc("bookingItemCodes",i.bookingItemCodes)}}function tn(t,e){if(1&t){var n=Jt.Xb();Jt.Wb(0,"app-fl-reservation-list-b2c-refund-assign-pic-form",18),Jt.fc("submitEvent",(function(t){return Jt.Fc(n),Jt.hc().submitAssignPicHandler(t)}))("closeEvent",(function(){return Jt.Fc(n),Jt.hc().closeAssignPicHandler()})),Jt.ic(1,"async"),Jt.Vb()}if(2&t){var i=Jt.hc();Jt.pc("checkedBookingList",i.checkedBookingList)("loginUser",Jt.jc(1,2,i.loginUser$))}}function en(t,e){if(1&t){var n=Jt.Xb();Jt.Wb(0,"app-fl-reservation-list-b2c-refund-cancel",19),Jt.fc("saveEvent",(function(t){return Jt.Fc(n),Jt.hc().saveBookingStatusHandler(t)}))("closeEvent",(function(){return Jt.Fc(n),Jt.hc().closeRefundCancelHandler()})),Jt.Vb()}if(2&t){var i=Jt.hc();Jt.pc("bookingItemCodes",i.uniqbookingItemCodes)}}function nn(t,e){if(1&t&&(Jt.Rb(0,"app-ums",20),Jt.ic(1,"async")),2&t){var n=Jt.hc();Jt.pc("active",Jt.jc(1,3,n.isOpenUmsPopup$))("bookers",n.umsReceiver)("bookingItemCode",n.umsBookingItemCode)}}var on,an,sn,cn,rn=function(t,e,n){return{bookingItemCodeTpl:t,dDayTpl:e,ticketIssuedPaxCountTpl:n}},un=((on=function(){function t(e,n,i,o,a,s){_classCallCheck(this,t),this.store=e,this.dataService=n,this._fileService=i,this.authStore=o,this.alertService=a,this._reservationService=s,this.unsubscribe$=new y.a,this.dateRangeTypeList$=e.pipe(Object(c.u)(At)),this.bookingStatusList$=e.pipe(Object(c.u)(Pt)),this.gdsCompList$=e.pipe(Object(c.u)(Tt)),this.autoTicketingStatusList$=e.pipe(Object(c.u)(It)),this.changeRequestStatusList$=e.pipe(Object(c.u)(Nt)),this.paymentStatusCodeList$=e.pipe(Object(c.u)(Ft)),this.ticketingStatusCodeList$=e.pipe(Object(c.u)(Dt)),this.loading$=e.pipe(Object(c.u)(Et)),this.reloadToggle$=e.pipe(Object(c.u)(wt)),this.searchCondition$=e.pipe(Object(c.u)(xt)),this.otherSearchInfo$=e.pipe(Object(c.u)(Vt)),this.gridDataList$=e.pipe(Object(c.u)(_t)),this.gridSummary$=e.pipe(Object(c.u)(Wt)),this.gridState$=e.pipe(Object(c.u)($t)),this.gridCheckedState$=e.pipe(Object(c.u)(Yt)),this.gridDataTotal$=e.pipe(Object(c.u)(Bt)),this.listPageSize$=e.pipe(Object(c.u)(Gt)),this.isOpenUmsPopup$=e.pipe(Object(c.u)(Ut)),this.isOpenAssignPicPopup$=e.pipe(Object(c.u)(qt)),this.isOpenAutoStatusPopup$=e.pipe(Object(c.u)(Mt)),this.isOpenRefundCancelPopup$=e.pipe(Object(c.u)(Ht)),this.selectedRowItem$=e.pipe(Object(c.u)(zt)),this.loginUser$=o.pipe(Object(c.u)(Kt.r)),this.columns=this.dataService.generateGridColumns(),this._initSubscription()}return _createClass(t,[{key:"bookingItemCodes",get:function(){var t,e;return null===(e=null===(t=this.gridEl)||void 0===t?void 0:t.checkedDataList)||void 0===e?void 0:e.map((function(t){return t.bookingItemCode}))}},{key:"uniqbookingItemCodes",get:function(){var t,e;return T.uniq(null===(e=null===(t=this.gridEl)||void 0===t?void 0:t.checkedDataList)||void 0===e?void 0:e.map((function(t){return t.bookingItemCode})))}},{key:"checkedBookingList",get:function(){var t;return null===(t=this.gridEl)||void 0===t?void 0:t.checkedDataList}},{key:"ngOnInit",value:function(){}},{key:"ngAfterContentInit",value:function(){this.store.dispatch(i.loadDateRangeTypeListAction({condition:{masterCode:"FL057",useYn:!0}})),this.store.dispatch(i.loadBookingStatusListAction({condition:{masterCode:"BK001",referCode1:"IC01",useYn:!0}})),this.store.dispatch(i.loadGdsCompListAction({condition:{compTypeCodes:["CMP10"],limits:[0,100]}})),this.store.dispatch(i.loadAutoTicketingStatusListAction({condition:{masterCode:"FL054",useYn:!0}})),this.store.dispatch(i.loadChangeRequestStatusListAction({condition:{masterCode:"FL037",useYn:!0}})),this.store.dispatch(i.loadPaymentStatusCodeListAction({condition:{masterCode:"BK002",referCode1:"IC01"}})),this.store.dispatch(i.loadTicketingStatusCodeListAction({condition:{masterCode:"FL002"}}))}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.store.dispatch(i.initComponentStateAction()),this.store.dispatch(i.setGridCheckStateAction({gridCheckedState:this.gridEl.checkedStateOutput}))}},{key:"changePageSizeHandler",value:function(t){this.store.dispatch(i.changePageSize({pageSize:t}))}},{key:"clickSearchHandler",value:function(t){var e=t.searchCondition,n=t.otherSearchInfo;this.store.dispatch(i.changeSearchConditionAction({condition:e,otherSearchInfo:n})),this.store.dispatch(i.changePageIndex({pageIndex:0}))}},{key:"clickResetHandler",value:function(){this.store.dispatch(i.changeSearchConditionAction({condition:{},otherSearchInfo:null}))}},{key:"gridStateChangeHandler",value:function(t){this.store.dispatch(i.setGridStateAction({gridState:t}))}},{key:"clickViewBookingsHandler",value:function(){this.gridEl.checkedDataList.length<1?this.alertService.alert("There are no items selected."):this._reservationService.openDetailWindow(this.gridEl.checkedDataList)}},{key:"clickAssignPicHandler",value:function(){this.gridEl.checkedDataList.length<1?this.alertService.alert("There are no items selected."):this.store.dispatch(i.openAssignPicPopup())}},{key:"closeAssignPicHandler",value:function(){this.store.dispatch(i.closeAssignPicPopup())}},{key:"submitAssignPicHandler",value:function(t){var e=T.cloneDeep(t);this.store.dispatch(i.updateAssignPicItems({updateCondition:e}))}},{key:"clickUmsHandler",value:function(){var t=this.gridEl.checkedDataList;t.length<1?this.alertService.alert("There are no items selected."):t.length>1?this.alertService.alert("You can't send a UMS message to multiple people."):(this.umsReceiver=t.map((function(t){return{name:t.bookerName,phoneNo:t.bookerMobileNo,emailAddress:t.bookerEmailAddress}})),this.umsBookingItemCode=1===t.length?t[0].bookingItemCode:void 0,this.store.dispatch(i.openUmsPopup()))}},{key:"closeUmsHandler",value:function(){this.umsBookingItemCode=void 0,this.store.dispatch(i.closeUmsPopup())}},{key:"clickAutoStatusHandler",value:function(){this.store.dispatch(i.openAutoStatusPopupAction())}},{key:"closeAutoStatusHandler",value:function(){this.store.dispatch(i.closeAutoStatusPopupAction())}},{key:"submitAutoStatusHandler",value:function(t){this.store.dispatch(i.saveAutoStatusAction({condition:t}))}},{key:"clickRefundCancelHandler",value:function(){this.store.dispatch(i.openRefundCancelPopupAction())}},{key:"closeRefundCancelHandler",value:function(){this.store.dispatch(i.closeRefundCancelPopupAction())}},{key:"saveBookingStatusHandler",value:function(t){this.store.dispatch(i.saveBookingStatusAction({condition:t}))}},{key:"clickExcelHandler",value:function(){var t=this._changeConditionType(this.searchFormEl.formValue),e=this._setSearchCondition(t);this._fileService.fileDownload({url:Xt.excelDownload,filename:"\ud658\ubd88\uc608\uc57d\uc870\ud68c\ub9ac\uc2a4\ud2b8(B2C)",type:"excel",params:e,requestMethod:"post"})}},{key:"clickBookingItemCode",value:function(t){window.open("".concat(window.location.origin,"/reservation/flight/").concat(t,"?tabName=TICKET_REFUND"),"_blank","height=950,width=1800,left=0,top=0,toolbar=no,menubar=no,scrollbars=no,resizable=yes,location=no,status=no")}},{key:"isInValidDeadline",value:function(t){if(!t)return!1;var e=t.firstInsertDatetime,n=t.clientCancelDeadline,i=t.bookingStatusCode,o=N()(e);return N()(n).isBefore(o)&&["BKS01","BKS02"].indexOf(i)>-1}},{key:"_initSubscription",value:function(){var t=this;Object(j.a)([this.searchCondition$,this.gridState$]).pipe(Object(L.a)(1),Object(R.a)(200),Object(A.a)((function(t){var e=_slicedToArray(t,2),n=e[0];return e[1],!T.isEmpty(n)})),Object(P.a)(this.unsubscribe$)).subscribe((function(e){var n=_slicedToArray(e,2),o=n[0],a=n[1],s=a.pageInfo,c=a.sortInfo,r=t._setSortOrder(c),u=[s.skip,s.skip+s.take],l=Object.assign({},t._setSearchCondition(o),{limits:u,sortOrder:r});t.store.dispatch(i.loadListAction({condition:t._changeConditionType(l)}))})),this.reloadToggle$.pipe(Object(L.a)(1),Object(P.a)(this.unsubscribe$)).subscribe((function(){t.searchFormEl.searchFormValid&&t.searchFormEl.onSubmit()}))}},{key:"_setSortOrder",value:function(t){return t.filter((function(t){return!T.isNil(t.dir)})).map((function(t){return{keyName:t.field,sort:t.dir}}))}},{key:"_setSearchCondition",value:function(t){var e=t.dateRange2.dates.some((function(t){return T.isNil(t)}))?null:t.dateRange2.dates,n=Object.assign({},t,{dateRange2:e&&t.dateRange2});return T.omitBy(n,T.isNil)}},{key:"_changeConditionType",value:function(t){var e=T.isNil(t.airlineCodes)?null:t.airlineCodes.replace(/\s+/g,"").split(",").filter((function(t){return t})),n=Object.assign({},t,{airlineCodes:e});return T.omitBy(n,T.isNil)}}]),t}()).\u0275fac=function(t){return new(t||on)(Jt.Qb(c.h),Jt.Qb(se),Jt.Qb(Me.a),Jt.Qb(c.h),Jt.Qb(Ve.a),Jt.Qb(He.a))},on.\u0275cmp=Jt.Kb({type:on,selectors:[["app-fl-reservation-list-b2c-refund"]],viewQuery:function(t,e){var n;1&t&&(Jt.Xc(xe,!0),Jt.Xc(qe.a,!0)),2&t&&(Jt.Dc(n=Jt.gc())&&(e.searchFormEl=n.first),Jt.Dc(n=Jt.gc())&&(e.gridEl=n.first))},decls:43,vars:89,consts:[[3,"otherSearchInfo","searchCondition","dateRangeTypeList","bookingStatusList","gdsCompList","autoTicketingStatusList","changeRequestStatusList","paymentStatusCodeList","ticketingStatusCodeList","clickSearchEvent","clickResetEvent"],[3,"loading","currentPageSize","totalCount","changePageSizeEvent","clickViewBookingsEvent","clickAssignPicEvent","clickUmsEvent","clickAutoStatusEvent","clickRefundCancelEvent","excelDownloadEvent"],["bookingItemCodeTpl",""],["dDayTpl",""],["ticketIssuedPaxCountTpl",""],[3,"gridLoading","columns","gridState","checkedState","totalCount","checkboxUseYn","sortable","dataList","templates","stateChangeEvent"],["gridEl",""],["modalSize","sm","modalContentClass","pd-all","header","Automatic state changes",3,"visible","modal","visibleChange"],[3,"bookingItemCodes","submitEvent","closeEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","Assign Refund PIC",3,"visible","modal","hasScroll","visibleChange"],[3,"checkedBookingList","loginUser","submitEvent","closeEvent",4,"ngIf"],["modalSize","sm","modalContentClass","pd-all","header","Canceling a refund",3,"visible","modal","visibleChange"],[3,"bookingItemCodes","saveEvent","closeEvent",4,"ngIf"],["header","UMS \ubc1c\uc1a1 \uc815\ubcf4","modalSize","md","modalContentClass","pd-all",3,"visible","modal","visibleChange"],["itemCategoryCode","IC01",3,"active","bookers","bookingItemCode",4,"ngIf"],[3,"click"],[1,"text-underline","color-dark"],[3,"bookingItemCodes","submitEvent","closeEvent"],[3,"checkedBookingList","loginUser","submitEvent","closeEvent"],[3,"bookingItemCodes","saveEvent","closeEvent"],["itemCategoryCode","IC01",3,"active","bookers","bookingItemCode"]],template:function(t,e){if(1&t&&(Jt.Wb(0,"app-fl-reservation-list-b2c-refund-search",0),Jt.fc("clickSearchEvent",(function(t){return e.clickSearchHandler(t)}))("clickResetEvent",(function(){return e.clickResetHandler()})),Jt.ic(1,"async"),Jt.ic(2,"async"),Jt.ic(3,"async"),Jt.ic(4,"async"),Jt.ic(5,"async"),Jt.ic(6,"async"),Jt.ic(7,"async"),Jt.ic(8,"async"),Jt.ic(9,"async"),Jt.Vb(),Jt.Wb(10,"app-fl-reservation-list-b2c-refund-control",1),Jt.fc("changePageSizeEvent",(function(t){return e.changePageSizeHandler(t)}))("clickViewBookingsEvent",(function(){return e.clickViewBookingsHandler()}))("clickAssignPicEvent",(function(){return e.clickAssignPicHandler()}))("clickUmsEvent",(function(){return e.clickUmsHandler()}))("clickAutoStatusEvent",(function(){return e.clickAutoStatusHandler()}))("clickRefundCancelEvent",(function(){return e.clickRefundCancelHandler()}))("excelDownloadEvent",(function(){return e.clickExcelHandler()})),Jt.ic(11,"async"),Jt.ic(12,"async"),Jt.ic(13,"async"),Jt.Vb(),Jt.Nc(14,Qe,3,1,"ng-template",null,2,Jt.Oc),Jt.Nc(16,Xe,2,1,"ng-template",null,3,Jt.Oc),Jt.Nc(18,Je,2,2,"ng-template",null,4,Jt.Oc),Jt.Wb(20,"app-grid-simple",5,6),Jt.fc("stateChangeEvent",(function(t){return e.gridStateChangeHandler(t)})),Jt.ic(22,"async"),Jt.ic(23,"async"),Jt.ic(24,"async"),Jt.ic(25,"async"),Jt.ic(26,"async"),Jt.Vb(),Jt.Wb(27,"app-dialog",7),Jt.fc("visibleChange",(function(){return e.closeAutoStatusHandler()})),Jt.ic(28,"async"),Jt.Nc(29,Ze,1,1,"app-auto-status",8),Jt.ic(30,"async"),Jt.Vb(),Jt.Wb(31,"app-dialog",9),Jt.fc("visibleChange",(function(){return e.closeAssignPicHandler()})),Jt.ic(32,"async"),Jt.Nc(33,tn,2,4,"app-fl-reservation-list-b2c-refund-assign-pic-form",10),Jt.ic(34,"async"),Jt.Vb(),Jt.Wb(35,"app-dialog",11),Jt.fc("visibleChange",(function(){return e.closeRefundCancelHandler()})),Jt.ic(36,"async"),Jt.Nc(37,en,1,1,"app-fl-reservation-list-b2c-refund-cancel",12),Jt.ic(38,"async"),Jt.Vb(),Jt.Wb(39,"app-dialog",13),Jt.fc("visibleChange",(function(){return e.closeUmsHandler()})),Jt.ic(40,"async"),Jt.Nc(41,nn,2,5,"app-ums",14),Jt.ic(42,"async"),Jt.Vb()),2&t){var n=Jt.Ec(15),i=Jt.Ec(17),o=Jt.Ec(19);Jt.pc("otherSearchInfo",Jt.jc(1,35,e.otherSearchInfo$))("searchCondition",Jt.jc(2,37,e.searchCondition$))("dateRangeTypeList",Jt.jc(3,39,e.dateRangeTypeList$))("bookingStatusList",Jt.jc(4,41,e.bookingStatusList$))("gdsCompList",Jt.jc(5,43,e.gdsCompList$))("autoTicketingStatusList",Jt.jc(6,45,e.autoTicketingStatusList$))("changeRequestStatusList",Jt.jc(7,47,e.changeRequestStatusList$))("paymentStatusCodeList",Jt.jc(8,49,e.paymentStatusCodeList$))("ticketingStatusCodeList",Jt.jc(9,51,e.ticketingStatusCodeList$)),Jt.Cb(10),Jt.pc("loading",Jt.jc(11,53,e.loading$))("currentPageSize",Jt.jc(12,55,e.listPageSize$))("totalCount",Jt.jc(13,57,e.gridDataTotal$)),Jt.Cb(10),Jt.pc("gridLoading",Jt.jc(22,59,e.loading$))("columns",e.columns)("gridState",Jt.jc(23,61,e.gridState$))("checkedState",Jt.jc(24,63,e.gridCheckedState$))("totalCount",Jt.jc(25,65,e.gridDataTotal$))("checkboxUseYn",!1)("sortable",!0)("dataList",Jt.jc(26,67,e.gridDataList$))("checkboxUseYn",!0)("templates",Jt.wc(85,rn,n,i,o)),Jt.Cb(7),Jt.pc("visible",Jt.jc(28,69,e.isOpenAutoStatusPopup$))("modal",!0),Jt.Cb(2),Jt.pc("ngIf",Jt.jc(30,71,e.isOpenAutoStatusPopup$)),Jt.Cb(2),Jt.pc("visible",Jt.jc(32,73,e.isOpenAssignPicPopup$))("modal",!0)("hasScroll",!1),Jt.Cb(2),Jt.pc("ngIf",Jt.jc(34,75,e.isOpenAssignPicPopup$)),Jt.Cb(2),Jt.pc("visible",Jt.jc(36,77,e.isOpenRefundCancelPopup$))("modal",!0),Jt.Cb(2),Jt.pc("ngIf",Jt.jc(38,79,e.isOpenRefundCancelPopup$)),Jt.Cb(2),Jt.pc("visible",Jt.jc(40,81,e.isOpenUmsPopup$))("modal",!0),Jt.Cb(2),Jt.pc("ngIf",Jt.jc(42,83,e.isOpenUmsPopup$))}},directives:[xe,_e,qe.a,ze.a,o.o,Ge.a,Ye,Ue,Ke.a],pipes:[o.b],encapsulation:2,changeDetection:0}),on),ln=[{path:"",component:un,data:{title:"\ud658\ubd88\uc608\uc57d\uc870\ud68c(B2C)"}}],dn=((an=_createClass((function t(){_classCallCheck(this,t)}))).\u0275mod=Jt.Ob({type:an}),an.\u0275inj=Jt.Nb({factory:function(t){return new(t||an)},imports:[[O.f.forChild(ln)],O.f]}),an),pn=n("bOdf"),bn=n("zp1y"),gn=n("lJxs"),fn=n("JIr8"),mn=n("vkgz"),hn=n("Xb6A"),Cn=((sn=function(){function t(e,n,o,a,r,u){var l=this;_classCallCheck(this,t),this.actions$=e,this.service=n,this._errorService=o,this.store=a,this.alertService=r,this._authStore=u,this.loadDateRangeTypeList$=Object(s.c)((function(){return l.actions$.pipe(Object(s.d)(i.loadDateRangeTypeListAction),Object(pn.a)((function(t){return Object(te.a)(t).pipe(Object(bn.a)(l.dateRangeTypeList$))})),Object(ne.a)((function(t){var e=_slicedToArray(t,2),n=e[0].condition,o=e[1];return null===o?l.service.getCommonDetailCodeList(n).pipe(Object(gn.a)((function(t){return i.loadDateRangeTypeListSuccessAction({dataList:t})})),Object(fn.a)((function(t){return l._catchErr(t,"Appointment search date code lookup failed."),[]}))):Object(te.a)(i.loadDateRangeTypeListSuccessAction({dataList:T.cloneDeep(o)}))})))})),this.loadBookingStatusList$=Object(s.c)((function(){return l.actions$.pipe(Object(s.d)(i.loadBookingStatusListAction),Object(pn.a)((function(t){return Object(te.a)(t).pipe(Object(bn.a)(l.bookingStatusList$))})),Object(ne.a)((function(t){var e=_slicedToArray(t,2),n=e[0].condition,o=e[1];return null===o?l.service.getCommonDetailCodeList(n).pipe(Object(gn.a)((function(t){return i.loadBookingStatusListSuccessAction({dataList:t})})),Object(fn.a)((function(t){return l._catchErr(t,"Reservation status code lookup failed."),[]}))):Object(te.a)(i.loadBookingStatusListSuccessAction({dataList:T.cloneDeep(o)}))})))})),this.loadGdsCompList$=Object(s.c)((function(){return l.actions$.pipe(Object(s.d)(i.loadGdsCompListAction),Object(pn.a)((function(t){return Object(te.a)(t).pipe(Object(bn.a)(l.gdsCompList$))})),Object(ne.a)((function(t){var e=_slicedToArray(t,2),n=e[0].condition,o=e[1];return null===o?l.service.getCommonComp(n).pipe(Object(gn.a)((function(t){return i.loadGdsCompListSuccessAction({dataList:t})})),Object(fn.a)((function(t){return l._catchErr(t,"GDS company lookup failed."),[]}))):Object(te.a)(i.loadGdsCompListSuccessAction({dataList:T.cloneDeep(o)}))})))})),this.loadAutoTicketingStatusList$=Object(s.c)((function(){return l.actions$.pipe(Object(s.d)(i.loadAutoTicketingStatusListAction),Object(pn.a)((function(t){return Object(te.a)(t).pipe(Object(bn.a)(l.autoTicketingStatusList$))})),Object(ne.a)((function(t){var e=_slicedToArray(t,2),n=e[0].condition,o=e[1];return null===o?l.service.getCommonDetailCodeList(n).pipe(Object(gn.a)((function(t){return i.loadAutoTicketingStatusListSuccessAction({dataList:t})})),Object(fn.a)((function(t){return l._catchErr(t,"The automatic status code lookup failed."),[]}))):Object(te.a)(i.loadAutoTicketingStatusListSuccessAction({dataList:T.cloneDeep(o)}))})))})),this.loadChangeRequestStatusList$=Object(s.c)((function(){return l.actions$.pipe(Object(s.d)(i.loadChangeRequestStatusListAction),Object(pn.a)((function(t){return Object(te.a)(t).pipe(Object(bn.a)(l.changeRequestStatusList$))})),Object(ne.a)((function(t){var e=_slicedToArray(t,2),n=e[0].condition,o=e[1];return null===o?l.service.getCommonDetailCodeList(n).pipe(Object(gn.a)((function(t){return i.loadChangeRequestStatusListSuccessAction({dataList:t})})),Object(fn.a)((function(t){return l._catchErr(t,"The request status code lookup failed."),[]}))):Object(te.a)(i.loadChangeRequestStatusListSuccessAction({dataList:T.cloneDeep(o)}))})))})),this.loadPaymentStatusCodeList$=Object(s.c)((function(){return l.actions$.pipe(Object(s.d)(i.loadPaymentStatusCodeListAction),Object(pn.a)((function(t){return Object(te.a)(t).pipe(Object(bn.a)(l.paymentStatusCodeList$))})),Object(ne.a)((function(t){var e=_slicedToArray(t,2),n=e[0].condition,o=e[1];return null===o?l.service.getCommonDetailCodeList(n).pipe(Object(gn.a)((function(t){return i.loadPaymentStatusCodeListSuccessAction({dataList:t})})),Object(fn.a)((function(t){return l._catchErr(t,"Payment status code lookup failed."),[]}))):Object(te.a)(i.loadPaymentStatusCodeListSuccessAction({dataList:o}))})))})),this.loadTicketingStatusCodeList$=Object(s.c)((function(){return l.actions$.pipe(Object(s.d)(i.loadTicketingStatusCodeListAction),Object(pn.a)((function(t){return Object(te.a)(t).pipe(Object(bn.a)(l.ticketingStatusCodeList$))})),Object(ne.a)((function(t){var e=_slicedToArray(t,2),n=e[0].condition,o=e[1];return null===o?l.service.getCommonDetailCodeList(n).pipe(Object(gn.a)((function(t){return i.loadTicketingStatusCodeListSuccessAction({dataList:t})})),Object(fn.a)((function(t){return l._catchErr(t,"Ticketing status code lookup failed."),[]}))):Object(te.a)(i.loadTicketingStatusCodeListSuccessAction({dataList:o}))})))})),this.loadList$=Object(s.c)((function(){return l.actions$.pipe(Object(s.d)(i.loadListAction),Object(ne.a)((function(t){var e=t.condition;return l.service.getList(e).pipe(Object(gn.a)((function(t){var e=t.list,n=t.totalCount,o=t.summary;return i.loadListSuccessAction({dataList:e,totalCount:n,summary:o})})),Object(fn.a)((function(t){var e="Your airline refund reservation inquiry failed, please try again later.",n=[i.loadListFailureAction({error:e})];return l._catchErr(t,e,n),[]})))})))})),this.updateAssignPicItems$=Object(s.c)((function(){return l.actions$.pipe(Object(s.d)(i.updateAssignPicItems),Object(ne.a)((function(t){var e=t.updateCondition;return l.service.putAssignPicItems(e).pipe(Object(gn.a)((function(t){return{succeedYn:!0}})),Object(fn.a)((function(t){return Object(te.a)({succeedYn:!1,error:t})})))})),Object(mn.a)((function(t){var e=t.succeedYn,n=t.error;if(e){var o=[i.updateAssignPicItemsSuccess(),i.closeAssignPicPopup()];l._runPage("The bulk change to refunders was successful.",o)}else l._catchErr(n,"Bulk change refunders failed.",[])})))}),{dispatch:!1}),this.saveAutoStatus$=Object(s.c)((function(){return l.actions$.pipe(Object(s.d)(i.saveAutoStatusAction),Object(ne.a)((function(t){var e=t.condition;return l.service.putAutoStatus(e).pipe(Object(gn.a)((function(t){return{succeedYn:!0,updateList:t}})),Object(fn.a)((function(t){return Object(te.a)({succeedYn:!1,error:t})})))})),Object(mn.a)((function(t){var e=t.succeedYn,n=t.error;if(e){var o=[i.reloadList(),i.closeAutoStatusPopupAction()];l._runPage("Successful bulk change of auto-status.",o)}else{var a="Failed to bulk change auto-state.",s=[i.saveAutoStatusFailureAction({error:a})];l._catchErr(n,a,s)}})))}),{dispatch:!1}),this.saveBookingStatus$=Object(s.c)((function(){return l.actions$.pipe(Object(s.d)(i.saveBookingStatusAction),Object(ne.a)((function(t){var e=t.condition;return l.service.putBookingStatus(e).pipe(Object(gn.a)((function(t){return{succeedYn:!0,updateList:t}})),Object(fn.a)((function(t){return Object(te.a)({succeedYn:!1,error:t})})))})),Object(mn.a)((function(t){var e=t.succeedYn,n=t.error;if(e){var o=[i.reloadList(),i.closeRefundCancelPopupAction()];l._runPage("Successful bulk change of progress status.",o)}else{var a="Bulk change progress failed.",s=[i.saveBookingStatusFailureAction({error:a})];l._catchErr(n,a,s)}})))}),{dispatch:!1}),this.dateRangeTypeList$=a.pipe(Object(c.u)(At)),this.bookingStatusList$=a.pipe(Object(c.u)(Pt)),this.gdsCompList$=a.pipe(Object(c.u)(Tt)),this.autoTicketingStatusList$=a.pipe(Object(c.u)(It)),this.changeRequestStatusList$=a.pipe(Object(c.u)(Nt)),this.paymentStatusCodeList$=a.pipe(Object(c.u)(Ft)),this.ticketingStatusCodeList$=a.pipe(Object(c.u)(Dt))}return _createClass(t,[{key:"_runPage",value:function(t,e){var n=this;this.alertService.alert({message:t,accept:(null==e?void 0:e.length)>0?function(){e.forEach((function(t){n.store.dispatch(t)}))}:function(){}})}},{key:"_catchErr",value:function(t,e,n){var i=this,o=this._errorService.errorHandler(t,e);T.isNil(o)||(T.isNil(o.accept)&&(o.accept=(null==n?void 0:n.length)>0?function(){n.forEach((function(t){i.store.dispatch(t)}))}:function(){}),this.alertService.alert(o))}}]),t}()).\u0275fac=function(t){return new(t||sn)(Jt.bc(s.a),Jt.bc(oe),Jt.bc(hn.a),Jt.bc(c.h),Jt.bc(Ve.a),Jt.bc(c.h))},sn.\u0275prov=Jt.Mb({token:sn,factory:sn.\u0275fac}),sn),vn=n("YH7L"),kn=n("FGZR"),Sn=[un],On=[xe,_e,Be,Ue,Ye],yn=((cn=_createClass((function t(){_classCallCheck(this,t)}))).\u0275mod=Jt.Ob({type:cn}),cn.\u0275inj=Jt.Nb({factory:function(t){return new(t||cn)},imports:[[o.c,a.m,a.w,r.a,u.a,p.a,l.a,d.a,b.a,g.a,f.a,m.a,h.a,C.a,v.a,k.a,S.a,dn,vn.a,kn.a,c.j.forFeature("flReservationListB2cRefund",Ot),s.b.forFeature([Cn])]]}),cn)}}]);