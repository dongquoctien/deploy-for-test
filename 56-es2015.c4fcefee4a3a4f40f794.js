(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{"2QGa":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var s=i("F97/"),o=i("SeVD"),n=i("pLZG"),c=i("HDdC");function r(t,e,i){return[Object(n.a)(e,i)(new c.a(Object(o.a)(t))),Object(n.a)(Object(s.a)(e,i))(new c.a(Object(o.a)(t)))]}},Onn4:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var s=i("fXoL"),o=i("3Pt+"),n=i("ofXK");const c=["rb"],r=function(){return{radio:!0}},a={provide:o.p,useExisting:Object(s.U)(()=>l),multi:!0};let l=(()=>{class t{constructor(t){this.cd=t,this.onClick=new s.n,this.onFocus=new s.n,this.onBlur=new s.n,this.onModelChange=()=>{},this.onModelTouched=()=>{}}handleClick(t,e,i){t.preventDefault(),this.disabled||(this.select(t),i&&e.focus())}select(t){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.onClick.emit(t))}writeValue(t){this.checked=t===this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onModelTouched(),this.onBlur.emit(t)}onChange(t){this.select(t)}}return t.\u0275fac=function(e){return new(e||t)(s.Qb(s.h))},t.\u0275cmp=s.Kb({type:t,selectors:[["app-radio"]],viewQuery:function(t,e){var i;1&t&&s.Kc(c,!0),2&t&&s.Dc(i=s.gc())&&(e.inputViewChild=i.first)},inputs:{value:"value",name:"name",disabled:"disabled",label:"label",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",checked:"checked"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[s.Bb([a])],decls:5,vars:11,consts:[[3,"ngClass","click"],["type","radio",1,"radio-control-input",3,"checked","disabled","change","focus","blur"],["rb",""],[1,"radio-control-text"]],template:function(t,e){1&t&&(s.Wb(0,"label",0),s.fc("click",(function(t){return e.select(t)})),s.Wb(1,"input",1,2),s.fc("change",(function(t){return e.onChange(t)}))("focus",(function(t){return e.onInputFocus(t)}))("blur",(function(t){return e.onInputBlur(t)})),s.Vb(),s.Wb(3,"span",3),s.Pc(4),s.Vb(),s.Vb()),2&t&&(s.Eb(e.styleClass),s.pc("ngClass",s.tc(10,r)),s.Cb(1),s.pc("checked",e.checked)("disabled",e.disabled),s.Db("id",e.inputId)("name",e.name)("value",e.value)("tabindex",e.tabindex),s.Cb(3),s.Qc(e.label))},directives:[n.l],encapsulation:2}),t})()},U6NN:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var s=i("fXoL"),o=i("3Pt+"),n=i("LvDl"),c=i("ofXK");function r(t,e){if(1&t&&(s.Wb(0,"option",3),s.Pc(1),s.Vb()),2&t){const t=s.hc();s.pc("ngValue",null),s.Cb(1),s.Qc(t.useAllOptionName)}}function a(t,e){if(1&t&&(s.Wb(0,"option",3),s.Pc(1),s.Vb()),2&t){const t=e.$implicit,i=s.hc();s.pc("ngValue",t),s.Cb(1),s.Qc(i.displayKey?t[i.displayKey]:t)}}const l={provide:o.p,useExisting:Object(s.U)(()=>u),multi:!0};let u=(()=>{class t{constructor(t,e,i,o){this.el=t,this.renderer=e,this.cd=i,this.zone=o,this.dataKey="value",this.displayKey="label",this.useAllOptionYn=!0,this.useAllOptionName="All",this.onChange=new s.n,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get invalid(){return this.isInvalid}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.cd.destroyed||this.cd.detectChanges()}get options(){return this._options}set options(t){this._options=t,this.updateSelectedOption(this.value)}ngOnInit(){this.updateSelectedOption(null)}ngOnDestroy(){}compareFn(t,e){return this.dataKey?t[this.dataKey]===e[this.dataKey]:t===e}selectItem(t){this.selectedOption=t,this.value=this._getValue(t),this.onModelChange(this.value),this.onChange.emit({value:this.value,option:t})}writeValue(t){this.value=t,this.updateSelectedOption(t),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t}updateSelectedOption(t){this.selectedOption=this._findOption(t,this.options)}_findOption(t,e){return this.dataKey?n.find(e,e=>e[this.dataKey]===t)||null:t}_getValue(t){return n.isNil(t)?null:t[this.dataKey]}}return t.\u0275fac=function(e){return new(e||t)(s.Qb(s.l),s.Qb(s.E),s.Qb(s.h),s.Qb(s.z))},t.\u0275cmp=s.Kb({type:t,selectors:[["app-selectbox"]],hostAttrs:[1,"select-box"],hostVars:2,hostBindings:function(t,e){2&t&&s.Gb("valid-error",e.invalid)},inputs:{name:"name",styleClass:"styleClass",required:"required",tabindex:"tabindex",dataKey:"dataKey",displayKey:"displayKey",isInvalid:"isInvalid",useAllOptionYn:"useAllOptionYn",useAllOptionName:"useAllOptionName",disabled:"disabled",options:"options"},outputs:{onChange:"onChange"},features:[s.Bb([l])],decls:3,vars:8,consts:[[3,"compareWith","ngModel","disabled","ngModelChange"],[3,"ngValue",4,"ngIf"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(t,e){1&t&&(s.Wb(0,"select",0),s.fc("ngModelChange",(function(t){return e.selectItem(t)})),s.Nc(1,r,2,2,"option",1),s.Nc(2,a,2,2,"option",2),s.Vb()),2&t&&(s.pc("compareWith",e.compareFn)("ngModel",e.selectedOption)("disabled",e.disabled),s.Db("name",e.name)("required",e.required)("tabindex",e.tabindex),s.Cb(1),s.pc("ngIf",e.useAllOptionYn),s.Cb(1),s.pc("ngForOf",e.options))},directives:[o.y,o.r,o.u,o.x,c.o,c.n,o.v,o.A],encapsulation:2}),t})()},YH7L:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var s=i("ofXK"),o=i("3Pt+"),n=i("fXoL");let c=(()=>{class t{}return t.\u0275mod=n.Ob({type:t}),t.\u0275inj=n.Nb({factory:function(e){return new(e||t)},imports:[[s.c,o.m,o.w]]}),t})()},"cip+":function(t,e,i){"use strict";i.r(e),i.d(e,"CONTAINERS",(function(){return Qe})),i.d(e,"COMPONENTS",(function(){return Xe})),i.d(e,"BsRoleModule",(function(){return ze}));var s={};i.r(s),i.d(s,"initComponent",(function(){return E})),i.d(s,"loadAuthGroupTypeListAction",(function(){return V})),i.d(s,"loadAuthGroupTypeListSuccessAction",(function(){return I})),i.d(s,"loadScreenListAction",(function(){return _})),i.d(s,"loadScreenListSuccessAction",(function(){return W})),i.d(s,"loadRoleCodeListAction",(function(){return N})),i.d(s,"changeRoleSearchConditionAction",(function(){return $})),i.d(s,"loadRoleListAction",(function(){return D})),i.d(s,"loadRoleListSuccessAction",(function(){return P})),i.d(s,"loadRoleListFailureAction",(function(){return F})),i.d(s,"addSelectedRoleRowInfo",(function(){return Y})),i.d(s,"delSelectedRoleRowInfo",(function(){return x})),i.d(s,"setSelectedRowAuthGroups",(function(){return T})),i.d(s,"clearSelectedRowAuthGroups",(function(){return K})),i.d(s,"openRolePopup",(function(){return M})),i.d(s,"closeRolePopup",(function(){return B})),i.d(s,"setRoleGridStateAction",(function(){return q})),i.d(s,"setRoleAuthGridStateAction",(function(){return H})),i.d(s,"setRoleGridCheckedStateAction",(function(){return Q})),i.d(s,"setRoleAuthGridCheckedStateAction",(function(){return X})),i.d(s,"upsertRoleInfoAction",(function(){return z})),i.d(s,"upsertRoleInfoSuccessAction",(function(){return U})),i.d(s,"upsertRoleInfoFailureAction",(function(){return J})),i.d(s,"upsertRoleAuthGroupAction",(function(){return Z})),i.d(s,"upsertRoleAuthGroupSuccessAction",(function(){return tt})),i.d(s,"upsertRoleAuthGroupFailureAction",(function(){return et})),i.d(s,"copyRoleAction",(function(){return it})),i.d(s,"copyRoleSuccessAction",(function(){return st})),i.d(s,"copyRoleFailureAction",(function(){return ot})),i.d(s,"changeAuthGroupSearchConditionAction",(function(){return nt})),i.d(s,"loadAuthGroupListAction",(function(){return ct})),i.d(s,"loadAuthGroupListSuccessAction",(function(){return rt})),i.d(s,"loadAuthGroupListFailureAction",(function(){return at})),i.d(s,"setAuthGroupGridStateAction",(function(){return lt})),i.d(s,"openAuthGroupPopup",(function(){return ut})),i.d(s,"closeAuthGroupPopup",(function(){return dt})),i.d(s,"addSelectedAuthGroupRowInfo",(function(){return pt})),i.d(s,"delSelectedAuthGroupRowInfo",(function(){return ht})),i.d(s,"upsertAuthGroupAction",(function(){return bt})),i.d(s,"upsertAuthGroupSuccessAction",(function(){return mt}));var o=i("ofXK"),n=i("3Pt+"),c=i("snw9"),r=i("kt0X"),a=i("WG3B"),l=i("xoAz"),u=i("wPo9"),d=i("7rOj"),p=i("0v3k"),h=i("+NQf"),b=i("6LsY"),m=i("l1P7"),g=i("v7zA"),f=i("7UZF"),O=i("hHe4"),S=i("1OXJ"),v=i("5hwk"),R=i("kKjH"),j=i("qXPF"),C=i("htEk"),A=i("YFfA"),G=i("vu/V"),y=i("tyNb"),k=i("XNiG"),w=i("1G5W"),L=i("LvDl");const E=Object(r.o)("[BsRole] init this component"),V=Object(r.o)("[BsRole] load auth group type list"),I=Object(r.o)("[BsRole] get auth group type list success",Object(r.t)()),_=Object(r.o)("[BsRole] load screen list grid data list"),W=Object(r.o)("[BsRole] get screen list success",Object(r.t)()),N=Object(r.o)("[BsRole] load role code list"),$=Object(r.o)("[BsRole/Master] change screen search condition",Object(r.t)()),D=Object(r.o)("[BsRole/Master] load role grid data list",Object(r.t)()),P=Object(r.o)("[BsRole/Master] get role list success",Object(r.t)()),F=Object(r.o)("[BsRole/Master] get role list failure",Object(r.t)()),Y=Object(r.o)("[BsRole/Master] select role row info",Object(r.t)()),x=Object(r.o)("[BsRole/Master] delete role row info"),T=Object(r.o)("[BsRole/Master] set selected row auth groups",Object(r.t)()),K=Object(r.o)("[BsRole/Master] clear selected row auth groups"),M=Object(r.o)("[BsRole/Master] open role popup"),B=Object(r.o)("[BsRole/Master] close role popup"),q=Object(r.o)("[BsRole/Master] set role grid state",Object(r.t)()),H=Object(r.o)("[BsRole/Master] set role auth grid state",Object(r.t)()),Q=Object(r.o)("[BsRole/Master] set role grid checked state",Object(r.t)()),X=Object(r.o)("[BsRole/Master] set role auth grid checked state",Object(r.t)()),z=Object(r.o)("[BsRole/Master] upsert role info",Object(r.t)()),U=Object(r.o)("[BsRole/Master] upsert role info success"),J=Object(r.o)("[BsRole/Master] upsert role info failure",Object(r.t)()),Z=Object(r.o)("[BsRole/Master] upsert role auth group",Object(r.t)()),tt=Object(r.o)("[BsRole/Master] upsert role auth group success"),et=Object(r.o)("[BsRole/Master] upsert role auth group failure",Object(r.t)()),it=Object(r.o)("[BsRole/Master] copy Role",Object(r.t)()),st=Object(r.o)("[BsRole/Master] copy Role success"),ot=Object(r.o)("[BsRole/Master] copy Role failure",Object(r.t)()),nt=Object(r.o)("[BsRole/Sub] change auth group search condition",Object(r.t)()),ct=Object(r.o)("[BsRole/Sub] load auth group grid data list",Object(r.t)()),rt=Object(r.o)("[BsRole/Sub] get auth group list success",Object(r.t)()),at=Object(r.o)("[BsRole/Sub] get auth group list failure",Object(r.t)()),lt=Object(r.o)("[BsRole/Sub] set auth group grid state",Object(r.t)()),ut=Object(r.o)("[BsRole/Sub] open auth group popup"),dt=Object(r.o)("[BsRole/Sub] close auth group popup"),pt=Object(r.o)("[BsRole/Sub] select auth group row info",Object(r.t)()),ht=Object(r.o)("[BsRole/Sub] delete auth group row info"),bt=Object(r.o)("[BsRole/Sub] upsert auth group",Object(r.t)()),mt=Object(r.o)("[BsRole/Sub] upsert auth group success");var gt=i("EVqC");const ft=Object(gt.a)({selectId:t=>t.rowid,sortComparer:!1}),Ot=ft.getInitialState({authGroupTypeList:null,screenList:null,loading:!1,searchCondition:null,roleGridState:{skip:0,sortInfo:[],filter:{logic:"and",filters:[]}},roleGridCheckedState:null,roleAuthGridState:{skip:0,sortInfo:[],filter:{logic:"and",filters:[]}},roleAuthGridCheckedState:null,isOpenDetailPopup:!1,selectedRowInfo:null,selectedRowAuthGroups:null}),St=Object(r.q)(Ot,Object(r.s)(s.initComponent,t=>Object.assign(Object.assign({},t),{loading:!1,reloadToggle:!1,DetailRowInfo:null,isOpenDetailPopup:!1})),Object(r.s)(s.loadAuthGroupTypeListSuccessAction,(t,{dataList:e})=>Object.assign(Object.assign({},t),{authGroupTypeList:e})),Object(r.s)(s.loadScreenListSuccessAction,(t,{dataList:e})=>Object.assign(Object.assign({},t),{screenList:e})),Object(r.s)(s.changeRoleSearchConditionAction,(t,{searchCondition:e})=>Object.assign(Object.assign({},t),{searchCondition:e})),Object(r.s)(s.loadRoleListAction,t=>Object.assign(Object.assign({},t),{loading:!0})),Object(r.s)(s.loadRoleListSuccessAction,(t,{dataList:e})=>ft.setAll(e,Object.assign(Object.assign({},t),{loading:!1}))),Object(r.s)(s.loadRoleListFailureAction,t=>Object.assign(Object.assign({},t),{loading:!1})),Object(r.s)(s.setRoleGridStateAction,(t,{gridState:e})=>Object.assign(Object.assign({},t),{roleGridState:e})),Object(r.s)(s.setRoleAuthGridStateAction,(t,{gridState:e})=>Object.assign(Object.assign({},t),{roleAuthGridState:e})),Object(r.s)(s.setRoleGridCheckedStateAction,(t,{gridCheckedState:e})=>Object.assign(Object.assign({},t),{roleGridCheckedState:e})),Object(r.s)(s.setRoleAuthGridCheckedStateAction,(t,{gridCheckedState:e})=>Object.assign(Object.assign({},t),{roleAuthGridCheckedState:e})),Object(r.s)(s.openRolePopup,t=>Object.assign(Object.assign({},t),{isOpenDetailPopup:!0})),Object(r.s)(s.closeRolePopup,t=>Object.assign(Object.assign({},t),{isOpenDetailPopup:!1})),Object(r.s)(s.addSelectedRoleRowInfo,(t,{selectedRowInfo:e})=>Object.assign(Object.assign({},t),{selectedRowInfo:e})),Object(r.s)(s.delSelectedRoleRowInfo,t=>Object.assign(Object.assign({},t),{selectedRowInfo:null})),Object(r.s)(s.setSelectedRowAuthGroups,(t,{dataList:e})=>Object.assign(Object.assign({},t),{selectedRowAuthGroups:e})),Object(r.s)(s.clearSelectedRowAuthGroups,t=>Object.assign(Object.assign({},t),{selectedRowAuthGroups:null}))),vt=Object(gt.a)({selectId:t=>t.rowid,sortComparer:!1}),Rt=vt.getInitialState({loading:!1,reloadToggle:!1,authGroupSearchCondition:null,gridState:{skip:0,sortInfo:[],filter:{logic:"and",filters:[]}},isOpenDetailPopup:!1,selectedAuthGroupRowInfo:null}),jt=Object(r.q)(Rt,Object(r.s)(s.changeAuthGroupSearchConditionAction,(t,{searchCondition:e})=>Object.assign(Object.assign({},t),{authGroupSearchCondition:e})),Object(r.s)(s.loadAuthGroupListAction,t=>Object.assign(Object.assign({},t),{loading:!0})),Object(r.s)(s.loadAuthGroupListSuccessAction,(t,{dataList:e})=>vt.setAll(e,Object.assign(Object.assign({},t),{loading:!1}))),Object(r.s)(s.loadAuthGroupListFailureAction,t=>Object.assign(Object.assign({},t),{authGroupLoading:!1})),Object(r.s)(s.setAuthGroupGridStateAction,(t,{gridState:e})=>Object.assign(Object.assign({},t),{gridState:e})),Object(r.s)(s.openAuthGroupPopup,t=>Object.assign(Object.assign({},t),{isOpenDetailPopup:!0})),Object(r.s)(s.closeAuthGroupPopup,t=>Object.assign(Object.assign({},t),{isOpenDetailPopup:!1})),Object(r.s)(s.addSelectedAuthGroupRowInfo,(t,{selectedAuthGroupRowInfo:e})=>Object.assign(Object.assign({},t),{selectedAuthGroupRowInfo:e})),Object(r.s)(s.delSelectedAuthGroupRowInfo,t=>Object.assign(Object.assign({},t),{selectedAuthGroupRowInfo:null}))),Ct=t=>t.reloadToggle;function At(t,e){return Object(r.m)({bsRoleMaster:St,bsRoleSub:jt})(t,e)}const Gt=Object(r.p)("bsRole"),yt=Object(r.r)(Gt,t=>t.bsRoleMaster),kt=Object(r.r)(Gt,t=>t.bsRoleSub),wt=t=>Object(r.r)(yt,t),Lt=t=>Object(r.r)(kt,t),Et=wt(t=>t.authGroupTypeList),Vt=wt(t=>t.screenList),It=wt(t=>t.loading),_t=wt(t=>ft.getSelectors().selectAll(t)),Wt=wt(t=>t.searchCondition),Nt=wt(t=>t.roleGridState),$t=wt(t=>t.roleGridCheckedState),Dt=wt(t=>t.roleAuthGridState),Pt=wt(t=>t.roleAuthGridCheckedState),Ft=wt(t=>t.isOpenDetailPopup),Yt=wt(t=>t.selectedRowInfo),xt=wt(t=>t.selectedRowAuthGroups),Tt=Lt(t=>t.loading),Kt=(Lt(Ct),Lt(t=>t.authGroupSearchCondition)),Mt=vt.getSelectors(kt).selectAll,Bt=Lt(t=>t.gridState),qt=Lt(t=>t.isOpenDetailPopup),Ht=Lt(t=>t.selectedAuthGroupRowInfo);Lt(Ct);var Qt=i("G4DP"),Xt=i("fXoL"),zt=i("LRne"),Ut=i("z6cu"),Jt=i("eIep"),Zt=i("AytR");const{API_URL:te}=Zt.a,ee={postCommonDetailCode:`${te}/common/detail-code`,postRole:`${te}/admin/basis/role`,putRole:`${te}/admin/basis/role`,putRoleCopy:`${te}/admin/basis/role/copy`,putRoleAuthGroup:`${te}/admin/basis/role/auth-group`,postAuthGroup:`${te}/admin/basis/auth-group`,putAuthGroup:`${te}/admin/basis/auth-group`,postApiServiceCode:`${te}/admin/basis/api-service`,postScreenCode:`${te}/admin/basis/screen`};var ie=i("tpT/");let se=(()=>{class t{constructor(t){this.api=t}getCommonDetailCodeList(t){const e=L.assign({},this.api.defaultParams,{condition:t});return this.api.post(ee.postCommonDetailCode,e).pipe(Object(Jt.a)(t=>t.succeedYn?Object(zt.a)(t.result.list):Object(Ut.a)(t||"api response error")))}getScreenCode(t){const e=L.assign({},this.api.defaultParams,{condition:t});return this.api.post(ee.postScreenCode,e).pipe(Object(Jt.a)(t=>{if(t.succeedYn&&t.result){const e=this._addRowid(t.result.list);return Object(zt.a)(e)}return Object(Ut.a)(t||"api response error")}))}getRoleList(t){const e=L.assign({},this.api.defaultParams,{condition:t});return this.api.post(ee.postRole,e).pipe(Object(Jt.a)(t=>{if(t.succeedYn){const e=this._addRowid(t.result.list);return Object(zt.a)(e)}return Object(Ut.a)(t||"api response error")}))}updateRole(t){const e=L.assign({},this.api.defaultParams,{condition:t});return this.api.put(ee.putRole,e).pipe(Object(Jt.a)(t=>{if(t.succeedYn){const e=this._addRowid(t.result.list);return Object(zt.a)(e)}return Object(Ut.a)(t||"api response error")}))}updateRoleAuthGroup(t){const e=L.assign({},this.api.defaultParams,{condition:t});return this.api.put(ee.putRoleAuthGroup,e).pipe(Object(Jt.a)(t=>t.succeedYn&&t.result?Object(zt.a)(t.result):Object(Ut.a)(t||"api response error")))}copyRole(t){const e=L.assign({},this.api.defaultParams,{condition:t});return this.api.put(ee.putRoleCopy,e).pipe(Object(Jt.a)(t=>t.succeedYn&&t.result?Object(zt.a)(t.result):Object(Ut.a)(t||"api response error")))}getAuthGroupList(t){const e=L.assign({},this.api.defaultParams,{condition:t});return this.api.post(ee.postAuthGroup,e).pipe(Object(Jt.a)(t=>{if(t.succeedYn){const e=this._addRowid(t.result.list);return Object(zt.a)(e)}return Object(Ut.a)(t||"api response error")}))}updateAuthGroup(t){const e=L.assign({},this.api.defaultParams,{condition:t});return this.api.put(ee.putAuthGroup,e).pipe(Object(Jt.a)(t=>{if(t.succeedYn){const e=this._addRowid(t.result.list);return Object(zt.a)(e)}return Object(Ut.a)(t||"api response error")}))}_addRowid(t){return L.isNil(t)?[]:t.map((t,e)=>Object.assign(Object.assign({},t),{rowid:String(e)}))}}return t.\u0275fac=function(e){return new(e||t)(Xt.bc(ie.a))},t.\u0275prov=Xt.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),oe=(()=>{class t{constructor(t){this.fb=t,this.generateAuthGroupGridColumns=()=>[{field:"authGroupSeq",title:"SEQ",type:"numeric"},{field:"authGroupNameEn",title:"Auth GRP Name(EN)",type:"text"},{field:"authGroupNameKo",title:"Auth GRP Name(KO)",type:"text"},{field:"useYn",title:"Use YN",type:"boolean",width:100,template:"useYnTpl",style:{"text-align":"center"}},{field:"controlRemark",title:"Control Remark",type:"text"}],this.generateRoleGridColumns=()=>[{field:"roleSeq",title:"SEQ",type:"numeric",width:"100"},{field:"roleNameEn",title:"Role Name(EN)",type:"text",width:"150",useTitleAttrYn:!0},{field:"roleNameKo",title:"Role Name(KO)",type:"text",width:"150",useTitleAttrYn:!0},{field:"useYn",title:"Use YN",type:"boolean",width:100,template:"useYnTpl",style:{"text-align":"center"}},{field:"controlRemark",title:"Control Remark",width:"120",type:"text"}],this.generateAuthGroupScreensColumns=()=>[{field:"screenSeq",title:"SEQ No.",type:"text",width:100},{field:"screenNameKo",title:"\ud654\uba74\uc774\ub984",type:"text",width:100},{field:"screenUrl",title:"\ud654\uba74URL",type:"text",width:100},{field:"screenTypeName",title:"\ud654\uba74 \uad6c\ubd84",type:"text",width:100},{field:"gridYn",title:"GRID\uc5ec\ubd80",type:"text",template:"gridYnTpl",width:100,style:{"text-align":"center"}},{field:"useYn",title:"\uc0ac\uc6a9\uc5ec\ubd80",type:"boolen",template:"useYnTpl",width:100,style:{"text-align":"center"}},{field:"controlRemark",title:"\ube44\uace0",type:"text",width:100}],this.generateAuthGroupSearchForm=()=>this.fb.group({authGroupName:[null],noRoleYn:[null]}),this.initAuthGroupSearchFormData=()=>({authGroupName:null,noRoleYn:null}),this.generateRoleSearchForm=()=>this.fb.group({roleName:[null],useYn:[null]}),this.initRoleSearchFormData=()=>({roleName:null,useYn:null}),this.generateRolePutForm=()=>this.fb.group({roleSeq:[{value:null,disabled:!0}],roleNameKo:[null,[n.z.required]],roleNameEn:[null,[n.z.required]],useYn:[null,[n.z.required]],controlRemark:[null,[n.z.required]]}),this.initRolePutFormData=()=>({roleSeq:null,roleNameKo:null,roleNameEn:null,useYn:!0,controlRemark:null}),this.generateRoleAuthGroupPutForm=()=>this.fb.group({authGroupSeq:[{value:null,disabled:!0}],authGroupTypeCode:[null,[n.z.required]],authGroupNameKo:[null,[n.z.required]],authGroupNameEn:[null,[n.z.required]],useYn:[null,[n.z.required]],controlRemark:[null]}),this.initRoleAuthGroupPutFormData=()=>({authGroupSeq:void 0,authGroupTypeCode:"SCN",authGroupNameKo:null,authGroupNameEn:null,useYn:!1,controlRemark:null})}folderRequiredValidator(t){if(!t)return null;const e=L.isNil(t.get("folderSeq").value),i=L.isNil(t.get("folderNameLn").value)||""===t.get("folderNameLn").value;return e&&i?{folderInfoRequired:!0}:null}deviceRequiredValidator(t){return t&&!1===t.get("pcDisplayYn").value&&!1===t.get("mobileAppDisplayYn").value&&!1===t.get("mobileWebDisplayYn").value?{shouldNotAllFalse:!0}:null}planDeviceRequiredValidator(t){return t&&!1===t.get("planPcDisplayYn").value&&!1===t.get("planMobileAppDisplayYn").value&&!1===t.get("planMobileWebDisplayYn").value?{shouldNotAllPlanFalse:!0}:null}priceOverValidators(t,e){return i=>{if(!i)return null;const s=i.parent;return s&&"R"===s.get(e).value&&i.value>t?{priceOvered:!0}:null}}}return t.\u0275fac=function(e){return new(e||t)(Xt.bc(n.f))},t.\u0275prov=Xt.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var ne=i("+Sob"),ce=i("gbCm");let re=(()=>{class t{constructor(t){this._dataService=t,this.clickSearchEvent=new Xt.n,this.clickResetEvent=new Xt.n,this.useYnOptions=[{value:!0,label:"Y"},{value:!1,label:"N"}],this._$unsubscribe=new k.a,this.searchForm=t.generateRoleSearchForm()}get searchCondition(){return this._searchCondition}set searchCondition(t){this._searchCondition=t,this.searchFromData=this._setSearchFormData(t)}ngOnInit(){}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete()}onSubmit(){const t=this.setSearchCondition();this.clickSearchEvent.emit({searchCondition:t})}onReset(){this.clickResetEvent.emit()}setSearchCondition(){return L.omitBy(this.searchForm.value,L.isNil)}_setSearchFormData(t){const e=this._dataService.initRoleSearchFormData();return L.isEmpty(t)?e:t}}return t.\u0275fac=function(e){return new(e||t)(Xt.Qb(oe))},t.\u0275cmp=Xt.Kb({type:t,selectors:[["app-bs-role-master-search"]],inputs:{searchCondition:"searchCondition"},outputs:{clickSearchEvent:"clickSearchEvent",clickResetEvent:"clickResetEvent"},decls:12,vars:2,consts:[[1,"grid-search-box","multi",3,"formGroup","connectForm","ngSubmit"],[1,"form-option-area"],[1,"row"],[1,"col-4"],[1,"form-label"],["formControlName","roleName",1,"d-inline-flex","flex-fill"],[1,"form-button-area"],["type","submit","role","button",1,"btn","btn-primary"],["type","button","role","button",1,"btn","btn-reset",3,"click"]],template:function(t,e){1&t&&(Xt.Wb(0,"form",0),Xt.fc("ngSubmit",(function(){return e.onSubmit()})),Xt.Wb(1,"div",1),Xt.Wb(2,"div",2),Xt.Wb(3,"div",3),Xt.Wb(4,"span",4),Xt.Pc(5,"Role Name"),Xt.Vb(),Xt.Rb(6,"app-input-text",5),Xt.Vb(),Xt.Vb(),Xt.Vb(),Xt.Wb(7,"div",6),Xt.Wb(8,"button",7),Xt.Pc(9,"Search"),Xt.Vb(),Xt.Wb(10,"button",8),Xt.fc("click",(function(){return e.onReset()})),Xt.Pc(11,"Reset"),Xt.Vb(),Xt.Vb(),Xt.Vb()),2&t&&Xt.pc("formGroup",e.searchForm)("connectForm",e.searchFromData)},directives:[n.B,n.s,n.k,ne.a,ce.a,n.r,n.i],encapsulation:2}),t})(),ae=(()=>{class t{constructor(){this.clickAddEvent=new Xt.n,this.clickCopyEvent=new Xt.n}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Xt.Kb({type:t,selectors:[["app-bs-role-master-control"]],inputs:{loading:"loading",totalCount:"totalCount"},outputs:{clickAddEvent:"clickAddEvent",clickCopyEvent:"clickCopyEvent"},decls:8,vars:1,consts:[[1,"grid-control-area"],[1,"grid-count"],[1,"ml-auto","d-inline-flex","flex-glow-0"],[1,"btn","btn-outline-dark","sm",3,"click"]],template:function(t,e){1&t&&(Xt.Wb(0,"div",0),Xt.Wb(1,"strong",1),Xt.Pc(2),Xt.Vb(),Xt.Wb(3,"div",2),Xt.Wb(4,"button",3),Xt.fc("click",(function(){return e.clickAddEvent.emit()})),Xt.Pc(5,"New"),Xt.Vb(),Xt.Wb(6,"button",3),Xt.fc("click",(function(){return e.clickCopyEvent.emit()})),Xt.Pc(7,"Copy"),Xt.Vb(),Xt.Vb(),Xt.Vb()),2&t&&(Xt.Cb(2),Xt.Qc(e.loading?"":e.totalCount))},encapsulation:2}),t})();var le=i("Onn4");let ue=(()=>{class t{constructor(t){this._dataService=t,this.submitEvent=new Xt.n,this.closeEvent=new Xt.n,this._$unsubscribe=new k.a,this.putForm=t.generateRolePutForm(),this._initThisState()}get rowItem(){return this._rowItem}set rowItem(t){this._rowItem=t,this.putFormData=this._setPutFormData(t)}ngAfterContentInit(){this._initSubscription(),this._initThisState()}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete()}onSubmit(){if(this.putForm.invalid)return void(this._checkValid=!0);const t=this._setPutCondition();this.submitEvent.emit(t)}onClose(){this.closeEvent.emit()}checkIsInvalid(t){return this._checkValid&&this.putForm.get(t)&&this.putForm.get(t).invalid}_initThisState(){this._checkValid=!1}_setPutFormData(t){const e=this._dataService.initRolePutFormData();return Object.assign({},e,L.pick(t,Object.keys(e)))}_setPutCondition(){const t=this._dataService.initRolePutFormData(),e=this.putForm.getRawValue();return Object.assign({},L.pick(e,Object.keys(t)))}_initSubscription(){}}return t.\u0275fac=function(e){return new(e||t)(Xt.Qb(oe))},t.\u0275cmp=Xt.Kb({type:t,selectors:[["app-bs-role-master-form"]],inputs:{rowItem:"rowItem"},outputs:{submitEvent:"submitEvent",closeEvent:"closeEvent"},decls:47,vars:7,consts:[[1,"modal-body"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","15%"],["scope","row",1,"th-bg"],["formControlName","roleSeq"],["formControlName","roleNameEn",3,"isInvalid"],["formControlName","roleNameKo",3,"isInvalid"],[1,"form-group"],["formControlName","useYn","name","useYn","label","Y",3,"value"],["formControlName","useYn","name","useYn","label","N",3,"value"],["formControlName","controlRemark",3,"isInvalid"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"],["type","button",1,"btn","btn-light","sm",3,"click"]],template:function(t,e){1&t&&(Xt.Wb(0,"div",0),Xt.Wb(1,"form",1),Xt.fc("ngSubmit",(function(){return e.onSubmit()})),Xt.Wb(2,"div",2),Xt.Wb(3,"table"),Xt.Wb(4,"caption"),Xt.Pc(5," ROLE "),Xt.Vb(),Xt.Wb(6,"colgroup"),Xt.Rb(7,"col",3),Xt.Rb(8,"col"),Xt.Vb(),Xt.Wb(9,"tbody"),Xt.Wb(10,"tr"),Xt.Wb(11,"th",4),Xt.Wb(12,"sup"),Xt.Pc(13,"SEQ"),Xt.Vb(),Xt.Vb(),Xt.Wb(14,"td"),Xt.Rb(15,"app-input-text",5),Xt.Vb(),Xt.Vb(),Xt.Wb(16,"tr"),Xt.Wb(17,"th",4),Xt.Wb(18,"sup"),Xt.Pc(19,"ROLE Name(EN)"),Xt.Vb(),Xt.Vb(),Xt.Wb(20,"td"),Xt.Rb(21,"app-input-text",6),Xt.Vb(),Xt.Vb(),Xt.Wb(22,"tr"),Xt.Wb(23,"th",4),Xt.Wb(24,"sup"),Xt.Pc(25,"ROLE Name(KO)"),Xt.Vb(),Xt.Vb(),Xt.Wb(26,"td"),Xt.Rb(27,"app-input-text",7),Xt.Vb(),Xt.Vb(),Xt.Wb(28,"tr"),Xt.Wb(29,"th",4),Xt.Wb(30,"sup"),Xt.Pc(31,"Use YN"),Xt.Vb(),Xt.Vb(),Xt.Wb(32,"td"),Xt.Wb(33,"div",8),Xt.Rb(34,"app-radio",9),Xt.Rb(35,"app-radio",10),Xt.Vb(),Xt.Vb(),Xt.Vb(),Xt.Wb(36,"tr"),Xt.Wb(37,"th",4),Xt.Wb(38,"sup"),Xt.Pc(39,"Control Remark"),Xt.Vb(),Xt.Vb(),Xt.Wb(40,"td"),Xt.Rb(41,"app-input-text",11),Xt.Vb(),Xt.Vb(),Xt.Vb(),Xt.Vb(),Xt.Vb(),Xt.Wb(42,"div",12),Xt.Wb(43,"button",13),Xt.Pc(44,"Save"),Xt.Vb(),Xt.Wb(45,"button",14),Xt.fc("click",(function(){return e.onClose()})),Xt.Pc(46,"Close"),Xt.Vb(),Xt.Vb(),Xt.Vb(),Xt.Vb()),2&t&&(Xt.Cb(1),Xt.pc("formGroup",e.putForm)("connectForm",e.putFormData),Xt.Cb(20),Xt.pc("isInvalid",e.checkIsInvalid("roleNameEn")),Xt.Cb(6),Xt.pc("isInvalid",e.checkIsInvalid("roleNameKo")),Xt.Cb(7),Xt.pc("value",!0),Xt.Cb(1),Xt.pc("value",!1),Xt.Cb(6),Xt.pc("isInvalid",e.checkIsInvalid("controlRemark")))},directives:[n.B,n.s,n.k,ne.a,ce.a,n.r,n.i,le.a],encapsulation:2}),t})();var de=i("EsKh");const pe=function(){return{field:"authGroupNameEn",title:"Auth Group Name(EN)",type:"text"}},he=function(t){return[t]};let be=(()=>{class t{constructor(t){this.alertService=t,this.clickSaveEvent=new Xt.n}get selectedRoleAuthGroups(){return this._selectedRoleAuthGroups}set selectedRoleAuthGroups(t){this._selectedRoleAuthGroups=t?t.map((t,e)=>Object.assign(Object.assign({},t),{rowid:String(e)})):[]}get thisGridState(){var t;return(null===(t=this.gridEl)||void 0===t?void 0:t.thisGridState)||null}get checkStateOutput(){var t;return(null===(t=this.gridEl)||void 0===t?void 0:t.checkedStateOutput)||null}ngOnInit(){}ngOnDestroy(){}getCheckedDataList(){return this.gridEl.checkedDataList}clickUpsertHandler(){if(L.isNil(this.selectedRoleSeq))return void this.alertService.alert("\uc120\ud0dd\ub41c ROLE\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.");const t={roleSeq:this.selectedRoleSeq,authGroups:this.gridEl.dataList.map(t=>({authGroupSeq:t.authGroupSeq,authGroupTypeCode:t.authGroupTypeCode}))};this.clickSaveEvent.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(Xt.Qb(de.a))},t.\u0275cmp=Xt.Kb({type:t,selectors:[["app-bs-role-master-mapping"]],viewQuery:function(t,e){var i;1&t&&Xt.Xc(Qt.a,!0),2&t&&Xt.Dc(i=Xt.gc())&&(e.gridEl=i.first)},inputs:{gridState:"gridState",gridCheckedState:"gridCheckedState",selectedRoleSeq:"selectedRoleSeq",selectedRoleAuthGroups:"selectedRoleAuthGroups"},outputs:{clickSaveEvent:"clickSaveEvent"},decls:6,vars:12,consts:[[1,"grid-control-area"],[1,"ml-auto","d-inline-flex","flex-glow-0"],[1,"btn","btn-outline-dark","sm",3,"click"],["gridName","roleMasterMappingGrid",3,"gridState","checkedState","columns","pageable","pageSize","sortable","filterable","checkboxUseYn","dataList"],["gridEl",""]],template:function(t,e){1&t&&(Xt.Wb(0,"div",0),Xt.Wb(1,"div",1),Xt.Wb(2,"button",2),Xt.fc("click",(function(){return e.clickUpsertHandler()})),Xt.Pc(3,"Save"),Xt.Vb(),Xt.Vb(),Xt.Vb(),Xt.Rb(4,"app-grid-basis",3,4)),2&t&&(Xt.Cb(4),Xt.pc("gridState",e.gridState)("checkedState",e.gridCheckedState)("columns",Xt.uc(10,he,Xt.tc(9,pe)))("pageable",!1)("pageSize",1e5)("sortable",!1)("filterable",!1)("checkboxUseYn",!0)("dataList",e.selectedRoleAuthGroups))},directives:[Qt.a],encapsulation:2}),t})();function me(t,e){if(1&t&&(Xt.Wb(0,"span"),Xt.Pc(1),Xt.Vb()),2&t){const t=e.$implicit;Xt.Cb(1),Xt.Qc(t.useYn?"Y":"N")}}function ge(t,e){if(1&t&&(Xt.Wb(0,"span"),Xt.Pc(1),Xt.Vb()),2&t){const t=e.$implicit;Xt.Cb(1),Xt.Qc(t.gridYn?"Y":"N")}}const fe=function(t,e){return{useYnTpl:t,gridYnTpl:e}};let Oe=(()=>{class t{constructor(t){this.dataService=t,this._gridDataList=[],this.defaultGridState={skip:0,sortInfo:[],filter:{logic:"and",filters:[]}},this.columns=this.dataService.generateAuthGroupScreensColumns()}get gridDataList(){return this._gridDataList}set gridDataList(t){this._gridDataList=L.isNil(t)?[]:t}}return t.\u0275fac=function(e){return new(e||t)(Xt.Qb(oe))},t.\u0275cmp=Xt.Kb({type:t,selectors:[["app-bs-role-screen-code"]],inputs:{gridCheckedState:"gridCheckedState",gridDataList:"gridDataList"},decls:5,vars:10,consts:[["useYnTpl",""],["gridYnTpl",""],["gridName","roleScreenCodeGrid",3,"gridState","checkedState","columns","pageSize","checkboxUseYn","dataList","templates"]],template:function(t,e){if(1&t&&(Xt.Nc(0,me,2,1,"ng-template",null,0,Xt.Oc),Xt.Nc(2,ge,2,1,"ng-template",null,1,Xt.Oc),Xt.Rb(4,"app-grid-basis",2)),2&t){const t=Xt.Ec(1),i=Xt.Ec(3);Xt.Cb(4),Xt.pc("gridState",e.defaultGridState)("checkedState",e.gridCheckedState)("columns",e.columns)("pageSize",20)("checkboxUseYn",!1)("dataList",e.gridDataList)("templates",Xt.vc(7,fe,t,i))}},directives:[Qt.a],encapsulation:2}),t})();var Se=i("U6NN");let ve=(()=>{class t{constructor(t){this._dataService=t,this.clickSearchEvent=new Xt.n,this.clickResetEvent=new Xt.n,this.useYnOptions=[{value:!0,label:"Y"},{value:!1,label:"N"}],this._$unsubscribe=new k.a,this.searchForm=t.generateAuthGroupSearchForm()}get authGroupSearchCondition(){return this._authGroupSearchCondition}set authGroupSearchCondition(t){this._authGroupSearchCondition=t,this.searchFromData=this._setSearchFormData(t)}get searchFormCondition(){var t;return null===(t=this.searchForm)||void 0===t?void 0:t.value}ngOnInit(){}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete()}onSubmit(){const t=this.setSearchCondition();this.clickSearchEvent.emit({searchCondition:t})}onReset(){this.clickResetEvent.emit()}setSearchCondition(){const t=this._dataService.initAuthGroupSearchFormData(),e=Object.assign({},L.pick(this.searchForm.value,Object.keys(t)));return L.omitBy(e,L.isNil)}_setSearchFormData(t){const e=this._dataService.initAuthGroupSearchFormData();return L.isEmpty(t)||L.isNil(t)?e:Object.assign({},e,L.pick(t,Object.keys(e)))}}return t.\u0275fac=function(e){return new(e||t)(Xt.Qb(oe))},t.\u0275cmp=Xt.Kb({type:t,selectors:[["app-bs-role-sub-search"]],inputs:{authGroupSearchCondition:"authGroupSearchCondition"},outputs:{clickSearchEvent:"clickSearchEvent",clickResetEvent:"clickResetEvent"},decls:17,vars:3,consts:[[1,"grid-search-box","multi",3,"formGroup","connectForm","ngSubmit"],[1,"form-option-area"],[1,"row"],[1,"col-2"],[1,"form-label"],["formControlName","authGroupName",1,"d-inline-flex","flex-fill"],["formControlName","noRoleYn","useAllOptionName","All",1,"d-inline-flex","flex-fill",3,"options"],[1,"form-button-area"],["type","submit","role","button",1,"btn","btn-primary"],["type","button","role","button",1,"btn","btn-reset",3,"click"]],template:function(t,e){1&t&&(Xt.Wb(0,"form",0),Xt.fc("ngSubmit",(function(){return e.onSubmit()})),Xt.Wb(1,"div",1),Xt.Wb(2,"div",2),Xt.Wb(3,"div",3),Xt.Wb(4,"span",4),Xt.Pc(5,"Auth GRP Name"),Xt.Vb(),Xt.Rb(6,"app-input-text",5),Xt.Vb(),Xt.Vb(),Xt.Wb(7,"div",2),Xt.Wb(8,"div",3),Xt.Wb(9,"span",4),Xt.Pc(10,"Not Assigned Auth GRP YN"),Xt.Vb(),Xt.Rb(11,"app-selectbox",6),Xt.Vb(),Xt.Vb(),Xt.Vb(),Xt.Wb(12,"div",7),Xt.Wb(13,"button",8),Xt.Pc(14,"Search"),Xt.Vb(),Xt.Wb(15,"button",9),Xt.fc("click",(function(){return e.onReset()})),Xt.Pc(16,"Reset"),Xt.Vb(),Xt.Vb(),Xt.Vb()),2&t&&(Xt.pc("formGroup",e.searchForm)("connectForm",e.searchFromData),Xt.Cb(11),Xt.pc("options",e.useYnOptions))},directives:[n.B,n.s,n.k,ne.a,ce.a,n.r,n.i,Se.a],encapsulation:2}),t})(),Re=(()=>{class t{constructor(){this.clickAddEvent=new Xt.n}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Xt.Kb({type:t,selectors:[["app-bs-role-sub-control"]],inputs:{loading:"loading",totalCount:"totalCount"},outputs:{clickAddEvent:"clickAddEvent"},decls:6,vars:1,consts:[[1,"grid-control-area"],[1,"grid-count"],[1,"ml-auto","d-inline-flex","flex-glow-0"],[1,"btn","btn-outline-dark","sm",3,"click"]],template:function(t,e){1&t&&(Xt.Wb(0,"div",0),Xt.Wb(1,"strong",1),Xt.Pc(2),Xt.Vb(),Xt.Wb(3,"div",2),Xt.Wb(4,"button",3),Xt.fc("click",(function(){return e.clickAddEvent.emit()})),Xt.Pc(5,"New"),Xt.Vb(),Xt.Vb(),Xt.Vb()),2&t&&(Xt.Cb(2),Xt.Qc(e.loading?"":e.totalCount))},encapsulation:2}),t})();var je=i("nMd8");let Ce=(()=>{class t{constructor(t){this._dataService=t,this.submitEvent=new Xt.n,this._$unsubscribe=new k.a,this.putForm=t.generateRoleAuthGroupPutForm(),this._initThisState()}get authGroupTypeList(){return this._authGroupTypeList}set authGroupTypeList(t){t?this._authGroupTypeList=t.reduce((t,e)=>("API"!==e.detailCode&&t.push(e),t),[]):(console.error("authGroupTypeList is not found, check masterCode BS026"),this._authGroupTypeList=[])}get rowItem(){return this._rowItem}set rowItem(t){this._rowItem=t,this.putFormData=this._setPutFormData(t)}ngAfterContentInit(){this._initThisState()}ngOnDestroy(){this._$unsubscribe.next(),this._$unsubscribe.complete()}onSubmit(){if(this.putForm.invalid)return void(this._checkValid=!0);const t=this._setPutCondition();this.submitEvent.emit(t)}checkIsInvalid(t){return this._checkValid&&this.putForm.get(t)&&this.putForm.get(t).invalid}_initThisState(){this._checkValid=!1}_setPutFormData(t){const e=this._dataService.initRoleAuthGroupPutFormData();return this.putForm.get("authGroupTypeCode").disable(),Object.assign({},e,L.pick(t,Object.keys(e)))}_setPutCondition(){const t=this._dataService.initRoleAuthGroupPutFormData(),e=this.putForm.getRawValue(),i=Object.assign({},L.pick(e,Object.keys(t)));return L.omitBy(i,L.isNil)}}return t.\u0275fac=function(e){return new(e||t)(Xt.Qb(oe))},t.\u0275cmp=Xt.Kb({type:t,selectors:[["app-bs-role-sub-form"]],inputs:{modifyFlag:"modifyFlag",authGroupTypeList:"authGroupTypeList",rowItem:"rowItem"},outputs:{submitEvent:"submitEvent"},decls:50,vars:9,consts:[[1,"modal-body"],[3,"formGroup","connectForm","ngSubmit"],[1,"table","table-bordered"],["width","15%"],["scope","row",1,"th-bg"],["formControlName","authGroupSeq",1,"d-inline","flex-fill"],["useAllOptionName","Select","formControlName","authGroupTypeCode","dataKey","detailCode","displayWord","detailCodeName",1,"d-inline","flex-fill",3,"options","isInvalid"],["formControlName","authGroupNameEn",1,"d-inline","flex-fill",3,"isInvalid"],["formControlName","authGroupNameKo",1,"d-inline","flex-fill",3,"isInvalid"],[1,"form-group","flex-fill"],["formControlName","useYn","name","useYn","label","Y",3,"value"],["formControlName","useYn","name","useYn","label","N",3,"value"],["formControlName","controlRemark",1,"d-inline","flex-fill",3,"isInvalid"],[1,"button-area","align-r","mt10"],["type","submit",1,"btn","btn-secondary","sm"]],template:function(t,e){1&t&&(Xt.Wb(0,"div",0),Xt.Wb(1,"form",1),Xt.fc("ngSubmit",(function(){return e.onSubmit()})),Xt.Wb(2,"div",2),Xt.Wb(3,"table"),Xt.Wb(4,"caption"),Xt.Pc(5," Auth Group Info. "),Xt.Vb(),Xt.Wb(6,"colgroup"),Xt.Rb(7,"col",3),Xt.Rb(8,"col"),Xt.Vb(),Xt.Wb(9,"tbody"),Xt.Wb(10,"tr"),Xt.Wb(11,"th",4),Xt.Wb(12,"sup"),Xt.Pc(13,"Auth Group SEQ"),Xt.Vb(),Xt.Vb(),Xt.Wb(14,"td"),Xt.Rb(15,"app-input-text",5),Xt.Vb(),Xt.Vb(),Xt.Wb(16,"tr"),Xt.Wb(17,"th",4),Xt.Wb(18,"sup"),Xt.Pc(19,"Auth Group Type"),Xt.Vb(),Xt.Vb(),Xt.Wb(20,"td"),Xt.Rb(21,"app-selectbox-detailcode",6),Xt.Vb(),Xt.Vb(),Xt.Wb(22,"tr"),Xt.Wb(23,"th",4),Xt.Wb(24,"sup"),Xt.Pc(25,"Auth Group Name(EN)"),Xt.Vb(),Xt.Vb(),Xt.Wb(26,"td"),Xt.Rb(27,"app-input-text",7),Xt.Vb(),Xt.Vb(),Xt.Wb(28,"tr"),Xt.Wb(29,"th",4),Xt.Wb(30,"sup"),Xt.Pc(31,"Auth Group Name(KO)"),Xt.Vb(),Xt.Vb(),Xt.Wb(32,"td"),Xt.Rb(33,"app-input-text",8),Xt.Vb(),Xt.Vb(),Xt.Wb(34,"tr"),Xt.Wb(35,"th",4),Xt.Wb(36,"sup"),Xt.Pc(37,"Use YN"),Xt.Vb(),Xt.Vb(),Xt.Wb(38,"td"),Xt.Wb(39,"div",9),Xt.Rb(40,"app-radio",10),Xt.Rb(41,"app-radio",11),Xt.Vb(),Xt.Vb(),Xt.Vb(),Xt.Wb(42,"tr"),Xt.Wb(43,"th",4),Xt.Pc(44,"Control Remark"),Xt.Vb(),Xt.Wb(45,"td"),Xt.Rb(46,"app-input-text",12),Xt.Vb(),Xt.Vb(),Xt.Vb(),Xt.Vb(),Xt.Vb(),Xt.Wb(47,"div",13),Xt.Wb(48,"button",14),Xt.Pc(49,"Save"),Xt.Vb(),Xt.Vb(),Xt.Vb(),Xt.Vb()),2&t&&(Xt.Cb(1),Xt.pc("formGroup",e.putForm)("connectForm",e.putFormData),Xt.Cb(20),Xt.pc("options",e.authGroupTypeList)("isInvalid",e.checkIsInvalid("authGroupTypeCode")),Xt.Cb(6),Xt.pc("isInvalid",e.checkIsInvalid("authGroupNameEn")),Xt.Cb(6),Xt.pc("isInvalid",e.checkIsInvalid("authGroupNameKo")),Xt.Cb(7),Xt.pc("value",!0),Xt.Cb(1),Xt.pc("value",!1),Xt.Cb(5),Xt.pc("isInvalid",e.checkIsInvalid("controlRemark")))},directives:[n.B,n.s,n.k,ne.a,ce.a,n.r,n.i,je.a,le.a],encapsulation:2}),t})();var Ae=i("kDLv");function Ge(t,e){if(1&t&&(Xt.Wb(0,"span"),Xt.Pc(1),Xt.Vb()),2&t){const t=e.$implicit;Xt.Cb(1),Xt.Qc(t.useYn?"Y":"N")}}function ye(t,e){if(1&t){const t=Xt.Xb();Xt.Wb(0,"app-bs-role-master-form",11),Xt.fc("closeEvent",(function(){return Xt.Fc(t),Xt.hc().closeAddRoleHandler()}))("submitEvent",(function(e){return Xt.Fc(t),Xt.hc().submitHandler(e)})),Xt.ic(1,"async"),Xt.Vb()}if(2&t){const t=Xt.hc();Xt.pc("rowItem",Xt.jc(1,1,t.selectedRowListItem$))}}const ke=function(t){return{useYnTpl:t}};let we=(()=>{class t{constructor(t,e,i,s){this.store=t,this._dataService=e,this._cd=i,this.alertService=s,this.unsubscribe$=new k.a,this.loading$=this.store.pipe(Object(r.u)(It)),this.searchCondition$=this.store.pipe(Object(r.u)(Wt)),this.gridDataList$=this.store.pipe(Object(r.u)(_t)),this.roleGridState$=this.store.pipe(Object(r.u)(Nt)),this.roleGridCheckedState$=this.store.pipe(Object(r.u)($t)),this.roleAuthGridState$=this.store.pipe(Object(r.u)(Dt)),this.roleAuthGridCheckedState$=this.store.pipe(Object(r.u)(Pt)),this.isOpenPopup$=this.store.pipe(Object(r.u)(Ft)),this.selectedRowListItem$=this.store.pipe(Object(r.u)(Yt)),this.selectedRoleAuthGroups$=this.store.pipe(Object(r.u)(xt)),this.columns=this._dataService.generateRoleGridColumns(),this._initSubscription()}ngOnInit(){}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete();const t=this.gridEl.checkedStateOutput;this.store.dispatch(s.setRoleGridStateAction({gridState:this.gridEl.thisGridState})),this.store.dispatch(s.setRoleGridCheckedStateAction({gridCheckedState:t}));const e=this.mappingGridEl.checkStateOutput;this.store.dispatch(s.setRoleAuthGridStateAction({gridState:this.mappingGridEl.thisGridState})),this.store.dispatch(s.setRoleAuthGridCheckedStateAction({gridCheckedState:e}))}clickSearchHandler({searchCondition:t}){this.store.dispatch(s.changeRoleSearchConditionAction({searchCondition:t})),this.store.dispatch(s.loadRoleListAction({condition:t})),this.store.dispatch(s.delSelectedRoleRowInfo())}clickResetHandler(){this.store.dispatch(s.changeRoleSearchConditionAction({searchCondition:{}}))}cellClickkRowHandler(t){this.store.dispatch(s.addSelectedRoleRowInfo({selectedRowInfo:L.cloneDeep(t)}))}dbClickRowHandler(t){this.cellClickkRowHandler(t),this.openAddRoleHandler()}clickAddRoleHandler(){this.store.dispatch(s.delSelectedRoleRowInfo()),this.openAddRoleHandler()}openAddRoleHandler(){this.store.dispatch(s.openRolePopup())}closeAddRoleHandler(){this.store.dispatch(s.closeRolePopup())}submitHandler(t){this.store.dispatch(s.upsertRoleInfoAction({condition:Object.assign({},t)}))}clickCopyHandler(){const t=this.gridEl.checkedDataList;L.isEmpty(t)?this.alertService.alert("There are no items selected."):t.length>1?this.alertService.alert("\ubcf5\uc0ac\ub294 \ud55c\ubc88\uc5d0 \ud55c\uac1c \ud56d\ubaa9\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4."):this.store.dispatch(s.copyRoleAction({condition:{originRoleSeq:t[0].roleSeq}}))}clickMappingHandler(t){this.store.dispatch(s.upsertRoleAuthGroupAction({condition:t}))}getMappingGridCheckedDataList(){return this.mappingGridEl.getCheckedDataList()}_initSubscription(){this.selectedRowListItem$.pipe(Object(w.a)(this.unsubscribe$)).subscribe(t=>{if(L.isEmpty(t));else{this.selectedRowSeq=t.roleSeq;const e=t.authGroups.map((t,e)=>Object.assign(Object.assign({},t),{rowid:String(e)}));this.store.dispatch(s.setSelectedRowAuthGroups({dataList:L.isEmpty(e)?[]:e}))}}),this.selectedRoleAuthGroups$.pipe(Object(w.a)(this.unsubscribe$)).subscribe(t=>{})}}return t.\u0275fac=function(e){return new(e||t)(Xt.Qb(r.h),Xt.Qb(oe),Xt.Qb(Xt.h),Xt.Qb(de.a))},t.\u0275cmp=Xt.Kb({type:t,selectors:[["app-bs-role-master"]],viewQuery:function(t,e){var i;1&t&&(Xt.Xc(re,!0),Xt.Xc(be,!0),Xt.Xc(Qt.a,!0)),2&t&&(Xt.Dc(i=Xt.gc())&&(e.searchFormEl=i.first),Xt.Dc(i=Xt.gc())&&(e.mappingGridEl=i.first),Xt.Dc(i=Xt.gc())&&(e.gridEl=i.first))},decls:24,vars:45,consts:[[3,"searchCondition","clickSearchEvent","clickResetEvent"],[1,"extend-grid-group","active"],[1,"base-grid"],[3,"loading","totalCount","clickCopyEvent","clickAddEvent"],["useYnTpl",""],["gridName","roleMasterGrid",3,"gridLoading","gridState","checkedState","columns","pageable","pageSize","checkboxUseYn","dataList","templates","cellClickEvent","dbClickRowEvent"],["gridEl",""],[1,"extend-grid"],[1,"grid-group",3,"selectedRoleSeq","gridState","gridCheckedState","selectedRoleAuthGroups","clickSaveEvent"],["modalSize","sm","modalContentClass","pd-all","header","ROLE Info.",3,"visible","modal","visibleChange"],[3,"rowItem","closeEvent","submitEvent",4,"ngIf"],[3,"rowItem","closeEvent","submitEvent"]],template:function(t,e){if(1&t&&(Xt.Wb(0,"app-bs-role-master-search",0),Xt.fc("clickSearchEvent",(function(t){return e.clickSearchHandler(t)}))("clickResetEvent",(function(){return e.clickResetHandler()})),Xt.ic(1,"async"),Xt.Vb(),Xt.Wb(2,"div",1),Xt.Wb(3,"div",2),Xt.Wb(4,"app-bs-role-master-control",3),Xt.fc("clickCopyEvent",(function(){return e.clickCopyHandler()}))("clickAddEvent",(function(){return e.clickAddRoleHandler()})),Xt.ic(5,"async"),Xt.ic(6,"async"),Xt.Vb(),Xt.Nc(7,Ge,2,1,"ng-template",null,4,Xt.Oc),Xt.Wb(9,"app-grid-basis",5,6),Xt.fc("cellClickEvent",(function(t){return e.cellClickkRowHandler(t)}))("dbClickRowEvent",(function(t){return e.dbClickRowHandler(t)})),Xt.ic(11,"async"),Xt.ic(12,"async"),Xt.ic(13,"async"),Xt.ic(14,"async"),Xt.Vb(),Xt.Vb(),Xt.Wb(15,"div",7),Xt.Wb(16,"app-bs-role-master-mapping",8),Xt.fc("clickSaveEvent",(function(t){return e.clickMappingHandler(t)})),Xt.ic(17,"async"),Xt.ic(18,"async"),Xt.ic(19,"async"),Xt.Vb(),Xt.Vb(),Xt.Vb(),Xt.Wb(20,"app-dialog",9),Xt.fc("visibleChange",(function(){return e.closeAddRoleHandler()})),Xt.ic(21,"async"),Xt.Nc(22,ye,2,3,"app-bs-role-master-form",10),Xt.ic(23,"async"),Xt.Vb()),2&t){const t=Xt.Ec(8);var i;const s=null==(i=Xt.jc(6,23,e.gridDataList$))?null:i.length;Xt.pc("searchCondition",Xt.jc(1,19,e.searchCondition$)),Xt.Cb(4),Xt.pc("loading",Xt.jc(5,21,e.loading$))("totalCount",s),Xt.Cb(5),Xt.pc("gridLoading",Xt.jc(11,25,e.loading$))("gridState",Xt.jc(12,27,e.roleGridState$))("checkedState",Xt.jc(13,29,e.roleGridCheckedState$))("columns",e.columns)("pageable",!1)("pageSize",1e5)("checkboxUseYn",!0)("dataList",Xt.jc(14,31,e.gridDataList$))("templates",Xt.uc(43,ke,t)),Xt.Cb(7),Xt.pc("selectedRoleSeq",e.selectedRowSeq)("gridState",Xt.jc(17,33,e.roleAuthGridState$))("gridCheckedState",Xt.jc(18,35,e.roleAuthGridCheckedState$))("selectedRoleAuthGroups",Xt.jc(19,37,e.selectedRoleAuthGroups$)),Xt.Cb(4),Xt.pc("visible",Xt.jc(21,39,e.isOpenPopup$))("modal",!0),Xt.Cb(2),Xt.pc("ngIf",Xt.jc(23,41,e.isOpenPopup$))}},directives:[re,ae,Qt.a,be,Ae.a,o.o,ue],pipes:[o.b],encapsulation:2}),t})();var Le=i("itXk"),Ee=i("zP0r"),Ve=i("Kj3r"),Ie=i("pLZG");function _e(t,e){if(1&t&&(Xt.Wb(0,"span"),Xt.Pc(1),Xt.Vb()),2&t){const t=e.$implicit;Xt.Cb(1),Xt.Qc(t.useYn?"Y":"N")}}function We(t,e){if(1&t){const t=Xt.Xb();Xt.Wb(0,"app-bs-role-sub-form",8),Xt.fc("submitEvent",(function(e){return Xt.Fc(t),Xt.hc().submitHandler(e)})),Xt.ic(1,"async"),Xt.ic(2,"async"),Xt.Vb()}if(2&t){const t=Xt.hc();Xt.pc("modifyFlag",t.modifyFlag)("authGroupTypeList",Xt.jc(1,3,t.authGroupTypeList$))("rowItem",Xt.jc(2,5,t.selectedAuthGroupRowInfo$))}}const Ne=function(t){return{useYnTpl:t}};let $e=(()=>{class t{constructor(t,e,i,s){this.store=t,this._dataService=e,this._cd=i,this.alertService=s,this._unsubscribe$=new k.a,this._isSearchClick=!1,this.showScreenSubGridView=!1,this.modifyFlag=!1,this.screenList$=this.store.pipe(Object(r.u)(Vt)),this.authGroupTypeList$=this.store.pipe(Object(r.u)(Et)),this.loading$=this.store.pipe(Object(r.u)(Tt)),this.authGroupSearchCondition$=this.store.pipe(Object(r.u)(Kt)),this.gridDataList$=this.store.pipe(Object(r.u)(Mt)),this.selectedAuthGroupRowInfo$=this.store.pipe(Object(r.u)(Ht)),this.selectedRoleAuthGroups$=this.store.pipe(Object(r.u)(xt)),this.isOpenPopup$=this.store.pipe(Object(r.u)(qt)),this.gridState$=this.store.pipe(Object(r.u)(Bt)),this.columns=this._dataService.generateAuthGroupGridColumns(),this._initSubscription()}ngOnInit(){}ngOnDestroy(){this._unsubscribe$.next(),this._unsubscribe$.complete(),this.store.dispatch(s.setAuthGroupGridStateAction({gridState:this.gridEl.thisGridState}))}clickSearchHandler({searchCondition:t}){this._isSearchClick=!0,this.store.dispatch(s.changeAuthGroupSearchConditionAction({searchCondition:t})),this.store.dispatch(s.loadAuthGroupListAction({condition:t})),this.store.dispatch(s.delSelectedAuthGroupRowInfo())}clickResetHandler(){this.store.dispatch(s.changeAuthGroupSearchConditionAction({searchCondition:{}}))}cellClickkRowHandler(t){this.modifyFlag=!0,this.store.dispatch(s.addSelectedAuthGroupRowInfo({selectedAuthGroupRowInfo:L.cloneDeep(t)}))}dbClickRowHandler(t){this.cellClickkRowHandler(t),this.openAddAuthGroupHandler()}clickAddAuthGroupHandler(){this.modifyFlag=!1,this.store.dispatch(s.delSelectedAuthGroupRowInfo()),this.openAddAuthGroupHandler()}openAddAuthGroupHandler(){this.store.dispatch(s.openAuthGroupPopup())}closeAddAuthGroupHandler(){this.store.dispatch(s.closeAuthGroupPopup())}submitHandler(t){this.store.dispatch(s.upsertAuthGroupAction({condition:Object.assign({},t)}))}getCheckedDataList(){return this.gridEl.checkedDataList}_initSubscription(){this.screenList$.pipe(Object(w.a)(this._unsubscribe$)).subscribe(t=>this.screenList=t),Object(Le.a)([this.authGroupSearchCondition$]).pipe(Object(Ee.a)(1),Object(Ve.a)(200),Object(Ie.a)(()=>!0===this._isSearchClick),Object(w.a)(this._unsubscribe$)).subscribe(([t])=>{this._isSearchClick=!1,this.store.dispatch(s.changeAuthGroupSearchConditionAction({searchCondition:t}))}),Object(Le.a)([this.gridDataList$,this.selectedRoleAuthGroups$]).pipe(Object(w.a)(this._unsubscribe$)).subscribe(([t,e])=>{if(L.isEmpty(t)||L.isEmpty(e))this.checkedState=null;else{const i=e.map(t=>t.authGroupSeq),s=t.filter(t=>i.indexOf(t.authGroupSeq)>-1).map(t=>t.rowid);this.checkedState={checkedRowids:s}}this._cd.markForCheck()}),this.selectedAuthGroupRowInfo$.pipe(Object(w.a)(this._unsubscribe$)).subscribe(t=>{var e,i;if(L.isEmpty(t))return this.showScreenSubGridView=!1,void(this.checkedScreenState={checkedRowids:null});if("SCN"===t.authGroupTypeCode){this.showScreenSubGridView=!0;let s=null;if((null===(e=t.screens)||void 0===e?void 0:e.length)>0){const e=t.screens.map(t=>t.screenSeq);s=null===(i=this.screenList)||void 0===i?void 0:i.filter(t=>e.indexOf(t.screenSeq)>-1).map(t=>t.rowid)}this.checkedScreenState={checkedRowids:s}}this._cd.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(Xt.Qb(r.h),Xt.Qb(oe),Xt.Qb(Xt.h),Xt.Qb(de.a))},t.\u0275cmp=Xt.Kb({type:t,selectors:[["app-bs-role-sub"]],viewQuery:function(t,e){var i;1&t&&Xt.Xc(Qt.a,!0),2&t&&Xt.Dc(i=Xt.gc())&&(e.gridEl=i.first)},decls:18,vars:38,consts:[[3,"authGroupSearchCondition","clickSearchEvent","clickResetEvent"],[3,"loading","totalCount","clickAddEvent"],["useYnTpl",""],["gridName","roleSubGrid",3,"gridLoading","gridState","checkedState","columns","pageSize","checkboxUseYn","dataList","templates","cellClickEvent","dbClickRowEvent"],[1,"mt20"],[3,"gridCheckedState","gridDataList"],["modalSize","sm","modalContentClass","pd-all","header","Auth Group Info.",3,"visible","modal","visibleChange"],[3,"modifyFlag","authGroupTypeList","rowItem","submitEvent",4,"ngIf"],[3,"modifyFlag","authGroupTypeList","rowItem","submitEvent"]],template:function(t,e){if(1&t&&(Xt.Wb(0,"app-bs-role-sub-search",0),Xt.fc("clickSearchEvent",(function(t){return e.clickSearchHandler(t)}))("clickResetEvent",(function(){return e.clickResetHandler()})),Xt.ic(1,"async"),Xt.Vb(),Xt.Wb(2,"app-bs-role-sub-control",1),Xt.fc("clickAddEvent",(function(){return e.clickAddAuthGroupHandler()})),Xt.ic(3,"async"),Xt.ic(4,"async"),Xt.Vb(),Xt.Nc(5,_e,2,1,"ng-template",null,2,Xt.Oc),Xt.Wb(7,"app-grid-basis",3),Xt.fc("cellClickEvent",(function(t){return e.cellClickkRowHandler(t)}))("dbClickRowEvent",(function(t){return e.dbClickRowHandler(t)})),Xt.ic(8,"async"),Xt.ic(9,"async"),Xt.ic(10,"async"),Xt.Vb(),Xt.Wb(11,"div",4),Xt.Rb(12,"app-bs-role-screen-code",5),Xt.ic(13,"async"),Xt.Vb(),Xt.Wb(14,"app-dialog",6),Xt.fc("visibleChange",(function(){return e.closeAddAuthGroupHandler()})),Xt.ic(15,"async"),Xt.Nc(16,We,3,7,"app-bs-role-sub-form",7),Xt.ic(17,"async"),Xt.Vb()),2&t){const t=Xt.Ec(6);Xt.pc("authGroupSearchCondition",Xt.jc(1,18,e.authGroupSearchCondition$)),Xt.Cb(2),Xt.pc("loading",Xt.jc(3,20,e.loading$))("totalCount",Xt.jc(4,22,e.gridDataList$).length),Xt.Cb(5),Xt.pc("gridLoading",Xt.jc(8,24,e.loading$))("gridState",Xt.jc(9,26,e.gridState$))("checkedState",e.checkedState)("columns",e.columns)("pageSize",20)("checkboxUseYn",!0)("dataList",Xt.jc(10,28,e.gridDataList$))("templates",Xt.uc(36,Ne,t)),Xt.Cb(5),Xt.Gb("hide",!e.showScreenSubGridView),Xt.pc("gridCheckedState",e.checkedScreenState)("gridDataList",Xt.jc(13,30,e.screenList$)),Xt.Cb(2),Xt.pc("visible",Xt.jc(15,32,e.isOpenPopup$))("modal",!0),Xt.Cb(2),Xt.pc("ngIf",Xt.jc(17,34,e.isOpenPopup$))}},directives:[ve,Re,Qt.a,Oe,Ae.a,o.o,Ce],pipes:[o.b],encapsulation:2}),t})(),De=(()=>{class t{constructor(t,e){this.store=t,this.alertService=e,this.unsubscribe$=new k.a,this.selectedRoleAuthGroups$=this.store.pipe(Object(r.u)(xt)),this._initSubscription()}ngOnInit(){this._requestCommonDetailCodes()}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.store.dispatch(s.initComponent())}onMoveToAdd(){const t=this.subEl.getCheckedDataList();if(L.isEmpty(t))return void this.alertService.alert("\uc120\ud0dd\ub41c \uad8c\ud55c \uadf8\ub8f9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.");if(L.isNil(this.masterEl.selectedRowSeq))return void this.alertService.alert("\uc120\ud0dd\ub41c ROLE \uc5c6\uc2b5\ub2c8\ub2e4.");const e=this.selectedRoleAuthGroups.map(t=>t.authGroupSeq),i=t.filter(t=>e.indexOf(t.authGroupSeq)<0).map(t=>({rowid:t.rowid,authGroupSeq:t.authGroupSeq,authGroupNameEn:t.authGroupNameEn,authGroupNameLn:t.authGroupNameLn,authGroupTypeCode:t.authGroupTypeCode,authGroupTypeName:t.authGroupTypeName}));this.store.dispatch(s.setSelectedRowAuthGroups({dataList:L.concat(this.selectedRoleAuthGroups,i)}))}onMoveToDel(){const t=this.masterEl.getMappingGridCheckedDataList();if(L.isEmpty(t))return void this.alertService.alert("\uc120\ud0dd\ub41c \uad8c\ud55c \uadf8\ub8f9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.");const e=t.map(t=>t.authGroupSeq),i=this.selectedRoleAuthGroups.filter(t=>e.indexOf(t.authGroupSeq)<0);this.store.dispatch(s.setSelectedRowAuthGroups({dataList:i}))}_requestCommonDetailCodes(){this.store.dispatch(s.loadScreenListAction()),this.store.dispatch(s.loadAuthGroupTypeListAction()),this.store.dispatch(s.loadRoleCodeListAction())}_initSubscription(){this.selectedRoleAuthGroups$.pipe(Object(w.a)(this.unsubscribe$)).subscribe(t=>this.selectedRoleAuthGroups=t)}}return t.\u0275fac=function(e){return new(e||t)(Xt.Qb(r.h),Xt.Qb(de.a))},t.\u0275cmp=Xt.Kb({type:t,selectors:[["app-bs-role"]],viewQuery:function(t,e){var i;1&t&&(Xt.Xc(we,!0),Xt.Xc($e,!0)),2&t&&(Xt.Dc(i=Xt.gc())&&(e.masterEl=i.first),Xt.Dc(i=Xt.gc())&&(e.subEl=i.first))},decls:8,vars:0,consts:[[1,"frame-wrap","move"],[1,"frame"],[1,"frame","move","mt100"],[1,"icon","sm","arrow-left",3,"click"],[1,"icon","sm","arrow-right",3,"click"]],template:function(t,e){1&t&&(Xt.Wb(0,"div",0),Xt.Wb(1,"div",1),Xt.Rb(2,"app-bs-role-master"),Xt.Vb(),Xt.Wb(3,"div",2),Xt.Wb(4,"a",3),Xt.fc("click",(function(){return e.onMoveToAdd()})),Xt.Vb(),Xt.Wb(5,"a",4),Xt.fc("click",(function(){return e.onMoveToDel()})),Xt.Vb(),Xt.Vb(),Xt.Wb(6,"div",1),Xt.Rb(7,"app-bs-role-sub"),Xt.Vb(),Xt.Vb())},directives:[we,$e],encapsulation:2}),t})();const Pe=[{path:"",component:De,data:{title:"ROLE\uad00\ub9ac"}}];let Fe=(()=>{class t{}return t.\u0275mod=Xt.Ob({type:t}),t.\u0275inj=Xt.Nb({factory:function(e){return new(e||t)},imports:[[y.f.forChild(Pe)],y.f]}),t})();var Ye=i("bOdf"),xe=i("zp1y"),Te=i("lJxs"),Ke=i("JIr8"),Me=i("vkgz"),Be=i("Xb6A");let qe=(()=>{class t{constructor(t,e,i,o,n){this.store=t,this._errorService=e,this.actions$=i,this.service=o,this.alertService=n,this.loadAuthGroupTypeList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(s.loadAuthGroupTypeListAction),Object(Ye.a)(t=>Object(zt.a)(t).pipe(Object(xe.a)(this.authGroupTypeList$))),Object(Jt.a)(([t,e])=>L.isEmpty(e)?this.service.getCommonDetailCodeList({masterCode:"BS026"}).pipe(Object(Te.a)(t=>s.loadAuthGroupTypeListSuccessAction({dataList:t})),Object(Ke.a)(t=>(this._catchErr(t,"List lookup failed."),[]))):[]))),this.loadScreenList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(s.loadScreenListAction),Object(Ye.a)(t=>Object(zt.a)(t).pipe(Object(xe.a)(this.screenList$))),Object(Jt.a)(([t,e])=>L.isEmpty(e)?this.service.getScreenCode({limits:[0,1e5]}).pipe(Object(Te.a)(t=>s.loadScreenListSuccessAction({dataList:t})),Object(Ke.a)(t=>(this._catchErr(t,"List lookup failed. Please try again in a momentarily."),[]))):[]))),this.loadRoleCodeList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(s.loadRoleCodeListAction),Object(Jt.a)(()=>this.service.getRoleList({}).pipe(Object(Te.a)(t=>s.loadRoleListSuccessAction({dataList:t})),Object(Ke.a)(t=>(this._catchErr(t,"List lookup failed."),[])))))),this.loadRoleList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(s.loadRoleListAction),Object(Jt.a)(({condition:t})=>this.service.getRoleList(t).pipe(Object(Te.a)(t=>s.loadRoleListSuccessAction({dataList:t})),Object(Ke.a)(t=>{const e="ROLE List lookup failed. Please try again in a momentarily.",i=[s.loadRoleListFailureAction({error:e})];return this._catchErr(t,e,i),[]}))))),this.upsertRoleInfo$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(s.upsertRoleInfoAction),Object(Ye.a)(t=>Object(zt.a)(t).pipe(Object(xe.a)(this.selectedRoleDetailInfo$))),Object(Jt.a)(([{condition:t},e])=>this.service.updateRole(t).pipe(Object(Te.a)(i=>({succeedYn:!0,resultList:i,selectedRoleDetailInfo:e,roleSearchCondition:t})),Object(Ke.a)(t=>Object(zt.a)({succeedYn:!1,error:t})))),Object(Me.a)(({succeedYn:t,resultList:e,selectedRoleDetailInfo:i,error:o})=>{if(t&&e.length>0){let t,e;L.isEmpty(i)?(t="Registration completed.",e=[s.upsertRoleInfoSuccessAction(),s.closeRolePopup(),s.loadRoleCodeListAction(),s.changeRoleSearchConditionAction({searchCondition:{}})]):(t="Modification completed.",e=[s.upsertRoleInfoSuccessAction(),s.closeRolePopup(),s.loadRoleCodeListAction()]),setTimeout(()=>{this._runPage(t,e)},500)}else{const t="Failed to save.",e=[s.upsertRoleInfoFailureAction({error:t})];this._catchErr(o,t,e)}})),{dispatch:!1}),this.upsertRoleAuthGroup$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(s.upsertRoleAuthGroupAction),Object(Ye.a)(t=>Object(zt.a)(t).pipe(Object(xe.a)(this.selectedRoleDetailInfo$))),Object(Jt.a)(([{condition:t},e])=>this.service.updateRoleAuthGroup(t).pipe(Object(Te.a)(t=>({succeedYn:!0,list:t.list,totalCount:t.totalCount})),Object(Ke.a)(t=>Object(zt.a)({succeedYn:!1,error:t})))),Object(Me.a)(({succeedYn:t,list:e,error:i})=>{var o;if(t){const t=(null===(o=e[0].authGroups)||void 0===o?void 0:o.length)>0?e[0].authGroups:[],i=Object.assign({},e[0],{authGroups:t}),n="Your save is complete.",c=[s.upsertRoleAuthGroupSuccessAction(),s.addSelectedRoleRowInfo({selectedRowInfo:i}),s.loadRoleCodeListAction()];this._runPage(n,c)}else this._catchErr(i,"Failed to save.")})),{dispatch:!1}),this.copyRole$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(s.copyRoleAction),Object(Jt.a)(({condition:t})=>this.service.copyRole(t).pipe(Object(Te.a)(t=>({succeedYn:!0,result:t})),Object(Ke.a)(t=>Object(zt.a)({succeedYn:!1,error:t})))),Object(Me.a)(({succeedYn:t,error:e})=>{if(t){const t="Copy completed.",e=[s.copyRoleSuccessAction(),s.loadRoleCodeListAction()];setTimeout(()=>{this._runPage(t,e)},500)}else this._catchErr(e,"Copy failed.")})),{dispatch:!1}),this.loadAuthGroupList$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(s.loadAuthGroupListAction),Object(Jt.a)(({condition:t})=>this.service.getAuthGroupList(t).pipe(Object(Te.a)(t=>s.loadAuthGroupListSuccessAction({dataList:t})),Object(Ke.a)(t=>{const e="List lookup failed. Please try again in a momentarily.",i=[s.loadAuthGroupListFailureAction({error:e})];return this._catchErr(t,e,i),[]}))))),this.upsertAuthGroup$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(s.upsertAuthGroupAction),Object(Jt.a)(({condition:t})=>this.service.updateAuthGroup(t).pipe(Object(Te.a)(t=>({succeedYn:!0,resultList:t})),Object(Ke.a)(t=>Object(zt.a)({succeedYn:!1,error:t})))),Object(Me.a)(({succeedYn:t,resultList:e,error:i})=>{if(t&&e.length>0){const t="Your save is complete.",e=[s.upsertAuthGroupSuccessAction(),s.loadAuthGroupListAction({condition:{}}),s.closeAuthGroupPopup()];this._runPage(t,e)}else this._catchErr(i,"Modification failed.")})),{dispatch:!1}),this.authGroupTypeList$=this.store.pipe(Object(r.u)(Et)),this.selectedRoleDetailInfo$=this.store.pipe(Object(r.u)(Yt)),this.screenList$=this.store.pipe(Object(r.u)(Vt))}_runPage(t,e){this.alertService.alert({message:t,accept:(null==e?void 0:e.length)>0?()=>{e.forEach(t=>{this.store.dispatch(t)})}:()=>{}})}_catchErr(t,e,i){const s=this._errorService.errorHandler(t,e);L.isNil(s)||(L.isNil(s.accept)&&(s.accept=(null==i?void 0:i.length)>0?()=>{i.forEach(t=>{this.store.dispatch(t)})}:()=>{}),this.alertService.alert(s))}}return t.\u0275fac=function(e){return new(e||t)(Xt.bc(r.h),Xt.bc(Be.a),Xt.bc(c.a),Xt.bc(se),Xt.bc(de.a))},t.\u0275prov=Xt.Mb({token:t,factory:t.\u0275fac}),t})();var He=i("YH7L");const Qe=[De,we,$e],Xe=[re,ae,ue,be,ve,Re,Oe,Ce];let ze=(()=>{class t{}return t.\u0275mod=Xt.Ob({type:t}),t.\u0275inj=Xt.Nb({factory:function(e){return new(e||t)},imports:[[o.c,n.m,n.w,a.m,l.a,u.a,d.a,p.a,h.a,b.a,m.a,g.a,f.a,O.a,S.a,v.a,R.a,j.a,C.a,A.a,G.a,Fe,He.a,r.j.forFeature("bsRole",At),c.b.forFeature([qe])]]}),t})()},nMd8:function(t,e,i){"use strict";i.d(e,"a",(function(){return g}));var s=i("fXoL"),o=i("3Pt+"),n=i("LvDl"),c=i("XNiG"),r=i("itXk"),a=i("1G5W"),l=i("pLZG"),u=i("YY+H"),d=i("kt0X"),p=i("ofXK");function h(t,e){if(1&t&&(s.Wb(0,"option",3),s.Pc(1),s.Vb()),2&t){const t=s.hc();s.pc("ngValue",null),s.Cb(1),s.Qc(t.useAllOptionName)}}function b(t,e){if(1&t&&(s.Wb(0,"option",3),s.Pc(1),s.Vb()),2&t){const t=e.$implicit,i=s.hc();s.pc("ngValue",t),s.Cb(1),s.Qc(i.displayKey?t[i.displayKey]:t)}}const m={provide:o.p,useExisting:Object(s.U)(()=>g),multi:!0};let g=(()=>{class t{constructor(t,e){this._store=t,this._cdr=e,this.useAllOptionYn=!0,this.useAllOptionName="All",this.dataKey="detailCode",this.onChange=new s.n,this._unsubscribe$=new c.a,this._options$=new c.a,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.selectedLanguage$=this._store.select(u.f)}get invalid(){return this.isInvalid}get disabled(){return this._disabled}set disabled(t){this._disabled=t}get options(){return this._options}set options(t){this._options=t,this._options$.next(t),this.updateSelectedOption(this.value)}ngOnInit(){this.updateSelectedOption(null),this._initSubscription()}ngAfterViewInit(){this.options&&this._options$.next(this.options)}ngOnDestroy(){this._options$.next(null),this._options$.complete(),this._unsubscribe$.next(),this._unsubscribe$.complete()}writeValue(t){this.value=t,this.updateSelectedOption(t)}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t}compareFn(t,e){return this.dataKey?t[this.dataKey]===e[this.dataKey]:t===e}selectItem(t){this.selectedOption=t,this.value=this._getValue(t),this.onModelChange(this.value),this.onChange.emit({value:this.value,option:t})}updateSelectedOption(t){this.selectedOption=this._findOption(t,this.options)}_findOption(t,e){return this.dataKey?n.find(e,e=>e[this.dataKey]===t)||null:t}_getValue(t){return n.isNil(t)?null:t[this.dataKey]}_initSubscription(){if(this.displayKey)return;let t=null;Object(r.a)([this.selectedLanguage$,this._options$]).pipe(Object(a.a)(this._unsubscribe$),Object(l.a)(([t,e])=>e&&e.length>0)).subscribe(([e,i])=>{let s;if(n.isNil(e)&&(e="EN"),!t&&i&&(t=e),t===e&&(this.displayKey=this.displayWord+"Ln",Object.keys(i[0]).includes(this.displayKey)))this._cdr.detectChanges();else{switch(e){case"EN":s=this._findDisplayKey(i,this.displayWord,["En"]);break;case"KO":s=this._findDisplayKey(i,this.displayWord,["Ko","Kr"]);break;case"JA":s=this._findDisplayKey(i,this.displayWord,["Ja","Jp"]);break;case"ZH":s=this._findDisplayKey(i,this.displayWord,["Zh","Cn"]);break;case"VI":s=this._findDisplayKey(i,this.displayWord,["Vi","Vn"])}this.displayKey=s||this.displayWord+"En",this._cdr.detectChanges()}})}_findDisplayKey(t,e,i){if(!t||0===t.length)return null;if(console.log(e,"displayWord"),!e)return null;const s=Object.keys(t[0]);for(const o of i){const t=e+o;if(s.includes(t))return t;if(s.includes(e))return t}return null}}return t.\u0275fac=function(e){return new(e||t)(s.Qb(d.h),s.Qb(s.h))},t.\u0275cmp=s.Kb({type:t,selectors:[["app-selectbox-detailcode"]],hostAttrs:[1,"select-box"],hostVars:2,hostBindings:function(t,e){2&t&&s.Gb("valid-error",e.invalid)},inputs:{name:"name",useAllOptionYn:"useAllOptionYn",useAllOptionName:"useAllOptionName",dataKey:"dataKey",displayKey:"displayKey",displayWord:"displayWord",isInvalid:"isInvalid",disabled:"disabled",options:"options"},outputs:{onChange:"onChange"},features:[s.Bb([m])],decls:3,vars:6,consts:[[3,"compareWith","ngModel","disabled","ngModelChange"],[3,"ngValue",4,"ngIf"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(t,e){1&t&&(s.Wb(0,"select",0),s.fc("ngModelChange",(function(t){return e.selectItem(t)})),s.Nc(1,h,2,2,"option",1),s.Nc(2,b,2,2,"option",2),s.Vb()),2&t&&(s.pc("compareWith",e.compareFn)("ngModel",e.selectedOption)("disabled",e.disabled),s.Db("name",e.name),s.Cb(1),s.pc("ngIf",e.useAllOptionYn),s.Cb(1),s.pc("ngForOf",e.options))},directives:[o.y,o.r,o.u,p.o,p.n,o.v,o.A],encapsulation:2}),t})()}}]);